<accordion close-others="false">
	<accordion-group is-open="false">
		<accordion-heading>Global Prefix</accordion-heading>
		<div ng-if="access.dbs.updatePrefix">
			<form name="databasePrefixForm" class="css-form" novalidate>
				<table width="30%">
					<tr>
						<td><b>Prefix</b></td>
						<td>
							<input type="text" name="prefix" ng-model="registry.dbs.config.prefix" class="form-control" placeholder="soajs_" tooltip="set or remove the database prefix value then click update."/>
						</td>
						<td valign="bottom" align="left">
							<input type="submit" class="btn btn-sm btn-primary f-left" value="Update" style="top:-2px;" ng-click="updateDbPrefix(registry.code, registry.dbs.config.prefix)"/>
						</td>
					</tr>
				</table>
			</form>
		</div>
	</accordion-group>
	<accordion-group is-open="false">
		<accordion-heading>Session</accordion-heading>
		<div ng-if="!registry.dbs.session">
			<a ng-click="addDatabase(registry.code,true)" class="btn btn-sm btn-primary">{{translation.addSessionDatabase[LANG]}}</a><br/><br/>
		</div>
		<ul class="blueListing" ng-if="registry.dbs.session">
			<li class="blueLi">
				<div class="c-both w-100">
					<h4 class="f-left">{{registry.dbs.session['name']}}</h4>
					<span class="rightActions">
	                <a ng-if="access.dbs.delete" href="" ng-confirm-click="{{translation.areYouSureYouWantRemoveSelectedDatabase[LANG]}}" ng-click="removeDatabase(registry.code, 'session');">
	                    <span class="icon icon-cross" tooltip="{{translation.removeDatabase[LANG]}}"></span>
	                </a>&nbsp;

	                <a ng-if="access.dbs.update" href="" ng-click="editSessionDatabase(registry.code, registry.dbs.session)">
	                    <span class="icon icon-pencil2" tooltip="{{translation.editDatabase[LANG]}}"></span>
	                </a>
	            </span>
				</div>
				<div class="c-both w-100">
					<span ng-show="registry.dbs.session['prefix']"><b>Prefix:</b>&nbsp;{{registry.dbs.session['prefix']}}<br/></span>
					<b>Cluster:</b>&nbsp;{{registry.dbs.session['cluster']}}<br/>
					<b>Collection:</b>&nbsp;{{registry.dbs.session['collection']}}<br/>
					<b>Expires After:</b>&nbsp;{{registry.dbs.session['expireAfter']|TTL}} ({{translation.hours[LANG]}})<br/>
					<b>stringify:</b>&nbsp;{{registry.dbs.session['stringify']}}<br/>
					<b>Store:</b>&nbsp;<span ng-bind-html="registry.dbs.session['store']|object"></span>
				</div>
			</li>
		</ul>
	</accordion-group>
	<accordion-group is-open="true">
		<accordion-heading>Databases</accordion-heading>
		
		<a ng-if="access.dbs.add" href="" ng-click="addDatabase(registry.code,false)" class="btn btn-sm btn-primary">{{translation.addNewDatabase[LANG]}}</a><br/><br/>
		<div class="entryBoxes entryBoxesGrid">
			<div ng-repeat="(dbName, dbInfo) in registry.dbs.databases track by dbName" class="dbBox">
				<div class="head">
					<h4>{{dbName}}</h4>
					<span class="rightActions">
	                <!--<a ng-if="access.dbs.update" href="" ng-click="editDatabase(registry.code, dbName, dbInfo);">-->
	                    <!--<span class="icon icon-pencil" tooltip="{{translation.editDatabase[LANG]}}"></span>-->
	                <!--</a>-->
	                <a ng-if="access.dbs.delete" href="" ng-confirm-click="{{translation.areYouSureYouWantRemoveSelectedDatabase[LANG]}}" ng-click="removeDatabase(registry.code, dbName);">
	                    <span class="icon icon-cross" tooltip="{{translation.removeDatabase[LANG]}}"></span>
	                </a>
	            </span>
				</div>
				<div class="info2">
					<b>Cluster:</b>&nbsp;{{dbInfo['cluster']}}<br/>
					<b>Tenant Specific:</b>&nbsp;{{dbInfo['tenantSpecific']}}
					<span ng-if="dbInfo['prefix']">
							<br/><b>Custom Prefix:</b>&nbsp;{{dbInfo['prefix']}}
						</span>
					<span ng-if="!dbInfo['prefix']">
							<span ng-if="registry.dbs.config && registry.dbs.config.prefix">
								<br/><b>Global Prefix:</b>&nbsp;{{registry.dbs.config.prefix}}
							</span>
						</span>
				</div>
			</div>
		</div>
	</accordion-group>
</accordion>

