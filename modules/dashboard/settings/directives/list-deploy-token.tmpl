<section ng-controller="soajsDeployAuthTokenCtrl" class="soajsDeployAuthTokenCtrl">
	<button class="btn btn-primary" type="button" aria-haspopup="true" aria-expanded="true" ng-click="addToken()">
		Add New Token
	</button>
	<div ng-if="tokens && tokens.length === 0">
		<br />
		<br />
		<alert type="warning">
			<p>No Auth Deployment Tokens found.
			</p>
		</alert>
	</div>
	<div ng-if="access.listTokens">
		<div ng-if="tokens && tokens.length > 0" >
			<br/><br/>
			<div ng-repeat="token in tokens" class="tokens-box" ng-class-odd="'oddRow'" ng-class-even="'evenRow'">
				<div>
					<label>{{token.label}}</label>&nbsp;<label ng-if="token.label" class="ownerLabel">(
					<span class="icon icon-user"></span>{{token.urac.username}} )</label>
					<em class="token-value">{{token.token}}</em>
					<div class="rightActions" style="display:inline;">
						
						<a href="" ng-if="access.changeTokenStatus && token.status === 'active'" class="btn btn-sm btn-primary" ng-click="changeTokenStatus(token, false)">
							<span class="icon icon-cross"></span>Deactivate
						</a>
						<a href="" ng-if="access.changeTokenStatus && token.status !== 'active'" class="btn btn-sm btn-success" ng-click="changeTokenStatus(token, true)">
							<span class="icon icon-checkmark"></span>Activate
						</a>
						<a href="" class="btn btn-sm btn-danger" ng-if="access.deleteToken" ng-click="deleteToken(token)" ng-confirm-click="Are you sure you want to delete this Deploy Auth Token?">
							<span class="icon icon-cross" tooltip="Delete Deploy Auth"></span>Remove
						</a>
						<a href="" class="btn btn-sm btn-danger" ng-if="!access.deleteToken" disabled>
							<span class="icon icon-cross" tooltip="Delete Deploy Auth Token"></span>Remove
						</a>
						<span ng-if="token.status === 'active'" class="icon icon-checkmark green tokenStatus"  tooltip="Activated"></span>
						<span ng-if="token.status !== 'active'" class="icon icon-cross red tokenStatus"  tooltip="Deactivate"></span>
					</div>
				</div>
			</div>
		</div>
	</div>

</section>
