<div class="modal-body">
	<div class="form">
		<div ng-show="alerts.length >0">
			<alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)"
			       dismiss-on-timeout="5000">
				{{alert.msg}}
			</alert>
			<br>
		</div>
		<form name="reconfigureRepo" id="reconfigureRepo">
			<div class="form-group">
				<div class="configCd entryBoxes entryBoxesGrid">
					<div class="modal-header cdFormHeader">
						<h3 class="modal-title capitalize">Redeploy {{service.name}} Deployment</h3>
					</div>
					<div class="body">
						<div class="form-g">
							<fieldset>
								<div  ng-if="src">
									<div ng-if="src.branch">
										<label>Branch:</label>
										<select class="form-control"
										        data-ng-model="src.branch"
										        ng-change="updateGitBranch(src.branch)"
										        ng-required="true">
											<option ng-repeat="myBranch in allowedBranches" value="{{myBranch}}">
												{{myBranch}}
											</option>
										</select>
										<br/><br/>
									</div>
									<div ng-if="src.branch">
										<label style="width: 27%">Commit:</label>
										<a style="cursor: pointer;" ng-click="updateGitBranch(configuration.src.branch)"><i class="icon icon-loop2"></i></a>
										<input type="text" class="form-control"
										       ng-model="src.commit"
										       ng-required="true" style="margin-left: 5px"/>
										<label class="fieldMsg">Specify the commit. Click refresh icon to get the latest commit.</label>
										<br/><br/>
									</div>
									<div ng-if="src.tag">
										<label>Tag:</label>
										<select class="form-control"
										        data-ng-model="src.tag"
										        ng-required="true">
											<option ng-repeat="myTag in allowedTags" value="{{myTag}}">
												{{myTag}}
											</option>
										</select>
										<br/><br/>
									</div>
								</div>
								<legend>Deployment Options</legend>
								<label>Image Tag</label>
								<input type="text" class="form-control" ng-model="image.tag"/>
								<div class="fieldMsg hint">Override the image tag if you want</div>
								<div ng-if="deployedImage && image.tag !== deployedImage.tag"
								     class="warningFieldMsg hint">Mismatch detected between Configuration and
									Deployment. Deployed Image Tag: <b>{{deployedImage.tag}}</b>
								</div>
								<br/>
							</fieldset>
						</div>
					</div>
				</div>
			</div>
		</form>
	</div>
	<div class="modal-footer">
		<button ng-show="isDeployed && access.marketplace.redeploy" ng-disabled="reconfigureRepo.$invalid" class="btn btn-info"
		        ng-click="redeploy(service, version)">
			Redeploy Service
		</button>
		<button class="btn btn-danger" ng-click="cancel()">Close</button>
	</div>
</div>