{"version":3,"sources":["i18n.js","soajs/libs/contextLib.js","soajs/helpers/AuthenticatedRoute.js","soajs/helpers/UnauthenticatedRoute.js","soajs/helpers/LoaderButton.js","soajs/helpers/index.js","soajs/libs/deepSetLib.js","soajs/libs/hooksLib.js","soajs/urac/components/Notifications/Notification.js","soajs/urac/components/Notifications/Notifications.js","soajs/urac/components/Notifications/NotificationManager.js","soajs/urac/components/Notifications/NotificationContainer.js","soajs/urac/components/JsonEditor/index.js","soajs/urac/components/JsonEditor/JsonEditor.js","soajs/urac/components/ThirdPartyLogin/ThirdPartyLogin.js","soajs/urac/components/ThirdPartyLogin/index.js","soajs/urac/services/LocalStorageService.js","config.js","soajs/urac/services/UracService.js","soajs/urac/services/OauthService.js","availableAbilities.js","soajs/urac/services/AbilitiesService.js","soajs/urac/containers/Login.js","soajs/urac/containers/ForgotPassword.js","soajs/urac/containers/ResetPassword.js","soajs/urac/containers/ChangePassword.js","soajs/urac/containers/ChangeEmail.js","soajs/urac/containers/ValidateChangeEmail.js","soajs/urac/containers/MyProfile.js","soajs/urac/containers/Signup.js","soajs/urac/containers/ValidateSignup.js","soajs/urac/containers/ThirdPartyLogin.js","soajs/urac/containers/index.js","images/emmp.png","components/Home/Home.js","components/NoAccess/NoAccess.js","components/NotFound/NotFound.js","services/Repositories.js","services/Marketplace.js","services/Console.js","services/Multitenant.js","services/Infra.js","services/Soaanalytics.js","services/Soamonitor.js","lib/AutoPagination.js","components/Reports/containers/ApiMetrics/charts/Programs.js","components/Reports/containers/ApiMetrics/charts/Methods.js","components/Reports/containers/ApiMetrics/charts/Groups.js","components/Reports/containers/ApiMetrics/lib/process.js","components/Reports/containers/ApiMetrics/ApiMetrics.js","components/Reports/containers/ApiCatalog/ApiCatalog.js","components/Reports/containers/ApiAcl/ApiAcl.js","soajs/urac/components/JsonModal/index.js","soajs/urac/components/JsonModal/JsonModal.js","components/Reports/containers/ApiMonitor/ApiMonitor.js","components/Reports/containers/ApiAnalytics/ApiAnalytics.js","components/Reports/Routes.js","components/Reports/Navigation.js","components/Reports/Reports.js","components/Catalogs/containers/Template/ConfigureModalGroups.js","components/Catalogs/containers/Template/ConfigureModalEnvironments.js","components/buttons/Delete.js","components/buttons/Add.js","components/Catalogs/containers/Template/ConfigureModalRecipes.js","components/Catalogs/containers/Template/ConfigureModal.js","components/buttons/Edit.js","components/buttons/Gear.js","components/buttons/Detail.js","components/Catalogs/containers/Template/Template.js","components/Catalogs/containers/Api/Api.js","components/Catalogs/containers/Custom/Custom.js","components/Catalogs/containers/Resource/EditModal.js","components/Catalogs/containers/Resource/AddModal.js","components/Catalogs/containers/Resource/DeleteModal.js","components/Catalogs/containers/Resource/Resource.js","components/Catalogs/containers/Daemon/Daemon.js","components/Catalogs/containers/Frontend/Frontend.js","components/Catalogs/containers/Config/Config.js","components/buttons/View.js","components/Catalogs/containers/Recipe/Recipe.js","components/Catalogs/containers/SoajsApi/SoajsApi.js","components/Catalogs/containers/SoajsFrontend/SoajsFrontend.js","components/Catalogs/containers/Template/SwaggerUI.js","components/Catalogs/containers/Template/Detail.js","components/buttons/Synchronise.js","components/buttons/TurnOff.js","components/buttons/TurnOn.js","components/Development/containers/Repositories/Repositories.js","components/Catalogs/containers/Recipe/RecipeRW.js","components/Catalogs/containers/Recipe/AddRecipe.js","components/Catalogs/containers/Recipe/EditRecipe.js","components/Catalogs/Routes.js","components/Catalogs/Navigation.js","components/Catalogs/Catalogs.js","components/Settings/containers/Users/DeleteModal.js","components/Settings/containers/Users/InfoModal.js","components/Settings/containers/Users/EditModal.js","components/Settings/containers/Users/AddModal.js","components/Settings/containers/Users/Users.js","components/Settings/containers/Groups/DeleteModal.js","components/Settings/containers/Groups/InfoModal.js","components/Settings/containers/Groups/EditModal.js","components/Settings/containers/Groups/AddModal.js","components/Settings/containers/Groups/Groups.js","components/Settings/containers/Packages/DeleteModal.js","components/Settings/containers/Packages/InfoModal/Ability/Granular.js","components/Settings/containers/Packages/lib/scopeAclLib.js","components/Settings/containers/Packages/InfoModal/Ability/Scope.js","components/Settings/containers/Packages/InfoModal/Ability/InfoModal.js","components/Settings/containers/Packages/InfoModal/API/Granular.js","components/Settings/containers/Packages/InfoModal/API/Scope.js","components/Settings/containers/Packages/InfoModal/API/InfoModal.js","components/Settings/containers/Packages/InfoModal/InfoModal.js","components/Settings/containers/Packages/AddModal.js","components/Settings/containers/Packages/EditModal.js","components/Settings/containers/Packages/AclModal/Granular.js","components/Settings/containers/Packages/AclModal/AclModal.js","components/buttons/Acl.js","components/Settings/containers/Packages/Packages.js","components/Settings/containers/Authentication/Authentication.js","components/Settings/containers/Integration/Integration.js","components/Settings/containers/ContinousDelivery/Configuration.js","components/Settings/containers/ContinousDelivery/AddModal.js","components/Settings/containers/ContinousDelivery/Tokens.js","components/Settings/containers/Notifications/Notifications.js","components/Settings/containers/Infrastructure/ConfigureModalGroups.js","components/Settings/containers/Infrastructure/ConfigureModal.js","components/Settings/containers/Infrastructure/DeleteModal.js","components/Settings/containers/Infrastructure/AddModal.js","components/Settings/containers/Infrastructure/UpdateModal.js","components/Settings/containers/Infrastructure/Infrastructure.js","components/Development/containers/Accounts/AddAccount.js","components/Development/containers/Accounts/UpgradeModal.js","components/Development/containers/Accounts/DeleteModal.js","components/buttons/Upgrade.js","components/Development/containers/Accounts/Accounts.js","components/Settings/Routes.js","components/Settings/Navigation.js","components/Settings/Settings.js","components/Development/Routes.js","components/Development/Navigation.js","components/Development/Development.js","components/Environments/containers/Settings/Manual.js","components/Environments/containers/Settings/NamespaceModal.js","components/Environments/containers/Settings/Container.js","components/Environments/containers/Settings/ConfigureModalGroups.js","components/Environments/containers/Settings/ConfigureModal.js","components/Environments/containers/Settings/DeleteModal.js","components/Environments/containers/Settings/Settings.js","components/Environments/containers/Cluster/Rbac/Rbac.js","components/Environments/containers/catalog/common/container/modals/JsonModal.js","components/Environments/containers/catalog/common/container/Nodes.js","components/Environments/containers/Cluster/Nodes/Nodes.js","components/Environments/containers/catalog/common/container/modals/LogModal.js","components/Environments/containers/catalog/common/container/modals/ExecModal.js","components/Environments/containers/catalog/common/container/modals/MetricsModal.js","components/Environments/containers/catalog/common/container/modals/DeleteModal.js","components/Environments/containers/catalog/common/container/modals/EditModal.js","components/Environments/containers/catalog/common/container/Pods.js","components/Environments/containers/catalog/common/container/Deployments.js","components/Environments/containers/catalog/common/container/Daemonsets.js","components/Environments/containers/catalog/common/container/Cronjobs.js","components/Environments/containers/catalog/common/container/Hpas.js","components/Environments/containers/catalog/common/container/modals/AddModal.js","components/Environments/containers/Cluster/Workloads/Workloads.js","components/Environments/containers/catalog/common/container/Services.js","components/Environments/containers/Cluster/Services/Services.js","components/Environments/containers/Cluster/Storage/Storage.js","components/Environments/containers/catalog/common/container/Secrets.js","components/Environments/containers/catalog/common/container/modals/AddSecretWizardModal.js","components/buttons/AddWizard.js","components/Environments/containers/Cluster/Configuration/Configuration.js","components/Environments/containers/Cluster/Routes.js","components/Environments/containers/Cluster/Cluster.js","components/Environments/containers/Registry/DefaultView.js","components/Environments/containers/Registry/DefaultEdit.js","components/Environments/containers/Registry/Awareness.js","components/Environments/containers/Registry/Resource/ConfigureModalGroups.js","components/Environments/containers/Registry/Resource/ConfigureModal.js","components/Environments/containers/Registry/Resource/DeleteModal.js","components/Environments/containers/Registry/Resource/AddModal.js","components/Environments/containers/Registry/Resource/UpdateModal.js","components/Environments/containers/Registry/Resource/Resource.js","components/Environments/containers/Registry/Custom/ConfigureModalGroups.js","components/Environments/containers/Registry/Custom/ConfigureModal.js","components/Environments/containers/Registry/Custom/DeleteModal.js","components/Environments/containers/Registry/Custom/AddModal.js","components/Environments/containers/Registry/Custom/UpdateModal.js","components/Environments/containers/Registry/Custom/Custom.js","components/Environments/containers/Registry/DatabasesDeleteModal.js","components/Environments/containers/Registry/DatabasesAddModal.js","components/Environments/containers/Registry/Databases.js","components/Environments/containers/Registry/ThrottlingAddModal.js","components/Environments/containers/Registry/Throttling.js","components/buttons/Close.js","components/Environments/containers/Registry/Registry.js","components/Environments/containers/Add/Add.js","components/Environments/containers/catalog/Template/Template.js","components/Environments/containers/catalog/common/ManualHeader.js","components/Environments/containers/catalog/common/modal/JsonModal.js","components/Environments/containers/catalog/common/MaintenanceOperation.js","components/Environments/containers/catalog/common/ManualDetails.js","components/Environments/containers/catalog/common/modal/DeleteModal.js","components/Environments/containers/catalog/common/modal/getTemplate.js","components/Environments/containers/catalog/common/modal/RedeployModal.js","components/Environments/containers/catalog/common/modal/ConfigureModal.js","components/Environments/containers/catalog/common/ServiceOperation.js","components/Environments/containers/catalog/common/ContainerDetails.js","components/Environments/containers/catalog/soajs/Api/Api.js","components/Environments/containers/catalog/soajs/Frontend/Frontend.js","components/Environments/containers/catalog/Api/Api.js","components/Environments/containers/catalog/Daemon/Daemon.js","components/Environments/containers/catalog/Frontend/Frontend.js","components/Environments/containers/catalog/Custom/Custom.js","components/Environments/containers/catalog/Resource/Resource.js","components/Environments/Routes.js","components/Environments/Navigation.js","components/Environments/Environments.js","components/buttons/Uninvite.js","components/Multitenancy/containers/Users/containers/TenantUsers.js","components/Multitenancy/containers/Users/containers/TenantGroups.js","components/Multitenancy/containers/Users/Users.js","components/Multitenancy/containers/Products/DeleteModal.js","components/Multitenancy/containers/Products/AddModal.js","components/Multitenancy/containers/Products/UpdateModal.js","components/Multitenancy/containers/Products/AddPackageModal.js","components/Multitenancy/containers/Products/UpdatePackageModal.js","components/Multitenancy/containers/Products/Products.js","components/Multitenancy/containers/Products/PackageAcl.js","components/Multitenancy/containers/tenants/common/DeleteModal.js","components/Multitenancy/containers/tenants/common/ConfigureKeyModal.js","components/Multitenancy/containers/tenants/common/ConfigureExtKeyModal.js","components/Multitenancy/containers/tenants/common/OauthModal.js","components/Multitenancy/containers/tenants/common/AddTenantModal.js","components/Multitenancy/containers/tenants/common/AddApplicationModal.js","components/Multitenancy/containers/tenants/common/AddExtKeyModal.js","components/Multitenancy/containers/tenants/common/UpdateTenantModal.js","components/Multitenancy/containers/tenants/common/UpdateApplicationModal.js","components/Multitenancy/containers/tenants/Main/Main.js","components/Multitenancy/containers/tenants/Sub/Sub.js","components/Multitenancy/Routes.js","components/Multitenancy/Navigation.js","components/Multitenancy/Multitenancy.js","Routes.js","soajs/libs/Interceptors.js","Navigation.js","favicon.png","App.js","reportWebVitals.js","index.js"],"names":["i18n","use","LanguageDetector","initReactI18next","init","fallbackLng","debug","interpolation","escapeValue","resources","EN","common","common_en","urac","urac_en","organization","organization_en","soajs","soajs_en","FR","common_fr","urac_fr","organization_fr","soajs_fr","AppContext","createContext","createContextualCan","Consumer","useAppContext","useContext","AuthenticatedRoute","children","rest","useLocation","pathname","search","isAuthenticated","allowed","ability","cannot","path","to","UnauthenticatedRoute","redirect","name","url","window","location","href","replace","results","RegExp","exec","decodeURIComponent","querystring","LoaderButton","isLoading","className","disabled","props","Button","deepSet","obj","is","value","split","length","undefined","slice","useFormFields","initialState","useState","fields","setValues","event","target","id","newState","result","_","merge","Notification","componentDidMount","timeOut","timer","setTimeout","requestHide","componentWillUnmount","clearTimeout","handleClick","onClick","onRequestHide","this","type","message","title","classnames","role","React","Component","defaultProps","EntryContainer","nodeRef","useRef","CSSTransition","ref","Notifications","handleRequestHide","notification","notifications","enterTimeout","leaveTimeout","items","map","i","key","Date","getTime","classNames","timeout","enter","exit","TransitionGroup","Constants","listNotify","notify","defaultNotify","c","r","Math","random","toString","priority","unshift","Object","assign","push","emitChange","create","filter","n","emit","callback","addListener","removeListener","EventEmitter","NotificationContainer","state","NotificationManager","addChangeListener","handleStoreChange","removeChangeListener","setState","remove","JsonEditor","options","templates","mode","modes","onChangeJSON","onChange","jeditor","get","e","_jsoneditor","container","set","json","destroy","update","elem","ThirdPartyLogin","strategies","isThirdParty","onRequest","strategy","block","size","variant","Jumbotron","LocalStorageService","_service","getService","setUserKeyACL","acl","index","acl_cached","localStorage","getItem","JSON","parse","setItem","stringify","getUserKeyACL","setToken","tokenObj","access_token","refresh_token","getAccessToken","getRefreshToken","clearToken","removeItem","clearUser","setUsername","username","getUsername","setUserid","getUserid","setFirstrname","firstname","getFirstname","config","localStorageService","UracService","changePassword","password","newPassword","confirmNewPassword","userid","axios","put","then","res","data","Promise","resolve","reject","Error","catch","forgotPassword","changeEmail","email","signup","post","firstName","lastName","error","response","errors","codes","includes","updateMyProfile","profile","record","getUser","user","_id","getUserId","extKey","opt","getUsersId","ids","validateJoin","token","emailToken","resetPassword","validateChangeEmail","getUserACL","cacheIndex","substr","getUsers","scope","criteria","headers","params","keywords","limit","start","getUsersCount","getGroup","getGroups","deleteGroup","delete","deleteUser","uninviteUser","failed","Array","isArray","reason","inviteUser","groups","indexOf","Config","alreadyInvited","addUser","editUser","updateUser","status","editGroup","group","description","packages","addGroup","code","checkIfUserExist","getUsersProxy","env","toLowerCase","getGroupsProxy","getUsersCountProxy","OauthService","login","logout","availableLogin","thirdPartyLogin","validateThirdPartyLogin","APIs","uracService","updateAbility","a","AbilityBuilder","can","rules","userACL","finalACL","abilityAdded","abilities","services","keys","allAPiAvailable","versions","apisPermission","methods","j","apis","k","enableThisAbility","l","I","A","console","log","M","AbilitiesService","createUserAbilities","on","updateUserAbilities","oauthService","abilitiesService","Login","t","useTranslation","userHasAuthenticated","setFirstName","setIsLoading","setIsThirdParty","loginOptions","setLoginOptions","handleFieldChange","preventDefault","useEffect","isSubscribed","onLoad","Form","onSubmit","Group","controlId","Label","Control","autoFocus","Text","muted","thirdparty","ForgotPassword","success","ResetPassword","history","useHistory","URLSearchParams","handleSubmit","ChangePassword","ChangeEmail","newEmail","confirmNewEmail","ValidateChangeEmail","validating","setValidating","validatingMsg","setValidatingMsg","valid","warning","MyProfile","setFields","readOnly","Signup","confirmPassword","ValidateSignup","useParams","thirdPartyParams","confirmationMsg","setConfirmationMsg","Home","style","Alert","Badge","Card","bg","Header","Body","Row","Col","alt","src","Emmp","NoAccess","NotFound","resolveErrorResponse","msg","details","RepositoriesService","getGitBranch","getGitAccount","getGitAccounts","getRepositories","addGitAccount","deleteGitAccount","syncGitAccount","upgradeGitAccount","deleteRepository","owner","provider","turnOnRepository","turnOffRepository","syncRepository","turnOnBranch","branch","turnOffBranch","syncBranch","turnOnTag","tag","turnOffTag","getTag","getTags","count","MarketplaceService","getItems","subType","getRecipes","getRecipesByIds","updateSettingsGroups","updateSettingsRecipes","recipes","updateSettingsEnvironments","environments","itemMaintenance","qs","version","operation","port","addRecipe","updateRecipe","redeploy","imageTag","image","commit","from","deleteConfigure","configure","build","addResource","deleteItem","ConsoleService","getLedger","skip","getThrottlingRegistry","getCustomRegistry","getResourceRegistry","getEnvironments","getEnvironment","getEnvironmentSettings","saveEnvironmentAcl","deleteEnvironmentAcl","getRegistryDeployer","updateEnvironmentNamespace","namespace","getRegistry","addEnvironment","settings","deleteEnvironment","deleteCustomRegistry","saveCustomRegistryAcl","deleteCustomRegistryAcl","deleteResourceRegistry","saveResourceRegistryAcl","deleteResourceRegistryAcl","unplugPlugCustom","plugged","unplugPlugResource","addCustom","updateCustom","updateResource","updateRegistry","updateDBPrefix","addDB","deleteDB","updateThrottling","MultitenantService","getMyConsoleProduct","getProduct","getProducts","getTenants","getTenantSubTenants","editConsolepackage","addConsolepackage","deleteConsolepackage","editConsolePackageAclEnv","deleteTenant","deleteTenantApplication","deleteTenantApplicationKey","deleteTenantApplicationKeyExt","addTenant","addTenantApplicationKey","addApplication","addTenantExtKey","addProduct","updateProduct","deleteProduct","addPackage","updatePackage","deletePackage","updateTenant","updateApplication","updateTenantApplicationKey","updateTenantApplicationExtKey","updateTenantOauth","updatePackageAcl","_getByType","continue","_updateByType","body","_addByType","_deleteByType","addSecretRegistryWizard","content","addSecretWizard","getServices","getClusters","getWorkloads","getConfigurations","inspect","item","getManualAwareness","getNamespaces","getInfraAccounts","deleteInfraAccount","saveInfraAccountAcl","deleteInfraAccountAcl","addInfraAccount","label","ca","configuration","updateInfraAccount","podExec","commands","processResult","podLog","restart","addWorkload","updateWorkload","deleteWorkload","_deletePod","addService","updateService","deleteService","addConfiguration","deleteConfiguration","getCDTokens","deleteCDToken","updateCDToken","addToken","SoaanalyticsService","getApis","getDashboardApis","getDashboardServices","getAPIACLUsage","getAPIACLUsageTenants","SoamonitorService","getMonitorItems","consoleEnvironment","proxyRoute","getMonitorAnalytics","AutoPagination","currentPage","totalItems","maxSize","itemsPerPage","numberOfPages","ceil","pages","floor","clicked","p","Pagination","First","Prev","Ellipsis","_o","_i","Item","active","Next","Last","myPatterns","datum","ProgramsChart","margin","top","right","bottom","left","innerRadius","padAngle","cornerRadius","colors","scheme","borderWidth","borderColor","modifiers","radialLabelsSkipAngle","radialLabelsTextColor","radialLabelsLinkColor","sliceLabel","sliceLabelsSkipAngle","sliceLabelsTextColor","defs","background","color","padding","stagger","rotation","lineWidth","spacing","fill","match","d","legends","myColors","MethodsChart","myColor","anchor","direction","justify","translateX","translateY","itemsSpacing","itemWidth","itemHeight","itemTextColor","itemDirection","itemOpacity","symbolSize","symbolShape","effects","GroupsChart","indexBy","layout","valueScale","indexScale","round","axisTop","axisRight","labelSkipWidth","labelSkipHeight","enableGridX","enableGridY","labelTextColor","animate","motionStiffness","motionDamping","_methods","process","holder","_d1","_d2","g","hasOwnProperty","_d3","m","v","sumMethods","program","programs","uniqWith","arrVal","othVal","serviceName","_process","soaanalyticsService","CustomToggle","eventKey","decoratedOnClick","useAccordionToggle","initCriteria","setPagination","setFacets","includeSOAJS","serviceGroup","tags","attributes","dataProcessed","ApiMetrics","activeKey","setActiveKey","facets","setCurrentPage","setCriteria","pagination","handleCriteriaChange","checked","page","handleSearch","xs","placeholder","as","defaultValue","Check","defaultChecked","Accordion","Collapse","CardDeck","pullAll","onChangeProgram","onChangeTag","attribute","onChangeAttribute","Table","responsive","striped","hover","srv","join","reLoad","methodVariant","getMethodVariant","method","route","serviceVersion","records","ApiCatalog","api","toUpperCase","ApiAcl","selectedAPI","setSelectedAPI","usage","setUsage","usageTenants","setUsageTenants","tenant","keyword","md","getACLUsage","service","rec","found_in_scope","envs","found_in_package","pack","getACLUsageTenants","tenants","ten","applications","app","package","JsonModal","modalOpt","setModalOpt","handleClose","Modal","show","onHide","animation","closeButton","Title","Footer","consoleService","soamonitorService","ApiMonitor","setItems","setEnvironments","selectedEnv","setSelectedEnv","selectedMsg","setSelected","showJson","input","modalOptShow","threshold","dateFrom","dates","dateTo","_environments","DropdownButton","Dropdown","handleSelectEnv","min","parseInt","selected","dp","toISOString","time","total","ts","application","product","query","ApiAnalytics","itemsApi","setItemsApi","itemsService","setItemsService","itemsUser","setItemsUser","itemsTenant","setItemsTenant","filters","tenantCode","year","month","day","y","getFullYear","getMonth","getDate","max_time_total","min_time_total","tenant_id","tenant_code","urac_id","urac_username","urac_email","Routes","rootPath","render","Navigation","Navbar","collapseOnSelect","expand","Toggle","aria-controls","Nav","NavDropdown","Reports","Container","marketplaceService","ConfigureModalGroups","handleAction","setGroups","whitelistBlacklist","what","_groups","oo","onChangeGroup","ConfigureModalEnvironments","onChangeEnvironment","Delete","OverlayTrigger","placement","overlay","Tooltip","Add","setRecipes","_recipes","ConfigureModalRecipes","recipesAllowed","setRecipesAllowed","_recipesAllowed","_res","column","subtype","recipe","pullAllBy","removeRecipeFromAllow","addRecipeToAllow","reload","ConfigureModal","handleAfterSubmit","Tabs","defaultActiveKey","Tab","turnOffRecipesConfiguration","Edit","Gear","Detail","Template","Children","addItem","editItem","lg","xl","handleModalShow","uri","handleDetailShow","borderBottom","_O","_I","lastSync","branches","Details","Api","Custom","EditResourceModal","fieldsInit","_json_soa","AddResourceModal","readme","release","soa","rows","validateForm","DeleteModal","Resource","addModalOpt","setAddModalOpt","updateModalOpt","setUpdateModalOpt","deleteModalOpt","setDeleteModalOpt","cb","handleUpdateShow","handleDeleteShow","Daemon","Frontend","View","Recipe","locked","SoajsApi","SoajsFrontend","SwaggerUI","SwaggerUi","dom_id","spec","presets","prevProps","ver","localVer","Swagger","swagger","Readme","documentation","source","Release","metadata","ListGroup","ListGroupItem","requestTimeout","requestTimeoutRenewal","_ver","Synchronise","TurnOff","TurnOn","repositoriesService","Branches","synBranch","border","Tags","repository","showTagsFor","showTagsForList","searchTag","OnMsgModal","onModalOpt","setOnModalOpt","opts","textSearch","leaf","repositories","Repositories","setShowTagsFor","setShowTagsForList","showOnMsgModal","onTabSelect","tagList","findIndex","concat","onSelect","T","_json_readiness","_json_liveness","_json_securityContext","_json_voluming","_json_ports","_json_labels","_json_execCommands","RecipeRW","starterFields","itemId","itemModel","deployOptions","readinessProbe","liveinessProbe","securityContext","voluming","ports","labels","execCommands","buildOptions","default","fieldMsg","secret","handleFieldEnvChange","getVolume","kubernetes","prefix","repositoryType","pullPolicy","shell","override","binary","cmd","deploy","command","args","envModel","splice","deleteEnvEntry","computeVaribales","_examples","livenessProbe","deletePortEntry","port_onChange","deleteVolumeEntry","voluming_onChange","AddRecipe","EditRecipe","pod","o","alignRight","Catalogs","timestamp","dateStr","date","InfoModal","lastLogin","EditModal","groupsFields","setGroupsFields","_g","_item","sm","pull","AddModal","groupFields","setGroupFields","users","usersCount","Users","modalInfoOpt","setModalInfoOpt","modalDeleteOpt","setModalDeleteOpt","modalEditOpt","setModalEditOpt","modalAddOpt","setModalAddOpt","nowrap","productFields","setProductFields","allowedPackages","packCode","prodCode","multitenantService","setMyProduct","Groups","myProduct","DisplayAbility","apiAbility","available","isPublic","Granular","abilityPath","convert_scope_method_acl","tempScopeCursor","ACL","apisRegExp","getACL","tempScope","tempPack","tempPackCursor","access","found_methods_in_package","apigroup","Scope","aclTypeByEnv","getApiAccess","setFSelectedEnv","turnOffAbilityView","viewMode","_TTL","addAbility","removeAbility","getAllServiceAbilitiesAcl","AclModal","initialized","setInitialized","Acl","Packages","modalAclOpt","setModalAclOpt","modalInfoOptShow","convertedPack","initializeACL","Authentication","Integration","Configuration","infraService","InfraService","Tokens","updateToken","deleteToken","getHours","getMinutes","getSeconds","section","action","locator","output","who","isGroupSelected","_json","UpdateModal","_ca","Infrastructure","deployments","_GITHUB_","_BITBUCKET_","_BITBUCKET_ENT_","_PERSONAL_","_PUBLIC_","_PRIVATE_","AddAccount","fieldProvider","setFieldProvider","fieldAccessType","setFieldAccessType","fieldDomain","setFieldDomain","consumerKey","consumerSecret","accountType","Provider","icon","UpgradeModal","modalFields","setModalFields","Upgrade","Organizations","organizations","gitAccounts","Accounts","syncAccount","domain","Divider","Settings","Development","Manual","environment","deployer","manual","nodes","NamespaceModal","namespaces","setNamespaces","ns","setSettings","Rbac","Nodes","creationTimestamp","setMode","remainingItemCount","LogModal","logResponse","setLogResponse","ExecModal","execResponse","setExecResponse","MetricsModal","getLastValidStatus","lastValidStatus","conditions","oneCond","d_set","lastTransitionTime","Pods","logModalOpt","setLogModalOpt","execModalOpt","setExecModalOpt","metricsModalOpt","setMetricsModalOpt","kind","phase","Deployments","Daemonsets","Cronjobs","Hpas","Workloads","Services","Storage","Secrets","initModel","AddSecretWizardModal","server","text","file","required","File","files","fileReader","FileReader","onloadend","readAsText","AddWizard","modalAddWizardOpt","setModalAddWizardOpt","Cluster","DefaultViewRegistry","registry","protocol","apiPrefix","minWidth","awareness","cacheTTL","healthCheckInterval","autoRelaodRegistry","maxLogCount","autoRegisterService","cors","enabled","credentials","origin","maxage","controller","authorization","maintenanceInc","randomInc","logger","oauth","grants","getUserFromToken","accessTokenLifetime","refreshTokenLifetime","DefaultEditRegistry","sitePrefix","Awareness","created","jsonFields","setJsonFields","sharedEnvs","setSharedEnvs","handleSharedEnvsChange","_sharedEnvs","shared","category","_sharedEns","_data","schema","handleCategoryChange","reloadClusters","plugUnplug","valueText","DatabasesDeleteModal","DatabasesAddModal","clusters","cluster","tenantSpecific","prefixFieldInit","Databases","prefixField","setPrefixField","dbs","databases","db","ThrottlingAddModal","retries","delay","Throttling","publicAPIStrategy","privateAPIStrategy","deleteThrottling","Close","setRegistry","Registry","registryDefaultEdit","setRegistryDefaultEdit","accounts","setAccounts","ip","acc","reloadItem","deactivate","ManualHeader","manualAwareness","add2Header","healthy","selectedPod","setSelectedPod","MaintenanceOperation","itemName","itemType","handleMaintenance","maintenance","readiness","ManualDetails","host","getSourcesFromConfiguration","imagePrefix","imageName","getSourcesFromContainer","template","containers","getTemplate","daemonsets","cronjobs","jobTemplate","getLastCommit","itemSrc","repo","RedeployModal","inspectInfo","configInfo","deployConfiguration","srcType","availableSrc","processAndAutoFill","recipeID","allowedRecipies","getRecipeFromAllowed","repoId","initFields","recipeId","branchOrTag","cd","memory","replicas","concurrencyPolicy","schedule","restartPolicy","portType","showPortType","isPublished","values","published","_keywords","getRecipeIDFromTemplate","wizardStep","setWizardStep","handleFieldPortChange","buildConfigureData","recipeIDs","configRecipeID","deployRecipeID","itemSettings","union","selectRecipe","deployed","ServiceOperation","modalDeleteOptShow","modalRedeployOpt","setModalRedeployOpt","modalDeployOpt","setModalDeployOpt","modalDeployOptShow","setInspect","setDeployed","setKind","setName","ContainerDetails","setInspected","hpas","pods","getDeployConfiguration","deployment","setManualAwareness","setEnvironment","setUri","Brand","setClusters","_clusters","Environments","Uninvite","PrintGroups","tenantId","allowedTenants","getTenantGroups","TenantUsers","fetch","TenantGroups","criteriaModel","getTenantExtKey","extKeys","forEach","oneApp","oneKey","oneExt","substring","mainTenantItems","setMainTenantItems","subTenantItems","setSubTenantItems","mainTenantKeys","setMainTenantKeys","subTenantKeys","setSubTenantKeys","keywords_mainTenant","reLoad_SubTenant","mainTenant","keywords_subTenant","reset","subTenant","mainTenantExtKey","subTenantExtKey","tenantType","AddPackageModal","UpdatePackageModal","Products","modalUpdateProductOpt","setModalUpdateProductOpt","modalAddProductOpt","setModalAddProductOpt","modalUpdatePackageOpt","setModalUpdatePackageOpt","modalAddPackageOpt","setModalAddPackageOpt","isApiAdded","fieldsPackage","onLoadApi","setFieldsApi","setFieldsPackage","setFieldsEnvironments","PackageAcl","fieldsEnvironments","fieldsApi","reLoadApi","addAPI","apiGroup","tabClassName","removeAPI","updateAPI","appId","ConfigureKeyModal","envCode","configAllEnv","ConfigureExtKeyModal","expDate","extKeyEnv","device","geo","OauthModal","oauthType","AddTenantModal","mainTenantName","AddApplicationModal","setPackages","products","setProducts","productCode","packageCode","AddExtKeyModal","UpdateTenantModal","UpdateApplicationModal","getTenantLabel","Main","modalKeyConfigurationOpt","setModalKeyConfigurationOpt","modalExtKeyConfigurationOpt","setModalExtKeyConfigurationOpt","modalOauthOpt","setModalOauthOpt","modalAddTenantOpt","setModalAddTenantOpt","modalAddTenantOptShow","modalAddApplicationOpt","setModalAddApplicationOpt","modalAddExtKeyOpt","setModalAddExtKeyOpt","modalUpdateTenantOpt","setModalUpdateTenantOpt","modalUpdateApplicationOpt","setModalUpdateApplicationOpt","loginMode","appRec","keyRec","extKeyRec","Sub","Multitenancy","exact","interceptors","request","apiSettings","apiEndpoint","noToken","originalRequest","_retry","badTokenMessages","refreshToken","defaults","userIcon","handleLogout","width","Link","Ability","Loader","App","isAuthenticating","setIsAuthenticating","info","fallback","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.1983033c.chunk.js","sourcesContent":["import i18n from 'i18next';\nimport {initReactI18next} from 'react-i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\nimport common_fr from \"./translations/fr/common.json\";\nimport common_en from \"./translations/en/common.json\";\nimport urac_en from \"./translations/en/urac.json\";\nimport urac_fr from \"./translations/fr/urac.json\";\nimport organization_en from \"./translations/en/organization.json\";\nimport organization_fr from \"./translations/fr/organization.json\";\nimport soajs_en from \"./translations/en/soajs.json\";\nimport soajs_fr from \"./translations/fr/soajs.json\";\n\ni18n\n\t.use(LanguageDetector)\n\t.use(initReactI18next)\n\t.init({\n\t\tfallbackLng: 'EN',\n\t\tdebug: false,\n\t\tinterpolation: {\n\t\t\tescapeValue: false,\n\t\t},\n\t\tresources: {\n\t\t\tEN: {\n\t\t\t\tcommon: common_en,\n\t\t\t\turac: urac_en,\n\t\t\t\torganization: organization_en,\n\t\t\t\tsoajs: soajs_en,\n\t\t\t},\n\t\t\tFR: {\n\t\t\t\tcommon: common_fr,\n\t\t\t\turac: urac_fr,\n\t\t\t\torganization: organization_fr,\n\t\t\t\tsoajs: soajs_fr,\n\t\t\t}\n\t\t}\n\t});\n\n\nexport default i18n;","import { useContext, createContext } from \"react\";\nimport {createContextualCan} from '@casl/react';\n\nexport const AppContext = createContext(null);\nexport const Can = createContextualCan(AppContext.Consumer);\nexport function useAppContext() {\n\treturn useContext(AppContext);\n}","import React from \"react\";\nimport {Redirect, Route, useLocation} from \"react-router-dom\";\nimport {useAppContext} from \"../libs/contextLib\";\n\nexport default function AuthenticatedRoute({children, ...rest}) {\n\tconst {pathname, search} = useLocation();\n\tconst {isAuthenticated} = useAppContext();\n\tlet allowed = true;\n\tif (rest.ability) {\n\t\tif (rest.ability.cannot('route', rest.path)) {\n\t\t\tallowed = false;\n\t\t}\n\t}\n\treturn (\n\t\t<Route {...rest}>\n\t\t\t{isAuthenticated ? (allowed ? (\n\t\t\t\tchildren\n\t\t\t) : (\n\t\t\t\t<Redirect to={\n\t\t\t\t\t`/no-access`\n\t\t\t\t}/>\n\t\t\t)) : (\n\t\t\t\t<Redirect to={\n\t\t\t\t\t`/sign-in?redirect=${pathname}${search}`\n\t\t\t\t}/>\n\t\t\t)}\n\t\t</Route>\n\t);\n}","import React from \"react\";\nimport {Redirect, Route} from \"react-router-dom\";\nimport {useAppContext} from \"../libs/contextLib\";\n\nfunction querystring(name, url = window.location.href) {\n\tname = name.replace(/[[]]/g, \"\\\\$&\");\n\t\n\tconst regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\", \"i\");\n\tconst results = regex.exec(url);\n\t\n\tif (!results) {\n\t\treturn null;\n\t}\n\tif (!results[2]) {\n\t\treturn \"\";\n\t}\n\t\n\treturn decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\nexport default function UnauthenticatedRoute({ children, ...rest }) {\n\tconst { isAuthenticated } = useAppContext();\n\tconst redirect = querystring(\"redirect\");\n\treturn (\n\t\t<Route {...rest}>\n\t\t\t{!isAuthenticated ? (\n\t\t\t\tchildren\n\t\t\t) : (\n\t\t\t\t<Redirect to={redirect === \"\" || redirect === null ? \"/home\" : redirect} />\n\t\t\t)}\n\t\t</Route>\n\t);\n}","import React from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport {BsArrowRepeat} from \"react-icons/bs\";\nimport \"./css/LoaderButton.css\";\n\nexport default function LoaderButton(\n\t{\n\t\tisLoading,\n\t\tclassName = \"\",\n\t\tdisabled = false,\n\t\t...props\n\t}) {\n\treturn (\n\t\t<Button\n\t\t\tdisabled={disabled || isLoading}\n\t\t\tclassName={`LoaderButton ${className}`}\n\t\t\t{...props}\n\t\t>\n\t\t\t{isLoading && <BsArrowRepeat className=\"spinning\"/>}\n\t\t\t{props.children}\n\t\t</Button>\n\t);\n}","import AuthenticatedRoute from \"./AuthenticatedRoute\";\nimport UnauthenticatedRoute from \"./UnauthenticatedRoute\";\nimport LoaderButton from \"./LoaderButton\";\n\nexport {AuthenticatedRoute, UnauthenticatedRoute, LoaderButton};\nexport default LoaderButton;","export default function deepSet(obj, is, value) {\n\tif (typeof is === 'string')\n\t\treturn deepSet(obj, is.split('.'), value);\n\telse if (is.length === 1 && value !== undefined)\n\t\treturn obj[is[0]] = value;\n\telse if (is.length === 0)\n\t\treturn obj;\n\telse\n\t\treturn deepSet(obj[is[0]], is.slice(1), value);\n}","import {useState} from \"react\";\nimport _ from \"lodash\";\n\nimport deepSet from \"./deepSetLib\";\n\nexport function useFormFields(initialState) {\n\tconst [fields, setValues] = useState(initialState);\n\t\n\treturn [\n\t\tfields,\n\t\tfunction (event) {\n\t\t\tlet obj = fields;\n\t\t\tdeepSet(obj, event.target.id, event.target.value);\n\t\t\tsetValues({...obj});\n\t\t},\n\t\tfunction (newState) {\n\t\t\tlet result = _.merge(fields, newState)\n\t\t\tsetValues(result);\n\t\t}\n\t];\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nclass Notification extends React.Component {\n\tstatic propTypes = {\n\t\ttype: PropTypes.oneOf(['info', 'success', 'warning', 'error']),\n\t\ttitle: PropTypes.node,\n\t\tmessage: PropTypes.node,\n\t\ttimeOut: PropTypes.number,\n\t\tonClick: PropTypes.func,\n\t\tonRequestHide: PropTypes.func\n\t};\n\t\n\tstatic defaultProps = {\n\t\ttype: 'info',\n\t\ttitle: null,\n\t\tmessage: null,\n\t\ttimeOut: 5000,\n\t\tonClick: () => {\n\t\t},\n\t\tonRequestHide: () => {\n\t\t}\n\t};\n\t\n\tcomponentDidMount = () => {\n\t\tconst {timeOut} = this.props;\n\t\tif (timeOut !== 0) {\n\t\t\tthis.timer = setTimeout(this.requestHide, timeOut);\n\t\t}\n\t};\n\t\n\tcomponentWillUnmount = () => {\n\t\tif (this.timer) {\n\t\t\tclearTimeout(this.timer);\n\t\t}\n\t};\n\t\n\thandleClick = () => {\n\t\tconst {onClick} = this.props;\n\t\tif (onClick) {\n\t\t\tonClick();\n\t\t}\n\t\tthis.requestHide();\n\t};\n\t\n\trequestHide = () => {\n\t\tconst {onRequestHide} = this.props;\n\t\tif (onRequestHide) {\n\t\t\tonRequestHide();\n\t\t}\n\t};\n\t\n\trender() {\n\t\tconst {type, message} = this.props;\n\t\tlet {title} = this.props;\n\t\tconst className = classnames(['notification', `notification-${type}`]);\n\t\ttitle = title ? (<h4 className=\"title\">{title}</h4>) : null;\n\t\treturn (\n\t\t\t<div className={className} onClick={this.handleClick}>\n\t\t\t\t<div className=\"notification-message\" role=\"alert\">\n\t\t\t\t\t{title}\n\t\t\t\t\t<div className=\"message\">{message}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Notification;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {CSSTransition, TransitionGroup} from 'react-transition-group';\nimport classnames from 'classnames';\nimport Notification from './Notification';\n\nconst EntryContainer = ({children, ...props}) => {\n\tconst nodeRef = React.useRef(null);\n\treturn (\n\t\t<CSSTransition\n\t\t\tnodeRef={nodeRef}\n\t\t\t{...props}\n\t\t>\n\t\t\t<div ref={nodeRef}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</CSSTransition>\n\t);\n};\n\nclass Notifications extends React.Component {\n\tstatic propTypes = {\n\t\tnotifications: PropTypes.array,\n\t\tonRequestHide: PropTypes.func,\n\t\tenterTimeout: PropTypes.number,\n\t\tleaveTimeout: PropTypes.number\n\t};\n\t\n\tstatic defaultProps = {\n\t\tnotifications: [],\n\t\tonRequestHide: () => {\n\t\t},\n\t\tenterTimeout: 400,\n\t\tleaveTimeout: 400\n\t};\n\t\n\thandleRequestHide = (notification) => () => {\n\t\tconst {onRequestHide} = this.props;\n\t\tif (onRequestHide) {\n\t\t\tonRequestHide(notification);\n\t\t}\n\t};\n\t\n\trender() {\n\t\tconst {notifications, enterTimeout, leaveTimeout} = this.props;\n\t\tconst className = classnames('notification-container', {\n\t\t\t'notification-container-empty': notifications.length === 0\n\t\t});\n\t\tconst items = notifications.map((notification, i) => {\n\t\t\tconst key = notification.id || new Date().getTime();\n\t\t\treturn (\n\t\t\t\t<EntryContainer\n\t\t\t\t\tkey={i}\n\t\t\t\t\tclassNames=\"notification\"\n\t\t\t\t\ttimeout={{enter: enterTimeout, exit: leaveTimeout}}\n\t\t\t\t>\n\t\t\t\t\t<Notification\n\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\ttype={notification.type}\n\t\t\t\t\t\ttitle={notification.title}\n\t\t\t\t\t\tmessage={notification.message}\n\t\t\t\t\t\ttimeOut={notification.timeOut}\n\t\t\t\t\t\tonClick={notification.onClick}\n\t\t\t\t\t\tonRequestHide={this.handleRequestHide(notification)}\n\t\t\t\t\t/>\n\t\t\t\t</EntryContainer>\n\t\t\t);\n\t\t});\n\t\treturn (\n\t\t\t<div className={className}>\n\t\t\t\t<TransitionGroup>\n\t\t\t\t\t{items}\n\t\t\t\t</TransitionGroup>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Notifications;\n","import {EventEmitter} from 'events';\n\nconst createUUID = () => {\n\tconst pattern = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx';\n\treturn pattern.replace(/[xy]/g, (c) => {\n\t\tconst r = (Math.random() * 16) | 0;\n\t\tconst v = c === 'x' ? r : ((r & 0x3) | 0x8);\n\t\treturn v.toString(16);\n\t});\n};\n\nconst Constants = {\n\tCHANGE: 'change',\n\tINFO: 'info',\n\tSUCCESS: 'success',\n\tWARNING: 'warning',\n\tERROR: 'error'\n};\n\nclass NotificationManager extends EventEmitter {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.listNotify = [];\n\t}\n\t\n\tcreate(notify) {\n\t\tconst defaultNotify = {\n\t\t\tid: createUUID(),\n\t\t\ttype: 'info',\n\t\t\ttitle: null,\n\t\t\tmessage: null,\n\t\t\ttimeOut: 5000\n\t\t};\n\t\tif (notify.priority) {\n\t\t\tthis.listNotify.unshift(Object.assign(defaultNotify, notify));\n\t\t} else {\n\t\t\tthis.listNotify.push(Object.assign(defaultNotify, notify));\n\t\t}\n\t\tthis.emitChange();\n\t}\n\t\n\tinfo(message, title, timeOut, onClick, priority) {\n\t\tthis.create({\n\t\t\ttype: Constants.INFO,\n\t\t\tmessage,\n\t\t\ttitle,\n\t\t\ttimeOut,\n\t\t\tonClick,\n\t\t\tpriority\n\t\t});\n\t}\n\t\n\tsuccess(message, title, timeOut, onClick, priority) {\n\t\tthis.create({\n\t\t\ttype: Constants.SUCCESS,\n\t\t\tmessage,\n\t\t\ttitle,\n\t\t\ttimeOut,\n\t\t\tonClick,\n\t\t\tpriority\n\t\t});\n\t}\n\t\n\twarning(message, title, timeOut, onClick, priority) {\n\t\tthis.create({\n\t\t\ttype: Constants.WARNING,\n\t\t\tmessage,\n\t\t\ttitle,\n\t\t\ttimeOut,\n\t\t\tonClick,\n\t\t\tpriority\n\t\t});\n\t}\n\t\n\terror(message, title, timeOut, onClick, priority) {\n\t\tthis.create({\n\t\t\ttype: Constants.ERROR,\n\t\t\tmessage,\n\t\t\ttitle,\n\t\t\ttimeOut,\n\t\t\tonClick,\n\t\t\tpriority\n\t\t});\n\t}\n\t\n\tremove(notification) {\n\t\tthis.listNotify = this.listNotify.filter((n) => notification.id !== n.id);\n\t\tthis.emitChange();\n\t}\n\t\n\temitChange() {\n\t\tthis.emit(Constants.CHANGE, this.listNotify);\n\t}\n\t\n\taddChangeListener(callback) {\n\t\tthis.addListener(Constants.CHANGE, callback);\n\t}\n\t\n\tremoveChangeListener(callback) {\n\t\tthis.removeListener(Constants.CHANGE, callback);\n\t}\n}\n\nexport default new NotificationManager();\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport NotificationManager from './NotificationManager';\nimport Notifications from './Notifications';\n\nclass NotificationContainer extends React.Component {\n  static propTypes = {\n    enterTimeout: PropTypes.number,\n    leaveTimeout: PropTypes.number\n  };\n\n  static defaultProps = {\n    enterTimeout: 400,\n    leaveTimeout: 400\n  };\n\n  state = {\n    notifications: []\n  };\n\n  componentDidMount = () => {\n    NotificationManager.addChangeListener(this.handleStoreChange);\n  };\n\n  componentWillUnmount = () => {\n    NotificationManager.removeChangeListener(this.handleStoreChange);\n  };\n\n  handleStoreChange = (notifications) => {\n    this.setState({\n      notifications\n    });\n  };\n\n  handleRequestHide = (notification) => {\n    NotificationManager.remove(notification);\n  };\n\n  render() {\n    const { notifications } = this.state;\n    const { enterTimeout, leaveTimeout } = this.props;\n    return (\n      <Notifications\n        enterTimeout={enterTimeout}\n        leaveTimeout={leaveTimeout}\n        notifications={notifications}\n        onRequestHide={this.handleRequestHide}\n      />\n    );\n  }\n}\n\nexport default NotificationContainer;\n","import JsonEditor from './JsonEditor.js';\n\nexport default JsonEditor;\n","import React, {Component} from 'react';\n\nimport _jsoneditor from 'jsoneditor';\nimport 'jsoneditor/dist/jsoneditor.css';\nimport './JsonEditor.css';\n\nexport default class JsonEditor extends Component {\n\tcomponentDidMount() {\n\t\tconst options = {\n\t\t\ttemplates: this.props.templates,\n\t\t\tmode: this.props.mode,\n\t\t\tmodes: this.props.modes,\n\t\t\tonChangeJSON: this.props.onChangeJSON,\n\t\t\tonChange: () => {\n\t\t\t\tif (this.props.onChange) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tthis.props.onChange(this.jeditor.get());\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tthis.props.onChange(null);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t\n\t\tthis.jeditor = new _jsoneditor (this.container, options);\n\t\tthis.jeditor.set(this.props.json);\n\t}\n\t\n\tcomponentWillUnmount() {\n\t\tif (this.jeditor) {\n\t\t\tthis.jeditor.destroy();\n\t\t}\n\t}\n\t\n\tcomponentDidUpdate() {\n\t\tthis.jeditor.update(this.props.json);\n\t}\n\t\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"jsoneditor-react-container\" ref={elem => this.container = elem}/>\n\t\t);\n\t}\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from \"react-bootstrap/Button\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\n\nimport {FaApple, FaFacebook, FaGoogle, FaTwitter} from \"react-icons/fa\";\n\nclass ThirdPartyLogin extends React.Component {\n\tstatic propTypes = {\n\t\tstrategies: PropTypes.array,\n\t\tonRequest: PropTypes.func,\n\t\tisThirdParty: PropTypes.bool\n\t};\n\t\n\tstatic defaultProps = {\n\t\tstrategies: [],\n\t\tonRequest: () => {\n\t\t},\n\t\tisThirdParty: false\n\t};\n\t\n\trender() {\n\t\tconst {strategies, isThirdParty, onRequest} = this.props;\n\t\tconst items = strategies.map((strategy, i) => {\n\t\t\tif (strategy === \"facebook\") {\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tblock\n\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\tclassName=\"mt-2 mb-2\"\n\t\t\t\t\t\tvariant=\"outline-info\"\n\t\t\t\t\t\tdisabled={isThirdParty}\n\t\t\t\t\t\tonClick={(event) => onRequest(event, strategy)}>\n\t\t\t\t\t\t<FaFacebook/> Login in with {strategy}\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\t} else if (strategy === \"twitter\") {\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tblock\n\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\tclassName=\"mt-2 mb-2\"\n\t\t\t\t\t\tvariant=\"outline-info\"\n\t\t\t\t\t\tdisabled={isThirdParty}\n\t\t\t\t\t\tonClick={(event) => onRequest(event, strategy)}>\n\t\t\t\t\t\t<FaTwitter/> Login in with {strategy}\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\t} else if (strategy === \"apple\") {\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tblock\n\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\tclassName=\"mt-2 mb-2\"\n\t\t\t\t\t\tvariant=\"outline-info\"\n\t\t\t\t\t\tdisabled={isThirdParty}\n\t\t\t\t\t\tonClick={(event) => onRequest(event, strategy)}>\n\t\t\t\t\t\t<FaApple/> Login in with {strategy}\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\t} else if (strategy === \"google\") {\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tblock\n\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\tclassName=\"mt-2 mb-2\"\n\t\t\t\t\t\tvariant=\"outline-info\"\n\t\t\t\t\t\tdisabled={isThirdParty}\n\t\t\t\t\t\tonClick={(event) => onRequest(event, strategy)}>\n\t\t\t\t\t\t<FaGoogle/> Login in with {strategy}\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn (null);\n\t\t\t}\n\t\t});\n\t\treturn (\n\t\t\titems &&\n\t\t\titems.length > 0 &&\n\t\t\t(\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"mt-4\">\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Jumbotron\n\t\t\t\t\t\tclassName=\"thirdPartyLogin mt-4 p-3\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</Jumbotron>\n\t\t\t\t</div>\n\t\t\t)\n\t\t);\n\t}\n}\n\nexport default ThirdPartyLogin;\n","import ThirdPartyLogin from './ThirdPartyLogin.js';\n\nexport default ThirdPartyLogin;\n","const LocalStorageService = (function () {\n\tlet _service;\n\t\n\tfunction _getService() {\n\t\tif (!_service) {\n\t\t\t_service = this;\n\t\t\treturn _service\n\t\t}\n\t\treturn _service\n\t}\n\t\n\tfunction _setToken(tokenObj) {\n\t\tlocalStorage.setItem('access_token', tokenObj.access_token);\n\t\tlocalStorage.setItem('refresh_token', tokenObj.refresh_token);\n\t}\n\t\n\tfunction _setUsername(username) {\n\t\tlocalStorage.setItem('username', username);\n\t}\n\t\n\tfunction _getUsername() {\n\t\treturn localStorage.getItem('username');\n\t}\n\t\n\tfunction _setUserid(id) {\n\t\tlocalStorage.setItem('userid', id);\n\t}\n\t\n\tfunction _getUserid() {\n\t\treturn localStorage.getItem('userid');\n\t}\n\t\n\tfunction _setFirstrname(firstname) {\n\t\tlocalStorage.setItem('firstname', firstname);\n\t}\n\t\n\tfunction _getFirstname() {\n\t\treturn localStorage.getItem('firstname');\n\t}\n\t\n\tfunction _getAccessToken() {\n\t\treturn localStorage.getItem('access_token');\n\t}\n\t\n\tfunction _getRefreshToken() {\n\t\treturn localStorage.getItem('refresh_token');\n\t}\n\t\n\tfunction _clearToken() {\n\t\tlocalStorage.removeItem('access_token');\n\t\tlocalStorage.removeItem('refresh_token');\n\t}\n\t\n\tfunction _setUserKeyACL(acl, index) {\n\t\tlet acl_cached = localStorage.getItem('userACL');\n\t\tif (!acl_cached) {\n\t\t\tacl_cached = {};\n\t\t} else {\n\t\t\tacl_cached = JSON.parse(acl_cached);\n\t\t}\n\t\tacl_cached[index] = acl;\n\t\tlocalStorage.setItem('userACL', JSON.stringify(acl_cached));\n\t}\n\t\n\tfunction _getUserKeyACL(index) {\n\t\tlet acl_cached = localStorage.getItem('userACL');\n\t\tif (acl_cached) {\n\t\t\tacl_cached = JSON.parse(acl_cached)\n\t\t\tif (acl_cached[index]) {\n\t\t\t\treturn acl_cached[index];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\t\n\tfunction _clearUser() {\n\t\tlocalStorage.removeItem('username');\n\t\tlocalStorage.removeItem('firstname');\n\t\tlocalStorage.removeItem('userid');\n\t\tlocalStorage.removeItem('userACL');\n\t}\n\t\n\treturn {\n\t\tgetService: _getService,\n\t\t\n\t\tsetUserKeyACL: _setUserKeyACL,\n\t\tgetUserKeyACL: _getUserKeyACL,\n\t\t\n\t\tsetToken: _setToken,\n\t\tgetAccessToken: _getAccessToken,\n\t\tgetRefreshToken: _getRefreshToken,\n\t\tclearToken: _clearToken,\n\t\tclearUser: _clearUser,\n\t\t\n\t\tsetUsername: _setUsername,\n\t\tgetUsername: _getUsername,\n\t\t\n\t\tsetUserid: _setUserid,\n\t\tgetUserid: _getUserid,\n\t\t\n\t\tsetFirstrname: _setFirstrname,\n\t\tgetFirstname: _getFirstname\n\t}\n})();\nexport default LocalStorageService;","const config = {\n\t\"consoleEnvironment\": \"dashboard\",\n\t\"badTokenMessages\": [\n\t\t\"The access token provided has expired.\", \"The access token provided is invalid.\"\n\t],\n\t\"alreadyInvited\": [\n\t\t\"User is already in the tenant tenancy.\", \"User has already been invited.\"\n\t],\n\t\"noToken\": [\n\t\t\"/oauth/token\"\n\t],\n\t//\"apiEndpoint\": \"http//localhost:4000\",\n\t//\"tenant\": '3d90163cf9d6b3076ad26aa5ed58556348069258e5c6c941ee0f18448b570ad1c5c790e2d2a1989680c55f4904e2005ff5f8e71606e4aa641e67882f4210ebbc5460ff305dcb36e6ec2a2299cf0448ef60b9e38f41950ec251c1cf41f05f3ce9'\n};\n\nexport default config;","import axios from \"axios\";\nimport LocalStorageService from \"./LocalStorageService.js\";\n\nimport Config from \"../../../config.js\";\n\nconst localStorageService = LocalStorageService.getService();\n\nconst UracService = (function () {\n\tlet _service = null;\n\t\n\tfunction _getService() {\n\t\tif (!_service) {\n\t\t\t_service = this;\n\t\t\treturn _service\n\t\t}\n\t\treturn _service\n\t}\n\t\n\tfunction _updateMyProfile(fields, profile) {\n\t\tconst userid = localStorageService.getUserid();\n\t\tif (userid) {\n\t\t\tlet record = {\n\t\t\t\t\"id\": userid,\n\t\t\t\t\"firstName\": fields.firstName,\n\t\t\t\t\"lastName\": fields.lastName\n\t\t\t};\n\t\t\tif (profile) {\n\t\t\t\trecord.profile = profile;\n\t\t\t}\n\t\t\treturn axios.put(\"/urac/account\", record)\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\t\tlocalStorageService.setFirstrname(fields.firstName);\n\t\t\t\t\t\treturn Promise.resolve(\"Profile has been updated.\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn Promise.reject(new Error(\"Unable to update profile information\"));\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tif (error.response && error.response.data && error.response.data.errors && error.response.data.errors.codes && error.response.data.errors.codes.includes(533)) {\n\t\t\t\t\t\treturn Promise.resolve(\"Nothing to update!\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn Promise.reject(new Error(\"Unable to update profile information\"));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t} else {\n\t\t\treturn Promise.reject(new Error(\"Unable to update profile information\"));\n\t\t}\n\t}\n\t\n\tfunction _changeEmail(email) {\n\t\tconst userid = localStorageService.getUserid();\n\t\tif (userid) {\n\t\t\treturn axios.put(\"/urac/account/email\",\n\t\t\t\t{\n\t\t\t\t\t\"id\": userid,\n\t\t\t\t\t\"email\": email\n\t\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn Promise.reject(new Error(\"Unable to change email\"));\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to change email\"));\n\t\t\t\t});\n\t\t} else {\n\t\t\treturn Promise.reject(new Error(\"Unable to change email\"));\n\t\t}\n\t}\n\t\n\tfunction _changePassword(password, newPassword, confirmNewPassword) {\n\t\tconst userid = localStorageService.getUserid();\n\t\tif (userid) {\n\t\t\treturn axios.put(\"/urac/account/password\",\n\t\t\t\t{\n\t\t\t\t\t\"id\": userid,\n\t\t\t\t\t\"oldPassword\": password,\n\t\t\t\t\t\"password\": newPassword,\n\t\t\t\t\t\"confirmation\": confirmNewPassword\n\t\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn Promise.reject(new Error(\"Unable to change password\"));\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to change password\"));\n\t\t\t\t});\n\t\t} else {\n\t\t\treturn Promise.reject(new Error(\"Unable to change password\"));\n\t\t}\n\t}\n\t\n\tfunction _forgotPassword(username) {\n\t\treturn axios.get(\"/urac/password/forgot/?username=\" + username)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\t\n\tfunction _signup(fields) {\n\t\treturn axios.post(\"/urac/join\",\n\t\t\t{\n\t\t\t\t\"username\": fields.username,\n\t\t\t\t\"firstName\": fields.firstName,\n\t\t\t\t\"lastName\": fields.lastName,\n\t\t\t\t\"email\": fields.email,\n\t\t\t\t\"password\": fields.password\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to sign up\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tif (error.response && error.response.data && error.response.data.errors && error.response.data.errors.codes && error.response.data.errors.codes.includes(402)) {\n\t\t\t\t\treturn Promise.reject(new Error(\"Username and/or Email already exist.\"));\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to sign up\"));\n\t\t\t\t}\n\t\t\t});\n\t}\n\t\n\tfunction _getUser() {\n\t\tconst user = localStorageService.getUsername();\n\t\tif (user) {\n\t\t\treturn axios.get(\"/urac/user?username=\" + user)\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\t\tlocalStorageService.setFirstrname(res.data.data.firstName);\n\t\t\t\t\t\tlocalStorageService.setUserid(res.data.data._id);\n\t\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn Promise.reject(new Error(\"Unable to get user information\"));\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to get user information\"));\n\t\t\t\t});\n\t\t} else {\n\t\t\treturn Promise.reject(new Error(\"Unable to get user information\"));\n\t\t}\n\t}\n\t\n\tfunction _validateJoin(token) {\n\t\treturn axios.get(\"/urac/validate/join?token=\" + token)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(true);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\t\n\tfunction _emailToken(username) {\n\t\treturn axios.get(\"/urac/emailToken?username=\" + username)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(true);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\t\n\tfunction _resetPassword(token, newPassword, confirmNewPassword) {\n\t\treturn axios.put(\"/urac/password/reset\",\n\t\t\t{\n\t\t\t\t\"token\": token,\n\t\t\t\t\"confirmation\": confirmNewPassword,\n\t\t\t\t\"password\": newPassword\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(true);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to reset password\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to reset password\"));\n\t\t\t});\n\t}\n\t\n\tfunction _validateChangeEmail(token) {\n\t\treturn axios.get(\"/urac/validate/changeEmail?token=\" + token)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(true);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\t\n\tfunction _getUserId(id, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": {\"key\": extKey}\n\t\t\t}\n\t\t}\n\t\treturn axios.get(\"/urac/admin/user?id=\" + id, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to get user information\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to get user information\"));\n\t\t\t});\n\t}\n\t\n\tfunction _getUsersId(ids, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": {\"key\": extKey}\n\t\t\t}\n\t\t}\n\t\treturn axios.post(\"/urac/admin/users/ids\", {\"ids\": ids}, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to get users\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to get users\"));\n\t\t\t});\n\t}\n\t\n\tfunction _getUserACL(extKey) {\n\t\t//TODO: check cache\n\t\tlet cacheIndex = \"0000000000000000\";\n\t\tif (extKey) {\n\t\t\tcacheIndex = extKey.substr(extKey.length - 16);\n\t\t}\n\t\tlet acl_cached = localStorageService.getUserKeyACL(cacheIndex);\n\t\tif (acl_cached) {\n\t\t\treturn Promise.resolve(acl_cached);\n\t\t}\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": {\"key\": extKey}\n\t\t\t}\n\t\t}\n\t\treturn axios.get(\"/soajs/acl\", opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data) {\n\t\t\t\t\t//TODO: cache\n\t\t\t\t\tlocalStorageService.setUserKeyACL(res.data, cacheIndex);\n\t\t\t\t\treturn Promise.resolve(res.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to get ACL please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to get ACL please try again later\"));\n\t\t\t});\n\t}\n\t\n\tfunction _getUsers(extKey, scope, criteria) {\n\t\tlet opt = {\n\t\t\t\"params\": {\n\t\t\t\t\"config\": true\n\t\t\t}\n\t\t};\n\t\tif (extKey) {\n\t\t\topt.headers = {\"key\": extKey};\n\t\t}\n\t\tlet url = \"/urac/admin/users\";\n\t\tif (scope) {\n\t\t\topt.params.scope = scope;\n\t\t}\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords) {\n\t\t\t\topt.params.keywords = criteria.keywords;\n\t\t\t}\n\t\t\tif (criteria.limit) {\n\t\t\t\topt.params.limit = criteria.limit;\n\t\t\t}\n\t\t\tif (criteria.start) {\n\t\t\t\topt.params.start = criteria.start;\n\t\t\t}\n\t\t}\n\t\treturn axios.get(url, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\t\n\tfunction _getUsersCount(extKey, scope, criteria) {\n\t\tlet opt = {\n\t\t\t\"params\": {}\n\t\t};\n\t\tif (extKey) {\n\t\t\topt.headers = {\"key\": extKey};\n\t\t}\n\t\tlet url = \"/urac/admin/users/count\";\n\t\tif (scope) {\n\t\t\topt.params.scope = scope;\n\t\t}\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords) {\n\t\t\t\topt.params.keywords = criteria.keywords;\n\t\t\t}\n\t\t}\n\t\treturn axios.get(url, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\t\n\tfunction _getUsersProxy(extKey, scope, criteria, env) {\n\t\tlet opt = {\n\t\t\t\"params\": {\n\t\t\t\t\"proxyRoute\": \"/urac/admin/users\",\n\t\t\t\t\"config\": true,\n\t\t\t\t\"extKey\": extKey\n\t\t\t},\n\t\t\t\"headers\": {\n\t\t\t\t\"__env\": env.toLowerCase()\n\t\t\t}\n\t\t};\n\t\tlet url = \"/soajs/proxy\";\n\t\tif (scope) {\n\t\t\topt.params.scope = scope;\n\t\t}\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords) {\n\t\t\t\topt.params.keywords = criteria.keywords;\n\t\t\t}\n\t\t\tif (criteria.limit) {\n\t\t\t\topt.params.limit = criteria.limit;\n\t\t\t}\n\t\t\tif (criteria.start) {\n\t\t\t\topt.params.start = criteria.start;\n\t\t\t}\n\t\t}\n\t\treturn axios.get(url, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\t\n\tfunction _getUsersCountProxy(extKey, scope, criteria, env) {\n\t\tlet opt = {\n\t\t\t\"params\": {\n\t\t\t\t\"proxyRoute\": \"/urac/admin/users/count\",\n\t\t\t\t\"config\": true,\n\t\t\t\t\"extKey\": extKey\n\t\t\t},\n\t\t\t\"headers\": {\n\t\t\t\t\"__env\": env.toLowerCase()\n\t\t\t}\n\t\t};\n\t\tlet url = \"/soajs/proxy\";\n\t\tif (scope) {\n\t\t\topt.params.scope = scope;\n\t\t}\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords) {\n\t\t\t\topt.params.keywords = criteria.keywords;\n\t\t\t}\n\t\t}\n\t\treturn axios.get(url, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\t\n\tfunction _getGroupsProxy(extKey, env) {\n\t\tlet opt = {\n\t\t\t\"params\": {\n\t\t\t\t\"proxyRoute\": \"/urac/admin/groups\",\n\t\t\t\t\"extKey\": extKey\n\t\t\t},\n\t\t\t\"headers\": {\n\t\t\t\t\"__env\": env.toLowerCase()\n\t\t\t}\n\t\t};\n\t\tlet url = \"/soajs/proxy\";\n\t\treturn axios.get(url, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\t\n\tfunction _getGroups(extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": {\"key\": extKey}\n\t\t\t}\n\t\t}\n\t\treturn axios.get(\"/urac/admin/groups\", opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\t\n\tfunction _getGroup(id, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": {\"key\": extKey}\n\t\t\t}\n\t\t}\n\t\treturn axios.get(\"/urac/admin/group?id=\" + id, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteGroup(id, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": {\"key\": extKey}\n\t\t\t}\n\t\t}\n\t\treturn axios.delete(\"/urac/admin/group?id=\" + id, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(\"Group has been deleted.\");\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to delete group\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to delete group\"));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteUser(id, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": {\"key\": extKey}\n\t\t\t}\n\t\t}\n\t\treturn axios.delete(\"/urac/admin/user?id=\" + id, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(\"User has been deleted.\");\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to delete user\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to delete user\"));\n\t\t\t});\n\t}\n\t\n\tfunction _uninviteUser(user, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": {\"key\": extKey}\n\t\t\t}\n\t\t}\n\t\tlet data = [{\n\t\t\t\"user\": {\n\t\t\t\t\"id\": user.id\n\t\t\t}\n\t\t}];\n\t\treturn axios.put(\"/urac/admin/users/uninvite\", {\"users\": data}, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\tif (res.data.data && res.data.data.failed && Array.isArray(res.data.data.failed) && res.data.data.failed.length > 0) {\n\t\t\t\t\t\tif (res.data.data.failed[0].reason) {\n\t\t\t\t\t\t\treturn Promise.reject(new Error(res.data.data.failed[0].reason));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn Promise.resolve(\"User has been un-invited.\");\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to un-invite user\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tif (e.message) {\n\t\t\t\t\treturn Promise.reject(e);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to un-invite user\"));\n\t\t\t\t}\n\t\t\t});\n\t}\n\t\n\tfunction _addUser(user, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": {\"key\": extKey}\n\t\t\t}\n\t\t}\n\t\tlet data = {\n\t\t\t\"email\": user.email,\n\t\t\t\"username\": user.username,\n\t\t\t\"firstName\": user.firstName,\n\t\t\t\"lastName\": user.lastName\n\t\t};\n\t\tif (user.groups) {\n\t\t\tdata.groups = user.groups;\n\t\t}\n\t\treturn axios.post(\"/urac/admin/user\", data, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to add user\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tif (error.response && error.response.data && error.response.data.errors && error.response.data.errors.codes && error.response.data.errors.codes.includes(402)) {\n\t\t\t\t\treturn Promise.reject(new Error(\"Username and/or Email already exist.\"));\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to add user\"));\n\t\t\t\t}\n\t\t\t});\n\t}\n\t\n\tfunction _inviteUser(user, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": {\"key\": extKey}\n\t\t\t}\n\t\t}\n\t\tlet data = [{\n\t\t\t\"user\": {},\n\t\t\t\"groups\": user.groups || null\n\t\t}];\n\t\tif (user.user.indexOf(\"@\") !== -1) {\n\t\t\tdata[0].user.email = user.user;\n\t\t} else {\n\t\t\tdata[0].user.username = user.user;\n\t\t}\n\t\treturn axios.put(\"/urac/admin/users/invite\", {\"users\": data}, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\tif (res.data.data && res.data.data.failed && Array.isArray(res.data.data.failed) && res.data.data.failed.length > 0) {\n\t\t\t\t\t\tif (res.data.data.failed[0].reason) {\n\t\t\t\t\t\t\tif (Config.alreadyInvited.includes(res.data.data.failed[0].reason)) {\n\t\t\t\t\t\t\t\treturn Promise.resolve(res.data.data.failed[0]);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn Promise.reject(new Error(res.data.data.failed[0].reason));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn Promise.resolve(\"User has been invited.\");\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to invite user\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tif (e.message) {\n\t\t\t\t\treturn Promise.reject(e);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to invite user\"));\n\t\t\t\t}\n\t\t\t});\n\t}\n\t\n\tfunction _checkIfUserExist(user, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": {\"key\": extKey}\n\t\t\t}\n\t\t}\n\t\treturn axios.get(\"/urac/checkUsername?username=\" + user, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to check if user exists\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to check if user exists\"));\n\t\t\t});\n\t}\n\t\n\tfunction _updateUser(user, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": {\"key\": extKey}\n\t\t\t}\n\t\t}\n\t\tlet data = {\n\t\t\t\"id\": user.id,\n\t\t\t\"username\": user.username,\n\t\t\t\"firstName\": user.firstName,\n\t\t\t\"lastName\": user.lastName,\n\t\t\t\"email\": user.email,\n\t\t\t\"status\": user.status,\n\t\t\t\"groups\": user.groups\n\t\t};\n\t\treturn axios.put(\"/urac/admin/user\", data, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(\"User has been updated.\");\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to updated user\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to updated user\"));\n\t\t\t});\n\t}\n\t\n\tfunction _editUser(user, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": {\"key\": extKey}\n\t\t\t}\n\t\t}\n\t\tlet data = {\n\t\t\t\"user\": {\"id\": user.id},\n\t\t\t\"groups\": user.groups\n\t\t};\n\t\treturn axios.put(\"/urac/admin/user/groups\", data, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(\"User has been updated.\");\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to updated user\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to updated user\"));\n\t\t\t});\n\t}\n\t\n\tfunction _addGroup(group, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": {\"key\": extKey}\n\t\t\t}\n\t\t}\n\t\tlet data = {\n\t\t\t\"code\": group.code,\n\t\t\t\"name\": group.name,\n\t\t\t\"description\": group.description,\n\t\t\t\"packages\": group.packages\n\t\t};\n\t\treturn axios.post(\"/urac/admin/group\", data, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(\"Group has been added.\");\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to added group\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to added group\"));\n\t\t\t});\n\t}\n\t\n\tfunction _editGroup(group, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": {\"key\": extKey},\n\t\t\t};\n\t\t}\n\t\tlet data = {\n\t\t\t\"id\": group.id,\n\t\t\t\"name\": group.name,\n\t\t\t\"description\": group.description,\n\t\t\t\"packages\": group.packages\n\t\t};\n\t\treturn axios.put(\"/urac/admin/group\", data, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(\"Group has been updated.\");\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to updated group\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to updated group\"));\n\t\t\t});\n\t}\n\t\n\treturn {\n\t\tgetService: _getService,\n\t\tchangePassword: _changePassword,\n\t\tforgotPassword: _forgotPassword,\n\t\tchangeEmail: _changeEmail,\n\t\tsignup: _signup,\n\t\tupdateMyProfile: _updateMyProfile,\n\t\tgetUser: _getUser,\n\t\tgetUserId: _getUserId,\n\t\tgetUsersId: _getUsersId,\n\t\tvalidateJoin: _validateJoin,\n\t\temailToken: _emailToken,\n\t\tresetPassword: _resetPassword,\n\t\tvalidateChangeEmail: _validateChangeEmail,\n\t\tgetUserACL: _getUserACL,\n\t\tgetUsers: _getUsers,\n\t\tgetUsersCount: _getUsersCount,\n\t\tgetGroup: _getGroup,\n\t\tgetGroups: _getGroups,\n\t\tdeleteGroup: _deleteGroup,\n\t\tdeleteUser: _deleteUser,\n\t\tuninviteUser: _uninviteUser,\n\t\tinviteUser: _inviteUser,\n\t\taddUser: _addUser,\n\t\teditUser: _editUser,\n\t\tupdateUser: _updateUser,\n\t\teditGroup: _editGroup,\n\t\taddGroup: _addGroup,\n\t\tcheckIfUserExist: _checkIfUserExist,\n\t\t\n\t\tgetUsersProxy: _getUsersProxy,\n\t\tgetGroupsProxy: _getGroupsProxy,\n\t\tgetUsersCountProxy: _getUsersCountProxy\n\t}\n})();\nexport default UracService;","import axios from \"axios\";\nimport LocalStorageService from \"./LocalStorageService.js\";\n\nconst localStorageService = LocalStorageService.getService();\n\nconst OauthService = (function () {\n\tlet _service = null;\n\t\n\tfunction _getService() {\n\t\tif (!_service) {\n\t\t\t_service = this;\n\t\t\treturn _service\n\t\t}\n\t\treturn _service\n\t}\n\t\n\tfunction _login(email, password) {\n\t\treturn axios.post(\"/oauth/token\",\n\t\t\t{\n\t\t\t\t\"username\": email,\n\t\t\t\t\"password\": password,\n\t\t\t\t\"grant_type\": \"password\"\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.access_token) {\n\t\t\t\t\tlocalStorageService.setToken(res.data);\n\t\t\t\t\tlocalStorageService.setUsername(email);\n\t\t\t\t\treturn Promise.resolve(res.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to login\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to login\"));\n\t\t\t});\n\t}\n\t\n\tfunction _logout() {\n\t\tconst refresh_token = localStorageService.getRefreshToken();\n\t\tconst access_token = localStorageService.getAccessToken();\n\t\t\n\t\tif (refresh_token) {\n\t\t\treturn axios.delete(\"/oauth/refreshToken/\" + refresh_token)\n\t\t\t\t.then(() => {\n\t\t\t\t\tif (access_token) {\n\t\t\t\t\t\treturn axios.delete(\"/oauth/accessToken/\" + access_token);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tif (access_token) {\n\t\t\t\t\t\treturn axios.delete(\"/oauth/accessToken/\" + access_token);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t} else {\n\t\t\tif (access_token) {\n\t\t\t\treturn axios.delete(\"/oauth/accessToken/\" + access_token);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction _availableLogin() {\n\t\treturn axios.get(\"/oauth/available/login\")\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\t//res.data.data.thirdparty = [\"facebook\", \"google\", \"twitter\", \"apple\"];\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to retrieve 3rd party login!\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to retrieve 3rd party login!\"));\n\t\t\t});\n\t}\n\t\n\tfunction _thirdPartyLogin(strategy) {\n\t\treturn axios.get(\"/oauth/passport/login/\" + strategy)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to continue with 3rd party login!\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to continue with 3rd party login!\"));\n\t\t\t});\n\t}\n\t\n\tfunction _validateThirdPartyLogin(strategy, params) {\n\t\treturn axios.get(\"/oauth/passport/validate/\" + strategy + params)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to validate your \" + strategy + \" login!\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to validate your \" + strategy + \" login!\"));\n\t\t\t});\n\t}\n\t\n\treturn {\n\t\tgetService: _getService,\n\t\tlogin: _login,\n\t\tlogout: _logout,\n\t\tavailableLogin: _availableLogin,\n\t\tthirdPartyLogin: _thirdPartyLogin,\n\t\tvalidateThirdPartyLogin: _validateThirdPartyLogin\n\t}\n})();\nexport default OauthService;","const APIs = {\n\t\"abilities\": {\n\t\t\"infra\": {\n\t\t\t\"get\": {\n\t\t\t\t\"/kubernetes/pod/log\": {\n\t\t\t\t\t\"I\": 'infra_pod',\n\t\t\t\t\t\"A\": 'log',\n\t\t\t\t\t\"M\": \"View the log of a pod\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"post\": {\n\t\t\t\t\"/kubernetes/workload/:mode\": {\n\t\t\t\t\t\"I\": 'infra_workload',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a Workload (Deployment, DaemonSet, CronJob, Pod, HPA)\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/secret\": {\n\t\t\t\t\t\"I\": 'infra_secret',\n\t\t\t\t\t\"A\": 'add_wizard',\n\t\t\t\t\t\"M\": \"Add a text, file, or json secret via the wizard\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/secret/registry\": {\n\t\t\t\t\t\"I\": 'infra_secret',\n\t\t\t\t\t\"A\": 'add_wizard_registry',\n\t\t\t\t\t\"M\": \"Add a private registry account information as a secret via the wizard\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/configuration/:mode\": {\n\t\t\t\t\t\"I\": 'infra_configuration',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a Configuration (secret)\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/service/:mode\": {\n\t\t\t\t\t\"I\": 'infra_service',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a new Service\"\n\t\t\t\t},\n\t\t\t\t\"/account/kubernetes\": {\n\t\t\t\t\t\"I\": 'infra_account',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a new cluster\"\n\t\t\t\t},\n\t\t\t\t\"/cd/token\": {\n\t\t\t\t\t\"I\": 'infra_cd_token',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a a continuous delivery token\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"put\": {\n\t\t\t\t\"/cd/token/status\": {\n\t\t\t\t\t\"I\": 'infra_cd_token',\n\t\t\t\t\t\"A\": 'update',\n\t\t\t\t\t\"M\": \"Update the status of a continuous delivery token\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/workload/:mode\": {\n\t\t\t\t\t\"I\": 'infra_workload',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Update a Workload (Deployment, DaemonSet, CronJob, Pod, HPA)\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/service/:mode\": {\n\t\t\t\t\t\"I\": 'infra_service',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Update a Service\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/resource/restart\": {\n\t\t\t\t\t\"I\": 'infra_item',\n\t\t\t\t\t\"A\": 'restart',\n\t\t\t\t\t\"M\": \"Restart all pods of a deployed item\"\n\t\t\t\t},\n\t\t\t\t\"/account/kubernetes/configuration\": {\n\t\t\t\t\t\"I\": 'infra_account',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Edit the cluster configuration\"\n\t\t\t\t},\n\t\t\t\t\"/account/kubernetes/acl\": {\n\t\t\t\t\t\"I\": 'infra_account',\n\t\t\t\t\t\"A\": 'updateAcl',\n\t\t\t\t\t\"M\": \"Update the cluster group configuration\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/pod/exec\": {\n\t\t\t\t\t\"I\": 'infra_pod',\n\t\t\t\t\t\"A\": 'exec',\n\t\t\t\t\t\"M\": \"Execute commands inside a pod\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"delete\": {\n\t\t\t\t\"/cd/token\": {\n\t\t\t\t\t\"I\": 'infra_cd_token',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a continuous delivery token\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/workload/:mode\": {\n\t\t\t\t\t\"I\": 'infra_workload',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a Workload (Deployment, DaemonSet, CronJob, HPA)\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/pods\": {\n\t\t\t\t\t\"I\": 'infra_pod',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a Pod\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/configuration/:mode\": {\n\t\t\t\t\t\"I\": 'infra_configuration',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a Configuration (secret)\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/service/:mode\": {\n\t\t\t\t\t\"I\": 'infra_service',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a Service\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/item\": {\n\t\t\t\t\t\"I\": 'infra_item',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete an item deployment\"\n\t\t\t\t},\n\t\t\t\t\"/account/kubernetes\": {\n\t\t\t\t\t\"I\": 'infra_account',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a cluster\"\n\t\t\t\t},\n\t\t\t\t\"/account/kubernetes/acl\": {\n\t\t\t\t\t\"I\": 'infra_account',\n\t\t\t\t\t\"A\": 'deleteAcl',\n\t\t\t\t\t\"M\": \"Delete the cluster group configuration\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"console\": {\n\t\t\t\"post\": {\n\t\t\t\t\"/environment\": {\n\t\t\t\t\t\"I\": 'env',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add an environment\"\n\t\t\t\t},\n\t\t\t\t\"/registry/custom\": {\n\t\t\t\t\t\"I\": 'registry_custom',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a custom registry\"\n\t\t\t\t},\n\t\t\t\t\"/registry/resource\": {\n\t\t\t\t\t\"I\": 'registry_resource',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a resource registry\"\n\t\t\t\t},\n\t\t\t\t\"/registry/db/custom\": {\n\t\t\t\t\t\"I\": 'registry_db',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a database\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"put\": {\n\t\t\t\t\"/registry/throttling\": {\n\t\t\t\t\t\"I\": 'registry',\n\t\t\t\t\t\"A\": 'throttling',\n\t\t\t\t\t\"M\": \"Add, Update and delete throttling\"\n\t\t\t\t},\n\t\t\t\t\"/registry/db/prefix\": {\n\t\t\t\t\t\"I\": 'registry_db',\n\t\t\t\t\t\"A\": 'prefix',\n\t\t\t\t\t\"M\": \"Update global databases prefix for an environment\"\n\t\t\t\t},\n\t\t\t\t\"/environment/acl\": {\n\t\t\t\t\t\"I\": 'env_aclGroups',\n\t\t\t\t\t\"A\": 'update',\n\t\t\t\t\t\"M\": \"Update the environment group configuration\"\n\t\t\t\t},\n\t\t\t\t\"/environment\": {\n\t\t\t\t\t\"I\": 'env',\n\t\t\t\t\t\"A\": 'update',\n\t\t\t\t\t\"M\": \"Update the environment\"\n\t\t\t\t},\n\t\t\t\t\"/registry/custom/acl\": {\n\t\t\t\t\t\"I\": 'registry_custom',\n\t\t\t\t\t\"A\": 'update_acl',\n\t\t\t\t\t\"M\": \"Update the custom registry group configuration\"\n\t\t\t\t},\n\t\t\t\t\"/registry/resource/acl\": {\n\t\t\t\t\t\"I\": 'registry_resource',\n\t\t\t\t\t\"A\": 'update_acl',\n\t\t\t\t\t\"M\": \"Update the resource registry group configuration\"\n\t\t\t\t},\n\t\t\t\t\"/registry/custom\": {\n\t\t\t\t\t\"I\": 'registry_custom',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Edit and plug/unplug a custom registry\"\n\t\t\t\t},\n\t\t\t\t\"/registry/resource\": {\n\t\t\t\t\t\"I\": 'registry_resource',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Edit and plug/unplug a resource registry\"\n\t\t\t\t},\n\t\t\t\t\"/registry\": {\n\t\t\t\t\t\"I\": 'registry',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Edit registry\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"delete\": {\n\t\t\t\t\"/registry/db/custom\": {\n\t\t\t\t\t\"I\": 'registry_db',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a database\"\n\t\t\t\t},\n\t\t\t\t\"/registry/custom/acl\": {\n\t\t\t\t\t\"I\": 'registry_custom',\n\t\t\t\t\t\"A\": 'delete_acl',\n\t\t\t\t\t\"M\": \"Delete the custom registry group configuration\"\n\t\t\t\t},\n\t\t\t\t\"/registry/custom\": {\n\t\t\t\t\t\"I\": 'registry_custom',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a custom registry\"\n\t\t\t\t},\n\t\t\t\t\"/registry/resource/acl\": {\n\t\t\t\t\t\"I\": 'registry_resource',\n\t\t\t\t\t\"A\": 'delete_acl',\n\t\t\t\t\t\"M\": \"Delete the resource registry group configuration\"\n\t\t\t\t},\n\t\t\t\t\"/registry/resource\": {\n\t\t\t\t\t\"I\": 'registry_resource',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a resource registry configuration\"\n\t\t\t\t},\n\t\t\t\t\"/environment/acl\": {\n\t\t\t\t\t\"I\": 'env_aclGroups',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete the environment group configuration\"\n\t\t\t\t},\n\t\t\t\t\"/environment\": {\n\t\t\t\t\t\"I\": 'env',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete an environment\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"marketplace\": {\n\t\t\t\"post\": {\n\t\t\t\t\"/recipe\": {\n\t\t\t\t\t\"I\": 'market_recipe',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a recipe\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"put\": {\n\t\t\t\t\"/item/resource\": {\n\t\t\t\t\t\"I\": 'market_item_resource',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add/Update a resource item\"\n\t\t\t\t},\n\t\t\t\t\"/item/deploy/build\": {\n\t\t\t\t\t\"I\": 'market_item',\n\t\t\t\t\t\"A\": 'build',\n\t\t\t\t\t\"M\": \"Save deployment configuration and deploy\"\n\t\t\t\t},\n\t\t\t\t\"/item/deploy/configure\": {\n\t\t\t\t\t\"I\": 'market_item',\n\t\t\t\t\t\"A\": 'configure',\n\t\t\t\t\t\"M\": \"Configure a deployment for an item\"\n\t\t\t\t},\n\t\t\t\t\"/item/deploy/redeploy\": {\n\t\t\t\t\t\"I\": 'market_item',\n\t\t\t\t\t\"A\": 'redeploy',\n\t\t\t\t\t\"M\": \"Redeploy an item\"\n\t\t\t\t},\n\t\t\t\t\"/recipe\": {\n\t\t\t\t\t\"I\": 'market_recipe',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Edit a recipe\"\n\t\t\t\t},\n\t\t\t\t\"/item/acl\": {\n\t\t\t\t\t\"I\": 'market_item',\n\t\t\t\t\t\"A\": 'settings_groups',\n\t\t\t\t\t\"M\": \"Update the item group configuration\"\n\t\t\t\t},\n\t\t\t\t\"/item/environments\": {\n\t\t\t\t\t\"I\": 'market_item',\n\t\t\t\t\t\"A\": 'settings_environments',\n\t\t\t\t\t\"M\": \"Update the item environment configuration\"\n\t\t\t\t},\n\t\t\t\t\"/item/recipes\": {\n\t\t\t\t\t\"I\": 'market_item',\n\t\t\t\t\t\"A\": 'settings_recipe',\n\t\t\t\t\t\"M\": \"Update the item recipe configuration\"\n\t\t\t\t},\n\t\t\t\t\"/soajs/item/acl\": {\n\t\t\t\t\t\"I\": 'market_item_soajs',\n\t\t\t\t\t\"A\": 'settings_groups',\n\t\t\t\t\t\"M\": \"Update a soajs item group configuration\"\n\t\t\t\t},\n\t\t\t\t\"/soajs/item/environments\": {\n\t\t\t\t\t\"I\": 'market_item_soajs',\n\t\t\t\t\t\"A\": 'settings_environments',\n\t\t\t\t\t\"M\": \"Update a soajs item environment configuration\"\n\t\t\t\t},\n\t\t\t\t\"/soajs/item/recipes\": {\n\t\t\t\t\t\"I\": 'market_item_soajs',\n\t\t\t\t\t\"A\": 'settings_recipe',\n\t\t\t\t\t\"M\": \"Update a soajs item recipe configuration\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"delete\": {\n\t\t\t\t\"/item\": {\n\t\t\t\t\t\"I\": 'market_item',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete an item from a catalog (Resource)\"\n\t\t\t\t},\n\t\t\t\t\"/item/configure/deploy\": {\n\t\t\t\t\t\"I\": 'market_item_configure',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete the deployment configuration of an item\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"repositories\": {\n\t\t\t\"post\": {\n\t\t\t\t\"/git/account\": {\n\t\t\t\t\t\"I\": 'repo_account',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a git account\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"put\": {\n\t\t\t\t\"/git/sync/account\": {\n\t\t\t\t\t\"I\": 'repo_account',\n\t\t\t\t\t\"A\": 'synchronize',\n\t\t\t\t\t\"M\": \"Synchronize a git account\"\n\t\t\t\t},\n\t\t\t\t\"/git/account\": {\n\t\t\t\t\t\"I\": 'repo_account',\n\t\t\t\t\t\"A\": 'upgrade',\n\t\t\t\t\t\"M\": \"Upgrade a git account from public to private\"\n\t\t\t\t},\n\t\t\t\t\"/git/repo/activate\": {\n\t\t\t\t\t\"I\": 'repo',\n\t\t\t\t\t\"A\": 'turnOn',\n\t\t\t\t\t\"M\": \"Turn on a repository\"\n\t\t\t\t},\n\t\t\t\t\"/git/repo/deactivate\": {\n\t\t\t\t\t\"I\": 'repo',\n\t\t\t\t\t\"A\": 'turnOff',\n\t\t\t\t\t\"M\": \"Turn off a repository\"\n\t\t\t\t},\n\t\t\t\t\"/git/sync/repository\": {\n\t\t\t\t\t\"I\": 'repo',\n\t\t\t\t\t\"A\": 'synchronize',\n\t\t\t\t\t\"M\": \"Synchronise a repository\"\n\t\t\t\t},\n\t\t\t\t\"/git/branch/activate\": {\n\t\t\t\t\t\"I\": 'repo_branch',\n\t\t\t\t\t\"A\": 'turnOn',\n\t\t\t\t\t\"M\": \"Turn on a branch\"\n\t\t\t\t},\n\t\t\t\t\"/git/branch/deactivate\": {\n\t\t\t\t\t\"I\": 'repo_branch',\n\t\t\t\t\t\"A\": 'turnOff',\n\t\t\t\t\t\"M\": \"Turn off a branch\"\n\t\t\t\t},\n\t\t\t\t\"/git/sync/branch\": {\n\t\t\t\t\t\"I\": 'repo_branch',\n\t\t\t\t\t\"A\": 'synchronize',\n\t\t\t\t\t\"M\": \"Synchronise a branch\"\n\t\t\t\t},\n\t\t\t\t\"/git/tag/activate\": {\n\t\t\t\t\t\"I\": 'repo_tag',\n\t\t\t\t\t\"A\": 'turnOn',\n\t\t\t\t\t\"M\": \"Turn on a tag\"\n\t\t\t\t},\n\t\t\t\t\"/git/tag/deactivate\": {\n\t\t\t\t\t\"I\": 'repo_tag',\n\t\t\t\t\t\"A\": 'turnOff',\n\t\t\t\t\t\"M\": \"Turn off a tag\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"delete\": {\n\t\t\t\t\"/git/account\": {\n\t\t\t\t\t\"I\": 'repo_account',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a git account\"\n\t\t\t\t},\n\t\t\t\t\"/git/repo\": {\n\t\t\t\t\t\"I\": 'repo',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a repository\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"multitenant\": {\n\t\t\t\"put\": {\n\t\t\t\t\"/product\": {\n\t\t\t\t\t\"I\": 'product',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Edit a product\"\n\t\t\t\t},\n\t\t\t\t\"/product/package\": {\n\t\t\t\t\t\"I\": 'package',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Edit a product package\"\n\t\t\t\t},\n\t\t\t\t\"/product/package/acl/env\": {\n\t\t\t\t\t\"I\": 'package',\n\t\t\t\t\t\"A\": 'acl',\n\t\t\t\t\t\"M\": \"Edit a product package ACL\"\n\t\t\t\t},\n\t\t\t\t\"/product/console/package\": {\n\t\t\t\t\t\"I\": 'console_package',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Edit the information of a console package\"\n\t\t\t\t},\n\t\t\t\t\"/product/console/package/acl/env\": {\n\t\t\t\t\t\"I\": 'console_package',\n\t\t\t\t\t\"A\": 'acl',\n\t\t\t\t\t\"M\": \"Edit the ACL of a console package\"\n\t\t\t\t},\n\t\t\t\t\"/admin/tenant/application/key/config\": {\n\t\t\t\t\t\"I\": 'tenant_application_key',\n\t\t\t\t\t\"A\": 'configure',\n\t\t\t\t\t\"M\": \"Configure tenant application key by environment\"\n\t\t\t\t},\n\t\t\t\t\"/admin/tenant/application/key/ext\": {\n\t\t\t\t\t\"I\": 'tenant_application_ekey',\n\t\t\t\t\t\"A\": 'configure',\n\t\t\t\t\t\"M\": \"Configure tenant application external key by environment\"\n\t\t\t\t},\n\t\t\t\t\"/admin/tenant/oauth\": {\n\t\t\t\t\t\"I\": 'tenant',\n\t\t\t\t\t\"A\": 'configure',\n\t\t\t\t\t\"M\": \"Configure tenant oauth\"\n\t\t\t\t},\n\t\t\t\t\"/admin/tenant\": {\n\t\t\t\t\t\"I\": 'tenant',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Update tenant\"\n\t\t\t\t},\n\t\t\t\t\"/admin/tenant/application\": {\n\t\t\t\t\t\"I\": 'tenant_application',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Update tenant application\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"post\": {\n\t\t\t\t\"/product\": {\n\t\t\t\t\t\"I\": 'product',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a product\"\n\t\t\t\t},\n\t\t\t\t\"/product/package\": {\n\t\t\t\t\t\"I\": 'package',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a product package\"\n\t\t\t\t},\n\t\t\t\t\"/product/console/package\": {\n\t\t\t\t\t\"I\": 'console_package',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a console package\"\n\t\t\t\t},\n\t\t\t\t\"/admin/tenant/application/key\": {\n\t\t\t\t\t\"I\": 'tenant_application_key',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a tenant application key\"\n\t\t\t\t},\n\t\t\t\t\"/tenant\": {\n\t\t\t\t\t\"I\": 'tenant',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a tenant\"\n\t\t\t\t},\n\t\t\t\t\"/admin/tenant/application\": {\n\t\t\t\t\t\"I\": 'tenant_application',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a tenant application\"\n\t\t\t\t},\n\t\t\t\t\"/admin/tenant/application/key/ext\": {\n\t\t\t\t\t\"I\": 'tenant_application_ekey',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a tenant application external key\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"delete\": {\n\t\t\t\t\"/product\": {\n\t\t\t\t\t\"I\": 'product',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a product\"\n\t\t\t\t},\n\t\t\t\t\"/product/package\": {\n\t\t\t\t\t\"I\": 'package',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a product package\"\n\t\t\t\t},\n\t\t\t\t\"/product/console/package\": {\n\t\t\t\t\t\"I\": 'console_package',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a console package\"\n\t\t\t\t},\n\t\t\t\t\"/tenant\": {\n\t\t\t\t\t\"I\": 'tenant',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a tenant\"\n\t\t\t\t},\n\t\t\t\t\"/tenant/application\": {\n\t\t\t\t\t\"I\": 'tenant_application',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a tenant application\"\n\t\t\t\t},\n\t\t\t\t\"/tenant/application/key\": {\n\t\t\t\t\t\"I\": 'tenant_application_key',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a tenant application key\"\n\t\t\t\t},\n\t\t\t\t\"/tenant/application/key/ext\": {\n\t\t\t\t\t\"I\": 'tenant_application_ekey',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a tenant application external key\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"urac\": {\n\t\t\t\"put\": {\n\t\t\t\t\"/admin/group\": {\n\t\t\t\t\t\"I\": 'group',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Edit a group\"\n\t\t\t\t},\n\t\t\t\t\"/admin/user\": {\n\t\t\t\t\t\"I\": 'user',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Edit a user\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"post\": {\n\t\t\t\t\"/admin/group\": {\n\t\t\t\t\t\"I\": 'group',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a group\"\n\t\t\t\t},\n\t\t\t\t\"/admin/user\": {\n\t\t\t\t\t\"I\": 'user',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a user\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"delete\": {\n\t\t\t\t\"/admin/group\": {\n\t\t\t\t\t\"I\": 'group',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a group\"\n\t\t\t\t},\n\t\t\t\t\"/admin/user\": {\n\t\t\t\t\t\"I\": 'user',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a user\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"default\": {\n\t\t\"infra\": {\n\t\t\t\"get\": {\n\t\t\t\t\"/cd/tokens\": {\n\t\t\t\t\t\"M\": \"Get the list of continuous delivery tokens\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/clusters/Namespace\": {\n\t\t\t\t\t\"M\": \"Get the list of available namespaces\"\n\t\t\t\t},\n\t\t\t\t\"/account/kubernetes\": {\n\t\t\t\t\t\"M\": \"Get the list of available infrastructure accounts\"\n\t\t\t\t},\n\t\t\t\t\"/manual/awareness\": {\n\t\t\t\t\t\"M\": \"Trigger manual awareness\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/workloads/:mode\": {\n\t\t\t\t\t\"M\": \"Get the list of available workload by mode\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/clusters/:mode\": {\n\t\t\t\t\t\"M\": \"Get the list of available cluster by mode\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/configurations/:mode\": {\n\t\t\t\t\t\"M\": \"Get the list of available configurations by mode\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/services/:mode\": {\n\t\t\t\t\t\"M\": \"Get the list of available services by mode\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/item/inspect\": {\n\t\t\t\t\t\"M\": \"Inspect an item\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"console\": {\n\t\t\t\"get\": {\n\t\t\t\t\"/api/acl/usage/tenants\": {\n\t\t\t\t\t\"M\": \"Get the API usage information by tenant and environment\"\n\t\t\t\t},\n\t\t\t\t\"/api/acl/usage\": {\n\t\t\t\t\t\"M\": \"Get the API usage information by product and environment\"\n\t\t\t\t},\n\t\t\t\t\"/dashboard/services\": {\n\t\t\t\t\t\"M\": \"Get the list of available Services\"\n\t\t\t\t},\n\t\t\t\t\"/dashboard/apis/v2\": {\n\t\t\t\t\t\"M\": \"Get the list of available APIs as well as the related metadata\"\n\t\t\t\t},\n\t\t\t\t\"/apis/v2\": {\n\t\t\t\t\t\"M\": \"Get the list of available APIs\"\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t\"/ledger\": {\n\t\t\t\t\t\"M\": \"Get the list of available notifications\"\n\t\t\t\t},\n\t\t\t\t\"/registry/throttling\": {\n\t\t\t\t\t\"M\": \"Get the list of available throttling by environment\"\n\t\t\t\t},\n\t\t\t\t\"/registry/custom\": {\n\t\t\t\t\t\"M\": \"Get the list of available custom registry by environment\"\n\t\t\t\t},\n\t\t\t\t\"/registry/resource\": {\n\t\t\t\t\t\"M\": \"Get the list of available resource configuration by environment\"\n\t\t\t\t},\n\t\t\t\t\"/environment\": {\n\t\t\t\t\t\"M\": \"Get the list of available environment\"\n\t\t\t\t},\n\t\t\t\t\"/environment/settings\": {\n\t\t\t\t\t\"M\": \"Get the environment settings\"\n\t\t\t\t},\n\t\t\t\t\"/registry/deployer\": {\n\t\t\t\t\t\"M\": \"Get the environment infrastructure deployment information\"\n\t\t\t\t},\n\t\t\t\t\"/registry\": {\n\t\t\t\t\t\"M\": \"Get the registry information by environment\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"marketplace\": {\n\t\t\t\"get\": {\n\t\t\t\t\"/recipes/ids\": {\n\t\t\t\t\t\"M\": \"Get the list of specific recipes by IDs\"\n\t\t\t\t},\n\t\t\t\t\"/recipes\": {\n\t\t\t\t\t\"M\": \"Get the list of available recipes\"\n\t\t\t\t},\n\t\t\t\t\"/soajs/items\": {\n\t\t\t\t\t\"M\": \"Get the list of available soajs items\"\n\t\t\t\t},\n\t\t\t\t\"/items\": {\n\t\t\t\t\t\"M\": \"Get the list of available items\"\n\t\t\t\t},\n\t\t\t\t\"/item/type\": {\n\t\t\t\t\t\"M\": \"Get an item by type\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"put\": {\n\t\t\t\t\"/item/maintenance\": {\n\t\t\t\t\t\"M\": \"Trigger maintenance command on an item\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"multitenant\": {\n\t\t\t\"get\": {\n\t\t\t\t\"/product/console\": {\n\t\t\t\t\t\"M\": \"Get the information of the console product\"\n\t\t\t\t},\n\t\t\t\t\"/products\": {\n\t\t\t\t\t\"M\": \"Get the list of available products\"\n\t\t\t\t},\n\t\t\t\t\"/product\": {\n\t\t\t\t\t\"M\": \"Get the information of a specific product\"\n\t\t\t\t},\n\t\t\t\t\"/tenants\": {\n\t\t\t\t\t\"M\": \"Get the list of available tenants\"\n\t\t\t\t},\n\t\t\t\t\"/tenant/tenants\": {\n\t\t\t\t\t\"M\": \"Get the list of available sub tenants for a specific main tenant\"\n\t\t\t\t},\n\t\t\t\t\"/admin/tenant\": {\n\t\t\t\t\t\"M\": \"Get the information of a specific tenant\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"repositories\": {\n\t\t\t\"get\": {\n\t\t\t\t\"/git/account\": {\n\t\t\t\t\t\"M\": \"Get the infromation of a specific git account\"\n\t\t\t\t},\n\t\t\t\t\"/git/accounts\": {\n\t\t\t\t\t\"M\": \"Get the list of available git accounts\"\n\t\t\t\t},\n\t\t\t\t\"/git/tag\": {\n\t\t\t\t\t\"M\": \"Get a specific tag by repository\"\n\t\t\t\t},\n\t\t\t\t\"/git/tags\": {\n\t\t\t\t\t\"M\": \"Get the list of available tags by repository\"\n\t\t\t\t},\n\t\t\t\t\"/git/branch\": {\n\t\t\t\t\t\"M\": \"Get the list of available branches by repository\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"post\": {\n\t\t\t\t\"/git/repos\": {\n\t\t\t\t\t\"M\": \"List repositories with advance search capabilities\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"urac\": {\n\t\t\t\"get\": {\n\t\t\t\t\"/admin/groups\": {\n\t\t\t\t\t\"M\": \"List of groups\"\n\t\t\t\t},\n\t\t\t\t\"/admin/users\": {\n\t\t\t\t\t\"M\": \"List of users\"\n\t\t\t\t},\n\t\t\t\t\"/admin/users/count\": {\n\t\t\t\t\t\"M\": \"Count of users\"\n\t\t\t\t},\n\t\t\t\t\"/password/forgot\": {\n\t\t\t\t\t\"isPublic\": true,\n\t\t\t\t\t\"M\": \"Request a forgot password email\"\n\t\t\t\t},\n\t\t\t\t\"/user\": {\n\t\t\t\t\t\"M\": \"Get the logged in user information\"\n\t\t\t\t},\n\t\t\t\t\"/emailToken\": {\n\t\t\t\t\t\"isPublic\": true,\n\t\t\t\t\t\"M\": \"Email a token if the previous one expired\"\n\t\t\t\t},\n\t\t\t\t\"/validate/changeEmail\": {\n\t\t\t\t\t\"isPublic\": true,\n\t\t\t\t\t\"M\": \"Validate the email of changed email\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"put\": {\n\t\t\t\t\"/account\": {\n\t\t\t\t\t\"M\": \"Update account information\"\n\t\t\t\t},\n\t\t\t\t\"/account/email\": {\n\t\t\t\t\t\"M\": \"Update the email\"\n\t\t\t\t},\n\t\t\t\t\"/account/password\": {\n\t\t\t\t\t\"M\": \"Update the password\"\n\t\t\t\t},\n\t\t\t\t\"/pasword/reset\": {\n\t\t\t\t\t\"isPublic\": true,\n\t\t\t\t\t\"M\": \"Reset the password\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"oauth\": {\n\t\t\t\"get\": {\n\t\t\t\t\"/available/login\": {\n\t\t\t\t\t\"isPublic\": true,\n\t\t\t\t\t\"M\": \"Available third party login\"\n\t\t\t\t},\n\t\t\t\t\"/passport/login/:strategy\": {\n\t\t\t\t\t\"isPublic\": true,\n\t\t\t\t\t\"M\": \"Login with third party\"\n\t\t\t\t},\n\t\t\t\t\"/passport/validate/:strategy\": {\n\t\t\t\t\t\"isPublic\": true,\n\t\t\t\t\t\"M\": \"Validate a third party login\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"post\": {\n\t\t\t\t\"/token\": {\n\t\t\t\t\t\"isPublic\": true,\n\t\t\t\t\t\"M\": \"Login and get a valid access token\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"delete\": {\n\t\t\t\t\"/accessToken/:token\": {\n\t\t\t\t\t\"isPublic\": true,\n\t\t\t\t\t\"M\": \"Delete the access token\"\n\t\t\t\t},\n\t\t\t\t\"/refreshToken/:token\": {\n\t\t\t\t\t\"isPublic\": true,\n\t\t\t\t\t\"M\": \"Delete the refresh token\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"soaanalytics\": {\n\t\t\t\"get\": {\n\t\t\t\t\"/api/acl/usage\": {\n\t\t\t\t\t\"M\": \"Get the API usage information by tenant, product and environment\"\n\t\t\t\t},\n\t\t\t\t\"/dashboard/services\": {\n\t\t\t\t\t\"M\": \"Get the list of available Services\"\n\t\t\t\t},\n\t\t\t\t\"/dashboard/apis/v2\": {\n\t\t\t\t\t\"M\": \"Get the list of available APIs as well as the related metadata\"\n\t\t\t\t},\n\t\t\t\t\"/apis/v2\": {\n\t\t\t\t\t\"M\": \"Get the list of available APIs\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"soamonitor\": {\n\t\t\t\"get\": {\n\t\t\t\t\"/monitor/analytics/:type\": {\n\t\t\t\t\t\"M\": \"Get the analytic information per type (API, Service, tenant, User)\"\n\t\t\t\t},\n\t\t\t\t\"/monitor/items\": {\n\t\t\t\t\t\"M\": \"Get the list of daily API requests\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"versions\": {\n\t\t\"console\": \"1\",\n\t\t\"marketplace\": \"1\",\n\t\t\"repositories\": \"1\",\n\t\t\"multitenant\": \"1\",\n\t\t\"urac\": \"3\",\n\t\t\"oauth\": \"1\",\n\t\t\"infra\": \"1\",\n\t\t\"soaanalytics\": \"1\",\n\t\t\"soamonitor\": \"1\"\n\t}\n};\n\nexport default APIs;","import {AbilityBuilder} from '@casl/ability';\nimport {UracService} from \"./index\";\nimport {NotificationManager} from \"../components\";\n\nimport APIs from \"../../../availableAbilities\";\n\nconst uracService = UracService.getService();\n\n\nasync function updateAbility(ability, extKey) {\n\tconst {can, rules} = new AbilityBuilder();\n\tlet userACL = null;\n\ttry {\n\t\tuserACL = await uracService.getUserACL(extKey);\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n\tif (userACL && userACL.finalACL) {\n\t\tlet abilityAdded = 0;\n\t\tif (APIs && APIs.abilities) {\n\t\t\tlet services = Object.keys(APIs.abilities);\n\t\t\tfor (let i = 0; i < services.length; i++) {\n\t\t\t\tif (userACL.finalACL[services[i]]) {\n\t\t\t\t\tlet allAPiAvailable = false;\n\t\t\t\t\tif (userACL.acl[services[i]] &&\n\t\t\t\t\t\tuserACL.acl[services[i]][APIs.versions[services[i]]] &&\n\t\t\t\t\t\t(!userACL.acl[services[i]][APIs.versions[services[i]]].apisPermission ||\n\t\t\t\t\t\t\tuserACL.acl[services[i]][APIs.versions[services[i]]].apisPermission !== \"restricted\")) {\n\t\t\t\t\t\tallAPiAvailable = true;\n\t\t\t\t\t}\n\t\t\t\t\tlet methods = Object.keys(APIs.abilities[services[i]]);\n\t\t\t\t\tfor (let j = 0; j < methods.length; j++) {\n\t\t\t\t\t\tlet apis = Object.keys(APIs.abilities[services[i]][methods[j]]);\n\t\t\t\t\t\tfor (let k = 0; k < apis.length; k++) {\n\t\t\t\t\t\t\tlet enableThisAbility = false;\n\t\t\t\t\t\t\tif (!allAPiAvailable) {\n\t\t\t\t\t\t\t\tif (userACL.finalACL[services[i]][methods[j]] &&\n\t\t\t\t\t\t\t\t\tuserACL.finalACL[services[i]][methods[j]].includes(apis[k])) {\n\t\t\t\t\t\t\t\t\tenableThisAbility = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tenableThisAbility = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (enableThisAbility) {\n\t\t\t\t\t\t\t\tif (Array.isArray(APIs.abilities[services[i]][methods[j]][apis[k]])) {\n\t\t\t\t\t\t\t\t\tfor (let l = 0; l < APIs.abilities[services[i]][methods[j]][apis[k]].length; l++) {\n\t\t\t\t\t\t\t\t\t\tif (APIs.abilities[services[i]][methods[j]][apis[k]][l].I &&\n\t\t\t\t\t\t\t\t\t\t\tAPIs.abilities[services[i]][methods[j]][apis[k]][l].A) {\n\t\t\t\t\t\t\t\t\t\t\tcan(APIs.abilities[services[i]][methods[j]][apis[k]][l].I, APIs.abilities[services[i]][methods[j]][apis[k]][l].A);\n\t\t\t\t\t\t\t\t\t\t\tabilityAdded++;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"Skipping: \", APIs.abilities[services[i]][methods[j]][apis[k]][l].M);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (APIs.abilities[services[i]][methods[j]][apis[k]].I &&\n\t\t\t\t\t\t\t\t\t\tAPIs.abilities[services[i]][methods[j]][apis[k]].A) {\n\t\t\t\t\t\t\t\t\t\tcan(APIs.abilities[services[i]][methods[j]][apis[k]].I, APIs.abilities[services[i]][methods[j]][apis[k]].A);\n\t\t\t\t\t\t\t\t\t\tabilityAdded++\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"Skipping: \", APIs.abilities[services[i]][methods[j]][apis[k]].M);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (Array.isArray(APIs.abilities[services[i]][methods[j]][apis[k]])) {\n\t\t\t\t\t\t\t\t\tfor (let l = 0; l < APIs.abilities[services[i]][methods[j]][apis[k]].length; l++) {\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"Disabled: \", APIs.abilities[services[i]][methods[j]][apis[k]][l].I, APIs.abilities[services[i]][methods[j]][apis[k]][l].A);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tconsole.log(\"Disabled: \", APIs.abilities[services[i]][methods[j]][apis[k]].I, APIs.abilities[services[i]][methods[j]][apis[k]].A);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconsole.log(\"Abilities Added: \" + abilityAdded);\n\t}\n\tability.update(rules);\n}\n\nconst AbilitiesService = (function () {\n\tlet _service;\n\t\n\tfunction _getService() {\n\t\tif (!_service) {\n\t\t\t_service = this;\n\t\t\treturn _service\n\t\t}\n\t\treturn _service\n\t}\n\t\n\tfunction _createUserAbilities(ability) {\n\t\treturn new Promise((resolve) => {\n\t\t\tability.on('updated', resolve);\n\t\t\tupdateAbility(ability, null);\n\t\t});\n\t}\n\t\n\tfunction _updateUserAbilities(ability, extKey) {\n\t\treturn new Promise((resolve) => {\n\t\t\tability.on('updated', resolve);\n\t\t\tupdateAbility(ability, extKey);\n\t\t});\n\t}\n\t\n\treturn {\n\t\tgetService: _getService,\n\t\tcreateUserAbilities: _createUserAbilities,\n\t\tupdateUserAbilities: _updateUserAbilities\n\t}\n})();\nexport default AbilitiesService;","import React, {useEffect, useState} from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport {Link} from 'react-router-dom';\nimport {useAppContext} from \"../../libs/contextLib\";\nimport {useFormFields} from \"../../libs/hooksLib\";\nimport {LoaderButton} from \"../../helpers\";\n\nimport {NotificationManager, ThirdPartyLogin} from '../components';\nimport {AbilitiesService, LocalStorageService, OauthService, UracService} from \"../services\";\nimport {useTranslation} from \"react-i18next\";\n\nconst localStorageService = LocalStorageService.getService();\nconst oauthService = OauthService.getService();\nconst uracService = UracService.getService();\nconst abilitiesService = AbilitiesService.getService();\n\nexport default function Login() {\n\tconst {t} = useTranslation([\"common\", \"urac\"]);\n\tconst {isAuthenticated, userHasAuthenticated, setFirstName, ability} = useAppContext();\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [isThirdParty, setIsThirdParty] = useState(false);\n\tconst [loginOptions, setLoginOptions] = useState({\n\t\t\"local\": {\"available\": true},\n\t\t\"thirdparty\": []\n\t});\n\tconst [fields, handleFieldChange] = useFormFields({\n\t\temail: \"\",\n\t\tpassword: \"\"\n\t});\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (!isAuthenticated) {\n\t\t\t\t\tconst res = await oauthService.availableLogin();\n\t\t\t\t\t// let res = {\n\t\t\t\t\t// \t\"local\": {\"available\": true},\n\t\t\t\t\t// \t\"thirdparty\": [\"facebook\", \"google\", \"twitter\", \"apple\"]\n\t\t\t\t\t// };\n\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\tsetLoginOptions(res);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t//NotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, [isAuthenticated]);\n\t\n\tfunction validateForm() {\n\t\treturn fields.email.length > 0 && fields.password.length > 0;\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\t\n\t\tsetIsLoading(true);\n\t\t\n\t\ttry {\n\t\t\tawait oauthService.login(fields.email, fields.password);\n\t\t\tawait uracService.getUser();\n\t\t\tawait abilitiesService.createUserAbilities(ability);\n\t\t\tsetIsLoading(false);\n\t\t\tsetFirstName(localStorageService.getFirstname());\n\t\t\tuserHasAuthenticated(true);\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t\tsetIsLoading(false);\n\t\t}\n\t\t\n\t}\n\t\n\tasync function handleThirdParty(event, strategy) {\n\t\tevent.preventDefault();\n\t\t\n\t\tsetIsThirdParty(true);\n\t\t\n\t\ttry {\n\t\t\tawait oauthService.thirdPartyLogin(strategy);\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t\t\n\t\tsetIsThirdParty(false);\n\t}\n\t\n\treturn (\n\t\t<div className=\"URAC\">\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group controlId=\"email\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Email or Username\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tvalue={fields.email}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"password\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Password\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={fields.password}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Text className=\"pb-3 text-right\" muted>\n\t\t\t\t\t<Link to=\"/forgot-password\">{t(\"urac:Forgot Password\")}</Link>\n\t\t\t\t</Form.Text>\n\t\t\t\t<LoaderButton\n\t\t\t\t\tblock\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"urac:button.Login\")}\n\t\t\t\t</LoaderButton>\n\t\t\t\t<ThirdPartyLogin\n\t\t\t\t\tstrategies={loginOptions.thirdparty}\n\t\t\t\t\tonRequest={handleThirdParty}\n\t\t\t\t\tisThirdParty={isThirdParty}\n\t\t\t\t/>\n\t\t\t</Form>\n\t\t</div>\n\t);\n}","import React, {useState} from \"react\";\nimport Form from \"react-bootstrap/Form\";\n\nimport {useFormFields} from \"../../libs/hooksLib\";\nimport {LoaderButton} from \"../../helpers\";\n\nimport {NotificationManager} from '../components';\nimport {UracService} from \"../services\";\nimport {useTranslation} from \"react-i18next\";\n\nconst uracService = UracService.getService();\n\nexport default function ForgotPassword() {\n\tconst {t} = useTranslation([\"common\", \"urac\"]);\n\tconst [fields, handleFieldChange] = useFormFields({\n\t\tusername: \"\"\n\t});\n\tconst [isLoading, setIsLoading] = useState(false);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.username.length > 0\n\t\t);\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\t\n\t\tsetIsLoading(true);\n\t\t\n\t\ttry {\n\t\t\tawait uracService.forgotPassword(fields.username);\n\t\t\tNotificationManager.success(t(\"urac:msg.forgotPasswordSuccess\"));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t\t\n\t\tsetIsLoading(false);\n\t}\n\t\n\treturn (\n\t\t<div className=\"URAC\">\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group controlId=\"username\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Email or Username\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype=\"username\"\n\t\t\t\t\t\tvalue={fields.password}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{t(\"urac:msg.forgotPassword\")}\n\t\t\t\t</Form.Text>\n\t\t\t\t<LoaderButton\n\t\t\t\t\tblock\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"urac:button.Request\")}\n\t\t\t\t</LoaderButton>\n\t\t\t</Form>\n\t\t</div>\n\t);\n}","import React, {useState} from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport {useHistory, useLocation, Link} from \"react-router-dom\";\n\nimport {LoaderButton} from \"../../helpers\";\nimport {useFormFields} from \"../../libs/hooksLib\";\n\nimport {NotificationManager} from '../components';\nimport {UracService} from \"../services\";\nimport {useTranslation} from \"react-i18next\";\n\nconst uracService = UracService.getService();\n\nexport default function ResetPassword() {\n\tconst {t} = useTranslation([\"common\", \"urac\"]);\n\tconst [fields, handleFieldChange] = useFormFields({\n\t\tnewPassword: \"\",\n\t\tconfirmNewPassword: \"\"\n\t});\n\tconst [isLoading, setIsLoading] = useState(false);\n\t\n\tconst history = useHistory();\n\t\n\tfunction useQuery() {\n\t\treturn new URLSearchParams(useLocation().search);\n\t}\n\t\n\tlet query = useQuery();\n\tconst token = query.get(\"token\");\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.newPassword.length > 0 &&\n\t\t\tfields.newPassword === fields.confirmNewPassword\n\t\t);\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\t\n\t\tsetIsLoading(true);\n\t\t\n\t\ttry {\n\t\t\tawait uracService.resetPassword(token, fields.newPassword, fields.confirmNewPassword);\n\t\t\tNotificationManager.success(t(\"urac:msg.resetPasswordSuccess\"));\n\t\t\tsetIsLoading(false);\n\t\t\thistory.push(\"/home\");\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t\tsetIsLoading(false);\n\t\t}\n\t\t\n\t}\n\t\n\tfunction validatingForm() {\n\t\treturn (\n\t\t\t<Form>\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{t(\"urac:msg.resetPasswordError\")}\n\t\t\t\t\t@ <Link to=\"/forgot-password\">{t(\"urac:Forgot Password\")}</Link>.\n\t\t\t\t</Form.Text>\n\t\t\t</Form>\n\t\t);\n\t}\n\t\n\tfunction resetForm() {\n\t\treturn (\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group controlId=\"newPassword\">\n\t\t\t\t\t<Form.Label>{t(\"urac:New Password\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={fields.newPassword}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"confirmNewPassword\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Confirm Password\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\tvalue={fields.confirmNewPassword}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<LoaderButton\n\t\t\t\t\tblock\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"urac:button.Change\")}\n\t\t\t\t</LoaderButton>\n\t\t\t</Form>\n\t\t);\n\t}\n\t\n\treturn (\n\t\t<div className=\"URAC\">\n\t\t\t{!token ? validatingForm() : resetForm()}\n\t\t</div>\n\t);\n}","import React, {useState} from \"react\";\nimport Form from \"react-bootstrap/Form\";\n\nimport {useFormFields} from \"../../libs/hooksLib\";\nimport {LoaderButton} from \"../../helpers\";\n\nimport {NotificationManager} from '../components';\nimport {UracService} from \"../services\";\nimport {useTranslation} from \"react-i18next\";\n\nconst uracService = UracService.getService();\n\nexport default function ChangePassword() {\n\tconst {t} = useTranslation([\"common\", \"urac\"]);\n\tconst [fields, handleFieldChange] = useFormFields({\n\t\tpassword: \"\",\n\t\tnewPassword: \"\",\n\t\tconfirmNewPassword: \"\"\n\t});\n\tconst [isLoading, setIsLoading] = useState(false);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.password.length > 0 &&\n\t\t\tfields.newPassword.length > 0 &&\n\t\t\tfields.newPassword === fields.confirmNewPassword\n\t\t);\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\t\n\t\tsetIsLoading(true);\n\t\t\n\t\ttry {\n\t\t\tawait uracService.changePassword(fields.password, fields.newPassword, fields.confirmNewPassword);\n\t\t\tNotificationManager.success(t(\"urac:msg.changePasswordSuccess\"));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t\t\n\t\tsetIsLoading(false);\n\t}\n\t\n\treturn (\n\t\t<div className=\"URAC\">\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group controlId=\"password\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Existing Password\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={fields.password}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"newPassword\">\n\t\t\t\t\t<Form.Label>{t(\"urac:New Password\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={fields.newPassword}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"confirmNewPassword\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Confirm Password\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\tvalue={fields.confirmNewPassword}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<LoaderButton\n\t\t\t\t\tblock\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"urac:button.Change\")}\n\t\t\t\t</LoaderButton>\n\t\t\t</Form>\n\t\t</div>\n\t);\n}","import React, {useState} from \"react\";\nimport Form from \"react-bootstrap/Form\";\n\nimport {useFormFields} from \"../../libs/hooksLib\";\nimport {LoaderButton} from \"../../helpers\";\n\nimport {NotificationManager} from '../components';\nimport {UracService} from \"../services\";\nimport {useTranslation} from \"react-i18next\";\n\nconst uracService = UracService.getService();\n\nexport default function ChangeEmail() {\n\tconst {t} = useTranslation([\"common\", \"urac\"]);\n\tconst [fields, handleFieldChange] = useFormFields({\n\t\tnewEmail: \"\",\n\t\tconfirmNewEmail: \"\",\n\t});\n\tconst [isLoading, setIsLoading] = useState(false);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.newEmail.length > 0 &&\n\t\t\tfields.newEmail === fields.confirmNewEmail\n\t\t);\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\t\n\t\tsetIsLoading(true);\n\t\t\n\t\ttry {\n\t\t\tawait uracService.changeEmail(fields.newEmail);\n\t\t\tNotificationManager.success(t(\"urac:msg.changeEmailSuccess\"));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t\t\n\t\tsetIsLoading(false);\n\t}\n\t\n\treturn (\n\t\t<div className=\"URAC\">\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group controlId=\"newEmail\">\n\t\t\t\t\t<Form.Label>{t(\"urac:New Email\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tvalue={fields.newEmail}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"confirmNewEmail\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Confirm New Email\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tvalue={fields.confirmNewEmail}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{t(\"urac:msg.changeEmail\")}\n\t\t\t\t</Form.Text>\n\t\t\t\t<LoaderButton\n\t\t\t\t\tblock\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"urac:button.Change\")}\n\t\t\t\t</LoaderButton>\n\t\t\t</Form>\n\t\t</div>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport {useLocation} from \"react-router-dom\";\n\nimport {NotificationManager} from '../components';\nimport {UracService} from \"../services\";\nimport {useTranslation} from \"react-i18next\";\n\nconst uracService = UracService.getService();\n\nexport default function ValidateChangeEmail() {\n\tconst {t} = useTranslation([\"common\", \"urac\"]);\n\tconst [validating, setValidating] = useState(false);\n\tconst [validatingMsg, setValidatingMsg] = useState(t(\"urac:msg.validateChangeEmailProcess\"));\n\t\n\tfunction useQuery() {\n\t\treturn new URLSearchParams(useLocation().search);\n\t}\n\t\n\tlet query = useQuery();\n\tconst token = query.get(\"token\");\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\tlet valid = false;\n\t\t\ttry {\n\t\t\t\tif (token) {\n\t\t\t\t\tvalid = await uracService.validateChangeEmail(token);\n\t\t\t\t} else {\n\t\t\t\t\tNotificationManager.warning(t(\"urac:msg.validateChangeEmailError\"));\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetValidatingMsg(t(\"urac:msg.validateChangeEmailError\"));\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetValidating(valid);\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, [token, t]);\n\t\n\tfunction validatingErrorForm() {\n\t\treturn (\n\t\t\t<Form>\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{t(\"urac:msg.validateChangeEmailError2\")}\n\t\t\t\t</Form.Text>\n\t\t\t</Form>\n\t\t);\n\t}\n\t\n\tfunction validatingForm() {\n\t\treturn (\n\t\t\t<Form>\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{validatingMsg}\n\t\t\t\t</Form.Text>\n\t\t\t</Form>\n\t\t);\n\t}\n\t\n\tfunction renderConfirmationForm() {\n\t\treturn (\n\t\t\t<Form>\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{t(\"urac:msg.validateChangeEmailSuccess\")}\n\t\t\t\t</Form.Text>\n\t\t\t</Form>\n\t\t);\n\t}\n\t\n\treturn (\n\t\t<div className=\"URAC\">\n\t\t\t{!token ? validatingErrorForm() : (!validating ? validatingForm() : renderConfirmationForm())}\n\t\t</div>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport Form from \"react-bootstrap/Form\";\n\nimport {useAppContext} from \"../../libs/contextLib\";\nimport {LoaderButton} from \"../../helpers\";\n\nimport {JsonEditor, NotificationManager} from '../components';\nimport {LocalStorageService, UracService} from \"../services\";\nimport {useTranslation} from \"react-i18next\";\n\nconst localStorageService = LocalStorageService.getService();\nconst uracService = UracService.getService();\n\nexport default function MyProfile() {\n\tconst {t} = useTranslation([\"common\", \"urac\"]);\n\tconst {setFirstName} = useAppContext();\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [fields, setFields] = useState({\n\t\tfirstName: \"\",\n\t\tlastName: \"\",\n\t\temail: \"\",\n\t\tusername: \"\",\n\t\tprofile: {}\n\t});\n\tlet profile = null;\n\t\n\tfunction handleFieldChange(event) {\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: event.target.value\n\t\t});\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tconst user = await uracService.getUser();\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetFields({\n\t\t\t\t\t\tfirstName: user.firstName,\n\t\t\t\t\t\tlastName: user.lastName,\n\t\t\t\t\t\temail: user.email,\n\t\t\t\t\t\tusername: user.username,\n\t\t\t\t\t\tprofile: user.profile\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.firstName.length > 0 &&\n\t\t\tfields.lastName.length > 0\n\t\t);\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\t\n\t\tsetIsLoading(true);\n\t\tif (fields.profile && !profile) {\n\t\t\tprofile = fields.profile;\n\t\t}\n\t\ttry {\n\t\t\tconst res = await uracService.updateMyProfile(fields, profile);\n\t\t\tsetFirstName(localStorageService.getFirstname());\n\t\t\tNotificationManager.success(res);\n\t\t\tsetFields({\n\t\t\t\t...fields,\n\t\t\t\t\"profile\": profile\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t\t\n\t\tsetIsLoading(false);\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\tif (json) {\n\t\t\tprofile = json;\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<div className=\"URAC\">\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group size=\"lg\" controlId=\"firstName\">\n\t\t\t\t\t<Form.Label>{t(\"urac:First name\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tvalue={fields.firstName}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group size=\"lg\" controlId=\"lastName\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Last name\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tvalue={fields.lastName}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group size=\"lg\" controlId=\"email\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Email\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\treadOnly\n\t\t\t\t\t\tvalue={fields.email}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group size=\"lg\" controlId=\"username\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Username\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tvalue={fields.username}\n\t\t\t\t\t\treadOnly\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<JsonEditor\n\t\t\t\t\tmode='code'\n\t\t\t\t\tjson={profile || fields.profile}\n\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t/>\n\t\t\t\t<LoaderButton\n\t\t\t\t\tblock\n\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"urac:button.Change\")}\n\t\t\t\t</LoaderButton>\n\t\t\t</Form>\n\t\t</div>\n\t);\n}","import React, {useState} from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport {useHistory} from \"react-router-dom\";\n\nimport {useFormFields} from \"../../libs/hooksLib\";\nimport {LoaderButton} from \"../../helpers\";\n\nimport {NotificationManager} from '../components';\nimport {UracService} from \"../services\";\nimport {useTranslation} from \"react-i18next\";\n\nconst uracService = UracService.getService();\n\nexport default function Signup() {\n\tconst {t} = useTranslation([\"common\", \"urac\"]);\n\tconst [fields, handleFieldChange] = useFormFields({\n\t\tusername: \"\",\n\t\tfirstName: \"\",\n\t\tlastName: \"\",\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t\tconfirmPassword: \"\"\n\t});\n\tconst history = useHistory();\n\tconst [isLoading, setIsLoading] = useState(false);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.username.length > 4 &&\n\t\t\tfields.firstName.length > 0 &&\n\t\t\tfields.lastName.length > 0 &&\n\t\t\tfields.email.length > 0 &&\n\t\t\tfields.password.length > 0 &&\n\t\t\tfields.password === fields.confirmPassword\n\t\t);\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\t\n\t\tsetIsLoading(true);\n\t\t\n\t\ttry {\n\t\t\tawait uracService.signup(fields);\n\t\t\tNotificationManager.success(t(\"urac:msg.signupSuccess\"));\n\t\t\tsetIsLoading(false);\n\t\t\thistory.push(\"/home\");\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t\tsetIsLoading(false);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<div className=\"URAC\">\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group controlId=\"username\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Username\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tvalue={fields.username}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"firstName\">\n\t\t\t\t\t<Form.Label>{t(\"urac:First Name\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tvalue={fields.firstName}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"lastName\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Last Name\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tvalue={fields.lastName}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"email\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Email\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tvalue={fields.email}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"password\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Password\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={fields.password}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"confirmPassword\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Confirm Password\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\tvalue={fields.confirmPassword}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{t(\"urac:msg.signup\")}\n\t\t\t\t</Form.Text>\n\t\t\t\t<LoaderButton\n\t\t\t\t\tblock\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"urac:button.Signup\")}\n\t\t\t\t</LoaderButton>\n\t\t\t</Form>\n\t\t</div>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport {useLocation, Link} from \"react-router-dom\";\nimport {LoaderButton} from \"../../helpers\";\nimport {useFormFields} from \"../../libs/hooksLib\";\n\nimport {NotificationManager} from '../components';\nimport {UracService} from \"../services\";\nimport {useTranslation} from \"react-i18next\";\n\nconst uracService = UracService.getService();\n\nexport default function ValidateSignup() {\n\tconst {t} = useTranslation([\"common\", \"urac\"]);\n\tconst [validating, setValidating] = useState(null);\n\tconst [fields, handleFieldChange] = useFormFields({\n\t\tusername: \"\"\n\t});\n\tconst [isLoading, setIsLoading] = useState(false);\n\t\n\tfunction useQuery() {\n\t\treturn new URLSearchParams(useLocation().search);\n\t}\n\t\n\tlet query = useQuery();\n\tconst token = query.get(\"token\");\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\tlet valid = false;\n\t\t\ttry {\n\t\t\t\tif (token) {\n\t\t\t\t\tvalid = await uracService.validateJoin(token);\n\t\t\t\t} else {\n\t\t\t\t\tNotificationManager.warning(t(\"urac:msg.validateSignupWarning\"));\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetValidating({\n\t\t\t\t\tsuccess: valid\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => isSubscribed = false;\n\t}, [token, t]);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.username.length > 0\n\t\t);\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\t\n\t\tsetIsLoading(true);\n\t\t\n\t\ttry {\n\t\t\tawait uracService.emailToken(fields.username);\n\t\t\tNotificationManager.success(t(\"urac:msg.validateSignupSuccess\"));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t\t\n\t\tsetIsLoading(false);\n\t}\n\t\n\tfunction validatingForm() {\n\t\treturn (\n\t\t\t<Form>\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{t(\"urac:msg.validateSignupProcess\")}\n\t\t\t\t</Form.Text>\n\t\t\t</Form>\n\t\t);\n\t}\n\t\n\tfunction renderConfirmationForm() {\n\t\treturn (\n\t\t\t<Form>\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{t(\"urac:msg.validateSignupConfirm\")} <Link to=\"/sign-in\">{t(\"common:ClickHere\")}</Link>\n\t\t\t\t</Form.Text>\n\t\t\t</Form>\n\t\t);\n\t}\n\t\n\tfunction renderSendValidationForm() {\n\t\treturn (\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group controlId=\"username\">\n\t\t\t\t\t<Form.Label>Username or Email</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tvalue={fields.username}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{t(\"urac:msg.validateSignupSuccess2\")}\n\t\t\t\t</Form.Text>\n\t\t\t\t<LoaderButton\n\t\t\t\t\tblock\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"urac:button.Request\")}\n\t\t\t\t</LoaderButton>\n\t\t\t</Form>\n\t\t);\n\t}\n\t\n\treturn (\n\t\t<div className=\"URAC\">\n\t\t\t{validating === null ? validatingForm() : (validating.success ? renderConfirmationForm() : renderSendValidationForm())}\n\t\t</div>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport {useLocation, useParams} from \"react-router-dom\";\n\nimport {useAppContext} from \"../../libs/contextLib\";\n\nimport {NotificationManager} from '../components';\nimport {AbilitiesService, LocalStorageService, OauthService, UracService} from \"../services\";\nimport {useTranslation} from \"react-i18next\";\n\nconst localStorageService = LocalStorageService.getService();\nconst oauthService = OauthService.getService();\nconst uracService = UracService.getService();\nconst abilitiesService = AbilitiesService.getService();\n\nexport default function ThirdPartyLogin() {\n\tconst {t} = useTranslation([\"common\", \"urac\"]);\n\tconst {strategy} = useParams();\n\tconst thirdPartyParams = useLocation().search;\n\tconst {userHasAuthenticated, setFirstName, ability} = useAppContext();\n\tconst [validating, setValidating] = useState(false);\n\tconst [confirmationMsg, setConfirmationMsg] = useState(strategy + t(\"urac:msg.thirdPartyLoginConfirm\"));\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tawait oauthService.validateThirdPartyLogin(strategy, thirdPartyParams);\n\t\t\t\tawait uracService.getUser();\n\t\t\t\tawait abilitiesService.createUserAbilities(ability);\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetFirstName(localStorageService.getFirstname());\n\t\t\t\t\tuserHasAuthenticated(true);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetConfirmationMsg(strategy + t(\"urac:msg.thirdPartyLoginError\"));\n\t\t\t\t}\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tsetValidating(true);\n\t\t\n\t\tonLoad();\n\t\treturn () => isSubscribed = false;\n\t}, [strategy, setFirstName, userHasAuthenticated, thirdPartyParams, ability, t]);\n\t\n\t\n\tfunction validatingForm() {\n\t\treturn (\n\t\t\t<Form>\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{strategy} : {t(\"urac:msg.thirdPartyLoginProcess\")}\n\t\t\t\t</Form.Text>\n\t\t\t</Form>\n\t\t);\n\t}\n\t\n\tfunction renderConfirmationForm() {\n\t\treturn (\n\t\t\t<Form>\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{confirmationMsg}\n\t\t\t\t</Form.Text>\n\t\t\t</Form>\n\t\t);\n\t}\n\t\n\treturn (\n\t\t<div className=\"URAC\">\n\t\t\t{!validating ? validatingForm() : renderConfirmationForm()}\n\t\t</div>\n\t);\n}","import Login from \"./Login.js\";\nimport ForgotPassword from \"./ForgotPassword.js\";\nimport ResetPassword from \"./ResetPassword.js\";\nimport ChangePassword from \"./ChangePassword.js\";\nimport ChangeEmail from \"./ChangeEmail.js\";\nimport ValidateChangeEmail from \"./ValidateChangeEmail.js\";\nimport MyProfile from \"./MyProfile.js\";\nimport SignUp from \"./Signup.js\";\nimport ValidateSignup from \"./ValidateSignup.js\";\nimport ThirdPartyLogin from \"./ThirdPartyLogin.js\";\n\nexport {\n\tLogin,\n\tForgotPassword,\n\tResetPassword,\n\tChangePassword,\n\tChangeEmail,\n\tValidateChangeEmail,\n\tMyProfile,\n\tSignUp,\n\tValidateSignup,\n\tThirdPartyLogin\n};\nexport default Login;\n","export default __webpack_public_path__ + \"static/media/emmp.f4b56e1b.png\";","import React from \"react\";\nimport {Card, Row, Col, Alert, Badge} from \"react-bootstrap\";\nimport {useTranslation} from \"react-i18next\";\n\nimport Emmp from \"../../images/emmp.png\";\nimport {Link} from 'react-router-dom';\n\nexport default function Home() {\n\tconst {t} = useTranslation(\"common\");\n\treturn (\n\t\t<div className=\"container mt-3\" style={{\"minHeight\": \"500px\"}}>\n\t\t\t<Alert variant=\"primary\">\n\t\t\t\tYou can start by connecting <b>SOAJS</b> to your <Badge variant=\"secondary\">Infrastructures</Badge> and <Badge variant=\"secondary\">GIT Accounts</Badge> from under <Link to=\"/settings\">{t(\"soajs:menu.Manage\")}</Link>.\n\t\t\t</Alert>\n\t\t\t<Card className=\"mb-3 text-white\" bg={\"dark\"}>\n\t\t\t\t<Card.Header>\n\t\t\t\t\t{t(\"welcome\")}\n\t\t\t\t</Card.Header>\n\t\t\t\t<Card.Body>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col className=\"small\">\n\t\t\t\t\t\t\t<img alt=\"microservice management platform\" className=\"float-right\" src={Emmp} style={{\"width\":\"50%\"}} />\n\t\t\t\t\t\t\tThe only complete, end-to-end microservices management platform, SOAJS simplifies and\n\t\t\t\t\t\t\taccelerates the adoption of multitenant microservices architecture by eliminating\n\t\t\t\t\t\t\tproliferation pain.\n\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\tThe SOAJS platform empowers organizations to create and operate a microservices architecture\n\t\t\t\t\t\t\tcapable of supporting any framework while providing API productization, multi-tenancy,\n\t\t\t\t\t\t\tmulti-layer security, cataloging, awareness, and adaptable to existing source code; to\n\t\t\t\t\t\t\tautomatically catalog and release software components with multi-tenant, multi-version and\n\t\t\t\t\t\t\tmulti-platform capabilities.\n\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\tSOAJS integrates and orchestrates multiple infrastructures and technologies in a simplistic\n\t\t\t\t\t\t\tand secured approach while accelerating the release cycle with custom continuous integration\n\t\t\t\t\t\t\t& a smart continuous delivery pipeline.\n\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\tThe SOAJS platform is capable of creating and managing custom environments per product, per\n\t\t\t\t\t\t\tdepartment, per team, per resource, and per technology in a simplistic approach empowering\n\t\t\t\t\t\t\tevery member of the organization.\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Card.Body>\n\t\t\t</Card>\n\t\t</div>\n\t);\n}","import React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function NoAccess() {\n\tconst {t} = useTranslation(\"common\");\n\treturn (\n\t\t<div className=\"container mt-3\">\n\t\t\t<h3>{t(\"NoAccess\")}</h3>\n\t\t</div>\n\t);\n}","import React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function NotFound() {\n\tconst {t} = useTranslation(\"common\");\n\treturn (\n\t\t<div className=\"container mt-3\">\n\t\t\t<h3>{t(\"NotFound\")}</h3>\n\t\t</div>\n\t);\n}","import axios from \"axios\";\n\n\nfunction resolveErrorResponse(error) {\n\tlet msg = \"\";\n\tif (error.response && error.response.data && error.response.data.errors && error.response.data.errors.details) {\n\t\tfor (let i = 0; i < error.response.data.errors.details.length; i++) {\n\t\t\tmsg = msg + error.response.data.errors.details[0].message;\n\t\t\tif ((i + 1) < error.response.data.errors.details.length) {\n\t\t\t\tmsg = msg + \" - \";\n\t\t\t}\n\t\t}\n\t}\n\treturn (msg === \"\" ? null : msg);\n}\n\nconst RepositoriesService = (function () {\n\tlet _service = null;\n\t\n\tfunction _getService() {\n\t\tif (!_service) {\n\t\t\t_service = this;\n\t\t\treturn _service;\n\t\t}\n\t\treturn _service;\n\t}\n\t\n\tfunction _getGitBranch(fields) {\n\t\treturn axios.get(\"/repositories/git/branch\", {\"params\": fields})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getGitAccount(id) {\n\t\treturn axios.get(\"/repositories/git/account?id=\" + id)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getGitAccounts() {\n\t\treturn axios.get(\"/repositories/git/accounts\")\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getRepositories(criteria) {\n\t\treturn axios.post(\"/repositories/git/repos\", criteria)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _addGitAccount(fields) {\n\t\treturn axios.post(\"/repositories/git/account\", fields)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteGitAccount(id) {\n\t\treturn axios.delete(\"/repositories/git/account?id=\" + id)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _syncGitAccount(id) {\n\t\treturn axios.put(\"/repositories/git/sync/account?id=\" + id)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _upgradeGitAccount(fields) {\n\t\treturn axios.put(\"/repositories/git/account?id=\" + fields.id, fields)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteRepository(fields) {\n\t\tlet url = \"/repositories/git/repo\";\n\t\turl = url + \"?id=\" + fields.id;\n\t\turl = url + \"&owner=\" + fields.owner;\n\t\turl = url + \"&provider=\" + fields.provider;\n\t\t\n\t\treturn axios.delete(url)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _turnOnRepository(fields) {\n\t\tlet url = \"/repositories/git/repo/activate\";\n\t\turl = url + \"?id=\" + fields.id;\n\t\turl = url + \"&owner=\" + fields.owner;\n\t\turl = url + \"&provider=\" + fields.provider;\n\t\t\n\t\treturn axios.put(url)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _turnOffRepository(fields) {\n\t\tlet url = \"/repositories/git/repo/deactivate\";\n\t\turl = url + \"?id=\" + fields.id;\n\t\turl = url + \"&owner=\" + fields.owner;\n\t\turl = url + \"&provider=\" + fields.provider;\n\t\t\n\t\treturn axios.put(url)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _syncRepository(fields) {\n\t\tlet url = \"/repositories/git/sync/repository\";\n\t\turl = url + \"?id=\" + fields.id;\n\t\turl = url + \"&owner=\" + fields.owner;\n\t\turl = url + \"&provider=\" + fields.provider;\n\t\t\n\t\treturn axios.put(url)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _turnOnBranch(fields) {\n\t\tlet url = \"/repositories/git/branch/activate\";\n\t\turl = url + \"?id=\" + fields.id;\n\t\turl = url + \"&owner=\" + fields.owner;\n\t\turl = url + \"&provider=\" + fields.provider;\n\t\turl = url + \"&branch=\" + fields.branch;\n\t\t\n\t\treturn axios.put(url)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _turnOffBranch(fields) {\n\t\tlet url = \"/repositories/git/branch/deactivate\";\n\t\turl = url + \"?id=\" + fields.id;\n\t\turl = url + \"&owner=\" + fields.owner;\n\t\turl = url + \"&provider=\" + fields.provider;\n\t\turl = url + \"&branch=\" + fields.branch;\n\t\t\n\t\treturn axios.put(url)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _syncBranch(fields) {\n\t\tlet url = \"/repositories/git/sync/branch\";\n\t\turl = url + \"?id=\" + fields.id;\n\t\turl = url + \"&owner=\" + fields.owner;\n\t\turl = url + \"&provider=\" + fields.provider;\n\t\turl = url + \"&branch=\" + fields.branch;\n\t\t\n\t\treturn axios.put(url)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _turnOnTag(fields) {\n\t\tlet url = \"/repositories/git/tag/activate\";\n\t\turl = url + \"?id=\" + fields.id;\n\t\turl = url + \"&owner=\" + fields.owner;\n\t\turl = url + \"&provider=\" + fields.provider;\n\t\turl = url + \"&tag=\" + fields.tag;\n\t\t\n\t\treturn axios.put(url)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _turnOffTag(fields) {\n\t\tlet url = \"/repositories/git/tag/deactivate\";\n\t\turl = url + \"?id=\" + fields.id;\n\t\turl = url + \"&owner=\" + fields.owner;\n\t\turl = url + \"&provider=\" + fields.provider;\n\t\turl = url + \"&tag=\" + fields.tag;\n\t\t\n\t\treturn axios.put(url)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getTag(fields) {\n\t\treturn axios.get(\"/repositories/git/tag?id=\" + fields.id + \"&tag=\" + fields.tag)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getTags(fields) {\n\t\treturn axios.get(\"/repositories/git/tags?id=\" + fields.id + \"&size=\" + fields.count)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\treturn {\n\t\tgetService: _getService,\n\t\t\n\t\tgetGitBranch: _getGitBranch,\n\t\t\n\t\tgetGitAccount: _getGitAccount,\n\t\tgetGitAccounts: _getGitAccounts,\n\t\tgetRepositories: _getRepositories,\n\t\taddGitAccount: _addGitAccount,\n\t\tdeleteGitAccount: _deleteGitAccount,\n\t\tsyncGitAccount: _syncGitAccount,\n\t\tupgradeGitAccount: _upgradeGitAccount,\n\t\t\n\t\tdeleteRepository: _deleteRepository,\n\t\tturnOnRepository: _turnOnRepository,\n\t\tturnOffRepository: _turnOffRepository,\n\t\tsyncRepository: _syncRepository,\n\t\tturnOnBranch: _turnOnBranch,\n\t\tturnOffBranch: _turnOffBranch,\n\t\tsyncBranch: _syncBranch,\n\t\tturnOnTag: _turnOnTag,\n\t\tturnOffTag: _turnOffTag,\n\t\tgetTag: _getTag,\n\t\tgetTags: _getTags\n\t}\n})();\nexport default RepositoriesService;","import axios from \"axios\";\n\nfunction resolveErrorResponse(error) {\n\tlet msg = \"\";\n\tif (error.response && error.response.data && error.response.data.errors && error.response.data.errors.details) {\n\t\tfor (let i = 0; i < error.response.data.errors.details.length; i++) {\n\t\t\tmsg = msg + error.response.data.errors.details[0].message;\n\t\t\tif ((i + 1) < error.response.data.errors.details.length) {\n\t\t\t\tmsg = msg + \" - \";\n\t\t\t}\n\t\t}\n\t}\n\treturn (msg === \"\" ? null : msg);\n}\n\nconst MarketplaceService = (function () {\n\tlet _service = null;\n\t\n\tfunction _getService() {\n\t\tif (!_service) {\n\t\t\t_service = this;\n\t\t\treturn _service;\n\t\t}\n\t\treturn _service;\n\t}\n\t\n\tfunction _getItem(name, type) {\n\t\treturn axios.get(\"/marketplace/item/type?name=\" + name + \"&type=\" + type)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getItems(criteria) {\n\t\tlet url = \"/marketplace/items\";\n\t\tif (criteria) {\n\t\t\tif (criteria.subType && criteria.subType === \"soajs\") {\n\t\t\t\turl = \"/marketplace/soajs/items\";\n\t\t\t}\n\t\t\tif (criteria.type) {\n\t\t\t\turl = url + \"?type=\" + criteria.type;\n\t\t\t}\n\t\t\tif (criteria.limit) {\n\t\t\t\turl = url + \"&limit=\" + criteria.limit;\n\t\t\t}\n\t\t\tif (criteria.start) {\n\t\t\t\turl = url + \"&start=\" + criteria.start;\n\t\t\t}\n\t\t\tif (criteria.keywords) {\n\t\t\t\turl = url + \"&keywords=\" + criteria.keywords;\n\t\t\t}\n\t\t}\n\t\treturn axios.get(url)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getRecipes(criteria) {\n\t\tlet url = \"/marketplace/recipes\";\n\t\tif (criteria) {\n\t\t\turl = url + \"?count=true\";\n\t\t\tif (criteria.limit) {\n\t\t\t\turl = url + \"&limit=\" + criteria.limit;\n\t\t\t}\n\t\t\tif (criteria.start) {\n\t\t\t\turl = url + \"&start=\" + criteria.start;\n\t\t\t}\n\t\t\tif (criteria.keywords) {\n\t\t\t\turl = url + \"&keywords=\" + criteria.keywords;\n\t\t\t}\n\t\t}\n\t\treturn axios.get(url)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getRecipesByIds(ids) {\n\t\t\n\t\treturn axios.get(\"/marketplace/recipes/ids\", {\"params\": {\"ids\": ids}})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _updateSettingsGroups(fields) {\n\t\tlet url = \"/marketplace/item/acl\";\n\t\tif (fields.subType === \"soajs\") {\n\t\t\turl = \"/marketplace/soajs/item/acl\";\n\t\t}\n\t\tlet data = {\n\t\t\t\"id\": fields.id,\n\t\t\t\"type\": fields.type,\n\t\t\t\"groups\": fields.groups\n\t\t};\n\t\treturn axios.put(url, data)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tif (msg && msg.indexOf(\"was not updated\") !== -1) {\n\t\t\t\t\treturn Promise.reject(new Error(\"Nothing to update!\"));\n\t\t\t\t}\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _updateSettingsRecipes(fields) {\n\t\tlet url = \"/marketplace/item/recipes\";\n\t\tif (fields.subType === \"soajs\") {\n\t\t\turl = \"/marketplace/soajs/item/recipes\";\n\t\t}\n\t\tlet data = {\n\t\t\t\"id\": fields.id,\n\t\t\t\"recipes\": fields.recipes\n\t\t};\n\t\treturn axios.put(url, data)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tif (msg && msg.indexOf(\"was not updated\") !== -1) {\n\t\t\t\t\treturn Promise.reject(new Error(\"Nothing to update!\"));\n\t\t\t\t}\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _updateSettingsEnvironments(fields) {\n\t\tlet url = \"/marketplace/item/environments\";\n\t\tif (fields.subType === \"soajs\") {\n\t\t\turl = \"/marketplace/soajs/item/environments\";\n\t\t}\n\t\tlet data = {\n\t\t\t\"id\": fields.id,\n\t\t\t\"type\": fields.type,\n\t\t\t\"environments\": fields.environments\n\t\t};\n\t\treturn axios.put(url, data)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tif (msg && msg.indexOf(\"was not updated\") !== -1) {\n\t\t\t\t\treturn Promise.reject(new Error(\"Nothing to update!\"));\n\t\t\t\t}\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _itemMaintenance(fields) {\n\t\tlet url = \"/marketplace/item/maintenance\";\n\t\tlet qs = {\n\t\t\t\"name\": fields.name,\n\t\t\t\"env\": fields.env,\n\t\t\t\"type\": fields.type,\n\t\t\t\"version\": fields.version,\n\t\t\t\"operation\": fields.operation\n\t\t};\n\t\tlet data = {\n\t\t\t\"port\": fields.port\n\t\t};\n\t\treturn axios.put(url, data, {\"params\": qs})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _addRecipe(fields) {\n\t\tlet url = \"/marketplace/recipe\";\n\t\tlet data = {\n\t\t\t\"catalog\": fields\n\t\t};\n\t\treturn axios.post(url, data)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _updateRecipe(id, fields) {\n\t\tlet url = \"/marketplace/recipe?id=\" + id;\n\t\tlet data = {\n\t\t\t\"catalog\": fields\n\t\t};\n\t\treturn axios.put(url, data)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tif (msg && msg.indexOf(\"was not updated\") !== -1) {\n\t\t\t\t\treturn Promise.reject(new Error(\"Nothing to update!\"));\n\t\t\t\t}\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _redeploy(fields) {\n\t\tlet url = \"/marketplace/item/deploy/redeploy\";\n\t\tlet options = {\n\t\t\t\"params\": {\n\t\t\t\t\"name\": fields.name,\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"env\": fields.env,\n\t\t\t\t\"version\": fields.version\n\t\t\t}\n\t\t};\n\t\t\n\t\tlet data = {};\n\t\tif (fields.imageTag) {\n\t\t\tdata.image = {\n\t\t\t\t\"tag\": fields.imageTag\n\t\t\t};\n\t\t}\n\t\tif (fields.branch) {\n\t\t\tdata.src = {\n\t\t\t\t\"from\": {\n\t\t\t\t\t\"branch\": fields.branch\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (fields.commit) {\n\t\t\t\tdata.src.from.commit = fields.commit;\n\t\t\t}\n\t\t} else if (fields.tag) {\n\t\t\tdata.src = {\n\t\t\t\t\"from\": {\n\t\t\t\t\t\"tag\": fields.tag\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\treturn axios.put(url, data, options)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tif (msg && msg.indexOf(\"was not updated\") !== -1) {\n\t\t\t\t\treturn Promise.reject(new Error(\"Nothing to update!\"));\n\t\t\t\t}\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteConfigure() {\n\t\n\t}\n\t\n\tfunction _configure(params, data) {\n\t\tlet url = \"/marketplace/item/deploy/configure\";\n\t\tlet options = {\n\t\t\t\"params\": params\n\t\t};\n\t\t\n\t\treturn axios.put(url, data, options)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tif (msg && msg.indexOf(\"not updated\") !== -1) {\n\t\t\t\t\treturn Promise.reject(new Error(\"Nothing to update!\"));\n\t\t\t\t}\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _build(params, data) {\n\t\tlet url = \"/marketplace/item/deploy/build\";\n\t\tlet options = {\n\t\t\t\"params\": params\n\t\t};\n\t\t\n\t\treturn axios.put(url, data, options)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tif (msg && msg.indexOf(\"not updated\") !== -1) {\n\t\t\t\t\treturn Promise.reject(new Error(\"Nothing to update!\"));\n\t\t\t\t}\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _addResource(fields) {\n\t\treturn axios.put(\"/marketplace/item/resource\", {\"item\": fields})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteItem(fields) {\n\t\treturn axios.delete(\"/marketplace/item\", {\"params\": {\"type\": fields.type, \"name\": fields.name}})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\treturn {\n\t\tgetService: _getService,\n\t\tgetItems: _getItems,\n\t\tgetItem: _getItem,\n\t\tgetRecipes: _getRecipes,\n\t\tgetRecipesByIds: _getRecipesByIds,\n\t\t\n\t\tupdateSettingsGroups: _updateSettingsGroups,\n\t\tupdateSettingsRecipes: _updateSettingsRecipes,\n\t\tupdateSettingsEnvironments: _updateSettingsEnvironments,\n\t\t\n\t\titemMaintenance: _itemMaintenance,\n\t\t\n\t\taddRecipe: _addRecipe,\n\t\tupdateRecipe: _updateRecipe,\n\t\t\n\t\tredeploy: _redeploy,\n\t\tdeleteConfigure: _deleteConfigure,\n\t\tconfigure: _configure,\n\t\tbuild: _build,\n\t\t\n\t\taddResource: _addResource,\n\t\tdeleteItem: _deleteItem\n\t}\n})();\nexport default MarketplaceService;","import axios from \"axios\";\n\nfunction resolveErrorResponse(error) {\n\tlet msg = \"\";\n\tif (error.response && error.response.data && error.response.data.errors && error.response.data.errors.details) {\n\t\tfor (let i = 0; i < error.response.data.errors.details.length; i++) {\n\t\t\tmsg = msg + error.response.data.errors.details[0].message;\n\t\t\tif ((i + 1) < error.response.data.errors.details.length) {\n\t\t\t\tmsg = msg + \" - \";\n\t\t\t}\n\t\t}\n\t}\n\treturn (msg === \"\" ? null : msg);\n}\n\nconst ConsoleService = (function () {\n\tlet _service = null;\n\t\n\tfunction _getService() {\n\t\tif (!_service) {\n\t\t\t_service = this;\n\t\t\treturn _service;\n\t\t}\n\t\treturn _service;\n\t}\n\t\n\tfunction _getLedger(criteria) {\n\t\treturn axios.get(\"/console/ledger\", {\"params\": {\"limit\": criteria.limit, \"start\": criteria.skip}})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getThrottlingRegistry(env) {\n\t\treturn axios.get(\"/console/registry/throttling\", {\"params\": {\"env\": env}})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getCustomRegistry(env) {\n\t\treturn axios.get(\"/console/registry/custom\", {\"params\": {\"env\": env}})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getResourceRegistry(env, type) {\n\t\tlet params = {\"params\": {\"env\": env}};\n\t\tif (type) {\n\t\t\tparams.params.type = type;\n\t\t}\n\t\treturn axios.get(\"/console/registry/resource\", params)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getEnvironments() {\n\t\treturn axios.get(\"/console/environment\")\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getEnvironment(code) {\n\t\treturn axios.get(\"/console/environment\", {\"params\": {\"code\": code}})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getEnvironmentSettings(code) {\n\t\treturn axios.get(\"/console/environment/settings\", {\"params\": {\"code\": code}})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _updateEnvironmentNamespace(fields) {\n\t\treturn axios.put(\"/console/environment\",\n\t\t\t{\n\t\t\t\t\"code\": fields.code,\n\t\t\t\t\"settings\": {\n\t\t\t\t\tid: fields.id,\n\t\t\t\t\tnamespace: fields.namespace\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _saveEnvironmentAcl(fields) {\n\t\treturn axios.put(\"/console/environment/acl\",\n\t\t\t{\n\t\t\t\t\"code\": fields.code,\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"groups\": fields.groups\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteEnvironmentAcl(code) {\n\t\treturn axios.delete(\"/console/environment/acl\", {\"params\": {\"code\": code}})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getRegistryDeployer(code) {\n\t\treturn axios.get(\"/console/registry/deployer\", {\"params\": {\"env\": code}})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getRegistry(code) {\n\t\treturn axios.get(\"/console/registry\", {\"params\": {\"env\": code}})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _addEnvironment(fields) {\n\t\treturn axios.post(\"/console/environment\",\n\t\t\t{\n\t\t\t\t\"code\": fields.code,\n\t\t\t\t\"description\": fields.description,\n\t\t\t\t\"settings\": fields.settings\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteEnvironment(id) {\n\t\treturn axios.delete(\"/console/environment\", {\"data\": {\"id\": id}})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteCustomRegistry(id, env) {\n\t\treturn axios.delete(\"/console/registry/custom\", {\"data\": {\"id\": id, \"env\": env}})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _saveCustomRegistryAcl(fields) {\n\t\treturn axios.put(\"/console/registry/custom/acl\",\n\t\t\t{\n\t\t\t\t\"id\": fields.id,\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"groups\": fields.groups\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteCustomRegistryAcl(id) {\n\t\treturn axios.delete(\"/console/registry/custom/acl\", {\"params\": {\"id\": id}})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteResourceRegistry(id, env) {\n\t\treturn axios.delete(\"/console/registry/resource\", {\"data\": {\"id\": id, \"env\": env}})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _saveResourceRegistryAcl(fields) {\n\t\treturn axios.put(\"/console/registry/resource/acl\",\n\t\t\t{\n\t\t\t\t\"id\": fields.id,\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"groups\": fields.groups\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteResourceRegistryAcl(id) {\n\t\treturn axios.delete(\"/console/registry/resource/acl\", {\"params\": {\"id\": id}})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _unplugPlugCustom(fields) {\n\t\treturn axios.put(\"/console/registry/custom\",\n\t\t\t{\n\t\t\t\t\"id\": fields.id,\n\t\t\t\t\"env\": fields.env,\n\t\t\t\t\"data\": {\"plugged\": fields.plugged}\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _unplugPlugResource(fields) {\n\t\treturn axios.put(\"/console/registry/resource\",\n\t\t\t{\n\t\t\t\t\"id\": fields.id,\n\t\t\t\t\"env\": fields.env,\n\t\t\t\t\"data\": {\"plugged\": fields.plugged}\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _addCustom(env, data) {\n\t\treturn axios.post(\"/console/registry/custom\",\n\t\t\t{\n\t\t\t\t\"env\": env,\n\t\t\t\t\"data\": data\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _updateCustom(env, id, data) {\n\t\treturn axios.put(\"/console/registry/custom\",\n\t\t\t{\n\t\t\t\t\"env\": env,\n\t\t\t\t\"id\": id,\n\t\t\t\t\"data\": data\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _addResource(env, data) {\n\t\treturn axios.post(\"/console/registry/resource\",\n\t\t\t{\n\t\t\t\t\"env\": env,\n\t\t\t\t\"data\": data\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _updateResource(env, id, data) {\n\t\treturn axios.put(\"/console/registry/resource\",\n\t\t\t{\n\t\t\t\t\"env\": env,\n\t\t\t\t\"id\": id,\n\t\t\t\t\"data\": data\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _updateRegistry(data) {\n\t\treturn axios.put(\"/console/registry\", data)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tif (msg && msg.indexOf(\"was not updated\") !== -1) {\n\t\t\t\t\treturn Promise.reject(new Error(\"Nothing to update!\"));\n\t\t\t\t}\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _updateDBPrefix(fields) {\n\t\treturn axios.put(\"/console/registry/db/prefix\", fields)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tif (msg && msg.indexOf(\"was not updated\") !== -1) {\n\t\t\t\t\treturn Promise.reject(new Error(\"Nothing to update!\"));\n\t\t\t\t}\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _addDB(fields) {\n\t\treturn axios.post(\"/console/registry/db/custom\", fields)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteDB(fields) {\n\t\treturn axios.delete(\"/console/registry/db/custom\", {\"data\": fields})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _updateThrottling(env, fields) {\n\t\treturn axios.put(\"/console/registry/throttling\", {\"env\": env, \"throttling\": fields})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tif (msg && msg.indexOf(\"was not updated\") !== -1) {\n\t\t\t\t\treturn Promise.reject(new Error(\"Nothing to update!\"));\n\t\t\t\t}\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\treturn {\n\t\tgetService: _getService,\n\t\tgetLedger: _getLedger,\n\t\tgetThrottlingRegistry: _getThrottlingRegistry,\n\t\tgetCustomRegistry: _getCustomRegistry,\n\t\tgetResourceRegistry: _getResourceRegistry,\n\t\tgetEnvironments: _getEnvironments,\n\t\tgetEnvironment: _getEnvironment,\n\t\tgetEnvironmentSettings: _getEnvironmentSettings,\n\t\tsaveEnvironmentAcl: _saveEnvironmentAcl,\n\t\tdeleteEnvironmentAcl: _deleteEnvironmentAcl,\n\t\tgetRegistryDeployer: _getRegistryDeployer,\n\t\tupdateEnvironmentNamespace: _updateEnvironmentNamespace,\n\t\tgetRegistry: _getRegistry,\n\t\taddEnvironment: _addEnvironment,\n\t\tdeleteEnvironment: _deleteEnvironment,\n\t\tdeleteCustomRegistry: _deleteCustomRegistry,\n\t\tsaveCustomRegistryAcl: _saveCustomRegistryAcl,\n\t\tdeleteCustomRegistryAcl: _deleteCustomRegistryAcl,\n\t\tdeleteResourceRegistry: _deleteResourceRegistry,\n\t\tsaveResourceRegistryAcl: _saveResourceRegistryAcl,\n\t\tdeleteResourceRegistryAcl: _deleteResourceRegistryAcl,\n\t\tunplugPlugCustom: _unplugPlugCustom,\n\t\tunplugPlugResource: _unplugPlugResource,\n\t\taddCustom: _addCustom,\n\t\tupdateCustom: _updateCustom,\n\t\taddResource: _addResource,\n\t\tupdateResource: _updateResource,\n\t\tupdateRegistry: _updateRegistry,\n\t\tupdateDBPrefix: _updateDBPrefix,\n\t\taddDB: _addDB,\n\t\tdeleteDB: _deleteDB,\n\t\tupdateThrottling: _updateThrottling\n\t}\n})();\nexport default ConsoleService;","import axios from \"axios\";\n\nfunction resolveErrorResponse(error) {\n\tlet msg = \"\";\n\tif (error.response && error.response.data && error.response.data.errors && error.response.data.errors.details) {\n\t\tfor (let i = 0; i < error.response.data.errors.details.length; i++) {\n\t\t\tmsg = msg + error.response.data.errors.details[0].message;\n\t\t\tif ((i + 1) < error.response.data.errors.details.length) {\n\t\t\t\tmsg = msg + \" - \";\n\t\t\t}\n\t\t}\n\t}\n\treturn (msg === \"\" ? null : msg);\n}\n\nconst MultitenantService = (function () {\n\tlet _service = null;\n\t\n\tfunction _getService() {\n\t\tif (!_service) {\n\t\t\t_service = this;\n\t\t\treturn _service;\n\t\t}\n\t\treturn _service;\n\t}\n\t\n\tfunction _getMyConsoleProduct() {\n\t\treturn axios.get(\"/multitenant/product/console\")\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getProduct(id) {\n\t\treturn axios.get(\"/multitenant/product\", {\"params\": {\"id\": id}})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getProducts() {\n\t\treturn axios.get(\"/multitenant/products\")\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getTenants(criteria) {\n\t\t\n\t\treturn axios.get(\"/multitenant/tenants\", {\n\t\t\t\"params\": {\n\t\t\t\t\"limit\": criteria.limit,\n\t\t\t\t\"start\": criteria.skip,\n\t\t\t\t\"type\": criteria.type,\n\t\t\t\t\"keywords\": criteria.keywords || null\n\t\t\t}\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getTenantSubTenants(code, criteria) {\n\t\t\n\t\treturn axios.get(\"/multitenant/tenant/tenants\", {\n\t\t\t\"params\": {\n\t\t\t\t\"limit\": criteria.limit,\n\t\t\t\t\"start\": criteria.skip,\n\t\t\t\t\"keywords\": criteria.keywords || null,\n\t\t\t\t\"code\": code\n\t\t\t}\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _editConsolePackageAclEnv(fields) {\n\t\t// fields = {id, code, type, env, acl}\n\t\treturn axios.put(\"/multitenant/product/console/package/acl/env\",\n\t\t\t{\"acl\": fields.acl},\n\t\t\t{\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"code\": fields.code,\n\t\t\t\t\t\"type\": fields.type,\n\t\t\t\t\t\"env\": fields.env,\n\t\t\t\t\t\"id\": fields.id\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _editConsolepackage(fields) {\n\t\treturn axios.put(\"/multitenant/product/console/package\", fields)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _addConsolepackage(fields) {\n\t\treturn axios.post(\"/multitenant/product/console/package\", fields)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteConsolepackage(fields) {\n\t\treturn axios.delete(\"/multitenant/product/console/package\", {\"params\": fields})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteTenant(fields) {\n\t\treturn axios.delete(\"/multitenant/tenant\", {\"params\": fields})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteTenantApplication(fields) {\n\t\treturn axios.delete(\"/multitenant/tenant/application\", {\"params\": fields})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteTenantApplicationKey(fields) {\n\t\treturn axios.delete(\"/multitenant/tenant/application/key\", {\"params\": fields})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteTenantApplicationKeyExt(fields) {\n\t\treturn axios.delete(\"/multitenant/tenant/application/key/ext\", {\"params\": fields})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _addTenantApplicationKey(data) {\n\t\treturn axios.post(\"/multitenant/admin/tenant/application/key\", data)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _updateTenantApplicationKey(fields) {\n\t\treturn axios.put(\"/multitenant/admin/tenant/application/key/config\", fields)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _updateTenantApplicationExtKey(fields) {\n\t\treturn axios.put(\"/multitenant/admin/tenant/application/key/ext\", fields)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _updateTenantOauth(fields) {\n\t\treturn axios.put(\"/multitenant/admin/tenant/oauth\", fields)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _addTenant(fields) {\n\t\treturn axios.post(\"/multitenant/tenant\", fields)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _addApplication(fields) {\n\t\treturn axios.post(\"/multitenant/admin/tenant/application\", fields)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _addTenantExtKey(fields) {\n\t\treturn axios.post(\"/multitenant/admin/tenant/application/key/ext\", fields)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _updateTenant(fields) {\n\t\treturn axios.put(\"/multitenant/admin/tenant\", fields)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _updateApplication(fields) {\n\t\treturn axios.put(\"/multitenant/admin/tenant/application\", fields)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _addProduct(fields) {\n\t\treturn axios.post(\"/multitenant/product\", fields)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _updateProduct(fields) {\n\t\treturn axios.put(\"/multitenant/product\", fields)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteProduct(fields) {\n\t\treturn axios.delete(\"/multitenant/product\", {\"params\": fields})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _addPackage(fields) {\n\t\treturn axios.post(\"/multitenant/product/package\", fields)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _updatePackage(fields) {\n\t\treturn axios.put(\"/multitenant/product/package\", fields)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deletePackage(fields) {\n\t\treturn axios.delete(\"/multitenant/product/package\", {\"params\": fields})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _updatePackageAcl(fields) {\n\t\treturn axios.put(\"/multitenant/product/package/acl/env\", fields)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\treturn {\n\t\tgetService: _getService,\n\t\tgetMyConsoleProduct: _getMyConsoleProduct,\n\t\tgetProduct: _getProduct,\n\t\tgetProducts: _getProducts,\n\t\tgetTenants: _getTenants,\n\t\tgetTenantSubTenants: _getTenantSubTenants,\n\t\teditConsolepackage: _editConsolepackage,\n\t\taddConsolepackage: _addConsolepackage,\n\t\tdeleteConsolepackage: _deleteConsolepackage,\n\t\teditConsolePackageAclEnv: _editConsolePackageAclEnv,\n\t\t\n\t\tdeleteTenant: _deleteTenant,\n\t\tdeleteTenantApplication: _deleteTenantApplication,\n\t\tdeleteTenantApplicationKey: _deleteTenantApplicationKey,\n\t\tdeleteTenantApplicationKeyExt: _deleteTenantApplicationKeyExt,\n\t\t\n\t\taddTenant: _addTenant,\n\t\taddTenantApplicationKey: _addTenantApplicationKey,\n\t\taddApplication: _addApplication,\n\t\taddTenantExtKey: _addTenantExtKey,\n\t\t\n\t\taddProduct: _addProduct,\n\t\tupdateProduct: _updateProduct,\n\t\tdeleteProduct: _deleteProduct,\n\t\taddPackage: _addPackage,\n\t\tupdatePackage: _updatePackage,\n\t\tdeletePackage: _deletePackage,\n\t\t\n\t\tupdateTenant: _updateTenant,\n\t\tupdateApplication: _updateApplication,\n\t\tupdateTenantApplicationKey: _updateTenantApplicationKey,\n\t\tupdateTenantApplicationExtKey: _updateTenantApplicationExtKey,\n\t\tupdateTenantOauth: _updateTenantOauth,\n\t\t\n\t\tupdatePackageAcl: _updatePackageAcl\n\t}\n})();\nexport default MultitenantService;","import axios from \"axios\";\n\nfunction resolveErrorResponse(error) {\n\tlet msg = \"\";\n\tif (error.response && error.response.data && error.response.data.errors && error.response.data.errors.details) {\n\t\tfor (let i = 0; i < error.response.data.errors.details.length; i++) {\n\t\t\tmsg = msg + error.response.data.errors.details[0].message;\n\t\t\tif ((i + 1) < error.response.data.errors.details.length) {\n\t\t\t\tmsg = msg + \" - \";\n\t\t\t}\n\t\t}\n\t}\n\treturn (msg === \"\" ? null : msg);\n}\n\nconst ConsoleService = (function () {\n\tlet _service = null;\n\t\n\tfunction _getService() {\n\t\tif (!_service) {\n\t\t\t_service = this;\n\t\t\treturn _service;\n\t\t}\n\t\treturn _service;\n\t}\n\t\n\tfunction _getByType(type, env, fields) {\n\t\treturn axios.get(\"/infra/kubernetes/\" + type + \"/\" + fields.mode,\n\t\t\t{\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"configuration\": {\"env\": env},\n\t\t\t\t\t\"limit\": fields.limit,\n\t\t\t\t\t\"filter\": fields.filter || null,\n\t\t\t\t\t\"continue\": fields.continue || null\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getServices(env, fields) {\n\t\treturn _getByType(\"services\", env, fields);\n\t}\n\t\n\tfunction _getWorkloads(env, fields) {\n\t\treturn _getByType(\"workloads\", env, fields);\n\t}\n\t\n\tfunction _getClusters(env, fields) {\n\t\treturn _getByType(\"clusters\", env, fields);\n\t}\n\t\n\tfunction _getConfigurations(env, fields) {\n\t\treturn _getByType(\"configurations\", env, fields);\n\t}\n\t\n\tfunction _updateByType(type, env, fields) {\n\t\treturn axios.put(\"/infra/kubernetes/\" + type + \"/\" + fields.mode,\n\t\t\t{\n\t\t\t\t\"name\": fields.name,\n\t\t\t\t\"body\": fields.body\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"configuration\": {\"env\": env}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _updateWorkload(env, fields) {\n\t\treturn _updateByType(\"workload\", env, fields);\n\t}\n\t\n\tfunction _updateService(env, fields) {\n\t\treturn _updateByType(\"service\", env, fields);\n\t}\n\t\n\tfunction _addByType(type, env, fields) {\n\t\treturn axios.post(\"/infra/kubernetes/\" + type + \"/\" + fields.mode,\n\t\t\t{\n\t\t\t\t\"body\": fields.body\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"configuration\": {\"env\": env}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _addWorkload(env, fields) {\n\t\treturn _addByType(\"workload\", env, fields);\n\t}\n\t\n\tfunction _addService(env, fields) {\n\t\treturn _addByType(\"service\", env, fields);\n\t}\n\t\n\tfunction _addConfiguration(env, fields) {\n\t\treturn _addByType(\"configuration\", env, fields);\n\t}\n\t\n\tfunction _deleteByType(type, env, fields) {\n\t\treturn axios.delete(\"/infra/kubernetes/\" + type + \"/\" + fields.mode,\n\t\t\t{\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"configuration\": {\"env\": env},\n\t\t\t\t\t\"name\": fields.name\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deletePod(env, fields) {\n\t\treturn axios.delete(\"/infra/kubernetes/pods\",\n\t\t\t{\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"configuration\": {\"env\": env}\n\t\t\t\t},\n\t\t\t\t\"data\": {\n\t\t\t\t\t\"filter\": {\n\t\t\t\t\t\t\"fieldSelector\": \"metadata.name=\" + fields.name,\n\t\t\t\t\t\t\"includeUninitialized\": true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteWorkload(env, fields) {\n\t\tif (fields.mode === \"Pod\") {\n\t\t\treturn _deletePod(env, fields);\n\t\t} else {\n\t\t\treturn _deleteByType(\"workload\", env, fields);\n\t\t}\n\t}\n\t\n\tfunction _deleteService(env, fields) {\n\t\treturn _deleteByType(\"service\", env, fields);\n\t}\n\t\n\tfunction _deleteConfiguration(env, fields) {\n\t\treturn _deleteByType(\"configuration\", env, fields);\n\t}\n\t\n\tfunction _addSecretWizard(env, name, content) {\n\t\treturn axios.post(\"/infra/kubernetes/secret\",\n\t\t\t{\n\t\t\t\t\"content\": content,\n\t\t\t\t\"name\": name\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"configuration\": {\"env\": env}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _addSecretRegistryWizard(env, name, content) {\n\t\treturn axios.post(\"/infra/kubernetes/secret/registry\",\n\t\t\t{\n\t\t\t\t\"content\": content,\n\t\t\t\t\"name\": name\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"configuration\": {\"env\": env}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\t\n\tfunction _inspect(env, item) {\n\t\treturn axios.get(\"/infra/kubernetes/item/inspect\",\n\t\t\t{\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"configuration\": {\"env\": env},\n\t\t\t\t\t\"item\": {\n\t\t\t\t\t\t\"env\": env,\n\t\t\t\t\t\t\"name\": item.name,\n\t\t\t\t\t\t\"version\": item.version\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getManualAwareness(env) {\n\t\treturn axios.get(\"/infra/manual/awareness\", {\"params\": {\"env\": env}})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getNamespaces(env) {\n\t\treturn axios.get(\"/infra/kubernetes/clusters/Namespace\", {\"params\": {\"configuration\": {\"env\": env}}})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getInfraAccounts() {\n\t\treturn axios.get(\"/infra/account/kubernetes\")\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteInfraAccount(id) {\n\t\treturn axios.delete(\"/infra/account/kubernetes\", {\"data\": {\"id\": id}})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _saveInfraAccountAcl(fields) {\n\t\treturn axios.put(\"/infra/account/kubernetes/acl\",\n\t\t\t{\n\t\t\t\t\"id\": fields.id,\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"groups\": fields.groups\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteInfraAccountAcl(id) {\n\t\treturn axios.delete(\"/infra/account/kubernetes/acl\", {\"params\": {\"id\": id}})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _addInfraAccount(fields) {\n\t\tlet data = {\n\t\t\t\"label\": fields.label,\n\t\t\t\"description\": fields.description,\n\t\t\t\"configuration\": {\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"token\": fields.token,\n\t\t\t\t\"url\": fields.url,\n\t\t\t\t\"port\": fields.port\n\t\t\t}\n\t\t};\n\t\tif (fields.ca) {\n\t\t\tdata.configuration.ca = fields.ca;\n\t\t}\n\t\treturn axios.post(\"/infra/account/kubernetes\",\n\t\t\tdata)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _updateInfraAccount(fields) {\n\t\tlet data = {\n\t\t\t\"id\": fields.id,\n\t\t\t\"label\": fields.label,\n\t\t\t\"description\": fields.description,\n\t\t\t\"configuration\": {\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"token\": fields.token,\n\t\t\t\t\"url\": fields.url,\n\t\t\t\t\"port\": fields.port\n\t\t\t}\n\t\t};\n\t\tif (fields.ca) {\n\t\t\tdata.configuration.ca = fields.ca;\n\t\t}\n\t\treturn axios.put(\"/infra/account/kubernetes/configuration\",\n\t\t\tdata)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _podExec(env, fields) {\n\t\tlet data = {\n\t\t\t\"name\": fields.name,\n\t\t\t\"commands\": fields.commands,\n\t\t\t\"processResult\": fields.processResult || false,\n\t\t\t\"configuration\": {\"env\": env},\n\t\t};\n\t\tif (fields.ca) {\n\t\t\tdata.configuration.ca = fields.ca;\n\t\t}\n\t\treturn axios.put(\"/infra/kubernetes/pod/exec\",\n\t\t\tdata)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _podLog(env, item) {\n\t\treturn axios.get(\"/infra/kubernetes/pod/log\",\n\t\t\t{\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"configuration\": {\"env\": env},\n\t\t\t\t\t\"name\": item.name,\n\t\t\t\t\t\"lines\": 400\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _restart(env, fields) {\n\t\tlet data = {\n\t\t\t\"mode\": fields.mode,\n\t\t\t\"name\": fields.name,\n\t\t\t\"configuration\": {\"env\": env},\n\t\t};\n\t\tif (fields.ca) {\n\t\t\tdata.configuration.ca = fields.ca;\n\t\t}\n\t\treturn axios.put(\"/infra/kubernetes/resource/restart\",\n\t\t\tdata)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteItem(env, fields) {\n\t\tlet data = {\n\t\t\t\"data\": {\n\t\t\t\t\"mode\": fields.mode,\n\t\t\t\t\"name\": fields.name,\n\t\t\t\t\"configuration\": {\"env\": env}\n\t\t\t}\n\t\t};\n\t\tif (fields.ca) {\n\t\t\tdata.configuration.ca = fields.ca;\n\t\t}\n\t\treturn axios.delete(\"/infra/kubernetes/item\",\n\t\t\tdata)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getCDTokens() {\n\t\treturn axios.get(\"/infra/cd/tokens\")\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _deleteCDToken(token) {\n\t\treturn axios.delete(\"/infra/cd/token\", {\"data\": {\"token\": token}})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _updateCDToken(token, status) {\n\t\treturn axios.put(\"/infra/cd/token/status\", {\"token\": token, \"status\": status})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _addToken(label) {\n\t\treturn axios.post(\"/infra/cd/token\", {\"label\": label})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\treturn {\n\t\tgetService: _getService,\n\t\t\n\t\taddSecretRegistryWizard: _addSecretRegistryWizard,\n\t\taddSecretWizard: _addSecretWizard,\n\t\t\n\t\tgetServices: _getServices,\n\t\tgetClusters: _getClusters,\n\t\tgetWorkloads: _getWorkloads,\n\t\tgetConfigurations: _getConfigurations,\n\t\t\n\t\tinspect: _inspect,\n\t\tgetManualAwareness: _getManualAwareness,\n\t\tgetNamespaces: _getNamespaces,\n\t\tgetInfraAccounts: _getInfraAccounts,\n\t\tdeleteInfraAccount: _deleteInfraAccount,\n\t\tsaveInfraAccountAcl: _saveInfraAccountAcl,\n\t\tdeleteInfraAccountAcl: _deleteInfraAccountAcl,\n\t\taddInfraAccount: _addInfraAccount,\n\t\tupdateInfraAccount: _updateInfraAccount,\n\t\tpodExec: _podExec,\n\t\tpodLog: _podLog,\n\t\trestart: _restart,\n\t\tdeleteItem: _deleteItem,\n\t\t\n\t\taddWorkload: _addWorkload,\n\t\tupdateWorkload: _updateWorkload,\n\t\tdeleteWorkload: _deleteWorkload,\n\t\taddService: _addService,\n\t\tupdateService: _updateService,\n\t\tdeleteService: _deleteService,\n\t\taddConfiguration: _addConfiguration,\n\t\tdeleteConfiguration: _deleteConfiguration,\n\t\t\n\t\tgetCDTokens: _getCDTokens,\n\t\tdeleteCDToken: _deleteCDToken,\n\t\tupdateCDToken: _updateCDToken,\n\t\taddToken: _addToken\n\t}\n})();\nexport default ConsoleService;","import axios from \"axios\";\n\nfunction resolveErrorResponse(error) {\n\tlet msg = \"\";\n\tif (error.response && error.response.data && error.response.data.errors && error.response.data.errors.details) {\n\t\tfor (let i = 0; i < error.response.data.errors.details.length; i++) {\n\t\t\tmsg = msg + error.response.data.errors.details[0].message;\n\t\t\tif ((i + 1) < error.response.data.errors.details.length) {\n\t\t\t\tmsg = msg + \" - \";\n\t\t\t}\n\t\t}\n\t}\n\treturn (msg === \"\" ? null : msg);\n}\n\nconst SoaanalyticsService = (function () {\n\tlet _service = null;\n\t\n\tfunction _getService() {\n\t\tif (!_service) {\n\t\t\t_service = this;\n\t\t\treturn _service;\n\t\t}\n\t\treturn _service;\n\t}\n\t\n\tfunction _getApis(criteria) {\n\t\treturn axios.get(\"/console/apis/v2\", {\"params\": criteria})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getDashboardApis(criteria) {\n\t\treturn axios.get(\"/console/dashboard/apis/v2\", {\"params\": criteria})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getDashboardServices(criteria) {\n\t\treturn axios.get(\"/console/dashboard/services\", {\"params\": criteria})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getAPIACLUsage(criteria) {\n\t\treturn axios.get(\"/console/api/acl/usage\", {\"params\": criteria})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getAPIACLUsageTenants(criteria) {\n\t\treturn axios.get(\"/console/api/acl/usage/tenants\", {\"params\": criteria})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\treturn {\n\t\tgetService: _getService,\n\t\tgetApis: _getApis,\n\t\tgetDashboardApis: _getDashboardApis,\n\t\tgetDashboardServices: _getDashboardServices,\n\t\tgetAPIACLUsage: _getAPIACLUsage,\n\t\tgetAPIACLUsageTenants: _getAPIACLUsageTenants\n\t}\n})();\nexport default SoaanalyticsService;","import axios from \"axios\";\nimport Config from \"../config.js\";\n\nfunction resolveErrorResponse(error) {\n\tlet msg = \"\";\n\tif (error.response && error.response.data && error.response.data.errors && error.response.data.errors.details) {\n\t\tfor (let i = 0; i < error.response.data.errors.details.length; i++) {\n\t\t\tmsg = msg + error.response.data.errors.details[0].message;\n\t\t\tif ((i + 1) < error.response.data.errors.details.length) {\n\t\t\t\tmsg = msg + \" - \";\n\t\t\t}\n\t\t}\n\t}\n\treturn (msg === \"\" ? null : msg);\n}\n\nconst SoamonitorService = (function () {\n\tlet _service = null;\n\t\n\tfunction _getService() {\n\t\tif (!_service) {\n\t\t\t_service = this;\n\t\t\treturn _service;\n\t\t}\n\t\treturn _service;\n\t}\n\t\n\tfunction _getMonitorItems(criteria, env) {\n\t\tlet url = \"/soamonitor/monitor/items\";\n\t\tlet params = {\"params\": criteria};\n\t\tif (env.toLowerCase() !== Config.consoleEnvironment) {\n\t\t\tparams.params.proxyRoute = url;\n\t\t\turl = \"/soajs/proxy\";\n\t\t\tparams.headers = {\n\t\t\t\t\"__env\": env.toLowerCase()\n\t\t\t};\n\t\t}\n\t\treturn axios.get(url, params)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\tfunction _getMonitorAnalytics(type, criteria, env) {\n\t\tlet url = \"/soamonitor/monitor/analytics/\" + type;\n\t\tlet params = {\"params\": criteria};\n\t\tif (env.toLowerCase() !== Config.consoleEnvironment) {\n\t\t\tparams.params.proxyRoute = url;\n\t\t\turl = \"/soajs/proxy\";\n\t\t\tparams.headers = {\n\t\t\t\t\"__env\": env.toLowerCase()\n\t\t\t};\n\t\t}\n\t\treturn axios.get(url, params)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlet msg = resolveErrorResponse(error);\n\t\t\t\tmsg = msg || \"Unable to proceed please try again later\";\n\t\t\t\treturn Promise.reject(new Error(msg));\n\t\t\t});\n\t}\n\t\n\treturn {\n\t\tgetService: _getService,\n\t\tgetMonitorItems: _getMonitorItems,\n\t\tgetMonitorAnalytics: _getMonitorAnalytics\n\t}\n})();\nexport default SoamonitorService;","import {Pagination} from \"react-bootstrap\";\nimport React from \"react\";\n\nfunction AutoPagination({currentPage, totalItems, maxSize, itemsPerPage, onClick, className}) {\n\tclassName = className || \"\";\n\tcurrentPage = currentPage || 1\n\ttotalItems = totalItems || 1;\n\titemsPerPage = itemsPerPage || 1;\n\tmaxSize = maxSize || 10;\n\tlet numberOfPages = 1;\n\tif (totalItems > itemsPerPage) {\n\t\tnumberOfPages = Math.ceil(totalItems / itemsPerPage);\n\t}\n\tif (currentPage > numberOfPages) {\n\t\tcurrentPage = numberOfPages;\n\t}\n\tlet pages = [];\n\tif (numberOfPages < maxSize) {\n\t\tmaxSize = numberOfPages;\n\t}\n\tlet index = currentPage - Math.floor(maxSize / 2);\n\tif (index + maxSize > numberOfPages) {\n\t\tindex = numberOfPages - maxSize;\n\t}\n\tif (index < 0) {\n\t\tindex = 0;\n\t}\n\tfor (let i = 1; i <= maxSize; i++) {\n\t\tpages.push((i + index));\n\t}\n\t\n\tfunction clicked(p) {\n\t\tif (onClick) {\n\t\t\tonClick(p);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Pagination size=\"sm\" className={className}>\n\t\t\t<Pagination.First onClick={(e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tclicked(1)\n\t\t\t}} disabled={currentPage === 1}/>\n\t\t\t<Pagination.Prev onClick={(e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tclicked(currentPage - 1)\n\t\t\t}} disabled={currentPage === 1}/>\n\t\t\t{pages[0] > 1 &&\n\t\t\t<Pagination.Ellipsis disabled={true}/>}\n\t\t\t{pages.map((_o, _i) => (\n\t\t\t\t<Pagination.Item onClick={(e) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tclicked(_o)\n\t\t\t\t}} active={currentPage === _o} key={_i}>{_o}</Pagination.Item>\n\t\t\t))}\n\t\t\t{pages[maxSize - 1] < numberOfPages &&\n\t\t\t<Pagination.Ellipsis disabled={true}/>}\n\t\t\t<Pagination.Next onClick={(e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tclicked(currentPage + 1)\n\t\t\t}} disabled={currentPage === numberOfPages}/>\n\t\t\t<Pagination.Last onClick={(e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tclicked(numberOfPages)\n\t\t\t}} disabled={currentPage === numberOfPages}/>\n\t\t</Pagination>\n\t);\n}\n\nexport default AutoPagination;","\nimport {ResponsivePie} from '@nivo/pie'\n\nfunction myPatterns(datum, set) {\n\tlet c = datum.id.substr(0, 1);\n\tc = c.toLowerCase();\n\tif (set === 1) {\n\t\treturn ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'].includes(c);\n\t}\n\tif (set === 2) {\n\t\treturn ['i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q',].includes(c);\n\t}\n\tif (set === 3) {\n\t\treturn ['r', 's', 't', 'u', 'v', 'w', 'x', 'z'].includes(c);\n\t}\n}\n\nexport default function ProgramsChart({data /* see data tab */}) {\n\t\n\treturn (\n\t\t<ResponsivePie\n\t\t\tdata={data}\n\t\t\tmargin={{top: 40, right: 80, bottom: 80, left: 80}}\n\t\t\tinnerRadius={0.5}\n\t\t\tpadAngle={0.7}\n\t\t\tcornerRadius={3}\n\t\t\tcolors={{scheme: 'paired'}}\n\t\t\tborderWidth={1}\n\t\t\tborderColor={{from: 'color', modifiers: [['darker', 0.2]]}}\n\t\t\tradialLabelsSkipAngle={10}\n\t\t\tradialLabelsTextColor=\"#000000\"\n\t\t\tradialLabelsLinkColor={{from: 'color'}}\n\t\t\tsliceLabel=\"value\"\n\t\t\tsliceLabelsSkipAngle={10}\n\t\t\tsliceLabelsTextColor=\"#000000\"\n\t\t\tdefs={[\n\t\t\t\t{\n\t\t\t\t\tid: 'dots',\n\t\t\t\t\ttype: 'patternDots',\n\t\t\t\t\tbackground: 'inherit',\n\t\t\t\t\tcolor: 'rgba(255, 255, 255, 0.3)',\n\t\t\t\t\tsize: 2,\n\t\t\t\t\tpadding: 1,\n\t\t\t\t\tstagger: true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'lines',\n\t\t\t\t\ttype: 'patternLines',\n\t\t\t\t\tbackground: 'inherit',\n\t\t\t\t\tcolor: 'rgba(255, 255, 255, 0.3)',\n\t\t\t\t\trotation: -45,\n\t\t\t\t\tlineWidth: 5,\n\t\t\t\t\tspacing: 10\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'squares',\n\t\t\t\t\ttype: 'patternSquares',\n\t\t\t\t\tbackground: 'inherit',\n\t\t\t\t\tcolor: 'rgba(255, 255, 255, 0.3)',\n\t\t\t\t\t\"size\": 2,\n\t\t\t\t\t\"padding\": 3,\n\t\t\t\t\tstagger: true\n\t\t\t\t}\n\t\t\t]}\n\t\t\tfill={[\n\t\t\t\t{match: (d) => myPatterns(d, 1), id: 'dots'},\n\t\t\t\t{match: (d) => myPatterns(d, 2), id: 'lines'},\n\t\t\t\t{match: (d) => myPatterns(d, 3), id: 'squares'}\n\t\t\t]}\n\t\t\tlegends={[]}\n\t\t/>\n\t)\n}","\nimport {ResponsivePie} from '@nivo/pie'\n\nconst myColors = {\n\t\"get\": \"#b8daff\",\n\t\"post\": \"#c3e6cb\",\n\t\"put\": \"#ffeeba\",\n\t\"delete\": \"#f5c6cb\",\n\t\"patch\": \"#bee5eb\",\n\t\"head\": \"#d6d8db\",\n\t\"other\": \"#c6c8ca\" //\"#fdfdfe\"\n};\n\nfunction myColor(datum) {\n\treturn myColors[datum.id];\n}\n\nexport default function MethodsChart({data /* see data tab */}) {\n\t\n\treturn (\n\t\t<ResponsivePie\n\t\t\tdata={data}\n\t\t\tmargin={{top: 40, right: 80, bottom: 80, left: 80}}\n\t\t\tpadAngle={0.7}\n\t\t\tcornerRadius={3}\n\t\t\tcolors={(datum) => myColor(datum)}\n\t\t\tborderWidth={1}\n\t\t\tborderColor={{from: 'color', modifiers: [['darker', 0.3]]}}\n\t\t\tradialLabelsSkipAngle={10}\n\t\t\tradialLabelsTextColor=\"#000000\"\n\t\t\tradialLabelsLinkColor={{from: 'color'}}\n\t\t\tsliceLabel=\"value\"\n\t\t\tsliceLabelsSkipAngle={10}\n\t\t\tsliceLabelsTextColor=\"#000000\"\n\t\t\tlegends={[\n\t\t\t\t{\n\t\t\t\t\tanchor: 'bottom',\n\t\t\t\t\tdirection: 'row',\n\t\t\t\t\tjustify: false,\n\t\t\t\t\ttranslateX: 0,\n\t\t\t\t\ttranslateY: 56,\n\t\t\t\t\titemsSpacing: 0,\n\t\t\t\t\titemWidth: 60,\n\t\t\t\t\titemHeight: 18,\n\t\t\t\t\titemTextColor: '#999',\n\t\t\t\t\titemDirection: 'left-to-right',\n\t\t\t\t\titemOpacity: 1,\n\t\t\t\t\tsymbolSize: 15,\n\t\t\t\t\tsymbolShape: 'circle',\n\t\t\t\t\teffects: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ton: 'hover',\n\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\titemTextColor: '#000'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]}\n\t\t/>\n\t)\n}","\nimport {ResponsiveBar} from '@nivo/bar'\n\n\nexport default function GroupsChart({data /* see data tab */}) {\n\t\n\treturn (\n\t\t<ResponsiveBar\n\t\t\tdata={data}\n\t\t\tkeys={['count']}\n\t\t\tindexBy=\"Group\"\n\t\t\tmargin={{top: 50, right: 130, bottom: 50, left: 150}}\n\t\t\tpadding={0.3}\n\t\t\tlayout=\"horizontal\"\n\t\t\tvalueScale={{type: 'linear'}}\n\t\t\tindexScale={{type: 'band', round: true}}\n\t\t\tcolors={{scheme: 'paired'}}\n\t\t\tdefs={[\n\t\t\t\t{\n\t\t\t\t\tid: 'dots',\n\t\t\t\t\ttype: 'patternDots',\n\t\t\t\t\tbackground: 'inherit',\n\t\t\t\t\tcolor: '#38bcb2',\n\t\t\t\t\tsize: 4,\n\t\t\t\t\tpadding: 1,\n\t\t\t\t\tstagger: true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'lines',\n\t\t\t\t\ttype: 'patternLines',\n\t\t\t\t\tbackground: 'inherit',\n\t\t\t\t\tcolor: '#eed312',\n\t\t\t\t\trotation: -45,\n\t\t\t\t\tlineWidth: 6,\n\t\t\t\t\tspacing: 10\n\t\t\t\t}\n\t\t\t]}\n\t\t\tfill={[\n\t\t\t\t{\n\t\t\t\t\tmatch: {\n\t\t\t\t\t\tid: 'fries'\n\t\t\t\t\t},\n\t\t\t\t\tid: 'dots'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tmatch: {\n\t\t\t\t\t\tid: 'sandwich'\n\t\t\t\t\t},\n\t\t\t\t\tid: 'lines'\n\t\t\t\t}\n\t\t\t]}\n\t\t\tborderColor={{from: 'color', modifiers: [['darker', 1.6]]}}\n\t\t\taxisTop={null}\n\t\t\taxisRight={null}\n\t\t\t// axisBottom={{\n\t\t\t// \ttickSize: 5,\n\t\t\t// \ttickPadding: 5,\n\t\t\t// \ttickRotation: 0,\n\t\t\t// \tlegend: 'count',\n\t\t\t// \tlegendPosition: 'middle',\n\t\t\t// \tlegendOffset: 32\n\t\t\t// }}\n\t\t\t// axisLeft={{\n\t\t\t// \ttickSize: 5,\n\t\t\t// \ttickPadding: 5,\n\t\t\t// \ttickRotation: 0,\n\t\t\t// \tlegend: 'program',\n\t\t\t// \tlegendPosition: 'middle',\n\t\t\t// \tlegendOffset: -40\n\t\t\t// }}\n\t\t\tlabelSkipWidth={12}\n\t\t\tlabelSkipHeight={12}\n\t\t\tenableGridX={true}\n\t\t\tenableGridY={false}\n\t\t\tlabelTextColor={{from: 'color', modifiers: [['darker', 1.6]]}}\n\t\t\tlegends={[]}\n\t\t\tanimate={true}\n\t\t\tmotionStiffness={90}\n\t\t\tmotionDamping={15}\n\t\t/>\n\t)\n}","// import programsData from \"../charts/programs.json\"\n// import methodsData from \"../charts/methods.json\"\n// import groupsData from \"../charts/groups.json\"\n\nimport _ from \"lodash\";\n\n\nconst _methods = [\"get\", \"post\", \"put\", \"delete\", \"head\", \"patch\", \"other\"];\n\nfunction sumMethods(methods, response) {\n\t_methods.map((m, i) => {\n\t\tlet v = 0;\n\t\tif (response && response.methods && response.methods[i]) {\n\t\t\tv = response.methods[i].value;\n\t\t}\n\t\tresponse.methods[i] = {\n\t\t\t\"id\": m,\n\t\t\t\"label\": m,\n\t\t\t\"value\": v + (methods[m] || 0)\n\t\t};\n\t\treturn true;\n\t});\n}\n\nfunction process(data) {\n\tlet response = {\n\t\t\"programs\": [],\n\t\t\"groups\": [],\n\t\t\"methods\": [],\n\t\t\"services\": []\n\t};\n\tlet holder = {\n\t\t\"groups\": {},\n\t\t\"methods\": {}\n\t};\n\t//response.programs = programsData;\n\t//response.methods = methodsData;\n\t//response.groups = groupsData;\n\t\n\tif (data) {\n\t\tdata.map((_d1, i) => {\n\t\t\tlet p = {\n\t\t\t\t\"id\": _d1.name,\n\t\t\t\t\"label\": _d1.name,\n\t\t\t\t\"value\": 0\n\t\t\t};\n\t\t\tif (_d1.groups) {\n\t\t\t\t_d1.groups.map((_d2, i) => {\n\t\t\t\t\tlet g = {\n\t\t\t\t\t\t\"Group\": _d2.name,\n\t\t\t\t\t\t\"count\": 0\n\t\t\t\t\t};\n\t\t\t\t\tif (holder.groups.hasOwnProperty(_d2.name)) {\n\t\t\t\t\t\tg = response.groups[holder.groups[_d2.name]];\n\t\t\t\t\t}\n\t\t\t\t\tif (_d2.services) {\n\t\t\t\t\t\t_d2.services.map((_d3, i) => {\n\t\t\t\t\t\t\tp.value = p.value + (_d3.APIs || 0);\n\t\t\t\t\t\t\tg.count = g.count + (_d3.APIs || 0);\n\t\t\t\t\t\t\tsumMethods(_d3.methods, response);\n\t\t\t\t\t\t\tresponse.services.push({\n\t\t\t\t\t\t\t\t\"serviceName\": _d3.name,\n\t\t\t\t\t\t\t\t\"serviceGroup\": _d2.name,\n\t\t\t\t\t\t\t\t\"program\": _d3.program,\n\t\t\t\t\t\t\t\t\"apis\": _d3.APIs || 0,\n\t\t\t\t\t\t\t\t\"version\": _d3.version\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (holder.groups.hasOwnProperty(_d2.name)) {\n\t\t\t\t\t\tresponse.groups[holder.groups[_d2.name]] = g;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tholder.groups[_d2.name] = response.groups.length;\n\t\t\t\t\t\tresponse.groups.push(g);\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\t}\n\t\t\tresponse.programs.push(p);\n\t\t\treturn true;\n\t\t});\n\t}\n\t\n\tresponse.services = _.uniqWith(response.services,\n\t\tfunction (arrVal, othVal) {\n\t\t\treturn arrVal.serviceName === othVal.serviceName && arrVal.version === othVal.version;\n\t\t});\n\treturn response\n}\n\nfunction _process(data) {\n\tlet response = null;\n\ttry {\n\t\tresponse = process(data);\n\t} catch (e) {\n\t\tconsole.log(e);\n\t}\n\treturn response\n}\n\nexport default _process;","import {Accordion, Button, Card, CardDeck, Col, Form, Jumbotron, Row, Table, useAccordionToggle} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {FcCollapse, FcExpand} from \"react-icons/fc\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {useTranslation} from \"react-i18next\";\nimport _ from \"lodash\";\n\nimport {SoaanalyticsService} from \"../../../../services\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport AutoPagination from \"../../../../lib/AutoPagination\";\n\nimport ProgramsChart from \"./charts/Programs\"\nimport MethodsChart from \"./charts/Methods\"\nimport GroupsChart from \"./charts/Groups\"\n\nimport process from \"./lib/process\";\n\nconst soaanalyticsService = SoaanalyticsService.getService();\n\nfunction CustomToggle({children, eventKey, handleClick}) {\n\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\thandleClick();\n\t});\n\treturn (\n\t\t<div className=\"float-left\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nconst initCriteria = {\n\t\"type\": \"service\",\n\t\"includeSOAJS\": false,\n\t\"serviceName\": \"\",\n\t\"serviceGroup\": \"\",\n\t\"version\": \"latest\",\n\t\"tags\": [],\n\t\"programs\": [],\n\t\"attributes\": {}\n};\n\nasync function onLoad(setFields, setPagination, currentPage, setFacets, isSubscribed, criteria) {\n\ttry {\n\t\tlet c = {\n\t\t\t\"limit\": 2000,\n\t\t\t\"start\": (currentPage - 1) * 2000,\n\t\t\t\"type\": criteria.type,\n\t\t\t\"includeSOAJS\": criteria.includeSOAJS,\n\t\t\t\"version\": criteria.version,\n\t\t\t\"keywords\": {\n\t\t\t\t\"serviceName\": criteria.serviceName,\n\t\t\t\t\"serviceGroup\": criteria.serviceGroup\n\t\t\t},\n\t\t\t\"tags\": criteria.tags,\n\t\t\t\"programs\": criteria.programs,\n\t\t\t\"attributes\": criteria.attributes\n\t\t};\n\t\tconst response = await soaanalyticsService.getDashboardServices(c);\n\t\tif (isSubscribed) {\n\t\t\tif (response && response.data) {\n\t\t\t\tlet dataProcessed = process(response.data);\n\t\t\t\tsetFields(dataProcessed);\n\t\t\t\tsetPagination(\n\t\t\t\t\t{\n\t\t\t\t\t\t\"totalItems\": response.data.length,\n\t\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\t\"itemsPerPage\": c.limit\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tsetFacets({\n\t\t\t\t\t\"tags\": response.tags, \"programs\": response.programs, \"attributes\": response.attributes\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function ApiMetrics() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState(null);\n\tconst [activeKey, setActiveKey] = useState(0);\n\tconst [facets, setFacets] = useState({\"tags\": [], \"programs\": [], \"attributes\": {}});\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [criteria, setCriteria] = useState(initCriteria);\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\t\n\tfunction onChangeProgram(checked, program) {\n\t\tlet obj = criteria;\n\t\tif (checked) {\n\t\t\tobj.programs.push(program);\n\t\t} else {\n\t\t\t_.pullAll(obj.programs, [program]);\n\t\t}\n\t\tsetCriteria({...obj});\n\t}\n\t\n\tfunction onChangeTag(checked, tag) {\n\t\tlet obj = criteria;\n\t\tif (checked) {\n\t\t\tobj.tags.push(tag);\n\t\t} else {\n\t\t\t_.pullAll(obj.tags, [tag]);\n\t\t}\n\t\tsetCriteria({...obj});\n\t}\n\t\n\tfunction onChangeAttribute(checked, attribute, tag) {\n\t\tlet obj = criteria;\n\t\tif (checked) {\n\t\t\tif (!obj.attributes[attribute]) {\n\t\t\t\tobj.attributes[attribute] = [];\n\t\t\t}\n\t\t\tobj.attributes[attribute].push(tag);\n\t\t} else {\n\t\t\tif (obj.attributes[attribute]) {\n\t\t\t\t_.pullAll(obj.attributes[attribute], [tag]);\n\t\t\t\tif (obj.attributes[attribute].length === 0) {\n\t\t\t\t\tdelete obj.attributes[attribute];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsetCriteria({...obj});\n\t}\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function reLoad(page) {\n\t\tawait onLoad(setFields, setPagination, page || currentPage, setFacets, true, criteria)\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait onLoad(setFields, setPagination, 1, setFacets, true, criteria);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tonLoad(setFields, setPagination, 1, setFacets, isSubscribed, initCriteria);\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-3\">\n\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t<Row className=\"small\">\n\t\t\t\t\t\t<Col xs={3}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.ServiceName\")}\n\t\t\t\t\t\t\t\tid=\"serviceName\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tvalue={criteria.serviceName}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={3}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.ServiceGroup\")}\n\t\t\t\t\t\t\t\tid=\"serviceGroup\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tvalue={criteria.serviceGroup}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={3}>\n\t\t\t\t\t\t\t<Form.Control as=\"select\" id=\"version\"\n\t\t\t\t\t\t\t              defaultValue={criteria.version}\n\t\t\t\t\t\t\t              onChange={handleCriteriaChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"latest\">Only last version</option>\n\t\t\t\t\t\t\t\t<option value=\"all\">All versions</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={3} className=\"mt-2\">\n\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\tid=\"includeSOAJS\"\n\t\t\t\t\t\t\t\tlabel=\"Include SOAJS APIs\"\n\t\t\t\t\t\t\t\tdefaultChecked={criteria.includeSOAJS}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<hr/>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\t\teventKey={1}\n\t\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\t\tif (activeKey === 1) {\n\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(1);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{activeKey === 1 ? <FcExpand className=\"mr-1\"/> :\n\t\t\t\t\t\t\t\t\t\t<FcCollapse className=\"mr-1\"/>} <span\n\t\t\t\t\t\t\t\t\tclassName=\"small\">Advanced Filters</span>\n\t\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey={1}>\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<hr className=\"mb-1\"/>\n\t\t\t\t\t\t\t\t\t\t<Row className=\"mt-1 small\">\n\t\t\t\t\t\t\t\t\t\t\t<Col xs={1}>\n\t\t\t\t\t\t\t\t\t\t\t\tPrograms\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<CardDeck style={{\"maxHeight\": \"3rem\", \"overflowY\": \"auto\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{facets.programs.map((program, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t      style={{\"minWidth\": '11rem', \"maxWidth\": '11rem'}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body className=\"p-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            label={program}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            defaultChecked={criteria.programs.includes(program)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChangeProgram(event.target.checked, program)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</CardDeck>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t<hr className=\"mt-1 mb-1\"/>\n\t\t\t\t\t\t\t\t\t\t<Row className=\"mt-1 small\">\n\t\t\t\t\t\t\t\t\t\t\t<Col xs={1}>\n\t\t\t\t\t\t\t\t\t\t\t\tTags\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<CardDeck style={{\"maxHeight\": \"6rem\", \"overflowY\": \"auto\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{facets.tags.map((tag, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t      style={{\"minWidth\": '11rem', \"maxWidth\": '11rem'}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body className=\"p-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            label={tag}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            defaultChecked={criteria.tags.includes(tag)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChangeTag(event.target.checked, tag)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</CardDeck>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t<hr className=\"mt-1 mb-1\"/>\n\t\t\t\t\t\t\t\t\t\t<Row className=\"mt-1 small\">\n\t\t\t\t\t\t\t\t\t\t\t<Col xs={1}>\n\t\t\t\t\t\t\t\t\t\t\t\tAttributes\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t{Object.keys(facets.attributes).map((attribute, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row key={index} className=\"mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{attribute}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CardDeck\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\"maxHeight\": \"7rem\", \"overflowY\": \"auto\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{facets.attributes[attribute].map((tag, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t      style={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t      \"minWidth\": '11rem',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t      \"maxWidth\": '11rem'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t      }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body className=\"p-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check key={index + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            type=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            label={tag}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            defaultChecked={criteria.attributes[attribute] && criteria.attributes[attribute].includes(tag)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChangeAttribute(event.target.checked, attribute, tag)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CardDeck>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr className=\"mt-1 mb-1\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Form>\n\t\t\t</Jumbotron>\n\t\t\t{\n\t\t\t\tfields ? (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<div style={{\"height\": \"350px\"}}>\n\t\t\t\t\t\t\t\t\t<ProgramsChart\n\t\t\t\t\t\t\t\t\t\tdata={fields.programs}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<div style={{\"height\": \"350px\"}}>\n\t\t\t\t\t\t\t\t\t<MethodsChart\n\t\t\t\t\t\t\t\t\t\tdata={fields.methods}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<div style={{\"height\": \"600px\"}}>\n\t\t\t\t\t\t\t\t\t<GroupsChart\n\t\t\t\t\t\t\t\t\t\tdata={fields.groups}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.ServiceName\")}</th>\n\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.ServiceGroup\")}</th>\n\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Program\")}</th>\n\t\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.NbrApi\")}</th>\n\t\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Version\")}</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{fields.services.map((srv, index) => (\n\t\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t\t<td>{srv.serviceName}</td>\n\t\t\t\t\t\t\t\t\t<td className=\"small\">{srv.serviceGroup}</td>\n\t\t\t\t\t\t\t\t\t<td className=\"small\">{srv.program.join(\", \")}</td>\n\t\t\t\t\t\t\t\t\t<td className=\"small text-center\" >{srv.apis}</td>\n\t\t\t\t\t\t\t\t\t<td className=\"small text-center\">{srv.version}</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\t\treLoad(p);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t) : null\n\t\t\t}\n\t\t</>\n\t);\n}","import {Accordion, Alert, Button, Card, CardDeck, Col, Form, Jumbotron, Row, useAccordionToggle} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {useTranslation} from \"react-i18next\";\nimport _ from \"lodash\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {SoaanalyticsService} from \"../../../../services\";\nimport AutoPagination from \"../../../../lib/AutoPagination\";\nimport {FcCollapse, FcExpand} from \"react-icons/fc\";\n\nconst initCriteria = {\n\t\"type\": \"service\",\n\t\"includeSOAJS\": false,\n\t\"serviceName\": \"\",\n\t\"serviceGroup\": \"\",\n\t\"serviceVersion\": \"\",\n\t\"route\": \"\",\n\t\"tags\": [],\n\t\"programs\": [],\n\t\"attributes\": {}\n};\n\nconst methodVariant = {\n\t\"get\": \"primary\",\n\t\"post\": \"success\",\n\t\"delete\": \"danger\",\n\t\"put\": \"warning\",\n\t\"patch\": \"info\",\n\t\"head\": \"secondary\",\n\t\"other\": \"light\"\n};\nconst soaanalyticsService = SoaanalyticsService.getService();\n\nfunction getMethodVariant(method) {\n\tif (method && methodVariant[method]) {\n\t\treturn methodVariant[method];\n\t} else {\n\t\treturn methodVariant[\"other\"];\n\t}\n}\n\nfunction CustomToggle({children, eventKey, handleClick}) {\n\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\thandleClick();\n\t});\n\treturn (\n\t\t<div className=\"float-left\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nasync function onLoad(setFields, setPagination, currentPage, setFacets, isSubscribed, criteria) {\n\ttry {\n\t\tlet c = {\n\t\t\t\"limit\": 25,\n\t\t\t\"start\": (currentPage - 1) * 25,\n\t\t\t\"type\": criteria.type,\n\t\t\t\"includeSOAJS\": criteria.includeSOAJS,\n\t\t\t\"keywords\": {\n\t\t\t\t\"serviceName\": criteria.serviceName,\n\t\t\t\t\"route\": criteria.route,\n\t\t\t\t\"serviceGroup\": criteria.serviceGroup,\n\t\t\t\t\"serviceVersion\": criteria.serviceVersion\n\t\t\t},\n\t\t\t\"tags\": criteria.tags,\n\t\t\t\"programs\": criteria.programs,\n\t\t\t\"attributes\": criteria.attributes\n\t\t};\n\t\tconst response = await soaanalyticsService.getDashboardApis(c);\n\t\tif (isSubscribed) {\n\t\t\tif (response && response.records) {\n\t\t\t\tsetFields(response.records);\n\t\t\t\tsetPagination(\n\t\t\t\t\t{\n\t\t\t\t\t\t\"totalItems\": response.count,\n\t\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\t\"itemsPerPage\": c.limit\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tsetFacets({\n\t\t\t\t\t\"tags\": response.tags, \"programs\": response.programs, \"attributes\": response.attributes\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function ApiCatalog() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [activeKey, setActiveKey] = useState(0);\n\tconst [facets, setFacets] = useState({\"tags\": [], \"programs\": [], \"attributes\": {}});\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [criteria, setCriteria] = useState(initCriteria);\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\t\n\tfunction onChangeProgram(checked, program) {\n\t\tlet obj = criteria;\n\t\tif (checked) {\n\t\t\tobj.programs.push(program);\n\t\t} else {\n\t\t\t_.pullAll(obj.programs, [program]);\n\t\t}\n\t\tsetCriteria({...obj});\n\t}\n\t\n\tfunction onChangeTag(checked, tag) {\n\t\tlet obj = criteria;\n\t\tif (checked) {\n\t\t\tobj.tags.push(tag);\n\t\t} else {\n\t\t\t_.pullAll(obj.tags, [tag]);\n\t\t}\n\t\tsetCriteria({...obj});\n\t}\n\t\n\tfunction onChangeAttribute(checked, attribute, tag) {\n\t\tlet obj = criteria;\n\t\tif (checked) {\n\t\t\tif (!obj.attributes[attribute]) {\n\t\t\t\tobj.attributes[attribute] = [];\n\t\t\t}\n\t\t\tobj.attributes[attribute].push(tag);\n\t\t} else {\n\t\t\tif (obj.attributes[attribute]) {\n\t\t\t\t_.pullAll(obj.attributes[attribute], [tag]);\n\t\t\t\tif (obj.attributes[attribute].length === 0) {\n\t\t\t\t\tdelete obj.attributes[attribute];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsetCriteria({...obj});\n\t}\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function reLoad(page) {\n\t\tawait onLoad(setFields, setPagination, page || currentPage, setFacets, true, criteria)\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait onLoad(setFields, setPagination, 1, setFacets, true, criteria);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tonLoad(setFields, setPagination, 1, setFacets, isSubscribed, initCriteria);\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-3\">\n\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t<Row className=\"small\">\n\t\t\t\t\t\t<Col xs={3}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.ServiceName\")}\n\t\t\t\t\t\t\t\tid=\"serviceName\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tvalue={criteria.serviceName}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={2}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.ServiceVersion\")}\n\t\t\t\t\t\t\t\tid=\"serviceVersion\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tvalue={criteria.serviceVersion}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={2}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.ServiceGroup\")}\n\t\t\t\t\t\t\t\tid=\"serviceGroup\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tvalue={criteria.serviceGroup}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={3}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.Route\")}\n\t\t\t\t\t\t\t\tid=\"route\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tvalue={criteria.route}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={2} className=\"mt-2\">\n\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\tid=\"includeSOAJS\"\n\t\t\t\t\t\t\t\tlabel=\"Include SOAJS APIs\"\n\t\t\t\t\t\t\t\tdefaultChecked={criteria.includeSOAJS}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<hr/>\n\t\t\t\t\t\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\t\teventKey={1}\n\t\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\t\tif (activeKey === 1) {\n\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(1);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{activeKey === 1 ? <FcExpand className=\"mr-1\"/> :\n\t\t\t\t\t\t\t\t\t\t<FcCollapse className=\"mr-1\"/>} <span\n\t\t\t\t\t\t\t\t\tclassName=\"small\">Advanced Filters</span>\n\t\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey={1}>\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<hr className=\"mb-1\"/>\n\t\t\t\t\t\t\t\t\t\t<Row className=\"mt-1 small\">\n\t\t\t\t\t\t\t\t\t\t\t<Col xs={1}>\n\t\t\t\t\t\t\t\t\t\t\t\tPrograms\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<CardDeck style={{\"maxHeight\": \"3rem\", \"overflowY\": \"auto\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{facets.programs.map((program, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t      style={{\"minWidth\": '11rem', \"maxWidth\": '11rem'}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body className=\"p-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            label={program}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            defaultChecked={criteria.programs.includes(program)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChangeProgram(event.target.checked, program)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</CardDeck>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t<hr className=\"mt-1 mb-1\"/>\n\t\t\t\t\t\t\t\t\t\t<Row className=\"mt-1 small\">\n\t\t\t\t\t\t\t\t\t\t\t<Col xs={1}>\n\t\t\t\t\t\t\t\t\t\t\t\tTags\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<CardDeck style={{\"maxHeight\": \"6rem\", \"overflowY\": \"auto\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{facets.tags.map((tag, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t      style={{\"minWidth\": '11rem', \"maxWidth\": '11rem'}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body className=\"p-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            label={tag}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            defaultChecked={criteria.tags.includes(tag)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChangeTag(event.target.checked, tag)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</CardDeck>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t<hr className=\"mt-1 mb-1\"/>\n\t\t\t\t\t\t\t\t\t\t<Row className=\"mt-1 small\">\n\t\t\t\t\t\t\t\t\t\t\t<Col xs={1}>\n\t\t\t\t\t\t\t\t\t\t\t\tAttributes\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t{Object.keys(facets.attributes).map((attribute, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row key={index} className=\"mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{attribute}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CardDeck\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\"maxHeight\": \"7rem\", \"overflowY\": \"auto\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{facets.attributes[attribute].map((tag, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t      style={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t      \"minWidth\": '11rem',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t      \"maxWidth\": '11rem'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t      }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body className=\"p-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check key={index + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            type=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            label={tag}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            defaultChecked={criteria.attributes[attribute] && criteria.attributes[attribute].includes(tag)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChangeAttribute(event.target.checked, attribute, tag)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CardDeck>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr className=\"mt-1 mb-1\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Form>\n\t\t\t</Jumbotron>\n\t\t\t\n\t\t\t{\n\t\t\t\tfields.length > 0 ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{fields.map((api, index) => (\n\t\t\t\t\t\t\tapi.method && api.route &&\n\t\t\t\t\t\t\t<Alert className=\"m-1 p-2\" key={index} variant={getMethodVariant(api.method)}>\n\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 pl-1 pr-1 pt-0 pb-0 float-left\"\n\t\t\t\t\t\t\t\t\t\t        variant={getMethodVariant(api.method)}><span\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"small\">{api.method.toUpperCase()}</span></Button>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"small float-left font-weight-bold mr-1\">{api.serviceName}</span>\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"small float-left mr-2 font-weight-bold text-success\"> v{api.v} </span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"small float-left\">{api.route}</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"small float-right text-info\">{api.group}</span>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t<Row className=\"mt-2\">\n\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t<span className=\"small font-italic float-left ml-3\">\n\t\t\t\t\t\t\t\t\t{api.label}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\t\treLoad(p);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t\t</>\n\t\t\t\t) : null\n\t\t\t}\n\t\t</>\n\t);\n}","import {\n\tAccordion,\n\tAlert,\n\tBadge,\n\tButton,\n\tCol,\n\tForm,\n\tJumbotron,\n\tRow,\n\tuseAccordionToggle\n} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {BsLockFill} from \"react-icons/bs\";\n\nimport AutoPagination from \"../../../../lib/AutoPagination\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {SoaanalyticsService} from \"../../../../services\";\nimport {FcCollapse, FcExpand} from \"react-icons/fc\";\n\nconst initCriteria = {\n\t\"type\": \"service\",\n\t\"includeSOAJS\": false,\n\t\"serviceName\": \"\",\n\t\"serviceGroup\": \"\",\n\t\"serviceVersion\": \"\",\n\t\"route\": \"\",\n\t\"tenant\": \"\"\n};\n\nconst methodVariant = {\n\t\"get\": \"primary\",\n\t\"post\": \"success\",\n\t\"delete\": \"danger\",\n\t\"put\": \"warning\",\n\t\"patch\": \"info\",\n\t\"head\": \"secondary\",\n\t\"other\": \"light\"\n};\nconst soaanalyticsService = SoaanalyticsService.getService();\nconst tenantLimit = 10;\n\nfunction getMethodVariant(method) {\n\tif (method && methodVariant[method]) {\n\t\treturn methodVariant[method];\n\t} else {\n\t\treturn methodVariant[\"other\"];\n\t}\n}\n\nasync function onLoad(setFields, setPagination, currentPage, isSubscribed, criteria) {\n\ttry {\n\t\tlet c = {\n\t\t\t\"limit\": 6,\n\t\t\t\"start\": (currentPage - 1) * 6,\n\t\t\t\"type\": criteria.type,\n\t\t\t\"includeSOAJS\": criteria.includeSOAJS,\n\t\t\t\"keywords\": {\n\t\t\t\t\"serviceName\": criteria.serviceName,\n\t\t\t\t\"serviceGroup\": criteria.serviceGroup,\n\t\t\t\t\"serviceVersion\": criteria.serviceVersion,\n\t\t\t\t\"route\": criteria.route\n\t\t\t}\n\t\t};\n\t\tconst response = await soaanalyticsService.getApis(c);\n\t\tif (isSubscribed) {\n\t\t\tif (response && response.records) {\n\t\t\t\tsetFields(response.records);\n\t\t\t\tsetPagination(\n\t\t\t\t\t{\n\t\t\t\t\t\t\"totalItems\": response.count,\n\t\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\t\"itemsPerPage\": response.limit\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nfunction CustomToggle({children, eventKey, handleClick}) {\n\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\thandleClick();\n\t});\n\treturn (\n\t\t<div className=\"float-right\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nexport default function ApiAcl() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [criteria, setCriteria] = useState(initCriteria);\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\t\n\tconst [selectedAPI, setSelectedAPI] = useState(null);\n\tconst [usage, setUsage] = useState([]);\n\tconst [usageTenants, setUsageTenants] = useState({\n\t\t\"code\": \"\",\n\t\t\"count\": 0,\n\t\t\"tenants\": []\n\t});\n\tconst [activeKey, setActiveKey] = useState(0);\n\t\n\tasync function reLoad(page) {\n\t\tawait onLoad(setFields, setPagination, page || currentPage, true, criteria)\n\t}\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function getACLUsageTenants(code) {\n\t\ttry {\n\t\t\tlet data = {\n\t\t\t\t\"productCode\": code,\n\t\t\t\t\"limit\": tenantLimit,\n\t\t\t\t\"start\": 0\n\t\t\t};\n\t\t\tif (criteria.tenant.length > 0) {\n\t\t\t\tdata.keyword = criteria.tenant;\n\t\t\t}\n\t\t\tlet response = await soaanalyticsService.getAPIACLUsageTenants(data);\n\t\t\tif (response && response.records) {\n\t\t\t\tsetUsageTenants({\n\t\t\t\t\t\"code\": code,\n\t\t\t\t\t\"count\": response.count,\n\t\t\t\t\t\"tenants\": response.records\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function getACLUsage(api) {\n\t\ttry {\n\t\t\tsetSelectedAPI({\n\t\t\t\t\"service\": api.serviceName,\n\t\t\t\t\"version\": api.v,\n\t\t\t\t\"method\": api.method,\n\t\t\t\t\"api\": api.route,\n\t\t\t\t\"group\": api.group\n\t\t\t});\n\t\t\tlet response = await soaanalyticsService.getAPIACLUsage({\n\t\t\t\t\"service\": api.serviceName,\n\t\t\t\t\"version\": api.v,\n\t\t\t\t\"method\": api.method,\n\t\t\t\t\"api\": api.route\n\t\t\t});\n\t\t\tif (response) {\n\t\t\t\tsetUsage(response);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait reLoad(1);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tonLoad(setFields, setPagination, 1, isSubscribed, initCriteria).catch();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-3\">\n\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t<Row className=\"small\">\n\t\t\t\t\t\t<Col xs={4}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.ServiceName\")}\n\t\t\t\t\t\t\t\tid=\"serviceName\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tvalue={criteria.serviceName}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={4}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.ServiceVersion\")}\n\t\t\t\t\t\t\t\tid=\"serviceVersion\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tvalue={criteria.serviceVersion}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={4}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.ServiceGroup\")}\n\t\t\t\t\t\t\t\tid=\"serviceGroup\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tvalue={criteria.serviceGroup}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row className=\"small mt-4\">\n\t\t\t\t\t\t<Col xs={6} md={7}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.Route\")}\n\t\t\t\t\t\t\t\tid=\"route\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tvalue={criteria.route}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={3}>\n\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\tid=\"includeSOAJS\"\n\t\t\t\t\t\t\t\tlabel=\"Include SOAJS APIs\"\n\t\t\t\t\t\t\t\tdefaultChecked={criteria.includeSOAJS}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={3} md={2}>\n\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Form>\n\t\t\t</Jumbotron>\n\t\t\t{fields.length > 0 ? (\n\t\t\t\t<>\n\t\t\t\t\t{fields.map((api, index) => (\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Alert className=\"m-1 p-2\" key={index} variant={getMethodVariant(api.method)}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 pl-1 pr-1 pt-0 pb-0 float-left\"\n\t\t\t\t\t\t\t\t\t        variant={getMethodVariant(api.method)}><span\n\t\t\t\t\t\t\t\t\t\tclassName=\"small\">{api.method ? api.method.toUpperCase() : \"\"}</span></Button>\n\t\t\t\t\t\t\t\t\t<span className=\"small float-left font-weight-bold mr-1\">{api.serviceName}</span>\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclassName=\"small float-left mr-2 font-weight-bold text-success\"> v{api.v} </span>\n\t\t\t\t\t\t\t\t\t<span className=\"small float-left\">{api.route}</span>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tdisabled={!api.route}\n\t\t\t\t\t\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-2 small pl-1 pr-1 pt-0 pb-0\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tgetACLUsage(api).catch();\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<BsLockFill\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"small\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<span className=\"small float-right text-info\">{api.group}</span>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t))}\n\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\treLoad(p);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t\t<hr/>\n\t\t\t\t</>\n\t\t\t) : null}\n\t\t\t\n\t\t\t{selectedAPI &&\n\t\t\t<Alert className=\"m-1 p-2\" variant={getMethodVariant(selectedAPI.method)}>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 pl-1 pr-1 pt-0 pb-0 float-left\"\n\t\t\t\t\t\t        variant={getMethodVariant(selectedAPI.method)}><span\n\t\t\t\t\t\t\tclassName=\"small\">{selectedAPI.method ? selectedAPI.method.toUpperCase() : \"\"}</span></Button>\n\t\t\t\t\t\t<span className=\"small float-left font-weight-bold mr-1\">{selectedAPI.service}</span>\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"small float-left mr-2 font-weight-bold text-success\"> v{selectedAPI.version} </span>\n\t\t\t\t\t\t<span className=\"small float-left\">{selectedAPI.api}</span>\n\t\t\t\t\t\t<span className=\"small float-right text-info\">{selectedAPI.group}</span>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Alert>\n\t\t\t}\n\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t{usage.map((rec, i) => (\n\t\t\t\t\t<Alert key={i} variant=\"light\" className=\"mt-2 mb-2 small\" style={{\"borderColor\": \"#c6c8ca\"}}>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<b>{rec.name}</b><Badge variant=\"info ml-3\">{rec.code}</Badge>\n\t\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\t\teventKey={i + 1}\n\t\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\t\tif (activeKey === (i + 1)) {\n\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(i + 1);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{activeKey === (i + 1) ? <FcExpand/> :\n\t\t\t\t\t\t\t\t\t\t<FcCollapse/>}\n\t\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={i + 1}>\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t\t<div className=\"p-2\">\n\t\t\t\t\t\t\t\t\t{rec.found_in_scope && rec.found_in_scope.envs.length > 0 &&\n\t\t\t\t\t\t\t\t\t<Alert key={i} variant=\"secondary\" className=\"p-1\">\n\t\t\t\t\t\t\t\t\t\tScope usage\n\t\t\t\t\t\t\t\t\t\t<span className=\"float-right\">\n\t\t\t\t\t\t\t\t\t\tEnvironments:\n\t\t\t\t\t\t\t\t\t\t<span className=\" info ml-2\">\n\t\t\t\t\t\t\t\t\t\t\t{rec.found_in_scope.envs.join(\", \").toUpperCase()}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{rec.found_in_package && rec.found_in_package.packages.length > 0 &&\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<b>Package usage</b>\n\t\t\t\t\t\t\t\t\t\t{rec.found_in_package.packages.map((pack, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t{pack}\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"float-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{rec.found_in_package.envs &&\n\t\t\t\t\t\t\t\t\t\t\t\t\trec.found_in_package.envs[pack] &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tEnvironments:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"info ml-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{rec.found_in_package.envs[pack].join(\", \").toUpperCase()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t\t\t<Jumbotron className=\"p-3 mb-2\">\n\t\t\t\t\t\t\t\t\t\t<b>Tenants usage</b> click on search to filter and fetch usage\n\t\t\t\t\t\t\t\t\t\t<Row className=\"mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={9} md={10}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"tenant\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={criteria.tenant}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={3} md={2}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"dark\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgetACLUsageTenants(rec.code).catch();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t{usageTenants.code === rec.code && usageTenants.tenants &&\n\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Alert key={i} className=\" mt-2 p-1 m-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tUsed by <Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\">{usageTenants.count}</Badge> tenant(s)\n\t\t\t\t\t\t\t\t\t\t\t\t\t{usageTenants.count > tenantLimit &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>, max {tenantLimit} are listed below use search to filter</span>}\n\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t\t\t\t\t{usageTenants.code === rec.code && usageTenants.tenants && usageTenants.tenants.length > 0 &&\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t{usageTenants.tenants.map((ten, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<Alert key={i} variant=\"light\" className=\"p-2 m-1 border-secondary\">\n\t\t\t\t\t\t\t\t\t\t\t\t<b>{ten.name}</b>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"float-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge variant=\"secondary\">{ten.code}</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t\t\t\t\t\t{ten.applications.map((app, i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1 small\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{app.package}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"float-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tEnvironment:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\" info ml-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{app.key.env || \"All environments\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style={{\"wordBreak\": \"break-all\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{app.key.extKey}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Alert>\n\t\t\t\t))}\n\t\t\t</Accordion>\n\t\t</>\n\t);\n}","import JsonModal from './JsonModal.js';\n\nexport default JsonModal;\n","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {JsonEditor} from \"../index\";\n\n\nexport default function JsonModal({modalOpt, setModalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\t\n\treturn (\n\t\tmodalOpt &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.DetailedInformation\")} {modalOpt.title}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<JsonEditor\n\t\t\t\t\tmodes={[\"view\", \"preview\"]}\n\t\t\t\t\tmode={modalOpt.mode || \"view\"}\n\t\t\t\t\tjson={modalOpt.json || {}}\n\t\t\t\t/>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Ok\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {\n\tAlert,\n\tButton,\n\tCol,\n\tDropdown,\n\tDropdownButton,\n\tRow,\n\tBadge,\n\tAccordion,\n\tuseAccordionToggle,\n\tForm, Jumbotron\n} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService, SoamonitorService} from \"../../../../services\";\nimport AutoPagination from \"../../../../lib/AutoPagination\";\n\nimport JsonModal from \"../../../../soajs/urac/components/JsonModal\";\nimport {FcCollapse, FcExpand} from \"react-icons/fc\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {useTranslation} from \"react-i18next\";\nimport DatePicker from \"react-datepicker\";\n\nconst consoleService = ConsoleService.getService();\nconst soamonitorService = SoamonitorService.getService();\n\nconst methodVariant = {\n\t\"get\": \"primary\",\n\t\"post\": \"success\",\n\t\"delete\": \"danger\",\n\t\"put\": \"warning\",\n\t\"patch\": \"info\",\n\t\"head\": \"secondary\",\n\t\"other\": \"light\"\n};\n\nfunction getMethodVariant(method) {\n\tif (method && methodVariant[method]) {\n\t\treturn methodVariant[method];\n\t} else {\n\t\treturn methodVariant[\"other\"];\n\t}\n}\n\nfunction CustomToggle({children, eventKey, handleClick}) {\n\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\thandleClick();\n\t});\n\treturn (\n\t\t<div className=\"float-right\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nexport default function ApiMonitor() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [items, setItems] = useState([]);\n\tconst [environments, setEnvironments] = useState([]);\n\tconst [selectedEnv, setSelectedEnv] = useState(null);\n\tconst [selectedMsg, setSelected] = useState(\"-- Select an environment --\");\n\t\n\tconst [criteria, setCriteria] = useState({\n\t\t\"threshold\": 0,\n\t\t\"dateFrom\": \"\",\n\t\t\"dateTo\": \"\"\n\t});\n\t\n\tconst [activeKey, setActiveKey] = useState(0);\n\t\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\t\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\t\n\tfunction showJson(input, title) {\n\t\tlet json = input;\n\t\tif (typeof json === \"string\") {\n\t\t\ttry {\n\t\t\t\tjson = JSON.parse(json);\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\tmodalOptShow(json, title);\n\t}\n\t\n\tfunction handleFromDateChange(dp) {\n\t\tif (dp) {\n\t\t\tcriteria.dateFrom = dp.toISOString();\n\t\t\tsetCriteria({...criteria});\n\t\t} else {\n\t\t\tcriteria.dateFrom = \"\";\n\t\t\tsetCriteria({...criteria});\n\t\t}\n\t}\n\t\n\tfunction handleToDateChange(dp) {\n\t\tif (dp) {\n\t\t\tcriteria.dateTo = dp.toISOString();\n\t\t\tsetCriteria({...criteria});\n\t\t} else {\n\t\t\tcriteria.dateTo = \"\";\n\t\t\tsetCriteria({...criteria});\n\t\t}\n\t}\n\t\n\tasync function reLoad(page, env) {\n\t\ttry {\n\t\t\tlet c = {\"limit\": 12, \"start\": (page - 1) * 12};\n\t\t\tif (criteria.threshold) {\n\t\t\t\tc.threshold = {\"above\": criteria.threshold};\n\t\t\t}\n\t\t\tif (criteria.dateFrom && criteria.dateFrom.length > 0) {\n\t\t\t\tif (!c.dates) {\n\t\t\t\t\tc.dates = {};\n\t\t\t\t}\n\t\t\t\tc.dates.from = new Date(criteria.dateFrom).getTime();\n\t\t\t}\n\t\t\tif (criteria.dateTo && criteria.dateTo.length > 0) {\n\t\t\t\tif (!c.dates) {\n\t\t\t\t\tc.dates = {};\n\t\t\t\t}\n\t\t\t\tc.dates.to = new Date(criteria.dateTo).getTime();\n\t\t\t}\n\t\t\tconst response = await soamonitorService.getMonitorItems(c, env || selectedEnv);\n\t\t\tif (response) {\n\t\t\t\tsetPagination(\n\t\t\t\t\t{\n\t\t\t\t\t\t\"totalItems\": response.count,\n\t\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\t\"itemsPerPage\": response.limit\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tsetItems(response.items);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function handleSelectEnv(code) {\n\t\tsetSelectedEnv(code);\n\t\tsetSelected(code);\n\t\tawait reLoad(1, code);\n\t}\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tif (event.target.type === 'number') {\n\t\t\tvalue = parseInt(value);\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait reLoad(1, null);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tconst _environments = await consoleService.getEnvironments();\n\t\t\t\tif (_environments && isSubscribed) {\n\t\t\t\t\tsetEnvironments(_environments);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Alert variant=\"info\" className=\"mt-4 mb-2\">\n\t\t\t\t<h6 className=\"float-left mr-3 mt-2\">\n\t\t\t\t\tEnvironment:\n\t\t\t\t</h6>\n\t\t\t\t<DropdownButton\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tid=\"dropdown-item-button\"\n\t\t\t\t\ttitle={selectedMsg}\n\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\tclassName=\"small\">\n\t\t\t\t\t{environments.map((item, index) => (\n\t\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\t\tas=\"button\"\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tactive={selectedEnv === item.code}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\thandleSelectEnv(item.code).catch();\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t{item.code}\n\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t))}\n\t\t\t\t</DropdownButton>\n\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t</Alert>\n\t\t\t<Jumbotron className=\"p-2 mb-1\">\n\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t<Row className=\"small\">\n\t\t\t\t\t\t<Col xs={3}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tid=\"threshold\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\t\tvalue={criteria.threshold}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\tRequest above threshold\n\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\tselected={(criteria.dateFrom && criteria.dateFrom !== \"\") ? new Date(criteria.dateFrom) : null}\n\t\t\t\t\t\t\t\tonChange={handleFromDateChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\tFrom Date\n\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\tselected={(criteria.dateTo && criteria.dateTo !== \"\") ? new Date(criteria.dateTo) : null}\n\t\t\t\t\t\t\t\tonChange={handleToDateChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\tTo Date\n\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tdisabled={!selectedEnv}\n\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\tvariant=\"dark\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tonClick={handleSearch}>\n\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Form>\n\t\t\t</Jumbotron>\n\t\t\t\n\t\t\t{items && items.length > 0 &&\n\t\t\t<>\n\t\t\t\t<JsonModal\n\t\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t\t/>\n\t\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t\t{items.map((d, i) => (\n\t\t\t\t\t\t<Alert key={i} variant=\"light\" className=\"mt-2 mb-2\" style={{\"borderColor\": \"#c6c8ca\"}}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<span className=\"float-left\">\n\t\t\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 pl-1 pr-1 pt-0 pb-0\"\n\t\t\t\t\t\t\t\t\t        variant={getMethodVariant(d.method.toLowerCase())}><span\n\t\t\t\t\t\t\t\t\t\tclassName=\"small\">{d.method.toUpperCase()}</span></Button>\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">{d.api}</span> <Badge\n\t\t\t\t\t\t\t\t\tvariant=\"secondary\">{d.time.total}ms</Badge>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<span className=\"float-right\">\n\t\t\t\t\t\t\t\t\t<Badge variant=\"info mr-5\">{d.name} v{d.version}</Badge>\n\t\t\t\t\t\t\t\t\t<span className=\"mr-2 small\">{d.ts ? new Date(d.ts).toISOString() : null}</span>\n\t\t\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\t\t\teventKey={i + 1}\n\t\t\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tif (activeKey === (i + 1)) {\n\t\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(i + 1);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{activeKey === (i + 1) ? <FcExpand/> :\n\t\t\t\t\t\t\t\t\t\t<FcCollapse/>}\n\t\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Accordion.Collapse eventKey={i + 1}>\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<hr className=\"mt-2 mb-1\"/>\n\t\t\t\t\t\t\t\t\t<Row className=\"mt-2 small\">\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<span className=\"float-left\">\n\t\t\t\t\t\t\t\t\t{d.tenant ? d.tenant.id : null} [{d.tenant ? d.tenant.code : null}]\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\">{d.application ? d.application.product : null} [{d.application ? d.application.package : null}]</span>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t<Row className=\"mt-3\">\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t{d.body &&\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-left ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\"borderColor\": \"#c6c8ca\"}}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowJson(d.body);\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\tbody\n\t\t\t\t\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\"borderColor\": \"#c6c8ca\"}}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowJson(d.response);\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\tresponse\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-5\"\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\"borderColor\": \"#c6c8ca\"}}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowJson(d.query);\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\trequest\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\"borderColor\": \"#c6c8ca\"}}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowJson(d.headers);\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\theader\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\"borderColor\": \"#c6c8ca\"}}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowJson({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"tenant\": d.tenant,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": d.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"user\": d.urac,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"time\": d.time,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"url\": d.url\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\tinfo\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t))}\n\t\t\t\t</Accordion>\n\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\treLoad(p, null).catch();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t</>}\n\t\t</>\n\t);\n}","import {Alert, Badge, Button, Col, Dropdown, DropdownButton, Form, Jumbotron, Row, Table} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService, SoamonitorService} from \"../../../../services\";\nimport AutoPagination from \"../../../../lib/AutoPagination\";\nimport {useTranslation} from \"react-i18next\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport DatePicker from \"react-datepicker\";\n\nconst consoleService = ConsoleService.getService();\nconst soamonitorService = SoamonitorService.getService();\nconst methodVariant = {\n\t\"get\": \"primary\",\n\t\"post\": \"success\",\n\t\"delete\": \"danger\",\n\t\"put\": \"warning\",\n\t\"patch\": \"info\",\n\t\"head\": \"secondary\",\n\t\"other\": \"light\"\n};\n\nfunction getMethodVariant(method) {\n\tif (method && methodVariant[method]) {\n\t\treturn methodVariant[method];\n\t} else {\n\t\treturn methodVariant[\"other\"];\n\t}\n}\n\nexport default function ApiAnalytics() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [itemsApi, setItemsApi] = useState([]);\n\tconst [itemsService, setItemsService] = useState([]);\n\tconst [itemsUser, setItemsUser] = useState([]);\n\tconst [itemsTenant, setItemsTenant] = useState([]);\n\t\n\tconst [environments, setEnvironments] = useState([]);\n\tconst [selectedEnv, setSelectedEnv] = useState(null);\n\tconst [selectedMsg, setSelected] = useState(\"-- Select an environment --\");\n\t\n\tconst [criteria, setCriteria] = useState({\n\t\t\"type\": \"api\",\n\t\t\"username\": \"\",\n\t\t\"tenantCode\": \"\",\n\t\t\"api\": \"\",\n\t\t\"service\": \"\",\n\t\t\"dateFrom\": \"\",\n\t\t\"dateTo\": \"\",\n\t\t\"year\": {\n\t\t\t\"from\": 0,\n\t\t\t\"to\": 0\n\t\t},\n\t\t\"month\": {\n\t\t\t\"from\": 0,\n\t\t\t\"to\": 0\n\t\t},\n\t\t\"day\": {\n\t\t\t\"from\": 0,\n\t\t\t\"to\": 0\n\t\t}\n\t});\n\t\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\t\n\tasync function reLoad(page, env) {\n\t\ttry {\n\t\t\tlet c = {\"limit\": 15, \"start\": (page - 1) * 15};\n\t\t\tif (criteria.type === \"api\") {\n\t\t\t\tif (criteria.api && criteria.api.length > 0) {\n\t\t\t\t\tc.filters = {\n\t\t\t\t\t\t\"api\": criteria.api\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (criteria.type === \"user\") {\n\t\t\t\tif (criteria.username && criteria.username.length > 0) {\n\t\t\t\t\tc.filters = {\n\t\t\t\t\t\t\"username\": criteria.username\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (criteria.type === \"tenant\") {\n\t\t\t\tif (criteria.tenantCode && criteria.tenantCode.length > 0) {\n\t\t\t\t\tc.filters = {\n\t\t\t\t\t\t\"tenantCode\": criteria.tenantCode\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (criteria.type === \"service\") {\n\t\t\t\tif (criteria.service && criteria.service.length > 0) {\n\t\t\t\t\tc.filters = {\n\t\t\t\t\t\t\"service\": criteria.service\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (criteria.dateFrom && criteria.dateFrom.length > 0) {\n\t\t\t\tif (!c.year) {\n\t\t\t\t\tc.year = {};\n\t\t\t\t}\n\t\t\t\tc.year.from = criteria.year.from;\n\t\t\t\tif (!c.month) {\n\t\t\t\t\tc.month = {};\n\t\t\t\t}\n\t\t\t\tc.month.from = criteria.month.from;\n\t\t\t\tif (!c.day) {\n\t\t\t\t\tc.day = {};\n\t\t\t\t}\n\t\t\t\tc.day.from = criteria.day.from;\n\t\t\t}\n\t\t\tif (criteria.dateTo && criteria.dateTo.length > 0) {\n\t\t\t\tif (!c.year) {\n\t\t\t\t\tc.year = {};\n\t\t\t\t}\n\t\t\t\tc.year.to = criteria.year.to;\n\t\t\t\tif (!c.month) {\n\t\t\t\t\tc.month = {};\n\t\t\t\t}\n\t\t\t\tc.month.to = criteria.month.to;\n\t\t\t\tif (!c.day) {\n\t\t\t\t\tc.day = {};\n\t\t\t\t}\n\t\t\t\tc.day.to = criteria.day.to;\n\t\t\t}\n\t\t\tconst response = await soamonitorService.getMonitorAnalytics(criteria.type, c, env || selectedEnv);\n\t\t\tif (response) {\n\t\t\t\tsetPagination(\n\t\t\t\t\t{\n\t\t\t\t\t\t\"totalItems\": response[criteria.type].count,\n\t\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\t\"itemsPerPage\": response[criteria.type].limit\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tif (response.api && response.api.items) {\n\t\t\t\t\tsetItemsApi(response.api.items);\n\t\t\t\t} else {\n\t\t\t\t\tsetItemsApi([]);\n\t\t\t\t}\n\t\t\t\tif (response.service && response.service.items) {\n\t\t\t\t\tsetItemsService(response.service.items)\n\t\t\t\t} else {\n\t\t\t\t\tsetItemsService([]);\n\t\t\t\t}\n\t\t\t\tif (response.user && response.user.items) {\n\t\t\t\t\tsetItemsUser(response.user.items)\n\t\t\t\t} else {\n\t\t\t\t\tsetItemsUser([]);\n\t\t\t\t}\n\t\t\t\tif (response.tenant && response.tenant.items) {\n\t\t\t\t\tsetItemsTenant(response.tenant.items)\n\t\t\t\t} else {\n\t\t\t\t\tsetItemsTenant([]);\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function handleSelectEnv(code) {\n\t\tsetSelectedEnv(code);\n\t\tsetSelected(code);\n\t\tawait reLoad(1, code);\n\t}\n\t\n\tfunction handleFromDateChange(dp) {\n\t\tconsole.log(dp)\n\t\tif (dp) {\n\t\t\tlet y = dp.getFullYear();\n\t\t\tlet m = dp.getMonth();\n\t\t\tlet d = dp.getDate();\n\t\t\t\n\t\t\tcriteria.dateFrom = dp.toISOString();\n\t\t\tcriteria.year.from = y;\n\t\t\tcriteria.month.from = m;\n\t\t\tcriteria.day.from = d;\n\t\t\tsetCriteria({...criteria});\n\t\t} else {\n\t\t\tcriteria.dateFrom = \"\";\n\t\t\tcriteria.year.from = 0;\n\t\t\tcriteria.month.from = 0;\n\t\t\tcriteria.day.from = 0;\n\t\t\tsetCriteria({...criteria});\n\t\t}\n\t}\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait reLoad(1, null);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tconst _environments = await consoleService.getEnvironments();\n\t\t\t\tif (_environments && isSubscribed) {\n\t\t\t\t\tsetEnvironments(_environments);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Alert variant=\"info\" className=\"mt-4 mb-2\">\n\t\t\t\t<h6 className=\"float-left mr-3 mt-2\">\n\t\t\t\t\tEnvironment:\n\t\t\t\t</h6>\n\t\t\t\t<DropdownButton\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tid=\"dropdown-item-button\"\n\t\t\t\t\ttitle={selectedMsg}\n\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\tclassName=\"small\">\n\t\t\t\t\t{environments.map((item, index) => (\n\t\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\t\tas=\"button\"\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tactive={selectedEnv === item.code}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\thandleSelectEnv(item.code).catch();\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t{item.code}\n\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t))}\n\t\t\t\t</DropdownButton>\n\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t</Alert>\n\t\t\t\n\t\t\t<>\n\t\t\t\t<Jumbotron className=\"p-2 mb-1\">\n\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t<Row className=\"small\">\n\t\t\t\t\t\t\t<Col md={3}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"type\"\n\t\t\t\t\t\t\t\t\tdefaultValue={criteria.type}\n\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"api\">API</option>\n\t\t\t\t\t\t\t\t\t<option value=\"user\">User</option>\n\t\t\t\t\t\t\t\t\t<option value=\"tenant\">Tenant</option>\n\t\t\t\t\t\t\t\t\t<option value=\"service\">Service</option>\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\tView by\n\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col md={4}>\n\t\t\t\t\t\t\t\t{criteria.type === \"api\" &&\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tid=\"api\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.api}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\tFilter by route\n\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{criteria.type === \"user\" &&\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.username}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\tFilter by username\n\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{criteria.type === \"service\" &&\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tid=\"service\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.service}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\tFilter by service\n\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{criteria.type === \"tenant\" &&\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tid=\"tenantCode\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.tenantCode}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\tFilter by tenant\n\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\t\tselected={(criteria.dateFrom && criteria.dateFrom !== \"\") ? new Date(criteria.dateFrom) : null}\n\t\t\t\t\t\t\t\t\tonChange={handleFromDateChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\tSpecific Date\n\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={!selectedEnv}\n\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\tvariant=\"dark\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tonClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Jumbotron>\n\t\t\t\t\n\t\t\t\t{itemsApi && itemsApi.length > 0 &&\n\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Api\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Service\")}</th>\n\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Count\")}</th>\n\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Max\")}</th>\n\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Min\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Date\")}</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t{itemsApi.map((rec, i) => (\n\t\t\t\t\t\t<tr key={i}>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 pl-1 pr-1 pt-0 pb-0\"\n\t\t\t\t\t\t\t\t        variant={getMethodVariant(rec.method.toLowerCase())}><span\n\t\t\t\t\t\t\t\t\tclassName=\"small\">{rec.method.toUpperCase()}</span></Button>\n\t\t\t\t\t\t\t\t<small>{rec.api}</small>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td><small>{rec.name} v{rec.version}</small></td>\n\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.count}</td>\n\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.max_time_total}</td>\n\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.min_time_total}</td>\n\t\t\t\t\t\t\t<td><small>{rec.year}-{rec.month + 1}-{rec.day}</small></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t\t</tbody>\n\t\t\t\t</Table>}\n\t\t\t\t\n\t\t\t\t{itemsService && itemsService.length > 0 &&\n\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Service\")}</th>\n\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Count\")}</th>\n\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Max\")}</th>\n\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Min\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Date\")}</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t{itemsService.map((rec, i) => (\n\t\t\t\t\t\t<tr key={i}>\n\t\t\t\t\t\t\t<td><small>{rec.name} <Badge variant=\"secondary\">v{rec.version}</Badge></small></td>\n\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.count}</td>\n\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.max_time_total}</td>\n\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.min_time_total}</td>\n\t\t\t\t\t\t\t<td><small>{rec.year}-{rec.month + 1}-{rec.day}</small></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t\t</tbody>\n\t\t\t\t</Table>}\n\t\t\t\t\n\t\t\t\t{itemsTenant && itemsTenant.length > 0 &&\n\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Tenant\")}</th>\n\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Count\")}</th>\n\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Max\")}</th>\n\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Min\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Date\")}</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t{itemsTenant.map((rec, i) => (\n\t\t\t\t\t\t<tr key={i}>\n\t\t\t\t\t\t\t<td><small>{rec.tenant_id} [<span className=\"text-info\">{rec.tenant_code}</span>]</small>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.count}</td>\n\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.max_time_total}</td>\n\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.min_time_total}</td>\n\t\t\t\t\t\t\t<td><small>{rec.year}-{rec.month + 1}-{rec.day}</small></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t\t</tbody>\n\t\t\t\t</Table>}\n\t\t\t\t\n\t\t\t\t{itemsUser && itemsUser.length > 0 &&\n\t\t\t\t<>\n\t\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{t(\"soajs:fields.ID\")}</th>\n\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Username\")}</th>\n\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Email\")}</th>\n\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Count\")}</th>\n\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Max\")}</th>\n\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Min\")}</th>\n\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Date\")}</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{itemsUser.map((rec, i) => (\n\t\t\t\t\t\t\t<tr key={i}>\n\t\t\t\t\t\t\t\t<td><small>{rec.urac_id}</small></td>\n\t\t\t\t\t\t\t\t<td><small>{rec.urac_username}</small></td>\n\t\t\t\t\t\t\t\t<td><small>{rec.urac_email}</small></td>\n\t\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.count}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.max_time_total}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.min_time_total}</td>\n\t\t\t\t\t\t\t\t<td><small>{rec.year}-{rec.month + 1}-{rec.day}</small></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</Table>\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\treLoad(p, null).catch();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t</>}\n\t\t\t</>\n\t\t</>\n\t);\n}","import {Redirect, Route, Switch} from \"react-router-dom\";\nimport React from \"react\";\n\nimport {AuthenticatedRoute} from \"../../soajs/helpers\";\n\nimport ApiMetrics from \"./containers/ApiMetrics/ApiMetrics\";\nimport ApiCatalog from \"./containers/ApiCatalog/ApiCatalog\";\nimport ApiAcl from \"./containers/ApiAcl/ApiAcl\";\nimport ApiMonitor from \"./containers/ApiMonitor/ApiMonitor\";\nimport ApiAnalytics from \"./containers/ApiAnalytics/ApiAnalytics\";\n\nconst rootPath = \"/reports\";\nconst defaultPath= \"/api/metrics\"\n\nexport default function Routes() {\n\treturn (\n\t\t<Switch>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/api/metrics\"}>\n\t\t\t\t<ApiMetrics/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/api/catalog\"}>\n\t\t\t\t<ApiCatalog/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/api/acl\"}>\n\t\t\t\t<ApiAcl/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/api/monitor\"}>\n\t\t\t\t<ApiMonitor/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/api/analytics\"}>\n\t\t\t\t<ApiAnalytics/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t<Route\n\t\t\t\trender={() => {\n\t\t\t\t\treturn (<Redirect to={rootPath + defaultPath}/>)\n\t\t\t\t}}/>\n\t\t</Switch>\n\t)\n}","import {Nav, Navbar, NavDropdown} from \"react-bootstrap\";\nimport React from \"react\";\nimport {LinkContainer} from \"react-router-bootstrap\";\nimport {useTranslation} from \"react-i18next\";\n\nfunction Navigation() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst rootPath = \"/reports\";\n\treturn (\n\t\t<Navbar collapseOnSelect expand=\"md\" className=\"pt-0 pb-0\" bg=\"secondary\" variant=\"dark\">\n\t\t\t<span></span>\n\t\t\t<Navbar.Toggle aria-controls=\"reports-navbar-nav\"/>\n\t\t\t<Navbar.Collapse id=\"settings-navbar-nav\" className=\"justify-content-end\">\n\t\t\t\t<Nav activeKey={window.location.pathname}>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/api/metrics\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.APIMetrics\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/api/catalog\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.APICatalog\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/api/acl\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.APIACL\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/api/monitor\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.APIMonitor\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/api/analytics\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.APIAnalytics\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t</Nav>\n\t\t\t</Navbar.Collapse>\n\t\t</Navbar>\n\t);\n}\n\nexport default Navigation","import React from \"react\";\nimport {Container} from \"react-bootstrap\";\n\nimport Routes from \"./Routes\";\nimport Navigation from \"./Navigation\";\n\nexport default function Reports() {\n\treturn (\n\t\t<>\n\t\t\t<Navigation/>\n\t\t\t<div className=\"bg-dark pt-1\"></div>\n\t\t\t<div className=\"main-area\">\n\t\t\t\t<Container className=\"mt-3 mb-3\">\n\t\t\t\t\t<Routes/>\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t</>\n\t);\n}","import {Button, Card, CardDeck, Form, Jumbotron} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport _ from \"lodash\";\nimport {MarketplaceService} from \"../../../../services\";\nimport {UracService} from \"../../../../soajs/urac/services\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\nimport {useTranslation} from \"react-i18next\";\n\nconst uracService = UracService.getService();\nconst marketplaceService = MarketplaceService.getService();\n\nfunction isGroupSelected(settings, value) {\n\treturn (\n\t\tsettings &&\n\t\tsettings.acl &&\n\t\tsettings.acl.groups &&\n\t\tsettings.acl.groups.value &&\n\t\tsettings.acl.groups.value.includes(value)\n\t);\n}\n\nexport default function ConfigureModalGroups({modalOpt, handleAction, handleClose}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [groups, setGroups] = useState([]);\n\tconst [fields, setFields] = useState({\n\t\t\"groups\": [],\n\t\t\"type\": \"whitelist\"\n\t});\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\t\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction whitelistBlacklist(checked, what) {\n\t\tlet obj = fields;\n\t\tobj.type = what;\n\t\tsetFields({...obj});\n\t}\n\t\n\tfunction onChangeGroup(checked, code) {\n\t\tlet obj = fields;\n\t\tif (checked) {\n\t\t\tobj.groups.push(code);\n\t\t} else {\n\t\t\t_.pullAll(obj.groups, [code]);\n\t\t}\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tawait marketplaceService.updateSettingsGroups({\n\t\t\t\t\"id\": modalOpt.item._id,\n\t\t\t\t\"groups\": fields.groups,\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"subType\": (modalOpt.item.configuration ? modalOpt.item.configuration.subType || null : null)\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.groupsItemSuccess\"));\n\t\t\thandleAction();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (modalOpt.item && modalOpt.item.settings && modalOpt.item.settings.acl && modalOpt.item.settings.acl.groups) {\n\t\t\t\t\tsetFields({\n\t\t\t\t\t\t\"groups\": modalOpt.item.settings.acl.groups.value,\n\t\t\t\t\t\t\"type\": modalOpt.item.settings.acl.groups.type\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tconst _groups = await uracService.getGroups();\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetGroups(_groups);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-4 m-0 bg-light border-dark small\">\n\t\t\t\t<fieldset>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"whitelist\"\n\t\t\t\t\t\tname=\"groupsType\"\n\t\t\t\t\t\tid=\"groupsType1\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"whitelist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"whitelist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"blacklist\"\n\t\t\t\t\t\tname=\"groupsType\"\n\t\t\t\t\t\tid=\"groupsType2\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"blacklist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"blacklist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</fieldset>\n\t\t\t</Jumbotron>\n\t\t\t<CardDeck className=\"ml-2\">\n\t\t\t\t{groups.map((oo, index) => (\n\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t      style={{\"minWidth\": '11rem', \"maxWidth\": '11rem'}}>\n\t\t\t\t\t\t<Card.Body className=\"p-2\">\n\t\t\t\t\t\t\t<Form.Check className=\"small\" key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t            defaultChecked={isGroupSelected(modalOpt.item.settings, oo.code)}\n\t\t\t\t\t\t\t            label={oo.code}\n\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t            onChangeGroup(event.target.checked, oo.code)\n\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</CardDeck>\n\t\t\t<hr/>\n\t\t\t<div>\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t\t\n\t\t\t\t{ability.can('market_item', 'settings_groups') && (modalOpt.item.configuration ? modalOpt.item.configuration.subType || null : null) !== \"soajs\" &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleSubmit}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Save\")} - {t(\"soajs:fields.Groups\")}\n\t\t\t\t</Button>}\n\t\t\t\t{ability.can('market_item', 'settings_groups') && (modalOpt.item.configuration ? modalOpt.item.configuration.subType || null : null) === \"soajs\" &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleSubmit}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Save\")} - {t(\"soajs:fields.Groups\")}\n\t\t\t\t</Button>}\n\t\t\t</div>\n\t\t</>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\nimport {Button, Card, CardDeck, Form, Jumbotron} from \"react-bootstrap\";\nimport _ from \"lodash\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService, MarketplaceService} from \"../../../../services\";\n\nconst consoleService = ConsoleService.getService();\nconst marketplaceService = MarketplaceService.getService();\n\nfunction isEnvSelected(settings, value) {\n\treturn (\n\t\tsettings &&\n\t\tsettings.environments &&\n\t\tsettings.environments.value &&\n\t\tsettings.environments.value.includes(value)\n\t);\n}\n\nexport default function ConfigureModalEnvironments({modalOpt, handleAction, handleClose}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [environments, setEnvironments] = useState([]);\n\tconst [fields, setFields] = useState({\n\t\t\"environments\": [],\n\t\t\"type\": \"whitelist\"\n\t});\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\t\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction whitelistBlacklist(checked, what) {\n\t\tlet obj = fields;\n\t\tobj.type = what;\n\t\tsetFields({...obj});\n\t}\n\t\n\tfunction onChangeEnvironment(checked, code) {\n\t\tlet obj = fields;\n\t\tif (checked) {\n\t\t\tobj.environments.push(code);\n\t\t} else {\n\t\t\t_.pullAll(obj.environments, [code]);\n\t\t}\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\t\n\t\t\tawait marketplaceService.updateSettingsEnvironments({\n\t\t\t\t\"id\": modalOpt.item._id,\n\t\t\t\t\"environments\": fields.environments,\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"subType\": (modalOpt.item.configuration ? modalOpt.item.configuration.subType || null : null)\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.environmentsItemSuccess\"));\n\t\t\t\n\t\t\thandleAction()\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (modalOpt.item && modalOpt.item.settings && modalOpt.item.settings.environments) {\n\t\t\t\t\tsetFields({\n\t\t\t\t\t\t\"environments\": modalOpt.item.settings.environments.value,\n\t\t\t\t\t\t\"type\": modalOpt.item.settings.environments.type\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tconst _environments = await consoleService.getEnvironments();\n\t\t\t\t\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetEnvironments(_environments);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-4 m-0 bg-light border-dark small\">\n\t\t\t\t<fieldset>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"whitelist\"\n\t\t\t\t\t\tname=\"environmentsType\"\n\t\t\t\t\t\tid=\"environmentsType1\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"whitelist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"whitelist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"blacklist\"\n\t\t\t\t\t\tname=\"environmentsType\"\n\t\t\t\t\t\tid=\"environmentsType2\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"blacklist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"blacklist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</fieldset>\n\t\t\t</Jumbotron>\n\t\t\t<CardDeck className=\"ml-2\">\n\t\t\t\t{environments.map((oo, index) => (\n\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t      style={{\"minWidth\": '11rem', \"maxWidth\": '11rem'}}>\n\t\t\t\t\t\t<Card.Body className=\"p-2\">\n\t\t\t\t\t\t\t<Form.Check className=\"small\" key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t            defaultChecked={isEnvSelected(modalOpt.item.settings, oo.code)}\n\t\t\t\t\t\t\t            label={oo.code}\n\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t            onChangeEnvironment(event.target.checked, oo.code)\n\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</CardDeck>\n\t\t\t<hr/>\n\t\t\t<div>\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t\t\n\t\t\t\t{ability.can('market_item', 'settings_environments') && (modalOpt.item.configuration ? modalOpt.item.configuration.subType || null : null) !== \"soajs\" &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleSubmit}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Save\")} - {t(\"soajs:fields.Environments\")}\n\t\t\t\t</Button>}\n\t\t\t\t{ability.can('market_item', 'settings_environments') && (modalOpt.item.configuration ? modalOpt.item.configuration.subType || null : null) === \"soajs\" &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleSubmit}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Save\")} - {t(\"soajs:fields.Environments\")}\n\t\t\t\t</Button>}\n\t\t\t</div>\n\t\t</>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport {MdDeleteForever} from \"react-icons/md\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function Delete({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button variant=\"danger\" size=\"sm\" {...props}>\n\t\t\t\t<MdDeleteForever/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport {GoDiffAdded} from \"react-icons/go\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function Add({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button variant=\"success\" size=\"sm\" {...props}>\n\t\t\t\t<GoDiffAdded/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {Button, Card, CardDeck, Col, Form, Jumbotron} from \"react-bootstrap\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\nimport AutoPagination from \"../../../../lib/AutoPagination\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MarketplaceService} from \"../../../../services\";\nimport _ from \"lodash\";\n\nimport DeleteButton from \"../../../buttons/Delete\";\nimport AddButton from \"../../../buttons/Add\";\n\nconst marketplaceService = MarketplaceService.getService();\n\nasync function getRecipes(currentPage, criteria, setPagination, setRecipes) {\n\ttry {\n\t\tlet c = {\"limit\": 10, \"start\": (currentPage - 1) * 10};\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords && criteria.keywords !== \"\") {\n\t\t\t\tc.keywords = criteria.keywords;\n\t\t\t}\n\t\t}\n\t\tconst _recipes = await marketplaceService.getRecipes(c);\n\t\tsetPagination(\n\t\t\t{\n\t\t\t\t\"totalItems\": _recipes.count,\n\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\"itemsPerPage\": _recipes.limit\n\t\t\t}\n\t\t);\n\t\tsetRecipes(_recipes.records);\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function ConfigureModalRecipes({modalOpt, handleAction, handleClose}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [fields, setFields] = useState({\n\t\t\"recipes\": []\n\t});\n\tconst [recipesAllowed, setRecipesAllowed] = useState([]);\n\tconst [recipes, setRecipes] = useState([]);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [criteria, setCriteria] = useState({\n\t\t\"keywords\": \"\"\n\t});\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function reload(page) {\n\t\tawait getRecipes(page, criteria, setPagination, setRecipes);\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tawait getRecipes(1, criteria, setPagination, setRecipes);\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tawait marketplaceService.updateSettingsRecipes({\n\t\t\t\t\"id\": modalOpt.item._id,\n\t\t\t\t\"recipes\": fields.recipes,\n\t\t\t\t\"subType\": (modalOpt.item.configuration ? modalOpt.item.configuration.subType || null : null)\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.recipesItemSuccess\"));\n\t\t\thandleAction()\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\t\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction removeRecipeFromAllow(recipe) {\n\t\tlet obj = fields;\n\t\t_.pullAll(obj.recipes, [recipe._id]);\n\t\tsetFields(obj);\n\t\tobj = recipesAllowed;\n\t\t_.pullAllBy(obj, [{\"_id\": recipe._id}], \"_id\");\n\t\tsetRecipesAllowed([...obj])\n\t}\n\t\n\tfunction addRecipeToAllow(recipe) {\n\t\tif (fields.recipes.includes(recipe._id)) {\n\t\t\treturn;\n\t\t}\n\t\tlet obj = fields;\n\t\tobj.recipes.push(recipe._id);\n\t\tsetFields(obj);\n\t\tobj = recipesAllowed;\n\t\tobj.push(recipe);\n\t\tconsole.log(obj)\n\t\tsetRecipesAllowed([...obj])\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tlet _recipesAllowed = [];\n\t\t\t\tif (modalOpt.item &&\n\t\t\t\t\tmodalOpt.item.settings &&\n\t\t\t\t\tmodalOpt.item.settings.recipes) {\n\t\t\t\t\tsetFields({\n\t\t\t\t\t\t\"recipes\": modalOpt.item.settings.recipes\n\t\t\t\t\t});\n\t\t\t\t\tif (modalOpt.item.settings.recipes.length > 0) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst _res = await marketplaceService.getRecipesByIds(modalOpt.item.settings.recipes);\n\t\t\t\t\t\t\tif (_res && Array.isArray(_res)) {\n\t\t\t\t\t\t\t\t_recipesAllowed = _res;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tNotificationManager.error(e.message);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tawait getRecipes(1, {\"keywords\": \"\"}, setPagination, setRecipes);\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetRecipesAllowed(_recipesAllowed)\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-3\">\n\t\t\t\t<CardDeck>\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t<Form.Row>\n\t\t\t\t\t\t\t\t<Form.Label column=\"xs\"\n\t\t\t\t\t\t\t\t            xs={3}>{t(\"soajs:buttons.Search\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Col xs={6}>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"keywords\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.keywords}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={3}>\n\t\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\"\n\t\t\t\t\t\t\t\t\t        onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t</CardDeck>\n\t\t\t</Jumbotron>\n\t\t\t<hr/>\n\t\t\t{t(\"soajs:titles.allowedRecipes\")}\n\t\t\t<>\n\t\t\t\t{recipesAllowed.map((oo, index) => (\n\t\t\t\t\t<Card key={index} className=\"m-1 p-1 border-success\" bg=\"light\">\n\t\t\t\t\t\t<Card.Body className=\"p-2\">\n\t\t\t\t\t\t\t{oo.name} - <span\n\t\t\t\t\t\t\tclassName=\"font-italic small text-danger\">[{oo.type}/{oo.subtype}]</span>\n\t\t\t\t\t\t\t<span className=\"float-right small\">\n\t\t\t\t\t\t\t\tV {oo.v}\n\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\tclassName=\"ml-3\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tremoveRecipeFromAllow(oo);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</>\n\t\t\t<hr/>\n\t\t\t{t(\"soajs:titles.listRecipes\")}\n\t\t\t{recipes.map((oo, index) => (\n\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\">\n\t\t\t\t\t<Card.Body className=\"p-2\">\n\t\t\t\t\t\t{oo.name} - <span\n\t\t\t\t\t\tclassName=\"font-italic small text-danger\">[{oo.type}/{oo.subtype}]</span>\n\t\t\t\t\t\t<span className=\"float-right small\">V {oo.v}\n\t\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\t\tdisabled={fields.recipes.includes(oo._id)}\n\t\t\t\t\t\t\t\tclassName=\"ml-3\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\taddRecipeToAllow(oo);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t))}\n\t\t\t{recipes.length > 0 ? (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\treload(p).catch();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t</>\n\t\t\t) : null}\n\t\t\t\n\t\t\t<hr/>\n\t\t\t<div>\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t\t\n\t\t\t\t{ability.can('market_item', 'settings_recipe') && (modalOpt.item.configuration ? modalOpt.item.configuration.subType || null : null) !== \"soajs\" &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={(event) => handleSubmit(event, 3)}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Save\")} - {t(\"soajs:catalogs.recipes\")}\n\t\t\t\t</Button>}\n\t\t\t\t{ability.can('market_item_soajs', 'settings_recipe') && (modalOpt.item.configuration ? modalOpt.item.configuration.subType || null : null) === \"soajs\" &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={(event) => handleSubmit(event, 3)}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Save\")} - {t(\"soajs:catalogs.recipes\")}\n\t\t\t\t</Button>}\n\t\t\t</div>\n\t\t</>\n\t);\n}","import {useTranslation} from \"react-i18next\";\nimport React from \"react\";\nimport {\n\tForm,\n\tJumbotron, Modal,\n\tTab, Tabs\n} from \"react-bootstrap\";\n\n\nimport ConfigureModalGroups from \"./ConfigureModalGroups\";\nimport ConfigureModalEnvironments from \"./ConfigureModalEnvironments\";\nimport ConfigureModalRecipes from \"./ConfigureModalRecipes\";\n\nexport default function ConfigureModal({modalOpt, setModalOpt, handleAfterSubmit}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\treturn (\n\t\t<>\n\t\t\t{modalOpt.item &&\n\t\t\t<Modal size=\"xl\" show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>{t(\"soajs:catalogs.configure.title\")}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t\n\t\t\t\t\t<Jumbotron className=\"p-4\">\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{modalOpt.item.name}</span> {(modalOpt.item.configuration && modalOpt.item.configuration.port) ? [modalOpt.item.configuration.port] : \"\"}\n\t\t\t\t\t\t- <small>{modalOpt.item.configuration.group}</small>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t{modalOpt.item.description}\n\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t<Form onSubmit={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"acl\" id=\"config\">\n\t\t\t\t\t\t\t<Tab eventKey=\"acl\" title={t(\"soajs:fields.Groups\")}>\n\t\t\t\t\t\t\t\t<ConfigureModalGroups\n\t\t\t\t\t\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\t\t\t\t\t\thandleAction={handleAfterSubmit}\n\t\t\t\t\t\t\t\t\thandleClose={handleClose}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t<Tab eventKey=\"environments\" title={t(\"soajs:fields.Environments\")}>\n\t\t\t\t\t\t\t\t<ConfigureModalEnvironments\n\t\t\t\t\t\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\t\t\t\t\t\thandleAction={handleAfterSubmit}\n\t\t\t\t\t\t\t\t\thandleClose={handleClose}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t{(!modalOpt.settings || !modalOpt.settings.turnOffRecipesConfiguration) &&\n\t\t\t\t\t\t\t<Tab eventKey=\"recipes\" title={t(\"soajs:fields.Recipes\")}>\n\t\t\t\t\t\t\t\t<ConfigureModalRecipes\n\t\t\t\t\t\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\t\t\t\t\t\thandleAction={handleAfterSubmit}\n\t\t\t\t\t\t\t\t\thandleClose={handleClose}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tab>}\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</Form>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer className=\"bg-info\">\n\t\t\t\t\t<div className=\"small font-weight-bold text-white\">\n\t\t\t\t\t\t{t(\"soajs:catalogs.configure.note\")}\n\t\t\t\t\t</div>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {FiEdit} from \"react-icons/fi\";\n\nexport default function Edit({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.Edit\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button size=\"sm\" variant=\"primary\" {...props}>\n\t\t\t\t<FiEdit/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {BsFillGearFill} from \"react-icons/bs\";\n\nexport default function Gear({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.Configure\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button size=\"sm\" variant=\"secondary\" {...props}>\n\t\t\t\t<BsFillGearFill/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {HiOutlineViewGridAdd} from \"react-icons/hi\";\n\nexport default function Detail({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.Details\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button size=\"sm\" variant=\"success\" {...props}>\n\t\t\t\t<HiOutlineViewGridAdd/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import {useTranslation} from \"react-i18next\";\nimport {useHistory} from \"react-router-dom\";\nimport React, {useEffect, useState} from \"react\";\nimport {\n\tAccordion,\n\tButton,\n\tCard,\n\tForm,\n\tJumbotron,\n\tuseAccordionToggle,\n\tTab, Tabs, Row, Col\n} from \"react-bootstrap\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {FcCollapse, FcExpand} from \"react-icons/fc\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MarketplaceService} from \"../../../../services\";\nimport AutoPagination from \"../../../../lib/AutoPagination\";\n\nimport ConfigureModal from \"./ConfigureModal\";\n\nimport AddButton from \"../../../buttons/Add\";\nimport EditButton from \"../../../buttons/Edit\";\nimport GearButton from \"../../../buttons/Gear\";\nimport DetailButton from \"../../../buttons/Detail\";\nimport DeleteButton from \"../../../buttons/Delete\";\n\nconst marketplaceService = MarketplaceService.getService();\n\nfunction CustomToggle({children, eventKey, handleClick}) {\n\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\thandleClick();\n\t});\n\treturn (\n\t\t<div className=\"float-left\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nasync function onLoad(setFields, setPagination, currentPage, criteria, isSubscribed, type, subType) {\n\ttry {\n\t\tlet c = {\"limit\": 50, \"start\": (currentPage - 1) * 50, \"type\": type, \"subType\": subType};\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords && criteria.keywords !== \"\") {\n\t\t\t\tc.keywords = criteria.keywords;\n\t\t\t}\n\t\t}\n\t\tconst response = await marketplaceService.getItems(c);\n\t\tif (isSubscribed) {\n\t\t\tif (response.records) {\n\t\t\t\tsetFields(response.records);\n\t\t\t\tsetPagination(\n\t\t\t\t\t{\n\t\t\t\t\t\t\"totalItems\": response.count,\n\t\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\t\"itemsPerPage\": response.limit\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Template({type, subType, Children, settings, addItem, editItem, deleteItem}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [activeKey, setActiveKey] = useState(1);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [criteria, setCriteria] = useState({\n\t\t\"keywords\": \"\"\n\t});\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\tconst history = useHistory();\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait reLoad(1);\n\t}\n\t\n\tasync function reLoad(page) {\n\t\tawait onLoad(setFields, setPagination, page || currentPage, criteria, true, type, subType);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tonLoad(setFields, setPagination, 1, null, isSubscribed, type, subType);\n\t\treturn () => (isSubscribed = false);\n\t}, [type, subType]);\n\t\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"item\": null, \"settings\": settings});\n\t\n\tfunction handleModalShow(item) {\n\t\tsetModalOpt({\"show\": true, \"item\": item, \"settings\": settings})\n\t}\n\t\n\tfunction handleDetailShow(item) {\n\t\tlet uri = \"/catalogs/\";\n\t\tif (subType === \"soajs\") {\n\t\t\turi = uri + \"soajs/\";\n\t\t}\n\t\tif (type === \"service\") {\n\t\t\turi = uri + \"api\";\n\t\t} else if (type === \"custom\") {\n\t\t\turi = uri + \"custom\";\n\t\t} else if (type === \"resource\") {\n\t\t\turi = uri + \"resource\";\n\t\t} else if (type === \"daemon\") {\n\t\t\turi = uri + \"daemon\";\n\t\t} else if (type === \"static\") {\n\t\t\turi = uri + \"frontend\";\n\t\t} else if (type === \"config\") {\n\t\t\turi = uri + \"config\";\n\t\t}\n\t\thistory.push(uri + \"/detail/\" + item.type + \"/\" + item.name);\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t<ConfigureModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t\thandleAfterSubmit={reLoad}\n\t\t\t/>\n\t\t\t<Jumbotron className=\"p-3 mb-2\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col lg={4} xl={3}>\n\t\t\t\t\t\t<div className=\"float-left\">\n\t\t\t\t\t\t\t<h5 className=\"font-weight-bold m-0\">{t(\"soajs:titles.env_cat_\" + type)}</h5>\n\t\t\t\t\t\t\t{subType && <span className=\"text-muted small\">{subType}</span>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{addItem &&\n\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\taddItem(() => {\n\t\t\t\t\t\t\t\t\treLoad(1).catch();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col xs={9} md={10}>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"keywords\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.keywords}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={3} md={2}>\n\t\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Jumbotron>\n\t\t\t\n\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t{fields.map((item, index) => (\n\t\t\t\t\t<Card key={index + 1}>\n\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\tas={Card.Header}\n\t\t\t\t\t\t\t\teventKey={index + 1}\n\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\tif (activeKey === (index + 1)) {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(index + 1);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{activeKey === (index + 1) ? <FcExpand className=\"mr-1\"/> :\n\t\t\t\t\t\t\t\t\t<FcCollapse className=\"mr-1\"/>} <span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{item.name}</span> {(item.configuration && item.configuration.port) ? [item.configuration.port] : \"\"}\n\t\t\t\t\t\t\t\t- <small>{item.configuration.group}</small>\n\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t\t<GearButton className=\"float-right ml-3\" onClick={() => {\n\t\t\t\t\t\t\t\thandleModalShow(item)\n\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t<DetailButton className=\"float-right ml-3\" onClick={() => {\n\t\t\t\t\t\t\t\thandleDetailShow(item)\n\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{deleteItem &&\n\t\t\t\t\t\t\t<DeleteButton className=\"float-right ml-3\" onClick={() => {\n\t\t\t\t\t\t\t\tdeleteItem(item, () => {\n\t\t\t\t\t\t\t\t\treLoad(1).catch();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<Jumbotron className=\"p-3 bg-light\">\n\t\t\t\t\t\t\t\t\t{item.description ? item.description : \"-\"}\n\t\t\t\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t\t\t\t{item.versions &&\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"1\" id=\"repos\"\n\t\t\t\t\t\t\t\t\t      style={{borderBottom: \"1px solid #dee2e6\"}}>\n\t\t\t\t\t\t\t\t\t\t{item.versions.map((_O, _I) => (\n\t\t\t\t\t\t\t\t\t\t\t<Tab key={_I} eventKey={_I + 1}\n\t\t\t\t\t\t\t\t\t\t\t     title={t(\"soajs:catalogs.version\") + \" \" + _O.version}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Jumbotron className=\"p-3 bg-light\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.src && item.src.provider === \"manual\" ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{_O.lastSync ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(\"soajs:fields.lastUpdated\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small className=\"m-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-italic\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{Date(_O.lastSync.ts)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"-\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{editItem &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditItem(item, _O.version, () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treLoad(1).catch();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{_O.lastSync ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(\"soajs:catalogs.lastSynchronized\")}<small\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-3\">from <span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{_O.lastSync.branch || _O.lastSync.tag}</span> @ <span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-italic\">{Date(_O.lastSync.ts)}</span></small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(\"soajs:catalogs.availableBranches\")}<small\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-3\">[{_O.branches ? _O.branches.join(\", \") : \"\"}]</small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"-\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t\t\t\t\t\t\t\t{Children &&\n\t\t\t\t\t\t\t\t\t\t\t\t<Children\n\t\t\t\t\t\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\t\t\t\t\t\tversion={_O}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</Tab>))}\n\t\t\t\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t\t{fields.length === 0 ? (\n\t\t\t\t\t<span>{t(\"soajs:catalogs.zeroMsg\")}</span>\n\t\t\t\t) : null}\n\t\t\t</Accordion>\n\t\t\t\n\t\t\t{fields.length > 0 ? (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\treLoad(p).catch();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t</>\n\t\t\t) : null}\n\t\t</>\n\t);\n}","import {\n\tAlert,\n\tCard,\n\tButton,\n\tRow,\n\tCol\n} from \"react-bootstrap\";\n\nimport React from \"react\";\n\nimport Template from \"../Template/Template\";\n\nconst methodVariant = {\n\t\"get\": \"primary\",\n\t\"post\": \"success\",\n\t\"delete\": \"danger\",\n\t\"put\": \"warning\",\n\t\"patch\": \"info\",\n\t\"head\": \"secondary\",\n\t\"other\": \"light\"\n};\n\nfunction getMethodVariant(method) {\n\tif (method && methodVariant[method]) {\n\t\treturn methodVariant[method];\n\t} else {\n\t\treturn methodVariant[\"other\"];\n\t}\n}\n\nfunction Details({version}) {\n\tlet apis = {};\n\tif (version && version.apis) {\n\t\tfor (let i = 0; i < version.apis.length; i++) {\n\t\t\tif (!version.apis[i].group) {\n\t\t\t\tversion.apis[i].group = \"No Group\";\n\t\t\t}\n\t\t\tif (!apis[version.apis[i].group]) {\n\t\t\t\tapis[version.apis[i].group] = {};\n\t\t\t}\n\t\t\tif (!apis[version.apis[i].group][version.apis[i].m]) {\n\t\t\t\tapis[version.apis[i].group][version.apis[i].m] = []\n\t\t\t}\n\t\t\tapis[version.apis[i].group][version.apis[i].m].push(version.apis[i]);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t<hr/>\n\t\t\t{Object.keys(apis).map((group, index) => (\n\t\t\t\t<Card key={group + index} className={\"mb-2\"}>\n\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">{group}</span>\n\t\t\t\t\t</Card.Header>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t{Object.keys(apis[group]).map((method, index) => (\n\t\t\t\t\t\t\t<div key={method + index}>\n\t\t\t\t\t\t\t\t{apis[group][method].map((api, index) => (\n\t\t\t\t\t\t\t\t\t<Alert key={index} variant={getMethodVariant(method)}>\n\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 pl-1 pr-1 pt-0 pb-0 float-left\"\n\t\t\t\t\t\t\t\t\t\t\t\t        variant={getMethodVariant(method)}><span\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"small\">{method.toUpperCase()}</span></Button>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"small float-left\">{api.v}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"small float-right text-info\">{api.l}</span>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t))}\n\t\t</>\n\t)\n}\n\nexport default function Api() {\n\t\n\treturn (\n\t\t<Template\n\t\t\ttype={\"service\"}\n\t\t\tChildren={Details}\n\t\t/>\n\t);\n}","\nimport Template from \"../Template/Template\";\n\n\nexport default function Custom() {\n\t\n\treturn (\n\t\t<Template type={\"custom\"} />\n\t);\n}","import {Button, Modal, Badge} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function EditResourceModal({modalOpt, setModalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.resourceEdit\")} <Badge\n\t\t\t\t\tvariant=\"light\">{modalOpt.item && modalOpt.item.record.name}</Badge> <Badge\n\t\t\t\t\tvariant=\"secondary\">{modalOpt.item && \"v\" + modalOpt.item.version}</Badge></Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\tComing soon\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"primary\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Col, Form, Modal, Row} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../soajs/urac/components\";\nimport deepSet from \"../../../../soajs/libs/deepSetLib\";\nimport {LoaderButton} from \"../../../../soajs/helpers\";\nimport {MarketplaceService} from \"../../../../services\";\n\nconst fieldsInit = {\n\t\"src\": {\"provider\": \"manual\"},\n\t\"soa\": {\n\t\t\"type\": \"resource\",\n\t\t\"name\": \"\",\n\t\t\"group\": \"\",\n\t\t\"description\": \"\",\n\t\t\"version\": \"\",\n\t\t\"subType\": \"\",\n\t\t\"tags\": [],\n\t\t\"attributes\": {\n\t\t\t\"att1\": [],\n\t\t\t\"att2\": []\n\t\t},\n\t\t\"program\": [],\n\t\t\"profile\": {}\n\t},\n\t\"readme\": \"\",\n\t\"release\": \"\"\n};\nlet _json_soa = null;\nconst marketplaceService = MarketplaceService.getService();\n\nexport default function AddResourceModal({modalOpt, setModalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, \"reLoad\": null});\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [fields, setFields] = useState(fieldsInit);\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tif (event.target.type === 'number') {\n\t\t\tvalue = parseInt(value);\n\t\t}\n\t\t\n\t\tdeepSet(fields, event.target.id, value);\n\t\tsetFields({...fields});\n\t}\n\t\n\tfunction soa_onChange(json) {\n\t\t_json_soa = json;\n\t}\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\tif (_json_soa) {\n\t\t\tvalid = valid && _json_soa.type === \"resource\";\n\t\t\tvalid = valid && _json_soa.name.length > 0;\n\t\t\tvalid = valid && _json_soa.group.length > 0;\n\t\t\tvalid = valid && _json_soa.description.length > 0;\n\t\t\tvalid = valid && _json_soa.version.length > 0;\n\t\t} else {\n\t\t\tvalid = false;\n\t\t}\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\tsetIsLoading(true);\n\t\ttry {\n\t\t\tawait marketplaceService.addResource({\n\t\t\t\t\"src\": fields.src,\n\t\t\t\t\"soa\": _json_soa,\n\t\t\t\t\"documentation\": {\n\t\t\t\t\t\"readme\": fields.readme,\n\t\t\t\t\t\"release\": fields.release\n\t\t\t\t}\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.add_resource\"));\n\t\t\tif (modalOpt.reLoad) {\n\t\t\t\tmodalOpt.reLoad();\n\t\t\t}\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t\tsetIsLoading(false);\n\t}\n\t\n\tuseEffect(() => {\n\t\tsetFields(fieldsInit);\n\t\t_json_soa = null;\n\t}, []);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>{t(\"soajs:titles.resourceAdd\")}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Row style={{\"height\": \"350px\"}}>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\tmodes={[\"code\", \"tree\"]}\n\t\t\t\t\t\t\t\tjson={_json_soa || fields.soa || null}\n\t\t\t\t\t\t\t\tonChange={soa_onChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<hr/>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Readme\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tstyle={{\"fontSize\": \"80%\"}}\n\t\t\t\t\t\t\tid=\"readme\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\tvalue={fields.readme}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Form.Text className=\"text-info\">\n\t\t\t\t\t\t\tMarkdown text\n\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Release\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tstyle={{\"fontSize\": \"80%\"}}\n\t\t\t\t\t\t\tid=\"release\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\tvalue={fields.release}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Form.Text className=\"text-info\">\n\t\t\t\t\t\t\tMarkdown text\n\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<Button variant=\"primary\" onClick={handleClose}>\n\t\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<LoaderButton\n\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t\t</LoaderButton>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Form>\n\t\t</Modal>\n\t);\n}","import {Badge, Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MarketplaceService} from \"../../../../services\";\n\nconst marketplaceService = MarketplaceService.getService();\n\nexport default function DeleteModal({modalOpt, setModalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, \"item\": null, \"reload\": null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait marketplaceService.deleteItem({\"type\": modalOpt.item.type, \"name\": modalOpt.item.name});\n\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + modalOpt.item.type));\n\t\t\tif (modalOpt.reLoad) {\n\t\t\t\tmodalOpt.reLoad();\n\t\t\t}\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.resourceDelete\")} <Badge\n\t\t\t\t\tvariant=\"light\">{modalOpt.item && modalOpt.item.name}</Badge>\n\t\t\t\t</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t{t(\"soajs:messages.deleteQuestion\")}\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"primary\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import Template from \"../Template/Template\";\nimport React, {useState} from \"react\";\n\nimport UpdateModal from \"./EditModal\";\nimport AddModal from \"./AddModal\";\nimport DeleteModal from \"./DeleteModal\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\n\nexport default function Resource() {\n\tconst {ability} = useAppContext();\n\t\n\tconst [addModalOpt, setAddModalOpt] = useState({\"show\": false, \"reLoad\": null});\n\tconst handleAddShow = (reLoad) => setAddModalOpt({\"show\": true, \"reLoad\": reLoad});\n\t\n\tconst [updateModalOpt, setUpdateModalOpt] = useState({\"show\": false, \"item\": null, \"reLoad\": null});\n\tconst handleUpdateShow = (item, reLoad) => setUpdateModalOpt({\"show\": true, \"item\": item, \"reLoad\": reLoad});\n\t\n\tconst [deleteModalOpt, setDeleteModalOpt] = useState({\"show\": false, \"item\": null, \"reLoad\": null});\n\tconst handleDeleteShow = (item, reLoad) => setDeleteModalOpt({\"show\": true, \"item\": item, \"reLoad\": reLoad});\n\t\n\tfunction EditResource(item, version, cb) {\n\t\thandleUpdateShow({\"record\": item, \"version\": version}, cb);\n\t}\n\t\n\tfunction AddResource(cb) {\n\t\thandleAddShow(cb);\n\t}\n\t\n\tfunction DeleteResource(item, cb) {\n\t\thandleDeleteShow(item, cb);\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={deleteModalOpt}\n\t\t\t\tsetModalOpt={setDeleteModalOpt}\n\t\t\t/>\n\t\t\t<UpdateModal\n\t\t\t\tmodalOpt={updateModalOpt}\n\t\t\t\tsetModalOpt={setUpdateModalOpt}\n\t\t\t/>\n\t\t\t<AddModal\n\t\t\t\tmodalOpt={addModalOpt}\n\t\t\t\tsetModalOpt={setAddModalOpt}\n\t\t\t/>\n\t\t\t<Template\n\t\t\t\ttype={\"resource\"}\n\t\t\t\teditItem={ability.can('market_item_resource', 'add') ? EditResource : null}\n\t\t\t\taddItem={ability.can('market_item_resource', 'add') ? AddResource : null}\n\t\t\t\tdeleteItem={ability.can('market_item', 'delete') ? DeleteResource : null}\n\t\t\t/>\n\t\t</>\n\t);\n}","\nimport Template from \"../Template/Template\";\n\nexport default function Daemon() {\n\t\n\treturn (\n\t\t<Template\n\t\t\ttype={\"daemon\"}\n\t\t/>\n\t);\n}","\nimport Template from \"../Template/Template\";\n\n\nexport default function Frontend() {\n\t\n\treturn (\n\t\t<Template type={\"static\"} />\n\t);\n}","import Template from \"../Template/Template\";\n\n\nexport default function Config() {\n\t\n\treturn (\n\t\t<Template\n\t\t\ttype={\"config\"}\n\t\t\tsettings={{\"turnOffRecipesConfiguration\": true}}\n\t\t/>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport {MdPageview} from \"react-icons/md\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function View({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.View\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button size=\"sm\" variant=\"info\" {...props}>\n\t\t\t\t<MdPageview/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import {\n\tBadge,\n\tButton, Card, Col, Form, Jumbotron, Row\n} from \"react-bootstrap\";\nimport {useTranslation} from \"react-i18next\";\nimport React, {useEffect, useState} from \"react\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {BsLockFill} from \"react-icons/bs\";\nimport {GoDiffAdded} from \"react-icons/go\";\nimport {useHistory} from \"react-router-dom\";\n\nimport {MarketplaceService} from \"../../../../services\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport EditButton from \"../../../buttons/Edit\";\nimport ViewButton from \"../../../buttons/View\";\nimport AutoPagination from \"../../../../lib/AutoPagination\";\nimport JsonModal from \"../../../../soajs/urac/components/JsonModal\";\n\n\nconst marketplaceService = MarketplaceService.getService();\n\nexport default function Recipe() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\t\n\tconst [recipes, setRecipes] = useState([]);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [criteria, setCriteria] = useState({\n\t\t\"keywords\": \"\"\n\t});\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\t\n\tconst history = useHistory();\n\t\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tlet c = {\"limit\": 10, \"start\": (currentPage - 1) * 10};\n\t\t\tif (criteria) {\n\t\t\t\tif (criteria.keywords && criteria.keywords !== \"\") {\n\t\t\t\t\tc.keywords = criteria.keywords;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst _recipes = await marketplaceService.getRecipes(c);\n\t\t\tsetPagination(\n\t\t\t\t{\n\t\t\t\t\t\"totalItems\": _recipes.count,\n\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\"itemsPerPage\": _recipes.limit\n\t\t\t\t}\n\t\t\t);\n\t\t\tsetRecipes(_recipes.records);\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tlet c = {\"limit\": 10, \"start\": (currentPage - 1) * 10};\n\t\t\t\tconst _recipes = await marketplaceService.getRecipes(c);\n\t\t\t\tif (isSubscribed && _recipes && _recipes.records) {\n\t\t\t\t\tsetRecipes(_recipes.records);\n\t\t\t\t\tsetPagination(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"totalItems\": _recipes.count,\n\t\t\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\t\t\"itemsPerPage\": _recipes.limit\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [currentPage]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t<Jumbotron className=\"p-3 mb-2\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col lg={4}>\n\t\t\t\t\t\t<h5 className=\"font-weight-bold m-0 float-left\">{t(\"soajs:titles.env_cat_recipe\")}</h5>\n\t\t\t\t\t\t{ability.can('market_recipe', 'add') &&\n\t\t\t\t\t\t<Button variant=\"success\" className=\"float-right\" size=\"sm\"\n\t\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t\t        history.push(\"/catalogs/recipe/add\");\n\t\t\t\t\t\t        }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t\t\t</Button>}\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col xs={9} md={9}>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"keywords\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.keywords}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={3} md={3}>\n\t\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Jumbotron>\n\t\t\t{recipes.map((oo, index) => (\n\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\">\n\t\t\t\t\t<Card.Body className=\"p-2\">\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t{oo.name} - <Badge variant=\"dark\" className=\"mr-2\">V {oo.v}</Badge>\n\t\t\t\t\t\t\t\t{oo.locked && <BsLockFill className=\"text-danger\"/>}\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<Badge variant=\"secondary\">{oo.type}</Badge> <Badge variant=\"info\">{oo.subtype}</Badge>\n\t\t\t\t\t\t\t\t<span className=\"float-right small\">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t{ability.can('market_recipe', 'edit') &&\n\t\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\t\tdisabled={oo.locked}\n\t\t\t\t\t\t\t\t\tclassName=\"ml-3\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\thistory.push(\"/catalogs/recipe/edit/\" + oo._id);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<ViewButton\n\t\t\t\t\t\t\t\t\tclassName=\"ml-3\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tmodalOptShow(oo.recipe, oo.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row className=\"small text-muted\">\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t{oo.description}\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t))}\n\t\t\t{recipes.length > 0 ? (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t</>\n\t\t\t) : null}\n\t\t</>\n\t);\n}","\nimport {Alert, Button, Card, Col, Row} from \"react-bootstrap\";\nimport React from \"react\";\n\nimport Template from \"../Template/Template\";\nconst methodVariant = {\n\t\"get\": \"primary\",\n\t\"post\": \"success\",\n\t\"delete\": \"danger\",\n\t\"put\": \"warning\",\n\t\"patch\": \"info\",\n\t\"head\": \"secondary\",\n\t\"other\": \"light\"\n};\n\nfunction getMethodVariant(method) {\n\tif (method && methodVariant[method]) {\n\t\treturn methodVariant[method];\n\t} else {\n\t\treturn methodVariant[\"other\"];\n\t}\n}\n\nfunction Details({version}) {\n\tlet apis = {};\n\tif (version && version.apis) {\n\t\tfor (let i = 0; i < version.apis.length; i++) {\n\t\t\tif (!version.apis[i].group) {\n\t\t\t\tversion.apis[i].group = \"No Group\";\n\t\t\t}\n\t\t\tif (!apis[version.apis[i].group]) {\n\t\t\t\tapis[version.apis[i].group] = {};\n\t\t\t}\n\t\t\tif (!apis[version.apis[i].group][version.apis[i].m]) {\n\t\t\t\tapis[version.apis[i].group][version.apis[i].m] = []\n\t\t\t}\n\t\t\tapis[version.apis[i].group][version.apis[i].m].push(version.apis[i]);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t<hr/>\n\t\t\t{Object.keys(apis).map((group, index) => (\n\t\t\t\t<Card key={group + index} className={\"mb-2\"}>\n\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">{group}</span>\n\t\t\t\t\t</Card.Header>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t{Object.keys(apis[group]).map((method, index) => (\n\t\t\t\t\t\t\t<div key={method + index}>\n\t\t\t\t\t\t\t\t{apis[group][method].map((api, index) => (\n\t\t\t\t\t\t\t\t\t<Alert key={index} variant={getMethodVariant(method)}>\n\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 pl-1 pr-1 pt-0 pb-0 float-left\"\n\t\t\t\t\t\t\t\t\t\t\t\t        variant={getMethodVariant(method)}><span\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"small\">{method.toUpperCase()}</span></Button>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"small float-left\">{api.v}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"small float-right text-info\">{api.l}</span>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t))}\n\t\t</>\n\t)\n}\n\nexport default function SoajsApi() {\n\t\n\treturn (\n\t\t<Template\n\t\t\ttype={\"service\"}\n\t\t\tsubType={\"soajs\"}\n\t\t\tChildren={Details}\n\t\t/>\n\t);\n}","\nimport Template from \"../Template/Template\";\n\n\nexport default function SoajsFrontend() {\n\t\n\treturn (\n\t\t<Template\n\t\t\ttype={\"static\"}\n\t\t\tsubType={\"soajs\"}\n\t\t/>\n\t);\n}","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\nimport SwaggerUi, {presets} from 'swagger-ui';\nimport 'swagger-ui/dist/swagger-ui.css';\n\nclass SwaggerUI extends Component {\n\t\n\tcomponentDidMount() {\n\t\tSwaggerUi({\n\t\t\tdom_id: '#swaggerContainer',\n\t\t\turl: this.props.url,\n\t\t\tspec: this.props.spec,\n\t\t\tpresets: [presets.apis]\n\t\t});\n\t}\n\t\n\tcomponentDidUpdate(prevProps) {\n\t\t\n\t\tif (this.props.ver !== prevProps.ver) {\n\t\t\tSwaggerUi({\n\t\t\t\tdom_id: '#swaggerContainer',\n\t\t\t\turl: this.props.url,\n\t\t\t\tspec: this.props.spec,\n\t\t\t\tpresets: [presets.apis]\n\t\t\t});\n\t\t}\n\t}\n\t\n\trender() {\n\t\t\n\t\treturn (\n\t\t\t<div id=\"swaggerContainer\"/>\n\t\t);\n\t}\n}\n\nSwaggerUI.propTypes = {\n\turl: PropTypes.string,\n\tspec: PropTypes.object,\n\tver: PropTypes.string,\n\tlocalVer: PropTypes.string\n};\n\nSwaggerUI.defaultProps = {\n\turl: \"\", //`http://petstore.swagger.io/v2/swagger.json`\n\tlocalVer: null\n};\n\nexport default SwaggerUI;","import {useHistory, useParams} from \"react-router-dom\";\nimport React, {useEffect, useState} from \"react\";\n\nimport {\n\tAccordion,\n\tCard,\n\tCardDeck,\n\tJumbotron,\n\tListGroup,\n\tListGroupItem,\n\tuseAccordionToggle,\n\tDropdownButton,\n\tDropdown,\n\tButton,\n\tTabs,\n\tTab\n} from \"react-bootstrap\";\nimport {useTranslation} from \"react-i18next\";\nimport {FcCollapse, FcExpand} from \"react-icons/fc\";\nimport ReactMarkdown from \"react-markdown\";\nimport SwaggerUI from './SwaggerUI';\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MarketplaceService} from \"../../../../services\";\n\nconst marketplaceService = MarketplaceService.getService();\n\nfunction Swagger({item, ver}) {\n\tlet spec = null;\n\tfor (let i = 0; i < item.versions.length; i++) {\n\t\tif (item.versions[i].version === ver) {\n\t\t\tif (item.versions[i].swagger) {\n\t\t\t\tspec = item.versions[i].swagger;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\ttry {\n\t\tif (spec) {\n\t\t\tspec = JSON.parse(spec);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n\treturn (\n\t\t<SwaggerUI spec={spec || {}} ver={ver}/>\n\t);\n}\n\nfunction Readme({item, ver}) {\n\tlet documentation = null;\n\tfor (let i = 0; i < item.versions.length; i++) {\n\t\tif (item.versions[i].version === ver) {\n\t\t\tif (item.versions[i].documentation && item.versions[i].documentation.readme) {\n\t\t\t\tdocumentation = item.versions[i].documentation.readme;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn (\n\t\t<>\n\t\t\t<ReactMarkdown source={documentation}/>\n\t\t</>\n\t);\n}\n\nfunction Release({item, ver}) {\n\tlet documentation = null;\n\tfor (let i = 0; i < item.versions.length; i++) {\n\t\tif (item.versions[i].version === ver) {\n\t\t\tif (item.versions[i].documentation && item.versions[i].documentation.release) {\n\t\t\t\tdocumentation = item.versions[i].documentation.release;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn (\n\t\t<>\n\t\t\t<ReactMarkdown source={documentation}/>\n\t\t</>\n\t);\n}\n\nexport default function Detail() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [activeKey, setActiveKey] = useState(1);\n\tconst [item, setItem] = useState(null);\n\tconst {type} = useParams();\n\tconst {name} = useParams();\n\tconst {ver} = useParams();\n\t\n\tconst history = useHistory();\n\t\n\tfunction CustomToggle({children, eventKey, handleClick}) {\n\t\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\t\thandleClick();\n\t\t});\n\t\treturn (\n\t\t\t<div className=\"float-left\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (!item || item.name !== name) {\n\t\t\t\t\tconst response = await marketplaceService.getItem(name, type);\n\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\tsetItem(response);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, [item, name, type]);\n\t\n\treturn (\n\t\t<>\n\t\t\t{item &&\n\t\t\t<>\n\t\t\t\t<Jumbotron className=\"p-4 mb-3\">\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{item.name}</span> {(item.configuration && item.configuration.port) ? [item.configuration.port] : \"\"}\n\t\t\t\t\t- <small>{item.configuration.group}</small>\n\t\t\t\t\t<hr/>\n\t\t\t\t\t{item.description}\n\t\t\t\t</Jumbotron>\n\t\t\t\t\n\t\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t\t<Card key={1}>\n\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\tas={Card.Header}\n\t\t\t\t\t\t\t\teventKey={1}\n\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\tif (activeKey === 1) {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(1);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{activeKey === 1 ? <FcExpand className=\"mr-1\"/> :\n\t\t\t\t\t\t\t\t\t<FcCollapse className=\"mr-1\"/>}\n\t\t\t\t\t\t\t\t{t(\"soajs:catalogs.metadata.title\")}\n\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={1}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t{item.metadata &&\n\t\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:catalogs.metadata.program\")}:</span> {item.metadata.program}\n\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:catalogs.metadata.tags\")}:</span> [{item.metadata.tags ? item.metadata.tags.join(\", \") : \"\"}]\n\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:catalogs.metadata.attributes\")}</span>\n\t\t\t\t\t\t\t\t\t\t{item.metadata.attributes &&\n\t\t\t\t\t\t\t\t\t\t<CardDeck>\n\t\t\t\t\t\t\t\t\t\t\t{Object.keys(item.metadata.attributes).map((_O, _I) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<Card key={_I} className=\"text-white mt-2 mb-2 ml-2 mr-2\" bg=\"info\"\n\t\t\t\t\t\t\t\t\t\t\t\t      style={{\"minWidth\": '20rem', \"maxWidth\": '20rem'}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body className=\"p-2\"><span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{_O}:</span> [{item.metadata.attributes[_O].join(\", \")}]</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t</Card>))}\n\t\t\t\t\t\t\t\t\t\t</CardDeck>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t\t{type === \"service\" &&\n\t\t\t\t\t<Card key={2}>\n\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\tas={Card.Header}\n\t\t\t\t\t\t\t\teventKey={2}\n\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\tif (activeKey === 2) {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(2);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{activeKey === 2 ? <FcExpand className=\"mr-1\"/> :\n\t\t\t\t\t\t\t\t\t<FcCollapse className=\"mr-1\"/>}\n\t\t\t\t\t\t\t\t{t(\"soajs:catalogs.configuration.title\")}\n\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={2}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:catalogs.configuration.subType\")}:</span> {item.configuration.subType}\n\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:catalogs.configuration.requestTimeout\")}:</span> {item.configuration.requestTimeout}\n\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:catalogs.configuration.requestTimeoutRenewal\")}:</span> {item.configuration.requestTimeoutRenewal}\n\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t\t}\n\t\t\t\t</Accordion>\n\t\t\t\t\n\t\t\t\t<hr/>\n\t\t\t\t\n\t\t\t\t{item.versions &&\n\t\t\t\t<div className=\"bg-light p-2\">\n\t\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t\t<DropdownButton size=\"sm\" id=\"dropdown-item-button\"\n\t\t\t\t\t\t                title={ver ? \"Version \" + ver : \"Select a version:\"}\n\t\t\t\t\t\t                variant=\"info\" className=\"float-right\">\n\t\t\t\t\t\t\t{item.versions.map((_ver, index) => (\n\t\t\t\t\t\t\t\t<Dropdown.Item as=\"button\" key={index} active={ver && ver === _ver.version}\n\t\t\t\t\t\t\t\t               onClick={() => {\n\t\t\t\t\t\t\t\t\t               let uri = window.location.pathname;\n\t\t\t\t\t\t\t\t\t               uri = uri.substr(0, uri.indexOf(\"/\" + name) + name.length + 1);\n\t\t\t\t\t\t\t\t\t               history.push(uri + \"/\" + _ver.version);\n\t\t\t\t\t\t\t\t               }}>\n\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\tversion {_ver.version}\n\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</DropdownButton>\n\t\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ver &&\n\t\t\t\t\t<Tabs defaultActiveKey=\"documentation\" id=\"uncontrolled-tab\">\n\t\t\t\t\t\t<Tab eventKey=\"documentation\" title={t(\"soajs:titles.Documentation\")}>\n\t\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\" className=\"mt-3 ml-3 mr-3\">\n\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t\t\tReadme\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t<Readme item={item} ver={ver}/>\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\t\tRelease\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t<Release item={item} ver={ver}/>\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{item.type === \"service\" &&\n\t\t\t\t\t\t<Tab eventKey=\"swagger\" title={t(\"soajs:titles.Swagger\")}>\n\t\t\t\t\t\t\t<Swagger item={item} ver={ver}/>\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Tabs>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {GoSync} from \"react-icons/go\";\n\nexport default function Synchronise({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.Sync\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t\n\t\t\t<Button size=\"sm\" variant=\"info\" {...props}>\n\t\t\t\t<GoSync/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {BiPowerOff} from \"react-icons/bi\";\n\nexport default function TurnOff({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.TurnOff\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button size=\"sm\" variant=\"warning\" {...props}>\n\t\t\t\t<BiPowerOff/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {BiPowerOff} from \"react-icons/bi\";\n\nexport default function TurnOn({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.TurnOn\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button size=\"sm\" variant=\"light\" {...props}>\n\t\t\t\t<BiPowerOff/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport _ from \"lodash\";\n\nimport {\n\tAccordion,\n\tButton,\n\tCard,\n\tuseAccordionToggle,\n\tTabs,\n\tTab,\n\tCardDeck,\n\tForm,\n\tCol,\n\tTable,\n\tJumbotron, ListGroupItem, ListGroup, Modal\n} from \"react-bootstrap\";\nimport {FcCollapse, FcExpand} from \"react-icons/fc\";\nimport {BiSearchAlt} from \"react-icons/bi\";\n\nimport AutoPagination from \"../../../../lib/AutoPagination\"\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {RepositoriesService} from \"../../../../services\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nimport SynchroniseButton from \"../../../buttons/Synchronise\";\nimport TurnOffButton from \"../../../buttons/TurnOff\";\nimport TurnOnButton from \"../../../buttons/TurnOn\";\nimport DeleteButton from \"../../../buttons/Delete\";\n\nconst repositoriesService = RepositoriesService.getService();\n\nfunction Branches({branches, t, ability, synBranch, turnOffBranch, turnOnBranch}) {\n\tlet show = false;\n\tif (branches && Array.isArray(branches) && branches.length > 0) {\n\t\tshow = true;\n\t}\n\treturn (\n\t\tshow &&\n\t\t<div className=\"mt-5\">\n\t\t\t<CardDeck>\n\t\t\t\t{branches.map((_O, _I) => (\n\t\t\t\t\t_O.active ?\n\t\t\t\t\t\t<Card key={_I} className=\"mb-3\" border=\"success\"\n\t\t\t\t\t\t      style={{\"minWidth\": '21rem', \"maxWidth\": '21rem'}}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t{_O.name}\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t{ability.can('repo_branch', 'turnOff') &&\n\t\t\t\t\t\t\t\t<TurnOffButton\n\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tturnOffBranch(_O.name);\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{ability.can('repo_branch', 'synchronize') &&\n\t\t\t\t\t\t\t\t<SynchroniseButton\n\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsynBranch(_O.name);\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<Card key={_I} className=\"mb-3\" border=\"dark\"\n\t\t\t\t\t\t      style={{\"minWidth\": '21rem', \"maxWidth\": '21rem'}}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t{_O.name}\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t{ability.can('repo_branch', 'turnOn') &&\n\t\t\t\t\t\t\t\t<TurnOnButton\n\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tturnOnBranch(_O.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</CardDeck>\n\t\t</div>\n\t);\n}\n\nfunction Tags({t, ability, turnOffTag, turnOnTag, repository, showTagsFor, showTagsForList, searchTag}) {\n\tconst [fields, setFields] = useState({\"tag\": \"\"});\n\t\n\tfunction handleTagSearchChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\treturn (\n\t\t<div className=\"mt-5\">\n\t\t\t<Form onSubmit={(event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t}}>\n\t\t\t\t<Form.Group>\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"xs\" xs={2}>{t(\"soajs:buttons.Search\")}</Form.Label>\n\t\t\t\t\t\t<Col xs={7}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"tag\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tvalue={fields.tag}\n\t\t\t\t\t\t\t\tonChange={handleTagSearchChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={3}>\n\t\t\t\t\t\t\t<Button className=\"ml-3\" variant=\"dark\" size=\"sm\"\n\t\t\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t\t\t        searchTag(fields.tag);\n\t\t\t\t\t\t\t        }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<BiSearchAlt/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t</Form.Group>\n\t\t\t</Form>\n\t\t\t<hr/>\n\t\t\t{(showTagsFor && showTagsFor === repository) &&\n\t\t\t<CardDeck>\n\t\t\t\t{showTagsForList && showTagsForList.map((_O, _I) => (\n\t\t\t\t\t_O.active ?\n\t\t\t\t\t\t<Card key={_I} className=\"mb-3\" border=\"success\"\n\t\t\t\t\t\t      style={{\"minWidth\": '21rem', \"maxWidth\": '21rem'}}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t{_O.name}\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t{ability.can('repo_tag', 'turnOff') &&\n\t\t\t\t\t\t\t\t<TurnOffButton\n\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tturnOffTag(_O.name);\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<Card key={_I} className=\"mb-3\" border=\"dark\"\n\t\t\t\t\t\t      style={{\"minWidth\": '21rem', \"maxWidth\": '21rem'}}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t{_O.name}\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t{ability.can('repo_tag', 'turnOn') &&\n\t\t\t\t\t\t\t\t<TurnOnButton\n\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tturnOnTag(_O.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</CardDeck>\n\t\t\t}\n\t\t</div>\n\t);\n}\n\nfunction CustomToggle({children, eventKey, handleClick}) {\n\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\thandleClick();\n\t});\n\treturn (\n\t\t<div className=\"float-left\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nfunction OnMsgModal({t, onModalOpt, setOnModalOpt}) {\n\tconst handleClose = () => setOnModalOpt({\"show\": false, opts: null});\n\treturn (\n\t\t<Modal size=\"lg\" show={onModalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:development.repositories.turnOnTitle\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t{t(\"soajs:development.repositories.turnOnMsg\")}\n\t\t\t\t<hr/>\n\t\t\t\t{onModalOpt.opts &&\n\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>{t(\"soajs:development.repositories.name\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:development.repositories.type\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:development.repositories.swagger\")}</th>\n\t\t\t\t\t\t<th></th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t{onModalOpt.opts && onModalOpt.opts.map((res, index) => (\n\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t{res.name}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td className=\"small\">\n\t\t\t\t\t\t\t\t{res.type}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td className=\"small\">\n\t\t\t\t\t\t\t\t{res.swagger ? \"true\" : \"false\"}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td className=\"small text-danger\">\n\t\t\t\t\t\t\t\t{res.error}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t\t</tbody>\n\t\t\t\t</Table>\n\t\t\t\t}\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Ok\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}\n\nasync function onLoad(setFields, setPagination, currentPage, isSubscribed, criteria) {\n\ttry {\n\t\tlet c = {\"limit\": 50, \"skip\": (currentPage - 1) * 50};\n\t\tif (criteria) {\n\t\t\tif (criteria.textSearch && criteria.textSearch !== \"\") {\n\t\t\t\tc.textSearch = criteria.textSearch;\n\t\t\t}\n\t\t\tif (criteria.active) {\n\t\t\t\tc.active = true;\n\t\t\t}\n\t\t\tif (criteria.leaf) {\n\t\t\t\tc.leaf = true;\n\t\t\t}\n\t\t}\n\t\tconst repositories = await repositoriesService.getRepositories(c);\n\t\tif (isSubscribed) {\n\t\t\tif (repositories.repositories) {\n\t\t\t\tsetFields(repositories.repositories);\n\t\t\t\tsetPagination(\n\t\t\t\t\t{\n\t\t\t\t\t\t\"totalItems\": repositories.count,\n\t\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\t\"itemsPerPage\": repositories.limit\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Repositories() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [fields, setFields] = useState([]);\n\tconst [showTagsFor, setShowTagsFor] = useState(null);\n\tconst [showTagsForList, setShowTagsForList] = useState(null);\n\tconst [activeKey, setActiveKey] = useState(1);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [criteria, setCriteria] = useState({\n\t\t\"textSearch\": \"\", \"active\": false, \"leaf\": false\n\t});\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait onLoad(setFields, setPagination, 1, true, criteria);\n\t}\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function reLoad(page) {\n\t\tawait onLoad(setFields, setPagination, page || currentPage, true, criteria);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tonLoad(setFields, setPagination, 1, isSubscribed, null);\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\tasync function turnOnTag(item, tag) {\n\t\ttry {\n\t\t\tconst res = await repositoriesService.turnOnTag({\n\t\t\t\t\"id\": item._id,\n\t\t\t\t\"owner\": item.owner,\n\t\t\t\t\"provider\": item.provider,\n\t\t\t\t\"tag\": tag\n\t\t\t});\n\t\t\tshowOnMsgModal(res);\n\t\t\tawait reLoad();\n\t\t\tif (!item.tags) {\n\t\t\t\titem.tags = [];\n\t\t\t}\n\t\t\titem.tags.push({\"name\": tag, \"active\": true})\n\t\t\tawait onTabSelect(item);\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function turnOffTag(item, tag) {\n\t\ttry {\n\t\t\tawait repositoriesService.turnOffTag({\n\t\t\t\t\"id\": item._id,\n\t\t\t\t\"owner\": item.owner,\n\t\t\t\t\"provider\": item.provider,\n\t\t\t\t\"tag\": tag\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:development.repositories.turnOffTagMsg\"));\n\t\t\tawait reLoad();\n\t\t\tif (!item.tags) {\n\t\t\t\titem.tags = [];\n\t\t\t}\n\t\t\t_.pullAllBy(item.tags, [{\"name\": tag}], 'name');\n\t\t\tawait onTabSelect(item);\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function turnOnBranch(item, branch) {\n\t\ttry {\n\t\t\tconst res = await repositoriesService.turnOnBranch({\n\t\t\t\t\"id\": item._id,\n\t\t\t\t\"owner\": item.owner,\n\t\t\t\t\"provider\": item.provider,\n\t\t\t\t\"branch\": branch\n\t\t\t});\n\t\t\tshowOnMsgModal(res);\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function turnOffBranch(item, branch) {\n\t\ttry {\n\t\t\tawait repositoriesService.turnOffBranch({\n\t\t\t\t\"id\": item._id,\n\t\t\t\t\"owner\": item.owner,\n\t\t\t\t\"provider\": item.provider,\n\t\t\t\t\"branch\": branch\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:development.repositories.turnOffBranchMsg\"));\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function syncBranch(item, branch) {\n\t\ttry {\n\t\t\tawait repositoriesService.syncBranch({\n\t\t\t\t\"id\": item._id,\n\t\t\t\t\"owner\": item.owner,\n\t\t\t\t\"provider\": item.provider,\n\t\t\t\t\"branch\": branch\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:development.repositories.syncMsg\"));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function syncRepository(item) {\n\t\ttry {\n\t\t\tawait repositoriesService.syncRepository({\n\t\t\t\t\"id\": item._id,\n\t\t\t\t\"owner\": item.owner,\n\t\t\t\t\"provider\": item.provider\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:development.repositories.syncMsg\"));\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function turnOffRepository(item) {\n\t\ttry {\n\t\t\tawait repositoriesService.turnOffRepository({\n\t\t\t\t\"id\": item._id,\n\t\t\t\t\"owner\": item.owner,\n\t\t\t\t\"provider\": item.provider\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:development.repositories.turnOffRepo\"));\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function turnOnRepository(item) {\n\t\ttry {\n\t\t\tawait repositoriesService.turnOnRepository({\n\t\t\t\t\"id\": item._id,\n\t\t\t\t\"owner\": item.owner,\n\t\t\t\t\"provider\": item.provider\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:development.repositories.turnOnRepo\"));\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function deleteRepository(item) {\n\t\ttry {\n\t\t\tawait repositoriesService.deleteRepository({\n\t\t\t\t\"id\": item._id\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:development.repositories.deleteRepo\"));\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tconst [onModalOpt, setOnModalOpt] = useState({\"show\": false, opts: null});\n\t\n\tfunction showOnMsgModal(res) {\n\t\tif (res && !Array.isArray(res)) {\n\t\t\tres = [res];\n\t\t}\n\t\tsetOnModalOpt({\"show\": true, opts: res});\n\t}\n\t\n\tasync function searchTag(item, tag) {\n\t\ttry {\n\t\t\tconst res = await repositoriesService.getTag({\n\t\t\t\t\"id\": item._id,\n\t\t\t\t\"tag\": tag\n\t\t\t});\n\t\t\tlet tagList = [];\n\t\t\tif (res && res.name) {\n\t\t\t\tif (item.tags && Array.isArray(item.tags) && item.tags.length > 0) {\n\t\t\t\t\tlet index = _.findIndex(item.tags, ['name', res.name]);\n\t\t\t\t\tif (index !== -1) {\n\t\t\t\t\t\ttagList = [item.tags[index]];\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttagList = [res];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttagList = [res];\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetShowTagsForList(tagList);\n\t\t\tsetShowTagsFor(item.repository);\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function onTabSelect(item) {\n\t\ttry {\n\t\t\tconst res = await repositoriesService.getTags({\n\t\t\t\t\"id\": item._id,\n\t\t\t\t\"count\": 10\n\t\t\t});\n\t\t\tlet tagList = [];\n\t\t\tif (res && res.tags && Array.isArray(res.tags) && res.tags.length > 0) {\n\t\t\t\tif (item.tags && Array.isArray(item.tags) && item.tags.length > 0) {\n\t\t\t\t\t_.pullAllBy(res.tags, item.tags, 'name');\n\t\t\t\t\ttagList = _.concat(item.tags, res.tags);\n\t\t\t\t} else {\n\t\t\t\t\ttagList = res.tags;\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetShowTagsForList(tagList);\n\t\t\tsetShowTagsFor(item.repository);\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t<OnMsgModal\n\t\t\t\tt={t}\n\t\t\t\tonModalOpt={onModalOpt}\n\t\t\t\tsetOnModalOpt={setOnModalOpt}\n\t\t\t/>\n\t\t\t<Jumbotron className=\"p-3\">\n\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t<CardDeck>\n\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:buttons.Search\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"textSearch\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.textSearch}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\tid=\"active\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"small\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Only Activated Repositories\"\n\t\t\t\t\t\t\t\t\t\t\tdefaultChecked={criteria.active}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\tid=\"leaf\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"small\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Only Leaf Repositories\"\n\t\t\t\t\t\t\t\t\t\t\tdefaultChecked={criteria.leaf}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</CardDeck>\n\t\t\t\t\t<Button className=\"mt-3 float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t</Form>\n\t\t\t</Jumbotron>\n\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t{fields.map((item, index) => (\n\t\t\t\t\t<Card key={index + 1}>\n\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\tas={Card.Header}\n\t\t\t\t\t\t\t\teventKey={index + 1}\n\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\tif (activeKey === (index + 1)) {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(index + 1);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{activeKey === (index + 1) ? <FcExpand className=\"mr-1\"/> :\n\t\t\t\t\t\t\t\t\t<FcCollapse className=\"mr-1\"/>} <span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{item.repository}</span>\n\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t\t{(!item.source || item.source.length < 1) ?\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{ability.can('repo', 'delete') &&\n\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tdeleteRepository(item);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{item.active ?\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t{ability.can('repo', 'turnOff') &&\n\t\t\t\t\t\t\t\t\t\t\t<TurnOffButton\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tturnOffRepository(item);\n\t\t\t\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t{ability.can('repo', 'synchronize') &&\n\t\t\t\t\t\t\t\t\t\t\t<SynchroniseButton\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsyncRepository(item);\n\t\t\t\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{ability.can('repo', 'turnOn') &&\n\t\t\t\t\t\t\t\t\t\t\t<TurnOnButton\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tturnOnRepository(item);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t{item.active &&\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Tabs defaultActiveKey=\"branch\" id=\"repos\"\n\t\t\t\t\t\t\t\t\t      style={{borderBottom: \"1px solid #dee2e6\"}}\n\t\t\t\t\t\t\t\t\t      onSelect={(T) => {\n\t\t\t\t\t\t\t\t\t\t      if (T === \"tag\") {\n\t\t\t\t\t\t\t\t\t\t\t      onTabSelect(item);\n\t\t\t\t\t\t\t\t\t\t      }\n\t\t\t\t\t\t\t\t\t      }}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Tab eventKey=\"branch\" title={t(\"soajs:development.repositories.Branches\")}>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<Branches\n\t\t\t\t\t\t\t\t\t\t\t\tbranches={item.branches}\n\t\t\t\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t\t\t\tability={ability}\n\t\t\t\t\t\t\t\t\t\t\t\tsynBranch={(branch) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsyncBranch(item, branch);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tturnOffBranch={(branch) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tturnOffBranch(item, branch);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tturnOnBranch={(branch) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tturnOnBranch(item, branch);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t\t\t\t<Tab eventKey=\"tag\" title={t(\"soajs:development.repositories.Tags\")}>\n\t\t\t\t\t\t\t\t\t\t\t<Tags\n\t\t\t\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t\t\t\tability={ability}\n\t\t\t\t\t\t\t\t\t\t\t\tturnOffTag={(tag) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tturnOffTag(item, tag);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tturnOnTag={(tag) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tturnOnTag(item, tag);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\trepository={item.repository}\n\t\t\t\t\t\t\t\t\t\t\t\tshowTagsFor={showTagsFor}\n\t\t\t\t\t\t\t\t\t\t\t\tshowTagsForList={showTagsForList}\n\t\t\t\t\t\t\t\t\t\t\t\tsearchTag={(tag) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsearchTag(item, tag)\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t\t{fields.length === 0 ? (\n\t\t\t\t\t<span>{t(\"soajs:development.repositories.zeroMsg\")}</span>\n\t\t\t\t) : null}\n\t\t\t</Accordion>\n\t\t\t{fields.length > 0 ? (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\treLoad(p);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t</>\n\t\t\t) : null}\n\t\t</>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {Accordion, Alert, Button, Card, Col, Form, Row} from \"react-bootstrap\";\nimport {useHistory} from \"react-router-dom\";\n\nimport _ from \"lodash\";\n\nimport deepSet from \"../../../../soajs/libs/deepSetLib\";\n\nimport envModel from \"./model/envModel.json\";\nimport itemModel from \"./model/itemModel.json\";\nimport _examples from \"./model/examples.json\";\nimport {JsonEditor, NotificationManager} from \"../../../../soajs/urac/components\";\n\nimport DeleteButton from \"../../../buttons/Delete\";\nimport AddButton from \"../../../buttons/Add\";\nimport {MarketplaceService} from \"../../../../services\";\n\nimport computeVaribales from \"./model/computedVariables.json\";\n\nlet _json_readiness = null;\nlet _json_liveness = null;\nlet _json_securityContext = null;\nlet _json_voluming = [];\nlet _json_ports = [];\nlet _json_labels = null;\nlet _json_execCommands = null;\n\nconst marketplaceService = MarketplaceService.getService();\n\nexport default function RecipeRW({starterFields, mode, itemId}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState(itemModel);\n\t\n\tconst history = useHistory();\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0 &&\n\t\t\tfields.type.length > 0 &&\n\t\t\tfields.subtype.length > 0 &&\n\t\t\tfields.recipe.deployOptions.image.name.length > 0\n\t\t);\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tfields.recipe.deployOptions.readinessProbe = _json_liveness;\n\t\t\tfields.recipe.deployOptions.liveinessProbe = _json_readiness;\n\t\t\tfields.recipe.deployOptions.securityContext = _json_securityContext;\n\t\t\tfields.recipe.deployOptions.voluming = _json_voluming;\n\t\t\tfields.recipe.deployOptions.ports = _json_ports;\n\t\t\tfields.recipe.deployOptions.labels = _json_labels;\n\t\t\tfields.recipe.deployOptions.execCommands = _json_execCommands;\n\t\t\t\n\t\t\tif (fields.envs.length > 0) {\n\t\t\t\tfor (let i = 0; i < fields.envs.length; i++) {\n\t\t\t\t\tfields.recipe.buildOptions.env[fields.envs[i].name] = {\n\t\t\t\t\t\t\"type\": fields.envs[i].type\n\t\t\t\t\t};\n\t\t\t\t\tif (fields.envs[i].type === \"static\" || fields.envs[i].type === \"computed\") {\n\t\t\t\t\t\tfields.recipe.buildOptions.env[fields.envs[i].name].value = fields.envs[i].value;\n\t\t\t\t\t}\n\t\t\t\t\tif (fields.envs[i].type === \"userInput\") {\n\t\t\t\t\t\tfields.recipe.buildOptions.env[fields.envs[i].name].label = fields.envs[i].label;\n\t\t\t\t\t\tfields.recipe.buildOptions.env[fields.envs[i].name].default = fields.envs[i].default;\n\t\t\t\t\t\tfields.recipe.buildOptions.env[fields.envs[i].name].fieldMsg = fields.envs[i].fieldMsg;\n\t\t\t\t\t}\n\t\t\t\t\tif (fields.envs[i].type === \"secret\") {\n\t\t\t\t\t\tfields.recipe.buildOptions.env[fields.envs[i].name].key = fields.envs[i].key;\n\t\t\t\t\t\tfields.recipe.buildOptions.env[fields.envs[i].name].secret = fields.envs[i].secret;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tlet data = {\n\t\t\t\t\"name\": fields.name,\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"description\": fields.description,\n\t\t\t\t\"subtype\": fields.subtype,\n\t\t\t\t\"recipe\": fields.recipe\n\t\t\t};\n\t\t\tif (mode === \"add\") {\n\t\t\t\tawait marketplaceService.addRecipe(data);\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.addRecipe\"));\n\t\t\t}\n\t\t\tif (mode === \"edit\") {\n\t\t\t\tawait marketplaceService.updateRecipe(itemId, data)\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.editRecipe\"));\n\t\t\t}\n\t\t\thistory.push(\"/catalogs/recipe\");\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction handleFieldEnvChange(event, i) {\n\t\tlet value = event.target.value;\n\t\tlet id = event.target.id;\n\t\t\n\t\tfields.envs[i][id] = value;\n\t\tsetFields({...fields});\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tif (event.target.type === 'number') {\n\t\t\tvalue = parseInt(value);\n\t\t}\n\t\t\n\t\tdeepSet(fields, event.target.id, value);\n\t\tsetFields({...fields});\n\t}\n\t\n\tfunction readiness_onChange(json) {\n\t\t_json_readiness = json;\n\t}\n\t\n\tfunction liveness_onChange(json) {\n\t\t_json_liveness = json;\n\t}\n\t\n\tfunction securityContext_onChange(json) {\n\t\t_json_securityContext = json;\n\t}\n\t\n\tfunction port_onChange(json, i) {\n\t\t_json_ports[i] = json;\n\t}\n\t\n\tfunction voluming_onChange(json, i) {\n\t\t_json_voluming[i] = {\"kubernetes\": json};\n\t}\n\t\n\tfunction execCommands_onChange(json) {\n\t\t_json_execCommands = json;\n\t}\n\t\n\tfunction labels_onChange(json) {\n\t\t_json_labels = json\n\t}\n\t\n\tfunction deleteVolumeEntry(i) {\n\t\t_json_voluming.splice(i, 1);\n\t\tfields.recipe.deployOptions.voluming = _json_voluming;\n\t\tsetFields({...fields});\n\t}\n\t\n\tfunction addVolumeEntry() {\n\t\t_json_voluming.push(\n\t\t\t{\"kubernetes\": {\"volume\": {}, \"volumeMount\": {}}}\n\t\t);\n\t\tfields.recipe.deployOptions.voluming = _json_voluming;\n\t\tsetFields({...fields});\n\t}\n\t\n\tfunction getVolume(i) {\n\t\tif (_json_voluming[i] && _json_voluming[i].kubernetes) {\n\t\t\treturn _json_voluming[i].kubernetes;\n\t\t}\n\t\tif (fields.recipe.deployOptions.voluming[i] && fields.recipe.deployOptions.voluming[i].kubernetes) {\n\t\t\treturn fields.recipe.deployOptions.voluming[i].kubernetes;\n\t\t}\n\t\treturn null;\n\t}\n\t\n\tfunction deletePortEntry(i) {\n\t\t_json_ports.splice(i, 1);\n\t\tfields.recipe.deployOptions.ports = _json_ports;\n\t\tsetFields({...fields});\n\t}\n\t\n\tfunction addPortEntry() {\n\t\t_json_ports.push({\n\t\t\t\"name\": \"http\",\n\t\t\t\"target\": 80,\n\t\t\t\"isPublished\": true,\n\t\t\t\"published\": 31080,\n\t\t\t\"preserveClientIP\": true\n\t\t});\n\t\tfields.recipe.deployOptions.ports = _json_ports;\n\t\tsetFields({...fields});\n\t}\n\t\n\tfunction addEnvEntry() {\n\t\tfields.envs.push(envModel);\n\t\tsetFields({...fields});\n\t}\n\t\n\tfunction deleteEnvEntry(i) {\n\t\tfields.envs.splice(i, 1);\n\t\tsetFields({...fields});\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\tif (isSubscribed) {\n\t\t\t\t_json_liveness = starterFields.recipe.deployOptions.readinessProbe;\n\t\t\t\t_json_readiness = starterFields.recipe.deployOptions.liveinessProbe;\n\t\t\t\t_json_ports = starterFields.recipe.deployOptions.ports;\n\t\t\t\t_json_voluming = starterFields.recipe.deployOptions.voluming;\n\t\t\t\t_json_labels = starterFields.recipe.deployOptions.labels;\n\t\t\t\t_json_execCommands = starterFields.recipe.deployOptions.execCommands;\n\t\t\t\t_json_securityContext = starterFields.recipe.deployOptions.securityContext;\n\t\t\t\tlet p = _.merge({}, starterFields);\n\t\t\t\tsetFields({...p});\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [starterFields]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<h5 className=\"font-weight-bold\">{t(\"soajs:titles.\" + mode + \"Recipe\")}</h5>\n\t\t\t\n\t\t\t<Form>\n\t\t\t\t<Form.Group>\n\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group>\n\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\trows={2}\n\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Type\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"type\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.type}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Category\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"subtype\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.subtype}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<hr className=\"mt-1\"/>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t<Card className=\"mb-3\">\n\t\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\t<h6>Image Information</h6>\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Prefix\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"recipe.deployOptions.image.prefix\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={fields.recipe.deployOptions.image.prefix}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"recipe.deployOptions.image.name\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={fields.recipe.deployOptions.image.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Tag\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"recipe.deployOptions.image.tag\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={fields.recipe.deployOptions.image.tag}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Type\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"recipe.deployOptions.image.repositoryType\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={fields.recipe.deployOptions.image.repositoryType}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={\"public\"}>Public</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={\"private\"}>Private</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.PullPolicy\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"recipe.deployOptions.image.pullPolicy\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={fields.recipe.deployOptions.image.pullPolicy}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={\"IfNotPresent\"}>IfNotPresent</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={\"Always\"}>Always</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={\"Never\"}>Never</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Shell\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"recipe.deployOptions.image.shell\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={fields.recipe.deployOptions.image.shell}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-left\">{t(\"soajs:fields.Override\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"recipe.deployOptions.image.override\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={fields.recipe.deployOptions.image.override}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-left\">{t(\"soajs:fields.Binary\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"recipe.deployOptions.image.binary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={fields.recipe.deployOptions.image.binary}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t<Card className=\"mb-3\">\n\t\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\tCommands\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.ContainerCommand\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"recipe.buildOptions.cmd.deploy.command\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={fields.recipe.buildOptions.cmd.deploy.command}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.CommandArguments\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"recipe.buildOptions.cmd.deploy.args\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={fields.recipe.buildOptions.cmd.deploy.args}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t<Card className=\"mb-3\">\n\t\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\tEnvironment Variables\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\tonClick={addEnvEntry}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t{fields.envs.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<Alert variant=\"secondary\" key={i}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col md={2} lg={1}>{t(\"soajs:fields.Name\")}</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rec.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => handleFieldEnvChange(event, i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col md={2} lg={1}>{t(\"soajs:fields.Type\")}</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col lg={3} xl={2}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"type\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rec.type}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => handleFieldEnvChange(event, i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={\"userInput\"}>userInput</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={\"computed\"}>computed</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={\"static\"}>static</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={\"secret\"}>secret</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right pl-1 pr-1 pt-0 pb-0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteEnvEntry(i)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{rec.type === \"static\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Value\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={\"value\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rec.value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => handleFieldEnvChange(event, i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{rec.type === \"computed\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Value\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={\"value\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rec.value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => handleFieldEnvChange(event, i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{computeVaribales.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={i} disabled={rec.disabled}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t        value={rec.l}>{rec.l}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{rec.type === \"userInput\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Label\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"label\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rec.label}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => handleFieldEnvChange(event, i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Default\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rec.default}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => handleFieldEnvChange(event, i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.FieldMsg\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"fieldMsg\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rec.fieldMsg}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => handleFieldEnvChange(event, i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{rec.type === \"secret\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Secret\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"secret\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rec.secret}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => handleFieldEnvChange(event, i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Key\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"key\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rec.key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => handleFieldEnvChange(event, i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t<Card className=\"mb-3\">\n\t\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\tReadiness Information\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t<Row style={{\"height\": \"250px\"}}>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\t\t\t\t\tmodes={[\"code\", \"tree\"]}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tjson={_json_readiness || fields.recipe.deployOptions.readinessProbe || null}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={readiness_onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col xs={4} className=\"small\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Alert variant=\"dark\" className=\"m-0 pb-0 pt-1\"><h6>Example</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Alert variant=\"info\" className=\"m-0 pb-0 pt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<pre className=\"small, text-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{JSON.stringify(_examples.readinessProbe, null, 2)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t<Card className=\"mb-3\">\n\t\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\tLiveness Information\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t<Row style={{\"height\": \"250px\"}}>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmodes={[\"code\", \"tree\"]}\n\t\t\t\t\t\t\t\t\t\t\t\t\tjson={_json_liveness || fields.recipe.deployOptions.liveinessProbe || null}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={liveness_onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col xs={4} className=\"small\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Alert variant=\"dark\" className=\"m-0 pb-0 pt-1\"><h6>Example</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Alert variant=\"info\" className=\"m-0 pb-0 pt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<pre className=\"small, text-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{JSON.stringify(_examples.livenessProbe, null, 2)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t<Card className=\"mb-3\">\n\t\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\tPorts\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\taddPortEntry();\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t{fields.recipe.deployOptions.ports.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<div key={i} className=\"p-1\" style={{\"backgroundColor\": \"#ebebeb\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Header className=\"p-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right pl-1 pr-1 pt-0 pb-0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeletePortEntry(i)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body className=\"pt-1 pb-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodes={[\"code\", \"tree\"]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjson={_json_ports[i] || fields.recipe.deployOptions.ports[i] || null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(json) => port_onChange(json, i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t<Card className=\"mb-3\">\n\t\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\tVolumes\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\taddVolumeEntry();\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t{fields.recipe.deployOptions.voluming.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<div key={i} className=\"p-1\" style={{\"backgroundColor\": \"#ebebeb\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Header className=\"p-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right pl-1 pr-1 pt-0 pb-0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteVolumeEntry(i)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body className=\"pt-1 pb-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodes={[\"code\", \"tree\"]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjson={getVolume(i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(json) => voluming_onChange(json, i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t<Card className=\"mb-3\">\n\t\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\tSecurity Context Information\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\t\t\tmodes={[\"code\", \"tree\"]}\n\t\t\t\t\t\t\t\t\t\t\tjson={_json_securityContext || fields.recipe.deployOptions.securityContext || null}\n\t\t\t\t\t\t\t\t\t\t\tonChange={securityContext_onChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t<Card className=\"mb-3\">\n\t\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\tPreset Pod Execute Commands\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\t\t\tmodes={[\"code\", \"tree\"]}\n\t\t\t\t\t\t\t\t\t\t\tjson={_json_execCommands || fields.recipe.deployOptions.execCommands || null}\n\t\t\t\t\t\t\t\t\t\t\tonChange={execCommands_onChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t<Card className=\"mb-3\">\n\t\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\tAdditional Labels\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\t\t\tmodes={[\"code\", \"tree\"]}\n\t\t\t\t\t\t\t\t\t\t\tjson={_json_labels || fields.recipe.deployOptions.labels || null}\n\t\t\t\t\t\t\t\t\t\t\tonChange={labels_onChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{mode === \"add\" && t(\"soajs:buttons.Add\")}\n\t\t\t\t\t{mode === \"edit\" && t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t</Form>\n\t\t</>\n\t);\n}","import React from \"react\";\n\nimport itemModel from \"./model/itemModel.json\";\n\nimport RecipeRW from \"./RecipeRW\";\n\nexport default function AddRecipe() {\n\t\n\t\n\treturn (\n\t\t<>\n\t\t\t<RecipeRW\n\t\t\t\tstarterFields={itemModel}\n\t\t\t\tmode={\"add\"}\n\t\t\t/>\n\t\t</>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport {useParams} from \"react-router-dom\";\n\nimport {MarketplaceService} from \"../../../../services\";\n\nimport RecipeRW from \"./RecipeRW\";\nimport envModel from \"./model/envModel.json\";\nimport itemModel from \"./model/itemModel.json\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport _ from \"lodash\";\n\nconst marketplaceService = MarketplaceService.getService();\n\nexport default function EditRecipe() {\n\tconst [fields, setFields] = useState(null);\n\t\n\tconst {id} = useParams();\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tlet data = _.merge({}, itemModel);\n\t\t\t\tlet response = await marketplaceService.getRecipesByIds([id]);\n\t\t\t\tif (isSubscribed && response && response[0]) {\n\t\t\t\t\tdata = {\n\t\t\t\t\t\t\"envs\": data.envs,\n\t\t\t\t\t\t\"name\": response[0].name || data.name,\n\t\t\t\t\t\t\"type\": response[0].type || data.type,\n\t\t\t\t\t\t\"description\": response[0].description || data.description,\n\t\t\t\t\t\t\"subtype\": response[0].subtype || data.subtype,\n\t\t\t\t\t\t\"recipe\": {\n\t\t\t\t\t\t\t\"deployOptions\": {\n\t\t\t\t\t\t\t\t\"image\": data.recipe.deployOptions.image,\n\t\t\t\t\t\t\t\t\"readinessProbe\": response[0].recipe.deployOptions.readinessProbe || data.recipe.deployOptions.readinessProbe,\n\t\t\t\t\t\t\t\t\"liveinessProbe\": response[0].recipe.deployOptions.liveinessProbe || data.recipe.deployOptions.liveinessProbe,\n\t\t\t\t\t\t\t\t\"ports\": response[0].recipe.deployOptions.ports || data.recipe.deployOptions.ports,\n\t\t\t\t\t\t\t\t\"voluming\": data.recipe.deployOptions.voluming,\n\t\t\t\t\t\t\t\t\"labels\": response[0].recipe.deployOptions.labels || data.recipe.deployOptions.labels,\n\t\t\t\t\t\t\t\t\"execCommands\": response[0].recipe.deployOptions.execCommands || data.recipe.deployOptions.execCommands,\n\t\t\t\t\t\t\t\t\"securityContext\": response[0].recipe.deployOptions.securityContext || data.recipe.deployOptions.securityContext\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"buildOptions\": {\n\t\t\t\t\t\t\t\t\"cmd\": response[0].recipe.buildOptions.cmd || data.recipe.buildOptions.cmd,\n\t\t\t\t\t\t\t\t\"env\": data.recipe.buildOptions.env,\n\t\t\t\t\t\t\t\t\"settings\": response[0].recipe.buildOptions.settings || data.recipe.buildOptions.settings\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tif (response[0].recipe.deployOptions.voluming) {\n\t\t\t\t\t\tfor (let i = 0; i < response[0].recipe.deployOptions.voluming.length; i++) {\n\t\t\t\t\t\t\tdata.recipe.deployOptions.voluming.push({\n\t\t\t\t\t\t\t\t\"kubernetes\": response[0].recipe.deployOptions.voluming[i].kubernetes\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (response[0].recipe.buildOptions.cmd) {\n\t\t\t\t\t\tdata.recipe.buildOptions.cmd.deploy = {\n\t\t\t\t\t\t\t\"command\": response[0].recipe.buildOptions.cmd.deploy.command || data.recipe.buildOptions.cmd.deploy.command,\n\t\t\t\t\t\t\t\"args\": response[0].recipe.buildOptions.cmd.deploy.args || data.recipe.buildOptions.cmd.deploy.args\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tif (response[0].recipe.deployOptions.securityContext) {\n\t\t\t\t\t\tdata.recipe.deployOptions.securityContext = {\n\t\t\t\t\t\t\t\"pod\": response[0].recipe.deployOptions.securityContext.pod || data.recipe.deployOptions.securityContext.pod,\n\t\t\t\t\t\t\t\"container\": response[0].recipe.deployOptions.securityContext.container || data.recipe.deployOptions.securityContext.container\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tif (response[0].recipe.deployOptions.image) {\n\t\t\t\t\t\tdata.recipe.deployOptions.image = {\n\t\t\t\t\t\t\t\"name\": response[0].recipe.deployOptions.image.name || data.recipe.deployOptions.image.name,\n\t\t\t\t\t\t\t\"tag\": response[0].recipe.deployOptions.image.tag || data.recipe.deployOptions.image.tag,\n\t\t\t\t\t\t\t\"prefix\": response[0].recipe.deployOptions.image.prefix || data.recipe.deployOptions.image.prefix,\n\t\t\t\t\t\t\t\"repositoryType\": response[0].recipe.deployOptions.image.repositoryType || data.recipe.deployOptions.image.repositoryType,\n\t\t\t\t\t\t\t\"pullPolicy\": response[0].recipe.deployOptions.image.pullPolicy || data.recipe.deployOptions.image.pullPolicy,\n\t\t\t\t\t\t\t\"shell\": response[0].recipe.deployOptions.image.shell || data.recipe.deployOptions.image.shell,\n\t\t\t\t\t\t\t\"override\": response[0].recipe.deployOptions.image.override || data.recipe.deployOptions.image.override,\n\t\t\t\t\t\t\t\"binary\": response[0].recipe.deployOptions.image.binary || data.recipe.deployOptions.image.binary\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tif (response[0].recipe.buildOptions.env) {\n\t\t\t\t\t\tObject.keys(response[0].recipe.buildOptions.env).map((e) => {\n\t\t\t\t\t\t\tlet o = _.merge({}, envModel, response[0].recipe.buildOptions.env[e]);\n\t\t\t\t\t\t\to.name = e;\n\t\t\t\t\t\t\tdata.envs.push(o);\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetFields(data);\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [id]);\n\t\n\treturn (\n\t\t<>\n\t\t\t{fields &&\n\t\t\t<RecipeRW\n\t\t\t\tstarterFields={fields}\n\t\t\t\titemId={id}\n\t\t\t\tmode={\"edit\"}\n\t\t\t/>}\n\t\t</>\n\t);\n}","import {Redirect, Route, Switch} from \"react-router-dom\";\nimport React from \"react\";\n\nimport {AuthenticatedRoute} from \"../../soajs/helpers\";\n\nimport Api from \"./containers/Api/Api\";\nimport Custom from \"./containers/Custom/Custom\";\nimport Resource from \"./containers/Resource/Resource\";\nimport Daemon from \"./containers/Daemon/Daemon\";\nimport Frontend from \"./containers/Frontend/Frontend\";\nimport Config from \"./containers/Config/Config\";\nimport Recipe from \"./containers/Recipe/Recipe\";\nimport SoajsApi from \"./containers/SoajsApi/SoajsApi\";\nimport SoajsFrontend from \"./containers/SoajsFrontend/SoajsFrontend\";\nimport Detail from \"./containers/Template/Detail\";\n\nimport Repositories from \"../Development/containers/Repositories/Repositories\";\n\nimport AddRecipe from \"./containers/Recipe/AddRecipe\";\nimport EditRecipe from \"./containers/Recipe/EditRecipe\";\n\nconst rootPath = \"/catalogs\";\nconst defaultPath = \"/api\";\n\nexport default function Routes() {\n\treturn (\n\t\t<Switch>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/git/repositories\"}>\n\t\t\t\t<Repositories/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t<AuthenticatedRoute path={rootPath + \"/api/detail/:type/:name/:ver\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/custom/detail/:type/:name/:ver\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/resource/detail/:type/:name/:ver\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/daemon/detail/:type/:name/:ver\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/frontend/detail/:type/:name/:ver\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/config/detail/:type/:name/:ver\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/soajs/api/detail/:type/:name/:ver\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/soajs/frontend/detail/:type/:name/:ver\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t<AuthenticatedRoute path={rootPath + \"/api/detail/:type/:name\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/custom/detail/:type/:name\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/resource/detail/:type/:name\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/daemon/detail/:type/:name\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/frontend/detail/:type/:name\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/config/detail/:type/:name\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/soajs/api/detail/:type/:name\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/soajs/frontend/detail/:type/:name\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t\n\t\t\t<AuthenticatedRoute path={rootPath + \"/recipe/add\"}>\n\t\t\t\t<AddRecipe/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t<AuthenticatedRoute path={rootPath + \"/recipe/edit/:id\"}>\n\t\t\t\t<EditRecipe/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t<AuthenticatedRoute path={rootPath + \"/api\"}>\n\t\t\t\t<Api/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/custom\"}>\n\t\t\t\t<Custom/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/resource\"}>\n\t\t\t\t<Resource/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/daemon\"}>\n\t\t\t\t<Daemon/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/frontend\"}>\n\t\t\t\t<Frontend/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/config\"}>\n\t\t\t\t<Config/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/recipe\"}>\n\t\t\t\t<Recipe/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/soajs/api\"}>\n\t\t\t\t<SoajsApi/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/soajs/frontend\"}>\n\t\t\t\t<SoajsFrontend/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t\n\t\t\t<Route\n\t\t\t\trender={() => {\n\t\t\t\t\treturn (<Redirect to={rootPath + defaultPath}/>)\n\t\t\t\t}}/>\n\t\t</Switch>\n\t)\n}","import {Nav, Navbar, NavDropdown} from \"react-bootstrap\";\nimport React from \"react\";\nimport {LinkContainer} from \"react-router-bootstrap\";\nimport {useTranslation} from \"react-i18next\";\n\nfunction Navigation() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst rootPath = \"/catalogs\";\n\treturn (\n\t\t<Navbar collapseOnSelect expand=\"md\" className=\"pt-0 pb-0\" bg=\"secondary\" variant=\"light\">\n\t\t\t<span></span>\n\t\t\t<Navbar.Toggle aria-controls=\"catalog-navbar-nav\"/>\n\t\t\t<Navbar.Collapse id=\"catalog-navbar-nav\" className=\"justify-content-end\">\n\t\t\t\t<Nav activeKey={window.location.pathname}>\n\t\t\t\t\t{/*<LinkContainer to={rootPath + \"/application\"}>*/}\n\t\t\t\t\t{/*\t<NavDropdown.Item><small>{t(\"soajs:menu.Application\")}</small></NavDropdown.Item>*/}\n\t\t\t\t\t{/*</LinkContainer>*/}\n\t\t\t\t\t{/*<LinkContainer to={rootPath + \"/event\"}>*/}\n\t\t\t\t\t{/*\t<NavDropdown.Item><small>{t(\"soajs:menu.Event\")}</small></NavDropdown.Item>*/}\n\t\t\t\t\t{/*</LinkContainer>*/}\n\t\t\t\t\t{/*<LinkContainer to={rootPath + \"/topic\"}>*/}\n\t\t\t\t\t{/*\t<NavDropdown.Item><small>{t(\"soajs:menu.Topic\")}</small></NavDropdown.Item>*/}\n\t\t\t\t\t{/*</LinkContainer>*/}\n\t\t\t\t\t<LinkContainer to={rootPath + \"/api\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.API\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/daemon\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Daemon\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/frontend\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Frontend\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/custom\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Custom\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/resource\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Resource\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\n\t\t\t\t\t<LinkContainer to={rootPath + \"/git/repositories\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.GitRepositories\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\n\t\t\t\t\t<NavDropdown className=\"small\" alignRight title={t(\"soajs:menu.Deployment\")}\n\t\t\t\t\t             id=\"collasible-nav1-dropdown\">\n\t\t\t\t\t\t<LinkContainer to={rootPath + \"/config\"}>\n\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Config\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to={rootPath + \"/recipe\"}>\n\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Recipe\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t</NavDropdown>\n\t\t\t\t\t\n\t\t\t\t\t<NavDropdown className=\"small\" alignRight title={t(\"soajs:menu.SOAJS\")}\n\t\t\t\t\t             id=\"collasible-nav1-dropdown\">\n\t\t\t\t\t\t<LinkContainer to={rootPath + \"/soajs/api\"}>\n\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.API\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to={rootPath + \"/soajs/frontend\"}>\n\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Frontend\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t</NavDropdown>\n\t\t\t\t</Nav>\n\t\t\t</Navbar.Collapse>\n\t\t</Navbar>\n\t);\n}\n\nexport default Navigation","import React from \"react\";\nimport {Container} from \"react-bootstrap\";\n\nimport Routes from \"./Routes\";\nimport Navigation from \"./Navigation\";\n\nexport default function Catalogs() {\n\treturn (\n\t\t<>\n\t\t\t<Navigation/>\n\t\t\t<div className=\"bg-dark pt-1\"></div>\n\t\t\t<div className=\"main-area\">\n\t\t\t\t<Container className=\"mt-3 mb-3\">\n\t\t\t\t\t<Routes/>\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t</>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {UracService} from \"../../../../soajs/urac/services\";\n\nconst uracService = UracService.getService();\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait uracService.deleteUser(modalOpt.opts._id);\n\t\t\tNotificationManager.success(t(\"soajs:messages.deleteUser\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>{t(\"soajs:messages.deleteQuestion\")}</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, ListGroup, ListGroupItem, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nfunction getDate(timestamp) {\n\tlet dateStr = \"\";\n\tif (timestamp) {\n\t\tlet date = new Date(timestamp);\n\t\tdateStr = dateStr +\n\t\t\tdate.getDate() +\n\t\t\t\"/\" + (date.getMonth() + 1) +\n\t\t\t\"/\" + date.getFullYear();\n\t}\n\treturn dateStr;\n}\n\nexport default function InfoModal({modalOpt, setModalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\", \"organization\"]);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\t\n\treturn (\n\t\tmodalOpt.opts &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.userInfo\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t{t(\"soajs:fields.Username\")}:</span> {modalOpt.opts.username}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t{t(\"soajs:fields.LastLogin\")}:</span> {getDate(modalOpt.opts.lastLogin)}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t{t(\"soajs:fields.JoinedOn\")}:</span> {getDate(modalOpt.opts.ts)}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{t(\"soajs:fields.FirstName\")}:</span> {modalOpt.opts.firstName}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{t(\"soajs:fields.LastName\")}:</span> {modalOpt.opts.lastName}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t{t(\"soajs:fields.Email\")}:</span> {modalOpt.opts.email}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t{t(\"soajs:fields.Groups\")}:</span> {modalOpt.opts.groups && modalOpt.opts.groups.join(\", \")}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t{t(\"soajs:fields.Status\")}:</span> {modalOpt.opts.status}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t</ListGroup>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Ok\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form, Col} from \"react-bootstrap\";\nimport React, {useState, useEffect} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {UracService} from \"../../../../soajs/urac/services\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport _ from \"lodash\";\n\nconst uracService = UracService.getService();\n\nexport default function EditModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState({\n\t\t\"id\": \"\",\n\t\t\"username\": \"\",\n\t\t\"email\": \"\",\n\t\t\"firstName\": \"\",\n\t\t\"lastName\": \"\",\n\t\t\"status\": \"\"\n\t});\n\tconst [groupsFields, setGroupsFields] = useState([]);\n\tconst [groups, setGroups] = useState(null);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait uracService.updateUser(\n\t\t\t\t{\n\t\t\t\t\t\"id\": modalOpt.opts._id,\n\t\t\t\t\t\"username\": fields.username,\n\t\t\t\t\t\"email\": fields.email,\n\t\t\t\t\t\"firstName\": fields.firstName,\n\t\t\t\t\t\"lastName\": fields.lastName,\n\t\t\t\t\t\"status\": fields.status,\n\t\t\t\t\t\"groups\": groups || modalOpt.opts.groups || null\n\t\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.editUser\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction onChangeGroup(checked, code) {\n\t\tif (checked) {\n\t\t\tlet g = groups\n\t\t\tif (!g) {\n\t\t\t\tg = [];\n\t\t\t}\n\t\t\tg.push(code);\n\t\t\tsetGroups(g)\n\t\t} else {\n\t\t\tlet g = groups\n\t\t\tif (g) {\n\t\t\t\t_.pull(g, code);\n\t\t\t\tsetGroups(g);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.email.length > 0 &&\n\t\t\tfields.username.length > 4 &&\n\t\t\tfields.firstName.length > 0 &&\n\t\t\tfields.lastName.length > 0\n\t\t);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (modalOpt.opts) {\n\t\t\t\t\tconst _groups = await uracService.getGroups();\n\t\t\t\t\tlet _g = null;\n\t\t\t\t\tif (_groups) {\n\t\t\t\t\t\t_g = [];\n\t\t\t\t\t\tfor (let i = 0; i < _groups.length; i++) {\n\t\t\t\t\t\t\tlet _item = {\n\t\t\t\t\t\t\t\t\"code\": _groups[i].code,\n\t\t\t\t\t\t\t\t\"name\": _groups[i].name,\n\t\t\t\t\t\t\t\t\"selected\": false\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tif (modalOpt.opts.groups && modalOpt.opts.groups.includes(_item.code)) {\n\t\t\t\t\t\t\t\t_item.selected = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t_g.push(_item);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\t\tsetGroupsFields(_g);\n\t\t\t\t\t\t\tsetGroups(modalOpt.opts.groups);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\tsetFields({\n\t\t\t\t\t\t\t\"id\": modalOpt.opts._id,\n\t\t\t\t\t\t\t\"username\": modalOpt.opts.username,\n\t\t\t\t\t\t\t\"email\": modalOpt.opts.email,\n\t\t\t\t\t\t\t\"firstName\": modalOpt.opts.firstName,\n\t\t\t\t\t\t\t\"lastName\": modalOpt.opts.lastName,\n\t\t\t\t\t\t\t\"status\": modalOpt.opts.status\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\tsetGroupsFields([]);\n\t\t\t\t\t\tsetGroups(null);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad()\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.editUser\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t{fields &&\n\t\t\t\t<Form onSubmit={(event) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}}>\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Username\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.username}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Email\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.email}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.FirstName\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"firstName\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.firstName}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.LastName\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"lastName\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.lastName}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Status\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control as=\"select\" id=\"status\"\n\t\t\t\t\t\t\t              defaultValue={fields.status}\n\t\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"active\">active</option>\n\t\t\t\t\t\t\t\t<option value=\"inactive\">inactive</option>\n\t\t\t\t\t\t\t\t<option value=\"pendingNew\">pendingNew</option>\n\t\t\t\t\t\t\t\t<option value=\"pendingJoin\">pendingJoin</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t</Form>\n\t\t\t\t}\n\t\t\t\t<hr/>\n\t\t\t\t{groupsFields.map((group, index) => (\n\t\t\t\t\t<Form.Check key={index + 1} type=\"switch\"\n\t\t\t\t\t            label={group.code + \" - \" + group.name}\n\t\t\t\t\t            id={group.code}\n\t\t\t\t\t            checked={group.selected}\n\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t            onChangeGroup(event.target.checked, group.code)\n\t\t\t\t\t            }}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleSubmit}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form, Col} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport _ from \"lodash\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {UracService} from \"../../../../soajs/urac/services\";\n\nconst uracService = UracService.getService();\n\nexport default function AddModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\tconst [fields, setFields] = useState({\n\t\t\"user\": \"\",\n\t\t\"email\": \"\",\n\t\t\"username\": \"\",\n\t\t\"firstName\": \"\",\n\t\t\"lastName\": \"\",\n\t\t\"groups\": []\n\t});\n\tconst [groupFields, setGroupFields] = useState([]);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.email.length > 0 &&\n\t\t\tfields.username.length > 4 &&\n\t\t\tfields.firstName.length > 0 &&\n\t\t\tfields.lastName.length > 0 &&\n\t\t\tfields.groups.length > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: event.target.value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait uracService.addUser(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.addUser\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction onChangeGroup(checked, code) {\n\t\tif (checked) {\n\t\t\tfields.groups.push(code);\n\t\t} else {\n\t\t\t_.pull(fields.groups, code);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tconst _groups = await uracService.getGroups();\n\t\t\t\tlet _g = null;\n\t\t\t\tif (_groups) {\n\t\t\t\t\t_g = [];\n\t\t\t\t\tfor (let i = 0; i < _groups.length; i++) {\n\t\t\t\t\t\tlet _item = {\n\t\t\t\t\t\t\t\"code\": _groups[i].code,\n\t\t\t\t\t\t\t\"name\": _groups[i].name,\n\t\t\t\t\t\t\t\"selected\": false\n\t\t\t\t\t\t};\n\t\t\t\t\t\t_g.push(_item);\n\t\t\t\t\t}\n\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\tsetGroupFields(_g);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.userAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Username\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.username}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Email\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.email}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.FirstName\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"firstName\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.firstName}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.LastName\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"lastName\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.lastName}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{groupFields.map((group, index) => (\n\t\t\t\t\t\t\t<Form.Check key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t            label={group.code + \" - \" + group.name}\n\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t            onChangeGroup(event.target.checked, group.code)\n\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport {Table, Button, Form, Row, Col, Jumbotron} from \"react-bootstrap\";\n\nimport {useTranslation} from \"react-i18next\";\nimport {GoDiffAdded} from \"react-icons/go\";\nimport {BiSearchAlt} from \"react-icons/bi\";\n\nimport AutoPagination from \"../../../../lib/AutoPagination\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {UracService} from \"../../../../soajs/urac/services\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nimport DeleteButton from \"../../../buttons/Delete\";\nimport ViewButton from \"../../../buttons/View\";\nimport EditButton from \"../../../buttons/Edit\";\n\nimport DeleteModal from \"./DeleteModal\"\nimport InfoModal from \"./InfoModal\"\nimport EditModal from \"./EditModal\"\nimport AddModal from \"./AddModal\"\n\nconst uracService = UracService.getService();\n\nasync function onLoad(setFields, isSubscribed, setPagination, currentPage, criteria) {\n\ttry {\n\t\tlet c = {\"limit\": 50, \"start\": (currentPage - 1) * 50};\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords && criteria.keywords !== \"\") {\n\t\t\t\tc.keywords = criteria.keywords;\n\t\t\t}\n\t\t}\n\t\tconst users = await uracService.getUsers(null, null, c);\n\t\tconst usersCount = await uracService.getUsersCount(null, null, c);\n\t\tif (users && Array.isArray(users) && users.length > 0) {\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields(users);\n\t\t\t\tsetPagination(\n\t\t\t\t\t{\n\t\t\t\t\t\t\"totalItems\": usersCount,\n\t\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\t\"itemsPerPage\": c.limit\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields(null);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Users() {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\", \"organization\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [modalInfoOpt, setModalInfoOpt] = useState({\"show\": false, opts: null});\n\tconst modalInfoOptShow = (opt) => setModalInfoOpt({\"show\": true, opts: opt});\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, opts: null});\n\tconst modalDeleteOptShow = (opt) => setModalDeleteOpt({\"show\": true, opts: opt});\n\tconst [modalEditOpt, setModalEditOpt] = useState({\"show\": false, opts: null});\n\tconst modalEditOptShow = (opt) => setModalEditOpt({\"show\": true, opts: opt});\n\tconst [modalAddOpt, setModalAddOpt] = useState({\"show\": false, opts: null});\n\tconst modalAddOptShow = (opt) => setModalAddOpt({\"show\": true, opts: opt});\n\t\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [criteria, setCriteria] = useState({\n\t\t\"keywords\": \"\"\n\t});\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait onLoad(setFields, true, setPagination, 1, criteria);\n\t}\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function reLoad(page) {\n\t\tawait onLoad(setFields, true, setPagination, page || currentPage, criteria)\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tonLoad(setFields, isSubscribed, setPagination, 1, null);\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\tfields && (\n\t\t\t<>\n\t\t\t\t<AddModal\n\t\t\t\t\tmodalOpt={modalAddOpt}\n\t\t\t\t\tsetModalOpt={setModalAddOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<EditModal\n\t\t\t\t\tmodalOpt={modalEditOpt}\n\t\t\t\t\tsetModalOpt={setModalEditOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<DeleteModal\n\t\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<InfoModal\n\t\t\t\t\tmodalOpt={modalInfoOpt}\n\t\t\t\t\tsetModalOpt={setModalInfoOpt}\n\t\t\t\t/>\n\t\t\t\t<div>\n\t\t\t\t\t<h4 className=\"float-left\">{t(\"soajs:titles.users\")}</h4>\n\t\t\t\t\t{ability.can('user', 'add') &&\n\t\t\t\t\t<Button variant=\"success\" className=\"float-right\" size=\"sm\"\n\t\t\t\t\t        onClick={()=>modalAddOptShow(null)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t\t</Button>}\n\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t</div>\n\t\t\t\t<hr/>\n\t\t\t\t<Jumbotron className=\"p-3\">\n\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col xs={9} md={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"keywords\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tvalue={criteria.keywords}\n\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col xs={3} md={2}>\n\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Jumbotron>\n\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>{t(\"soajs:buttons.Actions\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.FirstName\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.LastName\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Email\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Groups\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Status\")}</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t{fields.map((user, index) => (\n\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t<td nowrap=\"true\">\n\t\t\t\t\t\t\t\t<ViewButton\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalInfoOptShow(user);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ability.can('user', 'delete') &&\n\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow(user);\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{ability.can('user', 'edit') &&\n\t\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalEditOptShow(user);\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>{user.firstName}</td>\n\t\t\t\t\t\t\t<td>{user.lastName}</td>\n\t\t\t\t\t\t\t<td>{user.email}</td>\n\t\t\t\t\t\t\t<td>{user.groups && user.groups.join(\", \")}</td>\n\t\t\t\t\t\t\t<td>{user.status}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t\t</tbody>\n\t\t\t\t</Table>\n\t\t\t\t{fields.length > 0 ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\t\treLoad(p);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t\t</>\n\t\t\t\t) : null}\n\t\t\t</>\n\t\t)\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {UracService} from \"../../../../soajs/urac/services\";\n\nconst uracService = UracService.getService();\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait uracService.deleteGroup(modalOpt.opts._id);\n\t\t\tNotificationManager.success(t(\"soajs:messages.deleteGroup\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>{t(\"soajs:messages.deleteQuestion\")}</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, ListGroup, ListGroupItem, Modal, Accordion, Card, Form} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function InfoModal({modalOpt, setModalOpt, product}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [productFields, setProductFields] = useState([]);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (product && modalOpt.opts) {\n\t\t\tlet item = {};\n\t\t\titem.code = product.code;\n\t\t\titem.name = product.name;\n\t\t\titem.description = product.description;\n\t\t\titem.packages = [];\n\t\t\tfor (let j = 0; j < product.packages.length; j++) {\n\t\t\t\titem.packages.push({\n\t\t\t\t\t\"code\": product.packages[j].code,\n\t\t\t\t\t\"name\": product.packages[j].name,\n\t\t\t\t\t\"selected\": (\n\t\t\t\t\t\tmodalOpt.opts && modalOpt.opts.config && modalOpt.opts.config.allowedPackages &&\n\t\t\t\t\t\tmodalOpt.opts.config.allowedPackages[product.code] &&\n\t\t\t\t\t\tmodalOpt.opts.config.allowedPackages[product.code].includes(product.packages[j].code)\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t}\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetProductFields([item]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetProductFields(null);\n\t\t\t}\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [product, modalOpt]);\n\t\n\treturn (\n\t\tmodalOpt.opts &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.groupInfo\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{t(\"soajs:fields.Code\")}:</span> {modalOpt.opts.code}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{t(\"soajs:fields.Name\")}:</span> {modalOpt.opts.name}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t{t(\"soajs:fields.Description\")}:</span> {modalOpt.opts.description}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t</ListGroup>\n\t\t\t\t<hr/>\n\t\t\t\t<Accordion defaultActiveKey={1}>\n\t\t\t\t\t{productFields && productFields.map((item, index) => (\n\t\t\t\t\t\t<Card key={index + 1}>\n\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\"\n\t\t\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t{item.code} - {item.name}\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<small className=\"font-italic\">{item.description}</small>\n\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t{item.packages.map((pack, index) => (\n\t\t\t\t\t\t\t\t\t\t<Form.Check key={index + 1} type=\"switch\" disabled\n\t\t\t\t\t\t\t\t\t\t            label={pack.code + \" - \" + pack.name}\n\t\t\t\t\t\t\t\t\t\t            checked={pack.selected}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t))}\n\t\t\t\t</Accordion>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Ok\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Accordion, Card, Form, Col} from \"react-bootstrap\";\nimport React, {useState, useEffect} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {UracService} from \"../../../../soajs/urac/services\";\nimport _ from \"lodash\";\n\nconst uracService = UracService.getService();\n\nexport default function EditModal({modalOpt, setModalOpt, handleAction, product}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\tconst [fields, setFields] = useState({\n\t\t\"code\": \"\",\n\t\t\"name\": \"\",\n\t\t\"description\": \"\",\n\t\t\"id\": \"\"\n\t});\n\tconst [productFields, setProductFields] = useState([]);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0\n\t\t);\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet packages = null;\n\t\t\tif (fields.config && fields.config.allowedPackages) {\n\t\t\t\tpackages = [];\n\t\t\t\tfor (let n in fields.config.allowedPackages) {\n\t\t\t\t\tpackages.push({\"product\": n, \"packages\": fields.config.allowedPackages[n]})\n\t\t\t\t}\n\t\t\t}\n\t\t\tawait uracService.editGroup(\n\t\t\t\t{\n\t\t\t\t\t\"id\": fields.id,\n\t\t\t\t\t\"name\": fields.name,\n\t\t\t\t\t\"description\": fields.description,\n\t\t\t\t\t\"packages\": packages\n\t\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.editGroup\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tfunction onChangePackage(checked, packCode, prodCode) {\n\t\tif (fields.config) {\n\t\t\tif (!fields.config.allowedPackages) {\n\t\t\t\tfields.config.allowedPackages = {};\n\t\t\t}\n\t\t\tif (checked) {\n\t\t\t\tif (!fields.config.allowedPackages[prodCode]) {\n\t\t\t\t\tfields.config.allowedPackages[prodCode] = [];\n\t\t\t\t}\n\t\t\t\tfields.config.allowedPackages[prodCode].push(packCode);\n\t\t\t} else {\n\t\t\t\tif (fields.config.allowedPackages[prodCode] && fields.config.allowedPackages[prodCode]) {\n\t\t\t\t\t_.pull(fields.config.allowedPackages[prodCode], packCode);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (modalOpt.opts) {\n\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\tsetFields({\n\t\t\t\t\t\t\t\"code\": modalOpt.opts.code,\n\t\t\t\t\t\t\t\"name\": modalOpt.opts.name,\n\t\t\t\t\t\t\t\"description\": modalOpt.opts.description,\n\t\t\t\t\t\t\t\"id\": modalOpt.opts._id,\n\t\t\t\t\t\t\t\"config\": modalOpt.opts.config\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet item = {};\n\t\t\t\t\t\titem.code = product.code;\n\t\t\t\t\t\titem.name = product.name;\n\t\t\t\t\t\titem.description = product.description;\n\t\t\t\t\t\titem.packages = [];\n\t\t\t\t\t\tfor (let j = 0; j < product.packages.length; j++) {\n\t\t\t\t\t\t\titem.packages.push({\n\t\t\t\t\t\t\t\t\"code\": product.packages[j].code,\n\t\t\t\t\t\t\t\t\"name\": product.packages[j].name,\n\t\t\t\t\t\t\t\t\"selected\": (\n\t\t\t\t\t\t\t\t\tmodalOpt.opts && modalOpt.opts.config && modalOpt.opts.config.allowedPackages &&\n\t\t\t\t\t\t\t\t\tmodalOpt.opts.config.allowedPackages[product.code] &&\n\t\t\t\t\t\t\t\t\tmodalOpt.opts.config.allowedPackages[product.code].includes(product.packages[j].code)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\t\tsetProductFields([item]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\tsetProductFields(null);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt, product]);\n\t\n\treturn (\n\t\tmodalOpt.opts &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.groupEdit\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"organization:groups.code\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t{fields.code}\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"organization:groups.name\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"organization:groups.description\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Accordion defaultActiveKey={1}>\n\t\t\t\t\t\t\t{productFields && productFields.map((item, index) => (\n\t\t\t\t\t\t\t\t<Card key={index + 1}>\n\t\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t{item.code} - {item.name}\n\t\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<small className=\"font-italic\">{item.description}</small>\n\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t{item.packages.map((pack, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check key={index + 1} type=\"switch\"\n\t\t\t\t\t\t\t\t\t\t\t\t            label={pack.code + \" - \" + pack.name}\n\t\t\t\t\t\t\t\t\t\t\t\t            defaultChecked={pack.selected}\n\t\t\t\t\t\t\t\t\t\t\t\t            id={pack.code}\n\t\t\t\t\t\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t            onChangePackage(event.target.checked, pack.code, item.code)\n\t\t\t\t\t\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleSubmit}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form, Card, Col} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport _ from \"lodash\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {UracService} from \"../../../../soajs/urac/services\";\nimport {MultitenantService} from \"../../../../services\";\n\nconst uracService = UracService.getService();\nconst multitenantService = MultitenantService.getService();\n\nexport default function AddModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\tconst [fields, setFields] = useState({\n\t\t\"code\": \"\",\n\t\t\"name\": \"\",\n\t\t\"description\": \"\",\n\t\t\"config\": {}\n\t});\n\tconst [productFields, setProductFields] = useState({\n\t\t\"code\": \"\",\n\t\t\"name\": \"\",\n\t\t\"description\": \"\",\n\t\t\"packages\": []\n\t});\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.code.length > 0 &&\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: event.target.value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet packages = null;\n\t\t\tif (fields.config && fields.config.allowedPackages) {\n\t\t\t\tpackages = [];\n\t\t\t\tfor (let n in fields.config.allowedPackages) {\n\t\t\t\t\tpackages.push({\"product\": n, \"packages\": fields.config.allowedPackages[n]})\n\t\t\t\t}\n\t\t\t}\n\t\t\tawait uracService.addGroup(\n\t\t\t\t{\n\t\t\t\t\t\"code\": fields.code,\n\t\t\t\t\t\"name\": fields.name,\n\t\t\t\t\t\"description\": fields.description,\n\t\t\t\t\t\"packages\": packages\n\t\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.addGroup\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction onChangePackage(checked, packCode, prodCode) {\n\t\tif (fields.config) {\n\t\t\tif (!fields.config.allowedPackages) {\n\t\t\t\tfields.config.allowedPackages = {};\n\t\t\t}\n\t\t\tif (checked) {\n\t\t\t\tif (!fields.config.allowedPackages[prodCode]) {\n\t\t\t\t\tfields.config.allowedPackages[prodCode] = [];\n\t\t\t\t}\n\t\t\t\tfields.config.allowedPackages[prodCode].push(packCode);\n\t\t\t} else {\n\t\t\t\tif (fields.config.allowedPackages[prodCode] && fields.config.allowedPackages[prodCode]) {\n\t\t\t\t\t_.pull(fields.config.allowedPackages[prodCode], packCode);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tconst product = await multitenantService.getMyConsoleProduct();\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tlet item = {};\n\t\t\t\t\titem.code = product.code;\n\t\t\t\t\titem.name = product.name;\n\t\t\t\t\titem.description = product.description;\n\t\t\t\t\titem.packages = [];\n\t\t\t\t\tfor (let j = 0; j < product.packages.length; j++) {\n\t\t\t\t\t\titem.packages.push({\n\t\t\t\t\t\t\t\"code\": product.packages[j].code,\n\t\t\t\t\t\t\t\"name\": product.packages[j].name\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tsetProductFields(item);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.groupAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"soajs:fields.Code\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"code\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tvalue={fields.code}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{productFields.code} - {productFields.name}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<small className=\"font-italic\">{productFields.description}</small>\n\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t{productFields.packages.map((pack, index) => (\n\t\t\t\t\t\t\t\t\t<Form.Check key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t\t\t            label={pack.code + \" - \" + pack.name}\n\t\t\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t            onChangePackage(event.target.checked, pack.code, productFields.code)\n\t\t\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport {Table, Button} from \"react-bootstrap\";\n\nimport {GoDiffAdded} from \"react-icons/go\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../services\";\nimport {UracService} from \"../../../../soajs/urac/services\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\nimport {useTranslation} from \"react-i18next\";\n\nimport DeleteModal from \"./DeleteModal\"\nimport InfoModal from \"./InfoModal\"\nimport EditModal from \"./EditModal\"\nimport AddModal from \"./AddModal\"\nimport DeleteButton from \"../../../buttons/Delete\";\nimport ViewButton from \"../../../buttons/View\";\nimport EditButton from \"../../../buttons/Edit\";\n\nconst uracService = UracService.getService();\nconst multitenantService = MultitenantService.getService();\n\nasync function onLoad(setFields, isSubscribed, setMyProduct) {\n\ttry {\n\t\tconst groups = await uracService.getGroups();\n\t\tconst product = await multitenantService.getMyConsoleProduct();\n\t\tif (groups && Array.isArray(groups) && groups.length > 0) {\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields(groups);\n\t\t\t}\n\t\t} else {\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields(null);\n\t\t\t}\n\t\t}\n\t\tif (isSubscribed) {\n\t\t\tsetMyProduct(product);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Groups() {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\", \"organization\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [myProduct, setMyProduct] = useState(null);\n\t\n\tconst [modalInfoOpt, setModalInfoOpt] = useState({\"show\": false, opts: null});\n\tconst modalInfoOptShow = (opt) => setModalInfoOpt({\"show\": true, opts: opt});\n\t\n\tconst [modalEditOpt, setModalEditOpt] = useState({\"show\": false, opts: null});\n\tconst modalEditOptShow = (opt) => setModalEditOpt({\"show\": true, opts: opt});\n\t\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, opts: null});\n\tconst modalDeleteOptShow = (opt) => setModalDeleteOpt({\"show\": true, opts: opt});\n\t\n\tconst [modalAddOpt, setModalAddOpt] = useState({\"show\": false, opts: null});\n\tconst modalAddOptShow = (opt) => setModalAddOpt({\"show\": true, opts: opt});\n\t\n\tasync function reLoad() {\n\t\tawait onLoad(setFields, true, setMyProduct)\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tonLoad(setFields, isSubscribed, setMyProduct);\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\tfields && (\n\t\t\t<>\n\t\t\t\t<AddModal\n\t\t\t\t\tmodalOpt={modalAddOpt}\n\t\t\t\t\tsetModalOpt={setModalAddOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<DeleteModal\n\t\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<EditModal\n\t\t\t\t\tmodalOpt={modalEditOpt}\n\t\t\t\t\tsetModalOpt={setModalEditOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t\tproduct={myProduct}\n\t\t\t\t/>\n\t\t\t\t<InfoModal\n\t\t\t\t\tmodalOpt={modalInfoOpt}\n\t\t\t\t\tsetModalOpt={setModalInfoOpt}\n\t\t\t\t\tproduct={myProduct}\n\t\t\t\t/>\n\t\t\t\t<div>\n\t\t\t\t\t<h4 className=\"float-left\">{t(\"soajs:titles.groups\")}</h4>\n\t\t\t\t\t{ability.can('group', 'add') &&\n\t\t\t\t\t<Button variant=\"success\" className=\"float-right\" size=\"sm\"\n\t\t\t\t\t        onClick={() => modalAddOptShow(null)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t\t</Button>}\n\t\t\t\t</div>\n\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>{t(\"soajs:buttons.Actions\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Code\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Name\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Description\")}</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t{fields.map((group, index) => (\n\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t<td nowrap=\"true\">\n\t\t\t\t\t\t\t\t<ViewButton\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalInfoOptShow(group);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ability.can('group', 'delete') &&\n\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow(group);\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{ability.can('group', 'edit') &&\n\t\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalEditOptShow(group);\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>{group.code}</td>\n\t\t\t\t\t\t\t<td>{group.name}</td>\n\t\t\t\t\t\t\t<td>{group.description}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t\t</tbody>\n\t\t\t\t</Table>\n\t\t\t</>\n\t\t)\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../services\";\n\nconst multitenantService = MultitenantService.getService();\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait multitenantService.deleteConsolepackage({\"code\": modalOpt.opts.code, \"id\": modalOpt.opts._id});\n\t\t\tNotificationManager.success(t(\"soajs:messages.deletePackage\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\t\n\t\treturn (\n\t\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>{t(\"soajs:messages.deleteQuestion\")}</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t);\n\t}","import {Alert, Button, Col, Row, Badge} from \"react-bootstrap\";\nimport React from \"react\";\n\nimport APIs from \"../../../../../../availableAbilities\";\nimport {BsUnlockFill} from \"react-icons/bs\";\n\nconst methodVariant = {\n\t\"get\": \"primary\",\n\t\"post\": \"success\",\n\t\"delete\": \"danger\",\n\t\"put\": \"warning\",\n\t\"patch\": \"info\",\n\t\"head\": \"secondary\",\n\t\"other\": \"light\"\n};\n\nfunction getMethodVariant(method) {\n\tif (method && methodVariant[method]) {\n\t\treturn methodVariant[method];\n\t} else {\n\t\treturn methodVariant[\"other\"];\n\t}\n}\n\nfunction DisplayAbility({method, service, api, version, name, apiAbility}) {\n\tlet restricted = (service && service[version].apisPermission === \"restricted\");\n\tlet available = false;\n\tif (restricted) {\n\t\tif (service && service[version] && service[version][method] && service[version][method].apis && service[version][method].apis[api]) {\n\t\t\tavailable = true;\n\t\t}\n\t} else if (service) {\n\t\tavailable = true;\n\t}\n\t\n\treturn (\n\t\tapiAbility &&\n\t\t<div>\n\t\t\t{available ?\n\t\t\t\t<Alert variant={getMethodVariant(method)}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col className=\"font-weight-bold small\">\n\t\t\t\t\t\t\t{apiAbility.M}<br/>\n\t\t\t\t\t\t\t{apiAbility.isPublic &&\n\t\t\t\t\t\t\t<span className=\"font-weight-bold text-info small\"><BsUnlockFill\n\t\t\t\t\t\t\t\tclassName=\"mb-1\"/> Public</span>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col className=\"small\" xs={2} lg={1}>\n\t\t\t\t\t\t\t<span className=\"font-weight-bold small\">Available</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col className=\"small\">\n\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 p-1 float-left\"\n\t\t\t\t\t\t\t        variant={getMethodVariant(method)}><small>{method.toUpperCase()}</small></Button>\n\t\t\t\t\t\t\t<span className=\"float-left mt-1\"><Badge variant=\"info\"\n\t\t\t\t\t\t\t                                         className=\"mr-1\">{name}</Badge>{api}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t\t:\n\t\t\t\t<Alert variant=\"light\" className=\"border-dark\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col className=\"small\">\n\t\t\t\t\t\t\t{apiAbility.M}<br/>\n\t\t\t\t\t\t\t{apiAbility.isPublic &&\n\t\t\t\t\t\t\t<span className=\"font-weight-bold text-info small\"><BsUnlockFill\n\t\t\t\t\t\t\t\tclassName=\"mb-1\"/> Public</span>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col className=\"small\" xs={2} lg={1}>\n\t\t\t\t\t\t\t<span className=\"font-weight-bold small\">Not available</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col className=\"small\">\n\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 p-1 float-left\"\n\t\t\t\t\t\t\t        variant={getMethodVariant(method)}><small>{method.toUpperCase()}</small></Button>\n\t\t\t\t\t\t\t<span className=\"float-left mt-1\"><Badge variant=\"info\" className=\"mr-1\">{name}</Badge>{api}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t}\n\t\t</div>\n\t);\n}\n\nexport default function Granular({service, name, abilityPath}) {\n\t\n\treturn (\n\t\tservice ?\n\t\t\tObject.keys(service).map((version, index) => (\n\t\t\t\t<div key={index}>\n\t\t\t\t\t{APIs.versions[name] === version ?\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{Object.keys(methodVariant).map((method, index) => (\n\t\t\t\t\t\t\t\tAPIs[abilityPath][name] && APIs[abilityPath][name][method] &&\n\t\t\t\t\t\t\t\tObject.keys(APIs[abilityPath][name][method]).map((api, index) => (\n\t\t\t\t\t\t\t\t\t<DisplayAbility\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tmethod={method}\n\t\t\t\t\t\t\t\t\t\tservice={service}\n\t\t\t\t\t\t\t\t\t\tapi={api}\n\t\t\t\t\t\t\t\t\t\tversion={version}\n\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\tapiAbility={APIs[abilityPath][name][method][api]}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<span> wrong version for {name} @ {version}</span>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t))\n\t\t\t:\n\t\t\t<div>\n\t\t\t\t{Object.keys(methodVariant).map((method, index) => (\n\t\t\t\t\tAPIs[abilityPath][name] && APIs[abilityPath][name][method] &&\n\t\t\t\t\tObject.keys(APIs[abilityPath][name][method]).map((api, index) => (\n\t\t\t\t\t\t<DisplayAbility\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tmethod={method}\n\t\t\t\t\t\t\tservice={service}\n\t\t\t\t\t\t\tapi={api}\n\t\t\t\t\t\t\tversion={null}\n\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\tapiAbility={APIs[abilityPath][name][method][api]}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))\n\t\t\t\t))}\n\t\t\t</div>\n\t);\n}","function convert_scope_method_acl(tempScopeCursor, method, j, ACL) {\n\tif (tempScopeCursor[method][j].hasOwnProperty('apis')) {\n\t\tif (!ACL[method].apis) {\n\t\t\tACL[method].apis = {};\n\t\t}\n\t\tfor (let api in tempScopeCursor[method][j].apis) {\n\t\t\tif (tempScopeCursor[method][j].apis.hasOwnProperty(api)) {\n\t\t\t\tACL[method].apis[api] = tempScopeCursor[method][j].apis[api];\n\t\t\t\tACL[method].apis[api].group = tempScopeCursor[method][j].group;\n\t\t\t}\n\t\t}\n\t}\n\tif (tempScopeCursor[method][j].hasOwnProperty('apisRegExp')) {\n\t\tif (!ACL[method].apisRegExp) {\n\t\t\tACL[method].apisRegExp = {};\n\t\t}\n\t\tfor (let api in tempScopeCursor[method][j].apisRegExp) {\n\t\t\tif (tempScopeCursor[method][j].apisRegExp.hasOwnProperty(api)) {\n\t\t\t\tACL[method].apisRegExp[api] = tempScopeCursor[method][j].apisRegExp[api];\n\t\t\t\tACL[method].apisRegExp[api].group = tempScopeCursor[method][j].apisRegExp.group;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction getACL(tempScope, tempPack) {\n\tlet tempScopeCursor = JSON.parse(JSON.stringify(tempScope));\n\tlet tempPackCursor = JSON.parse(JSON.stringify(tempPack));\n\tlet ACL = {};\n\tif (tempScopeCursor.hasOwnProperty('access')) {\n\t\tACL.access = tempScopeCursor.access;\n\t}\n\tlet found_methods_in_package = 0;\n\tfor (let method in tempPackCursor) {\n\t\tif (method !== \"version\") {\n\t\t\tif (tempScopeCursor[method] && (tempPackCursor.hasOwnProperty(method))) {\n\t\t\t\tif (!ACL[method]) {\n\t\t\t\t\tACL[method] = {};\n\t\t\t\t}\n\t\t\t\tfor (let i = 0; i < tempPackCursor[method].length; i++) {\n\t\t\t\t\tfound_methods_in_package++;\n\t\t\t\t\tlet apigroup = tempPackCursor[method][i];\n\t\t\t\t\tfor (let j = 0; j < tempScopeCursor[method].length; j++) {\n\t\t\t\t\t\tif (tempScopeCursor[method][j].group === apigroup) {\n\t\t\t\t\t\t\tconvert_scope_method_acl(tempScopeCursor, method, j, ACL);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif (found_methods_in_package === 0) {\n\t\tfor (let method in tempScopeCursor) {\n\t\t\tif (tempScopeCursor.hasOwnProperty(method)) {\n\t\t\t\tif (method !== \"access\" && method !== \"apisPermission\" && method !== \"packagesPermission\") {\n\t\t\t\t\tACL[method] = {};\n\t\t\t\t\tfor (let j = 0; j < tempScopeCursor[method].length; j++) {\n\t\t\t\t\t\tconvert_scope_method_acl(tempScopeCursor, method, j, ACL);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tif (tempScopeCursor.hasOwnProperty('apisPermission')) {\n\t\tACL.apisPermission = tempScopeCursor.apisPermission;\n\t} else {\n\t\tif (tempScopeCursor.hasOwnProperty('packagesPermission')) {\n\t\t\tif (found_methods_in_package > 0) {\n\t\t\t\tACL.apisPermission = \"restricted\";\n\t\t\t}\n\t\t}\n\t}\n\treturn ACL;\n}\n\nexport default getACL;","import React, {useEffect, useState} from \"react\";\n\nimport Granular from \"./Granular\"\nimport getACL from \"../../lib/scopeAclLib\";\n\nexport default function Scope({service, scope, name, abilityPath}) {\n\tconst [fields, setFields] = useState(null);\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tif (service && scope) {\n\t\t\tlet ACL = {};\n\t\t\tfor (let i = 0; i < service.length; i++) {\n\t\t\t\tif (service[i].version) {\n\t\t\t\t\tlet version = service[i].version;\n\t\t\t\t\tif (scope[version]) {\n\t\t\t\t\t\tACL[version] = getACL(scope[version], service[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields(ACL);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn () => (isSubscribed = false);\n\t}, [service, scope]);\n\t\n\treturn (\n\t\tfields &&\n\t\t<Granular\n\t\t\tservice={fields}\n\t\t\tname={name}\n\t\t\tabilityPath={abilityPath}\n\t\t/>\n\t);\n}","import {Tab, Tabs} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport Granular from \"./Granular\"\nimport Scope from \"./Scope\"\n\nimport APIs from \"../../../../../../availableAbilities\";\n\nimport config from \"../../../../../../config\";\n\nexport default function InfoModal({modalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\t\n\treturn (\n\t\tmodalOpt.opts &&\n\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"main\" id=\"abilities\">\n\t\t\t<Tab eventKey=\"main\" title={t(\"soajs:titles.MainAbilities\")}>\n\t\t\t\t{modalOpt.opts.acl && Object.keys(modalOpt.opts.acl).map((env, index) => (\n\t\t\t\t\tenv === config.consoleEnvironment &&\n\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t{Object.keys(APIs.abilities).map((service, index) => (\n\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t{((!modalOpt.opts.acl[env][service]) || (modalOpt.opts.aclTypeByEnv && modalOpt.opts.aclTypeByEnv[env] && modalOpt.opts.aclTypeByEnv[env] === \"granular\")) ?\n\t\t\t\t\t\t\t\t\t<Granular\n\t\t\t\t\t\t\t\t\t\tservice={modalOpt.opts.acl[env][service]}\n\t\t\t\t\t\t\t\t\t\tname={service}\n\t\t\t\t\t\t\t\t\t\tabilityPath={\"abilities\"}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<Scope\n\t\t\t\t\t\t\t\t\t\tservice={modalOpt.opts.acl[env][service]}\n\t\t\t\t\t\t\t\t\t\tscope={modalOpt.scope.acl[env][service]}\n\t\t\t\t\t\t\t\t\t\tname={service}\n\t\t\t\t\t\t\t\t\t\tabilityPath={\"abilities\"}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</Tab>\n\t\t\t<Tab eventKey=\"default\" title={t(\"soajs:titles.DefaultAbilities\")}>\n\t\t\t\t{modalOpt.opts.acl && Object.keys(modalOpt.opts.acl).map((env, index) => (\n\t\t\t\t\tenv === config.consoleEnvironment &&\n\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t{Object.keys(APIs.default).map((service, index) => (\n\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t{((!modalOpt.opts.acl[env][service]) || (modalOpt.opts.aclTypeByEnv && modalOpt.opts.aclTypeByEnv[env] && modalOpt.opts.aclTypeByEnv[env] === \"granular\")) ?\n\t\t\t\t\t\t\t\t\t<Granular\n\t\t\t\t\t\t\t\t\t\tservice={modalOpt.opts.acl[env][service]}\n\t\t\t\t\t\t\t\t\t\tname={service}\n\t\t\t\t\t\t\t\t\t\tabilityPath={\"default\"}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<Scope\n\t\t\t\t\t\t\t\t\t\tservice={modalOpt.opts.acl[env][service]}\n\t\t\t\t\t\t\t\t\t\tscope={modalOpt.scope.acl[env][service]}\n\t\t\t\t\t\t\t\t\t\tname={service}\n\t\t\t\t\t\t\t\t\t\tabilityPath={\"default\"}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</Tab>\n\t\t</Tabs>\n\t);\n}","import {Alert, Button, Col, ListGroup, ListGroupItem, Row, Tab, Tabs} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {BsLockFill, BsUnlockFill} from \"react-icons/bs\";\n\nfunction getAccess(access) {\n\t\n\treturn (\n\t\t<>\n\t\t\t<span className=\"font-weight-bold mr-3\">Service's APIs default access is:</span>\n\t\t\t{access ?\n\t\t\t\t<>\n\t\t\t\t\t<span className=\"font-weight-bold text-success\"><BsLockFill\n\t\t\t\t\t\tclassName=\"mb-1\"/> Private</span> - <span\n\t\t\t\t\tclassName=\"font-italic\">requires logged in user</span>\n\t\t\t\t</>\n\t\t\t\t:\n\t\t\t\t<>\n\t\t\t\t\t<span className=\"font-weight-bold text-info\"><BsUnlockFill className=\"mb-1\"/> Public</span>\n\t\t\t\t</>\n\t\t\t}\n\t\t</>\n\t);\n}\n\nconst methodVariant = {\n\t\"get\": \"primary\",\n\t\"post\": \"success\",\n\t\"delete\": \"danger\",\n\t\"put\": \"warning\",\n\t\"patch\": \"info\",\n\t\"head\": \"secondary\",\n\t\"other\": \"light\"\n};\n\nfunction getMethodVariant(method) {\n\tif (method && methodVariant[method]) {\n\t\treturn methodVariant[method];\n\t} else {\n\t\treturn methodVariant[\"other\"];\n\t}\n}\n\nfunction getApiAccess(api) {\n\tif (api.hasOwnProperty(\"access\")) {\n\t\treturn (\n\t\t\tapi.access ?\n\t\t\t\t(\n\t\t\t\t\t<span className=\"font-weight-bold\"><BsLockFill className=\"mb-1\"/> Private</span>\n\t\t\t\t)\n\t\t\t\t:\n\t\t\t\t(\n\t\t\t\t\t<span className=\"font-weight-bold\"><BsUnlockFill className=\"mb-1\"/> Public</span>\n\t\t\t\t)\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t\"Inherit from service\"\n\t\t);\n\t}\n}\n\nexport default function Granular({service}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\treturn (\n\t\t<Tabs defaultActiveKey=\"1\"\n\t\t      style={{borderBottom: \"1px solid #dee2e6\"}}\n\t\t>\n\t\t\t{Object.keys(service).map((version, index) => (\n\t\t\t\t<Tab key={index + 1} eventKey={index + 1}\n\t\t\t\t     title={t(\"soajs:fields.Version\") + \" \" + version}>\n\t\t\t\t\t<ListGroup variant=\"flush\" className=\"small mt-3\">\n\t\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t\t{getAccess(service[version].access)}\n\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">Access is restricted to the selected APIs:</span> {service[version].apisPermission === \"restricted\" ? \"Yes - only the selected APIs are accessible\" : \"No - all APIs are accessible\"}\n\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t</ListGroup>\n\t\t\t\t\t<hr/>\n\t\t\t\t\t{Object.keys(methodVariant).map((method, index) => (\n\t\t\t\t\t\tservice[version][method] && service[version][method].apis &&\n\t\t\t\t\t\tObject.keys(service[version][method].apis).map((api, index) => (\n\t\t\t\t\t\t\t<Alert key={index} variant={getMethodVariant(method)} className=\"m-1 p-2\">\n\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t<Col className=\"small\">\n\t\t\t\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 pl-1 pr-1 pt-0 pb-0 float-left\"\n\t\t\t\t\t\t\t\t\t\t        variant={getMethodVariant(method)}>{method.toUpperCase()}</Button>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<span className=\"float-left mt-1\">{api}</span>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col className=\"small\">\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"small\">{getApiAccess(service[version][method].apis[api])}</span>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col className=\"small\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"font-italic small\">\n\t\t\t\t\t\t\t\t\t\t\t{service[version][method].apis[api].group}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t))\n\t\t\t\t\t))}\n\t\t\t\t</Tab>\n\t\t\t))}\n\t\t</Tabs>\n\t);\n}","import React, {useEffect, useState} from \"react\";\n\nimport Granular from \"./Granular\"\nimport getACL from \"../../lib/scopeAclLib\";\n\nexport default function Scope({service, scope}) {\n\tconst [fields, setFields] = useState(null);\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tif (service && scope) {\n\t\t\tlet ACL = {};\n\t\t\tfor (let i = 0; i < service.length; i++) {\n\t\t\t\tif (service[i].version) {\n\t\t\t\t\tlet version = service[i].version;\n\t\t\t\t\tif (scope[version]) {\n\t\t\t\t\t\tACL[version] = getACL(scope[version], service[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields(ACL);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn () => (isSubscribed = false);\n\t}, [service, scope]);\n\t\n\treturn (\n\t\tfields &&\n\t\t<Granular\n\t\t\tservice={fields}\n\t\t/>\n\t);\n}","import {Button, Accordion, Card, Form, Alert} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport Granular from \"./Granular\"\nimport Scope from \"./Scope\"\nimport {NotificationManager} from \"../../../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../../../services\";\n\nconst consoleService = ConsoleService.getService();\n\nexport default function InfoModal({modalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [selectedEnv, setFSelectedEnv] = useState(null);\n\t\n\tfunction handleEnvChange(event) {\n\t\tsetFSelectedEnv(event.target.value);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tconst _environments = await consoleService.getEnvironments();\n\t\t\t\tif (_environments && isSubscribed) {\n\t\t\t\t\tlet envs = [];\n\t\t\t\t\tfor (let i = 0; i < _environments.length; i++) {\n\t\t\t\t\t\tenvs.push(_environments[i].code.toLowerCase());\n\t\t\t\t\t}\n\t\t\t\t\tsetFields(envs);\n\t\t\t\t\tsetFSelectedEnv(envs[0] || null);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\tmodalOpt.opts &&\n\t\t<>\n\t\t\t<Alert variant=\"info\">\n\t\t\t\t<Form.Control\n\t\t\t\t\tas=\"select\"\n\t\t\t\t\tid=\"env\"\n\t\t\t\t\tvalue={selectedEnv || \"\"}\n\t\t\t\t\tonChange={handleEnvChange}\n\t\t\t\t>\n\t\t\t\t\t<option value=\"\">--- {t(\"soajs:titles.selectEnvironment\")}</option>\n\t\t\t\t\t{fields.map((env, index) => (\n\t\t\t\t\t\t<option key={index} value={env}>{t(\"soajs:titles.environment\")}: {env}</option>\n\t\t\t\t\t))}\n\t\t\t\t</Form.Control>\n\t\t\t</Alert>\n\t\t\t<hr/>\n\t\t\t{selectedEnv && modalOpt.opts.acl && modalOpt.opts.acl[selectedEnv] &&\n\t\t\t<Accordion defaultActiveKey={1}>\n\t\t\t\t{Object.keys(modalOpt.opts.acl[selectedEnv]).map((service, index) => (\n\t\t\t\t\t<Card key={index + 1}>\n\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-1 pr-2 pl-2\">\n\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\"\n\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t{service}\n\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t{(modalOpt.opts.aclTypeByEnv && modalOpt.opts.aclTypeByEnv[selectedEnv] && modalOpt.opts.aclTypeByEnv[selectedEnv] === \"granular\") ?\n\t\t\t\t\t\t\t\t\t<Granular\n\t\t\t\t\t\t\t\t\t\tservice={modalOpt.opts.acl[selectedEnv][service]}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<Scope\n\t\t\t\t\t\t\t\t\t\tservice={modalOpt.opts.acl[selectedEnv][service]}\n\t\t\t\t\t\t\t\t\t\tscope={modalOpt.scope.acl[selectedEnv][service]}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</Accordion>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Form, ListGroup, ListGroupItem, Modal, Alert, Button} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport AbilityView from \"./Ability/InfoModal\"\nimport APIView from \"./API/InfoModal\"\n\nexport default function InfoModal({modalOpt, setModalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState({\n\t\t\"viewMode\": \"ability\"\n\t});\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null, scope: null});\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.opts) {\n\t\t\tif (modalOpt.opts.turnOffAbilityView) {\n\t\t\t\tsetFields({\n\t\t\t\t\t\"viewMode\": \"api\"\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\tmodalOpt.opts &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.packageInfo\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{t(\"soajs:fields.Code\")}:</span> {modalOpt.opts.code}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{t(\"soajs:fields.Name\")}:</span> {modalOpt.opts.name}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t{t(\"soajs:fields.Description\")}:</span> {modalOpt.opts.description}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t</ListGroup>\n\t\t\t\t<hr/>\n\t\t\t\t{!modalOpt.opts.turnOffAbilityView &&\n\t\t\t\t<Alert variant=\"dark\">\n\t\t\t\t\t<Form.Control as=\"select\" id=\"viewMode\"\n\t\t\t\t\t              defaultValue={fields.viewMode}\n\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t>\n\t\t\t\t\t\t<option value=\"ability\">Basic Abilities view</option>\n\t\t\t\t\t\t<option value=\"api\">Advanced API view</option>\n\t\t\t\t\t</Form.Control>\n\t\t\t\t</Alert>}\n\t\t\t\t\n\t\t\t\t{fields.viewMode === \"ability\" &&\n\t\t\t\t<AbilityView\n\t\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\t{fields.viewMode === \"api\" &&\n\t\t\t\t<APIView\n\t\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form, Col} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../services\";\n\n\nconst multitenantService = MultitenantService.getService();\n\nexport default function AddModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\tconst [fields, setFields] = useState({\n\t\t\"code\": \"\",\n\t\t\"name\": \"\",\n\t\t\"description\": \"\",\n\t\t\"_TTL\": \"168\"\n\t});\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.code.length === 5 &&\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: event.target.value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait multitenantService.addConsolepackage(\n\t\t\t\t{\n\t\t\t\t\t\"id\": modalOpt.opts._id,\n\t\t\t\t\t\"code\": fields.code,\n\t\t\t\t\t\"name\": fields.name,\n\t\t\t\t\t\"description\": fields.description,\n\t\t\t\t\t\"_TTL\": fields._TTL\n\t\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.addPackage\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.packageAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"soajs:fields.Code\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tplaceholder=\"5 characters code only\"\n\t\t\t\t\t\t\t\t\tid=\"code\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tvalue={fields.code}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"soajs:fields.TTL\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control as=\"select\" id=\"_TTL\"\n\t\t\t\t\t\t\t\t              value={fields._TTL}\n\t\t\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"12\">12 hours</option>\n\t\t\t\t\t\t\t\t\t<option value=\"24\">24 hours</option>\n\t\t\t\t\t\t\t\t\t<option value=\"48\">2 days</option>\n\t\t\t\t\t\t\t\t\t<option value=\"72\">3 days</option>\n\t\t\t\t\t\t\t\t\t<option value=\"96\">4 days</option>\n\t\t\t\t\t\t\t\t\t<option value=\"120\">5 days</option>\n\t\t\t\t\t\t\t\t\t<option value=\"144\">6 days</option>\n\t\t\t\t\t\t\t\t\t<option value=\"168\">7 days</option>\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form, Col} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../services\";\n\nconst multitenantService = MultitenantService.getService();\n\nexport default function EditModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\tconst [fields, setFields] = useState({\n\t\t\"code\": \"\",\n\t\t\"name\": \"\",\n\t\t\"description\": \"\",\n\t\t\"_TTL\": \"\"\n\t});\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.code.length > 0 &&\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: event.target.value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait multitenantService.editConsolepackage(\n\t\t\t\t{\n\t\t\t\t\t\"id\": modalOpt.opts._id,\n\t\t\t\t\t\"code\": fields.code,\n\t\t\t\t\t\"name\": fields.name,\n\t\t\t\t\t\"description\": fields.description,\n\t\t\t\t\t\"_TTL\": fields._TTL\n\t\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.editPackage\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt.opts) {\n\t\t\tsetFields({\n\t\t\t\t\"code\": modalOpt.opts.code,\n\t\t\t\t\"name\": modalOpt.opts.name,\n\t\t\t\t\"description\": modalOpt.opts.description,\n\t\t\t\t\"_TTL\": \"\" + modalOpt.opts._TTL / 3600000\n\t\t\t});\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.packageEdit\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"soajs:fields.Code\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"code\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\tvalue={fields.code}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"soajs:fields.TTL\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control as=\"select\" id=\"_TTL\"\n\t\t\t\t\t\t\t\t              value={fields._TTL}\n\t\t\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"12\">12 hours</option>\n\t\t\t\t\t\t\t\t\t<option value=\"24\">24 hours</option>\n\t\t\t\t\t\t\t\t\t<option value=\"48\">2 days</option>\n\t\t\t\t\t\t\t\t\t<option value=\"72\">3 days</option>\n\t\t\t\t\t\t\t\t\t<option value=\"96\">4 days</option>\n\t\t\t\t\t\t\t\t\t<option value=\"120\">5 days</option>\n\t\t\t\t\t\t\t\t\t<option value=\"144\">6 days</option>\n\t\t\t\t\t\t\t\t\t<option value=\"168\">7 days</option>\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Alert, Badge, Button, Col, Form, Row} from \"react-bootstrap\";\nimport React from \"react\";\n\nimport APIs from \"../../../../../availableAbilities\";\nimport {BsUnlockFill} from \"react-icons/bs\";\n\nconst methodVariant = {\n\t\"get\": \"primary\",\n\t\"post\": \"success\",\n\t\"delete\": \"danger\",\n\t\"put\": \"warning\",\n\t\"patch\": \"info\",\n\t\"head\": \"secondary\",\n\t\"other\": \"light\"\n};\n\nfunction getMethodVariant(method) {\n\tif (method && methodVariant[method]) {\n\t\treturn methodVariant[method];\n\t} else {\n\t\treturn methodVariant[\"other\"];\n\t}\n}\n\nfunction DisplayAbility({\n\t                        method,\n\t                        service,\n\t                        api,\n\t                        version,\n\t                        name,\n\t                        apiAbility,\n\t                        index,\n\t                        addAbility,\n\t                        removeAbility,\n\t                        env,\n\t                        abilityPath\n                        }) {\n\tlet restricted = (service && service[version].apisPermission === \"restricted\");\n\tlet available = false;\n\tif (restricted) {\n\t\tif (service && service[version] && service[version][method] && service[version][method].apis && service[version][method].apis[api]) {\n\t\t\tavailable = true;\n\t\t}\n\t} else if (service) {\n\t\tavailable = true;\n\t}\n\t\n\treturn (\n\t\tapiAbility &&\n\t\t<div>\n\t\t\t{available ?\n\t\t\t\t<Alert variant={getMethodVariant(method)}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col className=\"font-weight-bold small\">\n\t\t\t\t\t\t\t<Form.Check type=\"switch\"\n\t\t\t\t\t\t\t            id={name + \"/\" + method + \"/\" + index + \"_\" + abilityPath}\n\t\t\t\t\t\t\t            checked={available}\n\t\t\t\t\t\t\t            label={apiAbility.M}\n\t\t\t\t\t\t\t            onChange={() => removeAbility(name, method, version, api, env)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{apiAbility.isPublic &&\n\t\t\t\t\t\t\t<span className=\"font-weight-bold text-info small\"><BsUnlockFill\n\t\t\t\t\t\t\t\tclassName=\"mb-1\"/> Public</span>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col className=\"small\" xs={2} lg={1}>\n\t\t\t\t\t\t\t<span className=\"font-weight-bold small\">Available</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 float-left p-1\"\n\t\t\t\t\t\t\t        variant={getMethodVariant(method)}><small>{method.toUpperCase()}</small></Button>\n\t\t\t\t\t\t\t<span className=\"float-left small mt-1\"><Badge variant=\"info\"\n\t\t\t\t\t\t\t                                               className=\"mr-1\">{name}</Badge>{api}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t\t:\n\t\t\t\t<Alert variant=\"light\" className=\"border-dark\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col className=\"font-weight-bold small\">\n\t\t\t\t\t\t\t<Form.Check type=\"switch\"\n\t\t\t\t\t\t\t            id={name + \"/\" + method + \"/\" + index + \"_\" + abilityPath}\n\t\t\t\t\t\t\t            checked={available}\n\t\t\t\t\t\t\t            label={apiAbility.M}\n\t\t\t\t\t\t\t            onChange={() => addAbility(name, method, version, api, env, apiAbility.isPublic)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{apiAbility.isPublic &&\n\t\t\t\t\t\t\t<span className=\"font-weight-bold text-info small\"><BsUnlockFill\n\t\t\t\t\t\t\t\tclassName=\"mb-1\"/> Public</span>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col className=\"small\" xs={2} lg={1}>\n\t\t\t\t\t\t\t<span className=\"font-weight-bold small\">Not available</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 float-left p-1\"\n\t\t\t\t\t\t\t        variant={getMethodVariant(method)}><small>{method.toUpperCase()}</small></Button>\n\t\t\t\t\t\t\t<span className=\"float-left small mt-1\"><Badge variant=\"info\"\n\t\t\t\t\t\t\t                                               className=\"mr-1\">{name}</Badge>{api}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t}\n\t\t</div>\n\t);\n}\n\nexport default function Granular({service, name, addAbility, removeAbility, env, abilityPath}) {\n\treturn (\n\t\tservice ?\n\t\t\tObject.keys(service).map((version, index) => (\n\t\t\t\t<div key={index}>\n\t\t\t\t\t{APIs.versions[name] === version ?\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{Object.keys(methodVariant).map((method, index) => (\n\t\t\t\t\t\t\t\tAPIs[abilityPath][name] && APIs[abilityPath][name][method] &&\n\t\t\t\t\t\t\t\tObject.keys(APIs[abilityPath][name][method]).map((api, index) => (\n\t\t\t\t\t\t\t\t\t<DisplayAbility\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tmethod={method}\n\t\t\t\t\t\t\t\t\t\tservice={service}\n\t\t\t\t\t\t\t\t\t\tapi={api}\n\t\t\t\t\t\t\t\t\t\tversion={version}\n\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\tenv={env}\n\t\t\t\t\t\t\t\t\t\tapiAbility={APIs[abilityPath][name][method][api]}\n\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\taddAbility={addAbility}\n\t\t\t\t\t\t\t\t\t\tremoveAbility={removeAbility}\n\t\t\t\t\t\t\t\t\t\tabilityPath={abilityPath}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<span> wrong version for {name} @ {version}</span>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t))\n\t\t\t:\n\t\t\t<div>\n\t\t\t\t{Object.keys(methodVariant).map((method, index) => (\n\t\t\t\t\tAPIs[abilityPath][name] && APIs[abilityPath][name][method] &&\n\t\t\t\t\tObject.keys(APIs[abilityPath][name][method]).map((api, index) => (\n\t\t\t\t\t\t<DisplayAbility\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tmethod={method}\n\t\t\t\t\t\t\tservice={service}\n\t\t\t\t\t\t\tapi={api}\n\t\t\t\t\t\t\tenv={env}\n\t\t\t\t\t\t\tversion={APIs.versions[name]}\n\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\tapiAbility={APIs[abilityPath][name][method][api]}\n\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\taddAbility={addAbility}\n\t\t\t\t\t\t\tremoveAbility={removeAbility}\n\t\t\t\t\t\t\tabilityPath={abilityPath}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))\n\t\t\t\t))}\n\t\t\t</div>\n\t);\n}","import {Button, ListGroup, ListGroupItem, Modal, Tab, Tabs} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport _ from \"lodash\";\n\nimport Granular from \"./Granular\"\n\nimport getACL from \"../lib/scopeAclLib\";\nimport APIs from \"../../../../../availableAbilities\";\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\n\nimport config from \"../../../../../config\";\n\nconst multitenantService = MultitenantService.getService();\n\nfunction getAllServiceAbilitiesAcl(name, service) {\n\tif (APIs.abilities[name] || APIs.default[name]) {\n\t\tservice.apisPermission = \"restricted\";\n\t\tif (APIs.abilities[name]) {\n\t\t\tObject.keys(APIs.abilities[name]).map((method, index) => {\n\t\t\t\tservice[method] = {\n\t\t\t\t\t\"apis\": {}\n\t\t\t\t};\n\t\t\t\tObject.keys(APIs.abilities[name][method]).map((api, index) => {\n\t\t\t\t\tservice[method].apis[api] = {\"access\": true};\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\t\treturn true;\n\t\t\t});\n\t\t}\n\t\tif (APIs.default[name]) {\n\t\t\tObject.keys(APIs.default[name]).map((method, index) => {\n\t\t\t\tservice[method] = {\n\t\t\t\t\t\"apis\": {}\n\t\t\t\t};\n\t\t\t\tObject.keys(APIs.default[name][method]).map((api, index) => {\n\t\t\t\t\tif (APIs.default[name][method][api].isPublic) {\n\t\t\t\t\t\tservice[method].apis[api] = {\"access\": false};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tservice[method].apis[api] = {\"access\": true};\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\t\treturn true;\n\t\t\t});\n\t\t}\n\t\treturn service;\n\t} else {\n\t\treturn service;\n\t}\n}\n\nfunction initializeACL(opts, scope) {\n\tlet pack = _.merge({}, opts);\n\tObject.keys(pack.acl).map((env, index) => {\n\t\tif (env === config.consoleEnvironment) {\n\t\t\tif (!pack.aclTypeByEnv || !pack.aclTypeByEnv[env] || pack.aclTypeByEnv[env] !== \"granular\") {\n\t\t\t\tif (!pack.aclTypeByEnv) {\n\t\t\t\t\tpack.aclTypeByEnv = {};\n\t\t\t\t}\n\t\t\t\tpack.aclTypeByEnv[env] = \"granular\";\n\t\t\t\tObject.keys(pack.acl[env]).map((name, index) => {\n\t\t\t\t\tlet service = pack.acl[env][name];\n\t\t\t\t\tlet obj = {};\n\t\t\t\t\tfor (let i = 0; i < service.length; i++) {\n\t\t\t\t\t\tif (service[i].version) {\n\t\t\t\t\t\t\tlet version = service[i].version;\n\t\t\t\t\t\t\tif (scope.acl[env][name][version]) {\n\t\t\t\t\t\t\t\tobj[version] = getACL(scope.acl[env][name][version], service[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!obj[version].apisPermission || obj[version].apisPermission !== \"restricted\") {\n\t\t\t\t\t\t\t\tobj[version] = getAllServiceAbilitiesAcl(name, obj[version]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpack.acl[env][name] = obj;\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tObject.keys(pack.acl[env]).map((name, index) => {\n\t\t\t\t\tObject.keys(pack.acl[env][name]).map((version, index) => {\n\t\t\t\t\t\tif (!pack.acl[env][name][version].apisPermission || pack.acl[env][name][version].apisPermission !== \"restricted\") {\n\t\t\t\t\t\t\tpack.acl[env][name][version] = getAllServiceAbilitiesAcl(name, pack.acl[env][name][version]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t});\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t});\n\t\n\treturn pack;\n}\n\nexport {initializeACL}\nexport default function AclModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [initialized, setInitialized] = useState(false);\n\t\n\tconst handleClose = () => {\n\t\tsetInitialized(false);\n\t\tsetModalOpt({\"show\": false, opts: null, scope: null});\n\t};\n\t\n\tfunction removeAbility(name, method, version, api, env) {\n\t\tif (modalOpt.opts.acl[env][name]) {\n\t\t\tif (modalOpt.opts.acl[env][name][version]) {\n\t\t\t\tif (modalOpt.opts.acl[env][name][version][method]) {\n\t\t\t\t\tif (modalOpt.opts.acl[env][name][version][method].apis) {\n\t\t\t\t\t\tif (modalOpt.opts.acl[env][name][version][method].apis[api]) {\n\t\t\t\t\t\t\tdelete modalOpt.opts.acl[env][name][version][method].apis[api];\n\t\t\t\t\t\t\tsetModalOpt({...modalOpt});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction addAbility(name, method, version, api, env, isPublic) {\n\t\tconsole.log(\"add\", name, version, method, api)\n\t\tif (!modalOpt.opts.acl[env][name]) {\n\t\t\tmodalOpt.opts.acl[env][name] = {};\n\t\t}\n\t\tif (!modalOpt.opts.acl[env][name][version]) {\n\t\t\tmodalOpt.opts.acl[env][name][version] = {};\n\t\t}\n\t\tmodalOpt.opts.acl[env][name][version].access = true;\n\t\tmodalOpt.opts.acl[env][name][version].apisPermission = \"restricted\";\n\t\tif (!modalOpt.opts.acl[env][name][version][method]) {\n\t\t\tmodalOpt.opts.acl[env][name][version][method] = {\n\t\t\t\t\"apis\": {}\n\t\t\t};\n\t\t}\n\t\tmodalOpt.opts.acl[env][name][version][method].apis[api] = {\n\t\t\t\"access\": isPublic ? false : true\n\t\t}\n\t\tsetModalOpt({...modalOpt});\n\t}\n\t\n\tfunction validateForm() {\n\t\treturn true;\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet fields = {\n\t\t\t\t\"id\": modalOpt.opts._id,\n\t\t\t\t\"code\": modalOpt.opts.code,\n\t\t\t\t\"type\": \"granular\",\n\t\t\t\t\"env\": config.consoleEnvironment,\n\t\t\t\t\"acl\": modalOpt.opts.acl[config.consoleEnvironment]\n\t\t\t};\n\t\t\tawait multitenantService.editConsolePackageAclEnv(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.editPackage\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tif (modalOpt.opts && modalOpt.opts.acl) {\n\t\t\t// Object.keys(modalOpt.opts.acl).map((env, index) => {\n\t\t\t// \tif (env === config.consoleEnvironment) {\n\t\t\t// \t\tif (!modalOpt.opts.aclTypeByEnv || !modalOpt.opts.aclTypeByEnv[env] || modalOpt.opts.aclTypeByEnv[env] !== \"granular\") {\n\t\t\t// \t\t\tif (!modalOpt.opts.aclTypeByEnv) {\n\t\t\t// \t\t\t\tmodalOpt.opts.aclTypeByEnv = {};\n\t\t\t// \t\t\t}\n\t\t\t// \t\t\tmodalOpt.opts.aclTypeByEnv[env] = \"granular\";\n\t\t\t// \t\t\tObject.keys(modalOpt.opts.acl[env]).map((name, index) => {\n\t\t\t// \t\t\t\tlet service = modalOpt.opts.acl[env][name];\n\t\t\t// \t\t\t\tlet obj = {};\n\t\t\t// \t\t\t\tfor (let i = 0; i < service.length; i++) {\n\t\t\t// \t\t\t\t\tif (service[i].version) {\n\t\t\t// \t\t\t\t\t\tlet version = service[i].version;\n\t\t\t// \t\t\t\t\t\tlet scope = modalOpt.scope.acl[env][name]\n\t\t\t// \t\t\t\t\t\tif (scope[version]) {\n\t\t\t// \t\t\t\t\t\t\tobj[version] = getACL(scope[version], service[i]);\n\t\t\t// \t\t\t\t\t\t}\n\t\t\t// \t\t\t\t\t\tif (!obj[version].apisPermission || obj[version].apisPermission !== \"restricted\") {\n\t\t\t// \t\t\t\t\t\t\tobj[version] = getAllServiceAbilitiesAcl(name, obj[version]);\n\t\t\t// \t\t\t\t\t\t}\n\t\t\t// \t\t\t\t\t}\n\t\t\t// \t\t\t\t}\n\t\t\t// \t\t\t\tmodalOpt.opts.acl[env][name] = obj;\n\t\t\t// \t\t\t\treturn true;\n\t\t\t// \t\t\t});\n\t\t\t// \t\t\tsetModalOpt({...modalOpt});\n\t\t\t// \t\t} else {\n\t\t\t// \t\t\tObject.keys(modalOpt.opts.acl[env]).map((name, index) => {\n\t\t\t// \t\t\t\tObject.keys(modalOpt.opts.acl[env][name]).map((version, index) => {\n\t\t\t// \t\t\t\t\tif (!modalOpt.opts.acl[env][name][version].apisPermission || modalOpt.opts.acl[env][name][version].apisPermission !== \"restricted\") {\n\t\t\t// \t\t\t\t\t\tmodalOpt.opts.acl[env][name][version] = getAllServiceAbilitiesAcl(name, modalOpt.opts.acl[env][name][version]);\n\t\t\t// \t\t\t\t\t}\n\t\t\t// \t\t\t\t\treturn true;\n\t\t\t// \t\t\t\t});\n\t\t\t// \t\t\t\treturn true;\n\t\t\t// \t\t\t});\n\t\t\t// \t\t}\n\t\t\t// \t}\n\t\t\t// \treturn true;\n\t\t\t// });\n\t\t\tsetInitialized(true);\n\t\t}\n\t}, [modalOpt, setModalOpt]);\n\t\n\treturn (\n\t\tmodalOpt.opts && initialized &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.packageInfo\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{t(\"soajs:fields.Code\")}:</span> {modalOpt.opts.code}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{t(\"soajs:fields.Name\")}:</span> {modalOpt.opts.name}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t{t(\"soajs:fields.Description\")}:</span> {modalOpt.opts.description}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t</ListGroup>\n\t\t\t\t<hr/>\n\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"main\" id=\"abilities\">\n\t\t\t\t\t<Tab eventKey=\"main\" title={t(\"soajs:titles.MainAbilities\")}>\n\t\t\t\t\t\t{modalOpt.opts.acl && Object.keys(modalOpt.opts.acl).map((env, index) => (\n\t\t\t\t\t\t\tenv === config.consoleEnvironment &&\n\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t{Object.keys(APIs.abilities).map((name, index) => (\n\t\t\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t\t\t<Granular\n\t\t\t\t\t\t\t\t\t\t\tservice={modalOpt.opts.acl[env][name]}\n\t\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\t\tenv={env}\n\t\t\t\t\t\t\t\t\t\t\taddAbility={addAbility}\n\t\t\t\t\t\t\t\t\t\t\tremoveAbility={removeAbility}\n\t\t\t\t\t\t\t\t\t\t\tabilityPath={\"abilities\"}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Tab>\n\t\t\t\t\t<Tab eventKey=\"default\" title={t(\"soajs:titles.DefaultAbilities\")}>\n\t\t\t\t\t\t{modalOpt.opts.acl && Object.keys(modalOpt.opts.acl).map((env, index) => (\n\t\t\t\t\t\t\tenv === config.consoleEnvironment &&\n\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t{Object.keys(APIs.default).map((name, index) => (\n\t\t\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t\t\t<Granular\n\t\t\t\t\t\t\t\t\t\t\tservice={modalOpt.opts.acl[env][name]}\n\t\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\t\tenv={env}\n\t\t\t\t\t\t\t\t\t\t\taddAbility={addAbility}\n\t\t\t\t\t\t\t\t\t\t\tremoveAbility={removeAbility}\n\t\t\t\t\t\t\t\t\t\t\tabilityPath={\"default\"}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Tab>\n\t\t\t\t</Tabs>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {RiSafe2Fill} from \"react-icons/ri\";\n\nexport default function Acl({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.Acl\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button size=\"sm\" variant=\"dark\" {...props}>\n\t\t\t\t<RiSafe2Fill/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport {Table, Button, Jumbotron} from \"react-bootstrap\";\n\nimport {GoDiffAdded} from \"react-icons/go\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../services\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nimport DeleteModal from \"./DeleteModal\"\nimport InfoModal from \"./InfoModal/InfoModal\";\nimport AddModal from \"./AddModal\";\nimport EditModal from \"./EditModal\";\nimport AclModal, {initializeACL} from \"./AclModal/AclModal\";\n\nimport DeleteButton from \"../../../buttons/Delete\";\nimport ViewButton from \"../../../buttons/View\";\nimport EditButton from \"../../../buttons/Edit\";\nimport AclButton from \"../../../buttons/Acl\";\n\nconst multitenantService = MultitenantService.getService();\n\nasync function onLoad(setFields, isSubscribed) {\n\ttry {\n\t\tconst product = await multitenantService.getMyConsoleProduct();\n\t\tif (isSubscribed) {\n\t\t\tsetFields(product);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Packages() {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\", \"organization\"]);\n\tconst [fields, setFields] = useState(null);\n\t\n\tconst [modalInfoOpt, setModalInfoOpt] = useState({\"show\": false, opts: null, scope: null});\n\tconst modalInfoOptShow = (pack, scope) => setModalInfoOpt({\"show\": true, opts: pack, scope: scope});\n\t\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, opts: null});\n\tconst modalDeleteOptShow = (opt) => setModalDeleteOpt({\"show\": true, opts: opt});\n\t\n\tconst [modalEditOpt, setModalEditOpt] = useState({\"show\": false, opts: null});\n\tconst modalEditOptShow = (opt) => setModalEditOpt({\"show\": true, opts: opt});\n\t\n\tconst [modalAclOpt, setModalAclOpt] = useState({\"show\": false, opts: null, scope: null});\n\tconst modalAclOptShow = (opt, scope) => setModalAclOpt({\"show\": true, opts: opt, scope: scope});\n\t\n\tconst [modalAddOpt, setModalAddOpt] = useState({\"show\": false, opts: null});\n\tconst modalAddOptShow = (opt) => setModalAddOpt({\"show\": true, opts: opt});\n\t\n\tasync function reLoad() {\n\t\tawait onLoad(setFields, true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tonLoad(setFields, isSubscribed);\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\tfields && (\n\t\t\t<>\n\t\t\t\t<AddModal\n\t\t\t\t\tmodalOpt={modalAddOpt}\n\t\t\t\t\tsetModalOpt={setModalAddOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<EditModal\n\t\t\t\t\tmodalOpt={modalEditOpt}\n\t\t\t\t\tsetModalOpt={setModalEditOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<DeleteModal\n\t\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<InfoModal\n\t\t\t\t\tmodalOpt={modalInfoOpt}\n\t\t\t\t\tsetModalOpt={setModalInfoOpt}\n\t\t\t\t/>\n\t\t\t\t<AclModal\n\t\t\t\t\tmodalOpt={modalAclOpt}\n\t\t\t\t\tsetModalOpt={setModalAclOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<Jumbotron className=\"p-4 mb-3\">\n\t\t\t\t\t<span className=\"font-weight-bold\">{fields.code}:</span> {fields.name}\n\t\t\t\t\t<hr/>\n\t\t\t\t\t{fields.description}\n\t\t\t\t</Jumbotron>\n\t\t\t\t<hr/>\n\t\t\t\t<div>\n\t\t\t\t\t<h5 className=\"float-left\">{t(\"soajs:titles.packages\")}</h5>\n\t\t\t\t\t{ability.can('console_package', 'add') &&\n\t\t\t\t\t<Button variant=\"success\" className=\"float-right\" size=\"sm\"\n\t\t\t\t\t        onClick={() => modalAddOptShow({\"_id\": fields._id})}\n\t\t\t\t\t>\n\t\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t\t</Button>}\n\t\t\t\t</div>\n\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>{t(\"soajs:buttons.Actions\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Code\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Name\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Description\")}</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t{fields.packages.map((pack, index) => (\n\t\t\t\t\t\t<tr key={index} className=\"small\">\n\t\t\t\t\t\t\t<td nowrap=\"true\">\n\t\t\t\t\t\t\t\t<ViewButton\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalInfoOptShow(pack, fields.scope);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ability.can('console_package', 'delete') &&\n\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tpack._id = fields._id;\n\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow(pack);\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{ability.can('console_package', 'edit') &&\n\t\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tpack._id = fields._id;\n\t\t\t\t\t\t\t\t\t\tmodalEditOptShow(pack);\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{ability.can('console_package', 'acl') &&\n\t\t\t\t\t\t\t\t<AclButton\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tpack._id = fields._id;\n\t\t\t\t\t\t\t\t\t\tlet convertedPack = initializeACL(pack, fields.scope);\n\t\t\t\t\t\t\t\t\t\tmodalAclOptShow(convertedPack, fields.scope);\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>{pack.code}</td>\n\t\t\t\t\t\t\t<td nowrap=\"true\">{pack.name}</td>\n\t\t\t\t\t\t\t<td>{pack.description}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t\t</tbody>\n\t\t\t\t</Table>\n\t\t\t</>\n\t\t)\n\t);\n}","import {Alert} from \"react-bootstrap\";\nimport React from \"react\";\n\nexport default function Authentication() {\n\t\n\treturn (\n\t\t<>\n\t\t\t<Alert variant=\"info\" className=\"mt-4 mb-4\">\n\t\t\t\t<b>coming soon</b>\n\t\t\t\t<hr/>\n\t\t\t\tTo enable 3rd party authentications like Active Directory and/or LDAP.\n\t\t\t</Alert>\n\t\t\n\t\t</>\n\t);\n}","import {Alert} from \"react-bootstrap\";\nimport React from \"react\";\n\nexport default function Integration() {\n\t\n\treturn (\n\t\t<>\n\t\t\t<Alert variant=\"info\" className=\"mt-4 mb-4\">\n\t\t\t\t<b>coming soon</b>\n\t\t\t\t<hr/>\n\t\t\t\tTo turn on IaC integration to SOAJS API\n\t\t\t</Alert>\n\t\t\n\t\t</>\n\t);\n}","import {Card} from \"react-bootstrap\";\nimport React from \"react\";\n\nexport default function Configuration() {\n\t\n\treturn (\n\t\t<>\n\t\t\t<Card>\n\t\t\t\t<Card.Header>\n\t\t\t\t\tThis Section will provide you some of the information you need for Continuous Delivery.\n\t\t\t\t</Card.Header>\n\t\t\t\t<Card.Body>\n\t\t\t\t\tHere is some of the Environment Variables you would need :\n\t\t\t\t\t<br/>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<b>SOAJS_URL:</b> The url to the your console api.<br/>\n\t\t\t\t\t<b>SOAJS_key:</b> The external key to your console tenant application.<br/>\n\t\t\t\t\t<b>SOAJS_cd_auth:</b> A valid continuous delivery token.<br/>\n\t\t\t\t\t<hr/>\n\t\t\t\t\t<a href=\"https://soajsorg.atlassian.net/wiki/x/ZYBBa\"> Click here </a>to Learn more about Continuous\n\t\t\t\t\tDelivery\n\t\t\t\t</Card.Body>\n\t\t\t</Card>\n\t\t\n\t\t</>\n\t);\n}","import {Button, Modal, Form} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../services\";\n\nconst infraService = InfraService.getService();\n\nexport default function AddModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\tconst [fields, setFields] = useState({\n\t\t\"label\": \"\"\n\t});\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\tvalid = (valid && fields.label.length > 0);\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait infraService.addToken(fields.label);\n\t\t\tNotificationManager.success(t(\"soajs:messages.addToken\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt) {\n\t\t\tsetFields({\n\t\t\t\t\"label\": \"\"\n\t\t\t});\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tokenAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Label\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"label\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.label}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"warning\"\n\t\t\t\t\tonClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Alert, Button, Badge} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {GoDiffAdded} from \"react-icons/go\";\n\nimport AddModal from \"./AddModal\";\n\nimport {InfraService} from \"../../../../services\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nimport DeleteButton from \"../../../buttons/Delete\";\n\nconst infraService = InfraService.getService();\n\nasync function onLoad(setFields, isSubscribed) {\n\ttry {\n\t\tconst response = await infraService.getCDTokens();\n\t\tif (isSubscribed && response) {\n\t\t\tsetFields(response);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Tokens() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [fields, setFields] = useState([]);\n\t\n\tconst [addModalOpt, setAddModalOpt] = useState({\"show\": false});\n\tconst handleAddShow = () => setAddModalOpt({\"show\": true});\n\t\n\tasync function reLoad() {\n\t\tawait onLoad(setFields, true);\n\t}\n\t\n\tasync function deleteToken(rec) {\n\t\ttry {\n\t\t\tawait infraService.deleteCDToken(rec.token);\n\t\t\tNotificationManager.success(t(\"soajs:messages.deleteToken\"));\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function updateToken(rec, status) {\n\t\ttry {\n\t\t\tawait infraService.updateCDToken(rec.token, status);\n\t\t\tNotificationManager.success(t(\"soajs:messages.updateToken\"));\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tonLoad(setFields, isSubscribed).catch();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<>\n\t\t\t<AddModal\n\t\t\t\tmodalOpt={addModalOpt}\n\t\t\t\tsetModalOpt={setAddModalOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<div>\n\t\t\t\t<h4 className=\"float-left\">{t(\"soajs:titles.CDToken\")}</h4>\n\t\t\t\t{ability.can('registry_custom', 'add') &&\n\t\t\t\t<Button variant=\"success\" className=\"float-right\" size=\"sm\"\n\t\t\t\t        onClick={() => {\n\t\t\t\t\t        handleAddShow();\n\t\t\t\t        }}\n\t\t\t\t>\n\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>}\n\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t</div>\n\t\t\t<hr/>\n\t\t\t{fields.map((rec, i) => (\n\t\t\t\t<Alert key={i} variant=\"light\" className=\"mt-2 mb-2\" style={{\"borderColor\": \"#c6c8ca\"}}>\n\t\t\t\t\t{ability.can('infra_cd_token', 'delete') &&\n\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\tclassName=\"float-left mr-2\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tdeleteToken(rec).catch();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\t{rec.status === \"active\" &&\n\t\t\t\t\t<Button variant=\"warning\"\n\t\t\t\t\t        className=\"float-left mr-2\"\n\t\t\t\t\t        size=\"sm\"\n\t\t\t\t\t        disabled={!ability.can('infra_cd_token', 'update')}\n\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t        updateToken(rec, \"inactive\").catch();\n\t\t\t\t\t        }}\n\t\t\t\t\t>Deactivate</Button>}\n\t\t\t\t\t{rec.status === \"inactive\" &&\n\t\t\t\t\t<Button variant=\"success\"\n\t\t\t\t\t        className=\"float-left mr-2\"\n\t\t\t\t\t        size=\"sm\"\n\t\t\t\t\t        disabled={!ability.can('infra_cd_token', 'update')}\n\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t        updateToken(rec, \"active\").catch();\n\t\t\t\t\t        }}\n\t\t\t\t\t>Activate</Button>}\n\t\t\t\t\t{rec.label &&\n\t\t\t\t\t<Badge variant=\"dark\" className=\" float-right mt-2 ml-2\">\n\t\t\t\t\t\t{rec.label}\n\t\t\t\t\t</Badge>\n\t\t\t\t\t}\n\t\t\t\t\t<small style={{\n\t\t\t\t\t\t\"wordBreak\": \"break-all\"\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<span className=\"small float-left mt-2\">\n\t\t\t\t\t\t{rec.token}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</small>\n\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t</Alert>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {Alert, Row, Col, Button, useAccordionToggle, Accordion} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../services\";\nimport AutoPagination from \"../../../../lib/AutoPagination\";\n\nimport JsonModal from \"../../../../soajs/urac/components/JsonModal\";\nimport {FcCollapse, FcExpand} from \"react-icons/fc\";\n\nfunction getDate(timestamp) {\n\tlet dateStr = \"\";\n\tif (timestamp) {\n\t\tlet date = new Date(timestamp);\n\t\tdateStr = dateStr +\n\t\t\tdate.getDate() +\n\t\t\t\"/\" + (date.getMonth() + 1) +\n\t\t\t\"/\" + date.getFullYear() +\n\t\t\t\" - \" + date.getHours() +\n\t\t\t\":\" + date.getMinutes() +\n\t\t\t\":\" + date.getSeconds()\n\t}\n\treturn dateStr;\n}\n\nfunction CustomToggle({children, eventKey, handleClick}) {\n\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\thandleClick();\n\t});\n\treturn (\n\t\t<div className=\"float-right\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nconst consoleService = ConsoleService.getService();\n\nasync function onLoad(setFields, setPagination, currentPage, isSubscribed) {\n\ttry {\n\t\tlet c = {\"limit\": 12, \"skip\": (currentPage - 1) * 12};\n\t\t\n\t\tconst response = await consoleService.getLedger(c);\n\t\tif (isSubscribed && response && response.items) {\n\t\t\tsetFields(response.items);\n\t\t\tsetPagination(\n\t\t\t\t{\n\t\t\t\t\t\"totalItems\": response.count,\n\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\"itemsPerPage\": response.limit\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\n\nexport default function Notifications() {\n\tconst [fields, setFields] = useState([]);\n\tconst [activeKey, setActiveKey] = useState(0);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\t\n\tfunction showJson(input, title) {\n\t\tlet json = input;\n\t\tif (typeof json === \"string\") {\n\t\t\ttry {\n\t\t\t\tjson = JSON.parse(json);\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\tmodalOptShow(json, title);\n\t}\n\t\n\tasync function reLoad(page) {\n\t\tawait onLoad(setFields, setPagination, page || currentPage, true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tonLoad(setFields, setPagination, 1, isSubscribed);\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\tfields.length > 0 &&\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t{fields.map((d, i) => (\n\t\t\t\t\t<Alert key={i} variant=\"light\" className=\"mt-2 mb-2\" style={{\"borderColor\": \"#c6c8ca\"}}>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<span className=\"float-left\">\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold mr-5\">{d.type} > {d.section}</span>\n\t\t\t\t\t\t\t\t[<span className=\"small text-info mr-2\">{d.env}:</span>\n\t\t\t\t\t\t\t\t<span className=\"small\">{getDate(d.time)}</span>]\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\t\teventKey={i + 1}\n\t\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\t\tif (activeKey === (i + 1)) {\n\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(i + 1);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{activeKey === (i + 1) ? <FcExpand /> :\n\t\t\t\t\t\t\t\t\t\t<FcCollapse />}\n\t\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t\t\t<span className=\"float-right mr-2\">{d.action}: {d.status}</span>\n\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={i + 1}>\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<hr className=\"mt-2 mb-1\"/>\n\t\t\t\t\t\t\t\t<Row className=\"mt-2 small\">\n\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<span className=\"float-left\">\n\t\t\t\t\t\t\t{d.locator.join(\"- \")}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"link\" size=\"sm\"\n\t\t\t\t\t\t\t\t\t\t        style={{\"borderColor\": \"#c6c8ca\"}}\n\t\t\t\t\t\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t        showJson(d.input);\n\t\t\t\t\t\t\t\t\t\t        }}>request</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right mr-2\" variant=\"link\" size=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\"borderColor\": \"#c6c8ca\"}}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tshowJson(d.output);\n\t\t\t\t\t\t\t\t\t\t\t}}>response</Button>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<Button className=\"float-right mr-4\" variant=\"link\" size=\"sm\"\n\t\t\t\t\t\t\t\t\t\t        style={{\"borderColor\": \"#c6c8ca\"}}\n\t\t\t\t\t\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t        showJson(d.who);\n\t\t\t\t\t\t\t\t\t\t        }}>{d.who.username}</Button>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Alert>\n\t\t\t\t))}\n\t\t\t</Accordion>\n\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t<AutoPagination\n\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\treLoad(p);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"clearfix\"></div>\n\t\t</>\n\t)\n}\n;","import {Button, Card, CardDeck, Form, Jumbotron} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport _ from \"lodash\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../services\";\nimport {UracService} from \"../../../../soajs/urac/services\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nconst uracService = UracService.getService();\nconst infraService = InfraService.getService();\n\nfunction isGroupSelected(settings, value) {\n\treturn (\n\t\tsettings &&\n\t\tsettings.acl &&\n\t\tsettings.acl.groups &&\n\t\tsettings.acl.groups.value &&\n\t\tsettings.acl.groups.value.includes(value)\n\t);\n}\n\nexport default function ConfigureModalGroups({settings, id, handleAction, handleClose}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [groups, setGroups] = useState([]);\n\tconst [fields, setFields] = useState({\n\t\t\"groups\": [],\n\t\t\"type\": \"whitelist\"\n\t});\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\t\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction whitelistBlacklist(checked, what) {\n\t\tlet obj = fields;\n\t\tobj.type = what;\n\t\tsetFields({...obj});\n\t}\n\t\n\tfunction onChangeGroup(checked, code) {\n\t\tlet obj = fields;\n\t\tif (checked) {\n\t\t\tobj.groups.push(code);\n\t\t} else {\n\t\t\t_.pullAll(obj.groups, [code]);\n\t\t}\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleDelete(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tawait infraService.deleteInfraAccountAcl(id);\n\t\t\tNotificationManager.success(t(\"soajs:messages.envGroupDeleteSuccess\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function handleSave(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tawait infraService.saveInfraAccountAcl({\n\t\t\t\t\"id\": id,\n\t\t\t\t\"groups\": fields.groups,\n\t\t\t\t\"type\": fields.type\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.envGroupSaveSuccess\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (settings && settings.acl && settings.acl.groups) {\n\t\t\t\t\tsetFields({\n\t\t\t\t\t\t\"groups\": settings.acl.groups.value,\n\t\t\t\t\t\t\"type\": settings.acl.groups.type\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tconst _groups = await uracService.getGroups();\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetGroups(_groups);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, [settings]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-4 m-0 bg-light border-dark small\">\n\t\t\t\t<fieldset>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"whitelist\"\n\t\t\t\t\t\tname=\"groupsType\"\n\t\t\t\t\t\tid=\"groupsType1\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"whitelist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"whitelist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"blacklist\"\n\t\t\t\t\t\tname=\"groupsType\"\n\t\t\t\t\t\tid=\"groupsType2\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"blacklist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"blacklist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</fieldset>\n\t\t\t</Jumbotron>\n\t\t\t<CardDeck className=\"ml-2\">\n\t\t\t\t{groups.map((oo, index) => (\n\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t      style={{\"minWidth\": '11rem', \"maxWidth\": '11rem'}}>\n\t\t\t\t\t\t<Card.Body className=\"p-2\">\n\t\t\t\t\t\t\t<Form.Check className=\"small\" key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t            defaultChecked={isGroupSelected(settings, oo.code)}\n\t\t\t\t\t\t\t            label={oo.code}\n\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t            onChangeGroup(event.target.checked, oo.code)\n\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</CardDeck>\n\t\t\t<hr/>\n\t\t\t<div>\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t\t\n\t\t\t\t{ability.can('env_aclGroups', 'update') &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleSave}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Save\")}\n\t\t\t\t</Button>}\n\t\t\t\t\n\t\t\t\t{ability.can('env_aclGroups', 'delete') &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"danger\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleDelete}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>}\n\t\t\t</div>\n\t\t</>\n\t);\n}","import {useTranslation} from \"react-i18next\";\nimport React from \"react\";\nimport {\n\tForm,\n\tJumbotron, Modal,\n\tTab, Tabs\n} from \"react-bootstrap\";\n\nimport ConfigureModalGroups from \"./ConfigureModalGroups\";\n\nexport default function ConfigureModal({modalOpt, setModalOpt, handleAfterSubmit}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, \"item\": null});\n\t\n\treturn (\n\t\t<>\n\t\t\t{modalOpt.item &&\n\t\t\t<Modal size=\"lg\" show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>{t(\"soajs:titles.clusterConfiguration\")}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t\n\t\t\t\t\t<Jumbotron className=\"p-4\">\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{modalOpt.item.label}</span>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t{modalOpt.item.description}\n\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t<Form onSubmit={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"acl\" id=\"config\">\n\t\t\t\t\t\t\t<Tab eventKey=\"acl\" title={t(\"soajs:fields.Groups\")}>\n\t\t\t\t\t\t\t\t<ConfigureModalGroups\n\t\t\t\t\t\t\t\t\tsettings={modalOpt.item.settings}\n\t\t\t\t\t\t\t\t\thandleAction={() => {\n\t\t\t\t\t\t\t\t\t\thandleAfterSubmit();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\thandleClose={handleClose}\n\t\t\t\t\t\t\t\t\tid={modalOpt.item._id}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</Form>\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../services\";\n\nconst infraService = InfraService.getService();\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait infraService.deleteInfraAccount(modalOpt.item._id);\n\t\t\tNotificationManager.success(t(\"soajs:messages.deleteCluster\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>{t(\"soajs:messages.deleteQuestion\")}</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form, Col} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\n\nimport {JsonEditor, NotificationManager} from \"../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../services\";\n\nconst infraService = InfraService.getService();\n\nlet _json = null;\nexport default function AddModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\tconst [fields, setFields] = useState({\n\t\t\"label\": \"\",\n\t\t\"description\": \"\",\n\t\t\"url\": \"\",\n\t\t\"port\": 0,\n\t\t\"token\": \"\",\n\t\t\"type\": \"secret\"\n\t});\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.label.length > 0 &&\n\t\t\tfields.description.length > 0 &&\n\t\t\tfields.token.length > 0 &&\n\t\t\tfields.url.length > 0 &&\n\t\t\tfields.port > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: event.target.value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet data = {\n\t\t\t\t\"label\": fields.label,\n\t\t\t\t\"description\": fields.description,\n\t\t\t\t\"url\": fields.url,\n\t\t\t\t\"port\": parseInt(fields.port),\n\t\t\t\t\"token\": fields.token,\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"ca\": _json\n\t\t\t};\n\t\t\tawait infraService.addInfraAccount(data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.addInfraAccount\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\tif (json) {\n\t\t\t_json = json;\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.clusterAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Label\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"label\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.label}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Url\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"url\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.url}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Port\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"port\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={fields.port}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Token\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"token\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\tvalue={fields.token}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Certificate\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\tjson={_json}\n\t\t\t\t\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form, Col} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\n\nimport {JsonEditor, NotificationManager} from \"../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../services\";\n\nconst infraService = InfraService.getService();\n\nexport default function UpdateModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\tconst [fields, setFields] = useState({\n\t\t\"id\": \"\",\n\t\t\"label\": \"\",\n\t\t\"description\": \"\",\n\t\t\"url\": \"\",\n\t\t\"port\": 0,\n\t\t\"token\": \"\",\n\t\t\"type\": \"secret\",\n\t\t\"ca\": null\n\t});\n\tlet _ca = null;\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.label.length > 0 &&\n\t\t\tfields.description.length > 4 &&\n\t\t\tfields.token.length > 0 &&\n\t\t\tfields.url.length > 0 &&\n\t\t\tfields.port > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: event.target.value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tfields.port = parseInt(fields.port);\n\t\t\tfields.ca = _ca || fields.ca;\n\t\t\tawait infraService.updateInfraAccount(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.updateInfraAccount\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\tif (json) {\n\t\t\t_ca = json;\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields({\n\t\t\t\t\"id\": modalOpt.item._id,\n\t\t\t\t\"label\": modalOpt.item.label,\n\t\t\t\t\"description\": modalOpt.item.description,\n\t\t\t\t\"url\": modalOpt.item.configuration.url,\n\t\t\t\t\"port\": modalOpt.item.configuration.port,\n\t\t\t\t\"token\": \"\",\n\t\t\t\t\"type\": \"secret\",\n\t\t\t\t\"ca\": null\n\t\t\t});\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.clusterUpdate\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Label\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"label\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.label}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Url\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"url\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.url}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Port\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"port\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={fields.port}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Token\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"token\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\tvalue={fields.token}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Certificate\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\tjson={fields.ca}\n\t\t\t\t\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {\n\tAccordion,\n\tAlert, Button,\n\tCard,\n\tCardDeck,\n\tListGroup,\n\tListGroupItem,\n\tuseAccordionToggle\n} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {GoDiffAdded} from \"react-icons/go\";\nimport {useTranslation} from \"react-i18next\";\nimport {FcCollapse, FcExpand} from \"react-icons/fc\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../services\";\n\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\nimport DeleteButton from \"../../../buttons/Delete\";\nimport EditButton from \"../../../buttons/Edit\";\nimport AclButton from \"../../../buttons/Acl\";\n\nimport ConfigureModal from \"./ConfigureModal\";\nimport DeleteModal from \"./DeleteModal\";\nimport AddModal from \"./AddModal\";\nimport UpdateModal from \"./UpdateModal\";\n\nconst infraService = InfraService.getService();\n\nfunction CustomToggle({children, eventKey, handleClick}) {\n\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\thandleClick();\n\t});\n\treturn (\n\t\t<div className=\"float-left\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nasync function onLoad(setFields, isSubscribed) {\n\ttry {\n\t\tconst response = await infraService.getInfraAccounts();\n\t\tif (isSubscribed && response) {\n\t\t\tsetFields(response);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Infrastructure() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [fields, setFields] = useState([]);\n\tconst [activeKey, setActiveKey] = useState(1);\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"item\": null});\n\tconst handleModalShow = (item)=> setModalOpt({\"show\": true, \"item\": item});\n\tconst [deleteModalOpt, setDeleteModalOpt] = useState({\"show\": false, item: null});\n\tconst handleDeleteShow = (item) => setDeleteModalOpt({\"show\": true, \"item\": item});\n\tconst [addModalOpt, setAddModalOpt] = useState({\"show\": false});\n\tconst handleAddShow = () => setAddModalOpt({\"show\": true});\n\tconst [updateModalOpt, setUpdateModalOpt] = useState({\"show\": false, item: null});\n\tconst handleUpdateShow = (item) => setUpdateModalOpt({\"show\": true, \"item\": item});\n\t\n\t\n\tasync function reLoad() {\n\t\tawait onLoad(setFields, true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tonLoad(setFields, isSubscribed);\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\tfields.length > 0 &&\n\t\t<>\n\t\t\t<UpdateModal\n\t\t\t\tmodalOpt={updateModalOpt}\n\t\t\t\tsetModalOpt={setUpdateModalOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<AddModal\n\t\t\t\tmodalOpt={addModalOpt}\n\t\t\t\tsetModalOpt={setAddModalOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={deleteModalOpt}\n\t\t\t\tsetModalOpt={setDeleteModalOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<ConfigureModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t\thandleAfterSubmit={reLoad}\n\t\t\t/>\n\t\t\t<div>\n\t\t\t\t<h4 className=\"float-left\">{t(\"soajs:titles.infrastructure\")}</h4>\n\t\t\t\t{ability.can('infra_account', 'add') &&\n\t\t\t\t<Button variant=\"success\" className=\"float-right\" size=\"sm\"\n\t\t\t\t        onClick={() => {\n\t\t\t\t\t        handleAddShow();\n\t\t\t\t        }}\n\t\t\t\t>\n\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>}\n\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t</div>\n\t\t\t<hr/>\n\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t{fields.map((d, i) => (\n\t\t\t\t\t<Card key={i + 1}>\n\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\tas={Card.Header}\n\t\t\t\t\t\t\t\teventKey={i + 1}\n\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\tif (activeKey === (i + 1)) {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(i + 1);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{activeKey === (i + 1) ? <FcExpand className=\"mr-1\"/> :\n\t\t\t\t\t\t\t\t\t<FcCollapse className=\"mr-1\"/>} <span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{d.label}</span>\n\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t\t{ability.can('infra_account', 'delete') &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\thandleDeleteShow(d)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{ability.can('infra_account', 'updateAcl') &&\n\t\t\t\t\t\t\t<AclButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\thandleModalShow(d)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{ability.can('infra_account', 'edit') &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\thandleUpdateShow(d);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={i + 1}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t{d.description}\n\t\t\t\t\t\t\t\t<Alert variant=\"info\" className=\"small mt-3 mb-3\">\n\t\t\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.MasterNode\")}:</span> {d.configuration.url}\n\t\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.Port\")}:</span> {d.configuration.port}\n\t\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t\t{d.deployments && d.deployments.length > 0 &&\n\t\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.Environment\")} / {t(\"soajs:fields.Namespace\")}:</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<CardDeck className=\"mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t{d.deployments.map((env, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card key={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\t      className=\"text-center text-white mb-2 mt-2 ml-2 mr-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t      bg=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t      style={{\"minWidth\": '11rem', \"maxWidth\": '11rem'}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"p-2\">{env.env} / {env.namespace}</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>))}\n\t\t\t\t\t\t\t\t\t\t\t</CardDeck>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</Accordion>\n\t\t</>\n\t)\n};","import {\n\tForm,\n\tCol\n} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {LoaderButton} from \"../../../../soajs/helpers\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {RepositoriesService} from \"../../../../services\";\nimport {useHistory} from \"react-router-dom\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nconst repositoriesService = RepositoriesService.getService();\n\nconst _GITHUB_ = \"1\";\nconst _BITBUCKET_ = \"2\";\nconst _BITBUCKET_ENT_ = \"3\";\nconst _PERSONAL_ = \"1\";\nconst _ORGANIZATION_ = \"2\";\nconst _PUBLIC_ = \"1\";\nconst _PRIVATE_ = \"2\";\n\nexport default function AddAccount({rootPath}) {\n\tconst [fields, setFields] = useState({\n\t\t\"label\": \"\",\n\t\t\"accountType\": _PERSONAL_,\n\t\t\"username\": \"\",\n\t\t\"email\": \"\",\n\t\t\"token\": \"\",\n\t\t\"consumerKey\": \"\",\n\t\t\"consumerSecret\": \"\"\n\t});\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [fieldProvider, setFieldProvider] = useState(_GITHUB_);\n\tconst [fieldAccessType, setFieldAccessType] = useState(_PUBLIC_);\n\tconst [fieldDomain, setFieldDomain] = useState(\"github.com\");\n\t\n\tconst history = useHistory();\n\tconst [isLoading, setIsLoading] = useState(false);\n\t\n\tfunction onChangeProvider(event) {\n\t\tsetFieldProvider(event.target.value)\n\t\tif (event.target.value === _GITHUB_) {\n\t\t\tsetFieldDomain(\"github.com\");\n\t\t} else if (event.target.value === _BITBUCKET_) {\n\t\t\tsetFieldDomain(\"bitbucket.org\");\n\t\t} else {\n\t\t\tsetFieldDomain(\"\");\n\t\t}\n\t}\n\t\n\tfunction onChangeDomain(event) {\n\t\tsetFieldDomain(event.target.value)\n\t}\n\t\n\tfunction onChangeAccessType(event) {\n\t\tsetFieldAccessType(event.target.value)\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\tsetIsLoading(true);\n\t\tlet data = {\n\t\t\t\"label\": fields.label,\n\t\t\t\"domain\": fieldDomain,\n\t\t\t\"username\": fields.username,\n\t\t\t\"email\": fields.email,\n\t\t\t\"token\": fields.token,\n\t\t\t\"oauthKey\": fields.consumerKey,\n\t\t\t\"oauthSecret\": fields.consumerSecret\n\t\t};\n\t\tif (fields.accountType === _PERSONAL_) {\n\t\t\tdata.type = \"personal\";\n\t\t} else if (fields.accountType === _ORGANIZATION_) {\n\t\t\tdata.type = \"organization\";\n\t\t}\n\t\t\n\t\tif (fieldAccessType === _PUBLIC_) {\n\t\t\tdata.access = \"public\";\n\t\t} else if (fieldAccessType === _PRIVATE_) {\n\t\t\tdata.access = \"private\";\n\t\t}\n\t\t\n\t\tif (fieldProvider === _GITHUB_) {\n\t\t\tdata.provider = \"github\";\n\t\t} else if (fieldProvider === _BITBUCKET_) {\n\t\t\tdata.provider = \"bitbucket\";\n\t\t\tdata.username = data.email;\n\t\t} else if (fieldProvider === _BITBUCKET_ENT_) {\n\t\t\tdata.provider = \"bitbucket_enterprise\";\n\t\t}\n\t\t\n\t\ttry {\n\t\t\tawait repositoriesService.addGitAccount(data);\n\t\t\tNotificationManager.success(t(\"soajs:development.accounts.addMsg\"));\n\t\t\thistory.push(rootPath);\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t\tsetIsLoading(false);\n\t}\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\tif (fieldProvider === _GITHUB_ || fieldProvider === _BITBUCKET_ENT_) {\n\t\t\tvalid = (valid && fields.username.length > 0);\n\t\t}\n\t\tif (fieldProvider === _BITBUCKET_) {\n\t\t\tvalid = (valid && fields.email.length > 0);\n\t\t}\n\t\tif (fieldAccessType === _PRIVATE_) {\n\t\t\tvalid = (valid && fields.token.length > 0);\n\t\t\tif (fieldProvider === _BITBUCKET_) {\n\t\t\t\tvalid = (valid && fields.consumerSecret.length > 0);\n\t\t\t\tvalid = (valid && fields.consumerKey.length > 0);\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\tfields.label.length > 0 &&\n\t\t\tfieldDomain.length > 0 &&\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t<div className=\"clearfix mb-3\">\n\t\t\t\t<h3 className=\"float-left\">{t(\"soajs:development.accounts.addTitle\")}</h3>\n\t\t\t</div>\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group>\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:development.accounts.provider\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\tid=\"provider\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fieldProvider}\n\t\t\t\t\t\t\t\tonChange={onChangeProvider}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value={_GITHUB_}>Github</option>\n\t\t\t\t\t\t\t\t<option value={_BITBUCKET_}>Bitbucket</option>\n\t\t\t\t\t\t\t\t<option value={_BITBUCKET_ENT_}>Bitbucket Enterprise</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:development.accounts.accountType\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\tid=\"accountType\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.accountType}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value={_PERSONAL_}>Personal Account</option>\n\t\t\t\t\t\t\t\t<option value={_ORGANIZATION_}>Organization Account</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:development.accounts.accessType\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\tid=\"accessType\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fieldAccessType}\n\t\t\t\t\t\t\t\tonChange={onChangeAccessType}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value={_PUBLIC_}>Only Public Repositories</option>\n\t\t\t\t\t\t\t\t<option value={_PRIVATE_}>Both Public and Private Repositories</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t<hr/>\n\t\t\t\t\t\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:development.accounts.label\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"label\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.label}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:development.accounts.domain\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tdisabled={(fieldProvider === _BITBUCKET_ || fieldProvider === _GITHUB_)}\n\t\t\t\t\t\t\t\tid=\"domain\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fieldDomain}\n\t\t\t\t\t\t\t\tonChange={onChangeDomain}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\n\t\t\t\t\t<hr/>\n\t\t\t\t\t{(fieldProvider === _GITHUB_ || fieldProvider === _BITBUCKET_ENT_) &&\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:development.accounts.username\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.username}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>}\n\t\t\t\t\t\n\t\t\t\t\t{fieldProvider === _BITBUCKET_ &&\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:development.accounts.email\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\tvalue={fields.email}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>}\n\t\t\t\t\t\n\t\t\t\t\t{fieldAccessType === _PRIVATE_ &&\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:development.accounts.token\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"token\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.token}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>}\n\t\t\t\t\t\n\t\t\t\t\t{fieldProvider === _BITBUCKET_ && fieldAccessType === _PRIVATE_ &&\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:development.accounts.consumerKey\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"consumerKey\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.consumerKey}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>}\n\t\t\t\t\t\n\t\t\t\t\t{fieldProvider === _BITBUCKET_ && fieldAccessType === _PRIVATE_ &&\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:development.accounts.consumerSecret\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"consumerSecret\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.consumerSecret}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>}\n\t\t\t\t\t\n\t\t\t\t\t<hr/>\n\t\t\t\t</Form.Group>\n\t\t\t\t\n\t\t\t\t{ability.can('repo_account', 'add') &&\n\t\t\t\t<LoaderButton\n\t\t\t\t\tclassName=\"mb-3\"\n\t\t\t\t\tblock\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</LoaderButton>}\n\t\t\t\t\n\t\t\t</Form>\n\t\t</>\n\t);\n}","import {Button, Card, Col, Form, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {BiGitBranch} from \"react-icons/bi\";\nimport {AiFillGithub} from \"react-icons/ai\";\nimport {DiBitbucket} from \"react-icons/di\";\n\nimport {RepositoriesService} from \"../../../../services\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nconst repositoriesService = RepositoriesService.getService();\n\nfunction Provider({provider}) {\n\tlet icon = (<BiGitBranch/>);\n\tif (provider === \"github\") {\n\t\ticon = (<AiFillGithub/>);\n\t} else if (provider === \"bitbucket_enterprise\") {\n\t\ticon = (<DiBitbucket/>);\n\t} else if (provider === \"bitbucket\") {\n\t\ticon = (<DiBitbucket/>);\n\t}\n\treturn (icon);\n}\n\nexport default function UpgradeModal({modalOpt, setModalOpt, modalFields, setModalFields, handleAfterSubmit}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetModalFields({\n\t\t\t...modalFields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tlet data = {\n\t\t\t\t\"id\": modalFields.id,\n\t\t\t\t\"username\": modalFields.username,\n\t\t\t\t\"token\": modalFields.token,\n\t\t\t\t\"oauthKey\": modalFields.consumerKey,\n\t\t\t\t\"oauthSecret\": modalFields.consumerSecret\n\t\t\t}\n\t\t\tawait repositoriesService.upgradeGitAccount(data);\n\t\t\tNotificationManager.success(t(\"soajs:development.accounts.upgradeMsg\"));\n\t\t\thandleAfterSubmit();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\t\n\t\tvalid = (valid && modalFields.token.length > 0);\n\t\tif (modalFields.provider === \"bitbucket\") {\n\t\t\tvalid = (valid && modalFields.consumerSecret.length > 0);\n\t\t\tvalid = (valid && modalFields.consumerKey.length > 0);\n\t\t}\n\t\t\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\treturn (\n\t\t<>\n\t\t\t{modalFields &&\n\t\t\t<Modal size=\"lg\" show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>{t(\"soajs:development.accounts.upgrade\")}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t<Provider provider={modalFields.provider}/> <span\n\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{modalFields.label}</span> [{modalFields.username}]\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t<Form onSubmit={(event) => {\n\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t\t\t\t<Form.Label column=\"sm\"\n\t\t\t\t\t\t\t\t\t\t            sm={4}>{t(\"soajs:development.accounts.token\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t<Col sm={8}>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"token\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={modalFields.token}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t{modalFields.provider === \"bitbucket\" &&\n\t\t\t\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t\t\t\t<Form.Label column=\"sm\"\n\t\t\t\t\t\t\t\t\t\t            sm={4}>{t(\"soajs:development.accounts.consumerKey\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t<Col sm={8}>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"consumerKey\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={modalFields.consumerKey}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Form.Row>}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t{modalFields.provider === \"bitbucket\" &&\n\t\t\t\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t\t\t\t<Form.Label column=\"sm\"\n\t\t\t\t\t\t\t\t\t\t            sm={4}>{t(\"soajs:development.accounts.consumerSecret\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t<Col sm={8}>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"consumerSecret\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={modalFields.consumerSecret}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Form.Row>}\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t\n\t\t\t\t\t{ability.can('repo_account', 'upgrade') &&\n\t\t\t\t\t<Button variant=\"success\"\n\t\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t\t        onClick={handleSubmit}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t(\"soajs:buttons.Upgrade\")}\n\t\t\t\t\t</Button>}\n\t\t\t\t\t\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {RepositoriesService} from \"../../../../services\";\n\nconst repositoriesService = RepositoriesService.getService();\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait repositoriesService.deleteGitAccount(modalOpt.opts.id);\n\t\t\tNotificationManager.success(t(\"soajs:development.accounts.deleteMsg\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>{t(\"soajs:messages.deleteQuestion\")}</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {GiUpgrade} from \"react-icons/gi\";\n\nexport default function Upgrade({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.Upgrade\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button size=\"sm\" variant=\"secondary\" {...props}>\n\t\t\t\t<GiUpgrade/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport {Link} from \"react-router-dom\";\nimport {\n\tButton,\n\tAccordion,\n\tCard,\n\tuseAccordionToggle,\n\tListGroup,\n\tListGroupItem,\n\tCardDeck,\n\tJumbotron\n} from \"react-bootstrap\";\nimport {useTranslation} from \"react-i18next\";\nimport {GoDiffAdded} from \"react-icons/go\";\nimport {FcCollapse, FcExpand} from \"react-icons/fc\";\nimport {AiFillGithub} from \"react-icons/ai\";\nimport {DiBitbucket} from \"react-icons/di\";\nimport {BiGitBranch} from \"react-icons/bi\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {RepositoriesService} from \"../../../../services\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nimport UpgradeModal from \"./UpgradeModal\";\nimport DeleteModal from \"./DeleteModal\";\n\nimport DeleteButton from \"../../../buttons/Delete\";\nimport SynchroniseButton from \"../../../buttons/Synchronise\";\nimport UpgradeButton from \"../../../buttons/Upgrade\";\n\nconst repositoriesService = RepositoriesService.getService();\n\nfunction Organizations({metadata, t}) {\n\tlet show = false;\n\tif (metadata && metadata.organizations && Array.isArray(metadata.organizations) && metadata.organizations.length > 0) {\n\t\tshow = true;\n\t}\n\treturn (\n\t\tshow &&\n\t\t<Jumbotron className=\"p-3 mt-3 bg-light\">\n\t\t\t<h6 className=\"mb-4 font-weight-bold\">{t(\"soajs:development.accounts.organizations\")}</h6>\n\t\t\t<CardDeck>\n\t\t\t\t{metadata.organizations.map((_O, _I) => (\n\t\t\t\t\t<Card key={_I} className=\"text-center text-white\" bg=\"secondary\"\n\t\t\t\t\t      style={{\"minWidth\": '21rem', \"maxWidth\": '21rem'}}>\n\t\t\t\t\t\t<Card.Body className=\"p-2\">{_O}</Card.Body>\n\t\t\t\t\t</Card>))}\n\t\t\t</CardDeck>\n\t\t</Jumbotron>\n\t);\n}\n\nfunction Provider({provider}) {\n\tlet icon = (<BiGitBranch/>);\n\tif (provider === \"github\") {\n\t\ticon = (<AiFillGithub/>);\n\t} else if (provider === \"bitbucket_enterprise\") {\n\t\ticon = (<DiBitbucket/>);\n\t} else if (provider === \"bitbucket\") {\n\t\ticon = (<DiBitbucket/>);\n\t}\n\treturn (icon);\n}\n\nfunction CustomToggle({children, eventKey, handleClick}) {\n\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\thandleClick();\n\t});\n\treturn (\n\t\t<div className=\"float-left\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nasync function onLoad(setFields, isSubscribed) {\n\ttry {\n\t\tconst gitAccounts = await repositoriesService.getGitAccounts();\n\t\tif (isSubscribed) {\n\t\t\tsetFields(gitAccounts);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Accounts({rootPath}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [activeKey, setActiveKey] = useState(1);\n\tconst {ability} = useAppContext();\n\tconst [modalFields, setModalFields] = useState({\n\t\t\"id\": \"\",\n\t\t\"provider\": \"\",\n\t\t\"label\": \"\",\n\t\t\"username\": \"\",\n\t\t\"token\": \"\",\n\t\t\"consumerKey\": \"\",\n\t\t\"consumerSecret\": \"\"\n\t});\n\t\n\tconst [deleteModalOpt, setDeleteModalOpt] = useState({\"show\": false, opts: null});\n\tconst handleDeleteShow = (opt) => setDeleteModalOpt({\"show\": true, opts: opt});\n\t\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"item\": null});\n\tconst handleModalShow = (item) => {\n\t\tsetModalFields({\n\t\t\t\"id\": item._id,\n\t\t\t\"provider\": item.provider,\n\t\t\t\"label\": item.label,\n\t\t\t\"username\": item.owner,\n\t\t\t\"token\": \"\",\n\t\t\t\"consumerKey\": \"\",\n\t\t\t\"consumerSecret\": \"\"\n\t\t})\n\t\tsetModalOpt({\"show\": true, \"item\": item})\n\t};\n\t\n\tasync function syncAccount(id) {\n\t\ttry {\n\t\t\tawait repositoriesService.syncGitAccount(id);\n\t\t\tNotificationManager.success(t(\"soajs:development.accounts.syncMsg\"));\n\t\t\tawait onLoad(setFields, true)\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function reload() {\n\t\tawait onLoad(setFields, true)\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tonLoad(setFields, isSubscribed);\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<>\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={deleteModalOpt}\n\t\t\t\tsetModalOpt={setDeleteModalOpt}\n\t\t\t\thandleAction={reload}\n\t\t\t/>\n\t\t\t<UpgradeModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t\tsetModalFields={setModalFields}\n\t\t\t\tmodalFields={modalFields}\n\t\t\t\thandleAfterSubmit={reload}\n\t\t\t/>\n\t\t\t\n\t\t\t<div className=\"clearfix float-none mb-3\">\n\t\t\t\t<h3 className=\"float-left\">{t(\"soajs:development.accounts.title\")}</h3>\n\t\t\t\t\n\t\t\t\t{ability.can('repo_account', 'add') &&\n\t\t\t\t<Link to={rootPath + '/add'}>\n\t\t\t\t\t<Button variant=\"success\" className=\"float-right\" size=\"sm\">\n\t\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</Link>}\n\t\t\t\n\t\t\t</div>\n\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t{fields.map((item, index) => (\n\t\t\t\t\t<Card key={index + 1}>\n\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\tas={Card.Header}\n\t\t\t\t\t\t\t\teventKey={index + 1}\n\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\tif (activeKey === (index + 1)) {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(index + 1);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{activeKey === (index + 1) ? <FcExpand className=\"mr-1\"/> :\n\t\t\t\t\t\t\t\t\t<FcCollapse className=\"mr-1\"/>} <Provider\n\t\t\t\t\t\t\t\tprovider={item.provider}/> <span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{item.label}</span> [{item.owner}]\n\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('repo_account', 'delete') &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\thandleDeleteShow({\"id\": item._id});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('repo_account', 'synchronize') &&\n\t\t\t\t\t\t\t<SynchroniseButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsyncAccount(item._id)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('repo_account', 'upgrade') &&  item.access === \"public\" &&\n\t\t\t\t\t\t\t<UpgradeButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\thandleModalShow(item)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:development.accounts.accountType\")}:</span> {item.accountType}\n\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:development.accounts.domain\")}:</span> {item.domain}\n\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:development.accounts.accessType\")}:</span> {item.access}\n\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t\t\t<Organizations metadata={item.metadata} t={t}/>\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t\t{fields.length === 0 ? (\n\t\t\t\t\t<span>{t(\"soajs:development.accounts.zeroMsg\")}</span>\n\t\t\t\t) : null}\n\t\t\t</Accordion>\n\t\t</>\n\t);\n}","import {Redirect, Route, Switch} from \"react-router-dom\";\nimport React from \"react\";\n\nimport {AuthenticatedRoute} from \"../../soajs/helpers\";\n\nimport Users from \"./containers/Users/Users\";\nimport Groups from \"./containers/Groups/Groups\";\nimport Packages from \"./containers/Packages/Packages\";\nimport Authentication from \"./containers/Authentication/Authentication\";\n\nimport Integration from \"./containers/Integration/Integration\";\n\nimport Configuration from \"./containers/ContinousDelivery/Configuration\";\nimport Tokens from \"./containers/ContinousDelivery/Tokens\";\n\nimport Notifications from \"./containers/Notifications/Notifications\";\nimport Infrastructure from \"./containers/Infrastructure/Infrastructure\";\n\nimport AddAccount from \"../Development/containers/Accounts/AddAccount\";\nimport Accounts from \"../Development/containers/Accounts/Accounts\";\n\nconst rootPath = \"/settings\";\nconst defaultPath = \"/infrastructure\";\n\nexport default function Routes() {\n\treturn (\n\t\t<Switch>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/users\"}>\n\t\t\t\t<Users/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/groups\"}>\n\t\t\t\t<Groups/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/packages\"}>\n\t\t\t\t<Packages/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/authentication\"}>\n\t\t\t\t<Authentication/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/infrastructure\"}>\n\t\t\t\t<Infrastructure/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/notifications\"}>\n\t\t\t\t<Notifications/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/integration\"}>\n\t\t\t\t<Integration/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/configuration\"}>\n\t\t\t\t<Configuration/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/tokens\"}>\n\t\t\t\t<Tokens/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t<AuthenticatedRoute path={rootPath + \"/git/accounts/add\"}>\n\t\t\t\t<AddAccount\n\t\t\t\t\trootPath={rootPath + \"/git/accounts\"}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/git/accounts\"}>\n\t\t\t\t<Accounts\n\t\t\t\t\trootPath={rootPath + \"/git/accounts\"}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<Route\n\t\t\t\trender={() => {\n\t\t\t\t\treturn (<Redirect to={rootPath + defaultPath}/>)\n\t\t\t\t}}/>\n\t\t</Switch>\n\t)\n}","import {Nav, Navbar, NavDropdown} from \"react-bootstrap\";\nimport React from \"react\";\nimport {LinkContainer} from \"react-router-bootstrap\";\nimport {useTranslation} from \"react-i18next\";\n\nfunction Navigation() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst rootPath = \"/settings\";\n\treturn (\n\t\t<Navbar collapseOnSelect expand=\"lg\" className=\"pt-0 pb-0\" bg=\"secondary\" variant=\"light\">\n\t\t\t<span></span>\n\t\t\t<Navbar.Toggle aria-controls=\"settings-navbar-nav\"/>\n\t\t\t<Navbar.Collapse id=\"settings-navbar-nav\" className=\"justify-content-end\">\n\t\t\t\t<Nav activeKey={window.location.pathname}>\n\t\t\t\t\t{/*<LinkContainer to={rootPath + \"/release/update\"}>*/}\n\t\t\t\t\t{/*\t<NavDropdown.Item><small>{t(\"soajs:menu.ReleaseUpdate\")}</small></NavDropdown.Item>*/}\n\t\t\t\t\t{/*</LinkContainer>*/}\n\t\t\t\t\t\n\t\t\t\t\t<LinkContainer to={rootPath + \"/infrastructure\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Infrastructure\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\n\t\t\t\t\t<LinkContainer to={rootPath + \"/git/accounts\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.GitAccounts\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\n\t\t\t\t\t<LinkContainer to={rootPath + \"/notifications\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Notifications\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/integration\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.integration\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\n\t\t\t\t\t<NavDropdown className=\"small\" alignRight title={t(\"soajs:menu.AccessRights\")}\n\t\t\t\t\t             id=\"collasible-nav1-dropdown\">\n\t\t\t\t\t\t<LinkContainer to={rootPath + \"/users\"}>\n\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.users\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to={rootPath + \"/groups\"}>\n\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.groups\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to={rootPath + \"/packages\"}>\n\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.packages\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<NavDropdown.Divider/>\n\t\t\t\t\t\t<LinkContainer to={rootPath + \"/authentication\"}>\n\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.authentication\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t</NavDropdown>\n\t\t\t\t\t\n\t\t\t\t\t<NavDropdown className=\"small\" alignRight title={t(\"soajs:menu.ContinuousDelivery\")}\n\t\t\t\t\t             id=\"collasible-nav1-dropdown\">\n\t\t\t\t\t\t<LinkContainer to={rootPath + \"/configuration\"}>\n\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Configuration\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to={rootPath + \"/tokens\"}>\n\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Tokens\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t</NavDropdown>\n\t\t\t\t</Nav>\n\t\t\t</Navbar.Collapse>\n\t\t</Navbar>\n\t);\n}\n\nexport default Navigation","import React from \"react\";\nimport {Container} from \"react-bootstrap\";\n\nimport Routes from \"./Routes\";\nimport Navigation from \"./Navigation\";\n\nexport default function Settings() {\n\treturn (\n\t\t<>\n\t\t\t<Navigation/>\n\t\t\t<div className=\"bg-dark pt-1\"></div>\n\t\t\t<div className=\"main-area\">\n\t\t\t\t<Container className=\"mt-3 mb-3\">\n\t\t\t\t\t<Routes/>\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t</>\n\t);\n}","import {Route, Switch, Redirect} from \"react-router-dom\";\nimport React from \"react\";\nimport {AuthenticatedRoute} from \"../../soajs/helpers\";\nimport Repositories from \"./containers/Repositories/Repositories\";\nimport Accounts from \"./containers/Accounts/Accounts\";\nimport AddAccount from \"./containers/Accounts/AddAccount\";\n\nconst rootPath = \"/development\";\nconst defaultPath = \"/git/repositories\";\n\nexport default function Routes() {\n\treturn (\n\t\t<Switch>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/git/accounts/add\"}>\n\t\t\t\t<AddAccount\n\t\t\t\t\trootPath={rootPath + \"/git/accounts\"}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/git/accounts\"}>\n\t\t\t\t<Accounts\n\t\t\t\t\trootPath={rootPath + \"/git/accounts\"}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/git/repositories\"}>\n\t\t\t\t<Repositories/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<Route\n\t\t\t\trender={() => {\n\t\t\t\t\treturn (<Redirect to={rootPath + defaultPath}/>)\n\t\t\t\t}}/>\n\t\t</Switch>\n\t)\n}","import {Nav, Navbar, NavDropdown} from \"react-bootstrap\";\nimport React from \"react\";\nimport {LinkContainer} from \"react-router-bootstrap\";\nimport {useTranslation} from \"react-i18next\";\n\nfunction Navigation() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst rootPath = \"/development\";\n\treturn (\n\t\t<Navbar collapseOnSelect expand=\"sm\" className=\"pt-0 pb-0\" bg=\"secondary\" variant=\"dark\">\n\t\t\t<span></span>\n\t\t\t<Navbar.Toggle aria-controls=\"development-navbar-nav\"/>\n\t\t\t<Navbar.Collapse id=\"development-navbar-nav\" className=\"justify-content-end\">\n\t\t\t\t<Nav>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/git/repositories\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.GitRepositories\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/git/accounts\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.GitAccounts\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t</Nav>\n\t\t\t</Navbar.Collapse>\n\t\t</Navbar>\n\t);\n}\n\nexport default Navigation","import React from \"react\";\nimport {Container} from \"react-bootstrap\";\n\nimport Routes from \"./Routes\";\nimport Navigation from \"./Navigation\";\n\nexport default function Development() {\n\treturn (\n\t\t<>\n\t\t\t<Navigation/>\n\t\t\t<div className=\"bg-dark pt-1\"></div>\n\t\t\t<div className=\"main-area\">\n\t\t\t\t<Container className=\"mt-3 mb-3\">\n\t\t\t\t\t<Routes/>\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t</>\n\t);\n}","import React from \"react\";\nimport {Alert} from \"react-bootstrap\";\n\nexport default function Manual({environment}) {\n\t\n\treturn (\n\t\t<>\n\t\t\t<hr/>\n\t\t\t<Alert variant=\"secondary\">\n\t\t\t\tThis environment only operates on your Local Machine with this IP Address <b\n\t\t\t\tclassName=\"text-success\">( {environment.deployer.manual.nodes} )</b>. It requires you deploy\n\t\t\t\tMicroservices and Daemons manually in order to be able to\n\t\t\t\toperate them form under the appropriate catalogs.\n\t\t\t</Alert>\n\t\t</>\n\t);\n}","import {Button, Modal, Form} from \"react-bootstrap\";\nimport React, {useState, useEffect} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {ConsoleService, InfraService} from \"../../../../services\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nconst consoleService = ConsoleService.getService();\nconst infraService = InfraService.getService();\n\nexport default function NamespaceModal({modalOpt, setModalOpt, handleAction, environment, settings}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [fields, setFields] = useState({\n\t\t\"id\": \"\",\n\t\t\"namespace\": \"\",\n\t\t\"code\": \"\",\n\t\t\"type\": \"existing\"\n\t});\n\tconst [namespaces, setNamespaces] = useState([]);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait consoleService.updateEnvironmentNamespace(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.envNamespace\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.namespace.length > 0\n\t\t);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (environment) {\n\t\t\t\t\tconst response = await infraService.getNamespaces(environment.code);\n\t\t\t\t\tif (isSubscribed && response && response.items && response.items.length > 0) {\n\t\t\t\t\t\tsetNamespaces(response.items);\n\t\t\t\t\t}\n\t\t\t\t\tif (isSubscribed && settings) {\n\t\t\t\t\t\tsetFields({\n\t\t\t\t\t\t\t\"id\": settings.container.kubernetes.id,\n\t\t\t\t\t\t\t\"code\": environment.code,\n\t\t\t\t\t\t\t\"namespace\": settings.container.kubernetes.namespace,\n\t\t\t\t\t\t\t\"type\": \"existing\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\tsetNamespaces([]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad()\n\t\treturn () => (isSubscribed = false);\n\t}, [environment, settings]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.envNamespace\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t{fields &&\n\t\t\t\t<Form onSubmit={(event) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}}>\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.NamespaceSelection\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control as=\"select\" id=\"type\"\n\t\t\t\t\t\t              defaultValue={fields.type}\n\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"existing\">Choose exiting namespace</option>\n\t\t\t\t\t\t\t<option value=\"new\">Create new namespace</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t{fields.type === \"existing\" &&\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.ExistingNamespace\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control as=\"select\" id=\"namespace\"\n\t\t\t\t\t\t              defaultValue={fields.namespace}\n\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{namespaces.map((ns, index) => (\n\t\t\t\t\t\t\t\t<option key={index} value={ns.metadata.name}>{ns.metadata.name}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t}\n\t\t\t\t\t{fields.type === \"new\" &&\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.CreateNamespace\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"namespace\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.namespace}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t}\n\t\t\t\t</Form>\n\t\t\t\t}\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t{ability.can('env', 'update') &&\n\t\t\t\t<Button variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleSubmit}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Alert, ListGroup, ListGroupItem} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport GearButton from \"../../../buttons/Gear\";\nimport {ConsoleService} from \"../../../../services\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\n\nimport NamespaceModal from \"./NamespaceModal\";\n\nconst consoleService = ConsoleService.getService();\n\nasync function onLoad(setSettings, environment, isSubscribed) {\n\ttry {\n\t\tconst response = await consoleService.getRegistryDeployer(environment.code);\n\t\tif (response && isSubscribed) {\n\t\t\tsetSettings(response);\n\t\t} else {\n\t\t\tsetSettings(null);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Container({environment}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [settings, setSettings] = useState(null);\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false});\n\t\n\tfunction handleModalShow() {\n\t\tsetModalOpt({\"show\": true})\n\t}\n\t\n\tfunction reLoad() {\n\t\tonLoad(setSettings, environment, true).catch();\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tonLoad(setSettings, environment, isSubscribed).catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\tsettings &&\n\t\t<>\n\t\t\t<NamespaceModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t\thandleAction={() => {\n\t\t\t\t\treLoad();\n\t\t\t\t}}\n\t\t\t\tenvironment={environment}\n\t\t\t\tsettings={settings}\n\t\t\t/>\n\t\t\t<hr/>\n\t\t\t<Alert variant=\"secondary\">\n\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.MasterNode\")}:</span> {settings.container.kubernetes.configuration.url}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.Namespace\")}:</span> {settings.container.kubernetes.namespace}\n\t\t\t\t\t\t<GearButton className=\"float-right ml-3\" onClick={() => {\n\t\t\t\t\t\t\thandleModalShow()\n\t\t\t\t\t\t}}/>\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t</ListGroup>\n\t\t\t</Alert>\n\t\t</>\n\t);\n}","import {Button, Card, CardDeck, Form, Jumbotron} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport _ from \"lodash\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../services\";\nimport {UracService} from \"../../../../soajs/urac/services\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nconst uracService = UracService.getService();\nconst consoleService = ConsoleService.getService();\n\nfunction isGroupSelected(settings, value) {\n\treturn (\n\t\tsettings &&\n\t\tsettings.acl &&\n\t\tsettings.acl.groups &&\n\t\tsettings.acl.groups.value &&\n\t\tsettings.acl.groups.value.includes(value)\n\t);\n}\n\nexport default function ConfigureModalGroups({settings, code, handleAction, handleClose, setSettings}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [groups, setGroups] = useState([]);\n\tconst [fields, setFields] = useState({\n\t\t\"groups\": [],\n\t\t\"type\": \"whitelist\"\n\t});\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\t\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction whitelistBlacklist(checked, what) {\n\t\tlet obj = fields;\n\t\tobj.type = what;\n\t\tsetFields({...obj});\n\t}\n\t\n\tfunction onChangeGroup(checked, code) {\n\t\tlet obj = fields;\n\t\tif (checked) {\n\t\t\tobj.groups.push(code);\n\t\t} else {\n\t\t\t_.pullAll(obj.groups, [code]);\n\t\t}\n\t\tsetFields({...obj});\n\t}\n\tasync function handleDelete(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tawait consoleService.deleteEnvironmentAcl(code);\n\t\t\tNotificationManager.success(t(\"soajs:messages.envGroupDeleteSuccess\"));\n\t\t\tsetSettings(null);\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\tasync function handleSave(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tawait consoleService.saveEnvironmentAcl({\n\t\t\t\t\"code\": code,\n\t\t\t\t\"groups\": fields.groups,\n\t\t\t\t\"type\": fields.type\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.envGroupSaveSuccess\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (settings && settings.acl && settings.acl.groups) {\n\t\t\t\t\tsetFields({\n\t\t\t\t\t\t\"groups\": settings.acl.groups.value,\n\t\t\t\t\t\t\"type\": settings.acl.groups.type\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tconst _groups = await uracService.getGroups();\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetGroups(_groups);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, [settings]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-4 m-0 bg-light border-dark small\">\n\t\t\t\t<fieldset>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"whitelist\"\n\t\t\t\t\t\tname=\"groupsType\"\n\t\t\t\t\t\tid=\"groupsType1\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"whitelist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"whitelist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"blacklist\"\n\t\t\t\t\t\tname=\"groupsType\"\n\t\t\t\t\t\tid=\"groupsType2\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"blacklist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"blacklist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</fieldset>\n\t\t\t</Jumbotron>\n\t\t\t<CardDeck className=\"ml-2\">\n\t\t\t\t{groups.map((oo, index) => (\n\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t      style={{\"minWidth\": '11rem', \"maxWidth\": '11rem'}}>\n\t\t\t\t\t\t<Card.Body className=\"p-2\">\n\t\t\t\t\t\t\t<Form.Check className=\"small\" key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t            defaultChecked={isGroupSelected(settings, oo.code)}\n\t\t\t\t\t\t\t            label={oo.code}\n\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t            onChangeGroup(event.target.checked, oo.code)\n\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</CardDeck>\n\t\t\t<hr/>\n\t\t\t<div>\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t\t\n\t\t\t\t{ability.can('env_aclGroups', 'update') &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleSave}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Save\")}\n\t\t\t\t</Button>}\n\t\t\t\t\n\t\t\t\t{ability.can('env_aclGroups', 'delete') &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"danger\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleDelete}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>}\n\t\t\t</div>\n\t\t</>\n\t);\n}","import {useTranslation} from \"react-i18next\";\nimport React, {useEffect, useState} from \"react\";\nimport {\n\tForm,\n\tJumbotron, Modal,\n\tTab, Tabs\n} from \"react-bootstrap\";\n\n\nimport ConfigureModalGroups from \"./ConfigureModalGroups\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../services\";\n\nconst consoleService = ConsoleService.getService();\n\nasync function onLoad(setSettings, environment, isSubscribed) {\n\ttry {\n\t\tconst response = await consoleService.getEnvironmentSettings(environment.code);\n\t\tif (response && response.settings && isSubscribed) {\n\t\t\tsetSettings(response.settings);\n\t\t} else {\n\t\t\tsetSettings(null);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function ConfigureModal({modalOpt, setModalOpt, environment}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [settings, setSettings] = useState(null);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false});\n\t\n\tasync function reLoad() {\n\t\tawait onLoad(setSettings, environment, true)\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tonLoad(setSettings, environment, isSubscribed).catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\t<>\n\t\t\t{environment &&\n\t\t\t<Modal size=\"lg\" show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>{t(\"soajs:titles.environmentConfiguration\")}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t\n\t\t\t\t\t<Jumbotron className=\"p-4\">\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{environment.code}</span> - {environment.deployer.type}\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t{environment.description}\n\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t<Form onSubmit={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"acl\" id=\"config\">\n\t\t\t\t\t\t\t<Tab eventKey=\"acl\" title={t(\"soajs:fields.Groups\")}>\n\t\t\t\t\t\t\t\t<ConfigureModalGroups\n\t\t\t\t\t\t\t\t\tsettings={settings}\n\t\t\t\t\t\t\t\t\tsetSettings={setSettings}\n\t\t\t\t\t\t\t\t\thandleAction={() => {\n\t\t\t\t\t\t\t\t\t\treLoad();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\thandleClose={handleClose}\n\t\t\t\t\t\t\t\t\tcode={environment.code}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</Form>\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../services\";\n\nconst consoleService = ConsoleService.getService();\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait consoleService.deleteEnvironment(modalOpt.item._id);\n\t\t\tNotificationManager.success(t(\"soajs:messages.deleteEnvironment\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>{t(\"soajs:messages.deleteQuestion\")}</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import React, {useState} from \"react\";\n\nimport Manual from \"./Manual\";\nimport Container from \"./Container\";\nimport ConfigureModal from \"./ConfigureModal\";\nimport AclButton from \"../../../buttons/Acl\";\nimport {ListGroup, ListGroupItem} from \"react-bootstrap\";\nimport {useTranslation} from \"react-i18next\";\nimport DeleteButton from \"../../../buttons/Delete\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\nimport DeleteModal from \"./DeleteModal\";\nimport {useHistory} from \"react-router-dom\";\n\n\nexport default function Settings({environment}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false});\n\tconst [deleteModalOpt, setDeleteModalOpt] = useState({\"show\": false, item: null});\n\tconst handleDeleteShow = (item) => setDeleteModalOpt({\"show\": true, \"item\": item});\n\t\n\tconst history = useHistory();\n\t\n\tasync function reLoad() {\n\t\thistory.push(\"/environments/manage\");\n\t}\n\t\n\tfunction handleModalShow() {\n\t\tsetModalOpt({\"show\": true})\n\t}\n\t\n\treturn (\n\t\tenvironment &&\n\t\t<>\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={deleteModalOpt}\n\t\t\t\tsetModalOpt={setDeleteModalOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<ConfigureModal\n\t\t\t\tenvironment={environment}\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t<ListGroupItem><span\n\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.Code\")}:</span> {environment.code}\n\t\t\t\t\t{!environment.locked && ability.can('env', 'delete') &&\n\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\tclassName=\"float-right ml-3\" onClick={() => {\n\t\t\t\t\t\thandleDeleteShow(environment);\n\t\t\t\t\t}}\n\t\t\t\t\t/>}\n\t\t\t\t\t<AclButton className=\"float-right ml-3\" onClick={() => {\n\t\t\t\t\t\thandleModalShow();\n\t\t\t\t\t}}/>\n\t\t\t\t</ListGroupItem>\n\t\t\t\t<ListGroupItem><span\n\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.Type\")}:</span> {environment.deployer.type}\n\t\t\t\t</ListGroupItem>\n\t\t\t\t<ListGroupItem><span\n\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.Description\")}:</span> {environment.description}\n\t\t\t\t</ListGroupItem>\n\t\t\t</ListGroup>\n\t\t\t\n\t\t\t{environment.deployer.type === \"manual\" &&\n\t\t\t<div>\n\t\t\t\t<Manual\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t}\n\t\t\t{environment.deployer.type === \"container\" &&\n\t\t\t<div>\n\t\t\t\t<Container\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Alert} from \"react-bootstrap\";\nimport React from \"react\";\n\nexport default function Rbac({environment}) {\n\t\n\treturn (\n\t\t\n\t\t<Alert variant=\"info\" className=\"mt-4 mb-4\">\n\t\t\tRBAC: coming soon\n\t\t</Alert>\n\t\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {JsonEditor} from \"../../../../../../../soajs/urac/components\";\n\n\nexport default function JsonModal({modalOpt, setModalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, \"json\": {}, \"mode\": \"preview\", \"title\": \"\"});\n\t\n\treturn (\n\t\tmodalOpt &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{modalOpt.title}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t\n\t\t\t\t<JsonEditor\n\t\t\t\t\tmode={modalOpt.mode || \"view\"}\n\t\t\t\t\tmodes={[\"view\", \"preview\"]}\n\t\t\t\t\tjson={modalOpt.json || {}}\n\t\t\t\t/>\n\t\t\t\t\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Ok\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Alert, Col, Row, Badge, Button} from \"react-bootstrap\";\n\nimport {AiOutlineInfoCircle} from \"react-icons/ai\";\nimport React, {useState} from \"react\";\nimport JsonModal from \"./modals/JsonModal\";\n\nexport default function Nodes({items}) {\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t\n\t\t\t{items.map((rec, i) => (\n\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Badge variant=\"light\" className=\"float-left mr-3 small mt-1\">node</Badge>\n\t\t\t\t\t\t\t<span className=\"small\">{rec.metadata.name}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<span className=\"small float-left mr-2\">{rec.metadata.creationTimestamp}</span>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1\">\n\t\t\t\t\t\t\t\t<AiOutlineInfoCircle\n\t\t\t\t\t\t\t\t\tclassName=\"text-primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalOptShow(rec, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {Button, Col, Form, Jumbotron, Row, Badge} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../../services\";\n\nimport NodesContainer from \"../../catalog/common/container/Nodes\";\n\nconst infraService = InfraService.getService();\nconst initCriteria = {\n\t\"name\": \"\", \"mode\": \"Node\", \"continue\": null, \"remainingItemCount\": 0\n};\n\nasync function onLoad(setFields, criteria, env, setMode, setCriteria, isSubscribed) {\n\ttry {\n\t\tlet data = {\"mode\": criteria.mode, limit: 100}\n\t\tif (criteria.name && criteria.name.length > 0) {\n\t\t\tdata.filter = {\"fieldSelector\": \"metadata.name=\" + criteria.name};\n\t\t}\n\t\tconst response = await infraService.getClusters(env, data);\n\t\tif (isSubscribed && response && response.items) {\n\t\t\tsetFields(response.items)\n\t\t\tsetMode(criteria.mode);\n\t\t\tif (response.metadata && response.metadata.continue) {\n\t\t\t\tcriteria.continue = response.metadata.continue;\n\t\t\t\tcriteria.remainingItemCount = response.metadata.remainingItemCount;\n\t\t\t\tsetCriteria({...criteria});\n\t\t\t} else {\n\t\t\t\tcriteria.continue = null;\n\t\t\t\tcriteria.remainingItemCount = 0;\n\t\t\t\tsetCriteria({...criteria});\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Nodes({environment}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [mode, setMode] = useState(\"Pod\");\n\tconst [criteria, setCriteria] = useState(initCriteria);\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function reLoad(isSubscribed) {\n\t\tawait onLoad(setFields, criteria, environment.code, setMode, setCriteria, isSubscribed);\n\t}\n\t\n\tasync function loadMore() {\n\t\ttry {\n\t\t\tlet data = {\"mode\": criteria.mode, limit: 3}\n\t\t\tif (criteria.name && criteria.name.length > 0) {\n\t\t\t\tdata.filter = {\"fieldSelector\": \"metadata.name=\" + criteria.name};\n\t\t\t}\n\t\t\tif (criteria.continue) {\n\t\t\t\tdata.continue = criteria.continue;\n\t\t\t}\n\t\t\tconst response = await infraService.getClusters(environment.code, data);\n\t\t\tif (response && response.items) {\n\t\t\t\t\n\t\t\t\tsetFields(fields.concat(response.items));\n\t\t\t\tif (response.metadata && response.metadata.continue) {\n\t\t\t\t\tcriteria.continue = response.metadata.continue;\n\t\t\t\t\tcriteria.remainingItemCount = response.metadata.remainingItemCount;\n\t\t\t\t\tsetCriteria({...criteria});\n\t\t\t\t} else {\n\t\t\t\t\tcriteria.continue = null;\n\t\t\t\t\tcriteria.remainingItemCount = 0;\n\t\t\t\t\tsetCriteria({...criteria});\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tawait reLoad(true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed) {\n\t\t\tsetCriteria(initCriteria);\n\t\t\tonLoad(setFields, initCriteria, environment.code, setMode, setCriteria, isSubscribed).catch();\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-3 m-0\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col md={2} lg={2}>\n\t\t\t\t\t\t<h5 className=\"font-weight-bold m-0\">{t(\"soajs:titles.nodes\")}</h5>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col md={3} lg={2}>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"mode\"\n\t\t\t\t\t\t\tvalue={criteria.mode}\n\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"Node\">Node</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col xs={8} lg={9}>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.name}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={4} lg={3}>\n\t\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Jumbotron>\n\t\t\t<hr/>\n\t\t\t{fields.length > 0 && mode === \"Node\" &&\n\t\t\t<NodesContainer\n\t\t\t\titems={fields}\n\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t/>\n\t\t\t}\n\t\t\t{criteria.continue &&\n\t\t\t<Button\n\t\t\t\tsize=\"sm\"\n\t\t\t\tclassName=\"mt-3\"\n\t\t\t\tblock variant=\"light\"\n\t\t\t\tonClick={loadMore}\n\t\t\t>\n\t\t\t\t<Badge variant=\"light\" className=\"text-muted\">({criteria.remainingItemCount} remaining)</Badge> Click here to load more\n\t\t\t\t...\n\t\t\t</Button>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {InfraService} from \"../../../../../../../services\";\nimport {NotificationManager} from \"../../../../../../../soajs/urac/components\";\n\nconst infraService = InfraService.getService();\n\nexport default function LogModal({modalOpt, setModalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [logResponse, setLogResponse] = useState(\"\");\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, \"data\": {}, \"mode\": \"preview\", \"title\": \"\"});\n\t\n\tasync function onLoad(isSubscribed, env, name) {\n\t\ttry {\n\t\t\tlet response = await infraService.podLog(env, {\n\t\t\t\t\"name\": name\n\t\t\t});\n\t\t\tif (isSubscribed && response) {\n\t\t\t\tsetLogResponse(response);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function getLog() {\n\t\tif (modalOpt && modalOpt.data && modalOpt.data.env && modalOpt.data.name) {\n\t\t\tawait onLoad(true, modalOpt.data.env, modalOpt.data.name);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tif (modalOpt && modalOpt.data && modalOpt.data.env && modalOpt.data.name) {\n\t\t\tonLoad(isSubscribed, modalOpt.data.env, modalOpt.data.name).catch();\n\t\t}\n\t\treturn (isSubscribed) => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\tmodalOpt &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{modalOpt.title}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"small\"\n\t\t\t\t\tstyle={\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"backgroundColor\": \"black\",\n\t\t\t\t\t\t\t\"color\": \"white\",\n\t\t\t\t\t\t\t\"minHeight\": 300,\n\t\t\t\t\t\t\t\"maxHeight\": 600,\n\t\t\t\t\t\t\t\"overflow\": \"auto\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<pre><code className=\"text-light\">{logResponse}</code></pre>\n\t\t\t\t</div>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"success\" onClick={getLog}>\n\t\t\t\t\t{t(\"soajs:buttons.Refresh\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Alert, Form, Modal} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../../../../services\";\n\nconst infraService = InfraService.getService();\n\nexport default function ExecModal({modalOpt, setModalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState({\n\t\t\"commands\": \"\"\n\t});\n\tconst [execResponse, setExecResponse] = useState(\"\");\n\tconst handleClose = () => setModalOpt({\"show\": false, \"data\": {}, \"mode\": \"preview\", \"title\": \"\"});\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tif (event.target.type === 'number' || event.target.id === \"type\") {\n\t\t\tvalue = parseInt(value);\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.commands.length > 0\n\t\t);\n\t}\n\t\n\tasync function handleExecute() {\n\t\ttry {\n\t\t\tlet response = await infraService.podExec(modalOpt.data.env, {\n\t\t\t\t\"name\": modalOpt.data.name,\n\t\t\t\t\"commands\": fields.commands.split('\\n')\n\t\t\t});\n\t\t\tif (response && response.response) {\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.execCommand\"));\n\t\t\t\tsetExecResponse(response.response);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\tmodalOpt &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{modalOpt.title}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Alert variant=\"info\">\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Commands\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tclassName=\"mb-3\"\n\t\t\t\t\t\t\tid=\"commands\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvalue={fields.commands}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\tvariant=\"info\"\n\t\t\t\t\t\t\tonClick={handleClose}>\n\t\t\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"float-right mr-3\"\n\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\tonClick={handleExecute}\n\t\t\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(\"soajs:buttons.Execute\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t</Alert>\n\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Response\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\"fontSize\": \"70%\"\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tid=\"response\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\trows={6}\n\t\t\t\t\t\tvalue={execResponse}\n\t\t\t\t\t\treadOnly\n\t\t\t\t\t/>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function MetricsModal({modalOpt, setModalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, \"json\": {}, \"mode\": \"preview\", \"title\": \"\"});\n\t\n\treturn (\n\t\tmodalOpt &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{modalOpt.title}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t\n\t\t\t\tComing soon!\n\t\t\t\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Ok\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, \"item\": {}});\n\t\n\tfunction handleSubmit() {\n\t\thandleAction(modalOpt.item.name);\n\t\thandleClose();\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body style={{\n\t\t\t\t\"wordBreak\": \"break-all\"\n\t\t\t}}>\n\t\t\t\t{t(\"soajs:messages.deleteQuestion\")}<span\n\t\t\t\tclassName=\"ml-3 font-weight-bold\">{modalOpt.item ? modalOpt.item.title : \"\"}</span>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {JsonEditor} from \"../../../../../../../soajs/urac/components\";\n\nlet _json = null;\n\nexport default function JsonModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\tconst handleClose = () => {\n\t\t_json = null;\n\t\tsetModalOpt({\"show\": false, \"json\": null, \"mode\": \"code\", \"item\": {}});\n\t};\n\t\n\tfunction handleSubmit() {\n\t\thandleAction(modalOpt.item.name, _json || modalOpt.json);\n\t\thandleClose();\n\t}\n\t\n\tfunction _json_onChange(json) {\n\t\t_json = json;\n\t}\n\t\n\treturn (\n\t\tmodalOpt &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{modalOpt.item.title}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<div style={{\"height\": \"600px\"}}>\n\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\tmode={modalOpt.mode || \"code\"}\n\t\t\t\t\t\tmodes={[\"tree\", \"code\"]}\n\t\t\t\t\t\tjson={_json || modalOpt.json || null}\n\t\t\t\t\t\tonChange={_json_onChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Alert, Badge, Button, Col, Row} from \"react-bootstrap\";\n\nimport {AiOutlineInfoCircle} from \"react-icons/ai\";\nimport {FaWindowMaximize} from \"react-icons/fa\";\nimport {GiGears} from \"react-icons/gi\";\nimport {VscGraph} from \"react-icons/vsc\";\nimport React, {useState} from \"react\";\n\nimport JsonModal from \"./modals/JsonModal\";\nimport LogModal from \"./modals/LogModal\";\nimport ExecModal from \"./modals/ExecModal\";\nimport MetricsModal from \"./modals/MetricsModal\";\nimport {useAppContext} from \"../../../../../../soajs/libs/contextLib\";\nimport EditButton from \"../../../../../buttons/Edit\";\nimport _ from \"lodash\";\nimport DeleteButton from \"../../../../../buttons/Delete\";\nimport DeleteModal from \"./modals/DeleteModal\";\nimport EditModal from \"./modals/EditModal\";\n\nfunction getLastValidStatus(status) {\n\tlet lastValidStatus = {\n\t\t\"t\": null,\n\t\t\"l\": \"-\"\n\t};\n\t//if (status.phase === \"Running\") {\n\t\tif (status.conditions && Array.isArray(status.conditions)) {\n\t\t\tfor (let i = 0; i < status.conditions.length; i++) {\n\t\t\t\tlet oneCond = status.conditions[i];\n\t\t\t\tif (oneCond.status === \"True\") {\n\t\t\t\t\tif (lastValidStatus.t) {\n\t\t\t\t\t\tlet d_set = new Date(lastValidStatus.t);\n\t\t\t\t\t\tlet d_new = new Date(oneCond.lastTransitionTime);\n\t\t\t\t\t\tif (d_new > d_set) {\n\t\t\t\t\t\t\tlastValidStatus = {\n\t\t\t\t\t\t\t\t\"t\": oneCond.lastTransitionTime,\n\t\t\t\t\t\t\t\t\"l\": oneCond.type\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlastValidStatus = {\n\t\t\t\t\t\t\t\"t\": oneCond.lastTransitionTime,\n\t\t\t\t\t\t\t\"l\": oneCond.type\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t//}\n\treturn lastValidStatus.l;\n}\n\nfunction getStatusVariant(status) {\n\tif (status === \"Running\") {\n\t\treturn \"success\";\n\t} else {\n\t\treturn \"danger\"\n\t}\n}\n\nexport default function Pods({items, env, deleteItem, editItem}) {\n\tconst {ability} = useAppContext();\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\tconst [logModalOpt, setLogModalOpt] = useState({\"show\": false, \"data\": {}, \"title\": \"\"});\n\tconst logModalOptShow = (data, title) => setLogModalOpt({\n\t\t\"show\": true,\n\t\t\"data\": data,\n\t\t\"title\": title || \"\"\n\t});\n\tconst [execModalOpt, setExecModalOpt] = useState({\"show\": false, \"data\": {}, \"title\": \"\"});\n\tconst execModalOptShow = (data, title) => setExecModalOpt({\n\t\t\"show\": true,\n\t\t\"data\": data,\n\t\t\"title\": title || \"\"\n\t});\n\tconst [metricsModalOpt, setMetricsModalOpt] = useState({\"show\": false, \"data\": \"\", \"title\": \"\"});\n\tconst metricsModalOptShow = (data, title) => setMetricsModalOpt({\n\t\t\"show\": true,\n\t\t\"data\": data,\n\t\t\"title\": title || \"\"\n\t});\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, \"item\": {}});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, \"item\": item});\n\t\n\tconst [modalEditOpt, setModalEditOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalEditOptShow = (item, json) => setModalEditOpt({\"show\": true, \"item\": item, \"json\": json});\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t<LogModal\n\t\t\t\tmodalOpt={logModalOpt}\n\t\t\t\tsetModalOpt={setLogModalOpt}\n\t\t\t/>\n\t\t\t<ExecModal\n\t\t\t\tmodalOpt={execModalOpt}\n\t\t\t\tsetModalOpt={setExecModalOpt}\n\t\t\t/>\n\t\t\t<MetricsModal\n\t\t\t\tmodalOpt={metricsModalOpt}\n\t\t\t\tsetModalOpt={setMetricsModalOpt}\n\t\t\t/>\n\t\t\t\n\t\t\t{deleteItem &&\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name) => {\n\t\t\t\t\t\tdeleteItem(\"Pod\", name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t{editItem &&\n\t\t\t<EditModal\n\t\t\t\tmodalOpt={modalEditOpt}\n\t\t\t\tsetModalOpt={setModalEditOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name, body) => {\n\t\t\t\t\t\tbody.kind = \"Pod\";\n\t\t\t\t\t\teditItem(body.kind, body.metadata.name, body)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t\n\t\t\t{items.map((rec, i) => (\n\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Badge variant=\"primary\" className=\"float-left mr-3 small mt-1\">pod</Badge>\n\t\t\t\t\t\t\t<span className=\"small\">{rec.metadata.name}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<span className=\"small float-left mr-2 mt-1\">{rec.metadata.creationTimestamp}</span>\n\t\t\t\t\t\t\t<Badge variant={getStatusVariant(rec.status.phase)}\n\t\t\t\t\t\t\t       className=\"float-left small mt-1 mr-1\">{rec.status.phase}</Badge>\n\t\t\t\t\t\t\t<Badge variant=\"light\"\n\t\t\t\t\t\t\t       className=\"float-left small mt-1\">{getLastValidStatus(rec.status)}</Badge>\n\t\t\t\t\t\t\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row className=\"mt-1\">\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1\">\n\t\t\t\t\t\t\t\t<AiOutlineInfoCircle\n\t\t\t\t\t\t\t\t\tclassName=\"text-primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalOptShow(rec, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('infra_pod', 'log') &&\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1 mr-2\">\n\t\t\t\t\t\t\t\t<FaWindowMaximize\n\t\t\t\t\t\t\t\t\tclassName=\"text-secondary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tlogModalOptShow({\"env\": env, \"name\": rec.metadata.name}, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('infra_pod', 'exec') &&\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1 mr-2\">\n\t\t\t\t\t\t\t\t<GiGears\n\t\t\t\t\t\t\t\t\tclassName=\"text-danger\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\texecModalOptShow({\"env\": env, \"name\": rec.metadata.name}, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1 mr-2 ml-2\">\n\t\t\t\t\t\t\t\t<VscGraph\n\t\t\t\t\t\t\t\t\tclassName=\"text-info\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmetricsModalOptShow(\"\", rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{editItem &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalEditOptShow({\n\t\t\t\t\t\t\t\t\t\t\"title\": rec.metadata.name,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.metadata.name\n\t\t\t\t\t\t\t\t\t}, _.merge({}, rec));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{deleteItem &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\"title\": rec.metadata.name, \"name\": rec.metadata.name});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {Alert, Badge, Button, Col, Row} from \"react-bootstrap\";\n\nimport {AiOutlineInfoCircle} from \"react-icons/ai\";\nimport React, {useState} from \"react\";\nimport JsonModal from \"./modals/JsonModal\";\n\nimport _ from \"lodash\";\n\nimport DeleteModal from \"./modals/DeleteModal\";\nimport EditModal from \"./modals/EditModal\";\n\nimport DeleteButton from \"../../../../../buttons/Delete\";\nimport EditButton from \"../../../../../buttons/Edit\";\n\nexport default function Deployments({items, deleteItem, editItem}) {\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, \"item\": {}});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, \"item\": item});\n\t\n\tconst [modalEditOpt, setModalEditOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalEditOptShow = (item, json) => setModalEditOpt({\"show\": true, \"item\": item, \"json\": json});\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t{deleteItem &&\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name) => {\n\t\t\t\t\t\tdeleteItem(\"Deployment\", name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t{editItem &&\n\t\t\t<EditModal\n\t\t\t\tmodalOpt={modalEditOpt}\n\t\t\t\tsetModalOpt={setModalEditOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name, body) => {\n\t\t\t\t\t\tbody.kind = \"Deployment\";\n\t\t\t\t\t\teditItem(body.kind, body.metadata.name, body)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t\n\t\t\t{items.map((rec, i) => (\n\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Badge variant=\"info\" className=\"float-left mr-3 small mt-1\">deployment</Badge>\n\t\t\t\t\t\t\t<span className=\"small\">{rec.metadata.name}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<span className=\"small float-left mr-2\">{rec.metadata.creationTimestamp}</span>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\">\n\t\t\t\t\t\t\t\t<AiOutlineInfoCircle\n\t\t\t\t\t\t\t\t\tclassName=\"text-primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalOptShow(rec, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{editItem &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalEditOptShow({\n\t\t\t\t\t\t\t\t\t\t\"title\": rec.metadata.name,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.metadata.name\n\t\t\t\t\t\t\t\t\t}, _.merge({}, rec));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{deleteItem &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\"title\": rec.metadata.name, \"name\": rec.metadata.name});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {Alert, Badge, Button, Col, Row} from \"react-bootstrap\";\n\nimport {AiOutlineInfoCircle} from \"react-icons/ai\";\nimport React, {useState} from \"react\";\nimport JsonModal from \"./modals/JsonModal\";\nimport DeleteModal from \"./modals/DeleteModal\";\nimport EditModal from \"./modals/EditModal\";\nimport EditButton from \"../../../../../buttons/Edit\";\nimport _ from \"lodash\";\nimport DeleteButton from \"../../../../../buttons/Delete\";\n\nexport default function Daemonsets({items, deleteItem, editItem}) {\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\t\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, \"item\": {}});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, \"item\": item});\n\t\n\tconst [modalEditOpt, setModalEditOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalEditOptShow = (item, json) => setModalEditOpt({\"show\": true, \"item\": item, \"json\": json});\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t{deleteItem &&\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name) => {\n\t\t\t\t\t\tdeleteItem(\"DaemonSet\", name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t{editItem &&\n\t\t\t<EditModal\n\t\t\t\tmodalOpt={modalEditOpt}\n\t\t\t\tsetModalOpt={setModalEditOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name, body) => {\n\t\t\t\t\t\tbody.kind = \"DaemonSet\";\n\t\t\t\t\t\teditItem(body.kind, body.metadata.name, body)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t\n\t\t\t{items.map((rec, i) => (\n\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Badge variant=\"dark\" className=\"float-left mr-3 small mt-1\">daemonset</Badge>\n\t\t\t\t\t\t\t<span className=\"small\">{rec.metadata.name}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<span className=\"small float-left mr-2\">{rec.metadata.creationTimestamp}</span>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\">\n\t\t\t\t\t\t\t\t<AiOutlineInfoCircle\n\t\t\t\t\t\t\t\t\tclassName=\"text-primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalOptShow(rec, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{editItem &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalEditOptShow({\n\t\t\t\t\t\t\t\t\t\t\"title\": rec.metadata.name,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.metadata.name\n\t\t\t\t\t\t\t\t\t}, _.merge({}, rec));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{deleteItem &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\"title\": rec.metadata.name, \"name\": rec.metadata.name});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {Alert, Badge, Button, Col, Row} from \"react-bootstrap\";\n\nimport {AiOutlineInfoCircle} from \"react-icons/ai\";\nimport React, {useState} from \"react\";\nimport JsonModal from \"./modals/JsonModal\";\nimport DeleteModal from \"./modals/DeleteModal\";\nimport EditModal from \"./modals/EditModal\";\nimport EditButton from \"../../../../../buttons/Edit\";\nimport _ from \"lodash\";\nimport DeleteButton from \"../../../../../buttons/Delete\";\n\nexport default function Cronjobs({items, deleteItem, editItem}) {\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, \"item\": {}});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, \"item\": item});\n\t\n\tconst [modalEditOpt, setModalEditOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalEditOptShow = (item, json) => setModalEditOpt({\"show\": true, \"item\": item, \"json\": json});\n\t\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t{deleteItem &&\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name) => {\n\t\t\t\t\t\tdeleteItem(\"CronJob\", name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t{editItem &&\n\t\t\t<EditModal\n\t\t\t\tmodalOpt={modalEditOpt}\n\t\t\t\tsetModalOpt={setModalEditOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name, body) => {\n\t\t\t\t\t\tbody.kind = \"CronJob\";\n\t\t\t\t\t\teditItem(body.kind, body.metadata.name, body)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t\n\t\t\t{items.map((rec, i) => (\n\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Badge variant=\"secondary\" className=\"float-left mr-3 small mt-1\">cronjob</Badge>\n\t\t\t\t\t\t\t<span className=\"small\">{rec.metadata.name}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<span className=\"small float-left mr-2\">{rec.metadata.creationTimestamp}</span>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\">\n\t\t\t\t\t\t\t\t<AiOutlineInfoCircle\n\t\t\t\t\t\t\t\t\tclassName=\"text-primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalOptShow(rec, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{editItem &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalEditOptShow({\n\t\t\t\t\t\t\t\t\t\t\"title\": rec.metadata.name,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.metadata.name\n\t\t\t\t\t\t\t\t\t}, _.merge({}, rec));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{deleteItem &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\"title\": rec.metadata.name, \"name\": rec.metadata.name});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {Alert, Badge, Button, Col, Row} from \"react-bootstrap\";\n\nimport {AiOutlineInfoCircle} from \"react-icons/ai\";\nimport React, {useState} from \"react\";\nimport JsonModal from \"./modals/JsonModal\";\n\nexport default function Hpas({items}) {\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t\n\t\t\t{items.map((rec, i) => (\n\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Badge variant=\"danger\" className=\"float-left mr-3 small mt-1\">hpa</Badge>\n\t\t\t\t\t\t\t<span className=\"small\">{rec.metadata.name}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<span className=\"small float-left mr-2\">{rec.metadata.creationTimestamp}</span>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1\">\n\t\t\t\t\t\t\t\t<AiOutlineInfoCircle\n\t\t\t\t\t\t\t\t\tclassName=\"text-primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalOptShow(rec, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {JsonEditor} from \"../../../../../../../soajs/urac/components\";\n\nlet _json = null;\n\nexport default function AddModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\tconst handleClose = () => {\n\t\t_json = null;\n\t\tsetModalOpt({\"show\": false, \"json\": null, \"mode\": \"code\", \"item\": {}});\n\t};\n\t\n\tfunction handleSubmit() {\n\t\thandleAction(_json || modalOpt.json);\n\t\thandleClose();\n\t}\n\t\n\tfunction _json_onChange(json) {\n\t\t_json = json;\n\t}\n\t\n\treturn (\n\t\tmodalOpt &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{modalOpt.item.title}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<div style={{\"height\": \"600px\"}}>\n\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\tmode={modalOpt.mode || \"code\"}\n\t\t\t\t\t\tmodes={[\"tree\", \"code\"]}\n\t\t\t\t\t\tjson={_json || modalOpt.json || null}\n\t\t\t\t\t\tonChange={_json_onChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Col, Form, Jumbotron, Row, Badge} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../../services\";\n\nimport Pods from \"../../catalog/common/container/Pods\";\nimport Deployments from \"../../catalog/common/container/Deployments\";\nimport Daemonsets from \"../../catalog/common/container/Daemonsets\";\nimport Cronjobs from \"../../catalog/common/container/Cronjobs\";\nimport Hpas from \"../../catalog/common/container/Hpas\";\nimport {useAppContext} from \"../../../../../soajs/libs/contextLib\";\nimport AddButton from \"../../../../buttons/Add\";\nimport AddModal from \"../../catalog/common/container/modals/AddModal\";\n\nconst infraService = InfraService.getService();\nconst initCriteria = {\n\t\"name\": \"\", \"mode\": \"Pod\", \"continue\": null, \"remainingItemCount\": 0\n};\n\nasync function onLoad(setFields, criteria, env, setMode, setCriteria, isSubscribed) {\n\ttry {\n\t\tlet data = {\"mode\": criteria.mode, limit: 100}\n\t\tif (criteria.name && criteria.name.length > 0) {\n\t\t\tdata.filter = {\"fieldSelector\": \"metadata.name=\" + criteria.name};\n\t\t}\n\t\tconst response = await infraService.getWorkloads(env, data);\n\t\tif (isSubscribed && response && response.items) {\n\t\t\tlet items = response.items;\n\t\t\tsetFields([...items]);\n\t\t\tsetMode(criteria.mode);\n\t\t\tif (response.metadata && response.metadata.continue) {\n\t\t\t\tcriteria.continue = response.metadata.continue;\n\t\t\t\tcriteria.remainingItemCount = response.metadata.remainingItemCount;\n\t\t\t\tsetCriteria({...criteria});\n\t\t\t} else {\n\t\t\t\tcriteria.continue = null;\n\t\t\t\tcriteria.remainingItemCount = 0;\n\t\t\t\tsetCriteria({...criteria});\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Workloads({environment}) {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [mode, setMode] = useState(\"Pod\");\n\tconst [criteria, setCriteria] = useState(initCriteria);\n\t\n\tconst [modalAddOpt, setModalAddOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalAddOptShow = (item, json) => setModalAddOpt({\"show\": true, \"item\": item, \"json\": json});\n\t\n\tasync function addItem(mode, body) {\n\t\ttry {\n\t\t\tawait infraService.addWorkload(environment.code, {body, mode});\n\t\t\tawait reLoad(true);\n\t\t\tNotificationManager.success(t(\"soajs:messages.add_\" + mode));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function deleteItem(mode, name) {\n\t\ttry {\n\t\t\tawait infraService.deleteWorkload(environment.code, {name, mode});\n\t\t\tawait reLoad(true);\n\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + mode));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function editItem(mode, name, body) {\n\t\ttry {\n\t\t\tawait infraService.updateWorkload(environment.code, {name, body, mode});\n\t\t\tawait reLoad(true);\n\t\t\tNotificationManager.success(t(\"soajs:messages.update_\" + mode));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function reLoad(isSubscribed) {\n\t\tawait onLoad(setFields, criteria, environment.code, setMode, setCriteria, isSubscribed);\n\t}\n\t\n\tasync function loadMore() {\n\t\ttry {\n\t\t\tlet data = {\"mode\": criteria.mode, limit: 3}\n\t\t\tif (criteria.name && criteria.name.length > 0) {\n\t\t\t\tdata.filter = {\"fieldSelector\": \"metadata.name=\" + criteria.name};\n\t\t\t}\n\t\t\tif (criteria.continue) {\n\t\t\t\tdata.continue = criteria.continue;\n\t\t\t}\n\t\t\tconst response = await infraService.getWorkloads(environment.code, data);\n\t\t\tif (response && response.items) {\n\t\t\t\t\n\t\t\t\tsetFields(fields.concat(response.items));\n\t\t\t\tif (response.metadata && response.metadata.continue) {\n\t\t\t\t\tcriteria.continue = response.metadata.continue;\n\t\t\t\t\tcriteria.remainingItemCount = response.metadata.remainingItemCount;\n\t\t\t\t\tsetCriteria({...criteria});\n\t\t\t\t} else {\n\t\t\t\t\tcriteria.continue = null;\n\t\t\t\t\tcriteria.remainingItemCount = 0;\n\t\t\t\t\tsetCriteria({...criteria});\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tawait reLoad(true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed) {\n\t\t\tsetCriteria(initCriteria);\n\t\t\tonLoad(setFields, initCriteria, environment.code, setMode, setCriteria, isSubscribed).catch();\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<AddModal\n\t\t\t\tmodalOpt={modalAddOpt}\n\t\t\t\tsetModalOpt={setModalAddOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(body) => {\n\t\t\t\t\t\tbody.kind = criteria.mode;\n\t\t\t\t\t\taddItem(body.kind, body).catch();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Jumbotron className=\"p-3 m-0\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col md={3} lg={3} xl={2}>\n\t\t\t\t\t\t<h5 className=\"font-weight-bold m-0 float-left\">{t(\"soajs:titles.workloads\")}</h5>\n\t\t\t\t\t\t{ability.can('infra_workload', 'add') &&\n\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 \"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tmodalAddOptShow({\n\t\t\t\t\t\t\t\t\t\"title\": \"Workload \" + criteria.mode,\n\t\t\t\t\t\t\t\t}, null);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>}\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col md={3} lg={2}>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"mode\"\n\t\t\t\t\t\t\tvalue={criteria.mode}\n\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"Deployment\">Deployment</option>\n\t\t\t\t\t\t\t<option value=\"DaemonSet\">DaemonSet</option>\n\t\t\t\t\t\t\t<option value=\"CronJob\">CronJob</option>\n\t\t\t\t\t\t\t<option value=\"Pod\">Pod</option>\n\t\t\t\t\t\t\t<option value=\"HPA\">HPA</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col xs={8} lg={9}>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.name}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={4} lg={3}>\n\t\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Jumbotron>\n\t\t\t<hr/>\n\t\t\t{fields.length > 0 && mode === \"Pod\" &&\n\t\t\t<Pods\n\t\t\t\titems={fields}\n\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\tdeleteItem={ability.can('infra_pod', 'delete') ? deleteItem : null}\n\t\t\t\teditItem={ability.can('infra_workload', 'edit') ? editItem : null}\n\t\t\t/>\n\t\t\t}\n\t\t\t{fields.length > 0 && mode === \"Deployment\" &&\n\t\t\t<Deployments\n\t\t\t\titems={fields}\n\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\tdeleteItem={ability.can('infra_workload', 'delete') ? deleteItem : null}\n\t\t\t\teditItem={ability.can('infra_workload', 'edit') ? editItem : null}\n\t\t\t/>\n\t\t\t}\n\t\t\t{fields.length > 0 && mode === \"DaemonSet\" &&\n\t\t\t<Daemonsets\n\t\t\t\titems={fields}\n\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\tdeleteItem={ability.can('infra_workload', 'delete') ? deleteItem : null}\n\t\t\t\teditItem={ability.can('infra_workload', 'edit') ? editItem : null}\n\t\t\t/>\n\t\t\t}\n\t\t\t{fields.length > 0 && mode === \"CronJob\" &&\n\t\t\t<Cronjobs\n\t\t\t\titems={fields}\n\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\tdeleteItem={ability.can('infra_workload', 'delete') ? deleteItem : null}\n\t\t\t\teditItem={ability.can('infra_workload', 'edit') ? editItem : null}\n\t\t\t/>\n\t\t\t}\n\t\t\t{fields.length > 0 && mode === \"HPA\" &&\n\t\t\t<Hpas\n\t\t\t\titems={fields}\n\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t/>\n\t\t\t}\n\t\t\t{criteria.continue &&\n\t\t\t<Button\n\t\t\t\tsize=\"sm\"\n\t\t\t\tclassName=\"mt-3\"\n\t\t\t\tblock variant=\"light\"\n\t\t\t\tonClick={loadMore}\n\t\t\t>\n\t\t\t\t<Badge variant=\"light\" className=\"text-muted\">({criteria.remainingItemCount} remaining)</Badge> Click\n\t\t\t\there to load more\n\t\t\t\t...\n\t\t\t</Button>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Alert, Col, Row, Badge, Button} from \"react-bootstrap\";\n\nimport {AiOutlineInfoCircle} from \"react-icons/ai\";\nimport React, {useState} from \"react\";\nimport JsonModal from \"./modals/JsonModal\";\nimport DeleteModal from \"./modals/DeleteModal\";\nimport EditModal from \"./modals/EditModal\";\nimport EditButton from \"../../../../../buttons/Edit\";\nimport _ from \"lodash\";\nimport DeleteButton from \"../../../../../buttons/Delete\";\n\nexport default function Services({items, deleteItem, editItem}) {\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, \"item\": {}});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, \"item\": item});\n\t\n\tconst [modalEditOpt, setModalEditOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalEditOptShow = (item, json) => setModalEditOpt({\"show\": true, \"item\": item, \"json\": json});\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t{deleteItem &&\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name) => {\n\t\t\t\t\t\tdeleteItem(\"Service\", name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t{editItem &&\n\t\t\t<EditModal\n\t\t\t\tmodalOpt={modalEditOpt}\n\t\t\t\tsetModalOpt={setModalEditOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name, body) => {\n\t\t\t\t\t\tbody.kind = \"Service\";\n\t\t\t\t\t\teditItem(body.kind, body.metadata.name, body)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t\n\t\t\t{items.map((rec, i) => (\n\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Badge variant=\"light\" className=\"float-left mr-3 small mt-1\">service</Badge>\n\t\t\t\t\t\t\t<span className=\"small\">{rec.metadata.name}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<span className=\"small float-left mr-2\">{rec.metadata.creationTimestamp}</span>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\">\n\t\t\t\t\t\t\t\t<AiOutlineInfoCircle\n\t\t\t\t\t\t\t\t\tclassName=\"text-primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalOptShow(rec, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{editItem &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalEditOptShow({\n\t\t\t\t\t\t\t\t\t\t\"title\": rec.metadata.name,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.metadata.name\n\t\t\t\t\t\t\t\t\t}, _.merge({}, rec));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{deleteItem &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\"title\": rec.metadata.name, \"name\": rec.metadata.name});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {Button, Col, Form, Jumbotron, Row, Badge} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {useTranslation} from \"react-i18next\";\n\nimport AddButton from \"../../../../buttons/Add\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../../services\";\n\nimport ServicesContainer from \"../../catalog/common/container/Services\";\nimport {useAppContext} from \"../../../../../soajs/libs/contextLib\";\nimport AddModal from \"../../catalog/common/container/modals/AddModal\";\n\nconst infraService = InfraService.getService();\nconst initCriteria = {\n\t\"name\": \"\", \"mode\": \"Service\", \"continue\": null, \"remainingItemCount\": 0\n};\n\nasync function onLoad(setFields, criteria, env, setMode, setCriteria, isSubscribed) {\n\ttry {\n\t\tlet data = {\"mode\": criteria.mode, limit: 100}\n\t\tif (criteria.name && criteria.name.length > 0) {\n\t\t\tdata.filter = {\"fieldSelector\": \"metadata.name=\" + criteria.name};\n\t\t}\n\t\tconst response = await infraService.getServices(env, data);\n\t\tif (isSubscribed && response && response.items) {\n\t\t\tsetFields(response.items)\n\t\t\tsetMode(criteria.mode);\n\t\t\tif (response.metadata && response.metadata.continue) {\n\t\t\t\tcriteria.continue = response.metadata.continue;\n\t\t\t\tcriteria.remainingItemCount = response.metadata.remainingItemCount;\n\t\t\t\tsetCriteria({...criteria});\n\t\t\t} else {\n\t\t\t\tcriteria.continue = null;\n\t\t\t\tcriteria.remainingItemCount = 0;\n\t\t\t\tsetCriteria({...criteria});\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Services({environment}) {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [mode, setMode] = useState(\"Pod\");\n\tconst [criteria, setCriteria] = useState(initCriteria);\n\t\n\tconst [modalAddOpt, setModalAddOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalAddOptShow = (item, json) => setModalAddOpt({\"show\": true, \"item\": item, \"json\": json});\n\t\n\tasync function addItem(mode, body) {\n\t\ttry {\n\t\t\tawait infraService.addService(environment.code, {body, mode});\n\t\t\tawait reLoad(true);\n\t\t\tNotificationManager.success(t(\"soajs:messages.add_\" + mode));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function deleteItem(mode, name) {\n\t\ttry {\n\t\t\tawait infraService.deleteService(environment.code, {name, mode});\n\t\t\tawait reLoad(true);\n\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + mode));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function editItem(mode, name, body) {\n\t\ttry {\n\t\t\tawait infraService.updateService(environment.code, {name, body, mode});\n\t\t\tawait reLoad(true);\n\t\t\tNotificationManager.success(t(\"soajs:messages.update_\" + mode));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function reLoad(isSubscribed) {\n\t\tawait onLoad(setFields, criteria, environment.code, setMode, setCriteria, isSubscribed);\n\t}\n\t\n\tasync function loadMore() {\n\t\ttry {\n\t\t\tlet data = {\"mode\": criteria.mode, limit: 3}\n\t\t\tif (criteria.name && criteria.name.length > 0) {\n\t\t\t\tdata.filter = {\"fieldSelector\": \"metadata.name=\" + criteria.name};\n\t\t\t}\n\t\t\tif (criteria.continue) {\n\t\t\t\tdata.continue = criteria.continue;\n\t\t\t}\n\t\t\tconst response = await infraService.getServices(environment.code, data);\n\t\t\tif (response && response.items) {\n\t\t\t\t\n\t\t\t\tsetFields(fields.concat(response.items));\n\t\t\t\tif (response.metadata && response.metadata.continue) {\n\t\t\t\t\tcriteria.continue = response.metadata.continue;\n\t\t\t\t\tcriteria.remainingItemCount = response.metadata.remainingItemCount;\n\t\t\t\t\tsetCriteria({...criteria});\n\t\t\t\t} else {\n\t\t\t\t\tcriteria.continue = null;\n\t\t\t\t\tcriteria.remainingItemCount = 0;\n\t\t\t\t\tsetCriteria({...criteria});\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tawait reLoad(true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed) {\n\t\t\tsetCriteria(initCriteria);\n\t\t\tonLoad(setFields, initCriteria, environment.code, setMode, setCriteria, isSubscribed).catch();\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<AddModal\n\t\t\t\tmodalOpt={modalAddOpt}\n\t\t\t\tsetModalOpt={setModalAddOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(body) => {\n\t\t\t\t\t\tbody.kind = criteria.mode;\n\t\t\t\t\t\taddItem(body.kind, body).catch();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Jumbotron className=\"p-3 m-0\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col md={3} lg={2}>\n\t\t\t\t\t\t<h5 className=\"font-weight-bold m-0 float-left\">{t(\"soajs:titles.services\")}</h5>\n\t\t\t\t\t\t{ability.can('infra_service', 'add') &&\n\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 \"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tmodalAddOptShow({\n\t\t\t\t\t\t\t\t\t\"title\": \"Service\",\n\t\t\t\t\t\t\t\t}, null);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>}\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col md={3} lg={2}>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"mode\"\n\t\t\t\t\t\t\tvalue={criteria.mode}\n\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"Service\">Service</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col xs={8} lg={9}>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.name}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={4} lg={3}>\n\t\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Jumbotron>\n\t\t\t<hr/>\n\t\t\t{fields.length > 0 && mode === \"Service\" &&\n\t\t\t<ServicesContainer\n\t\t\t\titems={fields}\n\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\tdeleteItem={ability.can('infra_service', 'delete') ? deleteItem : null}\n\t\t\t\teditItem={ability.can('infra_service', 'edit') ? editItem : null}\n\t\t\t/>\n\t\t\t}\n\t\t\t{criteria.continue &&\n\t\t\t<Button\n\t\t\t\tsize=\"sm\"\n\t\t\t\tclassName=\"mt-3\"\n\t\t\t\tblock variant=\"light\"\n\t\t\t\tonClick={loadMore}\n\t\t\t>\n\t\t\t\t<Badge variant=\"light\" className=\"text-muted\">({criteria.remainingItemCount} remaining)</Badge> Click\n\t\t\t\there to load more\n\t\t\t\t...\n\t\t\t</Button>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Alert} from \"react-bootstrap\";\nimport React from \"react\";\n\nexport default function Storage({environment}) {\n\t\n\treturn (\n\t\t\n\t\t<Alert variant=\"info\" className=\"mt-4 mb-4\">\n\t\t\tStorage: coming soon\n\t\t</Alert>\n\t\n\t);\n}","import {Alert, Col, Row, Badge, Button} from \"react-bootstrap\";\n\nimport {AiOutlineInfoCircle} from \"react-icons/ai\";\nimport React, {useState} from \"react\";\nimport JsonModal from \"./modals/JsonModal\";\nimport DeleteModal from \"./modals/DeleteModal\";\nimport EditModal from \"./modals/EditModal\";\nimport EditButton from \"../../../../../buttons/Edit\";\nimport _ from \"lodash\";\nimport DeleteButton from \"../../../../../buttons/Delete\";\n\nexport default function Secrets({items, deleteItem, editItem}) {\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, \"item\": {}});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, \"item\": item});\n\t\n\tconst [modalEditOpt, setModalEditOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalEditOptShow = (item, json) => setModalEditOpt({\"show\": true, \"item\": item, \"json\": json});\n\t\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t{deleteItem &&\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name) => {\n\t\t\t\t\t\tdeleteItem(\"Secret\", name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t{editItem &&\n\t\t\t<EditModal\n\t\t\t\tmodalOpt={modalEditOpt}\n\t\t\t\tsetModalOpt={setModalEditOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name, body) => {\n\t\t\t\t\t\tbody.kind = \"Secret\";\n\t\t\t\t\t\teditItem(body.kind, body.metadata.name, body)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t\n\t\t\t{items.map((rec, i) => (\n\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Badge variant=\"danger\" className=\"float-left mr-3 small mt-1\">secret</Badge>\n\t\t\t\t\t\t\t<span className=\"small\">{rec.metadata.name}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<span className=\"small float-left mr-2\">{rec.metadata.creationTimestamp}</span>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\">\n\t\t\t\t\t\t\t\t<AiOutlineInfoCircle\n\t\t\t\t\t\t\t\t\tclassName=\"text-primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalOptShow(rec, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{editItem &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalEditOptShow({\n\t\t\t\t\t\t\t\t\t\t\"title\": rec.metadata.name,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.metadata.name\n\t\t\t\t\t\t\t\t\t}, _.merge({}, rec));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{deleteItem &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\"title\": rec.metadata.name, \"name\": rec.metadata.name});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {Button, Form, Modal, Alert} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {JsonEditor, NotificationManager} from \"../../../../../../../soajs/urac/components\";\nimport {LoaderButton} from \"../../../../../../../soajs/helpers\";\nimport {useAppContext} from \"../../../../../../../soajs/libs/contextLib\";\nimport {InfraService} from \"../../../../../../../services\";\n\nconst initModel = {\n\t\"type\": \"\",\n\t\"name\": \"\",\n\t\"label\": \"\",\n\t\n\t\"server\": \"\",\n\t\"email\": \"\",\n\t\"username\": \"\",\n\t\"password\": \"\",\n\t\n\t\"text\": \"\",\n\t\"file\": null,\n\t\"json\": null\n};\nconst infraService = InfraService.getService();\nlet _json = null;\n\nexport default function AddSecretWizardModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [fields, setFields] = useState(initModel);\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\tif (fields.type === \"Text\") {\n\t\t\tvalid = valid && fields.label.length > 0 && fields.text.length > 0;\n\t\t}\n\t\tif (fields.type === \"Json\") {\n\t\t\tvalid = valid && fields.label.length > 0 && _json;\n\t\t}\n\t\tif (fields.type === \"File\") {\n\t\t\tvalid = valid && fields.label.length > 0 && fields.file;\n\t\t}\n\t\tif (fields.type === \"Registry\") {\n\t\t\tvalid = valid && fields.server.length > 0 && fields.email.length > 0 && fields.username.length > 0 && fields.password.length > 0;\n\t\t}\n\t\treturn (\n\t\t\tvalid && fields.name.length > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tif (event.target.type === 'number') {\n\t\t\tvalue = parseInt(value);\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tfunction handleFileInput(event) {\n\t\tconst file = event.target.files[0];\n\t\tif (file) {\n\t\t\tif (file.size > 2048000) {\n\t\t\t\tNotificationManager.error(\"File size cannot exceed more than 2MB\");\n\t\t\t\tevent.target.value = null;\n\t\t\t\tfields[event.target.id] = null;\n\t\t\t\tsetFields({...fields});\n\t\t\t} else {\n\t\t\t\tlet fileReader = new FileReader();\n\t\t\t\tfileReader.onloadend = () => {\n\t\t\t\t\tconst content = fileReader.result;\n\t\t\t\t\tfields[event.target.id] = content;\n\t\t\t\t\tsetFields({...fields});\n\t\t\t\t};\n\t\t\t\tfileReader.readAsText(file);\n\t\t\t}\n\t\t} else {\n\t\t\tfields[event.target.id] = null;\n\t\t\tsetFields({...fields});\n\t\t}\n\t}\n\t\n\tconst handleClose = () => {\n\t\t_json = null;\n\t\tsetModalOpt({\"show\": false, \"json\": null, \"mode\": \"code\", \"item\": {}});\n\t};\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\tsetIsLoading(true);\n\t\tif (fields.type === \"Registry\") {\n\t\t\ttry {\n\t\t\t\tlet content = {\n\t\t\t\t\t\"username\": fields.username,\n\t\t\t\t\t\"password\": fields.password,\n\t\t\t\t\t\"email\": fields.email,\n\t\t\t\t\t\"server\": fields.server\n\t\t\t\t};\n\t\t\t\tawait infraService.addSecretRegistryWizard(modalOpt.item.env, fields.name, [content]);\n\t\t\t\thandleAction();\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.add_Secret\"));\n\t\t\t\thandleClose();\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tlet content = {\"name\": fields.label};\n\t\t\t\tif (fields.type === \"Text\") {\n\t\t\t\t\tcontent.content = fields.text;\n\t\t\t\t}\n\t\t\t\tif (fields.type === \"Json\") {\n\t\t\t\t\tcontent.content = JSON.stringify(fields.json);\n\t\t\t\t}\n\t\t\t\tif (fields.type === \"File\") {\n\t\t\t\t\tcontent.content = fields.file;\n\t\t\t\t}\n\t\t\t\tawait infraService.addSecretWizard(modalOpt.item.env, fields.name, [content]);\n\t\t\t\thandleAction();\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.add_Secret\"));\n\t\t\t\thandleClose();\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\tsetIsLoading(false);\n\t}\n\t\n\tfunction _json_onChange(json) {\n\t\t_json = json;\n\t\tfields.json = _json;\n\t}\n\t\n\tuseEffect(() => {\n\t\t_json = null;\n\t\tsetFields({...initModel});\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\tmodalOpt &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t\t<Modal.Title>{modalOpt.item.title}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Type\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control as=\"select\" id=\"type\" size=\"sm\"\n\t\t\t\t\t\t              defaultValue={fields.type}\n\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"---\"> --- Select a type ---</option>\n\t\t\t\t\t\t\t{ability.can('infra_secret', 'add_wizard') &&\n\t\t\t\t\t\t\t<option value=\"Text\">Text Content</option>}\n\t\t\t\t\t\t\t{ability.can('infra_secret', 'add_wizard') &&\n\t\t\t\t\t\t\t<option value=\"Json\">Json Content</option>}\n\t\t\t\t\t\t\t{ability.can('infra_secret', 'add_wizard') &&\n\t\t\t\t\t\t\t<option value=\"File\">File Content</option>}\n\t\t\t\t\t\t\t{ability.can('infra_secret', 'add_wizard_registry') &&\n\t\t\t\t\t\t\t<option value=\"Registry\">Private Registry</option>}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<hr/>\n\t\t\t\t\t<Alert variant=\"light\">\n\t\t\t\t\t\t{fields.type === \"Text\" &&\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Label\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"label\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.label}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"text\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\trows={15}\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.text}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{fields.type === \"Json\" &&\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Label\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"label\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.label}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<div style={{\"height\": \"400px\"}}>\n\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\tmode={modalOpt.mode || \"code\"}\n\t\t\t\t\t\t\t\t\tmodes={[\"tree\", \"code\"]}\n\t\t\t\t\t\t\t\t\tjson={_json || modalOpt.json || null}\n\t\t\t\t\t\t\t\t\tonChange={_json_onChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{fields.type === \"File\" &&\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Label\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"label\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.label}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.File\n\t\t\t\t\t\t\t\t\tclassName=\"position-relative\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tname=\"file\"\n\t\t\t\t\t\t\t\t\tlabel=\"File\"\n\t\t\t\t\t\t\t\t\tonChange={handleFileInput}\n\t\t\t\t\t\t\t\t\tid=\"file\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{fields.type === \"Registry\" &&\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Server\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"server\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.server}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\tEnter the Registry Server: https://index.docker.io/v1/\n\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Email\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.email}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Username\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.username}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Password\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.password}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Alert>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<LoaderButton\n\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t\t</LoaderButton>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Form>\n\t\t</Modal>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport {FaHatWizard} from \"react-icons/fa\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function AddWizard({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.AddWizard\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button variant=\"success\" size=\"sm\" {...props}>\n\t\t\t\t<FaHatWizard/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import {Button, Col, Form, Jumbotron, Row, Badge} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../../services\";\n\nimport SecretsContainer from \"../../catalog/common/container/Secrets\";\nimport {useAppContext} from \"../../../../../soajs/libs/contextLib\";\nimport AddModal from \"../../catalog/common/container/modals/AddModal\";\nimport AddSecretWizardModal from \"../../catalog/common/container/modals/AddSecretWizardModal\";\nimport AddButton from \"../../../../buttons/Add\";\nimport AddWizardButton from \"../../../../buttons/AddWizard\";\n\nconst infraService = InfraService.getService();\nconst initCriteria = {\n\t\"name\": \"\", \"mode\": \"Secret\", \"continue\": null, \"remainingItemCount\": 0\n};\n\nasync function onLoad(setFields, criteria, env, setMode, setCriteria, isSubscribed) {\n\ttry {\n\t\tlet data = {\"mode\": criteria.mode, limit: 100}\n\t\tif (criteria.name && criteria.name.length > 0) {\n\t\t\tdata.filter = {\"fieldSelector\": \"metadata.name=\" + criteria.name};\n\t\t}\n\t\tconst response = await infraService.getConfigurations(env, data);\n\t\tif (isSubscribed && response && response.items) {\n\t\t\tsetFields(response.items)\n\t\t\tsetMode(criteria.mode);\n\t\t\tif (response.metadata && response.metadata.continue) {\n\t\t\t\tcriteria.continue = response.metadata.continue;\n\t\t\t\tcriteria.remainingItemCount = response.metadata.remainingItemCount;\n\t\t\t\tsetCriteria({...criteria});\n\t\t\t} else {\n\t\t\t\tcriteria.continue = null;\n\t\t\t\tcriteria.remainingItemCount = 0;\n\t\t\t\tsetCriteria({...criteria});\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Configuration({environment}) {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [mode, setMode] = useState(\"Pod\");\n\tconst [criteria, setCriteria] = useState(initCriteria);\n\t\n\tconst [modalAddOpt, setModalAddOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalAddOptShow = (item, json) => setModalAddOpt({\"show\": true, \"item\": item, \"json\": json});\n\tconst [modalAddWizardOpt, setModalAddWizardOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalAddWizardOptShow = (item, json) => setModalAddWizardOpt({\"show\": true, \"item\": item, \"json\": json});\n\t\n\tasync function addItem(mode, body) {\n\t\ttry {\n\t\t\tawait infraService.addConfiguration(environment.code, {body, mode});\n\t\t\tawait reLoad(true);\n\t\t\tNotificationManager.success(t(\"soajs:messages.add_\" + mode));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function deleteItem(mode, name) {\n\t\ttry {\n\t\t\tawait infraService.deleteConfiguration(environment.code, {name, mode});\n\t\t\tawait reLoad(true);\n\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + mode));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function reLoad(isSubscribed) {\n\t\tawait onLoad(setFields, criteria, environment.code, setMode, setCriteria, isSubscribed);\n\t}\n\t\n\tasync function loadMore() {\n\t\ttry {\n\t\t\tlet data = {\"mode\": criteria.mode, limit: 3}\n\t\t\tif (criteria.name && criteria.name.length > 0) {\n\t\t\t\tdata.filter = {\"fieldSelector\": \"metadata.name=\" + criteria.name};\n\t\t\t}\n\t\t\tif (criteria.continue) {\n\t\t\t\tdata.continue = criteria.continue;\n\t\t\t}\n\t\t\tconst response = await infraService.getConfigurations(environment.code, data);\n\t\t\tif (response && response.items) {\n\t\t\t\t\n\t\t\t\tsetFields(fields.concat(response.items));\n\t\t\t\tif (response.metadata && response.metadata.continue) {\n\t\t\t\t\tcriteria.continue = response.metadata.continue;\n\t\t\t\t\tcriteria.remainingItemCount = response.metadata.remainingItemCount;\n\t\t\t\t\tsetCriteria({...criteria});\n\t\t\t\t} else {\n\t\t\t\t\tcriteria.continue = null;\n\t\t\t\t\tcriteria.remainingItemCount = 0;\n\t\t\t\t\tsetCriteria({...criteria});\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tawait reLoad(true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed) {\n\t\t\tsetCriteria(initCriteria);\n\t\t\tonLoad(setFields, initCriteria, environment.code, setMode, setCriteria, isSubscribed).catch();\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<AddSecretWizardModal\n\t\t\t\tmodalOpt={modalAddWizardOpt}\n\t\t\t\tsetModalOpt={setModalAddWizardOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t() => {\n\t\t\t\t\t\treLoad(true).catch();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<AddModal\n\t\t\t\tmodalOpt={modalAddOpt}\n\t\t\t\tsetModalOpt={setModalAddOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(body) => {\n\t\t\t\t\t\tbody.kind = criteria.mode;\n\t\t\t\t\t\taddItem(body.kind, body).catch();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Jumbotron className=\"p-3 m-0\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col md={3} lg={3} xl={2}>\n\t\t\t\t\t\t<h5 className=\"font-weight-bold m-0 float-left\">{t(\"soajs:titles.secrets\")}</h5>\n\t\t\t\t\t\t{ability.can('infra_configuration', 'add') &&\n\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tmodalAddOptShow({\n\t\t\t\t\t\t\t\t\t\"title\": \"Configuration \" + criteria.mode\n\t\t\t\t\t\t\t\t}, null);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{(ability.can('infra_secret', 'add_wizard') || ability.can('infra_secret', 'add_wizard_registry')) &&\n\t\t\t\t\t\t<AddWizardButton\n\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 mr-2 ml-1\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tmodalAddWizardOptShow({\n\t\t\t\t\t\t\t\t\t\"title\": criteria.mode + \" Wizard\",\n\t\t\t\t\t\t\t\t\t\"env\": environment.code\n\t\t\t\t\t\t\t\t}, null);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col md={3} lg={2}>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"mode\"\n\t\t\t\t\t\t\tvalue={criteria.mode}\n\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"Secret\">Secret</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col xs={8} lg={9}>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.name}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={4} lg={3}>\n\t\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Jumbotron>\n\t\t\t<hr/>\n\t\t\t{fields.length > 0 && mode === \"Secret\" &&\n\t\t\t<SecretsContainer\n\t\t\t\titems={fields}\n\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\tdeleteItem={ability.can('infra_configuration', 'delete') ? deleteItem : null}\n\t\t\t/>\n\t\t\t}\n\t\t\t{criteria.continue &&\n\t\t\t<Button\n\t\t\t\tsize=\"sm\"\n\t\t\t\tclassName=\"mt-3\"\n\t\t\t\tblock variant=\"light\"\n\t\t\t\tonClick={loadMore}\n\t\t\t>\n\t\t\t\t<Badge variant=\"light\" className=\"text-muted\">({criteria.remainingItemCount} remaining)</Badge> Click\n\t\t\t\there to load more\n\t\t\t\t...\n\t\t\t</Button>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Switch} from \"react-router-dom\";\nimport React from \"react\";\nimport {AuthenticatedRoute} from \"../../../../soajs/helpers\";\n\nimport Rbac from \"./Rbac/Rbac\";\nimport Nodes from \"./Nodes/Nodes\";\nimport Workloads from \"./Workloads/Workloads\";\nimport Services from \"./Services/Services\";\nimport Storage from \"./Storage/Storage\";\nimport Configuration from \"./Configuration/Configuration\";\n\n\nconst rootPath = \"/environments\";\n\nexport default function Routes({environment}) {\n\treturn (\n\t\t<Switch>\n\t\t\t\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/cluster/nodes\"}>\n\t\t\t\t<Nodes\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/cluster/workloads\"}>\n\t\t\t\t<Workloads\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/cluster/services\"}>\n\t\t\t\t<Services\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/cluster/storage\"}>\n\t\t\t\t<Storage\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/cluster/configuration\"}>\n\t\t\t\t<Configuration\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/cluster/rbac\"}>\n\t\t\t\t<Rbac\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\n\t\t</Switch>\n\t)\n}","import {Alert} from \"react-bootstrap\";\nimport React from \"react\";\nimport Routes from \"./Routes\";\n\nexport default function Cluster({environment}) {\n\t\n\treturn (\n\t\tenvironment &&\n\t\t<>\n\t\t\t{environment.deployer && environment.deployer.type === \"container\" ? (\n\t\t\t\t<Routes\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Alert variant=\"info\" className=\"mt-4 mb-4\">\n\t\t\t\t\tThis environment is of type <span className=\"text-success\">manual</span>, Cluster is only available\n\t\t\t\t\tfor environments of type <span className=\"text-info\">container</span>\n\t\t\t\t</Alert>\n\t\t\t)}\n\t\t</>\n\t);\n}","import {Card, CardDeck, ListGroup, ListGroupItem, Row, Col} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {JsonEditor} from \"../../../../soajs/urac/components\";\n\nexport default function DefaultViewRegistry({registry}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\treturn (\n\t\tregistry &&\n\t\t<div>\n\t\t\t<Card bg=\"light\">\n\t\t\t\t<Card.Body>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"small\">{registry.protocol}://{registry.apiPrefix ? registry.apiPrefix + \".\" : \"\"}{registry.domain}:{registry.port}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row className=\"mt-3 small\">\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t{registry.description}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Card.Body>\n\t\t\t</Card>\n\t\t\t\n\t\t\t<CardDeck className=\"mb-4 small mt-4\">\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Awareness\")}</Card.Title>\n\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.CacheTTL\")}:</span> {registry.services.config.awareness.cacheTTL}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Healthcheckinterval\")}:</span> {registry.services.config.awareness.healthCheckInterval}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Autoreloadregistry\")}:</span> {registry.services.config.awareness.autoRelaodRegistry}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Maxlogcount\")}:</span> {registry.services.config.awareness.maxLogCount}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Automaticregisterservice\")}:</span> {\"\" + registry.services.config.awareness.autoRegisterService}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Cors\")}</Card.Title>\n\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Enabled\")}:</span> {\"\" + registry.services.config.cors.enabled}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Credentials\")}:</span> {\"\" + registry.services.config.cors.credentials}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Origin\")}:</span> {registry.services.config.cors.origin}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Maxage\")}:</span> {\"\" + registry.services.config.cors.maxage}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Methods\")}:</span> {registry.services.config.cors.methods}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Headers\")}:</span> {\"\" + registry.services.config.cors.headers}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t</CardDeck>\n\t\t\t\n\t\t\t<CardDeck className=\"mb-4 small\">\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Requests\")}</Card.Title>\n\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Authorization\")}:</span> {\"\" + registry.services.controller.authorization}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Timeout\")}:</span> {registry.services.controller.requestTimeout}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Timeoutrenewal\")}:</span> {registry.services.controller.requestTimeoutRenewal}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Ports\")}</Card.Title>\n\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Gatewayport\")}:</span> {registry.services.config.ports.controller}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Gatewaymaintenanceport\")}:</span> {registry.services.config.ports.controller + registry.services.config.ports.maintenanceInc}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Randomizedportincrement\")}:</span> {registry.services.config.ports.randomInc}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t</CardDeck>\n\t\t\t\n\t\t\t<CardDeck className=\"mb-4 small\">\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Logger\")}</Card.Title>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\tmode={\"preview\"}\n\t\t\t\t\t\t\tjson={registry.services.config.logger || {}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{/*<ListGroup variant=\"flush\">*/}\n\t\t\t\t\t\t{/*\t<ListGroupItem><span*/}\n\t\t\t\t\t\t{/*\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Source\")}:</span> {\"\" + registry.services.config.logger.src}*/}\n\t\t\t\t\t\t{/*\t</ListGroupItem>*/}\n\t\t\t\t\t\t{/*\t<ListGroupItem><span*/}\n\t\t\t\t\t\t{/*\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Level\")}:</span> {registry.services.config.logger.level}*/}\n\t\t\t\t\t\t{/*\t</ListGroupItem>*/}\n\t\t\t\t\t\t{/*\t<ListGroupItem><span*/}\n\t\t\t\t\t\t{/*\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Levelinstring\")}:</span> {\"\" + registry.services.config.logger.formatter.levelInString}*/}\n\t\t\t\t\t\t{/*\t</ListGroupItem>*/}\n\t\t\t\t\t\t{/*\t<ListGroupItem><span*/}\n\t\t\t\t\t\t{/*\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Outputtype\")}:</span> {registry.services.config.logger.formatter.outputMode}*/}\n\t\t\t\t\t\t{/*\t</ListGroupItem>*/}\n\t\t\t\t\t\t{/*</ListGroup>*/}\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Oauth\")}</Card.Title>\n\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Grants\")}:</span> {registry.services.config.oauth.grants.join(\", \")}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Debug\")}:</span> {\"\" + registry.services.config.oauth.debug}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Getuserinformationfromtoken\")}:</span> {\"\" + registry.services.config.oauth.getUserFromToken}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Accesstokenlifetime\")}:</span> {registry.services.config.oauth.accessTokenLifetime}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Refreshtokenlifetime\")}:</span> {registry.services.config.oauth.refreshTokenLifetime}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t</CardDeck>\n\t\t</div>\n\t);\n}","import {Form, Row, Col, Alert, Card, CardDeck} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport deepSet from \"../../../../soajs/libs/deepSetLib\";\nimport {JsonEditor} from \"../../../../soajs/urac/components\";\n\nexport default function DefaultEditRegistry({registry, fields, setFields}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\tfields.services.config.logger = json;\n\t}\n\t\n\treturn (\n\t\tregistry &&\n\t\t<Form>\n\t\t\t<Form.Group>\n\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t<Form.Control\n\t\t\t\t\tid=\"description\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\trows={3}\n\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t/>\n\t\t\t</Form.Group>\n\t\t\t<Alert variant=\"light\" style={{\"border\": \"1px solid rgba(0,0,0,.125)\"}}>\n\t\t\t\t<Form.Group>\n\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Domain\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tid=\"domain\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tvalue={fields.domain}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Protocol\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control as=\"select\" id=\"protocol\" size=\"sm\"\n\t\t\t\t\t\t\t              defaultValue={fields.protocol}\n\t\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"https\">https</option>\n\t\t\t\t\t\t\t\t<option value=\"http\">http</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Port\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"port\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.port}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.apiPrefix\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"apiPrefix\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.apiPrefix}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.sitePrefix\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"sitePrefix\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.sitePrefix}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col className=\"small text-muted text-center\">\n\t\t\t\t\t\t{t(\"soajs:messages.prefixMsg\")}\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Alert>\n\t\t\t<hr/>\n\t\t\t<CardDeck className=\"mb-4 small mt-4\">\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Awareness\")}</Card.Title>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.CacheTTL\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.awareness.cacheTTL\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.awareness.cacheTTL}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Healthcheckinterval\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.awareness.healthCheckInterval\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.awareness.healthCheckInterval}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Autoreloadregistry\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.awareness.autoRelaodRegistry\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.awareness.autoRelaodRegistry}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Maxlogcount\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.awareness.maxLogCount\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.awareness.maxLogCount}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Automaticregisterservice\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.awareness.autoRegisterService\"\n\t\t\t\t\t\t\t\tas=\"select\" size=\"sm\"\n\t\t\t\t\t\t\t\tdefaultValue={fields.services.config.awareness.autoRegisterService}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"true\">True</option>\n\t\t\t\t\t\t\t\t<option value=\"false\">False</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Cors\")}</Card.Title>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Enabled\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"services.config.cors.enabled\"\n\t\t\t\t\t\t\t\t\t\tas=\"select\" size=\"sm\"\n\t\t\t\t\t\t\t\t\t\tdefaultValue={fields.services.config.cors.enabled}\n\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value=\"true\">True</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"false\">False</option>\n\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Credentials\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"services.config.cors.credentials\"\n\t\t\t\t\t\t\t\t\t\tas=\"select\" size=\"sm\"\n\t\t\t\t\t\t\t\t\t\tdefaultValue={fields.services.config.cors.credentials}\n\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value=\"true\">True</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"false\">False</option>\n\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Origin\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.cors.origin\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.cors.origin}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Maxage\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.cors.maxage\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.cors.maxage}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Methods\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.cors.methods\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.cors.methods}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Headers\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.cors.headers\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\tvalue={fields.services.config.cors.headers}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t</CardDeck>\n\t\t\t<CardDeck className=\"mb-4 small mt-4\">\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Requests\")}</Card.Title>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Authorization\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.controller.authorization\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\tdefaultValue={fields.services.controller.authorization}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"true\">True</option>\n\t\t\t\t\t\t\t\t<option value=\"false\">False</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Timeout\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.controller.requestTimeout\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.controller.requestTimeout}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Timeoutrenewal\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.controller.requestTimeoutRenewal\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.controller.requestTimeoutRenewal}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Ports\")}</Card.Title>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Controller\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.ports.controller\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.ports.controller}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.MaintenanceInc\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.ports.maintenanceInc\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.ports.maintenanceInc}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.RandomInc\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.ports.randomInc\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.ports.randomInc}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t</CardDeck>\n\t\t\t<CardDeck className=\"mb-4 small mt-4\">\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Logger\")}</Card.Title>\n\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\t\t\tjson={fields.services.config.logger || {}}\n\t\t\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Oauth\")}</Card.Title>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Debug\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.oauth.debug\"\n\t\t\t\t\t\t\t\tas=\"select\" size=\"sm\"\n\t\t\t\t\t\t\t\tdefaultValue={fields.services.config.oauth.debug}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"true\">True</option>\n\t\t\t\t\t\t\t\t<option value=\"false\">False</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Getuserinformationfromtoken\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.oauth.getUserFromToken\"\n\t\t\t\t\t\t\t\tas=\"select\" size=\"sm\"\n\t\t\t\t\t\t\t\tdefaultValue={fields.services.config.oauth.getUserFromToken}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"true\">True</option>\n\t\t\t\t\t\t\t\t<option value=\"false\">False</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Accesstokenlifetime\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.oauth.accessTokenLifetime\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.oauth.accessTokenLifetime}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Refreshtokenlifetime\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.oauth.refreshTokenLifetime\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.oauth.refreshTokenLifetime}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t</CardDeck>\n\t\t</Form>\n\t);\n}","import {Card, ListGroup, ListGroupItem} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function Awareness({registry}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\treturn (\n\t\tregistry &&\n\t\t<div>\n\t\t\t{registry.deployer && registry.deployer.type === \"container\" ? (\n\t\t\t\t<Card>\n\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t{t(\"soajs:titles.Containerdeploymentdetect\")}:\n\t\t\t\t\t</Card.Header>\n\t\t\t\t\t<Card.Body className=\"mt-3 mb-3\">\n\t\t\t\t\t\t{t(\"soajs:messages.containerMsg1\")}\n\t\t\t\t\t</Card.Body>\n\t\t\t\t\t<Card.Footer>\n\t\t\t\t\t\t<small className=\"text-muted\">\n\t\t\t\t\t\t\t{t(\"soajs:messages.manualMsg2\")} <a href=\"https://soajsorg.atlassian.net/wiki/spaces/CON/pages/1914142723/Awareness\">{t(\"common:ClickHere\")}</a>\n\t\t\t\t\t\t</small>\n\t\t\t\t\t</Card.Footer>\n\t\t\t\t</Card>\n\t\t\t) : (\n\t\t\t\t<Card>\n\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t{t(\"soajs:titles.Manualdeploymentdetect\")}:\n\t\t\t\t\t</Card.Header>\n\t\t\t\t\t<Card.Body className=\"mt-3 mb-3\">\n\t\t\t\t\t\t{t(\"soajs:messages.manualMsg1\")}\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t<ListGroupItem><span className=\"font-weight-bold mr-3\">SOAJS_ENV:</span> {registry.code}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">SOAJS_DEPLOY_MANUAL:</span> 1\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">SOAJS_REGISTRY_API:</span> {registry.deployer.manual.nodes}:{registry.services.config.ports.controller + registry.services.config.ports.maintenanceInc}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t\t<Card.Footer>\n\t\t\t\t\t\t<small className=\"text-muted\">\n\t\t\t\t\t\t\t{t(\"soajs:messages.manualMsg2\")} <a href=\"https://soajsorg.atlassian.net/wiki/spaces/CON/pages/1914142723/Awareness\">{t(\"common:ClickHere\")}</a>\n\t\t\t\t\t\t</small>\n\t\t\t\t\t</Card.Footer>\n\t\t\t\t</Card>\n\t\t\t)}\n\t\t</div>\n\t);\n}","import {Button, Card, CardDeck, Form, Jumbotron} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport _ from \"lodash\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {UracService} from \"../../../../../soajs/urac/services\";\nimport {useAppContext} from \"../../../../../soajs/libs/contextLib\";\nimport {ConsoleService} from \"../../../../../services\";\n\nconst uracService = UracService.getService();\nconst consoleService = ConsoleService.getService();\n\nfunction isGroupSelected(settings, value) {\n\treturn (\n\t\tsettings &&\n\t\tsettings.acl &&\n\t\tsettings.acl.groups &&\n\t\tsettings.acl.groups.value &&\n\t\tsettings.acl.groups.value.includes(value)\n\t);\n}\n\nexport default function ConfigureModalGroups({settings, id, handleAction, handleClose}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [groups, setGroups] = useState([]);\n\tconst [fields, setFields] = useState({\n\t\t\"groups\": [],\n\t\t\"type\": \"whitelist\"\n\t});\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\t\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction whitelistBlacklist(checked, what) {\n\t\tlet obj = fields;\n\t\tobj.type = what;\n\t\tsetFields({...obj});\n\t}\n\t\n\tfunction onChangeGroup(checked, code) {\n\t\tlet obj = fields;\n\t\tif (checked) {\n\t\t\tobj.groups.push(code);\n\t\t} else {\n\t\t\t_.pullAll(obj.groups, [code]);\n\t\t}\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleDelete(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tawait consoleService.deleteResourceRegistryAcl(id);\n\t\t\tNotificationManager.success(t(\"soajs:messages.resourceGroupDeleteSuccess\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function handleSave(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tawait consoleService.saveResourceRegistryAcl({\n\t\t\t\t\"id\": id,\n\t\t\t\t\"groups\": fields.groups,\n\t\t\t\t\"type\": fields.type\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.resourceGroupSaveSuccess\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (settings && settings.acl && settings.acl.groups) {\n\t\t\t\t\tsetFields({\n\t\t\t\t\t\t\"groups\": settings.acl.groups.value,\n\t\t\t\t\t\t\"type\": settings.acl.groups.type\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tconst _groups = await uracService.getGroups();\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetGroups(_groups);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, [settings]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-4 m-0 bg-light border-dark small\">\n\t\t\t\t<fieldset>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"whitelist\"\n\t\t\t\t\t\tname=\"groupsType\"\n\t\t\t\t\t\tid=\"groupsType1\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"whitelist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"whitelist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"blacklist\"\n\t\t\t\t\t\tname=\"groupsType\"\n\t\t\t\t\t\tid=\"groupsType2\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"blacklist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"blacklist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</fieldset>\n\t\t\t</Jumbotron>\n\t\t\t<CardDeck className=\"ml-2\">\n\t\t\t\t{groups.map((oo, index) => (\n\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t      style={{\"minWidth\": '11rem', \"maxWidth\": '11rem'}}>\n\t\t\t\t\t\t<Card.Body className=\"p-2\">\n\t\t\t\t\t\t\t<Form.Check className=\"small\" key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t            defaultChecked={isGroupSelected(settings, oo.code)}\n\t\t\t\t\t\t\t            label={oo.code}\n\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t            onChangeGroup(event.target.checked, oo.code)\n\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</CardDeck>\n\t\t\t<hr/>\n\t\t\t<div>\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t\t\n\t\t\t\t{ability.can('registry_custom', 'update_acl') &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleSave}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Save\")}\n\t\t\t\t</Button>}\n\t\t\t\t\n\t\t\t\t{ability.can('registry_custom', 'delete_acl') &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"danger\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleDelete}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>}\n\t\t\t</div>\n\t\t</>\n\t);\n}","import {useTranslation} from \"react-i18next\";\nimport React from \"react\";\nimport {\n\tForm,\n\tJumbotron, Modal,\n\tTab, Tabs\n} from \"react-bootstrap\";\n\nimport ConfigureModalGroups from \"./ConfigureModalGroups\";\n\nexport default function ConfigureModal({modalOpt, setModalOpt, handleAfterSubmit}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, \"item\": null});\n\t\n\treturn (\n\t\t<>\n\t\t\t{modalOpt.item &&\n\t\t\t<Modal size=\"lg\" show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>{t(\"soajs:titles.ResourceRegistry\")}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t\n\t\t\t\t\t<Jumbotron className=\"p-4\">\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{modalOpt.item.name}</span>\n\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t<Form onSubmit={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"acl\" id=\"config\">\n\t\t\t\t\t\t\t<Tab eventKey=\"acl\" title={t(\"soajs:fields.Groups\")}>\n\t\t\t\t\t\t\t\t<ConfigureModalGroups\n\t\t\t\t\t\t\t\t\tsettings={modalOpt.item.settings}\n\t\t\t\t\t\t\t\t\thandleAction={() => {\n\t\t\t\t\t\t\t\t\t\thandleAfterSubmit();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\thandleClose={handleClose}\n\t\t\t\t\t\t\t\t\tid={modalOpt.item._id}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</Form>\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../../services\";\n\nconst consoleService = ConsoleService.getService();\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait consoleService.deleteResourceRegistry(modalOpt.item._id, modalOpt.item.created);\n\t\t\tNotificationManager.success(t(\"soajs:messages.deleteResource\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>{t(\"soajs:messages.deleteQuestion\")}</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form, Tabs, Tab, Table} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../../services\";\n\nimport _data from \"./data.json\";\n\nconst consoleService = ConsoleService.getService();\nlet _json = {};\n\nexport default function AddModal({modalOpt, setModalOpt, handleAction, environments, environment}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\tconst [jsonFields, setJsonFields] = useState({});\n\tconst [fields, setFields] = useState({\n\t\t\"name\": \"\",\n\t\t\"plugged\": false,\n\t\t\"shared\": false,\n\t\t\"type\": \"\",\n\t\t\"category\": \"\"\n\t});\n\tconst [sharedEnvs, setSharedEnvs] = useState({});\n\t\n\tfunction validateForm() {\n\t\tlet valid = (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.type.length > 0 &&\n\t\t\tfields.category.length > 0\n\t\t);\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction handleSharedEnvsChange(event) {\n\t\tlet checked = false;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tchecked = event.target.checked;\n\t\t}\n\t\tif (checked) {\n\t\t\tsetSharedEnvs({\n\t\t\t\t...sharedEnvs,\n\t\t\t\t[event.target.id]: checked\n\t\t\t});\n\t\t} else {\n\t\t\tlet obj = sharedEnvs;\n\t\t\tdelete obj[event.target.id];\n\t\t\tsetSharedEnvs({\n\t\t\t\t...obj\n\t\t\t});\n\t\t}\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tfunction handleCategoryChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (_data.category[fields.type]) {\n\t\t\tfor (let i = 0; i < _data.category[fields.type].length; i++) {\n\t\t\t\tif (_data.category[fields.type][i].v === value) {\n\t\t\t\t\tif (_data.category[fields.type][i].schema) {\n\t\t\t\t\t\t_json = _data.category[fields.type][i].schema;\n\t\t\t\t\t\tsetJsonFields(_data.category[fields.type][i].schema);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_json = {};\n\t\t\t\t\t\tsetJsonFields({});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet _sharedEnvs = {};\n\t\t\tlet envs = Object.keys(sharedEnvs);\n\t\t\tfor (let i = 0; i < envs.length; i++) {\n\t\t\t\tif (sharedEnvs[envs[i]]) {\n\t\t\t\t\t_sharedEnvs[envs[i]] = sharedEnvs[envs[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet data = {\n\t\t\t\t\"name\": fields.name,\n\t\t\t\t\"plugged\": fields.plugged,\n\t\t\t\t\"shared\": fields.shared,\n\t\t\t\t\"sharedEnvs\": _sharedEnvs,\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"category\": fields.category\n\t\t\t};\n\t\t\tdata.config = _json;\n\t\t\t\n\t\t\tawait consoleService.addResource(environment.code, data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.addResource\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\t_json = json;\n\t}\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt) {\n\t\t\tsetFields({\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"plugged\": false,\n\t\t\t\t\"shared\": false,\n\t\t\t\t\"type\": \"\",\n\t\t\t\t\"category\": \"\"\n\t\t\t});\n\t\t\t\n\t\t\tlet _sharedEns = {};\n\t\t\tfor (let i = 0; i < environments.length; i++) {\n\t\t\t\t_sharedEns[environments[i].code] = false;\n\t\t\t}\n\t\t\tsetSharedEnvs({..._sharedEns});\n\t\t\t_json = {};\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt, environments]);\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.resourceRegistryAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"value\" id=\"config\">\n\t\t\t\t\t\t<Tab eventKey=\"value\" title={t(\"soajs:fields.Configuration\")}>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Type\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control as=\"select\" id=\"type\"\n\t\t\t\t\t\t\t\t              defaultValue={fields.type}\n\t\t\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value={\"\"}>{t(\"soajs:fields.SelectType\")}</option>\n\t\t\t\t\t\t\t\t\t{_data.type.map((t, i) => (\n\t\t\t\t\t\t\t\t\t\t<option key={i} value={t.v}>{t.l}</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Category\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"category\"\n\t\t\t\t\t\t\t\t\tdefaultValue={fields.category}\n\t\t\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t\t\thandleFieldChange(event);\n\t\t\t\t\t\t\t\t\t\thandleCategoryChange(event);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value={\"\"}>{t(\"soajs:fields.SelectCategory\")}</option>\n\t\t\t\t\t\t\t\t\t{fields.type && _data.category[fields.type] && _data.category[fields.type].map((t, i) => (\n\t\t\t\t\t\t\t\t\t\t<option key={i} value={t.v}>{t.l}</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group style={{\"height\": \"400px\"}}>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Value\")}</Form.Label>\n\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\tjson={_json || jsonFields}\n\t\t\t\t\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t<Tab eventKey=\"settings\" title={t(\"soajs:fields.Settings\")}>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label className=\"float-left\">{t(\"soajs:fields.PlugConfiguration\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\tid=\"plugged\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\tchecked={fields.plugged}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label className=\"float-left\">{t(\"soajs:fields.ShareConfiguration\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\tid=\"shared\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\tchecked={fields.shared}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t{fields.shared &&\n\t\t\t\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{environments.map((e, i) => (\n\t\t\t\t\t\t\t\t\t<tr key={i}>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{(!environment || environment.code !== e.code) &&\n\t\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\t\tid={e.code}\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={sharedEnvs[e.code]}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleSharedEnvsChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{e.code}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{e.description}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t</Tabs>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form, Tabs, Tab, Table} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../../services\";\n\nconst consoleService = ConsoleService.getService();\nlet _json = {};\n\nexport default function UpdateModal({modalOpt, setModalOpt, handleAction, environments, environment}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\tconst [fields, setFields] = useState({\n\t\t\"id\": \"\",\n\t\t\"name\": \"\",\n\t\t\"plugged\": false,\n\t\t\"shared\": false,\n\t\t\"type\": \"\",\n\t\t\"category\": \"\"\n\t});\n\tconst [sharedEnvs, setSharedEnvs] = useState({});\n\t\n\tfunction validateForm() {\n\t\tlet valid = (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.type.length > 0 &&\n\t\t\tfields.category.length > 0\n\t\t);\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction handleSharedEnvsChange(event) {\n\t\tlet checked = false;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tchecked = event.target.checked;\n\t\t}\n\t\tlet obj = sharedEnvs;\n\t\tif (checked) {\n\t\t\tobj[event.target.id] = checked;\n\t\t\tsetSharedEnvs({...obj});\n\t\t} else {\n\t\t\tdelete obj[event.target.id];\n\t\t\tsetSharedEnvs({...obj});\n\t\t}\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet _sharedEnvs = {};\n\t\t\tlet envs = Object.keys(sharedEnvs);\n\t\t\tfor (let i = 0; i < envs.length; i++) {\n\t\t\t\tif (sharedEnvs[envs[i]]) {\n\t\t\t\t\t_sharedEnvs[envs[i]] = sharedEnvs[envs[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet data = {\n\t\t\t\t\"name\": fields.name,\n\t\t\t\t\"plugged\": fields.plugged,\n\t\t\t\t\"shared\": fields.shared,\n\t\t\t\t\"sharedEnvs\": _sharedEnvs,\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"category\": fields.category\n\t\t\t};\n\t\t\tdata.config = _json;\n\t\t\t\n\t\t\tawait consoleService.updateResource(environment.code, fields.id, data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.updateResource\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\t_json = json;\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields(\n\t\t\t\t{\n\t\t\t\t\t\"id\": modalOpt.item._id,\n\t\t\t\t\t\"name\": modalOpt.item.name,\n\t\t\t\t\t\"plugged\": modalOpt.item.plugged,\n\t\t\t\t\t\"shared\": modalOpt.item.shared,\n\t\t\t\t\t\"type\": modalOpt.item.type,\n\t\t\t\t\t\"category\": modalOpt.item.category\n\t\t\t\t}\n\t\t\t);\n\t\t\tif (!modalOpt.item.sharedEnvs) {\n\t\t\t\tmodalOpt.item.sharedEnvs = {};\n\t\t\t}\n\t\t\tlet _sharedEns = {};\n\t\t\tfor (let i = 0; i < environments.length; i++) {\n\t\t\t\t_sharedEns[environments[i].code] = !!modalOpt.item.sharedEnvs[environments[i].code];\n\t\t\t}\n\t\t\tsetSharedEnvs({..._sharedEns});\n\t\t\t_json = modalOpt.item.config || {};\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt, environments]);\n\t\n\treturn (\n\t\tmodalOpt && modalOpt.item ? (\n\t\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>{t(\"soajs:titles.resourceRegistryUpdate\")}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Form>\n\t\t\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"value\" id=\"config\">\n\t\t\t\t\t\t\t<Tab eventKey=\"value\" title={t(\"soajs:fields.Configuration\")}>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Type\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"type\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tvalue={fields.type}\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Category\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"category\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tvalue={fields.category}\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t<Form.Group style={{\"height\": \"400px\"}}>\n\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Value\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\t\tjson={_json}\n\t\t\t\t\t\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t<Tab eventKey=\"settings\" title={t(\"soajs:fields.Settings\")}>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Label\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-left\">{t(\"soajs:fields.PlugConfiguration\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\tid=\"plugged\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\t\tchecked={fields.plugged}\n\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Label\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-left\">{t(\"soajs:fields.ShareConfiguration\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\tid=\"shared\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\t\tchecked={fields.shared}\n\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t{fields.shared &&\n\t\t\t\t\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t{environments.map((e, i) => (\n\t\t\t\t\t\t\t\t\t\t<tr key={i}>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t{(!environment || environment.code !== e.code) &&\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={e.code}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={sharedEnvs[e.code]}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleSharedEnvsChange}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t{e.code}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t{e.description}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</Form>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t) : null\n\t);\n}","import {Alert, Button} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {BiShareAlt} from \"react-icons/bi\";\nimport {useTranslation} from \"react-i18next\";\nimport {GoDiffAdded} from \"react-icons/go\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../../services\";\nimport DeleteButton from \"../../../../buttons/Delete\";\nimport AclButton from \"../../../../buttons/Acl\";\nimport {useAppContext} from \"../../../../../soajs/libs/contextLib\";\n\nimport ConfigureModal from \"./ConfigureModal\";\nimport DeleteModal from \"./DeleteModal\";\nimport AddModal from \"./AddModal\";\nimport UpdateModal from \"./UpdateModal\";\n\nconst consoleService = ConsoleService.getService();\n\nasync function onLoad(environment, setFields, isSubscribed) {\n\ttry {\n\t\tconst response = await consoleService.getResourceRegistry(environment.code);\n\t\tif (isSubscribed && response) {\n\t\t\tsetFields(response);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Resource({environment, environments, reloadClusters}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [fields, setFields] = useState([]);\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"item\": null});\n\tconst [deleteModalOpt, setDeleteModalOpt] = useState({\"show\": false, item: null});\n\tconst handleDeleteShow = (item) => setDeleteModalOpt({\"show\": true, \"item\": item});\n\tconst [addModalOpt, setAddModalOpt] = useState({\"show\": false});\n\tconst handleAddShow = () => setAddModalOpt({\"show\": true});\n\tconst [updateModalOpt, setUpdateModalOpt] = useState({\"show\": false, item: null});\n\tconst handleUpdateShow = (item) => setUpdateModalOpt({\"show\": true, \"item\": item});\n\t\n\tfunction handleModalShow(item) {\n\t\tsetModalOpt({\"show\": true, \"item\": item})\n\t}\n\t\n\tasync function reLoad() {\n\t\tawait onLoad(environment, setFields, true);\n\t\treloadClusters();\n\t}\n\t\n\tasync function plugUnplug(d, plugged) {\n\t\ttry {\n\t\t\tawait consoleService.unplugPlugResource({\"id\": d._id, \"env\": d.created, \"plugged\": plugged});\n\t\t\tif (plugged) {\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.pluggedResource\"));\n\t\t\t} else {\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.unpluggedResource\"));\n\t\t\t}\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tenvironment && onLoad(environment, setFields, isSubscribed);\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\tenvironment &&\n\t\t<>\n\t\t\t<UpdateModal\n\t\t\t\tmodalOpt={updateModalOpt}\n\t\t\t\tsetModalOpt={setUpdateModalOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t\tenvironments={environments}\n\t\t\t\tenvironment={environment}\n\t\t\t/>\n\t\t\t<AddModal\n\t\t\t\tmodalOpt={addModalOpt}\n\t\t\t\tsetModalOpt={setAddModalOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t\tenvironments={environments}\n\t\t\t\tenvironment={environment}\n\t\t\t/>\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={deleteModalOpt}\n\t\t\t\tsetModalOpt={setDeleteModalOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<ConfigureModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t\thandleAfterSubmit={reLoad}\n\t\t\t/>\n\t\t\t<div>\n\t\t\t\t<h4 className=\"float-left\">{t(\"soajs:titles.resourceRegistry\")}</h4>\n\t\t\t\t{ability.can('registry_resource', 'add') &&\n\t\t\t\t<Button variant=\"success\" className=\"float-right\" size=\"sm\"\n\t\t\t\t        onClick={() => {\n\t\t\t\t\t        handleAddShow();\n\t\t\t\t        }}\n\t\t\t\t>\n\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>}\n\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t</div>\n\t\t\t<hr/>\n\t\t\t{fields.length > 0 ?\n\t\t\t\t<>\n\t\t\t\t\t{fields.map((rec, i) => (\n\t\t\t\t\t\t<Alert key={i} variant=\"light\" className=\"mt-4 mb-4\" style={{\"borderColor\": \"#c6c8ca\"}}>\n\t\t\t\t\t<span className=\"float-left\">\n\t\t\t\t\t<BiShareAlt\n\t\t\t\t\t\tclassName={rec.shared ? \"text-success\" : \"\"}\n\t\t\t\t\t/> <span className=\" ml-2 font-weight-bold\">{rec.name}</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{environment.code.toLowerCase() !== rec.created.toLowerCase() ?\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<span className=\"float-right\"> from: {rec.created}</span>\n\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{ability.can('registry_resource', 'delete') &&\n\t\t\t\t\t\t\t\t\t<DeleteButton className=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t              onClick={() => {\n\t\t\t\t\t\t\t\t\t\t              handleDeleteShow(rec)\n\t\t\t\t\t\t\t\t\t              }}\n\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t<AclButton className=\"float-right ml-5\"\n\t\t\t\t\t\t\t\t\t           onClick={() => {\n\t\t\t\t\t\t\t\t\t\t           handleModalShow(rec)\n\t\t\t\t\t\t\t\t\t           }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Button variant=\"primary\"\n\t\t\t\t\t\t\t\t\t        className=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t        size=\"sm\"\n\t\t\t\t\t\t\t\t\t        disabled={!ability.can('registry_resource', 'edit')}\n\t\t\t\t\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t\t\t\t\t        handleUpdateShow(rec)\n\t\t\t\t\t\t\t\t\t        }}\n\t\t\t\t\t\t\t\t\t>Configure</Button>\n\t\t\t\t\t\t\t\t\t{rec.plugged &&\n\t\t\t\t\t\t\t\t\t<Button variant=\"warning\"\n\t\t\t\t\t\t\t\t\t        className=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t        size=\"sm\"\n\t\t\t\t\t\t\t\t\t        disabled={!ability.can('registry_resource', 'edit')}\n\t\t\t\t\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t\t\t\t\t        plugUnplug(rec, false);\n\t\t\t\t\t\t\t\t\t        }}\n\t\t\t\t\t\t\t\t\t>Unplug</Button>}\n\t\t\t\t\t\t\t\t\t{!rec.plugged &&\n\t\t\t\t\t\t\t\t\t<Button variant=\"success\"\n\t\t\t\t\t\t\t\t\t        className=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t        size=\"sm\"\n\t\t\t\t\t\t\t\t\t        disabled={!ability.can('registry_resource', 'edit')}\n\t\t\t\t\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t\t\t\t\t        plugUnplug(rec, true);\n\t\t\t\t\t\t\t\t\t        }}\n\t\t\t\t\t\t\t\t\t>Plug</Button>}\n\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t))}\n\t\t\t\t</>\n\t\t\t\t:\n\t\t\t\t<Alert variant=\"secondary\" className=\"mt-4 mb-4\">\n\t\t\t\t\t{t(\"soajs:messages.empty\")}\n\t\t\t\t</Alert>}\n\t\t</>\n\t)\n};","import {Button, Card, CardDeck, Form, Jumbotron} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport _ from \"lodash\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {UracService} from \"../../../../../soajs/urac/services\";\nimport {useAppContext} from \"../../../../../soajs/libs/contextLib\";\nimport {ConsoleService} from \"../../../../../services\";\n\nconst uracService = UracService.getService();\nconst consoleService = ConsoleService.getService();\n\nfunction isGroupSelected(settings, value) {\n\treturn (\n\t\tsettings &&\n\t\tsettings.acl &&\n\t\tsettings.acl.groups &&\n\t\tsettings.acl.groups.value &&\n\t\tsettings.acl.groups.value.includes(value)\n\t);\n}\n\nexport default function ConfigureModalGroups({settings, id, handleAction, handleClose}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [groups, setGroups] = useState([]);\n\tconst [fields, setFields] = useState({\n\t\t\"groups\": [],\n\t\t\"type\": \"whitelist\"\n\t});\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\t\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction whitelistBlacklist(checked, what) {\n\t\tlet obj = fields;\n\t\tobj.type = what;\n\t\tsetFields({...obj});\n\t}\n\t\n\tfunction onChangeGroup(checked, code) {\n\t\tlet obj = fields;\n\t\tif (checked) {\n\t\t\tobj.groups.push(code);\n\t\t} else {\n\t\t\t_.pullAll(obj.groups, [code]);\n\t\t}\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleDelete(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tawait consoleService.deleteCustomRegistryAcl(id);\n\t\t\tNotificationManager.success(t(\"soajs:messages.customGroupDeleteSuccess\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function handleSave(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tawait consoleService.saveCustomRegistryAcl({\n\t\t\t\t\"id\": id,\n\t\t\t\t\"groups\": fields.groups,\n\t\t\t\t\"type\": fields.type\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.customGroupSaveSuccess\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (settings && settings.acl && settings.acl.groups) {\n\t\t\t\t\tsetFields({\n\t\t\t\t\t\t\"groups\": settings.acl.groups.value,\n\t\t\t\t\t\t\"type\": settings.acl.groups.type\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tconst _groups = await uracService.getGroups();\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetGroups(_groups);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, [settings]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-4 m-0 bg-light border-dark small\">\n\t\t\t\t<fieldset>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"whitelist\"\n\t\t\t\t\t\tname=\"groupsType\"\n\t\t\t\t\t\tid=\"groupsType1\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"whitelist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"whitelist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"blacklist\"\n\t\t\t\t\t\tname=\"groupsType\"\n\t\t\t\t\t\tid=\"groupsType2\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"blacklist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"blacklist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</fieldset>\n\t\t\t</Jumbotron>\n\t\t\t<CardDeck className=\"ml-2\">\n\t\t\t\t{groups.map((oo, index) => (\n\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t      style={{\"minWidth\": '11rem', \"maxWidth\": '11rem'}}>\n\t\t\t\t\t\t<Card.Body className=\"p-2\">\n\t\t\t\t\t\t\t<Form.Check className=\"small\" key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t            defaultChecked={isGroupSelected(settings, oo.code)}\n\t\t\t\t\t\t\t            label={oo.code}\n\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t            onChangeGroup(event.target.checked, oo.code)\n\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</CardDeck>\n\t\t\t<hr/>\n\t\t\t<div>\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t\t\n\t\t\t\t{ability.can('registry_custom', 'update_acl') &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleSave}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Save\")}\n\t\t\t\t</Button>}\n\t\t\t\t\n\t\t\t\t{ability.can('registry_custom', 'delete_acl') &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"danger\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleDelete}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>}\n\t\t\t</div>\n\t\t</>\n\t);\n}","import {useTranslation} from \"react-i18next\";\nimport React from \"react\";\nimport {\n\tForm,\n\tJumbotron, Modal,\n\tTab, Tabs\n} from \"react-bootstrap\";\n\nimport ConfigureModalGroups from \"./ConfigureModalGroups\";\n\nexport default function ConfigureModal({modalOpt, setModalOpt, handleAfterSubmit}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, \"item\": null});\n\t\n\treturn (\n\t\t<>\n\t\t\t{modalOpt.item &&\n\t\t\t<Modal size=\"lg\" show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>{t(\"soajs:titles.CustomRegistry\")}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t\n\t\t\t\t\t<Jumbotron className=\"p-4\">\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{modalOpt.item.name}</span>\n\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t<Form onSubmit={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"acl\" id=\"config\">\n\t\t\t\t\t\t\t<Tab eventKey=\"acl\" title={t(\"soajs:fields.Groups\")}>\n\t\t\t\t\t\t\t\t<ConfigureModalGroups\n\t\t\t\t\t\t\t\t\tsettings={modalOpt.item.settings}\n\t\t\t\t\t\t\t\t\thandleAction={() => {\n\t\t\t\t\t\t\t\t\t\thandleAfterSubmit();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\thandleClose={handleClose}\n\t\t\t\t\t\t\t\t\tid={modalOpt.item._id}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</Form>\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../../services\";\n\nconst consoleService = ConsoleService.getService();\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait consoleService.deleteCustomRegistry(modalOpt.item._id, modalOpt.item.created);\n\t\t\tNotificationManager.success(t(\"soajs:messages.deleteCustom\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>{t(\"soajs:messages.deleteQuestion\")}</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form, Tabs, Tab, Table} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../../services\";\n\nconst consoleService = ConsoleService.getService();\n\nlet _json = {};\n\nexport default function AddModal({modalOpt, setModalOpt, handleAction, environments, environment}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\tconst [fields, setFields] = useState({\n\t\t\"name\": \"\",\n\t\t\"valueText\": \"\",\n\t\t\"text\": true,\n\t\t\"plugged\": false,\n\t\t\"shared\": false\n\t});\n\tconst [sharedEnvs, setSharedEnvs] = useState({});\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\tvalid = (valid && fields.name.length > 0);\n\t\tif (fields.text) {\n\t\t\tvalid = (valid && fields.valueText.length > 0);\n\t\t}\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction handleSharedEnvsChange(event) {\n\t\tlet checked = false;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tchecked = event.target.checked;\n\t\t}\n\t\tlet obj = sharedEnvs;\n\t\tif (checked) {\n\t\t\tobj[event.target.id] = checked;\n\t\t\tsetSharedEnvs({...obj});\n\t\t} else {\n\t\t\tdelete obj[event.target.id];\n\t\t\tsetSharedEnvs({...obj});\n\t\t}\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet _sharedEnvs = {};\n\t\t\tlet envs = Object.keys(sharedEnvs);\n\t\t\tfor (let i = 0; i < envs.length; i++) {\n\t\t\t\tif (sharedEnvs[envs[i]]) {\n\t\t\t\t\t_sharedEnvs[envs[i]] = sharedEnvs[envs[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet data = {\n\t\t\t\t\"name\": fields.name,\n\t\t\t\t\"plugged\": fields.plugged,\n\t\t\t\t\"shared\": fields.shared,\n\t\t\t\t\"sharedEnvs\": _sharedEnvs\n\t\t\t};\n\t\t\tif (fields.text) {\n\t\t\t\tdata.value = fields.valueText;\n\t\t\t} else {\n\t\t\t\tdata.value = _json;\n\t\t\t}\n\t\t\tawait consoleService.addCustom(environment.code, data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.addCustom\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\t_json = json;\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt) {\n\t\t\tsetFields({\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"valueText\": \"\",\n\t\t\t\t\"text\": true,\n\t\t\t\t\"plugged\": false,\n\t\t\t\t\"shared\": false\n\t\t\t});\n\t\t\t\n\t\t\tlet _sharedEns = {};\n\t\t\tfor (let i = 0; i < environments.length; i++) {\n\t\t\t\t_sharedEns[environments[i].code] = false;\n\t\t\t}\n\t\t\tsetSharedEnvs({..._sharedEns});\n\t\t\t_json = {};\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt, environments]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.customRegistryAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"value\" id=\"config\">\n\t\t\t\t\t\t<Tab eventKey=\"value\" title={t(\"soajs:fields.Configuration\")}>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group style={{\"height\": \"400px\"}}>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Form.Label className=\"float-left\">{t(\"soajs:fields.Value\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\tid=\"text\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Only text\"\n\t\t\t\t\t\t\t\t\t\tchecked={fields.text}\n\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{!fields.text &&\n\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\tjson={_json}\n\t\t\t\t\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t{fields.text &&\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"valueText\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\trows={15}\n\t\t\t\t\t\t\t\t\tvalue={fields.valueText}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t<Tab eventKey=\"settings\" title={t(\"soajs:fields.Settings\")}>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label className=\"float-left\">{t(\"soajs:fields.PlugConfiguration\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\tid=\"plugged\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\tchecked={fields.plugged}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label className=\"float-left\">{t(\"soajs:fields.ShareConfiguration\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\tid=\"shared\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\tchecked={fields.shared}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t{fields.shared &&\n\t\t\t\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{environments.map((e, i) => (\n\t\t\t\t\t\t\t\t\t<tr key={i}>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{(!environment || environment.code !== e.code) &&\n\t\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\t\tid={e.code}\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={sharedEnvs[e.code]}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleSharedEnvsChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{e.code}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{e.description}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t</Tabs>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form, Tabs, Tab, Table} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../../services\";\n\nconst consoleService = ConsoleService.getService();\n\nlet _json = {};\n\nexport default function UpdateModal({modalOpt, setModalOpt, handleAction, environments, environment}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => {\n\t\tsetModalOpt({\"show\": false, item: null})\n\t};\n\tconst [fields, setFields] = useState({\n\t\t\"id\": \"\",\n\t\t\"name\": \"\",\n\t\t\"valueText\": \"\",\n\t\t\"text\": true,\n\t\t\"plugged\": false,\n\t\t\"shared\": false\n\t});\n\tconst [sharedEnvs, setSharedEnvs] = useState({});\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\tvalid = (valid && fields.name.length > 0);\n\t\tif (fields.text) {\n\t\t\tvalid = (valid && fields.valueText.length > 0);\n\t\t}\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction handleSharedEnvsChange(event) {\n\t\tlet checked = false;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tchecked = event.target.checked;\n\t\t}\n\t\tlet obj = sharedEnvs;\n\t\tif (checked) {\n\t\t\tobj[event.target.id] = checked;\n\t\t\tsetSharedEnvs({...obj});\n\t\t} else {\n\t\t\tdelete obj[event.target.id];\n\t\t\tsetSharedEnvs({...obj});\n\t\t}\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet _sharedEnvs = {};\n\t\t\tlet envs = Object.keys(sharedEnvs);\n\t\t\tfor (let i = 0; i < envs.length; i++) {\n\t\t\t\tif (sharedEnvs[envs[i]]) {\n\t\t\t\t\t_sharedEnvs[envs[i]] = sharedEnvs[envs[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet data = {\n\t\t\t\t\"name\": fields.name,\n\t\t\t\t\"plugged\": fields.plugged,\n\t\t\t\t\"shared\": fields.shared,\n\t\t\t\t\"sharedEnvs\": _sharedEnvs\n\t\t\t};\n\t\t\tif (fields.text) {\n\t\t\t\tdata.value = fields.valueText;\n\t\t\t} else {\n\t\t\t\tdata.value = _json;\n\t\t\t}\n\t\t\tawait consoleService.updateCustom(environment.code, fields.id, data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.updateCustom\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\t_json = json;\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields(\n\t\t\t\t{\n\t\t\t\t\t\"id\": modalOpt.item._id,\n\t\t\t\t\t\"name\": modalOpt.item.name,\n\t\t\t\t\t\"plugged\": modalOpt.item.plugged,\n\t\t\t\t\t\"shared\": modalOpt.item.shared,\n\t\t\t\t\t\"valueText\": modalOpt.item.value,\n\t\t\t\t\t\"text\": (typeof modalOpt.item.value !== \"object\")\n\t\t\t\t}\n\t\t\t);\n\t\t\tif (!modalOpt.item.sharedEnvs) {\n\t\t\t\tmodalOpt.item.sharedEnvs = {};\n\t\t\t}\n\t\t\tlet _sharedEns = {};\n\t\t\tfor (let i = 0; i < environments.length; i++) {\n\t\t\t\t_sharedEns[environments[i].code] = !!modalOpt.item.sharedEnvs[environments[i].code];\n\t\t\t}\n\t\t\tsetSharedEnvs({..._sharedEns});\n\t\t\tif (typeof modalOpt.item.value === \"object\") {\n\t\t\t\t_json = modalOpt.item.value;\n\t\t\t} else {\n\t\t\t\t_json = {};\n\t\t\t}\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt, environments]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.customRegistryUpdate\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"value\" id=\"config\">\n\t\t\t\t\t\t<Tab eventKey=\"value\" title={t(\"soajs:fields.Configuration\")}>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group style={{\"height\": \"400px\"}}>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Form.Label className=\"float-left\">{t(\"soajs:fields.Value\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\tid=\"text\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Only text\"\n\t\t\t\t\t\t\t\t\t\tchecked={fields.text}\n\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{!fields.text &&\n\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\tjson={_json}\n\t\t\t\t\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t{fields.text &&\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"valueText\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\trows={15}\n\t\t\t\t\t\t\t\t\tvalue={fields.valueText}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t<Tab eventKey=\"settings\" title={t(\"soajs:fields.Settings\")}>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label className=\"float-left\">{t(\"soajs:fields.PlugConfiguration\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\tid=\"plugged\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\tchecked={fields.plugged}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label className=\"float-left\">{t(\"soajs:fields.ShareConfiguration\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\tid=\"shared\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\tchecked={fields.shared}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t{fields.shared &&\n\t\t\t\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{environments.map((e, i) => (\n\t\t\t\t\t\t\t\t\t<tr key={i}>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{(!environment || environment.code !== e.code) &&\n\t\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\t\tid={e.code}\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={!!sharedEnvs[e.code]}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleSharedEnvsChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{e.code}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{e.description}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t</Tabs>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Alert, Button} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {BiShareAlt} from \"react-icons/bi\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../../services\";\nimport DeleteButton from \"../../../../buttons/Delete\";\nimport AclButton from \"../../../../buttons/Acl\";\nimport {useAppContext} from \"../../../../../soajs/libs/contextLib\";\nimport {GoDiffAdded} from \"react-icons/go\";\n\n\nimport ConfigureModal from \"./ConfigureModal\";\nimport DeleteModal from \"./DeleteModal\";\nimport AddModal from \"./AddModal\";\nimport UpdateModal from \"./UpdateModal\";\n\nconst consoleService = ConsoleService.getService();\n\nasync function onLoad(environment, setFields, isSubscribed) {\n\ttry {\n\t\tconst response = await consoleService.getCustomRegistry(environment.code);\n\t\tif (isSubscribed && response) {\n\t\t\tsetFields(response);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Custom({environment, environments}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [fields, setFields] = useState([]);\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"item\": null});\n\tconst [deleteModalOpt, setDeleteModalOpt] = useState({\"show\": false, item: null});\n\tconst handleDeleteShow = (item) => setDeleteModalOpt({\"show\": true, \"item\": item});\n\tconst [addModalOpt, setAddModalOpt] = useState({\"show\": false});\n\tconst handleAddShow = () => setAddModalOpt({\"show\": true});\n\tconst [updateModalOpt, setUpdateModalOpt] = useState({\"show\": false, item: null});\n\tconst handleUpdateShow = (item) => setUpdateModalOpt({\"show\": true, \"item\": item});\n\t\n\tfunction handleModalShow(item) {\n\t\tsetModalOpt({\"show\": true, \"item\": item})\n\t}\n\t\n\tasync function reLoad() {\n\t\tawait onLoad(environment, setFields, true);\n\t}\n\t\n\tasync function plugUnplug(d, plugged) {\n\t\ttry {\n\t\t\tawait consoleService.unplugPlugCustom({\"id\": d._id, \"env\": d.created, \"plugged\": plugged});\n\t\t\tif (plugged) {\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.pluggedCustom\"));\n\t\t\t} else {\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.unpluggedCustom\"));\n\t\t\t}\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tenvironment && onLoad(environment, setFields, isSubscribed);\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\tenvironment &&\n\t\t<>\n\t\t\t<UpdateModal\n\t\t\t\tmodalOpt={updateModalOpt}\n\t\t\t\tsetModalOpt={setUpdateModalOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t\tenvironments={environments}\n\t\t\t\tenvironment={environment}\n\t\t\t/>\n\t\t\t<AddModal\n\t\t\t\tmodalOpt={addModalOpt}\n\t\t\t\tsetModalOpt={setAddModalOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t\tenvironments={environments}\n\t\t\t\tenvironment={environment}\n\t\t\t/>\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={deleteModalOpt}\n\t\t\t\tsetModalOpt={setDeleteModalOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<ConfigureModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t\thandleAfterSubmit={reLoad}\n\t\t\t/>\n\t\t\t<div>\n\t\t\t\t<h4 className=\"float-left\">{t(\"soajs:titles.customRegistry\")}</h4>\n\t\t\t\t{ability.can('registry_custom', 'add') &&\n\t\t\t\t<Button variant=\"success\" className=\"float-right\" size=\"sm\"\n\t\t\t\t        onClick={() => {\n\t\t\t\t\t        handleAddShow();\n\t\t\t\t        }}\n\t\t\t\t>\n\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>}\n\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t</div>\n\t\t\t<hr/>\n\t\t\t{fields.length > 0 ?\n\t\t\t\t<>\n\t\t\t\t\t{fields.map((rec, i) => (\n\t\t\t\t\t\t<Alert key={i} variant=\"light\" className=\"mt-4 mb-4\" style={{\"borderColor\": \"#c6c8ca\"}}>\n\t\t\t\t\t<span className=\"float-left\">\n\t\t\t\t\t<BiShareAlt\n\t\t\t\t\t\tclassName={rec.shared ? \"text-success\" : \"\"}\n\t\t\t\t\t/> <span className=\" ml-2 font-weight-bold\">{rec.name}</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{environment.code.toLowerCase() !== rec.created.toLowerCase() ?\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<span className=\"float-right\"> from: {rec.created}</span>\n\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{ability.can('registry_custom', 'delete') &&\n\t\t\t\t\t\t\t\t\t<DeleteButton className=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t              onClick={() => {\n\t\t\t\t\t\t\t\t\t\t              handleDeleteShow(rec)\n\t\t\t\t\t\t\t\t\t              }}\n\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t<AclButton className=\"float-right ml-5\"\n\t\t\t\t\t\t\t\t\t           onClick={() => {\n\t\t\t\t\t\t\t\t\t\t           handleModalShow(rec)\n\t\t\t\t\t\t\t\t\t           }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<Button variant=\"primary\"\n\t\t\t\t\t\t\t\t\t        className=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t        size=\"sm\"\n\t\t\t\t\t\t\t\t\t        disabled={!ability.can('registry_custom', 'edit')}\n\t\t\t\t\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t\t\t\t\t        handleUpdateShow(rec)\n\t\t\t\t\t\t\t\t\t        }}\n\t\t\t\t\t\t\t\t\t>Configure</Button>\n\t\t\t\t\t\t\t\t\t{rec.plugged &&\n\t\t\t\t\t\t\t\t\t<Button variant=\"warning\"\n\t\t\t\t\t\t\t\t\t        className=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t        size=\"sm\"\n\t\t\t\t\t\t\t\t\t        disabled={!ability.can('registry_custom', 'edit')}\n\t\t\t\t\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t\t\t\t\t        plugUnplug(rec, false);\n\t\t\t\t\t\t\t\t\t        }}\n\t\t\t\t\t\t\t\t\t>Unplug</Button>}\n\t\t\t\t\t\t\t\t\t{!rec.plugged &&\n\t\t\t\t\t\t\t\t\t<Button variant=\"success\"\n\t\t\t\t\t\t\t\t\t        className=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t        size=\"sm\"\n\t\t\t\t\t\t\t\t\t        disabled={!ability.can('registry_custom', 'edit')}\n\t\t\t\t\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t\t\t\t\t        plugUnplug(rec, true);\n\t\t\t\t\t\t\t\t\t        }}\n\t\t\t\t\t\t\t\t\t>Plug</Button>}\n\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t))}\n\t\t\t\t</>\n\t\t\t\t:\n\t\t\t\t<Alert variant=\"secondary\" className=\"mt-4 mb-4\">\n\t\t\t\t\t{t(\"soajs:messages.empty\")}\n\t\t\t\t</Alert>}\n\t\t</>\n\t)\n};","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../services\";\n\nconst consoleService = ConsoleService.getService();\n\nexport default function DatabasesDeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait consoleService.deleteDB({\"env\": modalOpt.item.env, \"name\": modalOpt.item.name});\n\t\t\tNotificationManager.success(t(\"soajs:messages.deleteDB\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>{t(\"soajs:messages.deleteQuestion\")}</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../services\";\n\nconst consoleService = ConsoleService.getService();\n\nexport default function DatabasesAddModal({modalOpt, setModalOpt, handleAction, environment, clusters}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\tconst [fields, setFields] = useState({\n\t\t\"name\": \"\",\n\t\t\"cluster\": \"\",\n\t\t\"prefix\": \"\",\n\t\t\"tenantSpecific\": \"false\"\n\t});\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.cluster.length > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet data = {\n\t\t\t\t\"env\": environment.code,\n\t\t\t\t\"name\": fields.name,\n\t\t\t\t\"cluster\": fields.cluster,\n\t\t\t\t\"prefix\": fields.prefix,\n\t\t\t\t\"tenantSpecific\": fields.tenantSpecific === \"true\"\n\t\t\t};\n\t\t\tawait consoleService.addDB(data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.addDB\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.addDB\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Prefix\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"prefix\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.prefix}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Multitenant\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"tenantSpecific\"\n\t\t\t\t\t\t\tvalue={fields.tenantSpecific}\n\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\thandleFieldChange(event);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"false\">False</option>\n\t\t\t\t\t\t\t<option value=\"true\">True</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Cluster\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"cluster\"\n\t\t\t\t\t\t\tvalue={fields.cluster}\n\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\thandleFieldChange(event);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">---</option>\n\t\t\t\t\t\t\t{clusters.map((cluster, index) => (\n\t\t\t\t\t\t\t\t<option key={index} value={cluster.name}>{cluster.name}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Card, Col, Form, Row, Table} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport deepSet from \"../../../../soajs/libs/deepSetLib\";\nimport AddButton from \"../../../buttons/Add\";\nimport DeleteButton from \"../../../buttons/Delete\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nimport DatabasesDeleteModal from \"./DatabasesDeleteModal\";\nimport DatabasesAddModal from \"./DatabasesAddModal\";\nimport {ConsoleService} from \"../../../../services\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\n\nconst prefixFieldInit = {\n\t\"prefix\": \"\"\n}\n\nconst consoleService = ConsoleService.getService();\n\nexport default function Databases({registry, environment, clusters, reload}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [prefixField, setPrefixField] = useState(prefixFieldInit);\n\t\n\tconst [deleteModalOpt, setDeleteModalOpt] = useState({\"show\": false, item: null});\n\tconst handleDeleteShow = (item) => setDeleteModalOpt({\"show\": true, \"item\": item});\n\tconst [addModalOpt, setAddModalOpt] = useState({\"show\": false, item: null});\n\tconst handleAddShow = (item) => setAddModalOpt({\"show\": true, \"item\": item});\n\t\n\tfunction handlePrefixFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = prefixField;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetPrefixField({...obj});\n\t}\n\t\n\tasync function handlePrefixSubmit() {\n\t\ttry {\n\t\t\tlet data = {\n\t\t\t\t\"env\": registry.code,\n\t\t\t\t\"prefix\": prefixField.prefix\n\t\t\t};\n\t\t\tawait consoleService.updateDBPrefix(data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.updatePrefix\"));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction validatePrefixForm() {\n\t\treturn (\n\t\t\tprefixField.prefix.length >= 0\n\t\t);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && registry) {\n\t\t\tsetPrefixField(Object.assign({}, prefixFieldInit, {\"prefix\": registry.dbs.config.prefix || \"\"}));\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [registry]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<DatabasesDeleteModal\n\t\t\t\tmodalOpt={deleteModalOpt}\n\t\t\t\tsetModalOpt={setDeleteModalOpt}\n\t\t\t\thandleAction={reload}\n\t\t\t/>\n\t\t\t<DatabasesAddModal\n\t\t\t\tmodalOpt={addModalOpt}\n\t\t\t\tsetModalOpt={setAddModalOpt}\n\t\t\t\thandleAction={reload}\n\t\t\t\tclusters={clusters}\n\t\t\t\tenvironment={environment}\n\t\t\t/>\n\t\t\t<Card className=\"mb-3\">\n\t\t\t\t<Card.Header>\n\t\t\t\t\t{t(\"soajs:titles.GlobalPrefix\")}:\n\t\t\t\t</Card.Header>\n\t\t\t\t<Card.Body className=\"mt-3 mb-3\">\n\t\t\t\t\t<Form>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col xs={9} md={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tclassName=\"float-left\"\n\t\t\t\t\t\t\t\t\tid=\"prefix\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={prefixField.prefix}\n\t\t\t\t\t\t\t\t\tonChange={handlePrefixFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col xs={3} md={2}>\n\t\t\t\t\t\t\t\t{ability.can('registry_db', 'prefix') &&\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\tonClick={handlePrefixSubmit}\n\t\t\t\t\t\t\t\t\tdisabled={!validatePrefixForm()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Card.Body>\n\t\t\t\t<Card.Footer>\n\t\t\t\t\t<small className=\"text-muted\">\n\t\t\t\t\t\t{t(\"soajs:messages.GlobalPrefix\")}\n\t\t\t\t\t</small>\n\t\t\t\t</Card.Footer>\n\t\t\t</Card>\n\t\t\t\n\t\t\t<Card>\n\t\t\t\t<Card.Header>\n\t\t\t\t\t{t(\"soajs:titles.Databases\")}\n\t\t\t\t\t\n\t\t\t\t\t{ability.can('registry_db', 'add') &&\n\t\t\t\t\t<AddButton\n\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\thandleAddShow({\"env\": registry.code});\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>}\n\t\t\t\t</Card.Header>\n\t\t\t\t<Card.Body className=\"mt-3 mb-3\">\n\t\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{t(\"soajs:buttons.Actions\")}</th>\n\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Name\")}</th>\n\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Cluster\")}</th>\n\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Multitenant\")}</th>\n\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Prefix\")}</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{registry && registry.dbs && registry.dbs.databases &&\n\t\t\t\t\t\tObject.keys(registry.dbs.databases).map((db, index) => (\n\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t{ability.can('registry_db', 'delete') &&\n\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-left mr-1\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\thandleDeleteShow({\"env\": registry.code, \"name\": db})\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>{db}</td>\n\t\t\t\t\t\t\t\t<td>{registry.dbs.databases[db].cluster}</td>\n\t\t\t\t\t\t\t\t<td>{\"\" + registry.dbs.databases[db].tenantSpecific}</td>\n\t\t\t\t\t\t\t\t<td>{registry.dbs.databases[db].prefix}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</Table>\n\t\t\t\t</Card.Body>\n\t\t\t</Card>\n\t\t</>\n\t)\n};","import {Button, Modal, Form} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function ThrottlingAddModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\tconst [fields, setFields] = useState({\n\t\t\"name\": \"\",\n\t\t\"type\": 0,\n\t\t\"window\": 0,\n\t\t\"limit\": 0,\n\t\t\"retries\": 0,\n\t\t\"delay\": 0\n\t});\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.name.length > 0 &&\n\t\t\t(fields.type === 0 || fields.type === 1) &&\n\t\t\tfields.window > 0 &&\n\t\t\tfields.limit > 0 &&\n\t\t\tfields.retries > 0 &&\n\t\t\tfields.delay > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tif (event.target.type === 'number' || event.target.id === \"type\") {\n\t\t\tvalue = parseInt(value);\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tfunction handleSubmit() {\n\t\thandleAction(fields);\n\t\thandleClose();\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.addThrottling\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Type\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"type\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tvalue={fields.type}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"0\">Per Tenant</option>\n\t\t\t\t\t\t\t<option value=\"1\">Per Tenant & Per IP Address</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Window\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"window\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\tvalue={fields.window}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Limit\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"limit\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\tvalue={fields.limit}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Retries\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"retries\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\tvalue={fields.retries}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Delay\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"delay\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\tvalue={fields.delay}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Alert, Table, Card, CardDeck, Form, Button} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../services\";\nimport DeleteButton from \"../../../buttons/Delete\";\nimport AddButton from \"../../../buttons/Add\";\n\nimport ThrottlingAddModal from \"./ThrottlingAddModal\"\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nconst consoleService = ConsoleService.getService();\n\nexport default function Throttling({environment}) {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState({});\n\t\n\tconst [addModalOpt, setAddModalOpt] = useState({\"show\": false, item: null});\n\tconst handleAddShow = (item) => setAddModalOpt({\"show\": true, \"item\": item});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait consoleService.updateThrottling(environment.code, fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.updateThrottling\"));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function addThrottling(record) {\n\t\tfields[record.name] = {\n\t\t\t\"type\": record.type,\n\t\t\t\"window\": record.window,\n\t\t\t\"limit\": record.limit,\n\t\t\t\"retries\": record.retries,\n\t\t\t\"delay\": record.delay\n\t\t};\n\t\tsetFields({...fields});\n\t\ttry {\n\t\t\tawait consoleService.updateThrottling(environment.code, fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.addThrottling\"));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function deleteThrottling(name) {\n\t\tdelete fields[name];\n\t\tif (fields.publicAPIStrategy === name) {\n\t\t\tfields.publicAPIStrategy = \"\";\n\t\t}\n\t\tif (fields.privateAPIStrategy === name) {\n\t\t\tfields.privateAPIStrategy = \"\";\n\t\t}\n\t\tsetFields({...fields});\n\t\ttry {\n\t\t\tawait consoleService.updateThrottling(environment.code, fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.deleteThrottling\"));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tconst response = await consoleService.getThrottlingRegistry(environment.code);\n\t\t\t\tif (isSubscribed && response) {\n\t\t\t\t\tsetFields(response);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tenvironment && onLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<ThrottlingAddModal\n\t\t\t\tmodalOpt={addModalOpt}\n\t\t\t\tsetModalOpt={setAddModalOpt}\n\t\t\t\thandleAction={addThrottling}\n\t\t\t/>\n\t\t\t<CardDeck>\n\t\t\t\t<Card className=\"small\">\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:titles.ThrottlingPublic\")}</Card.Title>\n\t\t\t\t\t\t<Card.Text className=\"mt-4\">\n\t\t\t\t\t\t\t{t(\"soajs.title.throttlingStrategy\")}:\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tclassName=\"mt-2\"\n\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\tid=\"publicAPIStrategy\"\n\t\t\t\t\t\t\t\tvalue={fields.publicAPIStrategy}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"\">---</option>\n\t\t\t\t\t\t\t\t{Object.keys(fields).map((rec, index) => (\n\t\t\t\t\t\t\t\t\trec !== \"publicAPIStrategy\" && rec !== \"privateAPIStrategy\" &&\n\t\t\t\t\t\t\t\t\t<option key={index} value={rec}>{rec}</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('registry', 'throttling') &&\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\tclassName=\"float-right mt-3\"\n\t\t\t\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t</Card.Text>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t\t<Card.Footer className=\"small text-muted\">\n\t\t\t\t\t\tSelect the default throttling strategy you would like to apply to all APIs deployed in this\n\t\t\t\t\t\tenvironment that are not protected by oAuth <a\n\t\t\t\t\t\thref=\"https://soajsorg.atlassian.net/wiki/spaces/SOAJ/pages/679641089/API+Traffic+Throttling\">Learn\n\t\t\t\t\t\tMore</a>\n\t\t\t\t\t</Card.Footer>\n\t\t\t\t</Card>\n\t\t\t\t<Card className=\"small\">\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:titles.ThrottlingPrivate\")}</Card.Title>\n\t\t\t\t\t\t<Card.Text className=\"mt-4\">\n\t\t\t\t\t\t\t{t(\"soajs.title.throttlingStrategy\")}:\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tclassName=\"mt-2\"\n\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\tid=\"privateAPIStrategy\"\n\t\t\t\t\t\t\t\tvalue={fields.privateAPIStrategy}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"\">---</option>\n\t\t\t\t\t\t\t\t{Object.keys(fields).map((rec, index) => (\n\t\t\t\t\t\t\t\t\trec !== \"publicAPIStrategy\" && rec !== \"privateAPIStrategy\" &&\n\t\t\t\t\t\t\t\t\t<option key={index} value={rec}>{rec}</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('registry', 'throttling') &&\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\tclassName=\"float-right mt-3\"\n\t\t\t\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t</Card.Text>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t\t<Card.Footer className=\"small text-muted\">\n\t\t\t\t\t\tSelect the default throttling strategy you would like to apply to all APIs deployed in this\n\t\t\t\t\t\tenvironment that are protected by oAuth and require the access token of a logged in user. <a\n\t\t\t\t\t\thref=\"https://soajsorg.atlassian.net/wiki/spaces/SOAJ/pages/679641089/API+Traffic+Throttling\">Learn\n\t\t\t\t\t\tMore</a>\n\t\t\t\t\t</Card.Footer>\n\t\t\t\t</Card>\n\t\t\t</CardDeck>\n\t\t\t\n\t\t\t<hr className=\"mb-4 mt-4\"/>\n\t\t\t<Alert variant=\"info\" className=\"text-muted small mt-3\">\n\t\t\t\tIf you are not familiar with how API Traffic Throttling works, <a\n\t\t\t\thref=\"https://soajsorg.atlassian.net/wiki/spaces/SOAJ/pages/679641089/API+Traffic+Throttling\">Click\n\t\t\t\tHere</a>\n\t\t\t</Alert>\n\t\t\t<hr className=\"mb-4 mt-4\"/>\n\t\t\t\n\t\t\t<h5 className=\"float-left\">{t(\"soajs:titles.ManageThrottling\")}</h5>\n\t\t\t\n\t\t\t{ability.can('registry', 'throttling') &&\n\t\t\t<AddButton\n\t\t\t\tclassName=\"float-right mr-1\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\thandleAddShow({});\n\t\t\t\t}}\n\t\t\t/>}\n\t\t\t<Table responsive striped hover size=\"sm\" className=\"mt-3\">\n\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t<tr>\n\t\t\t\t\t<th>{t(\"soajs:buttons.Actions\")}</th>\n\t\t\t\t\t<th>{t(\"soajs:fields.Name\")}</th>\n\t\t\t\t\t<th>{t(\"soajs:fields.Type\")}</th>\n\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Window\")} [ms]</th>\n\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Limit\")}</th>\n\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Retries\")}</th>\n\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Delay\")} [ms]</th>\n\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t{Object.keys(fields).map((t, index) => (\n\t\t\t\t\tt !== \"publicAPIStrategy\" && t !== \"privateAPIStrategy\" &&\n\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('registry', 'throttling') &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-left mr-1\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tdeleteThrottling(t).catch();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>{t}</td>\n\t\t\t\t\t\t<td>{fields[t].type === 0 ? \"Per Tenant\" : \"Per Tenant & Per IP Address\"}</td>\n\t\t\t\t\t\t<td className=\"text-center\">{fields[t].window}</td>\n\t\t\t\t\t\t<td className=\"text-center\">{fields[t].limit}</td>\n\t\t\t\t\t\t<td className=\"text-center\">{fields[t].retries}</td>\n\t\t\t\t\t\t<td className=\"text-center\">{fields[t].delay}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t))}\n\t\t\t\t</tbody>\n\t\t\t</Table>\n\t\t</>\n\t)\n};","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport {AiFillCloseSquare} from \"react-icons/ai\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function Close({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button variant=\"danger\" size=\"sm\" {...props}>\n\t\t\t\t<AiFillCloseSquare/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import {Alert, Col, Row, Tab, Tabs, Button} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../services\";\n\nimport DefaultView from \"./DefaultView\"\nimport DefaultEdit from \"./DefaultEdit\"\nimport Awareness from \"./Awareness\"\nimport Resource from \"./Resource/Resource\"\nimport Custom from \"./Custom/Custom\"\nimport Databases from \"./Databases\"\nimport Throttling from \"./Throttling\"\nimport EditButton from \"../../../buttons/Edit\";\nimport CloseButton from \"../../../buttons/Close\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nconst consoleService = ConsoleService.getService();\n\nasync function onLoad(environment, setRegistry, isSubscribed) {\n\ttry {\n\t\tif (environment) {\n\t\t\tconst response = await consoleService.getRegistry(environment.code);\n\t\t\tif (response && isSubscribed) {\n\t\t\t\tsetRegistry(response);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Registry({environment, environments, clusters, reloadClusters}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [registry, setRegistry] = useState(null);\n\tconst [registryDefaultEdit, setRegistryDefaultEdit] = useState(false);\n\tconst [fields, setFields] = useState({\n\t\t\"env\": \"\",\n\t\t\"domain\": \"\",\n\t\t\"sitePrefix\": \"\",\n\t\t\"apiPrefix\": \"\",\n\t\t\"port\": 0,\n\t\t\"protocol\": \"https\",\n\t\t\"description\": \"\",\n\t\t\"services\": {\n\t\t\t\"controller\": {\n\t\t\t\t\"authorization\": false,\n\t\t\t\t\"requestTimeout\": 60,\n\t\t\t\t\"requestTimeoutRenewal\": 5\n\t\t\t},\n\t\t\t\"config\": {\n\t\t\t\t\"awareness\": {\n\t\t\t\t\t\"cacheTTL\": 3600000,\n\t\t\t\t\t\"healthCheckInterval\": 5000,\n\t\t\t\t\t\"autoRelaodRegistry\": 86400000,\n\t\t\t\t\t\"maxLogCount\": 5,\n\t\t\t\t\t\"autoRegisterService\": true\n\t\t\t\t},\n\t\t\t\t\"logger\": {},\n\t\t\t\t\"ports\": {\n\t\t\t\t\t\"controller\": 4000,\n\t\t\t\t\t\"maintenanceInc\": 1000,\n\t\t\t\t\t\"randomInc\": 100\n\t\t\t\t},\n\t\t\t\t\"oauth\": {\n\t\t\t\t\t\"debug\": false,\n\t\t\t\t\t\"getUserFromToken\": false,\n\t\t\t\t\t\"accessTokenLifetime\": 7200,\n\t\t\t\t\t\"refreshTokenLifetime\": 1209600\n\t\t\t\t},\n\t\t\t\t\"cors\": {\n\t\t\t\t\t\"credentials\": true,\n\t\t\t\t\t\"enabled\": true,\n\t\t\t\t\t\"headers\": \"key,soajsauth,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,__env,access_token\",\n\t\t\t\t\t\"maxage\": 1728000,\n\t\t\t\t\t\"methods\": \"GET,HEAD,PUT,PATCH,POST,DELETE\",\n\t\t\t\t\t\"origin\": \"*\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\t\n\tfunction handleEditRegistry() {\n\t\tlet obj = {\n\t\t\t\"env\": registry.code,\n\t\t\t\"domain\": registry.domain || fields.domain,\n\t\t\t\"sitePrefix\": registry.sitePrefix || fields.sitePrefix,\n\t\t\t\"apiPrefix\": registry.apiPrefix || fields.apiPrefix,\n\t\t\t\"port\": registry.port || fields.port,\n\t\t\t\"protocol\": registry.protocol || fields.protocol,\n\t\t\t\"description\": registry.description || fields.description,\n\t\t\t\"services\": {\n\t\t\t\t\"controller\": {\n\t\t\t\t\t\"authorization\": registry.services.controller.authorization || fields.services.controller.authorization,\n\t\t\t\t\t\"requestTimeout\": registry.services.controller.requestTimeout || fields.services.controller.requestTimeout,\n\t\t\t\t\t\"requestTimeoutRenewal\": registry.services.controller.requestTimeoutRenewal || fields.services.controller.requestTimeoutRenewal\n\t\t\t\t},\n\t\t\t\t\"config\": {\n\t\t\t\t\t\"awareness\": {\n\t\t\t\t\t\t\"cacheTTL\": registry.services.config.awareness.cacheTTL || fields.services.config.awareness.cacheTTL,\n\t\t\t\t\t\t\"healthCheckInterval\": registry.services.config.awareness.healthCheckInterval || fields.services.config.awareness.healthCheckInterval,\n\t\t\t\t\t\t\"autoRelaodRegistry\": registry.services.config.awareness.autoRelaodRegistry || fields.services.config.awareness.autoRelaodRegistry,\n\t\t\t\t\t\t\"maxLogCount\": registry.services.config.awareness.maxLogCount || fields.services.config.awareness.maxLogCount,\n\t\t\t\t\t\t\"autoRegisterService\": registry.services.config.awareness.autoRegisterService || fields.services.config.awareness.autoRegisterService\n\t\t\t\t\t},\n\t\t\t\t\t\"logger\": registry.services.config.logger || fields.services.config.logger,\n\t\t\t\t\t\"ports\": {\n\t\t\t\t\t\t\"controller\": registry.services.config.ports.controller || fields.services.config.ports.controller,\n\t\t\t\t\t\t\"maintenanceInc\": registry.services.config.ports.maintenanceInc || fields.services.config.ports.maintenanceInc,\n\t\t\t\t\t\t\"randomInc\": registry.services.config.ports.randomInc || fields.services.config.ports.randomInc\n\t\t\t\t\t},\n\t\t\t\t\t\"oauth\": {\n\t\t\t\t\t\t\"debug\": registry.services.config.oauth.debug || fields.services.config.oauth.debug,\n\t\t\t\t\t\t\"getUserFromToken\": registry.services.config.oauth.getUserFromToken || fields.services.config.oauth.getUserFromToken,\n\t\t\t\t\t\t\"accessTokenLifetime\": registry.services.config.oauth.accessTokenLifetime || fields.services.config.oauth.accessTokenLifetime,\n\t\t\t\t\t\t\"refreshTokenLifetime\": registry.services.config.oauth.refreshTokenLifetime || fields.services.config.oauth.refreshTokenLifetime\n\t\t\t\t\t},\n\t\t\t\t\t\"cors\": {\n\t\t\t\t\t\t\"credentials\": registry.services.config.cors.credentials || fields.services.config.cors.credentials,\n\t\t\t\t\t\t\"enabled\": registry.services.config.cors.enabled || fields.services.config.cors.enabled,\n\t\t\t\t\t\t\"headers\": registry.services.config.cors.headers || fields.services.config.cors.headers,\n\t\t\t\t\t\t\"maxage\": registry.services.config.cors.maxage || fields.services.config.cors.maxage,\n\t\t\t\t\t\t\"methods\": registry.services.config.cors.methods || fields.services.config.cors.methods,\n\t\t\t\t\t\t\"origin\": registry.services.config.cors.origin || fields.services.config.cors.origin\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tsetFields(obj)\n\t\tsetRegistryDefaultEdit(true);\n\t}\n\t\n\tasync function reload() {\n\t\tawait onLoad(environment, setRegistry, true);\n\t}\n\t\n\tasync function handleSaveRegistry() {\n\t\ttry {\n\t\t\tawait consoleService.updateRegistry(fields);\n\t\t\tawait reload();\n\t\t\tsetRegistryDefaultEdit(false);\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tonLoad(environment, setRegistry, isSubscribed).catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\tenvironment && registry &&\n\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"default\" id=\"config\">\n\t\t\t<Tab eventKey=\"default\" title={t(\"soajs:titles.DefaultRegistry\")}>\n\t\t\t\t<Alert variant=\"secondary\" className=\"mt-4\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{registry.code}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={4} md={3}>\n\t\t\t\t\t\t\t{!registryDefaultEdit && ability.can('registry', 'edit') &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\tonClick={handleEditRegistry}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t{registryDefaultEdit &&\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<CloseButton\n\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetRegistryDefaultEdit(false);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\tonClick={handleSaveRegistry}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t\t{!registryDefaultEdit &&\n\t\t\t\t<DefaultView\n\t\t\t\t\tregistry={registry}\n\t\t\t\t/>}\n\t\t\t\t{registryDefaultEdit &&\n\t\t\t\t<DefaultEdit\n\t\t\t\t\tregistry={registry}\n\t\t\t\t\tfields={fields}\n\t\t\t\t\tsetFields={setFields}\n\t\t\t\t/>}\n\t\t\t</Tab>\n\t\t\t<Tab eventKey=\"awareness\" title={t(\"soajs:titles.Awareness\")}>\n\t\t\t\t<Awareness\n\t\t\t\t\tregistry={registry}\n\t\t\t\t/>\n\t\t\t</Tab>\n\t\t\t<Tab eventKey=\"throttling\" title={t(\"soajs:titles.Throttling\")}>\n\t\t\t\t<Throttling\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</Tab>\n\t\t\t<Tab eventKey=\"databases\" title={t(\"soajs:titles.Databases\")}>\n\t\t\t\t<Databases\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t\tregistry={registry}\n\t\t\t\t\tclusters={clusters}\n\t\t\t\t\treload={reload}\n\t\t\t\t/>\n\t\t\t</Tab>\n\t\t\t<Tab eventKey=\"custom\" title={t(\"soajs:titles.CustomRegistry\")}>\n\t\t\t\t<Custom\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t\tenvironments={environments}\n\t\t\t\t/>\n\t\t\t</Tab>\n\t\t\t<Tab eventKey=\"resource\" title={t(\"soajs:titles.ResourceConfiguration\")}>\n\t\t\t\t<Resource\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t\tenvironments={environments}\n\t\t\t\t\treloadClusters={reloadClusters}\n\t\t\t\t/>\n\t\t\t</Tab>\n\t\t</Tabs>\n\t);\n}","import {Card, Alert, Form, ListGroup, ListGroupItem} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService, InfraService} from \"../../../../services\";\nimport {LoaderButton} from \"../../../../soajs/helpers\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\nimport {useHistory} from \"react-router-dom\";\n\nconst infraService = InfraService.getService();\nconst consoleService = ConsoleService.getService();\n\nexport default function Add() {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [fields, setFields] = useState({\n\t\t\"code\": \"\",\n\t\t\"type\": \"manual\",\n\t\t\"description\": \"\",\n\t\t\"ip\": \"127.0.0.1\",\n\t\t\"port\": \"10000\",\n\t\t\"cluster\": null,\n\t\t\"namespace\": \"\"\n\t});\n\tconst [accounts, setAccounts] = useState([]);\n\tconst history = useHistory();\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\tsetIsLoading(true);\n\t\ttry {\n\t\t\tlet data = {\n\t\t\t\t\"code\": fields.code,\n\t\t\t\t\"description\": fields.description,\n\t\t\t\t\"settings\": {\n\t\t\t\t\t\"type\": fields.type\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (fields.type === \"manual\") {\n\t\t\t\tdata.settings.port = parseInt(fields.port);\n\t\t\t}\n\t\t\tif (fields.type === \"kubernetes\") {\n\t\t\t\tdata.settings.namespace = fields.namespace;\n\t\t\t\tdata.settings.id = accounts[fields.cluster]._id;\n\t\t\t}\n\t\t\tawait consoleService.addEnvironment(data);\n\t\t\thistory.push(\"/environments/manage/\" + fields.code.toUpperCase() + \"/settings\");\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t\tsetIsLoading(false);\n\t}\n\t\n\tfunction validateForm() {\n\t\tlet valid = (fields.code.length > 0 &&\n\t\t\tfields.type.length > 4 &&\n\t\t\tfields.description.length > 0);\n\t\tif (fields.type === \"manual\") {\n\t\t\t\n\t\t\tvalid = (valid && fields.ip.length > 0 && fields.port > 0);\n\t\t}\n\t\tif (fields.type === \"kubernetes\") {\n\t\t\tvalid = (valid && fields.cluster >= 0 && fields.namespace.length > 0);\n\t\t}\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tconst response = await infraService.getInfraAccounts();\n\t\t\t\tif (response && isSubscribed) {\n\t\t\t\t\tsetAccounts(response);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<>\n\t\t\t<h5>Add an environment</h5>\n\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t<Card.Body>\n\t\t\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label>Environment Type</Form.Label>\n\t\t\t\t\t\t\t<Form.Control as=\"select\" id=\"type\"\n\t\t\t\t\t\t\t              defaultValue={fields.type}\n\t\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"manual\">Manual deployment</option>\n\t\t\t\t\t\t\t\t<option value=\"kubernetes\">Containerized development</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Alert variant=\"info\" className=\"small mt-3 mb-3\">\n\t\t\t\t\t\t\t{fields.type === \"manual\" &&\n\t\t\t\t\t\t\t<>Manual: Build, manage, operate and test APIs on a local machine with complete awareness\n\t\t\t\t\t\t\t\tand\n\t\t\t\t\t\t\t\tinterconnect mesh among microservices</>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{fields.type === \"kubernetes\" &&\n\t\t\t\t\t\t\t<>Container: Build, manage, operate and test APIs on a containerized cluster as\n\t\t\t\t\t\t\t\tinfrastructure enabling\n\t\t\t\t\t\t\t\tkubernetes deployment & orchestration.</>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Code\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"code\"\n\t\t\t\t\t\t\t\tvalue={fields.code}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t{fields.type === \"manual\" &&\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t\t<Form.Label>Machine IP Address</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"ip\"\n\t\t\t\t\t\t\t\t\tvalue={fields.ip}\n\t\t\t\t\t\t\t\t\tdisabled={true}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t\t<Form.Label>Gateway port</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"port\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={fields.port}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{fields.type === \"kubernetes\" &&\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label>Select a kubernetes cluster</Form.Label>\n\t\t\t\t\t\t\t<Form.Control as=\"select\" id=\"cluster\"\n\t\t\t\t\t\t\t              defaultValue={fields.cluster}\n\t\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value={null}>--- Select an infrastructure ---</option>\n\t\t\t\t\t\t\t\t{accounts.map((acc, index) => (\n\t\t\t\t\t\t\t\t\t<option key={index} value={index}>{acc.label}</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{fields.type === \"kubernetes\" && fields.cluster !== null &&\n\t\t\t\t\t\t<Alert variant=\"info\" className=\"small mt-3 mb-3\">\n\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.MasterNode\")}:</span> {accounts[fields.cluster].configuration.url}\n\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.Port\")}:</span> {accounts[fields.cluster].configuration.port}\n\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t{accounts[fields.cluster].deployments && accounts[fields.cluster].deployments.length > 0 &&\n\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.Environments\")}:</span>\n\t\t\t\t\t\t\t\t\t{accounts[fields.cluster].deployments.map((env, index) => (\n\t\t\t\t\t\t\t\t\t\t<span key={index}>\n\t\t\t\t\t\t\t\t\t\t\t[ {env.env} ]\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{fields.type === \"kubernetes\" && fields.cluster &&\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Namespace\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"namespace\"\n\t\t\t\t\t\t\t\tvalue={fields.namespace}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<hr className=\"mt-4\"/>\n\t\t\t\t\t\t{ability.can('env', 'add') &&\n\t\t\t\t\t\t<LoaderButton\n\t\t\t\t\t\t\tblock\n\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t\t\t</LoaderButton>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Form>\n\t\t\t\t</Card.Body>\n\t\t\t</Card>\n\t\t</>\n\t);\n}","import {useTranslation} from \"react-i18next\";\nimport React, {useEffect, useState} from \"react\";\nimport {\n\tAccordion,\n\tButton,\n\tCard,\n\tForm,\n\tJumbotron,\n\tuseAccordionToggle,\n\tTab, Tabs, Row, Col\n} from \"react-bootstrap\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {FcCollapse, FcExpand} from \"react-icons/fc\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MarketplaceService} from \"../../../../../services\";\nimport AutoPagination from \"../../../../../lib/AutoPagination\";\n\nconst marketplaceService = MarketplaceService.getService();\n\nfunction CustomToggle({children, eventKey, handleClick}) {\n\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\thandleClick();\n\t});\n\treturn (\n\t\t<div className=\"float-left\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nasync function onLoad(setFields, setPagination, currentPage, criteria, isSubscribed, type, subType) {\n\ttry {\n\t\tlet c = {\"limit\": 15, \"start\": (currentPage - 1) * 15, \"type\": type, \"subType\": subType};\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords && criteria.keywords !== \"\") {\n\t\t\t\tc.keywords = criteria.keywords;\n\t\t\t}\n\t\t}\n\t\tconst response = await marketplaceService.getItems(c);\n\t\tif (isSubscribed) {\n\t\t\tif (response.records) {\n\t\t\t\tsetFields(response.records);\n\t\t\t\tsetPagination(\n\t\t\t\t\t{\n\t\t\t\t\t\t\"totalItems\": response.count,\n\t\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\t\"itemsPerPage\": response.limit\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Template({type, subType, Children, Header}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [activeKey, setActiveKey] = useState(0);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [criteria, setCriteria] = useState({\n\t\t\"keywords\": \"\"\n\t});\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait reLoad(1);\n\t}\n\t\n\tasync function reLoad(page) {\n\t\tawait onLoad(setFields, setPagination, page || currentPage, criteria, true, type, subType);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed) {\n\t\t\tonLoad(setFields, setPagination, 1, null, isSubscribed, type, subType).catch();\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [type, subType]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-3 m-0\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col lg={3}>\n\t\t\t\t\t\t<h5 className=\"font-weight-bold m-0\">{t(\"soajs:titles.env_cat_\" + type)}</h5>\n\t\t\t\t\t\t{subType && <span className=\"text-muted small\">{subType}</span>}\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col xs={9} md={10}>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"keywords\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.keywords}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={3} md={2}>\n\t\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Jumbotron>\n\t\t\t<hr/>\n\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t{fields.map((item, index) => (\n\t\t\t\t\t<Card key={index + 1}>\n\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\tas={Card.Header}\n\t\t\t\t\t\t\t\teventKey={index + 1}\n\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\tif (activeKey === (index + 1)) {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(index + 1);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{activeKey === (index + 1) ?\n\t\t\t\t\t\t\t\t\t<FcExpand className=\"mr-1\"/> :\n\t\t\t\t\t\t\t\t\t<FcCollapse className=\"mr-1\"/>}\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold mr-2\">{item.name}</span>\n\t\t\t\t\t\t\t\t{(item.configuration && item.configuration.port) ?\n\t\t\t\t\t\t\t\t\t<span className=\"mr-2 text-primary\">[{item.configuration.port}]</span>\n\t\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t\t\t<small>{item.configuration.group}</small>\n\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t\t<span className=\"float-right\">\n\t\t\t\t\t\t\t\t{Header &&\n\t\t\t\t\t\t\t\t<Header\n\t\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<Jumbotron className=\"p-3 bg-light small\">\n\t\t\t\t\t\t\t\t\t{item.description ? item.description : \"-\"}\n\t\t\t\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t\t\t\t{item.versions &&\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"1\" id=\"repos\"\n\t\t\t\t\t\t\t\t\t      style={{borderBottom: \"1px solid #dee2e6\"}}>\n\t\t\t\t\t\t\t\t\t\t{item.versions.map((_O, _I) => (\n\t\t\t\t\t\t\t\t\t\t\t<Tab key={_I} eventKey={_I + 1}\n\t\t\t\t\t\t\t\t\t\t\t     title={t(\"soajs:catalogs.version\") + \" \" + _O.version}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Jumbotron className=\"p-3 bg-light\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{_O.lastSync ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small>{t(\"soajs:catalogs.lastSynchronized\")}</small><small\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-3\">from <span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{_O.lastSync.branch}</span> @ <span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-italic\">{Date(_O.lastSync.ts)}</span></small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small>{t(\"soajs:catalogs.availableBranches\")}</small><small\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-3\">[{_O.branches ? _O.branches.join(\", \") : \"\"}]</small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"-\"}\n\t\t\t\t\t\t\t\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t\t\t\t\t\t\t\t{Children &&\n\t\t\t\t\t\t\t\t\t\t\t\t<Children\n\t\t\t\t\t\t\t\t\t\t\t\t\treloadItem={reLoad}\n\t\t\t\t\t\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\t\t\t\t\t\tversion={_O}\n\t\t\t\t\t\t\t\t\t\t\t\t\tactive={(activeKey === (index + 1))}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeactivate={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(0);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</Tab>))}\n\t\t\t\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t\t{fields.length === 0 ? (\n\t\t\t\t\t<span>{t(\"soajs:catalogs.zeroMsg\")}</span>\n\t\t\t\t) : null}\n\t\t\t</Accordion>\n\t\t\t\n\t\t\t{fields.length > 0 ? (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\treLoad(p);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t</>\n\t\t\t) : null}\n\t\t</>\n\t);\n}","import React from \"react\";\nimport {AiFillCheckCircle} from \"react-icons/ai\";\n\nexport default function ManualHeader({manualAwareness, item}) {\n\tlet add2Header = false;\n\tif (manualAwareness[item.name] && manualAwareness[item.name].healthy) {\n\t\tadd2Header = true;\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t{add2Header &&\n\t\t\t<>\n\t\t\t\t<span className=\"text-success\"><AiFillCheckCircle/> <span className=\"small\">Deployed</span></span>\n\t\t\t</>}\n\t\t</>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {JsonEditor} from \"../../../../../../soajs/urac/components\";\n\n\nexport default function JsonModal({modalOpt, setModalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [selectedPod, setSelectedPod] = useState(0);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, \"data\": [], \"mode\": \"view\", \"title\": \"\"});\n\t\n\tfunction handleSelectedPod(event) {\n\t\tsetSelectedPod(event.target.value);\n\t}\n\t\n\treturn (\n\t\tmodalOpt &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{modalOpt.title}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form.Control\n\t\t\t\t\tas=\"select\"\n\t\t\t\t\tid=\"pod\"\n\t\t\t\t\tdefaultValue={selectedPod}\n\t\t\t\t\tonChange={handleSelectedPod}\n\t\t\t\t>\n\t\t\t\t\t{modalOpt.data.map((rec, i) => (\n\t\t\t\t\t\t<option key={i} value={i}>{rec.id}</option>\n\t\t\t\t\t))}\n\t\t\t\t</Form.Control>\n\t\t\t\t<hr/>\n\t\t\t\t{selectedPod >= 0 && modalOpt && modalOpt.data && modalOpt.data[selectedPod] &&\n\t\t\t\t<JsonEditor\n\t\t\t\t\tmode={modalOpt.mode || \"view\"}\n\t\t\t\t\tmodes={[\"view\", \"preview\"]}\n\t\t\t\t\tjson={modalOpt.data[selectedPod].response || {}}\n\t\t\t\t/>\n\t\t\t\t}\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Ok\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Dropdown, DropdownButton} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MarketplaceService} from \"../../../../../services\";\nimport JsonModal from \"./modal/JsonModal\";\n\nconst marketplaceService = MarketplaceService.getService();\n\nexport default function MaintenanceOperation({version, env, itemName, itemType}) {\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"data\": [], \"mode\": \"preview\", \"title\": \"\"});\n\tconst modalOptShow = (data, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"data\": data,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\t\n\tasync function handleMaintenance(route) {\n\t\ttry {\n\t\t\tlet response = await marketplaceService.itemMaintenance({\n\t\t\t\t\"env\": env,\n\t\t\t\t\"name\": itemName,\n\t\t\t\t\"type\": itemType,\n\t\t\t\t\"version\": version.version,\n\t\t\t\t\"operation\": route,\n\t\t\t\t\"port\": {\n\t\t\t\t\t\"portType\": version.maintenance.port.type,\n\t\t\t\t\t\"portValue\": version.maintenance.port.value || null\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (response) {\n\t\t\t\tmodalOptShow(response, itemName);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t{version.maintenance &&\n\t\t\t<DropdownButton\n\t\t\t\tsize=\"sm\"\n\t\t\t\tid=\"dropdown-item-button\"\n\t\t\t\ttitle=\"Maintenance Operations\"\n\t\t\t\tvariant=\"info\"\n\t\t\t\tclassName=\"float-right\">\n\t\t\t\t{version.maintenance && version.maintenance.readiness &&\n\t\t\t\t<Dropdown.Item\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\thandleMaintenance(version.maintenance.readiness).catch();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<small>Heartbeat</small>\n\t\t\t\t</Dropdown.Item>}\n\t\t\t\t{version.maintenance &&\n\t\t\t\tversion.maintenance.commands &&\n\t\t\t\tversion.maintenance.commands.map((m, i) => (\n\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\thandleMaintenance(m.path).catch();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<small>{m.label}</small>\n\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t))}\n\t\t\t</DropdownButton>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Alert, Col, Row} from \"react-bootstrap\";\nimport React from \"react\";\n\nimport MaintenanceOperation from \"./MaintenanceOperation\";\n\nexport default function ManualDetails({manualAwareness, version, itemName, itemType, env}) {\n\t\n\treturn (\n\t\t<>\n\t\t\t{manualAwareness &&\n\t\t\tmanualAwareness.version === version.version &&\n\t\t\tmanualAwareness.healthy &&\n\t\t\t<>\n\t\t\t\t<hr/>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<MaintenanceOperation\n\t\t\t\t\t\t\tversion={version}\n\t\t\t\t\t\t\tenv={env}\n\t\t\t\t\t\t\titemName={itemName}\n\t\t\t\t\t\t\titemType={itemType}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<hr/>\n\t\t\t\t<Alert variant=\"info p-1\">\n\t\t\t\t\t{manualAwareness.host}\n\t\t\t\t</Alert>\n\t\t\t</>}\n\t\t</>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tfunction handleSubmit() {\n\t\thandleAction(modalOpt.item.what);\n\t\thandleClose();\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body style={{\n\t\t\t\t\"wordBreak\": \"break-all\"\n\t\t\t}}>\n\t\t\t\t{t(\"soajs:messages.deleteQuestion\")}<span\n\t\t\t\tclassName=\"ml-3 font-weight-bold\">{modalOpt.item ? modalOpt.item.title : \"\"}</span>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","function getSourcesFromConfiguration(configuration) {\n\tlet response = {};\n\tif (configuration.src) {\n\t\tif (configuration.src.tag) {\n\t\t\tresponse.tag = configuration.src.tag;\n\t\t}\n\t\tif (configuration.src.branch) {\n\t\t\tresponse.branch = configuration.src.branch;\n\t\t}\n\t\tif (configuration.src.commit) {\n\t\t\tresponse.commit = configuration.src.commit;\n\t\t}\n\t}\n\tif (configuration.recipe) {\n\t\tif (configuration.recipe.image && configuration.recipe.image.tag) {\n\t\t\tresponse.imageTag = configuration.recipe.image.tag;\n\t\t}\n\t\tif (configuration.recipe.image && configuration.recipe.image.prefix) {\n\t\t\tresponse.imagePrefix = configuration.recipe.image.prefix;\n\t\t}\n\t\tif (configuration.recipe.image && configuration.recipe.image.name) {\n\t\t\tresponse.imageName = configuration.recipe.image.name;\n\t\t}\n\t}\n\treturn response;\n}\n\nfunction getSourcesFromContainer(template) {\n\tlet response = {};\n\tlet container = template.spec.containers[0];\n\tresponse.imageTag = container.image.substr(container.image.indexOf(\":\") + 1, container.image.length);\n\tif (container.image.indexOf(\"/\")) {\n\t\tresponse.imagePrefix = container.image.substr(0, container.image.indexOf(\"/\"));\n\t\tresponse.imageName = container.image.substr(container.image.indexOf(\"/\") + 1, container.image.indexOf(\":\") - (container.image.indexOf(\"/\") + 1));\n\t} else {\n\t\tresponse.imageName = container.image.substr(0, container.image.indexOf(\":\"));\n\t}\n\tif (container.env) {\n\t\tcontainer.env.map((rec, i) => {\n\t\t\tif (rec.name === \"SOAJS_GIT_BRANCH\") {\n\t\t\t\tif (template.metadata.labels[\"service.tag\"] && template.metadata.labels[\"service.tag\"] === rec.value) {\n\t\t\t\t\tresponse.tag = rec.value;\n\t\t\t\t} else {\n\t\t\t\t\tresponse.branch = rec.value;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (rec.name === \"SOAJS_GIT_COMMIT\") {\n\t\t\t\tresponse.commit = rec.value;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t}\n\treturn response;\n}\n\nexport {\n\tgetSourcesFromConfiguration,\n\tgetSourcesFromContainer\n};\n\nexport default function getTemplate(inspect, kind) {\n\tlet template = null;\n\tif (kind === \"Deployment\") {\n\t\tif (inspect.deployments &&\n\t\t\tinspect.deployments.items &&\n\t\t\tinspect.deployments.items[0]) {\n\t\t\tif (inspect.deployments.items[0].spec &&\n\t\t\t\tinspect.deployments.items[0].spec.template) {\n\t\t\t\ttemplate = inspect.deployments.items[0].spec.template;\n\t\t\t}\n\t\t}\n\t}\n\tif (kind === \"DaemonSet\") {\n\t\tif (inspect.daemonsets &&\n\t\t\tinspect.daemonsets.items &&\n\t\t\tinspect.daemonsets.items[0]) {\n\t\t\tif (inspect.daemonsets.items[0].spec &&\n\t\t\t\tinspect.daemonsets.items[0].spec.template) {\n\t\t\t\ttemplate = inspect.daemonsets.items[0].spec.template;\n\t\t\t}\n\t\t}\n\t}\n\tif (kind === \"CronJob\") {\n\t\tif (inspect.cronjobs &&\n\t\t\tinspect.cronjobs.items &&\n\t\t\tinspect.cronjobs.items[0]) {\n\t\t\tif (inspect.cronjobs.items[0].spec &&\n\t\t\t\tinspect.cronjobs.items[0].jobTemplate &&\n\t\t\t\tinspect.cronjobs.items[0].jobTemplate.spec &&\n\t\t\t\tinspect.cronjobs.items[0].jobTemplate.spec.template) {\n\t\t\t\ttemplate = inspect.cronjobs.items[0].jobTemplate.spec.template;\n\t\t\t}\n\t\t}\n\t}\n\treturn template;\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {GoSync} from \"react-icons/go\";\n\nimport deepSet from \"../../../../../../soajs/libs/deepSetLib\";\nimport {MarketplaceService, RepositoriesService} from \"../../../../../../services\";\nimport {NotificationManager} from \"../../../../../../soajs/urac/components\";\n\nimport getTemplate, {getSourcesFromConfiguration, getSourcesFromContainer} from \"./getTemplate\";\n\nconst marketplaceService = MarketplaceService.getService();\nconst repositoriesService = RepositoriesService.getService();\n\n\nasync function getLastCommit(modalOpt, branch) {\n\tlet data = {\n\t\t\"repo\": modalOpt.item.itemSrc.repo,\n\t\t\"owner\": modalOpt.item.itemSrc.owner,\n\t\t\"provider\": modalOpt.item.itemSrc.provider,\n\t\t\"branch\": branch\n\t}\n\ttry {\n\t\tlet response = await repositoriesService.getGitBranch(data);\n\t\tif (response && response.commit) {\n\t\t\treturn Promise.resolve(response.commit);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n\treturn Promise.resolve(null);\n}\n\nexport default function RedeployModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState({\n\t\t\"srcType\": \"\",\n\t\t\"branch\": \"\",\n\t\t\"commit\": \"\",\n\t\t\"tag\": \"\",\n\t\t\"imageTag\": \"\",\n\t\t\"config\": {},\n\t\t\"inspect\": {}\n\t});\n\tconst handleClose = () => setModalOpt({\"show\": false, \"item\": null, \"title\": \"\"});\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\tif (fields.srcType === \"branch\") {\n\t\t\tvalid = fields.branch.length > 0 && fields.commit.length > 0;\n\t\t}\n\t\tif (fields.srcType === \"tag\") {\n\t\t\tvalid = fields.tag.length > 0;\n\t\t}\n\t\treturn (\n\t\t\tfields.imageTag.length > 0 &&\n\t\t\tvalid\n\t\t)\n\t}\n\t\n\tasync function get_setLastCommit() {\n\t\tlet commit = await getLastCommit(modalOpt, fields.branch);\n\t\tif (commit) {\n\t\t\tfields.commit = commit;\n\t\t\tsetFields({...fields});\n\t\t}\n\t}\n\t\n\tasync function reDeploy() {\n\t\ttry {\n\t\t\tlet data = {\n\t\t\t\t\"name\": modalOpt.item.name,\n\t\t\t\t\"type\": modalOpt.item.type,\n\t\t\t\t\"env\": modalOpt.item.env,\n\t\t\t\t\"version\": modalOpt.item.version,\n\t\t\t\t\"branch\": (fields.branch.length > 0 ? fields.branch : null),\n\t\t\t\t\"commit\": (fields.commit.length > 0 ? fields.commit : null),\n\t\t\t\t\"tag\": (fields.tag.length > 0 ? fields.tag : null),\n\t\t\t\t\"imageTag\": (fields.imageTag.length > 0 ? fields.imageTag : null),\n\t\t\t};\n\t\t\tawait marketplaceService.redeploy(data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.redeploySuccess\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tif (event.target.type === 'number') {\n\t\t\tvalue = parseInt(value);\n\t\t}\n\t\t\n\t\tdeepSet(fields, event.target.id, value);\n\t\tsetFields({...fields});\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad(data, inspectInfo, configInfo) {\n\t\t\tif (inspectInfo.branch || configInfo.branch) {\n\t\t\t\tlet commit = await getLastCommit(modalOpt, inspectInfo.branch || configInfo.branch);\n\t\t\t\tdata.commit = commit;\n\t\t\t}\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields(data);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (modalOpt && modalOpt.item) {\n\t\t\tlet inspectInfo = {};\n\t\t\tif (modalOpt.item.inspect) {\n\t\t\t\tlet template = getTemplate(modalOpt.item.inspect, modalOpt.item.kind);\n\t\t\t\tif (template) {\n\t\t\t\t\tinspectInfo = getSourcesFromContainer(template);\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet configInfo = {};\n\t\t\tif (modalOpt.item.deployConfiguration) {\n\t\t\t\tconfigInfo = getSourcesFromConfiguration(modalOpt.item.deployConfiguration);\n\t\t\t}\n\t\t\tlet data = {\n\t\t\t\t\"branch\": inspectInfo.branch || configInfo.branch || \"\",\n\t\t\t\t\"commit\": inspectInfo.commit || configInfo.commit || \"\",\n\t\t\t\t\"tag\": inspectInfo.tag || configInfo.tag || \"\",\n\t\t\t\t\"imageTag\": inspectInfo.imageTag || configInfo.imageTag || \"\",\n\t\t\t\t\"config\": configInfo,\n\t\t\t\t\"inspect\": inspectInfo,\n\t\t\t\t\"srcType\": \"\"\n\t\t\t};\n\t\t\tif (inspectInfo.branch || configInfo.branch) {\n\t\t\t\tdata.srcType = \"branch\";\n\t\t\t}\n\t\t\tif (inspectInfo.tag || configInfo.tag) {\n\t\t\t\tdata.srcType = \"tag\";\n\t\t\t}\n\t\t\tonLoad(data, inspectInfo, configInfo).catch();\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\tmodalOpt &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>Redeploy: {modalOpt.title}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t{modalOpt.item &&\n\t\t\t\t<Form>\n\t\t\t\t\t{fields.srcType === \"branch\" &&\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Branch\")}</Form.Label>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"branch\"\n\t\t\t\t\t\t\tvalue={fields.branch}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.availableSrc && modalOpt.item.availableSrc.branches &&\n\t\t\t\t\t\t\tmodalOpt.item.availableSrc.branches.map((rec, i) => (\n\t\t\t\t\t\t\t\t<option key={i} value={rec}>{rec}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{fields.branch !== fields.config.branch &&\n\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\tMismatch with configuration: <b>{fields.config.branch}</b>\n\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t{fields.branch !== fields.inspect.branch &&\n\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\tMismatch with deployment: <b>{fields.inspect.branch}</b>\n\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t</Form.Group>}\n\t\t\t\t\t{fields.srcType === \"branch\" &&\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>\n\t\t\t\t\t\t\t{t(\"soajs:fields.Commit\")}\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"pt-0 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tvariant=\"info\"\n\t\t\t\t\t\t\t\tonClick={get_setLastCommit}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<GoSync/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"commit\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.commit}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{fields.commit !== fields.config.commit &&\n\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\tMismatch with configuration: <b>{fields.config.commit}</b>\n\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t{fields.commit !== fields.inspect.commit &&\n\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\tMismatch with deployment: <b>{fields.inspect.commit}</b>\n\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t</Form.Group>}\n\t\t\t\t\t{fields.srcType === \"tag\" &&\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Tag\")}</Form.Label>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"tag\"\n\t\t\t\t\t\t\tvalue={fields.tag}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.availableSrc && modalOpt.item.availableSrc.tags &&\n\t\t\t\t\t\t\tmodalOpt.item.availableSrc.tags.map((rec, i) => (\n\t\t\t\t\t\t\t\t<option key={i} value={rec}>{rec}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{fields.tag !== fields.config.tag &&\n\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\tMismatch with configuration: <b>{fields.config.tag}</b>\n\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t{fields.tag !== fields.inspect.tag &&\n\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\tMismatch with deployment: <b>{fields.inspect.tag}</b>\n\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t</Form.Group>}\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.ImageTag\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"imageTag\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.imageTag}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{fields.imageTag !== fields.config.imageTag &&\n\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\tMismatch with configuration: <b>{fields.config.imageTag}</b>\n\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t{fields.imageTag !== fields.inspect.imageTag &&\n\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\tMismatch with deployment: <b>{fields.inspect.imageTag}</b>\n\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t\t}\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t\n\t\t\t\t{modalOpt.item &&\n\t\t\t\t<Button\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={reDeploy}>\n\t\t\t\t\t{t(\"soajs:buttons.Redeploy\")}\n\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Card, Col, Form, Alert, Modal, Badge, Accordion, Row} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {BiSearchAlt} from \"react-icons/bi\";\n\nimport _ from \"lodash\";\n\nimport {useAppContext} from \"../../../../../../soajs/libs/contextLib\";\nimport {JsonEditor, NotificationManager} from \"../../../../../../soajs/urac/components\";\nimport {MarketplaceService, RepositoriesService} from \"../../../../../../services\";\nimport deepSet from \"../../../../../../soajs/libs/deepSetLib\";\nimport AutoPagination from \"../../../../../../lib/AutoPagination\";\n\nimport getTemplate, {getSourcesFromConfiguration, getSourcesFromContainer} from \"./getTemplate\";\nimport _examples from \"../../../../../Catalogs/containers/Recipe/model/examples.json\";\nimport {GoSync} from \"react-icons/go\";\n\nconst marketplaceService = MarketplaceService.getService();\nconst repositoriesService = RepositoriesService.getService();\n\nasync function processAndAutoFill(modalOpt, recipeID, allowedRecipies, setFields, isSubscribed) {\n\tlet inspectInfo = {};\n\tif (modalOpt.item.inspect) {\n\t\tlet template = getTemplate(modalOpt.item.inspect, modalOpt.item.kind);\n\t\tif (template) {\n\t\t\tinspectInfo = getSourcesFromContainer(template);\n\t\t}\n\t}\n\tlet configInfo = {};\n\tif (modalOpt.item.deployConfiguration) {\n\t\tconfigInfo = getSourcesFromConfiguration(modalOpt.item.deployConfiguration);\n\t}\n\t\n\tif (isSubscribed && recipeID) {\n\t\tlet recipe = getRecipeFromAllowed(recipeID, allowedRecipies);\n\t\tif (!recipe && allowedRecipies.length === 0) {\n\t\t\tconsole.log(\"No restriction\")\n\t\t}\n\t\tif (recipe) {\n\t\t\tlet repoId = \"\";\n\t\t\tlet commit = inspectInfo.commit || configInfo.commit || \"\";\n\t\t\ttry {\n\t\t\t\tif (modalOpt.item.itemSrc) {\n\t\t\t\t\tif (inspectInfo.branch || configInfo.branch) {\n\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\t\"repo\": modalOpt.item.itemSrc.repo,\n\t\t\t\t\t\t\t\"owner\": modalOpt.item.itemSrc.owner,\n\t\t\t\t\t\t\t\"provider\": modalOpt.item.itemSrc.provider,\n\t\t\t\t\t\t\t\"branch\": inspectInfo.branch || configInfo.branch\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet response = await repositoriesService.getGitBranch(data);\n\t\t\t\t\t\tif (response && response.commit) {\n\t\t\t\t\t\t\tcommit = response.commit;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (response && response.repo && response.repo.id) {\n\t\t\t\t\t\t\trepoId = response.repo.id;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\t\"name\": modalOpt.item.itemSrc.repo,\n\t\t\t\t\t\t\t\"owner\": [modalOpt.item.itemSrc.owner],\n\t\t\t\t\t\t\t\"provider\": [modalOpt.item.itemSrc.provider],\n\t\t\t\t\t\t\t\"active\": true\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet response = await repositoriesService.getRepositories(data);\n\t\t\t\t\t\tif (response && response.repositories && response.repositories.length > 0) {\n\t\t\t\t\t\t\trepoId = response.repositories[0]._id;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t\tsetFields(p => {\n\t\t\t\tp = _.merge({}, initFields);\n\t\t\t\t\n\t\t\t\tp.recipeId = recipeID;\n\t\t\t\t\n\t\t\t\t// p.image.name = configInfo.imageName || inspectInfo.imageName || recipe.recipe.deployOptions.image.name || \"\";\n\t\t\t\t// p.image.tag = configInfo.imageTag || inspectInfo.imageTag || recipe.recipe.deployOptions.image.tag || \"\";\n\t\t\t\t// p.image.prefix = configInfo.imagePrefix || inspectInfo.imagePrefix || recipe.recipe.deployOptions.image.prefix || \"\";\n\t\t\t\t\n\t\t\t\tp.image.name = recipe.recipe.deployOptions.image.name || configInfo.imageName || inspectInfo.imageName || \"\";\n\t\t\t\tp.image.tag = recipe.recipe.deployOptions.image.tag || configInfo.imageTag || inspectInfo.imageTag || \"\";\n\t\t\t\tp.image.prefix = recipe.recipe.deployOptions.image.prefix || configInfo.imagePrefix || inspectInfo.imagePrefix || \"\";\n\t\t\t\t\n\t\t\t\tp.binary = !!recipe.recipe.deployOptions.image.binary;\n\t\t\t\tif (!p.binary && !modalOpt.item.itemSrc) {\n\t\t\t\t\tp.warning = \"This item does not have a repository source and can only be deployed with recipes that do not require source. (binary only)\";\n\t\t\t\t}\n\t\t\t\tif (!p.binary) {\n\t\t\t\t\tif (inspectInfo.branch || configInfo.branch) {\n\t\t\t\t\t\tp.srcType = \"branch\";\n\t\t\t\t\t}\n\t\t\t\t\tif (inspectInfo.tag || configInfo.tag) {\n\t\t\t\t\t\tp.srcType = \"tag\";\n\t\t\t\t\t}\n\t\t\t\t\tif (modalOpt.item.availableSrc) {\n\t\t\t\t\t\tp.branchOrTag = [];\n\t\t\t\t\t\tif (modalOpt.item.availableSrc.branches) {\n\t\t\t\t\t\t\tp.branchOrTag.push(\"branch\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (modalOpt.item.availableSrc.tags) {\n\t\t\t\t\t\t\tp.branchOrTag.push(\"tag\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (p.srcType === \"\") {\n\t\t\t\t\t\t\tp.srcType = p.branchOrTag[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tp.repoId = repoId;\n\t\t\t\t\tp.branch = inspectInfo.branch || configInfo.branch || (modalOpt.item.availableSrc && modalOpt.item.availableSrc.branches ? modalOpt.item.availableSrc.branches[0] || \"\" : \"\");\n\t\t\t\t\tp.commit = commit;\n\t\t\t\t\tp.tag = inspectInfo.tag || configInfo.tag || modalOpt.item.availableSrc.tags || \"\";\n\t\t\t\t}\n\t\t\t\tp.config = configInfo;\n\t\t\t\tp.inspect = inspectInfo;\n\t\t\t\t\n\t\t\t\tp.settings.mode = modalOpt.item.kind || p.settings.mode;\n\t\t\t\tp.readinessProbe = recipe.recipe.deployOptions.readinessProbe || p.readinessProbe;\n\t\t\t\tp.livenessProbe = recipe.recipe.deployOptions.livenessProbe || p.livenessProbe;\n\t\t\t\t\n\t\t\t\tif (modalOpt.item.deployConfiguration) {\n\t\t\t\t\tif (modalOpt.item.deployConfiguration.cd && modalOpt.item.deployConfiguration.cd.strategy) {\n\t\t\t\t\t\tp.cd.strategy = modalOpt.item.deployConfiguration.cd.strategy;\n\t\t\t\t\t}\n\t\t\t\t\tif (modalOpt.item.deployConfiguration.settings) {\n\t\t\t\t\t\tp.settings.memory = modalOpt.item.deployConfiguration.settings.memory || p.settings.memory;\n\t\t\t\t\t\tp.settings.mode = modalOpt.item.deployConfiguration.settings.mode || p.settings.mode;\n\t\t\t\t\t\tp.settings.replicas = modalOpt.item.deployConfiguration.settings.replicas || p.settings.replicas;\n\t\t\t\t\t\tp.settings.concurrencyPolicy = modalOpt.item.deployConfiguration.settings.concurrencyPolicy || p.settings.concurrencyPolicy;\n\t\t\t\t\t\tp.settings.schedule = modalOpt.item.deployConfiguration.settings.schedule || p.settings.schedule;\n\t\t\t\t\t\tp.settings.restartPolicy = modalOpt.item.deployConfiguration.settings.restartPolicy || p.settings.restartPolicy;\n\t\t\t\t\t}\n\t\t\t\t\tif (modalOpt.item.deployConfiguration.recipe) {\n\t\t\t\t\t\tp.readinessProbe = modalOpt.item.deployConfiguration.recipe.readinessProbe || p.readinessProbe;\n\t\t\t\t\t\tp.livenessProbe = modalOpt.item.deployConfiguration.recipe.livenessProbe || p.livenessProbe;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (recipe.recipe.deployOptions.ports) {\n\t\t\t\t\tif (modalOpt.item.deployConfiguration && modalOpt.item.deployConfiguration.recipe.ports) {\n\t\t\t\t\t\tif (modalOpt.item.deployConfiguration.recipe.ports.portType) {\n\t\t\t\t\t\t\tp.ports.portType = modalOpt.item.deployConfiguration.recipe.ports.portType;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tp.ports.ports = [];\n\t\t\t\t\tp.showPortType = false;\n\t\t\t\t\tfor (let i = 0; i < recipe.recipe.deployOptions.ports.length; i++) {\n\t\t\t\t\t\tlet port = {\n\t\t\t\t\t\t\t\"name\": recipe.recipe.deployOptions.ports[i].name,\n\t\t\t\t\t\t\t\"target\": recipe.recipe.deployOptions.ports[i].target,\n\t\t\t\t\t\t\t\"isPublished\": recipe.recipe.deployOptions.ports[i].isPublished,\n\t\t\t\t\t\t\t\"published\": 0\n\t\t\t\t\t\t};\n\t\t\t\t\t\tp.showPortType = (p.showPortType || port.isPublished);\n\t\t\t\t\t\tif (modalOpt.item.deployConfiguration &&\n\t\t\t\t\t\t\tmodalOpt.item.deployConfiguration.recipe.ports &&\n\t\t\t\t\t\t\tmodalOpt.item.deployConfiguration.recipe.ports.values) {\n\t\t\t\t\t\t\tfor (let j = 0; j < modalOpt.item.deployConfiguration.recipe.ports.values.length; j++) {\n\t\t\t\t\t\t\t\tif (modalOpt.item.deployConfiguration.recipe.ports.values[j].name === port.name) {\n\t\t\t\t\t\t\t\t\tif (modalOpt.item.deployConfiguration.recipe.ports.values[j].published) {\n\t\t\t\t\t\t\t\t\t\tport.published = modalOpt.item.deployConfiguration.recipe.ports.values[j].published;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tp.ports.ports.push(port);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (recipe.recipe.buildOptions.env) {\n\t\t\t\t\tlet envs = Object.keys(recipe.recipe.buildOptions.env);\n\t\t\t\t\tp.env = recipe.recipe.buildOptions.env;\n\t\t\t\t\tfor (let i = 0; i < envs.length; i++) {\n\t\t\t\t\t\tif (recipe.recipe.buildOptions.env[envs[i]].type === \"userInput\") {\n\t\t\t\t\t\t\tif (modalOpt.item.deployConfiguration &&\n\t\t\t\t\t\t\t\tmodalOpt.item.deployConfiguration.recipe &&\n\t\t\t\t\t\t\t\tmodalOpt.item.deployConfiguration.recipe.env &&\n\t\t\t\t\t\t\t\tmodalOpt.item.deployConfiguration.recipe.env.hasOwnProperty([envs[i]])) {\n\t\t\t\t\t\t\t\tp.env[envs[i]].value = modalOpt.item.deployConfiguration.recipe.env[envs[i]];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (recipe.recipe.buildOptions.env[envs[i]].type === \"secret\") {\n\t\t\t\t\t\t\tif (modalOpt.item.deployConfiguration &&\n\t\t\t\t\t\t\t\tmodalOpt.item.deployConfiguration.recipe &&\n\t\t\t\t\t\t\t\tmodalOpt.item.deployConfiguration.recipe.env &&\n\t\t\t\t\t\t\t\tmodalOpt.item.deployConfiguration.recipe.env.hasOwnProperty([envs[i]])) {\n\t\t\t\t\t\t\t\tp.env[envs[i]].name = modalOpt.item.deployConfiguration.recipe.env[envs[i]].name;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn {...p};\n\t\t\t});\n\t\t} else {\n\t\t\tNotificationManager.error(\"The used recipe is not in the allowed recipe list or not available anymore.\");\n\t\t}\n\t}\n}\n\nasync function getRecipes(currentPage, criteria, setPagination, setRecipes) {\n\ttry {\n\t\tlet c = {\"limit\": 10, \"start\": (currentPage - 1) * 10};\n\t\tif (criteria) {\n\t\t\tif (criteria._keywords && criteria._keywords !== \"\") {\n\t\t\t\tc.keywords = criteria._keywords;\n\t\t\t}\n\t\t}\n\t\tconst _recipes = await marketplaceService.getRecipes(c);\n\t\tsetPagination(\n\t\t\t{\n\t\t\t\t\"totalItems\": _recipes.count,\n\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\"itemsPerPage\": _recipes.limit\n\t\t\t}\n\t\t);\n\t\tsetRecipes(_recipes.records);\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nfunction getRecipeFromAllowed(recipeID, allowedRecipies) {\n\tfor (let i = 0; i < allowedRecipies.length; i++) {\n\t\tif (allowedRecipies[i]._id === recipeID) {\n\t\t\treturn allowedRecipies[i];\n\t\t}\n\t}\n\treturn null;\n}\n\nfunction getRecipeIDFromTemplate(template) {\n\tif (template.metadata && template.metadata.labels) {\n\t\treturn template.metadata.labels[\"soajs.catalog.id\"] || null;\n\t}\n\treturn null;\n}\n\nconst initFields = {\n\t\"cd\": {\n\t\t\"strategy\": \"notify\"\n\t},\n\t\"settings\": {\n\t\t\"memory\": \"0\",\n\t\t\"mode\": \"Deployment\",\n\t\t\"replicas\": 1,\n\t\t\"concurrencyPolicy\": \"Allow\",\n\t\t\"schedule\": \"\",\n\t\t\"restartPolicy\": \"OnFailure\"\n\t},\n\t\"image\": {\n\t\t\"name\": \"\",\n\t\t\"prefix\": \"\",\n\t\t\"tag\": \"\"\n\t},\n\t\"showPortType\": false,\n\t\"ports\": {\n\t\t\"type\": \"kubernetes\",\n\t\t\"portType\": \"NodePort\",\n\t\t\"ports\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"target\": 0,\n\t\t\t\t\"published\": 0,\n\t\t\t\t\"isPublished\": false\n\t\t\t}\n\t\t]\n\t},\n\t\"env\": null,\n\t\"readinessProbe\": null,\n\t\"livenessProbe\": null,\n\t\"binary\": false,\n\t\"srcType\": \"\",\n\t\"recipeId\": \"\",\n\t\"repoId\": \"\",\n\t\"tag\": \"\",\n\t\"branch\": \"\",\n\t\"commit\": \"\",\n\t\"config\": {},\n\t\"inspect\": {},\n\t\"branchOrTag\": [],\n\t\"warning\": null\n};\n\nlet _json_readiness = null;\nlet _json_liveness = null;\n\nexport default function ConfigureModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, \"item\": null, \"title\": \"\"});\n\t\n\tconst [wizardStep, setWizardStep] = useState(1);\n\tconst [recipes, setRecipes] = useState([]);\n\tconst [recipesAllowed, setRecipesAllowed] = useState([]);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [criteria, setCriteria] = useState({\n\t\t\"_keywords\": \"\"\n\t});\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\t\n\tasync function get_setLastCommit() {\n\t\tlet data = {\n\t\t\t\"repo\": modalOpt.item.itemSrc.repo,\n\t\t\t\"owner\": modalOpt.item.itemSrc.owner,\n\t\t\t\"provider\": modalOpt.item.itemSrc.provider,\n\t\t\t\"branch\": fields.branch\n\t\t}\n\t\ttry {\n\t\t\tlet response = await repositoriesService.getGitBranch(data);\n\t\t\tif (response && response.commit) {\n\t\t\t\tfields.commit = response.commit;\n\t\t\t\tif (response.repo && response.repo.id) {\n\t\t\t\t\tfields.repoId = response.repo.id;\n\t\t\t\t}\n\t\t\t\tsetFields({...fields});\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tif (event.target.type === 'number') {\n\t\t\tvalue = parseInt(value);\n\t\t}\n\t\tif (event.target.id === \"recipeId\") {\n\t\t\tawait processAndAutoFill(modalOpt, event.target.value, recipesAllowed, setFields, true);\n\t\t} else {\n\t\t\tdeepSet(fields, event.target.id, value);\n\t\t\tsetFields({...fields});\n\t\t}\n\t}\n\t\n\tfunction handleFieldPortChange(event) {\n\t\tlet value = event.target.value;\n\t\tlet id = event.target.id;\n\t\t\n\t\tfields.ports.ports[id].published = parseInt(value)\n\t\tsetFields({...fields});\n\t}\n\t\n\tasync function reload(page) {\n\t\tawait getRecipes(page, criteria, setPagination, setRecipes);\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tawait getRecipes(1, criteria, setPagination, setRecipes);\n\t}\n\t\n\tasync function selectRecipe(recipe) {\n\t\tsetRecipesAllowed([recipe]);\n\t\tsetWizardStep(2);\n\t\tawait processAndAutoFill(modalOpt, recipe._id, [recipe], setFields, true);\n\t}\n\t\n\tfunction readiness_onChange(json) {\n\t\t_json_readiness = json;\n\t}\n\t\n\tfunction liveness_onChange(json) {\n\t\t_json_liveness = json;\n\t}\n\t\n\tfunction buildConfigureData() {\n\t\tlet params = {\n\t\t\t\"name\": modalOpt.item.name,\n\t\t\t\"type\": modalOpt.item.type\n\t\t};\n\t\tlet data = {\n\t\t\t\"config\": {\n\t\t\t\t\"env\": modalOpt.item.env,\n\t\t\t\t\"version\": modalOpt.item.version,\n\t\t\t\t\"cd\": {\n\t\t\t\t\t\"strategy\": fields.cd.strategy\n\t\t\t\t},\n\t\t\t\t\"settings\": {\n\t\t\t\t\t\"memory\": fields.settings.memory,\n\t\t\t\t\t\"mode\": fields.settings.mode,\n\t\t\t\t\t\"replicas\": fields.settings.replicas,\n\t\t\t\t\t\"concurrencyPolicy\": fields.settings.concurrencyPolicy,\n\t\t\t\t\t\"schedule\": fields.settings.schedule,\n\t\t\t\t\t\"restartPolicy\": fields.settings.restartPolicy\n\t\t\t\t},\n\t\t\t\t\"src\": {\n\t\t\t\t\t\"id\": fields.repoId,\n\t\t\t\t\t\"from\": {\n\t\t\t\t\t\t\"tag\": fields.tag,\n\t\t\t\t\t\t\"branch\": fields.branch,\n\t\t\t\t\t\t\"commit\": fields.commit\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"recipe\": {\n\t\t\t\t\t\"id\": fields.recipeId,\n\t\t\t\t\t\"image\": {\n\t\t\t\t\t\t\"name\": fields.image.name,\n\t\t\t\t\t\t\"prefix\": fields.image.prefix,\n\t\t\t\t\t\t\"tag\": fields.image.tag\n\t\t\t\t\t},\n\t\t\t\t\t\"readinessProbe\": _json_readiness || fields.readinessProbe || null,\n\t\t\t\t\t\"livenessProbe\": _json_liveness || fields.livenessProbe || null\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t\n\t\tif (!data.config.recipe.readinessProbe || Object.keys(data.config.recipe.readinessProbe).length === 0) {\n\t\t\tdelete data.config.recipe.readinessProbe;\n\t\t}\n\t\tif (!data.config.recipe.livenessProbe || Object.keys(data.config.recipe.livenessProbe).length === 0) {\n\t\t\tdelete data.config.recipe.livenessProbe;\n\t\t}\n\t\t\n\t\tif (fields.binary) {\n\t\t\tdelete data.config.src;\n\t\t} else {\n\t\t\tif (fields.srcType === \"branch\") {\n\t\t\t\tdelete data.config.src.from.tag;\n\t\t\t} else {\n\t\t\t\tdelete data.config.src.from.branch;\n\t\t\t\tdelete data.config.src.from.commit;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (data.config.settings.mode === \"DaemonSet\") {\n\t\t\tdelete data.config.settings.replicas;\n\t\t\tdelete data.config.settings.concurrencyPolicy;\n\t\t\tdelete data.config.settings.schedule;\n\t\t\tdelete data.config.settings.restartPolicy;\n\t\t}\n\t\tif (data.config.settings.mode === \"Deployment\") {\n\t\t\tdelete data.config.settings.concurrencyPolicy;\n\t\t\tdelete data.config.settings.schedule;\n\t\t\tdelete data.config.settings.restartPolicy;\n\t\t}\n\t\tif (data.config.settings.mode === \"CronJob\") {\n\t\t\tdelete data.config.settings.replicas;\n\t\t}\n\t\t\n\t\tif (fields.env) {\n\t\t\tlet envs = Object.keys(fields.env);\n\t\t\tfor (let i = 0; i < envs.length; i++) {\n\t\t\t\tif (fields.env[envs[i]].type === \"userInput\") {\n\t\t\t\t\tif (!data.config.recipe.env) {\n\t\t\t\t\t\tdata.config.recipe.env = {};\n\t\t\t\t\t}\n\t\t\t\t\tdata.config.recipe.env[envs[i]] = fields.env[envs[i]].value || fields.env[envs[i]].default;\n\t\t\t\t}\n\t\t\t\tif (fields.env[envs[i]].type === \"secret\") {\n\t\t\t\t\tdata.config.recipe.env[envs[i]] = {\n\t\t\t\t\t\t\"name\": fields.env[envs[i]].name || fields.env[envs[i]].secret,\n\t\t\t\t\t\t\"key\": fields.env[envs[i]].key\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (fields.ports.ports.length > 0) {\n\t\t\tdata.config.recipe.ports = {\n\t\t\t\t\"type\": fields.ports.type,\n\t\t\t\t\"portType\": fields.ports.portType,\n\t\t\t\t\"values\": []\n\t\t\t};\n\t\t\tfor (let i = 0; i < fields.ports.ports.length; i++) {\n\t\t\t\tif (fields.ports.ports[i].isPublished) {\n\t\t\t\t\tlet port = {\n\t\t\t\t\t\t\"name\": fields.ports.ports[i].name,\n\t\t\t\t\t\t\"target\": fields.ports.ports[i].target\n\t\t\t\t\t}\n\t\t\t\t\tif (fields.ports.portType === \"NodePort\") {\n\t\t\t\t\t\tport.published = fields.ports.ports[i].published;\n\t\t\t\t\t}\n\t\t\t\t\tdata.config.recipe.ports.values.push(port);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn ({data, params});\n\t}\n\t\n\tasync function save() {\n\t\ttry {\n\t\t\tlet {data, params} = buildConfigureData();\n\t\t\tawait marketplaceService.configure(params, data);\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function saveAndDeploy() {\n\t\ttry {\n\t\t\tlet {data, params} = buildConfigureData();\n\t\t\tawait marketplaceService.build(params, data);\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\tif (modalOpt && modalOpt.item) {\n\t\t\t\tlet recipeID = null;\n\t\t\t\tlet allowedRecipies = [];\n\t\t\t\tlet recipeIDs = [];\n\t\t\t\t\n\t\t\t\tlet configRecipeID = null;\n\t\t\t\tif (modalOpt.item.deployConfiguration && modalOpt.item.deployConfiguration.recipe && modalOpt.item.deployConfiguration.recipe.id) {\n\t\t\t\t\tconfigRecipeID = modalOpt.item.deployConfiguration.recipe.id;\n\t\t\t\t\trecipeIDs.push(configRecipeID);\n\t\t\t\t\trecipeID = configRecipeID;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlet deployRecipeID = null;\n\t\t\t\tif (modalOpt.item.inspect) {\n\t\t\t\t\tlet template = getTemplate(modalOpt.item.inspect, modalOpt.item.kind);\n\t\t\t\t\tif (template) {\n\t\t\t\t\t\tdeployRecipeID = getRecipeIDFromTemplate(template);\n\t\t\t\t\t\trecipeIDs.push(deployRecipeID);\n\t\t\t\t\t\trecipeID = deployRecipeID;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ((!modalOpt.item.itemSettings || !modalOpt.item.itemSettings.recipes ||\n\t\t\t\t\t!Array.isArray(modalOpt.item.itemSettings.recipes) ||\n\t\t\t\t\tmodalOpt.item.itemSettings.recipes.length === 0)) {\n\t\t\t\t\tawait getRecipes(1, {\"_keywords\": \"\"}, setPagination, setRecipes);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (modalOpt.item.itemSettings && modalOpt.item.itemSettings.recipes &&\n\t\t\t\t\tArray.isArray(modalOpt.item.itemSettings.recipes) &&\n\t\t\t\t\tmodalOpt.item.itemSettings.recipes.length > 0) {\n\t\t\t\t\trecipeIDs = _.union(recipeIDs, modalOpt.item.itemSettings.recipes);\n\t\t\t\t}\n\t\t\t\tif (recipeIDs.length > 0) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tallowedRecipies = await marketplaceService.getRecipesByIds(recipeIDs);\n\t\t\t\t\t\tif (allowedRecipies && Array.isArray(allowedRecipies)) {\n\t\t\t\t\t\t\tif (!recipeID) {\n\t\t\t\t\t\t\t\trecipeID = allowedRecipies[0]._id;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\t\t\tsetRecipesAllowed(allowedRecipies);\n\t\t\t\t\t\t\t\tsetWizardStep(2);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tNotificationManager.error(e.message);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tawait processAndAutoFill(modalOpt, recipeID, allowedRecipies, setFields, isSubscribed);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\tmodalOpt &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{modalOpt.item && modalOpt.item.deployConfiguration ? \"reConfigure Deployment\" : \"Configure Deployment\"}: {modalOpt.title}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t{wizardStep === 1 && modalOpt.item &&\n\t\t\t\t<>\n\t\t\t\t\t<Alert variant=\"secondary\" className=\"p-3\">\n\t\t\t\t\t\t<Form.Row>\n\t\t\t\t\t\t\t<Form.Label column=\"xs\" xs={3}>{t(\"soajs:buttons.Search\")}</Form.Label>\n\t\t\t\t\t\t\t<Col xs={6}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"_keywords\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tvalue={criteria._keywords}\n\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col xs={3}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\tvariant=\"dark\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tonClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t</Alert>\n\t\t\t\t\t<hr/>\n\t\t\t\t\t{recipes.map((rec, index) => (\n\t\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\">\n\t\t\t\t\t\t\t<Card.Body className=\"p-2\">\n\t\t\t\t\t\t\t\t{rec.name} - <span\n\t\t\t\t\t\t\t\tclassName=\"font-italic small text-danger\">[{rec.type}/{rec.subtype}]</span>\n\t\t\t\t\t\t\t\t<span className=\"float-right small\">\n\t\t\t\t\t\t\t\t\t<Badge variant=\"dark\">V {rec.v}</Badge>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tselectRecipe(rec).catch();\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(\"soajs:buttons.Select\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t))}\n\t\t\t\t\t{recipes.length > 0 &&\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\t\treload(p).catch();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t</>\n\t\t\t\t}\n\t\t\t\t{wizardStep === 2 && modalOpt.item &&\n\t\t\t\t<Form>\n\t\t\t\t\t<Alert variant=\"secondary\">\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.SelectRecipe\")}</Form.Label>\n\t\t\t\t\t\t\t{!(modalOpt.item && modalOpt.item.itemSettings && modalOpt.item.itemSettings.recipes &&\n\t\t\t\t\t\t\t\tArray.isArray(modalOpt.item.itemSettings.recipes) &&\n\t\t\t\t\t\t\t\tmodalOpt.item.itemSettings.recipes.length > 0) &&\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"pt-0 pl-1 pr-1 ml-2 float-right\"\n\t\t\t\t\t\t\t\tvariant=\"warning\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetWizardStep(1);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(\"soajs:buttons.Change\")}\n\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\tid=\"recipeId\"\n\t\t\t\t\t\t\t\tvalue={fields.recipeId}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{recipesAllowed.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t<option key={i} value={rec._id}>{rec.name}</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Alert>\n\t\t\t\t\t\n\t\t\t\t\t{fields.warning &&\n\t\t\t\t\t<Alert variant=\"danger\" className=\"small\">\n\t\t\t\t\t\t{fields.warning}\n\t\t\t\t\t</Alert>\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t<Card border=\"success\" className=\"mb-3\">\n\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\tImage Settings\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Prefix\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"image.prefix\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.image.prefix}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployConfiguration && fields.image.prefix !== fields.config.imagePrefix &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with configuration: <b>{fields.config.imagePrefix}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployed && fields.image.prefix !== fields.inspect.imagePrefix &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with deployment: <b>{fields.inspect.imagePrefix}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"image.name\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.image.name}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployConfiguration && fields.image.name !== fields.config.imageName &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with configuration: <b>{fields.config.imageName}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployed && fields.image.name !== fields.inspect.imageName &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with deployment: <b>{fields.inspect.imageName}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.tag\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"image.tag\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.image.tag}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployConfiguration && fields.image.tag !== fields.config.imageTag &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with configuration: <b>{fields.config.imageTag}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployed && fields.image.tag !== fields.inspect.imageTag &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with deployment: <b>{fields.inspect.imageTag}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t\t\n\t\t\t\t\t{!fields.binary && fields.branchOrTag && fields.branchOrTag.length > 0 &&\n\t\t\t\t\t<Card border=\"success\" className=\"mb-3\">\n\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\tRepository Settings\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.BranchOrTag\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"srcType\"\n\t\t\t\t\t\t\t\t\tvalue={fields.srcType}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{fields.branchOrTag.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t\t<option key={i} value={rec}>{rec}</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t{fields.srcType === \"branch\" &&\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Branch\")}</Form.Label>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"branch\"\n\t\t\t\t\t\t\t\t\tvalue={fields.branch}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.availableSrc && modalOpt.item.availableSrc.branches &&\n\t\t\t\t\t\t\t\t\tmodalOpt.item.availableSrc.branches.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t\t<option key={i} value={rec}>{rec}</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployConfiguration && fields.branch !== fields.config.branch &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with configuration: <b>{fields.config.branch}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployed && fields.branch !== fields.inspect.branch &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with configuration: <b>{fields.inspect.branch}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t</Form.Group>}\n\t\t\t\t\t\t\t{fields.srcType === \"branch\" &&\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>\n\t\t\t\t\t\t\t\t\t{t(\"soajs:fields.Commit\")}\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName=\"pt-0 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"info\"\n\t\t\t\t\t\t\t\t\t\tonClick={get_setLastCommit}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<GoSync/>\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"commit\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.commit}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployConfiguration && fields.commit !== fields.config.commit &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with configuration: <b>{fields.config.commit}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployed && fields.commit !== fields.inspect.commit &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with deployment: <b>{fields.inspect.commit}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t</Form.Group>}\n\t\t\t\t\t\t\t{fields.srcType === \"tag\" &&\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Tag\")}</Form.Label>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"tag\"\n\t\t\t\t\t\t\t\t\tvalue={fields.tag}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.availableSrc && modalOpt.item.availableSrc.tags &&\n\t\t\t\t\t\t\t\t\tmodalOpt.item.availableSrc.tags.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t\t<option key={i} value={rec}>{rec}</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployConfiguration && fields.tag !== fields.config.tag &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with configuration: <b>{fields.config.tag}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployed && fields.tag !== fields.inspect.tag &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with deployment: <b>{fields.inspect.tag}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t</Form.Group>}\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t<Card border=\"primary\" className=\"mb-3\">\n\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\tDeployment Settings\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.CDStrategy\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"cd.strategy\"\n\t\t\t\t\t\t\t\t\tvalue={fields.cd.strategy}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"notify\">Notify</option>\n\t\t\t\t\t\t\t\t\t<option value=\"update\">Update</option>\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Memory\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"settings.memory\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.settings.memory}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\tSpecify the Maximum memory limit that should be provided for this deployment.\n\t\t\t\t\t\t\t\t\tExample: You can set it to 1024Mi or 1Gi. <a\n\t\t\t\t\t\t\t\t\thref=\"https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#meaning-of-memory%22\">Click\n\t\t\t\t\t\t\t\t\there</a> for more information. You can use 0 if you want the memory limits\n\t\t\t\t\t\t\t\t\t(minimum and maximum) to be elastic.\n\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.DeploymentType\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"settings.mode\"\n\t\t\t\t\t\t\t\t\tvalue={fields.settings.mode}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"Deployment\">Deployment</option>\n\t\t\t\t\t\t\t\t\t<option value=\"DaemonSet\">DaemonSet</option>\n\t\t\t\t\t\t\t\t\t<option value=\"CronJob\">CronJob</option>\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t{fields.settings.mode === \"CronJob\" &&\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Schedule\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"settings.schedule\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tvalue={fields.settings.schedule}\n\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\tA CronJob takes a <a href=\"https://en.wikipedia.org/wiki/Cron\">Cron</a> format\n\t\t\t\t\t\t\t\t\t\tstring, such as 0 * * * * or @hourly, as schedule time of its jobs to be created\n\t\t\t\t\t\t\t\t\t\tand executed.\n\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.ConcurrencyPolicy\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\tid=\"settings.concurrencyPolicy\"\n\t\t\t\t\t\t\t\t\t\tvalue={fields.settings.concurrencyPolicy}\n\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value=\"Allow\">Allow</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"Forbid\">Forbid</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"Replace\">Replace</option>\n\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.RestartPolicy\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\tid=\"settings.restartPolicy\"\n\t\t\t\t\t\t\t\t\t\tvalue={fields.settings.restartPolicy}\n\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value=\"OnFailure\">OnFailure</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"Never\">Never</option>\n\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{(fields.settings.mode === \"Deployment\") &&\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Replicas\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"settings.replicas\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\t\t\t\tvalue={fields.settings.replicas}\n\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t\t\n\t\t\t\t\t{fields.ports.ports && fields.ports.ports.length > 0 &&\n\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t<Card border=\"secondary\" className=\"mb-3\">\n\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\tPorts\n\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0 small\">\n\t\t\t\t\t\t\t\t\t{fields.showPortType &&\n\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.PortType\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"ports.portType\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={fields.ports.portType}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"LoadBalancer\">LoadBalancer</option>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"NodePort\">NodePort</option>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"Internal\">Internal</option>\n\t\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\t</Form.Group>}\n\t\t\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t\t\t{fields.ports.ports.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t\t<Alert key={i} className=\"p-2\" variant={rec.isPublished ? \"info\" : \"secondary\"}>\n\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{rec.name} <Badge className=\"ml-3 mr-3\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t                  variant=\"secondary\">{rec.target}</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{rec.isPublished && fields.ports.portType === \"NodePort\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={i}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype={\"number\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rec.published}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldPortChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</Accordion>}\n\t\t\t\t\t\n\t\t\t\t\t{fields.env &&\n\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t<Card border=\"secondary\" className=\"mb-3\">\n\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\tEnvironment Variables\n\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0 small\">\n\t\t\t\t\t\t\t\t\t{fields.env && Object.keys(fields.env).map((rec, i) => (\n\t\t\t\t\t\t\t\t\t\t<Alert key={i} className=\"p-2\"\n\t\t\t\t\t\t\t\t\t\t       variant={fields.env[rec].type === \"userInput\" ? \"info\" : \"secondary\"}>\n\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{rec} <Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ml-3 mr-3\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant={fields.env[rec].type === \"userInput\" ? \"success\" :\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields.env[rec].type === \"computed\" ? \"secondary\" : \"info\"}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{fields.env[rec].type}</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{fields.env[rec].type !== \"userInput\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>{fields.env[rec].value}</>}\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t{fields.env[rec].type === \"userInput\" &&\n\t\t\t\t\t\t\t\t\t\t\t<Row className=\"mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={\"env.\" + rec + \".value\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={fields.env[rec].value || fields.env[rec].default}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>{fields.env[rec].label}: </b>{fields.env[rec].fieldMsg}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t{fields.env[rec].type === \"secret\" &&\n\t\t\t\t\t\t\t\t\t\t\t<Row className=\"mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={\"env.\" + rec + \".secret\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={fields.env[rec].secret}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\"Secret name\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={\"env.\" + rec + \".key\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={fields.env[rec].key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\"Secret label\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</Accordion>\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t<Card border=\"warning\" className=\"mb-3\">\n\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\tReadiness Information\n\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t<Row style={{\"height\": \"250px\"}}>\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\t\t\t\tmodes={[\"code\", \"tree\"]}\n\t\t\t\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\t\t\t\tjson={_json_readiness || fields.readinessProbe || null}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={readiness_onChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col xs={4} className=\"small\">\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<Alert variant=\"dark\" className=\"m-0 pb-0 pt-1\"><h6>Example</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t\t<Alert variant=\"info\" className=\"m-0 pb-0 pt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<pre className=\"small, text-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{JSON.stringify(_examples.readinessProbe, null, 2)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</Accordion>\n\t\t\t\t\t\n\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t<Card border=\"warning\" className=\"mb-3\">\n\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\tLiveness Information\n\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t<Row style={{\"height\": \"250px\"}}>\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\t\t\t\tmodes={[\"code\", \"tree\"]}\n\t\t\t\t\t\t\t\t\t\t\t\tjson={_json_liveness || fields.livenessProbe || null}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={liveness_onChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col xs={4} className=\"small\">\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<Alert variant=\"dark\" className=\"m-0 pb-0 pt-1\"><h6>Example</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t\t<Alert variant=\"info\" className=\"m-0 pb-0 pt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<pre className=\"small, text-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{JSON.stringify(_examples.livenessProbe, null, 2)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</Accordion>\n\t\t\t\t\n\t\t\t\t</Form>\n\t\t\t\t}\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t{wizardStep === 2 && modalOpt.item &&\n\t\t\t\t<>\n\t\t\t\t\t<Button variant=\"success\" onClick={save}>\n\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployConfiguration ? t(\"soajs:buttons.Update\") : t(\"soajs:buttons.Save\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t\n\t\t\t\t\t{ability.can('market_item', 'build') &&\n\t\t\t\t\t<Button variant=\"dark\" onClick={saveAndDeploy}>\n\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployConfiguration ? t(\"soajs:buttons.Update\") : t(\"soajs:buttons.Save\")} & {modalOpt.item && modalOpt.item.deployed ? t(\"soajs:buttons.reDeploy\") : t(\"soajs:buttons.Deploy\")}\n\t\t\t\t\t</Button>}\n\t\t\t\t</>\n\t\t\t\t}\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Dropdown, DropdownButton} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport DeleteModal from \"./modal/DeleteModal\";\nimport RedeployModal from \"./modal/RedeployModal\";\nimport ConfigureModal from \"./modal/ConfigureModal\";\n\nimport {useAppContext} from \"../../../../../soajs/libs/contextLib\";\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../../services\";\n\nconst infraService = InfraService.getService();\n\nexport default function ServiceOperation({\n\t                                         version,\n\t                                         env,\n\t                                         itemName,\n\t                                         itemType,\n\t                                         itemSettings,\n\t                                         itemSrc,\n\t                                         deployed,\n\t                                         reload,\n\t                                         name,\n\t                                         kind,\n\t                                         active,\n\t                                         deployConfiguration,\n\t                                         inspect\n                                         }) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\t\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, \"item\": null});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, \"item\": item});\n\t\n\tconst [modalRedeployOpt, setModalRedeployOpt] = useState({\"show\": false, \"item\": null, \"title\": \"\"});\n\tconst modalRedeployOptShow = (item) => setModalRedeployOpt({\"show\": true, \"item\": item, \"title\": item.name});\n\t\n\tconst [modalDeployOpt, setModalDeployOpt] = useState({\"show\": false, \"item\": null, \"title\": \"\"});\n\tconst modalDeployOptShow = (item) => setModalDeployOpt({\"show\": true, \"item\": item, \"title\": item.name});\n\t\n\tasync function deleteItem(what) {\n\t\tif (kind && name && what === \"deploy\") {\n\t\t\ttry {\n\t\t\t\tif (active) {\n\t\t\t\t\tawait infraService.deleteItem(env, {\"name\": name, \"mode\": kind});\n\t\t\t\t\tNotificationManager.success(t(\"soajs:messages.deleteItem\"));\n\t\t\t\t\treload();\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\tif (what === \"config\") {\n\t\t\tlet data = {\n\t\t\t\t\"type\": itemType,\n\t\t\t\t\"name\": itemName,\n\t\t\t\t\"env\": env\n\t\t\t}\n\t\t\t// delete config\n\t\t\tconsole.log(what, data);\n\t\t}\n\t}\n\t\n\tasync function restart() {\n\t\tif (kind && name) {\n\t\t\ttry {\n\t\t\t\tif (active) {\n\t\t\t\t\tawait infraService.restart(env, {\"name\": name, \"mode\": kind});\n\t\t\t\t\tNotificationManager.success(t(\"soajs:messages.restartItem\"));\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\thandleAction={deleteItem}\n\t\t\t/>\n\t\t\t<RedeployModal\n\t\t\t\tmodalOpt={modalRedeployOpt}\n\t\t\t\tsetModalOpt={setModalRedeployOpt}\n\t\t\t\thandleAction={reload}\n\t\t\t/>\n\t\t\t<ConfigureModal\n\t\t\t\tmodalOpt={modalDeployOpt}\n\t\t\t\tsetModalOpt={setModalDeployOpt}\n\t\t\t\thandleAction={reload}\n\t\t\t/>\n\t\t\t<DropdownButton\n\t\t\t\tsize=\"sm\"\n\t\t\t\tid=\"dropdown-item-button\"\n\t\t\t\ttitle=\"Service Operations\"\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tclassName=\"float-left small\">\n\t\t\t\t{deployed &&\n\t\t\t\t<>\n\t\t\t\t\t\n\t\t\t\t\t{ability.can('market_item', 'configure') &&\n\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tmodalDeployOptShow({\n\t\t\t\t\t\t\t\t\"deployed\": deployed,\n\t\t\t\t\t\t\t\t\"itemSettings\": itemSettings,\n\t\t\t\t\t\t\t\t\"name\": itemName,\n\t\t\t\t\t\t\t\t\"type\": itemType,\n\t\t\t\t\t\t\t\t\"itemSrc\": itemSrc,\n\t\t\t\t\t\t\t\t\"availableSrc\": {\"branches\": version.branches || null, \"tags\": version.tags || null},\n\t\t\t\t\t\t\t\t\"deployConfiguration\": deployConfiguration || null,\n\t\t\t\t\t\t\t\t\"version\": version.version,\n\t\t\t\t\t\t\t\t\"env\": env,\n\t\t\t\t\t\t\t\t\"inspect\": inspect || null,\n\t\t\t\t\t\t\t\t\"kind\": kind\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<small>Configure</small>\n\t\t\t\t\t</Dropdown.Item>}\n\t\t\t\t\t\n\t\t\t\t\t{ability.can('market_item', 'redeploy') &&\n\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tmodalRedeployOptShow({\n\t\t\t\t\t\t\t\t\"name\": itemName,\n\t\t\t\t\t\t\t\t\"type\": itemType,\n\t\t\t\t\t\t\t\t\"itemSrc\": itemSrc,\n\t\t\t\t\t\t\t\t\"availableSrc\": {\"branches\": version.branches || null, \"tags\": version.tags || null},\n\t\t\t\t\t\t\t\t\"deployConfiguration\": deployConfiguration || null,\n\t\t\t\t\t\t\t\t\"version\": version.version,\n\t\t\t\t\t\t\t\t\"env\": env,\n\t\t\t\t\t\t\t\t\"inspect\": inspect || null,\n\t\t\t\t\t\t\t\t\"kind\": kind\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<small>Redeploy</small>\n\t\t\t\t\t</Dropdown.Item>}\n\t\t\t\t\t\n\t\t\t\t\t{ability.can('infra_item', 'restart') &&\n\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\trestart().catch();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<small>Restart</small>\n\t\t\t\t\t</Dropdown.Item>}\n\t\t\t\t\t\n\t\t\t\t\t<Dropdown.Divider className=\"m-0\"/>\n\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\treload();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<small>Refresh</small>\n\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\n\t\t\t\t\t<Dropdown.Divider className=\"m-0\"/>\n\t\t\t\t\t\n\t\t\t\t\t{/*{deployConfiguration && ability.can('market_item_configure', 'delete') &&*/}\n\t\t\t\t\t{/*<Dropdown.Item*/}\n\t\t\t\t\t{/*\tonClick={() => {*/}\n\t\t\t\t\t{/*\t\tmodalDeleteOptShow({*/}\n\t\t\t\t\t{/*\t\t\t\"title\": itemName + \" v\" + version.version + \" configuration\", \"what\": \"config\"*/}\n\t\t\t\t\t{/*\t\t});*/}\n\t\t\t\t\t{/*\t}}*/}\n\t\t\t\t\t{/*>*/}\n\t\t\t\t\t{/*\t<small>Delete Configuration</small>*/}\n\t\t\t\t\t{/*</Dropdown.Item>*/}\n\t\t\t\t\t{/*}*/}\n\t\t\t\t\t\n\t\t\t\t\t{ability.can('infra_item', 'delete') &&\n\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tmodalDeleteOptShow({\"title\": itemName + \" v\" + version.version, \"what\": \"deploy\"});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<small>Delete Deployment</small>\n\t\t\t\t\t</Dropdown.Item>}\n\t\t\t\t</>\n\t\t\t\t}\n\t\t\t\t{!deployed &&\n\t\t\t\t<>\n\t\t\t\t\t{ability.can('market_item', 'configure') &&\n\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tmodalDeployOptShow({\n\t\t\t\t\t\t\t\t\"deployed\": deployed,\n\t\t\t\t\t\t\t\t\"itemSettings\": itemSettings,\n\t\t\t\t\t\t\t\t\"name\": itemName,\n\t\t\t\t\t\t\t\t\"type\": itemType,\n\t\t\t\t\t\t\t\t\"itemSrc\": itemSrc,\n\t\t\t\t\t\t\t\t\"availableSrc\": {\"branches\": version.branches || null, \"tags\": version.tags || null},\n\t\t\t\t\t\t\t\t\"deployConfiguration\": deployConfiguration || null,\n\t\t\t\t\t\t\t\t\"version\": version.version,\n\t\t\t\t\t\t\t\t\"env\": env,\n\t\t\t\t\t\t\t\t\"inspect\": inspect || null,\n\t\t\t\t\t\t\t\t\"kind\": kind\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<small>Configure</small>\n\t\t\t\t\t</Dropdown.Item>}\n\t\t\t\t\t\n\t\t\t\t\t<Dropdown.Divider className=\"m-0\"/>\n\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\treload();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<small>Refresh</small>\n\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\n\t\t\t\t\t<Dropdown.Divider className=\"m-0\"/>\n\t\t\t\t\t\n\t\t\t\t\t{deployConfiguration && ability.can('market_item_configure', 'delete') &&\n\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\"title\": itemName + \" v\" + version.version + \" configuration\", \"what\": \"config\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<small>Delete Configuration</small>\n\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t}\n\t\t\t\t</>\n\t\t\t\t}\n\t\t\t</DropdownButton>\n\t\t</>\n\t);\n}","import {Col, Row} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\n\nimport MaintenanceOperation from \"./MaintenanceOperation\";\nimport ServiceOperation from \"./ServiceOperation\";\n\nimport Services from \"./container/Services\";\nimport Deployments from \"./container/Deployments\";\nimport Cronjobs from \"./container/Cronjobs\";\nimport Daemonsets from \"./container/Daemonsets\";\nimport Hpas from \"./container/Hpas\";\nimport Pods from \"./container/Pods\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../../services\";\n\nconst infraService = InfraService.getService();\n\nasync function onLoad(env, itemName, setInspect, setDeployed, active, version, setKind, setName, isSubscribed) {\n\ttry {\n\t\tif (active) {\n\t\t\tlet response = await infraService.inspect(env, {\"name\": itemName, \"version\": version.version});\n\t\t\tif (isSubscribed && response) {\n\t\t\t\tsetInspect(response);\n\t\t\t\t\n\t\t\t\tif (response.cronjobs && response.cronjobs.items && response.cronjobs.items.length > 0) {\n\t\t\t\t\tsetKind(\"CronJob\");\n\t\t\t\t\tsetName(response.cronjobs.items[0].metadata.name);\n\t\t\t\t} else if (response.daemonsets && response.daemonsets.items && response.daemonsets.items.length > 0) {\n\t\t\t\t\tsetKind(\"DaemonSet\");\n\t\t\t\t\tsetName(response.daemonsets.items[0].metadata.name);\n\t\t\t\t} else if (response.deployments && response.deployments.items && response.deployments.items.length > 0) {\n\t\t\t\t\tsetKind(\"Deployment\");\n\t\t\t\t\tsetName(response.deployments.items[0].metadata.name);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlet count = 0;\n\t\t\t\tObject.keys(response).map((rec, i) => {\n\t\t\t\t\tcount = count + response[rec].items.length;\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\t\tif (count > 0) {\n\t\t\t\t\tsetDeployed(true)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function ContainerDetails(\n\t{\n\t\treloadItem,\n\t\tversion,\n\t\titemName,\n\t\titemType,\n\t\titemSettings,\n\t\titemSrc,\n\t\tenv,\n\t\tactive,\n\t\tdeactivate,\n\t\tdeployConfiguration\n\t}) {\n\tconst [inspect, setInspect] = useState(null);\n\tconst [inspected, setInspected] = useState({\n\t\t\"env\": \"\", \"itemName\": \"\", \"version\": \"\", \"active\": \"\"\n\t});\n\tconst [deployed, setDeployed] = useState(false);\n\tconst [kind, setKind] = useState(null);\n\tconst [name, setName] = useState(null);\n\t\n\tasync function reload() {\n\t\treloadItem();\n\t\t//await onLoad(env, itemName, setInspect, setDeployed, active, version, setKind, setName, true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed) {\n\t\t\tsetInspected(p => {\n\t\t\t\tif (p.itemName === itemName) {\n\t\t\t\t\tonLoad(env, itemName, setInspect, setDeployed, active, version, setKind, setName, isSubscribed).catch();\n\t\t\t\t} else {\n\t\t\t\t\tif (active) {\n\t\t\t\t\t\tdeactivate();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn {\"env\": env, \"itemName\": itemName, \"version\": version.version, \"active\": active};\n\t\t\t});\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [env, itemName, version, active, deactivate]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<hr/>\n\t\t\t<Row>\n\t\t\t\t<Col>\n\t\t\t\t\t<ServiceOperation\n\t\t\t\t\t\tversion={version}\n\t\t\t\t\t\tenv={env}\n\t\t\t\t\t\titemName={itemName}\n\t\t\t\t\t\titemType={itemType}\n\t\t\t\t\t\titemSettings={itemSettings}\n\t\t\t\t\t\titemSrc={itemSrc}\n\t\t\t\t\t\tdeployed={deployed}\n\t\t\t\t\t\tname={name}\n\t\t\t\t\t\tkind={kind}\n\t\t\t\t\t\treload={reload}\n\t\t\t\t\t\tactive={active}\n\t\t\t\t\t\tdeployConfiguration={deployConfiguration}\n\t\t\t\t\t\tinspect={inspect}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t{inspect && deployed &&\n\t\t\t\t\t<MaintenanceOperation\n\t\t\t\t\t\tversion={version}\n\t\t\t\t\t\tenv={env}\n\t\t\t\t\t\titemName={itemName}\n\t\t\t\t\t\titemType={itemType}\n\t\t\t\t\t/>}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<hr/>\n\t\t\t{inspect && inspect.services && inspect.services.items && inspect.services.items.length > 0 &&\n\t\t\t<Services\n\t\t\t\titems={inspect.services.items}\n\t\t\t/>\n\t\t\t}\n\t\t\t{inspect && inspect.cronjobs && inspect.cronjobs.items && inspect.cronjobs.items.length > 0 &&\n\t\t\t<Cronjobs\n\t\t\t\titems={inspect.cronjobs.items}\n\t\t\t/>\n\t\t\t}\n\t\t\t{inspect && inspect.daemonsets && inspect.daemonsets.items && inspect.daemonsets.items.length > 0 &&\n\t\t\t<Daemonsets\n\t\t\t\titems={inspect.daemonsets.items}\n\t\t\t/>\n\t\t\t}\n\t\t\t{inspect && inspect.deployments && inspect.deployments.items && inspect.deployments.items.length > 0 &&\n\t\t\t<Deployments\n\t\t\t\titems={inspect.deployments.items}\n\t\t\t/>\n\t\t\t}\n\t\t\t{inspect && inspect.hpas && inspect.hpas.items && inspect.hpas.items.length > 0 &&\n\t\t\t<Hpas\n\t\t\t\titems={inspect.hpas.items}\n\t\t\t/>\n\t\t\t}\n\t\t\t{inspect && inspect.pods && inspect.pods.items && inspect.pods.items.length > 0 &&\n\t\t\t<Pods\n\t\t\t\titems={inspect.pods.items}\n\t\t\t\tenv={env}\n\t\t\t/>\n\t\t\t}\n\t\t</>\n\t);\n}","import React, {useEffect, useState} from \"react\";\n\nimport Template from \"../../Template/Template\";\nimport {InfraService} from \"../../../../../../services\";\nimport {NotificationManager} from \"../../../../../../soajs/urac/components\";\n\nimport ManualHeader from \"../../common/ManualHeader\"\nimport ManualDetails from \"../../common/ManualDetails\"\nimport ContainerDetails from \"../../common/ContainerDetails\"\n\nconst infraService = InfraService.getService();\n\nfunction getDeployConfiguration(deployment, v, env) {\n\tif (deployment && deployment[env]) {\n\t\tfor (let i = 0; i < deployment[env].length; i++) {\n\t\t\tif (deployment[env][i].version === v) {\n\t\t\t\treturn deployment[env][i];\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n}\n\nexport default function SoajsApi({environment}) {\n\t\n\tconst [manualAwareness, setManualAwareness] = useState({});\n\t\n\tfunction Header({item}) {\n\t\t\n\t\treturn (\n\t\t\tenvironment.deployer && environment.deployer.type === \"manual\" &&\n\t\t\t<ManualHeader\n\t\t\t\tmanualAwareness={manualAwareness}\n\t\t\t\titem={item}\n\t\t\t/>\n\t\t);\n\t}\n\t\n\tfunction Details({version, item, active, deactivate, reloadItem}) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{environment.deployer && environment.deployer.type === \"manual\" &&\n\t\t\t\t<ManualDetails\n\t\t\t\t\tmanualAwareness={manualAwareness[item.name]}\n\t\t\t\t\tversion={version}\n\t\t\t\t\titemName={item.name}\n\t\t\t\t\titemType={item.type}\n\t\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\t/>}\n\t\t\t\t{environment.deployer && environment.deployer.type === \"container\" &&\n\t\t\t\t<ContainerDetails\n\t\t\t\t\treloadItem={reloadItem}\n\t\t\t\t\tversion={version}\n\t\t\t\t\titemName={item.name}\n\t\t\t\t\titemType={item.type}\n\t\t\t\t\titemSettings={item.settings || null}\n\t\t\t\t\titemSrc={item.src || null}\n\t\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tdeactivate={deactivate}\n\t\t\t\t\tdeployConfiguration={getDeployConfiguration(item.deploy, version.version, environment.code.toLowerCase())}\n\t\t\t\t/>}\n\t\t\t</>\n\t\t);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (environment && environment.deployer && environment.deployer.type === \"manual\") {\n\t\t\t\t\tlet response = await infraService.getManualAwareness(environment.code.toLowerCase());\n\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\tsetManualAwareness(response);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\tenvironment &&\n\t\t<Template\n\t\t\ttype={\"service\"}\n\t\t\tsubType={\"soajs\"}\n\t\t\tChildren={Details}\n\t\t\tHeader={Header}\n\t\t/>\n\t);\n}","import {Alert} from \"react-bootstrap\";\nimport React from \"react\";\nimport Template from \"../../Template/Template\";\nimport ContainerDetails from \"../../common/ContainerDetails\";\n\nfunction getDeployConfiguration(deployment, v, env) {\n\tif (deployment && deployment[env]) {\n\t\tfor (let i = 0; i < deployment[env].length; i++) {\n\t\t\tif (deployment[env][i].version === v) {\n\t\t\t\treturn deployment[env][i];\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n}\n\nexport default function SoajsFrontend({environment}) {\n\tfunction Details({version, item, active, deactivate, reloadItem}) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{environment.deployer && environment.deployer.type === \"container\" &&\n\t\t\t\t<ContainerDetails\n\t\t\t\t\treloadItem={reloadItem}\n\t\t\t\t\tversion={version}\n\t\t\t\t\titemName={item.name}\n\t\t\t\t\titemType={item.type}\n\t\t\t\t\titemSettings={item.settings || null}\n\t\t\t\t\titemSrc={item.src || null}\n\t\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tdeactivate={deactivate}\n\t\t\t\t\tdeployConfiguration={getDeployConfiguration(item.deploy, version.version, environment.code.toLowerCase())}\n\t\t\t\t/>}\n\t\t\t</>\n\t\t);\n\t}\n\t\n\treturn (\n\t\tenvironment &&\n\t\t<>\n\t\t\t{environment.deployer && environment.deployer.type === \"container\" ? (\n\t\t\t\t<Template\n\t\t\t\t\ttype={\"static\"}\n\t\t\t\t\tsubType={\"soajs\"}\n\t\t\t\t\tChildren={Details}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Alert variant=\"info\" className=\"mt-4 mb-4\">\n\t\t\t\t\tThis environment is of type <span className=\"text-success\">manual</span>, <span\n\t\t\t\t\tclassName=\"font-weight-bold\">SOAJS Frontend Catalog</span> is only available\n\t\t\t\t\tfor environments of type <span className=\"text-info\">container</span>\n\t\t\t\t</Alert>\n\t\t\t)}\n\t\t</>\n\t);\n}","import React, {useEffect, useState} from \"react\";\n\nimport Template from \"../Template/Template\";\nimport {InfraService} from \"../../../../../services\";\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\n\nimport ManualHeader from \"../common/ManualHeader\"\nimport ManualDetails from \"../common/ManualDetails\"\nimport ContainerDetails from \"../common/ContainerDetails\"\n\nconst infraService = InfraService.getService();\n\nfunction getDeployConfiguration(deployment, v, env) {\n\tif (deployment && deployment[env]) {\n\t\tfor (let i = 0; i < deployment[env].length; i++) {\n\t\t\tif (deployment[env][i].version === v) {\n\t\t\t\treturn deployment[env][i];\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n}\n\nexport default function Api({environment}) {\n\t\n\tconst [manualAwareness, setManualAwareness] = useState({});\n\t\n\tfunction Header({item}) {\n\t\t\n\t\treturn (\n\t\t\tenvironment.deployer && environment.deployer.type === \"manual\" &&\n\t\t\t<ManualHeader\n\t\t\t\tmanualAwareness={manualAwareness}\n\t\t\t\titem={item}\n\t\t\t/>\n\t\t);\n\t}\n\t\n\tfunction Details({version, item, active, deactivate, reloadItem}) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{environment.deployer && environment.deployer.type === \"manual\" &&\n\t\t\t\t<ManualDetails\n\t\t\t\t\tmanualAwareness={manualAwareness[item.name]}\n\t\t\t\t\tversion={version}\n\t\t\t\t\titemName={item.name}\n\t\t\t\t\titemType={item.type}\n\t\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\t/>}\n\t\t\t\t{environment.deployer && environment.deployer.type === \"container\" &&\n\t\t\t\t<ContainerDetails\n\t\t\t\t\treloadItem={reloadItem}\n\t\t\t\t\tversion={version}\n\t\t\t\t\titemName={item.name}\n\t\t\t\t\titemType={item.type}\n\t\t\t\t\titemSettings={item.settings || null}\n\t\t\t\t\titemSrc={item.src || null}\n\t\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tdeactivate={deactivate}\n\t\t\t\t\tdeployConfiguration={getDeployConfiguration(item.deploy, version.version, environment.code.toLowerCase())}\n\t\t\t\t/>}\n\t\t\t</>\n\t\t);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (environment && environment.deployer && environment.deployer.type === \"manual\") {\n\t\t\t\t\tlet response = await infraService.getManualAwareness(environment.code.toLowerCase());\n\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\tsetManualAwareness(response);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\tenvironment &&\n\t\t<Template\n\t\t\ttype={\"service\"}\n\t\t\tChildren={Details}\n\t\t\tHeader={Header}\n\t\t/>\n\t);\n}","import React from \"react\";\nimport Template from \"../Template/Template\";\nimport {Alert} from \"react-bootstrap\";\nimport ContainerDetails from \"../common/ContainerDetails\";\n\nfunction getDeployConfiguration(deployment, v, env) {\n\tif (deployment && deployment[env]) {\n\t\tfor (let i = 0; i < deployment[env].length; i++) {\n\t\t\tif (deployment[env][i].version === v) {\n\t\t\t\treturn deployment[env][i];\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n}\n\nexport default function Daemon({environment}) {\n\tfunction Details({version, item, active, deactivate, reloadItem}) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{environment.deployer && environment.deployer.type === \"container\" &&\n\t\t\t\t<ContainerDetails\n\t\t\t\t\treloadItem={reloadItem}\n\t\t\t\t\tversion={version}\n\t\t\t\t\titemName={item.name}\n\t\t\t\t\titemType={item.type}\n\t\t\t\t\titemSettings={item.settings || null}\n\t\t\t\t\titemSrc={item.src || null}\n\t\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tdeactivate={deactivate}\n\t\t\t\t\tdeployConfiguration={getDeployConfiguration(item.deploy, version.version, environment.code.toLowerCase())}\n\t\t\t\t/>}\n\t\t\t</>\n\t\t);\n\t}\n\t\n\treturn (\n\t\tenvironment &&\n\t\t<>\n\t\t\t{environment.deployer && environment.deployer.type === \"container\" ? (\n\t\t\t\t<Template\n\t\t\t\t\ttype={\"daemon\"}\n\t\t\t\t\tChildren={Details}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Alert variant=\"info\" className=\"mt-4 mb-4\">\n\t\t\t\t\tThis environment is of type <span className=\"text-success\">manual</span>, <span\n\t\t\t\t\tclassName=\"font-weight-bold\">Daemon Catalog</span> is only available\n\t\t\t\t\tfor environments of type <span className=\"text-info\">container</span>\n\t\t\t\t</Alert>\n\t\t\t)}\n\t\t</>\n\t);\n}","import {Alert} from \"react-bootstrap\";\nimport React from \"react\";\nimport Template from \"../Template/Template\";\nimport ContainerDetails from \"../common/ContainerDetails\";\n\nfunction getDeployConfiguration(deployment, v, env) {\n\tif (deployment && deployment[env]) {\n\t\tfor (let i = 0; i < deployment[env].length; i++) {\n\t\t\tif (deployment[env][i].version === v) {\n\t\t\t\treturn deployment[env][i];\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n}\n\nexport default function Frontend({environment}) {\n\tfunction Details({version, item, active, deactivate, reloadItem}) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{environment.deployer && environment.deployer.type === \"container\" &&\n\t\t\t\t<ContainerDetails\n\t\t\t\t\treloadItem={reloadItem}\n\t\t\t\t\tversion={version}\n\t\t\t\t\titemName={item.name}\n\t\t\t\t\titemType={item.type}\n\t\t\t\t\titemSettings={item.settings || null}\n\t\t\t\t\titemSrc={item.src || null}\n\t\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tdeactivate={deactivate}\n\t\t\t\t\tdeployConfiguration={getDeployConfiguration(item.deploy, version.version, environment.code.toLowerCase())}\n\t\t\t\t/>}\n\t\t\t</>\n\t\t);\n\t}\n\t\n\treturn (\n\t\tenvironment &&\n\t\t<>\n\t\t\t{environment.deployer && environment.deployer.type === \"container\" ? (\n\t\t\t\t<Template\n\t\t\t\t\ttype={\"static\"}\n\t\t\t\t\tChildren={Details}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Alert variant=\"info\" className=\"mt-4 mb-4\">\n\t\t\t\t\tThis environment is of type <span className=\"text-success\">manual</span>, <span\n\t\t\t\t\tclassName=\"font-weight-bold\">Frontend Catalog</span> is only available\n\t\t\t\t\tfor environments of type <span className=\"text-info\">container</span>\n\t\t\t\t</Alert>\n\t\t\t)}\n\t\t</>\n\t);\n}","import {Alert} from \"react-bootstrap\";\nimport React from \"react\";\nimport Template from \"../Template/Template\";\nimport ContainerDetails from \"../common/ContainerDetails\";\n\nfunction getDeployConfiguration(deployment, v, env) {\n\tif (deployment && deployment[env]) {\n\t\tfor (let i = 0; i < deployment[env].length; i++) {\n\t\t\tif (deployment[env][i].version === v) {\n\t\t\t\treturn deployment[env][i];\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n}\n\nexport default function Custom({environment}) {\n\t\n\tfunction Details({version, item, active, deactivate, reloadItem}) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{environment.deployer && environment.deployer.type === \"container\" &&\n\t\t\t\t<ContainerDetails\n\t\t\t\t\treloadItem={reloadItem}\n\t\t\t\t\tversion={version}\n\t\t\t\t\titemName={item.name}\n\t\t\t\t\titemType={item.type}\n\t\t\t\t\titemSettings={item.settings || null}\n\t\t\t\t\titemSrc={item.src || null}\n\t\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tdeactivate={deactivate}\n\t\t\t\t\tdeployConfiguration={getDeployConfiguration(item.deploy, version.version, environment.code.toLowerCase())}\n\t\t\t\t/>}\n\t\t\t</>\n\t\t);\n\t}\n\t\n\treturn (\n\t\tenvironment &&\n\t\t<>\n\t\t\t{environment.deployer && environment.deployer.type === \"container\" ? (\n\t\t\t\t<Template\n\t\t\t\t\ttype={\"custom\"}\n\t\t\t\t\tChildren={Details}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Alert variant=\"info\" className=\"mt-4 mb-4\">\n\t\t\t\t\tThis environment is of type <span className=\"text-success\">manual</span>, <span\n\t\t\t\t\tclassName=\"font-weight-bold\">Custom Catalog</span> is only available for environments of type <span\n\t\t\t\t\tclassName=\"text-info\">container</span>\n\t\t\t\t</Alert>\n\t\t\t)}\n\t\t</>\n\t);\n}","import {Alert} from \"react-bootstrap\";\nimport React from \"react\";\nimport Template from \"../Template/Template\";\nimport ContainerDetails from \"../common/ContainerDetails\";\n\nfunction getDeployConfiguration(deployment, v, env) {\n\tif (deployment && deployment[env]) {\n\t\tfor (let i = 0; i < deployment[env].length; i++) {\n\t\t\tif (deployment[env][i].version === v) {\n\t\t\t\treturn deployment[env][i];\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n}\n\nexport default function Resource({environment}) {\n\tfunction Details({version, item, active, deactivate, reloadItem}) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{environment.deployer && environment.deployer.type === \"container\" &&\n\t\t\t\t<ContainerDetails\n\t\t\t\t\treloadItem={reloadItem}\n\t\t\t\t\tversion={version}\n\t\t\t\t\titemName={item.name}\n\t\t\t\t\titemType={item.type}\n\t\t\t\t\titemSettings={item.settings || null}\n\t\t\t\t\titemSrc={item.src || null}\n\t\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tdeactivate={deactivate}\n\t\t\t\t\tdeployConfiguration={getDeployConfiguration(item.deploy, version.version, environment.code.toLowerCase())}\n\t\t\t\t/>}\n\t\t\t</>\n\t\t);\n\t}\n\t\n\treturn (\n\t\tenvironment &&\n\t\t<>\n\t\t\t{environment.deployer && environment.deployer.type === \"container\" ? (\n\t\t\t\t<Template\n\t\t\t\t\ttype={\"resource\"}\n\t\t\t\t\tChildren={Details}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Alert variant=\"info\" className=\"mt-4 mb-4\">\n\t\t\t\t\tThis environment is of type <span className=\"text-success\">manual</span>, <span\n\t\t\t\t\tclassName=\"font-weight-bold\">Resource Catalog</span> is only available\n\t\t\t\t\tfor environments of type <span className=\"text-info\">container</span>\n\t\t\t\t</Alert>\n\t\t\t)}\n\t\t</>\n\t);\n}","import {Route, Switch, useHistory} from \"react-router-dom\";\nimport {Alert, Badge, Table, Button} from \"react-bootstrap\";\nimport React from \"react\";\nimport {AuthenticatedRoute} from \"../../soajs/helpers\";\n\nimport {SiManageiq} from \"react-icons/si\";\n\nimport Settings from \"./containers/Settings/Settings\";\nimport Cluster from \"./containers/Cluster/Cluster\";\nimport Registry from \"./containers/Registry/Registry\";\nimport Add from \"./containers/Add/Add\";\n\nimport SoajsApi from \"./containers/catalog/soajs/Api/Api\";\nimport SoajsFrontend from \"./containers/catalog/soajs/Frontend/Frontend\";\n\nimport CatalogApi from \"./containers/catalog/Api/Api\";\nimport CatalogDaemon from \"./containers/catalog/Daemon/Daemon\";\nimport CatalogFrontend from \"./containers/catalog/Frontend/Frontend\";\nimport CatalogCustom from \"./containers/catalog/Custom/Custom\";\nimport CatalogResource from \"./containers/catalog/Resource/Resource\";\nimport {useTranslation} from \"react-i18next\";\n\nconst rootPath = \"/environments\";\n\nexport default function Routes({environment, environments, clusters, reloadClusters}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\tconst history = useHistory();\n\t\n\treturn (\n\t\t<Switch>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/add\"}>\n\t\t\t\t<Add/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/settings\"}>\n\t\t\t\t<Settings\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/registry\"}>\n\t\t\t\t<Registry\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t\tenvironments={environments}\n\t\t\t\t\tclusters={clusters}\n\t\t\t\t\treloadClusters={reloadClusters}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/cluster\"}>\n\t\t\t\t<Cluster\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/catalog/soajs/api\"}>\n\t\t\t\t<SoajsApi\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/catalog/soajs/frontend\"}>\n\t\t\t\t<SoajsFrontend\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/catalog/api\"}>\n\t\t\t\t<CatalogApi\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/catalog/daemon\"}>\n\t\t\t\t<CatalogDaemon\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/catalog/frontend\"}>\n\t\t\t\t<CatalogFrontend\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/catalog/custom\"}>\n\t\t\t\t<CatalogCustom\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/catalog/resource\"}>\n\t\t\t\t<CatalogResource\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t<Route>\n\t\t\t\t{environments.length > 0 &&\n\t\t\t\t\n\t\t\t\t<div>\n\t\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Code\")}</th>\n\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Description\")}</th>\n\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Type\")}</th>\n\t\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{environments.map((rec, i) => (\n\t\t\t\t\t\t\t<tr key={i} className=\"small\">\n\t\t\t\t\t\t\t\t<td>{rec.code}</td>\n\t\t\t\t\t\t\t\t<td>{rec.description}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-center\"><Badge\n\t\t\t\t\t\t\t\t\tvariant={rec.deployer.type === \"container\" ? \"info\" : \"primary\"}>{rec.deployer.type}</Badge>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"small\">\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tsize={\"sm\"}\n\t\t\t\t\t\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"small p-1 border-secondary\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\thistory.push(rootPath + \"/manage/\" + rec.code + \"/settings\");\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<SiManageiq\n\t\t\t\t\t\t\t\t\t\tclassName=\"mr-2 text-success\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\tManage\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</Table>\n\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t{environments.length === 0 &&\n\t\t\t\t\n\t\t\t\t<Alert variant=\"info\">\n\t\t\t\t\tYou do not have any environment, try to add one!\n\t\t\t\t</Alert>\n\t\t\t\t}\n\t\t\t</Route>\n\t\t</Switch>\n\t)\n}","import {Dropdown, DropdownButton, Nav, Navbar, NavDropdown} from \"react-bootstrap\";\nimport React, {useState, useEffect} from \"react\";\nimport {useHistory, useLocation, useParams} from \"react-router-dom\";\nimport {LinkContainer} from \"react-router-bootstrap\";\nimport {GoDiffAdded} from \"react-icons/go\";\nimport {useTranslation} from \"react-i18next\";\nimport {useAppContext} from \"../../soajs/libs/contextLib\";\n\nconst rootPath = \"/environments\";\n\n\nfunction Navigation({environments, setEnvironment, environment}) {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [selectedEnv, setSelectedEnv] = useState(null);\n\tconst [uri, setUri] = useState(\"settings\");\n\tconst [selectedMsg, setSelected] = useState(\"-- Select an environment --\");\n\tconst history = useHistory();\n\tconst {env} = useParams();\n\tlet location = useLocation();\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\tif (env && environments.length > 0) {\n\t\t\t\tif (!environment || environment.code !== env) {\n\t\t\t\t\tfor (let i = 0; i < environments.length; i++) {\n\t\t\t\t\t\tif (environments[i].code === env) {\n\t\t\t\t\t\t\tsetEnvironment({...environments[i]});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetSelected(env);\n\t\t\t\t\tsetSelectedEnv(env);\n\t\t\t\t\tlet uri = location.pathname.substr(location.pathname.indexOf(env + \"/\") + env.length + 1);\n\t\t\t\t\tsetUri(uri);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetSelected(\"-- Select an environment --\");\n\t\t\t\tsetSelectedEnv(null);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [env, environment, environments, setEnvironment, location]);\n\t\n\treturn (\n\t\t<Navbar collapseOnSelect expand=\"sm\" className=\"pt-0 pb-0\" bg=\"secondary\" variant=\"light\">\n\t\t\t<Navbar.Brand>\n\t\t\t\t<DropdownButton size=\"sm\" id=\"dropdown-item-button\" title={selectedMsg} variant=\"light\"\n\t\t\t\t                className=\"small\">\n\t\t\t\t\t{environments.map((item, index) => (\n\t\t\t\t\t\t<Dropdown.Item as=\"button\" key={index} active={selectedEnv === item.code} onClick={() => {\n\t\t\t\t\t\t\thistory.push(rootPath + \"/manage/\" + item.code + \"/\" + uri);\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t{item.code}\n\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t))}\n\t\t\t\t\t<Dropdown.Divider/>\n\t\t\t\t\t{ability.can('env', 'add') &&\n\t\t\t\t\t<Dropdown.Item className=\"small\"\n\t\t\t\t\t               onClick={() => {\n\t\t\t\t\t\t               history.push(rootPath + \"/add\");\n\t\t\t\t\t               }}\n\t\t\t\t\t><GoDiffAdded/> Add an environment</Dropdown.Item>}\n\t\t\t\t</DropdownButton>\n\t\t\t</Navbar.Brand>\n\t\t\t{env ? (\n\t\t\t\t<>\n\t\t\t\t\t<Navbar.Toggle aria-controls=\"environment-navbar-nav\"/>\n\t\t\t\t\t<Navbar.Collapse id=\"environment-navbar-nav\" className=\"justify-content-end\">\n\t\t\t\t\t\t<Nav activeKey={window.location.pathname}>\n\t\t\t\t\t\t\t<LinkContainer to={rootPath + \"/manage/\" + env + \"/settings\"}>\n\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.settings\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t<LinkContainer\n\t\t\t\t\t\t\t\tto={rootPath + \"/manage/\" + env + \"/registry\"}>\n\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.registry\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<NavDropdown className=\"small\" alignRight title={t(\"soajs:menu.cluster\")}\n\t\t\t\t\t\t\t             id=\"collasible-nav1-dropdown\">\n\t\t\t\t\t\t\t\t<LinkContainer\n\t\t\t\t\t\t\t\t\tto={rootPath + \"/manage/\" + env + \"/cluster/workloads\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.workloads\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer\n\t\t\t\t\t\t\t\t\tto={rootPath + \"/manage/\" + env + \"/cluster/services\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.services\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer\n\t\t\t\t\t\t\t\t\tto={rootPath + \"/manage/\" + env + \"/cluster/configuration\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.configuration\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer\n\t\t\t\t\t\t\t\t\tto={rootPath + \"/manage/\" + env + \"/cluster/nodes\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.nodes\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer\n\t\t\t\t\t\t\t\t\tto={rootPath + \"/manage/\" + env + \"/cluster/storage\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.storage\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer\n\t\t\t\t\t\t\t\t\tto={rootPath + \"/manage/\" + env + \"/cluster/rbac\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.RBAC\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t</NavDropdown>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<NavDropdown className=\"small\" alignRight title={t(\"soajs:menu.catalogs\")}\n\t\t\t\t\t\t\t             id=\"collasible-nav2-dropdown\">\n\t\t\t\t\t\t\t\t<LinkContainer to={rootPath + \"/manage/\" + env + \"/catalog/api\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.API\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer to={rootPath + \"/manage/\" + env + \"/catalog/daemon\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Daemon\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer to={rootPath + \"/manage/\" + env + \"/catalog/frontend\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Frontend\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer to={rootPath + \"/manage/\" + env + \"/catalog/custom\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Custom\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer to={rootPath + \"/manage/\" + env + \"/catalog/resource\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Resource\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t</NavDropdown>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<NavDropdown className=\"small\" alignRight title={t(\"soajs:menu.SOAJS\")}\n\t\t\t\t\t\t\t             id=\"collasible-nav1-dropdown\">\n\t\t\t\t\t\t\t\t<LinkContainer to={rootPath + \"/manage/\" + env + \"/catalog/soajs/api\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.API\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer to={rootPath + \"/manage/\" + env + \"/catalog/soajs/frontend\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Frontend\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t</NavDropdown>\n\t\t\t\t\t\t</Nav>\n\t\t\t\t\t</Navbar.Collapse>\n\t\t\t\t</>\n\t\t\t) : null}\n\t\t</Navbar>\n\t);\n}\n\nexport default Navigation","import React, {useEffect, useState} from \"react\";\nimport {Container} from \"react-bootstrap\";\nimport {useParams} from \"react-router-dom\";\n\nimport Routes from \"./Routes\";\nimport Navigation from \"./Navigation\";\nimport {NotificationManager} from \"../../soajs/urac/components\";\nimport {ConsoleService} from \"../../services\";\n\nconst consoleService = ConsoleService.getService();\n\nasync function reloadClusters(env, setClusters, isSubscribed) {\n\ttry {\n\t\tif (env) {\n\t\t\tconst _clusters = await consoleService.getResourceRegistry(env, \"cluster\");\n\t\t\tif (isSubscribed && _clusters) {\n\t\t\t\tsetClusters(_clusters);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Environments() {\n\tconst [environments, setEnvironments] = useState([]);\n\tconst [environment, setEnvironment] = useState(null);\n\tconst [clusters, setClusters] = useState([]);\n\tconst {env} = useParams();\n\t\n\tasync function reload() {\n\t\tawait reloadClusters(env, setClusters, true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tawait reloadClusters(env, setClusters, isSubscribed);\n\t\t\t\tconst _environments = await consoleService.getEnvironments();\n\t\t\t\tif (_environments && isSubscribed) {\n\t\t\t\t\tsetEnvironments(_environments);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [env]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Navigation\n\t\t\t\tenvironment={environment}\n\t\t\t\tenvironments={environments}\n\t\t\t\tsetEnvironment={setEnvironment}\n\t\t\t/>\n\t\t\t<div className=\"bg-dark pt-1\"></div>\n\t\t\t<div className=\"main-area\">\n\t\t\t\t<Container className=\"mt-3 mb-3\">\n\t\t\t\t\t<Routes\n\t\t\t\t\t\tenvironment={environment}\n\t\t\t\t\t\tenvironments={environments}\n\t\t\t\t\t\tclusters={clusters}\n\t\t\t\t\t\treloadClusters={reload}\n\t\t\t\t\t/>\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t</>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport {MdDeleteSweep} from \"react-icons/md\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function Uninvite({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.Uninvite\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button variant=\"danger\" size=\"sm\" {...props}>\n\t\t\t\t<MdDeleteSweep/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import {Button, Form, Table, Alert, Col, Row} from \"react-bootstrap\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {GoDiffAdded} from \"react-icons/go\";\nimport {GiBroadDagger} from \"react-icons/gi\";\nimport {ImDrawer} from \"react-icons/im\";\n\nimport React, {useState, useEffect} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport Edit from \"../../../../buttons/Edit\";\nimport Delete from \"../../../../buttons/Delete\";\nimport Uninvite from \"../../../../buttons/Uninvite\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {UracService} from \"../../../../../soajs/urac/services\";\nimport AutoPagination from \"../../../../../lib/AutoPagination\";\n\nconst uracService = UracService.getService();\n\nfunction getTenantGroups({user, tenantId}) {\n\tlet groups = null;\n\tif (user.config && user.config.allowedTenants && user.config.allowedTenants.length > 0) {\n\t\tfor (let i = 0; i < user.config.allowedTenants.length; i++) {\n\t\t\tif (user.config.allowedTenants[i].tenant && user.config.allowedTenants[i].tenant.id === tenantId) {\n\t\t\t\tif (user.config.allowedTenants[i].groups) {\n\t\t\t\t\tgroups = user.config.allowedTenants[i].groups\n\t\t\t\t} else {\n\t\t\t\t\tgroups = null;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn groups;\n}\n\nfunction PrintGroups({user, tenantId}) {\n\tlet groups = getTenantGroups({user, tenantId});\n\treturn (\n\t\t<>\n\t\t\t{groups ? groups.join(\", \") : \"\"}\n\t\t</>\n\t)\n}\n\nasync function onLoad(setFields, extKey, scope, env, criteria, page, setPagination, isSubscribed) {\n\ttry {\n\t\tlet c = {\"limit\": 50, \"start\": (page - 1) * 50};\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords) {\n\t\t\t\tc.keywords = criteria.keywords;\n\t\t\t}\n\t\t}\n\t\tconst users = await uracService.getUsersProxy(extKey, scope, c, env);\n\t\tconst count = await uracService.getUsersCountProxy(extKey, scope, c, env);\n\t\tif (isSubscribed) {\n\t\t\tsetPagination(\n\t\t\t\t{\n\t\t\t\t\t\"totalItems\": count,\n\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\"itemsPerPage\": c.limit\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t\tif (users && Array.isArray(users)) {\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields(users);\n\t\t\t}\n\t\t} else {\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields([]);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function TenantUsers({extKey, tenantId, scope, env}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\t\n\tconst [criteria, setCriteria] = useState({\n\t\t\"keywords\": \"\"\n\t});\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\t\n\tasync function fetch(page) {\n\t\tif (extKey && env) {\n\t\t\tawait onLoad(setFields, extKey, scope, env, criteria, page || currentPage, setPagination, true);\n\t\t}\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait fetch(1);\n\t}\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tif (event.target.type === 'number') {\n\t\t\tvalue = parseInt(value);\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (extKey && env) {\n\t\t\tonLoad(setFields, extKey, scope, env, null, 1, setPagination, isSubscribed).catch();\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [extKey, scope, env]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Alert variant=\"light\">\n\t\t\t\t<div className=\"float-left\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"keywords\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={criteria.keywords}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"float-left\"\n\t\t\t\t\t\t\t\tvariant=\"dark\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tonClick={handleSearch}>\n\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</div>\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tonClick={fetch}>\n\t\t\t\t\t<ImDrawer/> {t(\"soajs:buttons.Fetch\")}\n\t\t\t\t</Button>\n\t\t\t\t{scope === \"myTenancy\" &&\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tdisabled>\n\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t\t{scope !== \"myTenancy\" &&\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tdisabled>\n\t\t\t\t\t<GiBroadDagger/> {t(\"soajs:buttons.Invite\")}\n\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t</Alert>\n\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t<tr>\n\t\t\t\t\t<th>{t(\"soajs:buttons.Actions\")}</th>\n\t\t\t\t\t<th>{t(\"soajs:fields.FirstName\")}</th>\n\t\t\t\t\t<th>{t(\"soajs:fields.LastName\")}</th>\n\t\t\t\t\t<th>{t(\"soajs:fields.Email\")}</th>\n\t\t\t\t\t<th>{t(\"soajs:fields.Email\")}</th>\n\t\t\t\t\t<th>{t(\"soajs:fields.Username\")}</th>\n\t\t\t\t\t<th>{t(\"soajs:fields.Status\")}</th>\n\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t{fields && fields.map((user, index) => (\n\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<Edit\n\t\t\t\t\t\t\t\tclassName=\"mr-1 p-1\"\n\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{scope === \"myTenancy\" &&\n\t\t\t\t\t\t\t<Delete\n\t\t\t\t\t\t\t\tclassName=\"mr-1 p-1\"\n\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{scope !== \"myTenancy\" &&\n\t\t\t\t\t\t\t<Uninvite\n\t\t\t\t\t\t\t\tclassName=\"mr-1 p-1\"\n\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>{user.firstName}</td>\n\t\t\t\t\t\t<td>{user.lastName}</td>\n\t\t\t\t\t\t<td>{user.email}</td>\n\t\t\t\t\t\t<td>{user.username}</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<PrintGroups\n\t\t\t\t\t\t\t\tuser={user}\n\t\t\t\t\t\t\t\ttenantId={tenantId}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>{user.status}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t))}\n\t\t\t\t</tbody>\n\t\t\t</Table>\n\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t<AutoPagination\n\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\tfetch(p, null).catch();\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"clearfix\"></div>\n\t\t</>\n\t);\n}","import {Alert, Button, Table} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {GoDiffAdded} from \"react-icons/go\";\nimport {ImDrawer} from \"react-icons/im\";\n\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {UracService} from \"../../../../../soajs/urac/services\";\nimport Edit from \"../../../../buttons/Edit\";\nimport Delete from \"../../../../buttons/Delete\";\n\nconst uracService = UracService.getService();\n\nasync function onLoad(setFields, extKey, env, isSubscribed) {\n\ttry {\n\t\tconst users = await uracService.getGroupsProxy(extKey, env);\n\t\tif (users && Array.isArray(users)) {\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields(users);\n\t\t\t}\n\t\t} else {\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields([]);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function TenantGroups({extKey, env}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\t\n\tasync function fetch() {\n\t\tif (extKey && env) {\n\t\t\tawait onLoad(setFields, extKey, env, true);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (extKey && env) {\n\t\t\tonLoad(setFields, extKey, env, isSubscribed).catch();\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [extKey, env]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Alert variant=\"light\">\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tonClick={fetch}>\n\t\t\t\t\t<ImDrawer/> {t(\"soajs:buttons.Fetch\")}\n\t\t\t\t</Button>\n\t\t\t\t\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tdisabled>\n\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t\t\n\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t</Alert>\n\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t<tr>\n\t\t\t\t\t<th>{t(\"soajs:buttons.Actions\")}</th>\n\t\t\t\t\t<th>{t(\"soajs:fields.Code\")}</th>\n\t\t\t\t\t<th>{t(\"soajs:fields.Name\")}</th>\n\t\t\t\t\t<th>{t(\"soajs:fields.Description\")}</th>\n\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t{fields && fields.map((rec, index) => (\n\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<Edit\n\t\t\t\t\t\t\t\tclassName=\"mr-1 p-1\"\n\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Delete\n\t\t\t\t\t\t\t\tclassName=\"mr-1 p-1\"\n\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>{rec.code}</td>\n\t\t\t\t\t\t<td>{rec.name}</td>\n\t\t\t\t\t\t<td>{rec.description}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t))}\n\t\t\t\t</tbody>\n\t\t\t</Table>\n\t\t</>\n\t);\n}","import {Alert, Button, Col, Dropdown, DropdownButton, Form, Row, Tab, Tabs} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService, MultitenantService} from \"../../../../services\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {useTranslation} from \"react-i18next\";\n\nimport TenantUsers from \"./containers/TenantUsers\";\nimport TenantGroups from \"./containers/TenantGroups\";\n\nimport config from \"../../../../config\";\n\nconst multitenantService = MultitenantService.getService();\nconst consoleService = ConsoleService.getService();\n\nconst criteriaModel = {\n\t\"keywords_mainTenant\": \"\",\n\t\"keywords_subTenant\": \"\",\n\t\"mainTenant\": -1,\n\t\"subTenant\": -1,\n\t\"mainTenantExtKey\": \"\",\n\t\"subTenantExtKey\": \"\",\n\t\"tenantType\": \"Product\"\n};\n\nfunction getTenantExtKey(tenant, env) {\n\tlet extKeys = [];\n\tif (env && tenant && tenant.applications && tenant.applications.length > 0) {\n\t\ttenant.applications.forEach((oneApp) => {\n\t\t\tif (oneApp && oneApp.keys && oneApp.keys.length > 0) {\n\t\t\t\toneApp.keys.forEach((oneKey) => {\n\t\t\t\t\tif (oneKey && oneKey.extKeys && oneKey.extKeys.length > 0) {\n\t\t\t\t\t\toneKey.extKeys.forEach((oneExt) => {\n\t\t\t\t\t\t\tif (oneExt && oneExt.extKey && (oneExt.env.toUpperCase() === env.toUpperCase() || oneExt.env === null || !oneExt.env)) {\n\t\t\t\t\t\t\t\textKeys.push({\n\t\t\t\t\t\t\t\t\tv: oneExt.extKey,\n\t\t\t\t\t\t\t\t\tl: oneApp.product + \" \" + oneApp.package + \" \" + (oneExt.label ? oneExt.label : oneExt.extKey.substring(0, 10) + \"...\" + oneExt.extKey.substring(oneExt.extKey.length - 10, oneExt.extKey.length))\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\treturn extKeys;\n}\n\nexport default function Users() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [environments, setEnvironments] = useState([]);\n\tconst [selectedEnv, setSelectedEnv] = useState(null);\n\tconst [selectedMsg, setSelected] = useState(\"-- Select an environment --\");\n\tconst [mainTenantItems, setMainTenantItems] = useState([]);\n\tconst [subTenantItems, setSubTenantItems] = useState([]);\n\tconst [mainTenantKeys, setMainTenantKeys] = useState([]);\n\tconst [subTenantKeys, setSubTenantKeys] = useState([]);\n\tconst [criteria, setCriteria] = useState(criteriaModel);\n\t\n\tasync function reLoad() {\n\t\ttry {\n\t\t\tlet c = {\"limit\": 50, \"start\": 0, \"type\": \"product\"};\n\t\t\tif (criteria.keywords_mainTenant) {\n\t\t\t\tc.keywords = criteria.keywords_mainTenant;\n\t\t\t}\n\t\t\tconst response = await multitenantService.getTenants(c);\n\t\t\tif (response) {\n\t\t\t\tsetMainTenantItems(response.items);\n\t\t\t\tsetMainTenantKeys([]);\n\t\t\t\tsetSubTenantKeys([]);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function reLoad_SubTenant() {\n\t\ttry {\n\t\t\tif (criteria.mainTenant >= 0) {\n\t\t\t\tlet c = {\"limit\": 50, \"start\": 0};\n\t\t\t\tif (criteria.keywords_mainTenant) {\n\t\t\t\t\tc.keywords = criteria.keywords_subTenant;\n\t\t\t\t}\n\t\t\t\tlet code = mainTenantItems[criteria.mainTenant].code;\n\t\t\t\tconst response = await multitenantService.getTenantSubTenants(code, c);\n\t\t\t\tif (response) {\n\t\t\t\t\tsetSubTenantItems(response.items);\n\t\t\t\t\tsetSubTenantKeys([]);\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function handleSelectEnv(code) {\n\t\tsetSelectedEnv(code);\n\t\tsetSelected(code);\n\t\tlet reset = {\n\t\t\t\"keywords_mainTenant\": criteria.keywords_mainTenant,\n\t\t\t\"keywords_subTenant\": criteria.keywords_subTenant,\n\t\t\t\"mainTenant\": criteriaModel.mainTenant,\n\t\t\t\"subTenant\": criteriaModel.subTenant,\n\t\t\t\"mainTenantExtKey\": criteriaModel.mainTenantExtKey,\n\t\t\t\"subTenantExtKey\": criteriaModel.subTenantExtKey,\n\t\t\t\"tenantType\": criteriaModel.tenantType\n\t\t};\n\t\tsetCriteria(reset);\n\t\tsetMainTenantKeys([]);\n\t\tsetSubTenantKeys([]);\n\t\tawait reLoad();\n\t}\n\t\n\tasync function handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tlet id = event.target.id;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tif (event.target.type === 'number') {\n\t\t\tvalue = parseInt(value);\n\t\t}\n\t\tif (id === \"mainTenant\") {\n\t\t\tif (value >= 0) {\n\t\t\t\tlet extKeys = getTenantExtKey(mainTenantItems[value], selectedEnv);\n\t\t\t\tsetMainTenantKeys(extKeys);\n\t\t\t\tsetSubTenantKeys([]);\n\t\t\t\tcriteria.mainTenant = value;\n\t\t\t\tawait reLoad_SubTenant();\n\t\t\t}\n\t\t\tlet reset = {\n\t\t\t\t\"keywords_mainTenant\": criteria.keywords_mainTenant,\n\t\t\t\t\"keywords_subTenant\": criteria.keywords_subTenant,\n\t\t\t\t\"mainTenant\": value,\n\t\t\t\t\"mainTenantExtKey\": criteriaModel.mainTenantExtKey,\n\t\t\t\t\"subTenant\": criteriaModel.subTenant,\n\t\t\t\t\"subTenantExtKey\": criteriaModel.subTenantExtKey,\n\t\t\t\t\"tenantType\": criteria.tenantType\n\t\t\t};\n\t\t\tsetCriteria({...reset});\n\t\t} else if (id === \"subTenant\") {\n\t\t\tif (value >= 0) {\n\t\t\t\tlet extKeys = getTenantExtKey(subTenantItems[value], selectedEnv);\n\t\t\t\tsetSubTenantKeys(extKeys);\n\t\t\t}\n\t\t\tlet reset = {\n\t\t\t\t\"keywords_mainTenant\": criteria.keywords_mainTenant,\n\t\t\t\t\"keywords_subTenant\": criteria.keywords_subTenant,\n\t\t\t\t\"mainTenant\": criteria.mainTenant,\n\t\t\t\t\"mainTenantExtKey\": criteria.mainTenantExtKey,\n\t\t\t\t\"subTenant\": value,\n\t\t\t\t\"subTenantExtKey\": criteriaModel.subTenantExtKey,\n\t\t\t\t\"tenantType\": criteria.tenantType\n\t\t\t};\n\t\t\tsetCriteria({...reset});\n\t\t} else if (id === \"tenantType\") {\n\t\t\tsetCriteria({\n\t\t\t\t...criteria,\n\t\t\t\t[id]: value\n\t\t\t});\n\t\t} else {\n\t\t\tsetCriteria({\n\t\t\t\t...criteria,\n\t\t\t\t[id]: value\n\t\t\t});\n\t\t}\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tawait reLoad();\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tconst _environments = await consoleService.getEnvironments();\n\t\t\t\tif (_environments && isSubscribed) {\n\t\t\t\t\tsetEnvironments(_environments);\n\t\t\t\t}\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetSelectedEnv(null);\n\t\t\t\t\tsetSelected(\"-- Select an environment --\");\n\t\t\t\t\tsetCriteria(criteriaModel);\n\t\t\t\t\tsetMainTenantItems([]);\n\t\t\t\t\tsetMainTenantKeys([]);\n\t\t\t\t\tsetSubTenantItems([]);\n\t\t\t\t\tsetSubTenantKeys([]);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Alert variant=\"info\" className=\"mt-4 mb-2 p-2 pl-3 pr-3\">\n\t\t\t\t<h6 className=\"float-left mr-3 mt-2\">\n\t\t\t\t\tEnvironment:\n\t\t\t\t</h6>\n\t\t\t\t<DropdownButton\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tid=\"dropdown-item-button\"\n\t\t\t\t\ttitle={selectedMsg}\n\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\tclassName=\"small\">\n\t\t\t\t\t{environments.map((item, index) => (\n\t\t\t\t\t\titem.code.toLowerCase() !== config.consoleEnvironment &&\n\t\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\t\tas=\"button\"\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tactive={selectedEnv === item.code}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\thandleSelectEnv(item.code).catch();\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t{item.code}\n\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t))}\n\t\t\t\t</DropdownButton>\n\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t</Alert>\n\t\t\t{selectedEnv &&\n\t\t\t<>\n\t\t\t\t<Alert variant=\"secondary\" className=\"mt-4 mb-2 p-2 pl-3 pr-3\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col md={4}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\tid=\"mainTenant\"\n\t\t\t\t\t\t\t\tvalue={criteria.mainTenant}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value={-1}> ---</option>\n\t\t\t\t\t\t\t\t{mainTenantItems.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t<option key={i} value={i}>{rec.code} - {rec.name}</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col md={4}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col xs={6} md={7}>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tid=\"keywords_mainTenant\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.keywords_mainTenant}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={6} md={5}>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-left\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"info\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tonClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Filter\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col md={4}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\tid=\"mainTenantExtKey\"\n\t\t\t\t\t\t\t\tvalue={criteria.mainTenantExtKey}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"\"> ---</option>\n\t\t\t\t\t\t\t\t{mainTenantKeys.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t<option key={i} value={rec.v}>{rec.l}</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\tOnly 50 tenant appears in this list, you can filter by name and code\n\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t{criteria.mainTenantExtKey !== \"\" &&\n\t\t\t\t\t<>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"tenantType\"\n\t\t\t\t\t\t\tvalue={criteria.tenantType}\n\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"Product\">Main Tenant Users and Groups</option>\n\t\t\t\t\t\t\t<option value=\"Client\">Sub Tenant Users and Groups</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t{criteria.tenantType === \"Client\" &&\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col md={4}>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\tid=\"subTenant\"\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.subTenant}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value={-1}> ---</option>\n\t\t\t\t\t\t\t\t\t\t{subTenantItems.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<option key={i} value={i}>{rec.code} - {rec.name}</option>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col md={4}>\n\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t<Col xs={6} md={7}>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"keywords_subTenant\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={criteria.keywords_subTenant}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col xs={6} md={5}>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-left\"\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"info\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Filter\")}\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col md={4}>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\tid=\"subTenantExtKey\"\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.subTenantExtKey}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value=\"\"> ---</option>\n\t\t\t\t\t\t\t\t\t\t{subTenantKeys.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<option key={i} value={rec.v}>{rec.l}</option>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\tOnly 50 tenant appears in this list, you can filter by name and code\n\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t</Alert>\n\t\t\t\t{criteria.tenantType === \"Product\" && criteria.mainTenantExtKey !== \"\" &&\n\t\t\t\t<Tabs className=\"mt-4\">\n\t\t\t\t\t<Tab eventKey=\"Users\" title={t(\"soajs:fields.Users\")}>\n\t\t\t\t\t\t<TenantUsers\n\t\t\t\t\t\t\tscope={\"myTenancy\"}\n\t\t\t\t\t\t\ttenantId={mainTenantItems[criteria.mainTenant]._id}\n\t\t\t\t\t\t\textKey={criteria.mainTenantExtKey}\n\t\t\t\t\t\t\tenv={selectedEnv}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Tab>\n\t\t\t\t\t<Tab eventKey=\"InvitedUsers\" title={t(\"soajs:fields.InvitedUsers\")}>\n\t\t\t\t\t\t<TenantUsers\n\t\t\t\t\t\t\tscope={\"otherTenancy\"}\n\t\t\t\t\t\t\ttenantId={mainTenantItems[criteria.mainTenant]._id}\n\t\t\t\t\t\t\textKey={criteria.mainTenantExtKey}\n\t\t\t\t\t\t\tenv={selectedEnv}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Tab>\n\t\t\t\t\t<Tab eventKey=\"Groups\" title={t(\"soajs:fields.Groups\")}>\n\t\t\t\t\t\t<TenantGroups\n\t\t\t\t\t\t\textKey={criteria.mainTenantExtKey}\n\t\t\t\t\t\t\tenv={selectedEnv}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Tab>\n\t\t\t\t</Tabs>\n\t\t\t\t}\n\t\t\t\t{criteria.tenantType === \"Client\" && criteria.subTenantExtKey !== \"\" &&\n\t\t\t\t<>\n\t\t\t\t\t<Tabs className=\"mt-4\">\n\t\t\t\t\t\t<Tab eventKey=\"Users\" title={t(\"soajs:fields.Users\")}>\n\t\t\t\t\t\t\t<TenantUsers\n\t\t\t\t\t\t\t\tscope={null}\n\t\t\t\t\t\t\t\ttenantId={subTenantItems[criteria.subTenant]._id}\n\t\t\t\t\t\t\t\textKey={criteria.subTenantExtKey}\n\t\t\t\t\t\t\t\tenv={selectedEnv}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t<Tab eventKey=\"Groups\" title={t(\"soajs:fields.Groups\")}>\n\t\t\t\t\t\t\t<TenantGroups\n\t\t\t\t\t\t\t\textKey={criteria.subTenantExtKey}\n\t\t\t\t\t\t\t\tenv={selectedEnv}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t</Tabs>\n\t\t\t\t</>\n\t\t\t\t}\n\t\t\t</>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../services\";\n\nconst multitenantService = MultitenantService.getService();\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tif (modalOpt.item.type === \"product\") {\n\t\t\t\tawait multitenantService.deleteProduct({\n\t\t\t\t\t\"id\": modalOpt.item.id\n\t\t\t\t});\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + modalOpt.item.type));\n\t\t\t\thandleAction();\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\t\n\t\t\tif (modalOpt.item.type === \"package\") {\n\t\t\t\tawait multitenantService.deletePackage({\n\t\t\t\t\t\"id\": modalOpt.item.id,\n\t\t\t\t\t\"code\": modalOpt.item.code\n\t\t\t\t});\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + modalOpt.item.type));\n\t\t\t\thandleAction();\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\t\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body style={{\n\t\t\t\t\"wordBreak\": \"break-all\"}}>\n\t\t\t\t{t(\"soajs:messages.deleteQuestion\")}<span\n\t\t\t\tclassName=\"ml-3 font-weight-bold\">{modalOpt.item ? modalOpt.item.type : \"\"}: [<span\n\t\t\t\tclassName=\"text-danger\">{modalOpt.item ? modalOpt.item.name : \"\"}</span>]</span>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../services\";\nimport deepSet from \"../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\nconst initFields = {\n\t\"name\": \"\",\n\t\"description\": \"\",\n\t\"code\": \"\"\n};\n\nexport default function AddModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0 &&\n\t\t\tfields.code.length === 5\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait multitenantService.addProduct(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.productAdd\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.productAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Code\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tplaceholder=\"5 alphanumeric characters only\"\n\t\t\t\t\t\t\tid=\"code\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.code}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../services\";\nimport deepSet from \"../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\nconst initFields = {\n\t\"id\": \"\",\n\t\"name\": \"\",\n\t\"description\": \"\",\n\t\"code\": \"\"\n};\n\nexport default function UpdateModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait multitenantService.updateProduct(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.productUpdate\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields(Object.assign({}, initFields, modalOpt.item));\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.productUpdate\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Code\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"code\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.code}\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../services\";\nimport deepSet from \"../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\nconst initFields = {\n\t\"id\": \"\",\n\t\"name\": \"\",\n\t\"description\": \"\",\n\t\"code\": \"\",\n\t\"_TTL\": \"168\"\n};\n\nexport default function AddPackageModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0 &&\n\t\t\tfields.code.length === 5\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tfields.id = modalOpt.item.id;\n\t\t\tawait multitenantService.addPackage(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.packageAdd\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.packageAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Code\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tplaceholder=\"5 alphanumeric characters only\"\n\t\t\t\t\t\t\tid=\"code\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.code}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.TTL\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control as=\"select\" id=\"_TTL\"\n\t\t\t\t\t\t              defaultValue={fields._TTL}\n\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"6\">6 hours</option>\n\t\t\t\t\t\t\t<option value=\"12\">12 hours</option>\n\t\t\t\t\t\t\t<option value=\"24\">24 hours</option>\n\t\t\t\t\t\t\t<option value=\"48\">2 days</option>\n\t\t\t\t\t\t\t<option value=\"72\">3 days</option>\n\t\t\t\t\t\t\t<option value=\"96\">4 days</option>\n\t\t\t\t\t\t\t<option value=\"120\">5 days</option>\n\t\t\t\t\t\t\t<option value=\"144\">6 days</option>\n\t\t\t\t\t\t\t<option value=\"168\">7 days</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../services\";\nimport deepSet from \"../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\nconst initFields = {\n\t\"id\": \"\",\n\t\"code\": \"\",\n\t\"name\": \"\",\n\t\"description\": \"\",\n\t\"_TTL\": \"168\"\n};\n\nexport default function UpdatePackageModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait multitenantService.updatePackage(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.packageUpdate\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields(Object.assign({}, initFields, modalOpt.item));\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.packageUpdate\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Code\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"code\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.code}\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.TTL\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control as=\"select\" id=\"_TTL\"\n\t\t\t\t\t\t              value={fields._TTL}\n\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"6\">6 hours</option>\n\t\t\t\t\t\t\t<option value=\"12\">12 hours</option>\n\t\t\t\t\t\t\t<option value=\"24\">24 hours</option>\n\t\t\t\t\t\t\t<option value=\"48\">2 days</option>\n\t\t\t\t\t\t\t<option value=\"72\">3 days</option>\n\t\t\t\t\t\t\t<option value=\"96\">4 days</option>\n\t\t\t\t\t\t\t<option value=\"120\">5 days</option>\n\t\t\t\t\t\t\t<option value=\"144\">6 days</option>\n\t\t\t\t\t\t\t<option value=\"168\">7 days</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Accordion, Button, Card, Table} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\n\nimport {GoDiffAdded} from \"react-icons/go\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../services\";\nimport DeleteButton from \"../../../buttons/Delete\";\nimport EditButton from \"../../../buttons/Edit\";\nimport {useTranslation} from \"react-i18next\";\nimport ViewButton from \"../../../buttons/View\";\nimport AclButton from \"../../../buttons/Acl\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nimport DeleteModal from \"./DeleteModal\";\nimport AddModal from \"./AddModal\";\nimport UpdateModal from \"./UpdateModal\";\nimport AddPackageModal from \"./AddPackageModal\";\nimport UpdatePackageModal from \"./UpdatePackageModal\";\nimport InfoModal from \"../../../Settings/containers/Packages/InfoModal/InfoModal\";\nimport {useHistory} from \"react-router-dom\";\n\nasync function onLoad(setFields, isSubscribed) {\n\ttry {\n\t\tconst response = await multitenantService.getProducts();\n\t\tif (isSubscribed && response) {\n\t\t\tsetFields(response);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nconst multitenantService = MultitenantService.getService();\n\nexport default function Products() {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\t\n\tconst history = useHistory();\n\t\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, item: null});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, item: item});\n\tconst [modalUpdateProductOpt, setModalUpdateProductOpt] = useState({\"show\": false, item: null});\n\tconst modalUpdateProductOptShow = (item) => setModalUpdateProductOpt({\"show\": true, item: item});\n\tconst [modalAddProductOpt, setModalAddProductOpt] = useState({\"show\": false, item: null});\n\tconst modalAddProductOptShow = (item) => setModalAddProductOpt({\"show\": true, item: item});\n\tconst [modalUpdatePackageOpt, setModalUpdatePackageOpt] = useState({\"show\": false, item: null});\n\tconst modalUpdatePackageOptShow = (item) => setModalUpdatePackageOpt({\"show\": true, item: item});\n\tconst [modalAddPackageOpt, setModalAddPackageOpt] = useState({\"show\": false, item: null});\n\tconst modalAddPackageOptShow = (item) => setModalAddPackageOpt({\"show\": true, item: item});\n\t\n\tconst [modalInfoOpt, setModalInfoOpt] = useState({\"show\": false, opts: null, scope: null});\n\tconst modalInfoOptShow = (pack, scope) => setModalInfoOpt({\"show\": true, opts: pack, scope: scope});\n\t\n\tasync function reLoad() {\n\t\tawait onLoad(setFields, true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tonLoad(setFields, isSubscribed).catch();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<>\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<UpdateModal\n\t\t\t\tmodalOpt={modalUpdateProductOpt}\n\t\t\t\tsetModalOpt={setModalUpdateProductOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<AddModal\n\t\t\t\tmodalOpt={modalAddProductOpt}\n\t\t\t\tsetModalOpt={setModalAddProductOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<UpdatePackageModal\n\t\t\t\tmodalOpt={modalUpdatePackageOpt}\n\t\t\t\tsetModalOpt={setModalUpdatePackageOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<AddPackageModal\n\t\t\t\tmodalOpt={modalAddPackageOpt}\n\t\t\t\tsetModalOpt={setModalAddPackageOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<InfoModal\n\t\t\t\tmodalOpt={modalInfoOpt}\n\t\t\t\tsetModalOpt={setModalInfoOpt}\n\t\t\t/>\n\t\t\t<div className=\"mb-1\">\n\t\t\t\t<h5 className=\"float-left font-weight-bold\">Available products</h5>\n\t\t\t\t\n\t\t\t\t{ability.can('product', 'add') &&\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"float-right mb-1\"\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tmodalAddProductOptShow({});\n\t\t\t\t\t}}\n\t\t\t\t><GoDiffAdded/> {t(\"soajs:buttons.Add\")}</Button>}\n\t\t\t\t\n\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t</div>\n\t\t\t{fields.map((rec, index) => (\n\t\t\t\t<Accordion className=\"mb-2\" key={index + 1} defaultActiveKey={1}>\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<Card.Header style={{\"backgroundColor\": \"#DEF1F7\"}}>\n\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\"\n\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">{rec.name}</span> [{rec.code}]\n\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('product', 'delete') &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\"type\": \"product\",\n\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.name\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('product', 'edit') &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalUpdateProductOptShow({\n\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\"code\": rec.code,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.name || \"\",\n\t\t\t\t\t\t\t\t\t\t\"description\": rec.description || \"\"\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<span className=\"small\">{rec.description}</span>\n\t\t\t\t\t\t\t\t<hr className=\"mt-4\"/>\n\t\t\t\t\t\t\t\t<div className=\"mb-1\">\n\t\t\t\t\t\t\t\t\t<h6 className=\"float-left font-weight-bold\">Available packages</h6>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t{ability.can('package', 'add') &&\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right mb-1\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tmodalAddPackageOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t><GoDiffAdded/> {t(\"soajs:buttons.Add\")}</Button>}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Table responsive striped hover size=\"sm\" className=\"small\">\n\t\t\t\t\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:buttons.Actions\")}</th>\n\t\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Code\")}</th>\n\t\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Name\")}</th>\n\t\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Description\")}</th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t{rec.packages.map((pack, index) => (\n\t\t\t\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t\t\t\t<td nowrap=\"true\">\n\t\t\t\t\t\t\t\t\t\t\t\t<ViewButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpack.turnOffAbilityView = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalInfoOptShow(pack, rec.scope);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('package', 'delete') &&\n\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"type\": \"package\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"code\": pack.code,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\": pack.name\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('package', 'edit') &&\n\t\t\t\t\t\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalUpdatePackageOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"code\": pack.code,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\": pack.name || \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"description\": pack.description || \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"_TTL\": pack._TTL ? pack._TTL / 3600000 : 168,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('package', 'acl') &&\n\t\t\t\t\t\t\t\t\t\t\t\t<AclButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thistory.push(\"/multitenancy/products/\" + rec._id + \"/acl/\" + pack.code);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>{pack.code}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td nowrap=\"true\">{pack.name}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>{pack.description}</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t</Accordion>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {\n\tListGroup,\n\tListGroupItem,\n\tRow,\n\tCol,\n\tAlert,\n\tForm,\n\tAccordion,\n\tCard,\n\tButton,\n\tJumbotron,\n\tTab, Tabs, useAccordionToggle\n} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useParams} from \"react-router-dom\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService, MultitenantService} from \"../../../../services\";\nimport {SoaanalyticsService} from \"../../../../services\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport AutoPagination from \"../../../../lib/AutoPagination\";\nimport AddButton from \"../../../buttons/Add\";\nimport DeleteButton from \"../../../buttons/Delete\";\nimport getACL from \"../../../Settings/containers/Packages/lib/scopeAclLib\";\nimport {FcCollapse, FcExpand} from \"react-icons/fc\";\n\nconst consoleService = ConsoleService.getService();\nconst multitenantService = MultitenantService.getService();\nconst soaanalyticsService = SoaanalyticsService.getService();\nconst initFields = null;\n\nconst initCriteria = {\n\t\"type\": \"service\",\n\t\"includeSOAJS\": false,\n\t\"serviceName\": \"\",\n\t\"serviceGroup\": \"\",\n\t\"serviceVersion\": \"\",\n\t\"route\": \"\"\n};\n\nconst methodVariant = {\n\t\"get\": \"primary\",\n\t\"post\": \"success\",\n\t\"delete\": \"danger\",\n\t\"put\": \"warning\",\n\t\"patch\": \"info\",\n\t\"head\": \"secondary\",\n\t\"other\": \"light\"\n};\n\nfunction CustomToggle({children, eventKey, handleClick}) {\n\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\thandleClick();\n\t});\n\treturn (\n\t\t<div className=\"float-left\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nfunction getMethodVariant(method) {\n\tif (method && methodVariant[method]) {\n\t\treturn methodVariant[method];\n\t} else {\n\t\treturn methodVariant[\"other\"];\n\t}\n}\n\nfunction getApiAccess(api) {\n\tif (api.hasOwnProperty(\"access\")) {\n\t\treturn api.access;\n\t} else {\n\t\treturn \"inherit\";\n\t}\n}\n\nfunction isApiAdded(fieldsPackage, selectedEnv, service, version, method, api) {\n\tif (fieldsPackage &&\n\t\tfieldsPackage.acl &&\n\t\tfieldsPackage.acl[selectedEnv]) {\n\t\tif (fieldsPackage.acl[selectedEnv][service] &&\n\t\t\tfieldsPackage.acl[selectedEnv][service][version]) {\n\t\t\tif (fieldsPackage.acl[selectedEnv][service][version][method] &&\n\t\t\t\tfieldsPackage.acl[selectedEnv][service][version][method].apis &&\n\t\t\t\tfieldsPackage.acl[selectedEnv][service][version][method].apis[api]) {\n\t\t\t\t\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}\n\nasync function onLoadApi(setFieldsApi, setPagination, currentPage, isSubscribed, criteria) {\n\ttry {\n\t\tlet c = {\n\t\t\t\"limit\": 6,\n\t\t\t\"start\": (currentPage - 1) * 6,\n\t\t\t\"type\": criteria.type,\n\t\t\t\"includeSOAJS\": criteria.includeSOAJS,\n\t\t\t\"keywords\": {\n\t\t\t\t\"serviceName\": criteria.serviceName,\n\t\t\t\t\"serviceGroup\": criteria.serviceGroup,\n\t\t\t\t\"serviceVersion\": criteria.serviceVersion,\n\t\t\t\t\"route\": criteria.route\n\t\t\t}\n\t\t};\n\t\tconst response = await soaanalyticsService.getApis(c);\n\t\tif (isSubscribed) {\n\t\t\tif (response && response.records) {\n\t\t\t\tsetFieldsApi(response.records);\n\t\t\t\tsetPagination(\n\t\t\t\t\t{\n\t\t\t\t\t\t\"totalItems\": response.count,\n\t\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\t\"itemsPerPage\": response.limit\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nasync function onLoad(setFields, setFieldsPackage, setFieldsEnvironments, setFSelectedEnv, id, code, isSubscribed) {\n\ttry {\n\t\tconst response = await multitenantService.getProduct(id);\n\t\tconst _environments = await consoleService.getEnvironments();\n\t\tif (_environments && isSubscribed) {\n\t\t\tlet envs = [];\n\t\t\tfor (let i = 0; i < _environments.length; i++) {\n\t\t\t\tenvs.push(_environments[i].code.toLowerCase());\n\t\t\t}\n\t\t\tsetFieldsEnvironments(envs);\n\t\t\tsetFSelectedEnv(envs[0] || null);\n\t\t}\n\t\tif (isSubscribed && response) {\n\t\t\tsetFields(response);\n\t\t\tif (response.packages && response.packages.length > 0) {\n\t\t\t\tlet pack = response.packages.filter((p) => {\n\t\t\t\t\treturn p.code === code;\n\t\t\t\t})\n\t\t\t\tif (pack) {\n\t\t\t\t\tpack = pack[0];\n\t\t\t\t\tlet envs = Object.keys(pack.acl)\n\t\t\t\t\t// setFieldsEnvironments(envs);\n\t\t\t\t\t// setFSelectedEnv(envs[0] || null);\n\t\t\t\t\tlet convertedPack = {\n\t\t\t\t\t\t\"acl\": {},\n\t\t\t\t\t\t\"code\": pack.code,\n\t\t\t\t\t\t\"name\": pack.name,\n\t\t\t\t\t\t\"aclTypeByEnv\": pack.aclTypeByEnv || {}\n\t\t\t\t\t};\n\t\t\t\t\tfor (let i = 0; i < envs.length; i++) {\n\t\t\t\t\t\tif (pack.aclTypeByEnv && pack.aclTypeByEnv[envs[i]] && pack.aclTypeByEnv[envs[i]] === \"granular\") {\n\t\t\t\t\t\t\tconvertedPack.acl[envs[i]] = pack.acl[envs[i]];\n\t\t\t\t\t\t} else if (response.scope) {\n\t\t\t\t\t\t\tObject.keys(pack.acl[envs[i]]).map((service, index) => {\n\t\t\t\t\t\t\t\tlet ACL = {};\n\t\t\t\t\t\t\t\tfor (let j = 0; j < pack.acl[envs[i]][service].length; j++) {\n\t\t\t\t\t\t\t\t\tif (pack.acl[envs[i]][service][j].version) {\n\t\t\t\t\t\t\t\t\t\tlet version = pack.acl[envs[i]][service][j].version;\n\t\t\t\t\t\t\t\t\t\tif (response.scope.acl[envs[i]][service][version]) {\n\t\t\t\t\t\t\t\t\t\t\tACL[version] = getACL(response.scope.acl[envs[i]][service][version], pack.acl[envs[i]][service][j]);\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (!convertedPack.acl[envs[i]]) {\n\t\t\t\t\t\t\t\t\tconvertedPack.acl[envs[i]] = {};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconvertedPack.acl[envs[i]][service] = ACL;\n\t\t\t\t\t\t\t\tconvertedPack.aclTypeByEnv[envs[i]] = \"granular\";\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tsetFieldsPackage(convertedPack);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function PackageAcl() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [activeKey, setActiveKey] = useState(0);\n\tconst [fields, setFields] = useState(initFields);\n\tconst [fieldsPackage, setFieldsPackage] = useState({});\n\tconst [fieldsEnvironments, setFieldsEnvironments] = useState([]);\n\tconst [selectedEnv, setFSelectedEnv] = useState(null);\n\t\n\tconst [fieldsApi, setFieldsApi] = useState([]);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [criteria, setCriteria] = useState(initCriteria);\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\t\n\tasync function reLoadApi(page) {\n\t\tawait onLoadApi(setFieldsApi, setPagination, page || currentPage, true, criteria)\n\t}\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait reLoadApi(1);\n\t}\n\t\n\tconst {id} = useParams();\n\tconst {code} = useParams();\n\t\n\tfunction handleEnvChange(event) {\n\t\tsetFSelectedEnv(event.target.value);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (id) {\n\t\t\tonLoad(setFields, setFieldsPackage, setFieldsEnvironments, setFSelectedEnv, id, code, isSubscribed).catch();\n\t\t}\n\t\tonLoadApi(setFieldsApi, setPagination, 1, isSubscribed, initCriteria).catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [id, code]);\n\t\n\tfunction updateService(event, selectedEnv, service, version) {\n\t\tif (event.target.id === \"apisPermission\") {\n\t\t\tlet obj = fieldsPackage;\n\t\t\tif (event.target.value === \"restricted\") {\n\t\t\t\tobj.acl[selectedEnv][service][version].apisPermission = event.target.value;\n\t\t\t} else {\n\t\t\t\tdelete obj.acl[selectedEnv][service][version].apisPermission;\n\t\t\t}\n\t\t\tsetFieldsPackage({...obj});\n\t\t} else if (event.target.id === \"access\") {\n\t\t\tlet obj = fieldsPackage;\n\t\t\tobj.acl[selectedEnv][service][version].access = event.target.value;\n\t\t\tsetFieldsPackage({...obj});\n\t\t}\n\t}\n\t\n\tfunction updateAPI(event, selectedEnv, service, version, method, api) {\n\t\tif (event.target.id === \"access\") {\n\t\t\tlet obj = fieldsPackage;\n\t\t\tif (event.target.value === \"true\") {\n\t\t\t\tobj.acl[selectedEnv][service][version][method].apis[api].access = true;\n\t\t\t} else if (event.target.value === \"false\") {\n\t\t\t\tobj.acl[selectedEnv][service][version][method].apis[api].access = false;\n\t\t\t} else {\n\t\t\t\tdelete obj.acl[selectedEnv][service][version][method].apis[api].access;\n\t\t\t}\n\t\t\tsetFieldsPackage({...obj});\n\t\t}\n\t}\n\t\n\tfunction addAPI(service, version, method, api, group) {\n\t\tif (!fieldsPackage.acl) {\n\t\t\tfieldsPackage.acl = {};\n\t\t}\n\t\tif (!fieldsPackage.acl[selectedEnv]) {\n\t\t\tfieldsPackage.acl[selectedEnv] = {};\n\t\t}\n\t\tif (!fieldsPackage.acl[selectedEnv][service]) {\n\t\t\tfieldsPackage.acl[selectedEnv][service] = {};\n\t\t}\n\t\tif (!fieldsPackage.acl[selectedEnv][service][version]) {\n\t\t\tfieldsPackage.acl[selectedEnv][service][version] = {\n\t\t\t\t\"access\": true,\n\t\t\t\t\"apisPermission\": \"restricted\"\n\t\t\t};\n\t\t} else {\n\t\t\tfieldsPackage.acl[selectedEnv][service][version].apisPermission = \"restricted\";\n\t\t}\n\t\tif (!fieldsPackage.acl[selectedEnv][service][version][method]) {\n\t\t\tfieldsPackage.acl[selectedEnv][service][version][method] = {};\n\t\t}\n\t\tif (!fieldsPackage.acl[selectedEnv][service][version][method].apis) {\n\t\t\tfieldsPackage.acl[selectedEnv][service][version][method].apis = {};\n\t\t}\n\t\tif (!fieldsPackage.acl[selectedEnv][service][version][method].apis[api]) {\n\t\t\tfieldsPackage.acl[selectedEnv][service][version][method].apis[api] = {\n\t\t\t\t\"access\": true,\n\t\t\t\t\"group\": group\n\t\t\t};\n\t\t}\n\t\tfieldsPackage.aclTypeByEnv[selectedEnv] = \"granular\";\n\t\tsetFieldsPackage({...fieldsPackage});\n\t}\n\t\n\tfunction removeAPI(service, version, method, api) {\n\t\tif (fieldsPackage.acl &&\n\t\t\tfieldsPackage.acl[selectedEnv] &&\n\t\t\tfieldsPackage.acl[selectedEnv][service] &&\n\t\t\tfieldsPackage.acl[selectedEnv][service][version] &&\n\t\t\tfieldsPackage.acl[selectedEnv][service][version][method] &&\n\t\t\tfieldsPackage.acl[selectedEnv][service][version][method].apis &&\n\t\t\tfieldsPackage.acl[selectedEnv][service][version][method].apis[api]\n\t\t) {\n\t\t\tdelete fieldsPackage.acl[selectedEnv][service][version][method].apis[api];\n\t\t\tsetFieldsPackage({...fieldsPackage});\n\t\t}\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait multitenantService.updatePackageAcl({\n\t\t\t\t\"id\": fields._id,\n\t\t\t\t\"code\": fieldsPackage.code,\n\t\t\t\t\"env\": selectedEnv,\n\t\t\t\t\"type\": fieldsPackage.aclTypeByEnv[selectedEnv],\n\t\t\t\t\"acl\": fieldsPackage.acl[selectedEnv]\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.updatePackageAcl\"));\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\tid && fields &&\n\t\t<>\n\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t<ListGroupItem>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<span className=\"font-weight-bold\">{t(\"soajs:fields.ProductCode\")}:</span> {fields.code}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<span className=\"font-weight-bold\">{t(\"soajs:fields.ProductName\")}:</span> {fields.name}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</ListGroupItem>\n\t\t\t\t<ListGroupItem>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.PackageCode\")}:</span> {fieldsPackage.code}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.PackageName\")}:</span> {fieldsPackage.name}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</ListGroupItem>\n\t\t\t</ListGroup>\n\t\t\t<hr/>\n\t\t\t\n\t\t\t<Alert variant=\"info\">\n\t\t\t\t<Form.Control\n\t\t\t\t\tas=\"select\"\n\t\t\t\t\tid=\"env\"\n\t\t\t\t\tvalue={selectedEnv || \"\"}\n\t\t\t\t\tonChange={handleEnvChange}\n\t\t\t\t>\n\t\t\t\t\t{fieldsEnvironments.map((env, index) => (\n\t\t\t\t\t\t<option key={index} value={env}>{t(\"soajs:titles.environment\")}: {env}</option>\n\t\t\t\t\t))}\n\t\t\t\t</Form.Control>\n\t\t\t</Alert>\n\t\t\t<hr/>\n\t\t\t\n\t\t\t{selectedEnv &&\n\t\t\t<>\n\t\t\t\t\n\t\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\teventKey={1}\n\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\tif (activeKey === 1) {\n\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetActiveKey(1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{activeKey === 1 ? <FcExpand className=\"mr-1\"/> :\n\t\t\t\t\t\t\t<FcCollapse className=\"mr-1\"/>} <span\n\t\t\t\t\t\tclassName=\"small font-weight-bold text-secondary\">Click here to Find more APIs and Add them to the package ACL</span>\n\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t\t<Accordion.Collapse eventKey={1}>\n\t\t\t\t\t\t<Jumbotron className=\"p-3\">\n\t\t\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t\t\t<Row className=\"small\">\n\t\t\t\t\t\t\t\t\t<Col xs={4}>\n\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.ServiceName\")}\n\t\t\t\t\t\t\t\t\t\t\tid=\"serviceName\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t\tvalue={criteria.serviceName}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col xs={4}>\n\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.ServiceVersion\")}\n\t\t\t\t\t\t\t\t\t\t\tid=\"serviceVersion\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t\tvalue={criteria.serviceVersion}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col xs={4}>\n\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.ServiceGroup\")}\n\t\t\t\t\t\t\t\t\t\t\tid=\"serviceGroup\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t\tvalue={criteria.serviceGroup}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t<Row className=\"small mt-4\">\n\t\t\t\t\t\t\t\t\t<Col xs={6} md={7}>\n\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.Route\")}\n\t\t\t\t\t\t\t\t\t\t\tid=\"route\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t\tvalue={criteria.route}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col xs={3}>\n\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\tid=\"includeSOAJS\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Include SOAJS APIs\"\n\t\t\t\t\t\t\t\t\t\t\tdefaultChecked={criteria.includeSOAJS}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col xs={3} md={2}>\n\t\t\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\"\n\t\t\t\t\t\t\t\t\t\t        onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t{fieldsApi.map((api, index) => (\n\t\t\t\t\t\t\t\tapi.method && api.route &&\n\t\t\t\t\t\t\t\t<Alert className=\"m-1 p-2\" key={index} variant={getMethodVariant(api.method)}>\n\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isApiAdded(fieldsPackage, selectedEnv, api.serviceName, api.v, api.method, api.route)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-left pl-1 pr-1 pt-0 pb-0 mr-2\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\taddAPI(api.serviceName, api.v, api.method, api.route, api.apiGroup);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 pl-1 pr-1 pt-0 pb-0 float-left\"\n\t\t\t\t\t\t\t\t\t\t\t        variant={getMethodVariant(api.method)}><span\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"small\">{api.method.toUpperCase()}</span></Button>\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"small float-left font-weight-bold mr-1\">{api.serviceName}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"small float-left mr-2 font-weight-bold text-success\"> v{api.v} </span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"small float-left\">{api.route}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"small float-right text-info\">{api.group}</span>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\t\t\tclassName=\"mb-0\"\n\t\t\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\t\t\treLoadApi(p);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t</Accordion>\n\t\t\t\t<hr/>\n\t\t\t\t\n\t\t\t\t{fieldsPackage && fieldsPackage.acl && fieldsPackage.acl[selectedEnv] &&\n\t\t\t\t<>\n\t\t\t\t\t<Alert variant=\"warning\">\n\t\t\t\t\t\t<h6 className=\"float-left text-dark font-weight-bold mt-3\">\n\t\t\t\t\t\t\tIf you change the ACL, make sure you update for each environment\n\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"mt-2 float-right\"\n\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(\"soajs:buttons.Update\")} ACL for [<span\n\t\t\t\t\t\t\tclassName=\"text-dark font-weight-bold\">{selectedEnv}</span>]\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t\t</Alert>\n\t\t\t\t\t<Accordion defaultActiveKey={1}>\n\t\t\t\t\t\t{Object.keys(fieldsPackage.acl[selectedEnv]).map((service, index) => (\n\t\t\t\t\t\t\t<Card key={index + 1}>\n\t\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-1 pr-2 pl-2\">\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\"\n\t\t\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t{service}\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<Tabs defaultActiveKey=\"1\"\n\t\t\t\t\t\t\t\t\t\t      style={{borderBottom: \"1px solid #dee2e6\"}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{Object.keys(fieldsPackage.acl[selectedEnv][service]).map((version, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t\teventKey={index + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={t(\"soajs:fields.Version\") + \" \" + version}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttabClassName=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup variant=\"flush\" className=\"small mt-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label className=\"font-weight-bold mr-3 mt-1\">Service's\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAPIs\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefault access\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tis: </Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"access\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={fieldsPackage.acl[selectedEnv][service][version].access || false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateService(event, selectedEnv, service, version);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={true}>Private - requires logged\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tin\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={false}>Public - anyone can access\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label className=\"font-weight-bold mr-3 mt-1\">Access\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tis\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trestricted to the selected\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAPIs: </Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"apisPermission\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={fieldsPackage.acl[selectedEnv][service][version].apisPermission || \"notRestricted\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateService(event, selectedEnv, service, version);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"restricted\">Yes - only the\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAPIs are\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taccessible\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"notRestricted\">No - all APIs are\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taccessible\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t{(fieldsPackage.acl[selectedEnv][service][version].apisPermission &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldsPackage.acl[selectedEnv][service][version].apisPermission === \"restricted\") &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tObject.keys(methodVariant).map((method, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldsPackage.acl[selectedEnv][service][version][method] && fieldsPackage.acl[selectedEnv][service][version][method].apis &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tObject.keys(fieldsPackage.acl[selectedEnv][service][version][method].apis).map((api, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-1 p-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant={getMethodVariant(method)}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col className=\"small\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-left pl-1 pr-1 pt-0 pb-0 mr-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tremoveAPI(service, version, method, api);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t        className=\"mr-2 pl-1 pr-1 pt-0 pb-0 float-left\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t        variant={getMethodVariant(method)}><span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"small\">{method.toUpperCase()}</span></Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"float-left mt-1\">{api}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col className=\"small\" xs={3} sm={3} md={2}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"access\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={getApiAccess(fieldsPackage.acl[selectedEnv][service][version][method].apis[api])}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateAPI(event, selectedEnv, service, version, method, api);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"true\">Private</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"false\">Public</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"inherit\">Inherit from service\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Accordion>\n\t\t\t\t</>\n\t\t\t\t}\n\t\t\t</>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\n\nconst multitenantService = MultitenantService.getService();\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tif (modalOpt.item.type === \"tenant\") {\n\t\t\t\tawait multitenantService.deleteTenant({\n\t\t\t\t\t\"id\": modalOpt.item.id\n\t\t\t\t});\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + modalOpt.item.type));\n\t\t\t\thandleAction();\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\t\n\t\t\tif (modalOpt.item.type === \"application\") {\n\t\t\t\tawait multitenantService.deleteTenantApplication({\n\t\t\t\t\t\"id\": modalOpt.item.id,\n\t\t\t\t\t\"appId\": modalOpt.item.appId\n\t\t\t\t});\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + modalOpt.item.type));\n\t\t\t\thandleAction();\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\t\n\t\t\tif (modalOpt.item.type === \"key\") {\n\t\t\t\tawait multitenantService.deleteTenantApplicationKey({\n\t\t\t\t\t\"id\": modalOpt.item.id,\n\t\t\t\t\t\"appId\": modalOpt.item.appId,\n\t\t\t\t\t\"key\": modalOpt.item.key\n\t\t\t\t});\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + modalOpt.item.type));\n\t\t\t\thandleAction();\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\t\n\t\t\tif (modalOpt.item.type === \"extKey\") {\n\t\t\t\tawait multitenantService.deleteTenantApplicationKeyExt({\n\t\t\t\t\t\"id\": modalOpt.item.id,\n\t\t\t\t\t\"appId\": modalOpt.item.appId,\n\t\t\t\t\t\"key\": modalOpt.item.key,\n\t\t\t\t\t\"extKey\": modalOpt.item.extKey\n\t\t\t\t});\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + modalOpt.item.type));\n\t\t\t\thandleAction();\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body style={{\n\t\t\t\t\"wordBreak\": \"break-all\"}}>\n\t\t\t\t{t(\"soajs:messages.deleteQuestion\")}<span\n\t\t\t\tclassName=\"ml-3 font-weight-bold\">{modalOpt.item ? modalOpt.item.type : \"\"}: [<span\n\t\t\t\tclassName=\"text-danger\">{modalOpt.item ? modalOpt.item.label : \"\"}</span>]</span>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\nimport deepSet from \"../../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\n\nconst initFields = {\n\t\"id\": \"\",\n\t\"appId\": \"\",\n\t\"key\": \"\",\n\t\"envCode\": \"\",\n\t\"config\": {},\n\t\"configAllEnv\": {}\n};\n\nexport default function ConfigureKeyModal({modalOpt, setModalOpt, handleAction, environments}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.envCode.length > 0\n\t\t);\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\tfields.config = json;\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tif (event.target.id === \"envCode\") {\n\t\t\tif (fields.configAllEnv[value.toLowerCase()]) {\n\t\t\t\tdeepSet(obj, \"config\", fields.configAllEnv[value.toLowerCase()]);\n\t\t\t} else {\n\t\t\t\tdeepSet(obj, \"config\", {});\n\t\t\t}\n\t\t}\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait multitenantService.updateTenantApplicationKey({\n\t\t\t\t\"id\": fields.id,\n\t\t\t\t\"appId\": fields.appId,\n\t\t\t\t\"key\": fields.key,\n\t\t\t\t\"envCode\": fields.envCode,\n\t\t\t\t\"config\": fields.config\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.tenantApplicationKey\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields(Object.assign({}, initFields, modalOpt.item));\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tenantApplicationKey\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Env\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"envCode\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.envCode}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">---</option>\n\t\t\t\t\t\t\t{environments.map((rec, index) => (\n\t\t\t\t\t\t\t\t<option key={index} value={rec.code}>{rec.code}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t{fields.envCode && fields.envCode !== \"\" &&\n\t\t\t\t\t<Form.Group style={{\"height\": \"400px\"}}>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Configuration\")}</Form.Label>\n\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\t\t\tjson={fields.config || {}}\n\t\t\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>}\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\n\nimport deepSet from \"../../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\n\nconst initFields = {\n\t\"id\": \"\",\n\t\"appId\": \"\",\n\t\"key\": \"\",\n\t\"extKey\": \"\",\n\t\"label\": \"\",\n\t\"extKeyEnv\": \"\",\n\t\"expDate\": null,\n\t\"device\": {},\n\t\"geo\": {}\n};\n\nexport default function ConfigureExtKeyModal({modalOpt, setModalOpt, handleAction, environments}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.label.length > 0 &&\n\t\t\tfields.extKeyEnv.length > 0\n\t\t);\n\t}\n\t\n\tfunction JsonEditor_onChange_device(json) {\n\t\tfields.device = json;\n\t}\n\t\n\tfunction JsonEditor_onChange_geo(json) {\n\t\tfields.geo = json;\n\t}\n\t\n\tfunction handleExpDateChange(m) {\n\t\tlet obj = fields;\n\t\tif (m) {\n\t\t\t//deepSet(obj, \"expDate\", m.getFullYear() + \"-\" + (m.getMonth() + 1) + \"-\" + m.getDate());\n\t\t\tdeepSet(obj, \"expDate\", m.toISOString());\n\t\t} else {\n\t\t\tdeepSet(obj, \"expDate\", null);\n\t\t}\n\t\tsetFields({...obj});\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tif (fields.expDate) {\n\t\t\t\tlet m = new Date(fields.expDate);\n\t\t\t\tfields.expDate = m.toISOString();\n\t\t\t}\n\t\t\tawait multitenantService.updateTenantApplicationExtKey(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.tenantApplicationExtKey\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields(Object.assign({}, initFields, modalOpt.item));\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tenantApplicationExtKey\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Label\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"label\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.label}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Env\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"extKeyEnv\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.extKeyEnv}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">---</option>\n\t\t\t\t\t\t\t{environments.map((rec, index) => (\n\t\t\t\t\t\t\t\t<option key={index} value={rec.code}>{rec.code}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label className=\"mr-5\">{t(\"soajs:fields.ExpDate\")}</Form.Label>\n\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\tselected={(fields.expDate && fields.expDate !== \"\") ? new Date(fields.expDate) : null}\n\t\t\t\t\t\t\tonChange={handleExpDateChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Device\")}</Form.Label><JsonEditor\n\t\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\t\tjson={fields.device || {}}\n\t\t\t\t\t\tonChange={JsonEditor_onChange_device}\n\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Geo\")}</Form.Label><JsonEditor\n\t\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\t\tjson={fields.geo || {}}\n\t\t\t\t\t\tonChange={JsonEditor_onChange_geo}\n\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Alert, Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\nimport deepSet from \"../../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\nconst initFields = {\n\t\"id\": \"\",\n\t\"type\": 2,\n\t\"oauthType\": \"urac\",\n\t\"disabled\": 0,\n\t\"pin\": {},\n\t\"secret\": \"\"\n};\nexport default function OauthModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.disabled === 1 ||\n\t\t\t(fields.disabled === 0 && fields.secret.length > 0)\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tif (event.target.type === 'number' || event.target.id === \"type\") {\n\t\t\tvalue = parseInt(value);\n\t\t}\n\t\tif (event.target.id === \"disabled\") {\n\t\t\tif (value) {\n\t\t\t\tvalue = 0;\n\t\t\t} else {\n\t\t\t\tvalue = 1;\n\t\t\t}\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet data = {}\n\t\t\tif (fields.disabled === 1) {\n\t\t\t\tdata = {\n\t\t\t\t\t\"id\": fields.id,\n\t\t\t\t\t\"oauthType\": \"off\",\n\t\t\t\t\t\"secret\": fields.secret\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdata = {\n\t\t\t\t\t\"id\": fields.id,\n\t\t\t\t\t\"type\": fields.type,\n\t\t\t\t\t\"oauthType\": fields.oauthType,\n\t\t\t\t\t\"secret\": fields.secret\n\t\t\t\t};\n\t\t\t}\n\t\t\tawait multitenantService.updateTenantOauth(data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.tenantOauth\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields(Object.assign({}, initFields, modalOpt.item));\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tenantOauth\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Alert variant=\"warning\">\n\t\t\t\t\t<p>Be advised that when turning ON and OFF or modifying the oAuth Security of a tenant, all the keys\n\t\t\t\t\t\tconfiguration for all the applications belonging to this tenant will be modified based on the\n\t\t\t\t\t\toption you select. <a\n\t\t\t\t\t\t\thref=\"https://soajsorg.atlassian.net/wiki/spaces/DSBRD/pages/61979922/Multitenancy#Multitenancy-oauth\"\n\t\t\t\t\t\t>Learn More</a></p>\n\t\t\t\t</Alert>\n\t\t\t\t<hr/>\n\t\t\t\t{modalOpt.item &&\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\tid=\"disabled\"\n\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\tlabel=\"Turn ON oAuth\"\n\t\t\t\t\t\t\tchecked={(fields.disabled === 0)}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t{fields.disabled === 0 &&\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Type\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\tid=\"type\"\n\t\t\t\t\t\t\t\tvalue={fields.type}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"2\">oAuth 2.0</option>\n\t\t\t\t\t\t\t\t<option value=\"0\">oAuth 0</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Secret\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"secret\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.secret}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t{fields.type === 2 &&\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.OauthType\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"oauthType\"\n\t\t\t\t\t\t\t\t\tvalue={fields.oauthType}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"urac\">URAC - Complete user management</option>\n\t\t\t\t\t\t\t\t\t<option value=\"oauth\">Integration - Basic user management</option>\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</>}\n\t\t\t\t\t</>}\n\t\t\t\t</Form>}\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t\n\t\t\t\t{modalOpt.item &&\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>}\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\nimport deepSet from \"../../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\nconst initFields = {\n\t\"name\": \"\",\n\t\"description\": \"\",\n\t\"type\": \"product\",\n\t\"tag\": \"\",\n\t\"profile\": {},\n\t\"mainTenant\": null,\n\t\"mainTenantName\": \"\"\n};\n\nexport default function AddTenantModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\tif (fields.type === \"client\" && !fields.mainTenant) {\n\t\t\tvalid = false;\n\t\t}\n\t\treturn (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0 &&\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\tfields.profile = json;\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet data = {};\n\t\t\tif (fields.type === \"product\") {\n\t\t\t\tdata = {\n\t\t\t\t\t\"name\": fields.name,\n\t\t\t\t\t\"description\": fields.description,\n\t\t\t\t\t\"type\": \"product\",\n\t\t\t\t\t\"tag\": fields.tag,\n\t\t\t\t\t\"profile\": fields.profile\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (fields.type === \"client\") {\n\t\t\t\tdata = {\n\t\t\t\t\t\"name\": fields.name,\n\t\t\t\t\t\"description\": fields.description,\n\t\t\t\t\t\"type\": \"product\",\n\t\t\t\t\t\"tag\": fields.tag,\n\t\t\t\t\t\"profile\": fields.profile,\n\t\t\t\t\t\"mainTenant\": fields.mainTenant\n\t\t\t\t}\n\t\t\t}\n\t\t\tawait multitenantService.addTenant(data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.tenantAdd\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tif (modalOpt.item.type === \"client\") {\n\t\t\t\tif (!modalOpt.item.mainTenant) {\n\t\t\t\t\tNotificationManager.error(\"You can only add a sub tenant under a main tenant.\");\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tsetFields(Object.assign({}, initFields, modalOpt.item));\n\t\t}\n\t\t\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tenantAdd_\" + fields.type)}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t{fields.type === \"client\" &&\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.MainTenant\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"mainTenantName\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.mainTenantName}\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>}\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Tag\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"tag\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.tag}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Profile\")}</Form.Label>\n\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\t\t\tjson={fields.profile || {}}\n\t\t\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\nimport deepSet from \"../../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\n\nexport default function AddApplicationModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [packages, setPackages] = useState([]);\n\tconst [products, setProducts] = useState([]);\n\tconst [fields, setFields] = useState({\n\t\t\"id\": null,\n\t\t\"productCode\": \"\",\n\t\t\"packageCode\": \"\",\n\t\t\"description\": \"\",\n\t\t\"_TTL\": \"168\"\n\t});\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.productCode.length > 0 &&\n\t\t\tfields.packageCode.length > 0 &&\n\t\t\tfields.description.length > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t\tif (event.target.id === \"productCode\") {\n\t\t\tlet p = products.filter((rec) => {\n\t\t\t\treturn (value === rec.code);\n\t\t\t});\n\t\t\tif (p && p[0] && p[0].packages) {\n\t\t\t\tsetPackages(p[0].packages);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tfields.id = modalOpt.item.id;\n\t\t\tawait multitenantService.addApplication(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.tenantApplicationAdd\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tconst response = await multitenantService.getProducts();\n\t\t\t\tif (isSubscribed && response) {\n\t\t\t\t\tsetProducts(response);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tenantApplicationAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.ProductCode\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"productCode\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tdefaultValue={fields.productCode}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">---</option>\n\t\t\t\t\t\t\t{products.map((rec, index) => (\n\t\t\t\t\t\t\t\t<option key={index} value={rec.code}>{rec.code}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.PackageCode\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"packageCode\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tdefaultValue={fields.packageCode}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">---</option>\n\t\t\t\t\t\t\t{packages.map((rec, index) => (\n\t\t\t\t\t\t\t\t<option key={index} value={rec.code}>{rec.code}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.TTL\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control as=\"select\" id=\"_TTL\"\n\t\t\t\t\t\t              defaultValue={fields._TTL}\n\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"6\">6 hours</option>\n\t\t\t\t\t\t\t<option value=\"12\">12 hours</option>\n\t\t\t\t\t\t\t<option value=\"24\">24 hours</option>\n\t\t\t\t\t\t\t<option value=\"48\">2 days</option>\n\t\t\t\t\t\t\t<option value=\"72\">3 days</option>\n\t\t\t\t\t\t\t<option value=\"96\">4 days</option>\n\t\t\t\t\t\t\t<option value=\"120\">5 days</option>\n\t\t\t\t\t\t\t<option value=\"144\">6 days</option>\n\t\t\t\t\t\t\t<option value=\"168\">7 days</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\nimport deepSet from \"../../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\n\nexport default function AddExtKeyModal({modalOpt, setModalOpt, handleAction, environments}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState({\n\t\t\"id\": \"\",\n\t\t\"appId\": \"\",\n\t\t\"key\": \"\",\n\t\t\"label\": \"\",\n\t\t\"env\": \"\",\n\t\t\"expDate\": null,\n\t\t\"device\": {},\n\t\t\"geo\": {}\n\t});\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.label.length > 0 &&\n\t\t\tfields.env.length > 0\n\t\t);\n\t}\n\t\n\tfunction JsonEditor_onChange_device(json) {\n\t\tfields.device = json;\n\t}\n\t\n\tfunction JsonEditor_onChange_geo(json) {\n\t\tfields.geo = json;\n\t}\n\t\n\tfunction handleExpDateChange(m) {\n\t\tlet obj = fields;\n\t\tif (m) {\n\t\t\t//deepSet(obj, \"expDate\", m.getFullYear() + \"-\" + (m.getMonth() + 1) + \"-\" + m.getDate());\n\t\t\tdeepSet(obj, \"expDate\", m.toISOString());\n\t\t} else {\n\t\t\tdeepSet(obj, \"expDate\", null);\n\t\t}\n\t\tsetFields({...obj});\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tfields.id = modalOpt.item.id;\n\t\t\tfields.appId = modalOpt.item.appId;\n\t\t\tfields.key = modalOpt.item.key;\n\t\t\tawait multitenantService.addTenantExtKey(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.tenantExtKeyAdd\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tenantExtKeyAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Label\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"label\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.label}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Env\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"env\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tdefaultValue={fields.env}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">---</option>\n\t\t\t\t\t\t\t{environments.map((rec, index) => (\n\t\t\t\t\t\t\t\t<option key={index} value={rec.code}>{rec.code}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label className=\"mr-5\">{t(\"soajs:fields.ExpDate\")}</Form.Label>\n\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\tselected={(fields.expDate && fields.expDate !== \"\") ? new Date(fields.expDate) : null}\n\t\t\t\t\t\t\tonChange={handleExpDateChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Device\")}</Form.Label><JsonEditor\n\t\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\t\tjson={fields.device || {}}\n\t\t\t\t\t\tonChange={JsonEditor_onChange_device}\n\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Geo\")}</Form.Label><JsonEditor\n\t\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\t\tjson={fields.geo || {}}\n\t\t\t\t\t\tonChange={JsonEditor_onChange_geo}\n\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\nimport deepSet from \"../../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\nconst initFields = {\n\t\"id\": \"\",\n\t\"name\": \"\",\n\t\"description\": \"\",\n\t\"tag\": \"\",\n\t\"profile\": {}\n};\n\nexport default function UpdateTenantModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0\n\t\t);\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\tfields.profile = json;\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait multitenantService.updateTenant(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.tenantUpdate\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields(Object.assign({}, initFields, modalOpt.item));\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tenantUpdate\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Tag\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"tag\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.tag}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Profile\")}</Form.Label>\n\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\t\t\tjson={fields.profile || {}}\n\t\t\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\nimport deepSet from \"../../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\nconst initFields = {\n\t\"package\": \"\",\n\t\"id\": \"\",\n\t\"appId\": \"\",\n\t\"description\": \"\",\n\t\"_TTL\": \"168\"\n};\n\nexport default function UpdateApplicationModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.description.length > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tfields._TTL = \"\" + fields._TTL;\n\t\t\tawait multitenantService.updateApplication(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.tenantApplicationUpdate\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields(Object.assign({}, initFields, modalOpt.item));\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tenantApplicationUpdate\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.PackageCode\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"package\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.package}\n\t\t\t\t\t\t\tdisabled={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.TTL\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"_TTL\"\n\t\t\t\t\t\t\tvalue={fields._TTL}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"6\">6 hours</option>\n\t\t\t\t\t\t\t<option value=\"12\">12 hours</option>\n\t\t\t\t\t\t\t<option value=\"24\">24 hours</option>\n\t\t\t\t\t\t\t<option value=\"48\">2 days</option>\n\t\t\t\t\t\t\t<option value=\"72\">3 days</option>\n\t\t\t\t\t\t\t<option value=\"96\">4 days</option>\n\t\t\t\t\t\t\t<option value=\"120\">5 days</option>\n\t\t\t\t\t\t\t<option value=\"144\">6 days</option>\n\t\t\t\t\t\t\t<option value=\"168\">7 days</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Accordion, Button, Card, Table, Alert, Row, Col, Form} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\n\nimport {useTranslation} from \"react-i18next\";\nimport {FaKey} from \"react-icons/fa\";\nimport {GoDiffAdded} from \"react-icons/go\";\n\nimport DeleteButton from \"../../../../buttons/Delete\";\nimport GearButton from \"../../../../buttons/Gear\";\nimport EditButton from \"../../../../buttons/Edit\";\nimport AddButton from \"../../../../buttons/Add\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {ConsoleService, MultitenantService} from \"../../../../../services\";\nimport AutoPagination from \"../../../../../lib/AutoPagination\";\nimport {useAppContext} from \"../../../../../soajs/libs/contextLib\";\n\nimport DeleteModal from \"../common/DeleteModal\";\nimport ConfigureKeyModal from \"../common/ConfigureKeyModal\";\nimport ConfigureExtKeyModal from \"../common/ConfigureExtKeyModal\";\nimport OauthModal from \"../common/OauthModal\";\nimport AddTenantModal from \"../common/AddTenantModal\";\nimport AddApplicationModal from \"../common/AddApplicationModal\";\nimport AddExtKeyModal from \"../common/AddExtKeyModal\";\nimport UpdateTenantModal from \"../common/UpdateTenantModal\";\nimport UpdateApplicationModal from \"../common/UpdateApplicationModal\";\nimport {BiSearchAlt} from \"react-icons/bi\";\n\nconst multitenantService = MultitenantService.getService();\nconst consoleService = ConsoleService.getService();\nconst tenantType = \"product\";\n\nfunction getTenantLabel(rec) {\n\treturn (\n\t\t<>\n\t\t\t<span className=\"font-weight-bold mr-3\">{rec.name}</span><span\n\t\t\tclassName=\"small text-muted\">[{rec.code} - {rec._id}]</span>\n\t\t</>\n\t);\n}\n\nasync function onLoad(setFields, setPagination, currentPage, criteria, isSubscribed) {\n\ttry {\n\t\tlet c = {\"limit\": 50, \"skip\": (currentPage - 1) * 50, \"type\": tenantType};\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords && criteria.keywords !== \"\") {\n\t\t\t\tc.keywords = criteria.keywords;\n\t\t\t}\n\t\t}\n\t\tconst response = await multitenantService.getTenants(c);\n\t\tif (isSubscribed && response && response.items) {\n\t\t\tsetFields(response.items);\n\t\t\tsetPagination(\n\t\t\t\t{\n\t\t\t\t\t\"totalItems\": response.count,\n\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\"itemsPerPage\": response.limit\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Main() {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [environments, setEnvironments] = useState([]);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\tconst [criteria, setCriteria] = useState({\n\t\t\"keywords\": \"\"\n\t});\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait reLoad(1);\n\t}\n\t\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, item: null});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, item: item});\n\tconst [modalKeyConfigurationOpt, setModalKeyConfigurationOpt] = useState({\"show\": false, item: null});\n\tconst modalKeyConfigurationOptShow = (item) => setModalKeyConfigurationOpt({\"show\": true, item: item});\n\tconst [modalExtKeyConfigurationOpt, setModalExtKeyConfigurationOpt] = useState({\"show\": false, item: null});\n\tconst modalExtKeyConfigurationOptShow = (item) => setModalExtKeyConfigurationOpt({\"show\": true, item: item});\n\tconst [modalOauthOpt, setModalOauthOpt] = useState({\"show\": false, item: null});\n\tconst modalOauthOptShow = (item) => setModalOauthOpt({\"show\": true, item: item});\n\tconst [modalAddTenantOpt, setModalAddTenantOpt] = useState({\"show\": false, item: null});\n\tconst modalAddTenantOptShow = (item) => setModalAddTenantOpt({\"show\": true, item: item});\n\tconst [modalAddApplicationOpt, setModalAddApplicationOpt] = useState({\"show\": false, item: null});\n\tconst modalAddApplicationOptShow = (item) => setModalAddApplicationOpt({\"show\": true, item: item});\n\tconst [modalAddExtKeyOpt, setModalAddExtKeyOpt] = useState({\"show\": false, item: null});\n\tconst modalAddExtKeyOptShow = (item) => setModalAddExtKeyOpt({\"show\": true, item: item});\n\tconst [modalUpdateTenantOpt, setModalUpdateTenantOpt] = useState({\"show\": false, item: null});\n\tconst modalUpdateTenantOptShow = (item) => setModalUpdateTenantOpt({\"show\": true, item: item});\n\tconst [modalUpdateApplicationOpt, setModalUpdateApplicationOpt] = useState({\"show\": false, item: null});\n\tconst modalUpdateApplicationOptShow = (item) => setModalUpdateApplicationOpt({\"show\": true, item: item});\n\t\n\tasync function addTenantApplicationKey(data) {\n\t\ttry {\n\t\t\tawait multitenantService.addTenantApplicationKey(data);\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function reLoad(page) {\n\t\tawait onLoad(setFields, setPagination, page || currentPage, criteria, true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tonLoad(setFields, setPagination, 1, null, isSubscribed).catch();\n\t\t\n\t\tasync function getEnvironment() {\n\t\t\ttry {\n\t\t\t\tconst response = await consoleService.getEnvironments();\n\t\t\t\tif (response && isSubscribed) {\n\t\t\t\t\tsetEnvironments(response);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tgetEnvironment().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<>\n\t\t\t<>\n\t\t\t\t<UpdateTenantModal\n\t\t\t\t\tmodalOpt={modalUpdateTenantOpt}\n\t\t\t\t\tsetModalOpt={setModalUpdateTenantOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<UpdateApplicationModal\n\t\t\t\t\tmodalOpt={modalUpdateApplicationOpt}\n\t\t\t\t\tsetModalOpt={setModalUpdateApplicationOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<AddExtKeyModal\n\t\t\t\t\tmodalOpt={modalAddExtKeyOpt}\n\t\t\t\t\tsetModalOpt={setModalAddExtKeyOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t\tenvironments={environments}\n\t\t\t\t/>\n\t\t\t\t<AddApplicationModal\n\t\t\t\t\tmodalOpt={modalAddApplicationOpt}\n\t\t\t\t\tsetModalOpt={setModalAddApplicationOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<AddTenantModal\n\t\t\t\t\tmodalOpt={modalAddTenantOpt}\n\t\t\t\t\tsetModalOpt={setModalAddTenantOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<OauthModal\n\t\t\t\t\tmodalOpt={modalOauthOpt}\n\t\t\t\t\tsetModalOpt={setModalOauthOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<ConfigureExtKeyModal\n\t\t\t\t\tmodalOpt={modalExtKeyConfigurationOpt}\n\t\t\t\t\tsetModalOpt={setModalExtKeyConfigurationOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t\tenvironments={environments}\n\t\t\t\t/>\n\t\t\t\t<ConfigureKeyModal\n\t\t\t\t\tmodalOpt={modalKeyConfigurationOpt}\n\t\t\t\t\tsetModalOpt={setModalKeyConfigurationOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t\tenvironments={environments}\n\t\t\t\t/>\n\t\t\t\t<DeleteModal\n\t\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t</>\n\t\t\t<div className=\"mb-1\">\n\t\t\t\t<h5 className=\"float-left font-weight-bold\">Available main tenants</h5>\n\t\t\t\t\n\t\t\t\t{ability.can('tenant', 'add') &&\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"float-right mb-1\"\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tmodalAddTenantOptShow({\"type\": tenantType});\n\t\t\t\t\t}}\n\t\t\t\t><GoDiffAdded/> {t(\"soajs:buttons.Add\")}</Button>}\n\t\t\t\t\n\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t<Alert variant=\"secondary mt-2\">\n\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col xs={9} md={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"keywords\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tvalue={criteria.keywords}\n\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col xs={3} md={2}>\n\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Alert>\n\t\t\t\t<hr/>\n\t\t\t</div>\n\t\t\t{fields.map((rec, index) => (\n\t\t\t\t<Accordion className=\"mb-2\" key={index + 1} defaultActiveKey={1}>\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<Card.Header style={{\"backgroundColor\": \"#DEF1F7\"}}>\n\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\"\n\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t{getTenantLabel(rec)}\n\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('tenant', 'delete') &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\"type\": \"tenant\",\n\t\t\t\t\t\t\t\t\t\t\"label\": rec.name,\n\t\t\t\t\t\t\t\t\t\t\"id\": rec._id\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('tenant', 'configure') &&\n\t\t\t\t\t\t\t<GearButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalOauthOptShow({\n\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\"secret\": rec.oauth.secret,\n\t\t\t\t\t\t\t\t\t\t\"type\": rec.oauth.type,\n\t\t\t\t\t\t\t\t\t\t\"disabled\": rec.oauth.disabled,\n\t\t\t\t\t\t\t\t\t\t\"oauthType\": rec.oauth.loginMode\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('tenant', 'edit') &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalUpdateTenantOptShow({\n\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.name,\n\t\t\t\t\t\t\t\t\t\t\"tag\": rec.tag || \"\",\n\t\t\t\t\t\t\t\t\t\t\"description\": rec.description || \"\",\n\t\t\t\t\t\t\t\t\t\t\"profile\": rec.profile || {}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('tenant', 'add') &&\n\t\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalAddTenantOptShow({\n\t\t\t\t\t\t\t\t\t\t\"type\": \"client\",\n\t\t\t\t\t\t\t\t\t\t\"mainTenant\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\"mainTenantName\": rec.name\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<span className=\"small\">{rec.description}</span>\n\t\t\t\t\t\t\t\t<hr className=\"mt-4\"/>\n\t\t\t\t\t\t\t\t<div className=\"mb-1\">\n\t\t\t\t\t\t\t\t\t<h6 className=\"float-left font-weight-bold\">Available applications</h6>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t{ability.can('tenant_application', 'add') &&\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right mb-1\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tmodalAddApplicationOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t><GoDiffAdded/> {t(\"soajs:buttons.Add\")}</Button>}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{rec.applications && rec.applications.map((appRec, index) => (\n\t\t\t\t\t\t\t\t\t<Accordion className=\"mb-2\" key={index + 1} defaultActiveKey={1}>\n\t\t\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3 small\">{appRec.package}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"small text-muted\">[{appRec.appId}]</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-success small ml-3\">{[appRec.product]}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application', 'delete') &&\n\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"type\": \"application\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\": appRec.package,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application', 'edit') &&\n\t\t\t\t\t\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalUpdateApplicationOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"description\": appRec.description || \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"_TTL\": appRec._TTL ? appRec._TTL / 3600000 : 168,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"package\": appRec.package\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"small\">{appRec.description}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<hr className=\"mt-4\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mb-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"float-left font-weight-bold\">Available internal\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkeys\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_key', 'add') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right mb-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddTenantApplicationKey({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{appRec.keys && appRec.keys.map((keyRec, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion className=\"mb-2\" key={index + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t           defaultActiveKey={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Header className=\"p-1 pl-2 pr-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t             style={{\"backgroundColor\": \"#dee2e6\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                  variant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3 small\"><FaKey\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-2\"/>{keyRec.key}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_key', 'delete') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"type\": \"key\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\": keyRec.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_key', 'configure') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<GearButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalKeyConfigurationOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"configAllEnv\": keyRec.config\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"float-left font-weight-bold\">Available\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texternal keys\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_ekey', 'add') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right mb-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalAddExtKeyOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t><GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Table responsive striped hover size=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       className=\"small\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:buttons.Actions\")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.ExternalKey\")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Environments\")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th className=\"text-right\">{t(\"soajs:fields.ExpDate\")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{keyRec.extKeys && keyRec.extKeys.map((extKeyRec, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_ekey', 'delete') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"type\": \"extKey\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\": extKeyRec.extKey,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"extKey\": extKeyRec.extKey\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_ekey', 'configure') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<GearButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalExtKeyConfigurationOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"extKey\": extKeyRec.extKey,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"expDate\": extKeyRec.expDate || null,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"device\": extKeyRec.device || {},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"geo\": extKeyRec.geo || {},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\": extKeyRec.label,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"extKeyEnv\": extKeyRec.env || \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"wordBreak\": \"break-all\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"maxWidth\": \"400px\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>{extKeyRec.extKey}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{extKeyRec.env}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-right\">{extKeyRec.expDate ? new Date(extKeyRec.expDate).toISOString() : null}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t</Accordion>\n\t\t\t))}\n\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t<AutoPagination\n\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\treLoad(p).catch();\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"clearfix\"></div>\n\t\t</>\n\t);\n}","import {Accordion, Alert, Button, Card, Col, Form, Row, Table} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {FaKey} from \"react-icons/fa\";\nimport {useTranslation} from \"react-i18next\";\nimport {GoDiffAdded} from \"react-icons/go\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {ConsoleService, MultitenantService} from \"../../../../../services\";\nimport AutoPagination from \"../../../../../lib/AutoPagination\";\nimport DeleteButton from \"../../../../buttons/Delete\";\nimport GearButton from \"../../../../buttons/Gear\";\nimport EditButton from \"../../../../buttons/Edit\";\nimport {useAppContext} from \"../../../../../soajs/libs/contextLib\";\nimport UpdateTenantModal from \"../common/UpdateTenantModal\";\nimport UpdateApplicationModal from \"../common/UpdateApplicationModal\";\nimport AddExtKeyModal from \"../common/AddExtKeyModal\";\nimport AddApplicationModal from \"../common/AddApplicationModal\";\nimport OauthModal from \"../common/OauthModal\";\nimport ConfigureExtKeyModal from \"../common/ConfigureExtKeyModal\";\nimport ConfigureKeyModal from \"../common/ConfigureKeyModal\";\nimport DeleteModal from \"../common/DeleteModal\";\nimport {BiSearchAlt} from \"react-icons/bi\";\n\nconst multitenantService = MultitenantService.getService();\nconst consoleService = ConsoleService.getService();\nconst tenantType = \"client\";\n\nfunction getTenantLabel(rec) {\n\treturn (\n\t\t<>\n\t\t\t<span className=\"font-weight-bold mr-3\">{rec.name}</span><span\n\t\t\tclassName=\"small text-muted\">[{rec.code} - {rec._id}]</span>\n\t\t\t<span className=\"text-dark small ml-3\">{[rec.tenant.code]}</span>\n\t\t</>\n\t);\n}\n\n\nasync function onLoad(setFields, setPagination, currentPage, criteria, isSubscribed) {\n\ttry {\n\t\tlet c = {\"limit\": 50, \"skip\": (currentPage - 1) * 50, \"type\": tenantType};\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords && criteria.keywords !== \"\") {\n\t\t\t\tc.keywords = criteria.keywords;\n\t\t\t}\n\t\t}\n\t\tconst response = await multitenantService.getTenants(c);\n\t\tif (isSubscribed && response && response.items) {\n\t\t\tsetFields(response.items);\n\t\t\tsetPagination(\n\t\t\t\t{\n\t\t\t\t\t\"totalItems\": response.count,\n\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\"itemsPerPage\": response.limit\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Sub() {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [environments, setEnvironments] = useState([]);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\tconst [criteria, setCriteria] = useState({\n\t\t\"keywords\": \"\"\n\t});\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait reLoad(1);\n\t}\n\t\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, item: null});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, item: item});\n\tconst [modalKeyConfigurationOpt, setModalKeyConfigurationOpt] = useState({\"show\": false, item: null});\n\tconst modalKeyConfigurationOptShow = (item) => setModalKeyConfigurationOpt({\"show\": true, item: item});\n\tconst [modalExtKeyConfigurationOpt, setModalExtKeyConfigurationOpt] = useState({\"show\": false, item: null});\n\tconst modalExtKeyConfigurationOptShow = (item) => setModalExtKeyConfigurationOpt({\"show\": true, item: item});\n\tconst [modalOauthOpt, setModalOauthOpt] = useState({\"show\": false, item: null});\n\tconst modalOauthOptShow = (item) => setModalOauthOpt({\"show\": true, item: item});\n\tconst [modalAddApplicationOpt, setModalAddApplicationOpt] = useState({\"show\": false, item: null});\n\tconst modalAddApplicationOptShow = (item) => setModalAddApplicationOpt({\"show\": true, item: item});\n\tconst [modalAddExtKeyOpt, setModalAddExtKeyOpt] = useState({\"show\": false, item: null});\n\tconst modalAddExtKeyOptShow = (item) => setModalAddExtKeyOpt({\"show\": true, item: item});\n\tconst [modalUpdateTenantOpt, setModalUpdateTenantOpt] = useState({\"show\": false, item: null});\n\tconst modalUpdateTenantOptShow = (item) => setModalUpdateTenantOpt({\"show\": true, item: item});\n\tconst [modalUpdateApplicationOpt, setModalUpdateApplicationOpt] = useState({\"show\": false, item: null});\n\tconst modalUpdateApplicationOptShow = (item) => setModalUpdateApplicationOpt({\"show\": true, item: item});\n\t\n\tasync function addTenantApplicationKey(data) {\n\t\ttry {\n\t\t\tawait multitenantService.addTenantApplicationKey(data);\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function reLoad(page) {\n\t\tawait onLoad(setFields, setPagination, page || currentPage, criteria, true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tonLoad(setFields, setPagination, 1, null, isSubscribed).catch();\n\t\t\n\t\tasync function getEnvironment() {\n\t\t\ttry {\n\t\t\t\tconst response = await consoleService.getEnvironments();\n\t\t\t\tif (response && isSubscribed) {\n\t\t\t\t\tsetEnvironments(response);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tgetEnvironment().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<>\n\t\t\t<>\n\t\t\t\t<UpdateTenantModal\n\t\t\t\t\tmodalOpt={modalUpdateTenantOpt}\n\t\t\t\t\tsetModalOpt={setModalUpdateTenantOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<UpdateApplicationModal\n\t\t\t\t\tmodalOpt={modalUpdateApplicationOpt}\n\t\t\t\t\tsetModalOpt={setModalUpdateApplicationOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<AddExtKeyModal\n\t\t\t\t\tmodalOpt={modalAddExtKeyOpt}\n\t\t\t\t\tsetModalOpt={setModalAddExtKeyOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t\tenvironments={environments}\n\t\t\t\t/>\n\t\t\t\t<AddApplicationModal\n\t\t\t\t\tmodalOpt={modalAddApplicationOpt}\n\t\t\t\t\tsetModalOpt={setModalAddApplicationOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<OauthModal\n\t\t\t\t\tmodalOpt={modalOauthOpt}\n\t\t\t\t\tsetModalOpt={setModalOauthOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<ConfigureExtKeyModal\n\t\t\t\t\tmodalOpt={modalExtKeyConfigurationOpt}\n\t\t\t\t\tsetModalOpt={setModalExtKeyConfigurationOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t\tenvironments={environments}\n\t\t\t\t/>\n\t\t\t\t<ConfigureKeyModal\n\t\t\t\t\tmodalOpt={modalKeyConfigurationOpt}\n\t\t\t\t\tsetModalOpt={setModalKeyConfigurationOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t\tenvironments={environments}\n\t\t\t\t/>\n\t\t\t\t<DeleteModal\n\t\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t</>\n\t\t\t<div className=\"mb-1\">\n\t\t\t\t<h5 className=\"float-left font-weight-bold\">Available main tenants</h5>\n\t\t\t\t\n\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t<Alert variant=\"secondary mt-2\">\n\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col xs={9} md={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"keywords\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tvalue={criteria.keywords}\n\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col xs={3} md={2}>\n\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Alert>\n\t\t\t\t<hr/>\n\t\t\t</div>\n\t\t\t{fields.map((rec, index) => (\n\t\t\t\t<Accordion className=\"mb-2\" key={index + 1} defaultActiveKey={1}>\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<Card.Header style={{\"backgroundColor\": \"#DEF1F7\"}}>\n\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\"\n\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t{getTenantLabel(rec)}\n\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('tenant', 'delete') &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\"type\": \"tenant\",\n\t\t\t\t\t\t\t\t\t\t\"label\": rec.name,\n\t\t\t\t\t\t\t\t\t\t\"id\": rec._id\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('tenant', 'configure') &&\n\t\t\t\t\t\t\t<GearButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalOauthOptShow({\n\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\"secret\": rec.oauth.secret,\n\t\t\t\t\t\t\t\t\t\t\"type\": rec.oauth.type,\n\t\t\t\t\t\t\t\t\t\t\"disabled\": rec.oauth.disabled,\n\t\t\t\t\t\t\t\t\t\t\"oauthType\": rec.oauth.loginMode\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('tenant', 'edit') &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalUpdateTenantOptShow({\n\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.name,\n\t\t\t\t\t\t\t\t\t\t\"tag\": rec.tag || \"\",\n\t\t\t\t\t\t\t\t\t\t\"description\": rec.description || \"\",\n\t\t\t\t\t\t\t\t\t\t\"profile\": rec.profile || {}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<span className=\"small\">{rec.description}</span>\n\t\t\t\t\t\t\t\t<hr className=\"mt-4\"/>\n\t\t\t\t\t\t\t\t<div className=\"mb-1\">\n\t\t\t\t\t\t\t\t\t<h6 className=\"float-left font-weight-bold\">Available applications</h6>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t{ability.can('tenant_application', 'add') &&\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right mb-1\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tmodalAddApplicationOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t><GoDiffAdded/> {t(\"soajs:buttons.Add\")}</Button>}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{rec.applications && rec.applications.map((appRec, index) => (\n\t\t\t\t\t\t\t\t\t<Accordion className=\"mb-2\" key={index + 1} defaultActiveKey={1}>\n\t\t\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3 small\">{appRec.package}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"small text-muted\">[{appRec.appId}]</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-success small ml-3\">{[appRec.product]}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application', 'delete') &&\n\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"type\": \"application\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\": appRec.package,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application', 'edit') &&\n\t\t\t\t\t\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalUpdateApplicationOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"description\": appRec.description || \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"_TTL\": appRec._TTL ? appRec._TTL / 3600000 : 168,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"package\": appRec.package\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"small\">{appRec.description}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<hr className=\"mt-4\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mb-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"float-left font-weight-bold\">Available internal\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkeys\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_key', 'add') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right mb-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddTenantApplicationKey({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{appRec.keys && appRec.keys.map((keyRec, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion className=\"mb-2\" key={index + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t           defaultActiveKey={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Header className=\"p-1 pl-2 pr-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t             style={{\"backgroundColor\": \"#dee2e6\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                  variant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3 small\"><FaKey\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-2\"/>{keyRec.key}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_key', 'delete') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"type\": \"key\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\": keyRec.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_key', 'configure') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<GearButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalKeyConfigurationOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"configAllEnv\": keyRec.config\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"float-left font-weight-bold\">Available\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texternal keys\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_ekey', 'add') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right mb-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalAddExtKeyOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t><GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Table responsive striped hover size=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       className=\"small\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:buttons.Actions\")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.ExternalKey\")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Environments\")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th className=\"text-right\">{t(\"soajs:fields.ExpDate\")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{keyRec.extKeys && keyRec.extKeys.map((extKeyRec, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_ekey', 'delete') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"type\": \"extKey\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\": extKeyRec.extKey,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"extKey\": extKeyRec.extKey\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_ekey', 'configure') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<GearButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalExtKeyConfigurationOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"extKey\": extKeyRec.extKey,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"expDate\": extKeyRec.expDate || null,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"device\": extKeyRec.device || {},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"geo\": extKeyRec.geo || {},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\": extKeyRec.label,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"extKeyEnv\": extKeyRec.env || \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"wordBreak\": \"break-all\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"maxWidth\": \"400px\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>{extKeyRec.extKey}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{extKeyRec.env}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-right\">{extKeyRec.expDate ? new Date(extKeyRec.expDate).toISOString() : null}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t</Accordion>\n\t\t\t))}\n\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t<AutoPagination\n\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\treLoad(p).catch();\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"clearfix\"></div>\n\t\t</>\n\t);\n}","import {Redirect, Route, Switch} from \"react-router-dom\";\nimport React from \"react\";\n\nimport {AuthenticatedRoute} from \"../../soajs/helpers\";\n\nimport Users from \"./containers/Users/Users\"\nimport Products from \"./containers/Products/Products\"\nimport PackageAcl from \"./containers/Products/PackageAcl\"\nimport MainTenant from \"./containers/tenants/Main/Main\"\nimport SubTenant from \"./containers/tenants/Sub/Sub\"\n\nconst rootPath = \"/multitenancy\";\nconst defaultPath = \"/products\";\n\nexport default function Routes() {\n\treturn (\n\t\t<Switch>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/products/:id/acl/:code\"}>\n\t\t\t\t<PackageAcl/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/products\"}>\n\t\t\t\t<Products/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/tenants/main\"}>\n\t\t\t\t<MainTenant/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/tenants/sub\"}>\n\t\t\t\t<SubTenant/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/users\"}>\n\t\t\t\t<Users/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<Route\n\t\t\t\trender={() => {\n\t\t\t\t\treturn (<Redirect to={rootPath + defaultPath}/>)\n\t\t\t\t}}/>\n\t\t</Switch>\n\t)\n}","import {Nav, Navbar, NavDropdown} from \"react-bootstrap\";\nimport React from \"react\";\nimport {LinkContainer} from \"react-router-bootstrap\";\nimport {useTranslation} from \"react-i18next\";\n\nfunction Navigation() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst rootPath = \"/multitenancy\";\n\treturn (\n\t\t<Navbar collapseOnSelect expand=\"sm\" className=\"pt-0 pb-0\" bg=\"secondary\" variant=\"dark\">\n\t\t\t<span></span>\n\t\t\t<Navbar.Toggle aria-controls=\"settings-navbar-nav\"/>\n\t\t\t<Navbar.Collapse id=\"settings-navbar-nav\" className=\"justify-content-end\">\n\t\t\t\t<Nav activeKey={window.location.pathname}>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/products\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.products\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/tenants/main\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.maintenants\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/tenants/sub\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.subtenants\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/users\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.tenantusers\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t</Nav>\n\t\t\t</Navbar.Collapse>\n\t\t</Navbar>\n\t);\n}\n\nexport default Navigation","import React from \"react\";\nimport {Container} from \"react-bootstrap\";\n\nimport Routes from \"./Routes\";\nimport Navigation from \"./Navigation\";\n\nexport default function Multitenancy() {\n\treturn (\n\t\t<>\n\t\t\t<Navigation/>\n\t\t\t<div className=\"bg-dark pt-1\"></div>\n\t\t\t<div className=\"main-area\">\n\t\t\t\t<Container className=\"mt-3 mb-3\">\n\t\t\t\t\t<Routes/>\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t</>\n\t);\n}","import React from 'react'\nimport {Switch, Route} from \"react-router-dom\";\n\nimport {AuthenticatedRoute, UnauthenticatedRoute} from \"./soajs/helpers\";\nimport {\n\tChangeEmail,\n\tChangePassword,\n\tForgotPassword,\n\tLogin,\n\tMyProfile,\n\tResetPassword,\n\tSignUp,\n\tValidateChangeEmail,\n\tValidateSignup,\n\tThirdPartyLogin\n} from \"./soajs/urac/containers\"\n\nimport Home from \"./components/Home/Home\";\nimport NoAccess from \"./components/NoAccess/NoAccess\";\nimport NotFound from \"./components/NotFound/NotFound\";\n\nimport Reports from \"./components/Reports/Reports\";\nimport Catalogs from \"./components/Catalogs/Catalogs\";\nimport Settings from \"./components/Settings/Settings\";\nimport Development from \"./components/Development/Development\";\nimport Environments from \"./components/Environments/Environments\";\nimport Multitenancy from \"./components/Multitenancy/Multitenancy\";\n\nexport default function Routes() {\n\treturn (\n\t\t<Switch>\n\t\t\t<UnauthenticatedRoute exact path='/'>\n\t\t\t\t<Login/>\n\t\t\t</UnauthenticatedRoute>\n\t\t\t<UnauthenticatedRoute path=\"/sign-in\">\n\t\t\t\t<Login/>\n\t\t\t</UnauthenticatedRoute>\n\t\t\t<UnauthenticatedRoute path=\"/sign-up\">\n\t\t\t\t<SignUp/>\n\t\t\t</UnauthenticatedRoute>\n\t\t\t<UnauthenticatedRoute path=\"/validate-signup\">\n\t\t\t\t<ValidateSignup/>\n\t\t\t</UnauthenticatedRoute>\n\t\t\t<UnauthenticatedRoute path=\"/forgot-password\">\n\t\t\t\t<ForgotPassword/>\n\t\t\t</UnauthenticatedRoute>\n\t\t\t<UnauthenticatedRoute path=\"/reset-password\">\n\t\t\t\t<ResetPassword/>\n\t\t\t</UnauthenticatedRoute>\n\t\t\t<UnauthenticatedRoute path=\"/third-party-login/:strategy\">\n\t\t\t\t<ThirdPartyLogin/>\n\t\t\t</UnauthenticatedRoute>\n\t\t\t\n\t\t\t\n\t\t\t<AuthenticatedRoute path=\"/change-password\">\n\t\t\t\t<ChangePassword/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path=\"/change-email\">\n\t\t\t\t<ChangeEmail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path=\"/validate-change-email\">\n\t\t\t\t<ValidateChangeEmail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path=\"/myProfile\">\n\t\t\t\t<MyProfile/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t\n\t\t\t<AuthenticatedRoute path=\"/home\">\n\t\t\t\t<Home/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path=\"/no-access\">\n\t\t\t\t<NoAccess/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t\n\t\t\t<AuthenticatedRoute path=\"/development\">\n\t\t\t\t<Development/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path=\"/catalogs\">\n\t\t\t\t<Catalogs/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path=\"/environments/manage/:env\">\n\t\t\t\t<Environments/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path=\"/environments\">\n\t\t\t\t<Environments/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path=\"/multitenancy\">\n\t\t\t\t<Multitenancy/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path=\"/reports\">\n\t\t\t\t<Reports/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path=\"/settings\">\n\t\t\t\t<Settings/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t<Route>\n\t\t\t\t<NotFound/>\n\t\t\t</Route>\n\t\t</Switch>\n\t);\n}","import axios from \"axios\";\nimport LocalStorageService from \"../urac/services/LocalStorageService.js\";\nimport Config from \"../../config.js\";\n\nconst localStorageService = LocalStorageService.getService();\n\naxios.interceptors.request.use(\n\tconfig => {\n\t\tlet key = Config.tenant;\n\t\tif (window.apiSettings && window.apiSettings.key) {\n\t\t\tkey = window.apiSettings.key;\n\t\t}\n\t\tlet apiEndpoint = Config.apiEndpoint;\n\t\tif (window.apiSettings && window.apiSettings.api) {\n\t\t\tapiEndpoint = window.apiSettings.api;\n\t\t}\n\t\tconst access_token = localStorageService.getAccessToken();\n\t\tlet url = config.url;\n\t\tif (url.indexOf(\"?\") !== -1) {\n\t\t\turl = url.substr(0, url.indexOf(\"?\"));\n\t\t}\n\t\tif (url.indexOf(\"://\") !== -1) {\n\t\t\turl = url.substr(url.indexOf(\"://\") + 3);\n\t\t\turl = url.substr(url.indexOf(\"/\"));\n\t\t} else {\n\t\t\tconfig.url = apiEndpoint + config.url;\n\t\t}\n\t\tif (url !== '' && (Config.noToken.includes(url) || !access_token)) {\n\t\t\tif (!config.headers['key']) {\n\t\t\t\tconfig.headers['key'] = key;\n\t\t\t}\n\t\t\treturn config;\n\t\t} else {\n\t\t\tif (access_token) {\n\t\t\t\tconfig.headers['access_token'] = access_token;\n\t\t\t}\n\t\t\tif (!config.headers['key']) {\n\t\t\t\tconfig.headers['key'] = key;\n\t\t\t}\n\t\t\treturn config;\n\t\t}\n\t},\n\terror => {\n\t\tPromise.reject(error)\n\t}\n);\n\naxios.interceptors.response.use(\n\tresponse => {\n\t\treturn response\n\t},\n\terror => {\n\t\tif (error && error.response && error.config) {\n\t\t\tlet apiEndpoint = Config.apiEndpoint;\n\t\t\tif (window.apiSettings && window.apiSettings.api) {\n\t\t\t\tapiEndpoint = window.apiSettings.api;\n\t\t\t}\n\t\t\tconst originalRequest = error.config;\n\t\t\tif (error.response.status === 401 && !originalRequest._retry &&\n\t\t\t\terror.response.data && error.response.data.errors && error.response.data.errors.codes && error.response.data.errors.codes[0] === 401 &&\n\t\t\t\tConfig.badTokenMessages.includes(error.response.data.errors.details[0].message)) {\n\t\t\t\toriginalRequest._retry = true;\n\t\t\t\tconst refreshToken = localStorageService.getRefreshToken();\n\t\t\t\treturn axios.post(apiEndpoint + \"/oauth/token\",\n\t\t\t\t\t{\n\t\t\t\t\t\t\"refresh_token\": refreshToken,\n\t\t\t\t\t\t\"grant_type\": \"refresh_token\"\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tif (res && res.data && res.data.access_token) {\n\t\t\t\t\t\t\tlocalStorageService.setToken(res.data);\n\t\t\t\t\t\t\taxios.defaults.headers.common['access_token'] = localStorageService.getAccessToken();\n\t\t\t\t\t\t\treturn axios(originalRequest);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\treturn Promise.reject(error);\n\t}\n);","import React from \"react\";\nimport {Nav, Navbar, NavDropdown} from \"react-bootstrap\";\nimport {LinkContainer} from \"react-router-bootstrap\";\n\nimport {BiUserCircle} from \"react-icons/bi\";\n\nimport {useTranslation} from \"react-i18next\";\n\nimport logo from \"./favicon.png\";\n\nconst userIcon = (<BiUserCircle/>);\n\n// function Language() {\n// \tconst {i18n} = useTranslation(\"common\");\n// \treturn (\n// \t\t<NavDropdown alignRight title={i18n.language} id=\"collasible-nav-dropdown\" className=\"text-dark\">\n// \t\t\t<NavDropdown.Item onClick={() => i18n.changeLanguage('EN')}>EN</NavDropdown.Item>\n// \t\t\t<NavDropdown.Item onClick={() => i18n.changeLanguage('FR')}>FR</NavDropdown.Item>\n// \t\t</NavDropdown>\n// \t)\n// }\n\nfunction Navigation({isAuthenticated, firstName, handleLogout}) {\n\tconst {t} = useTranslation([\"common\",\"soajs\"]);\n\treturn (\n\t\t<Navbar collapseOnSelect expand=\"md\" className=\"pt-0 pb-0\" bg=\"dark\" variant=\"dark\">\n\t\t\t<LinkContainer to=\"/home\">\n\t\t\t\t<Navbar.Brand className=\"font-weight-bold text-muted\">\n\t\t\t\t\t<img src={logo} alt=\"soajs\" width=\"35px\"/> SOAJS\n\t\t\t\t</Navbar.Brand>\n\t\t\t</LinkContainer>\n\t\t\t<Navbar.Toggle aria-controls=\"main-navbar-nav\"/>\n\t\t\t<Navbar.Collapse id=\"main-navbar-nav\" className=\"justify-content-end\">\n\t\t\t\t<Nav activeKey={window.location.pathname}>\n\t\t\t\t\t{isAuthenticated ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{/*<LinkContainer to=\"/development\">*/}\n\t\t\t\t\t\t\t{/*\t<Nav.Link>{t(\"soajs:menu.development\")}</Nav.Link>*/}\n\t\t\t\t\t\t\t{/*</LinkContainer>*/}\n\t\t\t\t\t\t\t<LinkContainer to=\"/catalogs\">\n\t\t\t\t\t\t\t\t<Nav.Link>{t(\"soajs:menu.catalogs\")}</Nav.Link>\n\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t<LinkContainer to=\"/environments\">\n\t\t\t\t\t\t\t\t<Nav.Link>{t(\"soajs:menu.environments\")}</Nav.Link>\n\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t<LinkContainer to=\"/multitenancy\">\n\t\t\t\t\t\t\t\t<Nav.Link>{t(\"soajs:menu.multitenancy\")}</Nav.Link>\n\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t<LinkContainer to=\"/reports\">\n\t\t\t\t\t\t\t\t<Nav.Link>{t(\"soajs:menu.reports\")}</Nav.Link>\n\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t<LinkContainer to=\"/settings\">\n\t\t\t\t\t\t\t\t<Nav.Link>{t(\"soajs:menu.Manage\")}</Nav.Link>\n\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t<NavDropdown alignRight title={userIcon} id=\"collasible-nav2-dropdown\">\n\t\t\t\t\t\t\t\t<span className=\"ml-4 font-weight-bold\">{firstName}</span>\n\t\t\t\t\t\t\t\t<NavDropdown.Divider/>\n\t\t\t\t\t\t\t\t<LinkContainer to=\"/myProfile\">\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item>{t(\"menu.profile\")}</NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer to=\"/change-password\">\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item>{t(\"menu.changePassword\")}</NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer to=\"/change-email\">\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item>{t(\"menu.changeEmail\")}</NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<NavDropdown.Divider/>\n\t\t\t\t\t\t\t\t<NavDropdown.Item onClick={handleLogout}>{t(\"menu.logout\")}</NavDropdown.Item>\n\t\t\t\t\t\t\t</NavDropdown>\n\t\t\t\t\t\t\t{/*<Language/>*/}\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<LinkContainer to=\"/sign-in\">\n\t\t\t\t\t\t\t\t<Nav.Link>{t(\"menu.login\")}</Nav.Link>\n\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t{/*<Language/>*/}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</Nav>\n\t\t\t</Navbar.Collapse>\n\t\t</Navbar>\n\t);\n}\n\nexport default Navigation","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAACnCAYAAACB6MdcAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3QTJGMzRGOTAxMjUxMUU1OTlDNjk3RTlDRjc0MUExMiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3QTJGMzRGQTAxMjUxMUU1OTlDNjk3RTlDRjc0MUExMiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjdBMkYzNEY3MDEyNTExRTU5OUM2OTdFOUNGNzQxQTEyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjdBMkYzNEY4MDEyNTExRTU5OUM2OTdFOUNGNzQxQTEyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+zk00bgAAEL1JREFUeNrsnXuMXFUdx8+dnX10d9ltu93utl1L5VGlFKggEBCaGmlCkYcIKEiNEBIh4h8qiImiRhD+QIzGWBUjARUBRUSgPLQkNi2BQLHljRRa29LHlu223Xbf3e54v6d7x9l7z71zZ+aeO+fOfL/JJu3s7MydM5/7Pb9zzu/8jpXJZARVkKJqMItNGV5pNoFWGIt9D0JMUMsGZinXYxFUgpnE67UIKuFM2mexCCrhJLQElYBq/NwWQSWcBJagElACW3mgEtAqAjZFSKsO2ES2XZqA0mEJKgElsFXU9RNStrHRjkpA6a7GOyohZdsb7agElO5qvKMSUrqr8aASUsJqNKgZQkpYTQeVgCYP1ky1gUpI6a7Gg0pICavxoBJSwmo8qISUsBoPKiElrMaDSkgJq/GgElLCajyohJQyHlRCSldN7KifIqxGgUo3pTKmg0pIKS0spAgpVc2DKYqK1LxSpl0QRVh1gUpIKe2MpAgpxRiVoiIytVS53pgirHRUquKUjvvOoIrX8K5/i8ODPcrf1TS2i4ZZpyXFVa04QCWkMenAa/eL/ncfF2MHd4jxQ4PhusjaRlE34wTROO/TouWUayqmLawijpgkqJpdc+/aH4vRve9F8np1048XraddL5qOPd849nSCSkg1aWDTs6LXBnR8eL+W1081TBVt595qErAENWna+ZdLI3PQMMDOvuJRkW7qSBSshYBKSDW4aM+qm4MHEUfNOQJYXZOoaeoU6eYOkW49WtRNO2YiVFgvxkf6xKF9/xXjowfsnwH5OOLaIDV//FIxY8ntBJUK1ofPfF0Mbl0dCGi6eZaYMm+JaC1wUNRnD8KGtqwWY/27AoHF63ctX5UIWMOCSkhj6uoBaO20Y223u03UNM4o6X0OD+4Re1b/wHbbTb7AYpZg9pVPljMUIKhJghSA1tjx48xlK0oGVAUsQowgh+285PflnIe1CKpB6n78K3L6SQVp03HLxLQzv6H1/fv/85jYv/4eMXZgu4KElJh3/euJBpWQRqB9L/1M9G241wtpS5doO+e7YsrcxbFcB9x191NflYMut7siDJh73ctGwsq1/hg0NrDbF9L2pT+NDVIIYcXsK/4mZxGcGQVHWP1CaGKi8oFKN40iLn3kMmV3D0jr208syzX5wYr4GUu3SQOViqDLd682AY6jFl5VNkjdsLq198W7y3E5GYJaRvW9ep8HUsxfthqSMNK25HYZgqgGfklxVHb7EbipyIy7hgyW6LzEnK4Vro71f3cIgNkJxNamuCodNWY3ndJ1lnHXiWkxzOG69eFTNzBGrXTJ+VKFm7Yt/qGR1zv19BuVAyvTQWW3X6L2v/wLz2Mmumn22uYuVrqqDF/oqBXsqN0bPN3+1E/eaPQ117UvMOEyMgQ1JslBiKvbl2l6Ea/hR37d/d7BE7a1mOqo7PZL1IjLTSFkRJmuQ/s3ex4zZUcAHVWDBjauVMSnZxt9zfte+rltUZM9CvO9pnT/BFWDxkcPeuLT2rb5Zt9cm571JKk0HX+BMdeXJlalf8Fw0NHed8X42JDv5rxyL5cGadejX/S4KdL+pp35TYKaZGHKZuC9p2UictK1++mvicP2zeV209ZF1xp1nWkOpMKP5Pc8d4sy8TlJQj5q/3srxVjfVjGy+zVlXqpJo/2swbsSpwmqQn6Z+aHdwI5Ru67+R1nh3P/KCjG8Y53IjB/Ku0PVPaBCrFqmMMAiqCG7eFXCsx+MUO7qTu4EejmWTsNs7guPTEqGAzEDS1DzafsDSwNjUAmmZYl0U6fc0tww+3SjBky9a34khj54oXRAXcJ2lZkX/DqujYAE1U/o4oNyMQEoVpma5l9sTE6p20X99kSpegBlPB4C7pgKWBDUQrt6Zzszsozi3ONUiEZ63hI9q25S7zKd+AxWqtYOSU4QzfMvUn4OvMbwznXZAhZB4KIA2+wvPBY7qITUD9KWLrmUqHs7sy5IS7nJsGKFuWLMsypnB/TCSlDDQKqzKETkMfWD53sgdRx0+qduKbkX6Hnu22Jk9+tKWBGvooAFQS1DTOqU1um44FfGfwasLLkn7Z29WVFuexnatkb0Pn+n0rWnn3WzrsLBFkG1teU3C5WQYpdoawIqNsuu+f1nPJDqusmCQox5N7xJUHVo2/3n+G5lbk1IWXF3l1+Ik2KGYHTP25MeCxMiSFj/+S1PGNB49BI7TPqlFlCrdq1/z+rvKyGFEyUFUsyVupNJEJPmgxRlKQc2PuGZwjoyN3ynqJ16TGA1Qblz9bhlHicPKqNZqqo2zQ8Fw1QDpyTEpNn4esc6D2jNCy7PG88efPMhMdq70eOI+D/cGbHorr8vl0D7CTMgquIVMACCGpGUE/qWJWZd9ufYrwXdKMDI/Ql7o2Hd3u2mQb3Bzkc+r8yUUgnAAuggWFtO+rJn4WBwk56chqrr+pEF5U4wkXHpiVeW5Xr2rrlNwpp7LV1X548Th7a/UJCbdj9+Td7VKk9b2c8FrH7Lw1idck/rhT1mKNGgojjX4JZ/idF9m/xPB7FSIlXfIho6FomWRdcWvOaMVD230OW3JuxMprG+bZ7H/D4DbgR3EV8nV6F+5klym8yhvq1iePuLHsfFv3Ez+fU2WOU61Ldl0mNYIIh6r1XZQS34XKXMuIQYgbsM3m1wG+2RatjRpspNsWKjS7kj67oZCzwDFCs9Rfk3+RYYDrtuZHT7ftq/boW3FqodX6JI2iTZcSe6erho7vPxXn7XBMgxqJoE6saVlQMqumCUYyz5XCUbXACL+dB8KySqYgpwU51r98gDPfj2I/93sYn3bOg6y47xlovaaR+1b55XJjnY0La1slstaLChGNhkQRvo9tycHZ/9rfK5cOXhHS97XBXJ1irHrmlsk68XdZaWEYMpnAiy/Y+fifzwL7glgPWr74ntI+4vrPG4ZfHdnBhV2z/oivs2/E588IclWYjd8WfBjtM61/d3zpE+uVAHOXbLwisVocZW5XPjStCJ3VG33XtGYMDtuA66MjQouka4zmjPke7z8Eifb4JEdoDy4t3yDFF3soQnv9SO0UyMTUd73in4b9wwlhau9BrXJrGBGibPM+y5SoiXDrzxgBjc/Jzv1grEvFh5mnvN89kA3y1MbJsofCZMUxXiVuND/nAh1MhtI0Ad9PoH33rY893UzzxZPfsQcjotEaAGQVrMuUp4Hiac8YOGwmBBNT+I0AIOjgMUVEUhGuacof2z45RnRzhdbwzxYp4eAb/DZwoE1bJCOyrCgtwpMLw+kkval7Z5pp2cXamqqSil++/brD0+jQ3U7ieuVQIaRQoa/hY/Tt6kO1nCOUBhfLTf8/7Nx1+o/bM71+eeLgKIsoSOD7SAJcj1aupbxZjYPsmF/Ubm08/+jidFD+2E9Xr0Ygit0D4IOVQ9VFA5Igy83GqaH327ah9Moft1FwxzlivnXLUysmAc7orDG5DkrKrzqdr/VK4cU7gYlmq7vvSshEC1LQSwyDI7PnJX3sPzEQ759UBTPnK2533wN5hxwIAOU0yYD3VDivZEb+enuOpVaQU1KPFDx3IlAMCXHzRVkxu3mSAA23bu95Q3GLpzdMUqNZ9wuXf50o7Z/YRdsH43hW93O3EGlt8NLZdX9darsrSDinlSVeIHINKd+OF3gIKpQq/i3GC5IMHdsNVZtd6Om9I9yY9uO8iF0e71HSfnhVWaSeu8vGdg9b/919jqVaVU9EYhZf13ewDgWQ3R1LXCCYK+kKB5x3IJbeOGT66326Pw3MFQ1lUXXO4BG3E6YlU/tZ/3EzHr0j9JAHNdXM662D91bfNlPi7CsqDt39ia4k6KORKC6dn3r2UwBTd1L4nKpcpTr4/Vpeo7nsx+gZ47tK7ZSHfF4LJ37R3egc+qm2TiTO7UHf4NV5vU9vZzsV06yBDQlTu9Wu4Sb9jxAhxetX+q0NW0sseoe9fcrowJdX4QP/dwT+MkIQxAUrJn4DORdieTpXPU+onrlLEtUvrCTvWpZiaCIHXnAkiQahu17vPXAuqgaxJYd+JH4Bdv8AEPQTMYqsGezAP44AWZ/OyEArj53QMYPM+BNSgMKFSIf1WQQqieolORg6qqX4+4q1xFG3DAQyEjXVOkOk7HgdDZsyQn520QVVtP8Dxk8efL1A8jvAduDvfWk1xX113iJ/IY9eCbD3oeQ85iuYSuLcx0lYkhgJW6y98QJhJckNgSaBwTIQNiWQy+CsltyC5MBBRZA6SaBlBWEKj4ZUm7UUe6X/V0+ygfU07Vd5wi3SVpaphzuicpuahebgIyAIsZBBR2q+9cZLvgqdmbwhlUISEF2VuAM9+OAI2Q6ndUZOer3KGsoM48WZlOZ7qQJxBlRT7ndeCyWJHq2+Bkq93hOzviOzuhr+BEfNNTpimu5F4d3b8DUU7AL7fiRJXLW2ibYODWtXxV7G0R/aj/8OhkSAxYqjS1+l6oQM21AJBKN8jURexkQIGy2ECxv8f2pXeXBdKqcdQkyz0QdJLOMcp2EsOxowGJ4jLsch8UXMp71zbKWv4zzrvLjms7Yr0/w4Ba2oCqpk6InAx+mZFPaRVixdx4US6j9neL4Z2vFPV6SNMz5cS++Bw1w2rrpciz38l2ubygTUDWkrAt4LHGqOnGds9jqoQKKuR97k78QI9V2bIKAbXoBfK6mQs9o8rBzatIXBFS7UdSGUFVxOpRv2Dzxz7neQwVOKjCNbxrvWf6yG0EBLVIqdZ8nUobVOmOqjKCage1+O7fNb8HV8DBXFRhkHp2llqpuM53Mio+1eKo0PRzb/U8hrVjDqrCS1UvqjHBCxfGdf1O959yrUjJveSairxWmrDXTLW3fvriim4/qxRQi+7+2xSuiq4Me20of8kDdtff4x1E2eFUzKtDle+oECadVbEq9tqUmshbycJ+J9WJI5pPyKsIUIt2Vdm4VsoDK/Iig7b1VquwdURVmifuvWamdftaHdVR58X3eR6T23rff0aW66aOrNzteOhCZaIy0upiOBy3erv+3IEVMsFVsKLMDs5JquZQADE79j+pyulgXb9caXUmuam8YQt4saKzS5ztCu6DCXK3SGBPT+Mx58kqzKafOxqFgyI1b+TDN3yLpAFSVCGkJgDMhM9uKjkNCl8OiuwG3jkTZX9QJwlFIrCNBBn6pcpd1AHJ1KrKyjokSzP2bbV7kN3ykAi/mq65wlaPmubOvK9d09ie5EUASweokcAqa/c/fJG2Y16qLnZrmJotVlzJoMZewx9zgejSqmAkS0UEaTGgRlYfByNZnEaMg17dU1gUVexgSpuc86Gyh6HteYdhAd205Bg1slg1n1SHQ1AVM5iKDdRYYKXopmUbTFFU3KBabD4qLmboqJTxkEYBKl2VMr7rJ6xUbIykTLkQipAyRqUSDWnUoNJVKaNj1Emwus+XoqpPQ9vWRm5cpaxMBYmrVuzyjXZUitISAqaSdLFUdUKq21EJK5WYrp+w0k0TE6MSVkKamMEUYSWkiRn1E1ZCmghQCSshTQyohJWQJgZUwkpIEwMqYU0moGX7zlLV/OGp5JhKig1BJeG7SbFBqCR8J2lDG4ZpggTUWEelu7LtE+OodFcCmihHpbuyjRPjqHRXApo4UAlslfdSKTZ01QGayLZLJ7zR6a5VcmOnK+hLILAV3POkK/RLyRDQylK6wr+oDAElqHRZwklQCS3hrFZQg77oDMEkqASXYBLUMoCSIYwElfEhpdT/BBgAuAPVwuJ0PIEAAAAASUVORK5CYII=\"","import React, {Suspense, useEffect, useState} from \"react\";\nimport {useHistory} from \"react-router-dom\";\nimport {Ability} from '@casl/ability';\n\nimport {AiOutlineCopyrightCircle} from \"react-icons/ai\";\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport Routes from \"./Routes.js\";\nimport './App.css';\n\nimport {NotificationContainer, NotificationManager} from './soajs/urac/components';\nimport {AppContext} from \"./soajs/libs/contextLib\";\n\nimport './soajs/libs/Interceptors.js';\nimport './soajs/urac/components/Notifications/notifications.css';\nimport './soajs/urac/urac.css';\n\nimport {LocalStorageService, OauthService, UracService, AbilitiesService} from \"./soajs/urac/services\";\n\nimport Navigation from \"./Navigation.js\"\n\nconst localStorageService = LocalStorageService.getService();\nconst oauthService = OauthService.getService();\nconst uracService = UracService.getService();\nconst abilitiesService = AbilitiesService.getService();\nconst ability = new Ability();\n\nconst Loader = () => (\n\t<div className=\"App\">\n\t\t<div>loading...</div>\n\t</div>\n);\n\nfunction App() {\n\tconst history = useHistory();\n\t\n\tconst [isAuthenticating, setIsAuthenticating] = useState(true);\n\tconst [isAuthenticated, userHasAuthenticated] = useState(false);\n\tconst [firstName, setFirstName] = useState();\n\t\n\tuseEffect(() => {\n\t\tasync function onLoad() {\n\t\t\tconst access_token = localStorageService.getAccessToken();\n\t\t\tif (access_token) {\n\t\t\t\ttry {\n\t\t\t\t\tawait uracService.getUser();\n\t\t\t\t\tawait abilitiesService.createUserAbilities(ability);\n\t\t\t\t\tsetFirstName(localStorageService.getFirstname());\n\t\t\t\t\tsetIsAuthenticating(false);\n\t\t\t\t\tuserHasAuthenticated(true);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tsetIsAuthenticating(false);\n\t\t\t\t\tNotificationManager.info(e.message);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetIsAuthenticating(false);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t}, []);\n\t\n\tasync function handleLogout() {\n\t\tuserHasAuthenticated(false);\n\t\ttry {\n\t\t\tawait oauthService.logout();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t\tlocalStorageService.clearToken();\n\t\tlocalStorageService.clearUser();\n\t\thistory.push(\"/sign-in\");\n\t}\n\t\n\treturn (\n\t\t!isAuthenticating && (\n\t\t\t<Suspense fallback={<Loader/>}>\n\t\t\t\t<div className=\"pt-1\" style={{\"backgroundColor\": \"#DE962E\"}}></div>\n\t\t\t\t<div className=\"App\">\n\t\t\t\t\t<Navigation\n\t\t\t\t\t\tisAuthenticated={isAuthenticated}\n\t\t\t\t\t\tfirstName={firstName}\n\t\t\t\t\t\thandleLogout={handleLogout}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"bg-secondary pt-1\"></div>\n\t\t\t\t\t<AppContext.Provider value={{isAuthenticated, userHasAuthenticated, setFirstName, ability}}>\n\t\t\t\t\t\t<NotificationContainer/>\n\t\t\t\t\t\t<Routes/>\n\t\t\t\t\t</AppContext.Provider>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"bg-secondary p-1\">\n\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<div className=\"bg-dark p-2 text-white text-center\">\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<a className=\"text-white\" href=\"https://www.soajs.org/\">\n\t\t\t\t\t\t\t<AiOutlineCopyrightCircle/> copyright SOAJS</a> an <a className=\"text-white\" href=\"https://lfaidata.foundation/projects/\">LFAI project</a>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t</Suspense>\n\t\t)\n\t)\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from \"react-router-dom\";\n\nimport './i18n.js';\n\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n\t\t<BrowserRouter>\n\t\t\t<App/>\n\t\t</BrowserRouter>,\n\tdocument.getElementById('root')\n);\nreportWebVitals();\n"],"sourceRoot":""}