(this["webpackJsonpconsole.ui"]=this["webpackJsonpconsole.ui"]||[]).push([[0],{113:function(e){e.exports=JSON.parse('{"type":[{"v":"cluster","l":"Cluster"},{"v":"cdn","l":"CDN"},{"v":"system","l":"System"},{"v":"authorization","l":"Authorization"},{"v":"other","l":"Other"}],"category":{"cluster":[{"v":"mongodb srv","l":"Local/External MongoDB+srv","schema":{"servers":[{"host":""}],"credentials":{"username":"","password":""},"protocol":"mongodb+srv://","URLParam":{"retryWrites":true,"writeConcern":{"w":"majority"},"useUnifiedTopology":true}}},{"v":"mongodb","l":"Local/External MongoDB","schema":{"servers":[{"host":"","port":27017},{"host":"","port":27017},{"host":"","port":27017}],"credentials":{"username":"","password":""},"URLParam":{"readPreference":"secondaryPreferred","replicaSet":"console-shard-0","w":"majority","ha":true,"ssl":true,"authSource":"admin","useUnifiedTopology":true},"extraParam":{},"streaming":{}}},{"v":"elasticsearch","l":"Local/External ElasticSearch","schema":{"servers":[{"host":"","port":9200}],"credentials":{"username":"","password":""},"URLParam":{},"extraParam":{}}},{"v":"objectrocket_mongo","l":"Object Rocket - Mongo SAAS","schema":{"servers":[{"host":"","port":27017},{"host":"","port":27017},{"host":"","port":27017}],"credentials":{"username":"","password":""},"URLParam":{"readPreference":"secondaryPreferred","replicaSet":"console-shard-0","w":"majority","ha":true,"ssl":true,"authSource":"admin","useUnifiedTopology":true},"extraParam":{},"streaming":{}}},{"v":"objectrocket_elasticsearch","l":"Object Rocket - ElasticSearch SAAS","schema":{"servers":[{"host":"","port":9200}],"credentials":{"username":"","password":""},"URLParam":{},"extraParam":{}}},{"v":"mysql","l":"MySQL","schema":{"servers":[{"host":"","port":3306}],"credentials":{"username":"","password":""},"properties":{}}},{"v":"sql","l":"SQL","schema":{"servers":[{"host":"","port":1434}],"credentials":{"username":"","password":""},"properties":{}}},{"v":"oracle","l":"Oracle","schema":{"servers":[{"host":"","port":1521}],"credentials":{"username":"","password":""},"properties":{}}},{"v":"other","l":"Other"}],"cdn":[{"v":"amazons3","l":"Amazon S3","schema":{"host":"http://files.parse.com/...","bucket":"my.unique.bucket.name","key":"My Key...","expires":"60","acl":"public-read"}},{"v":"rackspace","l":"Rackspace","schema":{"servers":{"host":"127.0.0.1","port":4000},"credentials":{"username":"Username ...","apiKey":"My API Key..."},"servicenet":true}},{"v":"other","l":"Other"}],"system":[{"v":"other","l":"Other"}],"authorization":[{"v":"basicauth","l":"Basic Auth","schema":{"username":"","password":""}},{"v":"soapbasicauth","l":"SOAP Basic Auth","schema":{"SOAPApi":"","username":"","password":""}},{"v":"digestauth","l":"Digest Auth","schema":{"username":"","password":"","realm":"","nonce":"","algorithm":"","qop":"","noncecount":"","clientnonce":"","opaque":""}},{"v":"oauth1","l":"Oauth 1","schema":{"consumerKey":"","consumerSecret":"","token":"","tokenSecret":"","signatureMethod":"","timestamp":"","nonce":"","version":"","realm":""}},{"v":"oauth2","l":"Oauth 2","schema":{"callbackUrl":"","tokenName":"","authUrl":"","accessTokenUrl":"","clientId":"","clientSecret":"","scope":"","grantType":""}},{"v":"hawkauth","l":"Hawk Auth","schema":{"hawkAuthId":"","hawkAuthKey":"","algorithm":"","user":"","nonce":"","extraData":"","appId":"","delegation":"","timestamp":""}},{"v":"awssignature","l":"AWS Signature","schema":{"username":"","password":""}},{"v":"custom","l":"Custom"}],"other":[{"v":"custom","l":"Custom"}]}}')},182:function(e){e.exports=JSON.parse('{"name":"","type":"","description":"","subtype":"","recipe":{"deployOptions":{"image":{"name":"","tag":"","prefix":"","repositoryType":"public","pullPolicy":"IfNotPresent","shell":"/bin/bash","override":true,"binary":false},"readinessProbe":null,"liveinessProbe":null,"ports":[],"voluming":[],"labels":{},"execCommands":{},"securityContext":{"pod":{},"container":{}}},"buildOptions":{"cmd":{"deploy":{"command":[],"args":[]}},"env":{},"settings":{}}},"envs":[]}')},191:function(e){e.exports=JSON.parse('{"readinessProbe":{"httpGet":{"path":"/heartbeat","port":"maintenance"},"initialDelaySeconds":1,"timeoutSeconds":2,"periodSeconds":2,"successThreshold":3,"failureThreshold":0},"livenessProbe":{"httpGet":{"path":"/functional","port":"maintenance"},"initialDelaySeconds":10,"timeoutSeconds":15,"periodSeconds":20,"successThreshold":10,"failureThreshold":2},"volumes":[{"volume":{"name":"XXX","secret":{"secretName":"SECRET_NAME"}},"volumeMount":{"name":"XXX","mountPath":"/"}},{"volume":{"name":"YYYY","hostPath":{"path":"/"}},"volumeMount":{"name":"YYYY","mountPath":"/"}}]}')},192:function(e){e.exports=JSON.parse('{"console":"General Console Abilities","marketplace":"Marketplace Abilities","repositories":"Git Account & Repositories Abilities","multitenant":"Multi Tenant Abilities","urac":"User Registration Abilities","oauth":"Authentication Abilities","infra":"Infrastructure Abilities","soaanalytics":"Analytics Abilities","soamonitor":"Monitoring Abilities"}')},286:function(e){e.exports=JSON.parse('{"name":"","type":"static","value":"","secret":"","key":"","default":"","label":"","fieldMsg":""}')},491:function(e){e.exports=JSON.parse('{"menu":{"locations":"Projects","organizations":"Organizations","companies":"Companies","locationSettings":"Project Settings","companySettings":"Company Settings","profile":"Mon profil","changePassword":"Changer le mot de passe","changeEmail":"Changer l\'e-mail","logout":"Se d\xe9connecter","login":"Se connecter","signUp":"S\'abonner"},"home":{"welcome":"Bienvenue sur la page d\'accueil"},"users":{"title":"List of Users"},"groups":{"title":"List of Groups"},"companies":{"title":"List of Companies"},"locations":{"title":"List of Projects","manage":"Manage Projects","add":"Add a project"},"settings":{"selectCompany":"Select a company","selectLocation":"Select a project"}}')},492:function(e){e.exports=JSON.parse('{"menu":{"signUp":"Sign Up","login":"Sign In","locations":"My Locations","companies":"My Companies","locationSettings":"Location Settings","companySettings":"Company Settings","profile":"My Profile","changePassword":"Change Password","changeEmail":"Change Email","logout":"Logout"},"NoAccess":"You do not have access...","welcome":"Multitenant microservice architecture made easy with SOAJS","NotFound":"404 - not found!","ClickHere":"Click Here"}')},493:function(e){e.exports=JSON.parse('{"Email or Username":"Email or Username","Username":"Username","First Name":"First Name","Last Name":"Last Name","Email":"Email","Password":"Password","Confirm Password":"Confirm Password","New Password":"New Password","Existing Password":"Existing Password","Forgot Password":"Forgot Password","Login":"Login","New Email":"New Email","Confirm New Email":"Confirm New Email","msg":{"signup":"You will receive a validation email with a link to click on it and confirm your sign up.","signupSuccess":"Please check your email and click on the link to validate the email.","changeEmail":"You will receive a validation email with a link to help you validate your new email otherwise the email will remain the same.","changeEmailSuccess":"Please check your email and click on the link to validate the new email.","changePasswordSuccess":"Password has been changed.","forgotPassword":"Enter your email or username to receive a reset password link by email.","forgotPasswordSuccess":"An email was sent to you to help you reset your password.","resetPasswordSuccess":"Done! You should login with the new password.","resetPasswordError":"Unable to continue with reset password, no token has been provided! You can request a reset password","thirdPartyLoginConfirm":": Login was successful, you will be redirected to member home page.","thirdPartyLoginError":": Unable to log you in, try again later!","thirdPartyLoginProcess":"We are in the process of validating your login with ...","validateChangeEmailProcess":"We are in the process of validating your new email token ...","validateChangeEmailError":"Unable to validate change email, no token has been provided!","validateChangeEmailError2":"Unable to proceed, no token has been provided!","validateChangeEmailSuccess":"Your new email has been validated.","validateSignupWarning":"Unable to validate your account, no token has been provided!","validateSignupSuccess":"Please check your email and click on the link to validate your account.","validateSignupSuccess2":"You will receive a validation email with a new token link to help you validate your account.","validateSignupProcess":"We are in the process of validating your account ...","validateSignupConfirm":"Your account has been validated, you should be able to login now."},"button":{"Login":"Login","Request":"Request","Change":"Change","Signup":"Signup"}}')},494:function(e){e.exports=JSON.parse('{"Email or Username":"Email or Username","Username":"Username","First Name":"First Name","Last Name":"Last Name","Email":"Email","Password":"Password","Confirm Password":"Confirm Password","New Password":"New Password","Existing Password":"Existing Password","Forgot Password":"Forgot Password","Login":"Login","New Email":"New Email","Confirm New Email":"Confirm New Email","msg":{"signup":"You will receive a validation email with a link to click on it and confirm your sign up.","signupSuccess":"Please check your email and click on the link to validate the email.","changeEmail":"You will receive a validation email with a link to help you validate your new email otherwise the email will remain the same.","changeEmailSuccess":"Please check your email and click on the link to validate the new email.","changePasswordSuccess":"Password has been changed.","forgotPassword":"Enter your email or username to receive a reset password link by email.","forgotPasswordSuccess":"An email was sent to you to help you reset your password.","resetPasswordSuccess":"Done! You should login with the new password.","resetPasswordError":"Unable to continue with reset password, no token has been provided! You can request a reset password","thirdPartyLoginConfirm":": Login was successful, you will be redirected to member home page.","thirdPartyLoginError":": Unable to log you in, try again later!","thirdPartyLoginProcess":"We are in the process of validating your login with ...","validateChangeEmailProcess":"We are in the process of validating your new email token ...","validateChangeEmailError":"Unable to validate change email, no token has been provided!","validateChangeEmailError2":"Unable to proceed, no token has been provided!","validateChangeEmailSuccess":"Your new email has been validated.","validateSignupWarning":"Unable to validate your account, no token has been provided!","validateSignupSuccess":"Please check your email and click on the link to validate your account.","validateSignupSuccess2":"You will receive a validation email with a new token link to help you validate your account.","validateSignupProcess":"We are in the process of validating your account ...","validateSignupConfirm":"Votre compte a \xe9t\xe9 valid\xe9, vous devriez pouvoir vous <1>connecter</1> maintenant."},"button":{"Login":"Login","Request":"Request","Change":"Change","Signup":"Signup"}}')},495:function(e){e.exports=JSON.parse('{"button":{"Add":"Add","Save":"Save","Actions":"Actions","Cancel":"Cancel","Update":"Update","Delete":"Delete","Invite":"Invite","UnInvite":"Un-Invite","Go Back":"Go Back","AddInvite":"Add & Invite"},"ID":"ID","companies":{"title":"List of Companies","add":"Add a company","edit":"Edit a company","msg":"You do not have or belong to any company.","updateMsg":"Company has been updated successfully.","addMsg":"Company has been added successfully.","name":"Name","description":"Description"},"address":{"title":"Address Information","address1":"Address 1","address2":"Address 2","city":"City","zip":"Zip","state":"State","country":"Country"},"contact":{"title":"Contact Information","primary":"Primary contact","secondary":"Secondary contact","Title":"Title","firstName":"First Name","lastName":"Last Name","phone":"Phone","email":"Email"},"locations":{"title":"List of Locations","manage":"Manage location","add":"Add a location","edit":"Edit a location","msg":"You do not belong to any location to manage.","name":"Name","description":"Description","updateMsg":"Location has been updated successfully.","addMsg":"Location has been added successfully."},"users":{"title":"List of Users","tab":"users","msgUpdate":"User has been updated.","edit":"Edit user","Username":"Username","Email":"Email","LastLogin":"Last Login","firstName":"First Name","lastName":"Last Name","Status":"Status","Groups":"Groups","msgInvite":"User has been invited.","msgUnInvite":"User has been un-invited.","invite":"Invite User","useroremail":"Username or Email","UnInvite":"Un-Invite","msgUnInviteConfirm":"Are you sure you want to un-invite!","msgAddinvite":"The user does not exit, kindly fill the information below to invite or click on Go Back to invite someone else."},"groups":{"title":"List of Groups","tab":"Groups","add":"Add a group","msgAdd":"Group has been added.","code":"Code","name":"Name","description":"Description","msgUpdate":"Group has been updated.","edit":"Edit group","msgDelete":"Group has been deleted.","msgDeleteConfirm":"Are you sure you want to delete!"},"packages":{"tab":"Packages"},"settings":{"selectCompany":"Select a company","selectLocation":"Select a project"}}')},496:function(e){e.exports=JSON.parse('{"button":{"Add":"Add","Save":"Save","Actions":"Actions","Cancel":"Cancel","Update":"Update","Delete":"Delete","Invite":"Invite","UnInvite":"Un-Invite","Go Back":"Go Back","AddInvite":"Add & Invite"},"ID":"ID","companies":{"title":"List of Companies","add":"Add a company","edit":"Edit a company","msg":"You do not have or belong to any company.","updateMsg":"Company has been updated successfully.","addMsg":"Company has been added successfully.","name":"Name","description":"Description"},"address":{"title":"Address Information","address1":"Address 1","address2":"Address 2","city":"City","zip":"Zip","state":"State","country":"Country"},"contact":{"title":"Contact Information","primary":"Primary contact","secondary":"Secondary contact","Title":"Title","firstName":"First Name","lastName":"Last Name","phone":"Phone","email":"Email"},"locations":{"title":"List of Locations","manage":"Manage location","add":"Add a location","edit":"Edit a location","msg":"You do not belong to any location to manage.","name":"Name","description":"Description","updateMsg":"Location has been updated successfully.","addMsg":"Location has been added successfully."},"users":{"title":"List of Users","tab":"users","msgUpdate":"User has been updated.","edit":"Edit user","Username":"Username","Email":"Email","firstName":"First Name","lastName":"Last Name","Status":"Status","Groups":"Groups","msgInvite":"User has been invited.","msgUnInvite":"User has been un-invited.","invite":"Invite User","useroremail":"Username or Email","UnInvite":"Un-Invite","msgUnInviteConfirm":"Are you sure you want to un-invite!","msgAddinvite":"The user does not exit, kindly fill the information below to invite or click on Go Back to invite someone else."},"groups":{"title":"List of Groups","tab":"Groups","add":"Add a group","msgAdd":"Group has been added.","code":"Code","name":"Name","description":"Description","msgUpdate":"Group has been updated.","edit":"Edit group","msgDelete":"Group has been deleted.","msgDeleteConfirm":"Are you sure you want to delete!"},"packages":{"tab":"Packages"},"settings":{"selectCompany":"Select a company","selectLocation":"Select a project"}}')},497:function(e){e.exports=JSON.parse('{"menu":{"authentication":"Authentication","AccessRights":"Access Rights","workloads":"Workloads","nodes":"Nodes","services":"Services","storage":"Storage","configuration":"Configuration","RBAC":"RBAC","Deployment":"Deployment","products":"Products","tenantusers":"Tenant Users","maintenants":"Main Tenants","subtenants":"Sub Tenants","environments":"Environments","packages":"Packages","multitenancy":"Multitenancy","users":"Users","groups":"Groups","integration":"Integration","development":"Development","catalogs":"Marketplace","reports":"Reports","Manage":"Manage","settings":"Settings","registry":"Registry","cluster":"Cluster","Application":"Application","Event":"Event","Topic":"Topic","API":"API","Daemon":"Daemon","Frontend":"Frontend","Custom":"Custom","Resource":"Resource","Config":"Config","Recipe":"Recipe","SOAJS":"SOAJS","GitRepositories":"Git Repositories","GitAccounts":"Git Accounts","APIMetrics":"API Metrics","APICatalog":"API Catalog","APIACL":"API ACL","APIMonitor":"API Monitor","APIAnalytics":"API Analytics","Notifications":"Notifications","ReleaseUpdate":"Release Update","Infrastructure":"Infrastructure","ContinuousDelivery":"Continuous Delivery","Tokens":"Tokens","Configuration":"Configuration"},"buttons":{"Uninvite":"unInvite","Invite":"Invite","Fetch":"Fetch","Filter":"Filter","AddWizard":"Add Wizard","Change":"Change","Select":"Select","reDeploy":"reDeploy","Deploy":"Deploy","Add":"Add","Upgrade":"Upgrade","Update":"Update","Delete":"Delete","Cancel":"Cancel","Sync":"Synchronize","Configure":"Configure","TurnOn":"Turn On","TurnOff":"Turn Off","Search":"Search","Save":"Save","Ok":"Ok","Close":"Close","Details":"Details","Actions":"Actions","View":"View","Edit":"Edit","Acl":"ACL","Execute":"Execute","Refresh":"Refresh","Redeploy":"Redeploy"},"titles":{"storage":"Storage","tenantIntegrationAdd":"Add Integration Tenant","Applications":"Applications","Users":"Users","consoleConfiguration":"Console Configuration","resourceDelete":"Delete","resourceAdd":"Add a resource item","resourceEdit":"Update","tokenAdd":"Add CD token","CDToken":"Available Continuous Delivery Tokens","secrets":"Secrets","nodes":"Nodes","services":"Services","workloads":"Workloads","env_cat_recipe":"Recipe Catalog","env_cat_config":"Config Catalog","env_cat_daemon":"Daemon Catalog","env_cat_service":"API Catalog","env_cat_static":"Frontend Catalog","env_cat_custom":"Custom Catalog","env_cat_resource":"Resource Catalog","tenantApplicationAdd":"Add Application to a Tenant","tenantApplicationExtKey":"External Key Configuration","tenantExtKeyAdd":"Add an External Key","tenantApplicationKey":"Tenant Key Configuration","tenantApplicationUpdate":"Update Tenant Application","tenantOauth":"Update Tenant oAuth","tenantUpdate":"Update Tenant","tenantAdd_product":"Add Main Tenant","tenantAdd_client":"Add Sub Tenant","selectEnvironment":"Select an environment","packageUpdate":"Update package information","productAdd":"Add a product","productUpdate":"Update product information","throttlingStrategy":"Select a throttling strategy","addThrottling":"Add a throttling strategy","infrastructure":"List of Clusters","users":"List of Users","groups":"List of Groups","packages":"List of Packages","packageInfo":"Package Information","userInfo":"User Information","groupInfo":"Group Information","environment":"Environment","allowedRecipes":"Allowed Recipes","listRecipes":"List of Recipes","Documentation":"Documentation","Swagger":"Swagger","groupAdd":"Add a Group","userAdd":"Add a User","packageAdd":"Add a Package","packageEdit":"Edit a Package","editUser":"Edit a user","groupEdit":"Edit a group","clusterConfiguration":"Cluster Configuration","environmentConfiguration":"Environment Configuration","envNamespace":"Update Namespace Configuration","DefaultRegistry":"Default Registry","Awareness":"Awareness","Throttling":"Throttling","Databases":"Databases","CustomRegistry":"Custom Registry","ResourceConfiguration":"Resource Configuration","DetailedInformation":"Detailed Information","resourceRegistry":"List of Resources","customRegistry":"List of Custom Registry","ResourceRegistry":"Resource Configuration","clusterAdd":"Add a Cluster","clusterUpdate":"Update a Cluster","customRegistryAdd":"Add a Custom Registry","customRegistryUpdate":"Update a Custom Registry","resourceRegistryAdd":"Add a Resource Registry","resourceRegistryUpdate":"Update a Resource Registry","MainAbilities":"Main Abilities","DefaultAbilities":"Default Abilities","Containerdeploymentdetect":"Container deployment detect","Manualdeploymentdetect":"Manual deployment detect","ThrottlingPrivate":"Throttling for private API","ThrottlingPublic":"Throttling for Public API","ManageThrottling":"Manage throttling strategies","addDB":"Add Database","GlobalPrefix":"Global Prefix","addRecipe":"Add a New Recipe","editRecipe":"Edit Recipe"},"fields":{"Password":"Password","ConfirmPassword":"Confirm Password","Readme":"Readme","Release":"Release","lastUpdated":"Last Updated","Users":"Users","InvitedUsers":"Invited Users","DateRange":"Date Range","Key":"Key","FieldMsg":"Help message","Default":"Default","SelectRecipe":"Select a recipe","BranchOrTag":"Branch Or Tag","Replicas":"Replicas","Memory":"Memory","Schedule":"Schedule","ConcurrencyPolicy":"Concurrency Policy","RestartPolicy":"Restart Policy","DeploymentType":"Deployment Type","CDStrategy":"Continuous Delivery Strategy","Recipe":"Recipe","Branch":"Repository Branch","Commit":"Repository Commit","ImageTag":"Image Tag","tag":"Tag","CommandArguments":"Command Arguments","ContainerCommand":"Container Command","Binary":"Binary","Override":"Override","Shell":"Shell","PullPolicy":"Pull Policy","ID":"ID","Tenant":"Tenant","Date":"Date","Min":"Min","Max":"Max","Count":"Count","Service":"Service","Api":"Api","Method":"Method","Commands":"Commands","Response":"Response","Geo":"Geo","Device":"Device","Env":"Select an Environment","Secret":"Secret","OauthType":"oAuth User Authentication Type","MainTenant":"Main Tenant","Profile":"Profile","Tag":"Repository Tag","TTL":"TTL","Prefix":"Prefix","Multitenant":"Multitenant","Cluster":"Cluster","Code":"Code","Type":"Type","Name":"Name","Description":"Description","Username":"Username","Email":"Email","LastLogin":"Last Login","JoinedOn":"Joined On","FirstName":"First Name","LastName":"Last Name","Status":"Status","Groups":"Groups","Version":"Version","Environments":"Environments","Recipes":"Recipes","MasterNode":"Master Node IP","Namespace":"Namespace","NamespaceSelection":"Namespace Selection","ExistingNamespace":"Choose a Namespace","CreateNamespace":"Create New Namespace","Awareness":"Awareness","Controller":"Controller","Logger":"Logger","Cors":"CORS","Oauth":"oAuth","Ports":"Ports","Requests":"Requests","ServiceName":"Service Name","ServiceGroup":"Service Group","ServiceVersion":"Service Version","Route":"API Route","Program":"Program","NbrApi":"Nbr. of APIs","Environment":"Environment","Label":"Label","Url":"URL","Port":"Port","Token":"Token","Certificate":"Certificate","Value":"Value","Configuration":"Configuration","Settings":"Settings","PlugConfiguration":"Plug configuration","ShareConfiguration":"Share configuration with other environments","Category":"Category","SelectType":"--- Select a type ---","SelectCategory":"--- Select a category ---","CacheTTL":"Cache T T L","Healthcheckinterval":"Health check interval","Autoreloadregistry":"Auto reload registry","Maxlogcount":"Max log count","Automaticregisterservice":"Automatic register service","Enabled":"Enabled","Origin":"Origin","Credentials":"Credentials","Methods":"Methods","Headers":"Headers","Maxage":"Maxage","Authorization":"Authorization","Timeout":"Timeout","Timeoutrenewal":"Timeout renewal","Gatewayport":"Gateway port","Gatewaymaintenanceport":"Gateway maintenance port","Randomizedportincrement":"Randomized port increment","Source":"Source","Level":"Level","Levelinstring":"Level in string","Outputtype":"Output type","Grants":"Grants","Debug":"Debug","Getuserinformationfromtoken":"Get user information from token","Accesstokenlifetime":"Access token lifetime","Refreshtokenlifetime":"Refresh token lifetime","sitePrefix":"Site Prefix","apiPrefix":"API Prefix","Domain":"Domain","Protocol":"Protocol","ExpDate":"Expiration Date","ExternalKey":"External Key","ProductCode":"Product Code","ProductName":"Product Name","PackageCode":"Package Code","PackageName":"Package Name","Window":"Window","Limit":"Limit","Retries":"Retries","Delay":"Delay"},"messages":{"saveConfigSuccess":"Item has been configured successfully.","saveConfigDeploySuccess":"Item has been configured and deployed successfully.","tenantIntegrationAdd":"Integration tenant has been added successfully.","redeploySuccess":"Item has been re-deployed successfully.","consoleConfigurationUpdate":"Console configuration has been updated successfully.","delete_resource":"Resource has been deleted successfully.","add_resource":"Resource has been added successfully.","addToken":"CD Token status has been added successfully.","deleteToken":"CD Token has been deleted successfully.","updateToken":"CD Token status has been updated successfully.","delete_Secret":"Secret has been deleted successfully.","update_Secret":"Secret has been updated successfully.","add_Secret":"Secret has been added successfully.","delete_Service":"Service has been deleted successfully.","update_Service":"Service has been updated successfully.","add_Service":"Service has been added successfully.","delete_Pod":"Pod has been deleted successfully.","update_Pod":"Pod has been updated successfully.","delete_Deployment":"Deployment has been deleted successfully.","update_Deployment":"Deployment has been updated successfully.","delete_DaemonSet":"DaemonSet has been deleted successfully.","update_DaemonSet":"DaemonSet has been updated successfully.","delete_CronJob":"CronJob has been deleted successfully.","update_CronJob":"CronJob has been updated successfully.","editRecipe":"Recipe has been updated successfully.","addRecipe":"Recipe has been added successfully.","deleteItem":"Item deployment deleted successfully.","restartItem":"Item deployment restarted successfully.","execCommand":"Command executed successfully.","tenantOauth":"Tenant oAuth update successfully.","tenantExtKeyAdd":"External Key has been added successfully.","tenantApplicationKey":"Key configuration has been updated successfully.","tenantApplicationExtKey":"External Key has been updated successfully.","tenantApplicationUpdate":"Application has been updated successfully.","tenantApplicationAdd":"Application has been added successfully.","delete_tenant":"Tenant has been deleted successfully.","delete_application":"Application has been deleted successfully.","delete_key":"Key has been deleted successfully.","delete_extKey":"External Key has been deleted successfully.","tenantUpdate":"Tenant has been updated successfully.","tenantAdd":"Tenant has been added successfully.","updatePackageAcl":"The package ACL has been update successfully.","packageUpdate":"Package has been updated successfully.","packageAdd":"Package has been added successfully.","delete_package":"Package has been deleted successfully.","delete_product":"Product has been deleted successfully.","productAdd":"Product has been added successfully.","productUpdate":"Product has been updated successfully.","deleteDB":"Database has been deleted successfully.","updatePrefix":"Global prefix has been updated successfully.","GlobalPrefix":"This is a global prefix for all databases in this environment.","addDB":"Database has been added successfully.","updateThrottling":"Throttling has been updated successfully.","deleteThrottling":"Throttling has been deleted successfully.","addThrottling":"Throttling has been added successfully.","editPackage":"Package has been updated successfully.","addPackage":"Package has been added successfully.","addGroup":"Group has been added successfully.","addUser":"User has been added successfully.","deletePackage":"Package has been deleted successfully.","deleteGroup":"Group has been deleted successfully.","deleteUser":"User has been deleted successfully.","editUser":"User has been updated successfully.","editGroup":"Group has been updated successfully.","deleteQuestion":"Are you sure you want to delete?","groupsItemSuccess":"Configuration for groups updated successfully.","environmentsItemSuccess":"Configuration for environments updated successfully.","recipesItemSuccess":"Configuration for recipes updated successfully.","envGroupSaveSuccess":"Configuration for Groups updated successfully.","envGroupDeleteSuccess":"Configuration for Groups deleted successfully.","envNamespace":"Namespace updated successfully.","deleteCluster":"Cluster has been deleted successfully.","deleteEnvironment":"Environment has been deleted successfully.","empty":"Nothing to show.","customGroupSaveSuccess":"Configuration for Groups updated successfully.","customGroupDeleteSuccess":"Configuration for Groups deleted successfully.","deleteCustom":"Custom registry has been deleted successfully.","deleteResource":"Resource registry has been deleted successfully.","resourceGroupDeleteSuccess":"Configuration for Groups deleted successfully.","resourceGroupSaveSuccess":"Configuration for Groups updated successfully.","pluggedCustom":"Resource has been plugged successfully.","unpluggedCustom":"Resource has been unplugged successfully.","pluggedResource":"Resource has been plugged successfully.","unpluggedResource":"Resource has been unplugged successfully.","addInfraAccount":"Cluster has been added successfully.","updateInfraAccount":"Cluster has been updated successfully.","addCustom":"Custom registry has been added successfully.","updateCustom":"Custom registry has been updated successfully.","addResource":"Resource registry has been added successfully.","updateResource":"Resource registry has been updated successfully.","containerMsg1":"SOAJS Gateway creates automatically awareness and mesh interconnect among your micoservices, you do not need to do anything.","manualMsg1":"SOAJS Gateway creates awareness and mesh interconnect among your micoservices, you just need to set the following environment variable before you start any microservice.","manualMsg2":"For more information about SOAJS Gateway automated awareness and interconnect mesh among deployed microsrvices.","prefixMsg":"In case API Prefix and Site Prefix were not specified, they will be set by default to \\"api\\" and \\"site\\" respectively.\\n"},"catalogs":{"metadata":{"title":"Metadata","tags":"Tags","program":"Program","attributes":"Attributes"},"configuration":{"title":"Configuration","requestTimeout":"Request Timeout","requestTimeoutRenewal":"Request Timeout Renewal","maintenanceRoute":"Maintenance Route"},"lastSynchronized":"Last synchronized:","availableBranches":"Available branches:","search":"Search by service name","zeroMsg":"You do not have any items in this catalog.","version":"Version","configure":{"title":"Item settings","note":"Make sure you click on Save for each tab you want to save its Configuration ..."},"recipes":"Recipes"},"development":{"accounts":{"addTitle":"Add a GIT account","title":"List of GIT accounts","organizations":"Organizations available in this account","deleteConfirmMsg":"Are you sure you want to delete the Git account?","deleteMsg":"Git account has been deleted.","zeroMsg":"You do not have any Git account.","provider":"Select a provider","domain":"Provider domain","label":"Account label","username":"Username","email":"Email","token":"Personal token","accountType":"Account type","accessType":"Access type","consumerKey":"OAuth 2.0 Consumer Key","consumerSecret":"OAuth 2.0 Consumer Secret","addMsg":"Git account has been added and repositories are being added.","upgradeMsg":"Git account has been upgraded and repositories are being added.","syncMsg":"Repositories are being updated..."},"repositories":{"turnOnTitle":"New Item","turnOnMsg":"The following item has been added to your catalogs","deleteRepo":"Repository deleted successfully.","turnOnRepo":"Repository turned On successfully.","turnOffRepo":"Repository turned Off successfully.","turnOffBranchMsg":"Branch turned Off successfully.","turnOffTagMsg":"Tag turned Off successfully.","syncMsg":"Synchronization done successfully.","zeroMsg":"You do not have any Git repository.","Branches":"Branches","Tags":"Tags","name":"Name","type":"Type","swagger":"Swagger"}}}')},498:function(e){e.exports=JSON.parse('{"menu":{"development":"Development","catalogs":"Catalogs","reports":"Reports","settings":"Settings","Application":"Application","Event":"Event","Topic":"Topic","API":"API","Frontend":"Frontend","Custom":"Custom","Resource":"Resource","Config":"Config","Recipe":"Recipe","SOAJS":"SOAJS","GitRepositories":"Git Repositories","GitAccounts":"Git Accounts","APIMetrics":"API Metrics","APICatalog":"API Catalog","APIACL":"API ACL","APIMonitor":"API Monitor","APIAnalytics":"API Analytics","Notifications":"Notifications","ReleaseUpdate":"Release Update"},"buttons":{"Add":"Add","Upgrade":"Upgrade","Delete":"Delete","Cancel":"Cancel","Sync":"Synchronize","Configure":"Configure","TurnOn":"Turn On","TurnOff":"Turn Off"},"development":{"accounts":{"addTitle":"Add a GIT account","title":"List of GIT accounts","organizations":"Organizations available in this account","deleteConfirmMsg":"Are you sure you want to delete the Git account?","deleteMsg":"Git account has been deleted.","zeroMsg":"You do not have any Git account.","provider":"Select a provider","domain":"Provider domain","label":"Account label","username":"Username","email":"Email","token":"Personal token","accountType":"Account type","accessType":"Access type","consumerKey":"OAuth 2.0 Consumer Key","consumerSecret":"OAuth 2.0 Consumer Secret"},"repositories":{"zeroMsg":"You do not have any Git repository.","tagSearch":"Search"}}}')},527:function(e){e.exports=JSON.parse('[{"l":"SOAJS Service","disabled":true},{"l":"$SOAJS_SRV_PORT","disabled":false},{"l":"$SOAJS_SRV_PORT_MAINTENANCE","disabled":false},{"l":"SOAJS Daemon","disabled":true},{"l":"$SOAJS_DAEMON_GRP_CONF","disabled":false},{"l":"SOAJS Service/Daemon","disabled":true},{"l":"$SOAJS_ENV","disabled":false},{"l":"$SOAJS_PROFILE","disabled":false},{"l":"$SOAJS_SERVICE_NAME","disabled":false},{"l":"SOAJS Deployer","disabled":true},{"l":"$SOAJS_DEPLOY_HA","disabled":false},{"l":"$SOAJS_CONTROLLER_PORT_MAINTENANCE","disabled":false},{"l":"$SOAJS_REGISTRY_API","disabled":false},{"l":"GIT Information","disabled":true},{"l":"$SOAJS_GIT_OWNER","disabled":false},{"l":"$SOAJS_GIT_BRANCH","disabled":false},{"l":"$SOAJS_GIT_COMMIT","disabled":false},{"l":"$SOAJS_GIT_TOKEN","disabled":false},{"l":"$SOAJS_GIT_PROVIDER","disabled":false},{"l":"$SOAJS_GIT_DOMAIN","disabled":false},{"l":"SOAJS Nginx","disabled":true},{"l":"$SOAJS_EXTKEY","disabled":false},{"l":"$SOAJS_NX_DOMAIN","disabled":false},{"l":"$SOAJS_NX_API_DOMAIN","disabled":false},{"l":"$SOAJS_NX_SITE_DOMAIN","disabled":false},{"l":"$SOAJS_NX_CONTROLLER_IP","disabled":false},{"l":"$SOAJS_NX_CONTROLLER_PORT","disabled":false}]')},550:function(e,t,a){},561:function(e,t,a){},563:function(e,t,a){},875:function(e,t,a){},876:function(e,t,a){},877:function(e,t,a){},880:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),c=a(63),r=a.n(c),i=a(32),o=a(368),l=a(213),d=a(490),j=a(491),u=a(492),m=a(493),b=a(494),p=a(495),h=a(496),O=a(497),x=a(498);o.a.use(d.a).use(l.e).init({fallbackLng:"EN",debug:!1,interpolation:{escapeValue:!1},resources:{EN:{common:u,urac:m,organization:p,soajs:O},FR:{common:j,urac:b,organization:h,soajs:x}}});o.a,a(550);var f=a(3),g=a.n(f),v=a(6),y=a(4),k=a(52),w=a(291),C=a(36),N=(a(552),a(7)),S=a(133),A=a(501),T=Object(n.createContext)(null);Object(A.a)(T.Consumer);function P(){return Object(n.useContext)(T)}var I=a(1);function L(e){var t=e.children,a=Object(S.a)(e,["children"]),n=Object(k.l)(),s=n.pathname,c=n.search,r=P().isAuthenticated,i=!0;return a.ability&&a.ability.cannot("route",a.path)&&(i=!1),Object(I.jsx)(k.d,Object(N.a)(Object(N.a)({},a),{},{children:r?i?t:Object(I.jsx)(k.c,{to:"/no-access"}):Object(I.jsx)(k.c,{to:"/sign-in?redirect=".concat(s).concat(c)})}))}function M(e){var t=e.children,a=Object(S.a)(e,["children"]),n=P().isAuthenticated,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;e=e.replace(/[[]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)","i").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}("redirect");return Object(I.jsx)(k.d,Object(N.a)(Object(N.a)({},a),{},{children:n?Object(I.jsx)(k.c,{to:""===s||null===s?"/home":s}):t}))}var z=a(97),E=a(58);a(561);function _(e){var t=e.isLoading,a=e.className,n=void 0===a?"":a,s=e.disabled,c=void 0!==s&&s,r=Object(S.a)(e,["isLoading","className","disabled"]);return Object(I.jsxs)(z.a,Object(N.a)(Object(N.a)({disabled:c||t,className:"LoaderButton ".concat(n)},r),{},{children:[t&&Object(I.jsx)(E.a,{className:"spinning"}),r.children]}))}var G=a(17),D=a(26),R=a.n(D);function U(e,t,a){return"string"===typeof t?U(e,t.split("."),a):1===t.length&&void 0!==a?e[t[0]]=a:0===t.length?e:U(e[t[0]],t.slice(1),a)}function F(e){var t=Object(n.useState)(e),a=Object(y.a)(t,2),s=a[0],c=a[1];return[s,function(e){var t=s;U(t,e.target.id,e.target.value),c(Object(N.a)({},t))},function(e){var t=R.a.merge(s,e);c(t)}]}var K=a(37),B=a(41),H=a(42),J=a(44),V=a(931),W=a(953),q=a(16),Y=a.n(q),X=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).componentDidMount=function(){var t=e.props.timeOut;0!==t&&(e.timer=setTimeout(e.requestHide,t))},e.componentWillUnmount=function(){e.timer&&clearTimeout(e.timer)},e.handleClick=function(){var t=e.props.onClick;t&&t(),e.requestHide()},e.requestHide=function(){var t=e.props.onRequestHide;t&&t()},e}return Object(B.a)(a,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.message,n=this.props.title,s=Y()(["notification","notification-".concat(t)]);return n=n?Object(I.jsx)("h4",{className:"title",children:n}):null,Object(I.jsx)("div",{className:s,onClick:this.handleClick,children:Object(I.jsxs)("div",{className:"notification-message",role:"alert",children:[n,Object(I.jsx)("div",{className:"message",children:a})]})})}}]),a}(s.a.Component);X.defaultProps={type:"info",title:null,message:null,timeOut:5e3,onClick:function(){},onRequestHide:function(){}};var Q=X,Z=function(e){var t=e.children,a=Object(S.a)(e,["children"]),n=s.a.useRef(null);return Object(I.jsx)(V.a,Object(N.a)(Object(N.a)({nodeRef:n},a),{},{children:Object(I.jsx)("div",{ref:n,children:t})}))},$=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).handleRequestHide=function(t){return function(){var a=e.props.onRequestHide;a&&a(t)}},e}return Object(B.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.notifications,n=t.enterTimeout,s=t.leaveTimeout,c=Y()("notification-container",{"notification-container-empty":0===a.length}),r=a.map((function(t,a){var c=t.id||(new Date).getTime();return Object(I.jsx)(Z,{classNames:"notification",timeout:{enter:n,exit:s},children:Object(I.jsx)(Q,{type:t.type,title:t.title,message:t.message,timeOut:t.timeOut,onClick:t.onClick,onRequestHide:e.handleRequestHide(t)},c)},a)}));return Object(I.jsx)("div",{className:c,children:Object(I.jsx)(W.a,{children:r})})}}]),a}(s.a.Component);$.defaultProps={notifications:[],onRequestHide:function(){},enterTimeout:400,leaveTimeout:400};var ee=$,te=a(503),ae="change",ne="info",se="success",ce="warning",re="error",ie=new(function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(K.a)(this,a),(e=t.call(this)).listNotify=[],e}return Object(B.a)(a,[{key:"create",value:function(e){var t={id:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),type:"info",title:null,message:null,timeOut:5e3};e.priority?this.listNotify.unshift(Object.assign(t,e)):this.listNotify.push(Object.assign(t,e)),this.emitChange()}},{key:"info",value:function(e,t,a,n,s){this.create({type:ne,message:e,title:t,timeOut:a,onClick:n,priority:s})}},{key:"success",value:function(e,t,a,n,s){this.create({type:se,message:e,title:t,timeOut:a,onClick:n,priority:s})}},{key:"warning",value:function(e,t,a,n,s){this.create({type:ce,message:e,title:t,timeOut:a,onClick:n,priority:s})}},{key:"error",value:function(e,t,a,n,s){this.create({type:re,message:e,title:t,timeOut:a,onClick:n,priority:s})}},{key:"remove",value:function(e){this.listNotify=this.listNotify.filter((function(t){return e.id!==t.id})),this.emitChange()}},{key:"emitChange",value:function(){this.emit(ae,this.listNotify)}},{key:"addChangeListener",value:function(e){this.addListener(ae,e)}},{key:"removeChangeListener",value:function(e){this.removeListener(ae,e)}}]),a}(te.EventEmitter)),oe=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={notifications:[]},e.componentDidMount=function(){ie.addChangeListener(e.handleStoreChange)},e.componentWillUnmount=function(){ie.removeChangeListener(e.handleStoreChange)},e.handleStoreChange=function(t){e.setState({notifications:t})},e.handleRequestHide=function(e){ie.remove(e)},e}return Object(B.a)(a,[{key:"render",value:function(){var e=this.state.notifications,t=this.props,a=t.enterTimeout,n=t.leaveTimeout;return Object(I.jsx)(ee,{enterTimeout:a,leaveTimeout:n,notifications:e,onRequestHide:this.handleRequestHide})}}]),a}(s.a.Component);oe.defaultProps={enterTimeout:400,leaveTimeout:400};var le=oe,de=a(504),je=a.n(de),ue=(a(562),a(563),function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={templates:this.props.templates,mode:this.props.mode,modes:this.props.modes,onChangeJSON:this.props.onChangeJSON,onChange:function(){if(e.props.onChange)try{e.props.onChange(e.jeditor.get())}catch(t){e.props.onChange(null)}}};this.jeditor=new je.a(this.container,t),this.jeditor.set(this.props.json)}},{key:"componentWillUnmount",value:function(){this.jeditor&&this.jeditor.destroy()}},{key:"componentDidUpdate",value:function(){this.jeditor.update(this.props.json)}},{key:"render",value:function(){var e=this;return Object(I.jsx)("div",{className:"jsoneditor-react-container",ref:function(t){return e.container=t}})}}]),a}(n.Component)),me=a(505),be=a(67),pe=a(249),he=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(B.a)(a,[{key:"render",value:function(){var e=this.props,t=e.strategies,a=e.isThirdParty,n=e.onRequest,s=t.map((function(e,t){return"facebook"===e?Object(I.jsxs)(z.a,{block:!0,size:"md",className:"mt-2 mb-2",variant:"outline-info",disabled:a,onClick:function(t){return n(t,e)},children:[Object(I.jsx)(be.b,{})," Login in with ",e]},t):"twitter"===e?Object(I.jsxs)(z.a,{block:!0,size:"md",className:"mt-2 mb-2",variant:"outline-info",disabled:a,onClick:function(t){return n(t,e)},children:[Object(I.jsx)(be.g,{})," Login in with ",e]},t):"apple"===e?Object(I.jsxs)(z.a,{block:!0,size:"md",className:"mt-2 mb-2",variant:"outline-info",disabled:a,onClick:function(t){return n(t,e)},children:[Object(I.jsx)(be.a,{})," Login in with ",e]},t):"google"===e?Object(I.jsxs)(z.a,{block:!0,size:"md",className:"mt-2 mb-2",variant:"outline-info",disabled:a,onClick:function(t){return n(t,e)},children:[Object(I.jsx)(be.c,{})," Login in with ",e]},t):"linkedin"===e?Object(I.jsxs)(z.a,{block:!0,size:"md",className:"mt-2 mb-2",variant:"outline-info",disabled:a,onClick:function(t){return n(t,e)},children:[Object(I.jsx)(be.f,{})," Login in with ",e]},t):"azure"===e?Object(I.jsxs)(z.a,{block:!0,size:"md",className:"mt-2 mb-2",variant:"outline-info",disabled:a,onClick:function(t){return n(t,e)},children:[Object(I.jsx)(pe.b,{})," Login in with ",e]},t):null}));return s&&s.length>0&&Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:"mt-4",children:Object(I.jsx)("hr",{})}),Object(I.jsx)(me.a,{className:"thirdPartyLogin mt-4 p-3",children:s})]})}}]),a}(s.a.Component);he.defaultProps={strategies:[],onRequest:function(){},isThirdParty:!1};var Oe=he,xe=function(){var e;return{getService:function(){return e||(e=this)},setUserKeyACL:function(e,t){var a=localStorage.getItem("userACL");(a=a?JSON.parse(a):{})[t]=e,localStorage.setItem("userACL",JSON.stringify(a))},getUserKeyACL:function(e){var t=localStorage.getItem("userACL");return t&&(t=JSON.parse(t))[e]?t[e]:null},setToken:function(e){localStorage.setItem("access_token",e.access_token),localStorage.setItem("refresh_token",e.refresh_token)},getAccessToken:function(){return localStorage.getItem("access_token")},getRefreshToken:function(){return localStorage.getItem("refresh_token")},clearToken:function(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")},clearUser:function(){localStorage.removeItem("username"),localStorage.removeItem("firstname"),localStorage.removeItem("userid"),localStorage.removeItem("userACL")},setUsername:function(e){localStorage.setItem("username",e)},getUsername:function(){return localStorage.getItem("username")},setUserid:function(e){localStorage.setItem("userid",e)},getUserid:function(){return localStorage.getItem("userid")},setFirstrname:function(e){localStorage.setItem("firstname",e)},getFirstname:function(){return localStorage.getItem("firstname")},setEmail:function(e){localStorage.setItem("email",e)},getEmail:function(){return localStorage.getItem("email")}}}(),fe=a(9),ge=a.n(fe),ve={consoleEnvironment:"dashboard",badTokenMessages:["The access token provided has expired.","The access token provided is invalid."],alreadyInvited:["User is already in the tenant tenancy.","User has already been invited."],noToken:["/oauth/token"]},ye=xe.getService(),ke=function(){var e=null;return{getService:function(){return e||(e=this)},changePassword:function(e,t,a){var n=ye.getUserid();return n?ge.a.put("/urac/account/password",{id:n,oldPassword:e,password:t,confirmation:a}).then((function(e){return e&&e.data&&e.data.result?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to change password"))})).catch((function(){return Promise.reject(new Error("Unable to change password"))})):Promise.reject(new Error("Unable to change password"))},forgotPassword:function(e){return ge.a.get("/urac/password/forgot/?username="+e).then((function(e){return e&&e.data&&e.data.result?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to proceed please try again later"))}))},changeEmail:function(e){var t=ye.getUserid();return t?ge.a.put("/urac/account/email",{id:t,email:e}).then((function(e){return e&&e.data&&e.data.result?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to change email"))})).catch((function(){return Promise.reject(new Error("Unable to change email"))})):Promise.reject(new Error("Unable to change email"))},signup:function(e){return ge.a.post("/urac/join",{username:e.username,firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password}).then((function(e){return e&&e.data&&e.data.result?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to sign up"))})).catch((function(e){return e.response&&e.response.data&&e.response.data.errors&&e.response.data.errors.codes&&e.response.data.errors.codes.includes(402)?Promise.reject(new Error("Username and/or Email already exist.")):Promise.reject(new Error("Unable to sign up"))}))},updateMyProfile:function(e,t){var a=ye.getUserid();if(a){var n={id:a,firstName:e.firstName,lastName:e.lastName};return t&&(n.profile=t),ge.a.put("/urac/account",n).then((function(t){return t&&t.data&&t.data.result?(ye.setFirstrname(e.firstName),Promise.resolve("Profile has been updated.")):Promise.reject(new Error("Unable to update profile information"))})).catch((function(e){return e.response&&e.response.data&&e.response.data.errors&&e.response.data.errors.codes&&e.response.data.errors.codes.includes(533)?Promise.resolve("Nothing to update!"):Promise.reject(new Error("Unable to update profile information"))}))}return Promise.reject(new Error("Unable to update profile information"))},getUser:function(){var e=ye.getUsername();return e?ge.a.get("/urac/user?username="+e).then((function(e){return e&&e.data&&e.data.result?(ye.setFirstrname(e.data.data.firstName),e.data.data.profile&&e.data.data.profile.gravatar?ye.setEmail(e.data.data.profile.gravatar):ye.setEmail(e.data.data.email),ye.setUserid(e.data.data._id),Promise.resolve(e.data.data)):Promise.reject(new Error("Unable to get user information"))})).catch((function(){return Promise.reject(new Error("Unable to get user information"))})):Promise.reject(new Error("Unable to get user information"))},getUserId:function(e,t){var a=null;return t&&(a={headers:{key:t}}),ge.a.get("/urac/admin/user?id="+e,a).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to get user information"))})).catch((function(){return Promise.reject(new Error("Unable to get user information"))}))},getUsersId:function(e,t){var a=null;return t&&(a={headers:{key:t}}),ge.a.post("/urac/admin/users/ids",{ids:e},a).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to get users"))})).catch((function(){return Promise.reject(new Error("Unable to get users"))}))},validateJoin:function(e){return ge.a.get("/urac/validate/join?token="+e).then((function(e){return e&&e.data&&e.data.result?Promise.resolve(!0):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to proceed please try again later"))}))},emailToken:function(e){return ge.a.get("/urac/emailToken?username="+e).then((function(e){return e&&e.data&&e.data.result?Promise.resolve(!0):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to proceed please try again later"))}))},resetPassword:function(e,t,a){return ge.a.put("/urac/password/reset",{token:e,confirmation:a,password:t}).then((function(e){return e&&e.data&&e.data.result?Promise.resolve(!0):Promise.reject(new Error("Unable to reset password"))})).catch((function(){return Promise.reject(new Error("Unable to reset password"))}))},validateChangeEmail:function(e){return ge.a.get("/urac/validate/changeEmail?token="+e).then((function(e){return e&&e.data&&e.data.result?Promise.resolve(!0):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to proceed please try again later"))}))},getUserACL:function(e){var t="0000000000000000";e&&(t=e.substr(e.length-16));var a=ye.getUserKeyACL(t);if(a)return Promise.resolve(a);var n=null;return e&&(n={headers:{key:e}}),ge.a.get("/soajs/acl",n).then((function(e){return e&&e.data?(ye.setUserKeyACL(e.data,t),Promise.resolve(e.data)):Promise.reject(new Error("Unable to get ACL please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to get ACL please try again later"))}))},getUsers:function(e,t,a){var n={params:{config:!0}};return e&&(n.headers={key:e}),t&&(n.params.scope=t),a&&(a.keywords&&(n.params.keywords=a.keywords),a.limit&&(n.params.limit=a.limit),a.start&&(n.params.start=a.start)),ge.a.get("/urac/admin/users",n).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to proceed please try again later"))}))},getUsersCount:function(e,t,a){var n={params:{}};return e&&(n.headers={key:e}),t&&(n.params.scope=t),a&&a.keywords&&(n.params.keywords=a.keywords),ge.a.get("/urac/admin/users/count",n).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to proceed please try again later"))}))},getGroup:function(e,t){var a=null;return t&&(a={headers:{key:t}}),ge.a.get("/urac/admin/group?id="+e,a).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to proceed please try again later"))}))},getGroups:function(e){var t=null;return e&&(t={headers:{key:e}}),ge.a.get("/urac/admin/groups",t).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to proceed please try again later"))}))},deleteGroup:function(e,t){var a=null;return t&&(a={headers:{key:t}}),ge.a.delete("/urac/admin/group?id="+e,a).then((function(e){return e&&e.data&&e.data.result?Promise.resolve("Group has been deleted."):Promise.reject(new Error("Unable to delete group"))})).catch((function(){return Promise.reject(new Error("Unable to delete group"))}))},deleteUser:function(e,t){var a=null;return t&&(a={headers:{key:t}}),ge.a.delete("/urac/admin/user?id="+e,a).then((function(e){return e&&e.data&&e.data.result?Promise.resolve("User has been deleted."):Promise.reject(new Error("Unable to delete user"))})).catch((function(){return Promise.reject(new Error("Unable to delete user"))}))},uninviteUser:function(e,t){var a=null;t&&(a={headers:{key:t}});var n=[{user:{id:e.id}}];return ge.a.put("/urac/admin/users/uninvite",{users:n},a).then((function(e){return e&&e.data&&e.data.result?e.data.data&&e.data.data.failed&&Array.isArray(e.data.data.failed)&&e.data.data.failed.length>0&&e.data.data.failed[0].reason?Promise.reject(new Error(e.data.data.failed[0].reason)):Promise.resolve("User has been un-invited."):Promise.reject(new Error("Unable to un-invite user"))})).catch((function(e){return e.message?Promise.reject(e):Promise.reject(new Error("Unable to un-invite user"))}))},inviteUser:function(e,t){var a=null;t&&(a={headers:{key:t}});var n=[{user:{},groups:e.groups||null}];return-1!==e.user.indexOf("@")?n[0].user.email=e.user:n[0].user.username=e.user,ge.a.put("/urac/admin/users/invite",{users:n},a).then((function(e){return e&&e.data&&e.data.result?e.data.data&&e.data.data.failed&&Array.isArray(e.data.data.failed)&&e.data.data.failed.length>0&&e.data.data.failed[0].reason?ve.alreadyInvited.includes(e.data.data.failed[0].reason)?Promise.resolve(e.data.data.failed[0]):Promise.reject(new Error(e.data.data.failed[0].reason)):Promise.resolve("User has been invited."):Promise.reject(new Error("Unable to invite user"))})).catch((function(e){return e.message?Promise.reject(e):Promise.reject(new Error("Unable to invite user"))}))},addUser:function(e,t){var a=null;t&&(a={headers:{key:t}});var n={email:e.email,username:e.username,firstName:e.firstName,lastName:e.lastName};return e.groups&&(n.groups=e.groups),ge.a.post("/urac/admin/user",n,a).then((function(e){return e&&e.data&&e.data.result?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to add user"))})).catch((function(e){return e.response&&e.response.data&&e.response.data.errors&&e.response.data.errors.codes&&e.response.data.errors.codes.includes(402)?Promise.reject(new Error("Username and/or Email already exist.")):Promise.reject(new Error("Unable to add user"))}))},editUser:function(e,t){var a=null;t&&(a={headers:{key:t}});var n={user:{id:e.id},groups:e.groups};return ge.a.put("/urac/admin/user/groups",n,a).then((function(e){return e&&e.data&&e.data.result?Promise.resolve("User has been updated."):Promise.reject(new Error("Unable to updated user"))})).catch((function(){return Promise.reject(new Error("Unable to updated user"))}))},updateUser:function(e,t){var a=null;t&&(a={headers:{key:t}});var n={id:e.id,username:e.username,firstName:e.firstName,lastName:e.lastName,email:e.email,status:e.status,groups:e.groups};return ge.a.put("/urac/admin/user",n,a).then((function(e){return e&&e.data&&e.data.result?Promise.resolve("User has been updated."):Promise.reject(new Error("Unable to updated user"))})).catch((function(){return Promise.reject(new Error("Unable to updated user"))}))},editGroup:function(e,t){var a=null;t&&(a={headers:{key:t}});var n={id:e.id,name:e.name,description:e.description,packages:e.packages};return ge.a.put("/urac/admin/group",n,a).then((function(e){return e&&e.data&&e.data.result?Promise.resolve("Group has been updated."):Promise.reject(new Error("Unable to updated group"))})).catch((function(){return Promise.reject(new Error("Unable to updated group"))}))},addGroup:function(e,t){var a=null;t&&(a={headers:{key:t}});var n={code:e.code,name:e.name,description:e.description,packages:e.packages};return ge.a.post("/urac/admin/group",n,a).then((function(e){return e&&e.data&&e.data.result?Promise.resolve("Group has been added."):Promise.reject(new Error("Unable to added group"))})).catch((function(){return Promise.reject(new Error("Unable to added group"))}))},checkIfUserExist:function(e,t){var a=null;return t&&(a={headers:{key:t}}),ge.a.get("/urac/checkUsername?username="+e,a).then((function(e){return e&&e.data&&e.data.result?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to check if user exists"))})).catch((function(){return Promise.reject(new Error("Unable to check if user exists"))}))},getUsersProxy:function(e,t,a,n){var s={params:{proxyRoute:"/urac/admin/users",config:!0,extKey:e},headers:{__env:n.toLowerCase()}};return t&&(s.params.scope=t),a&&(a.keywords&&(s.params.keywords=a.keywords),a.limit&&(s.params.limit=a.limit),a.start&&(s.params.start=a.start)),ge.a.get("/soajs/proxy",s).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to proceed please try again later"))}))},getGroupsProxy:function(e,t){var a={params:{proxyRoute:"/urac/admin/groups",extKey:e},headers:{__env:t.toLowerCase()}};return ge.a.get("/soajs/proxy",a).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to proceed please try again later"))}))},getUsersCountProxy:function(e,t,a,n){var s={params:{proxyRoute:"/urac/admin/users/count",config:!0,extKey:e},headers:{__env:n.toLowerCase()}};return t&&(s.params.scope=t),a&&a.keywords&&(s.params.keywords=a.keywords),ge.a.get("/soajs/proxy",s).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to proceed please try again later"))}))}}}(),we=xe.getService(),Ce=function(){var e=null;return{getService:function(){return e||(e=this)},login:function(e,t){return ge.a.post("/oauth/token",{username:e,password:t,grant_type:"password"}).then((function(t){return t&&t.data&&t.data.access_token?(we.setToken(t.data),we.setUsername(e),Promise.resolve(t.data)):Promise.reject(new Error("Unable to login"))})).catch((function(){return Promise.reject(new Error("Unable to login"))}))},logout:function(){var e=we.getRefreshToken(),t=we.getAccessToken();return e?ge.a.delete("/oauth/refreshToken/"+e).then((function(){if(t)return ge.a.delete("/oauth/accessToken/"+t)})).catch((function(){if(t)return ge.a.delete("/oauth/accessToken/"+t)})):t?ge.a.delete("/oauth/accessToken/"+t):void 0},availableLogin:function(){return ge.a.get("/oauth/available/login",{headers:{skip_access_token:!0}}).then((function(e){return e&&e.data&&e.data.result?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to retrieve 3rd party login!"))})).catch((function(){return Promise.reject(new Error("Unable to retrieve 3rd party login!"))}))},thirdPartyLogin:function(e){return ge.a.get("/oauth/passport/login/"+e).then((function(e){return e&&e.data&&e.data.result?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to continue with 3rd party login!"))})).catch((function(){return Promise.reject(new Error("Unable to continue with 3rd party login!"))}))},validateThirdPartyLogin:function(e,t){return ge.a.get("/oauth/passport/validate/"+e+t).then((function(t){return t&&t.data&&t.data.result?(t&&t.data&&t.data.data&&t.data.data.access&&(we.setToken(t.data.data.access),we.setUsername(t.data.data.email)),Promise.resolve(t.data.data)):Promise.reject(new Error("Unable to validate your "+e+" login!"))})).catch((function(){return Promise.reject(new Error("Unable to validate your "+e+" login!"))}))}}}(),Ne={abilities:{infra:{get:{"/kubernetes/pod/log":{I:"infra_pod",A:"log",M:"View the log of a pod"}},post:{"/kubernetes/workload/:mode":{I:"infra_workload",A:"add",M:"Add a Workload (Deployment, DaemonSet, CronJob, Pod, HPA)"},"/kubernetes/secret":{I:"infra_secret",A:"add_wizard",M:"Add a text, file, or json secret via the wizard"},"/kubernetes/secret/registry":{I:"infra_secret",A:"add_wizard_registry",M:"Add a private registry account information as a secret via the wizard"},"/kubernetes/configuration/:mode":{I:"infra_configuration",A:"add",M:"Add a Configuration (secret)"},"/kubernetes/service/:mode":{I:"infra_service",A:"add",M:"Add a new Service"},"/kubernetes/storage/:mode":{I:"infra_storage",A:"add",M:"Add a new Storage (PVC, PV, StorageClass)"},"/account/kubernetes":{I:"infra_account",A:"add",M:"Add a new cluster"},"/cd/token":{I:"infra_cd_token",A:"add",M:"Add a a continuous delivery token"}},put:{"/cd/token/status":{I:"infra_cd_token",A:"update",M:"Update the status of a continuous delivery token"},"/kubernetes/workload/:mode":{I:"infra_workload",A:"edit",M:"Update a Workload (Deployment, DaemonSet, CronJob, Pod, HPA)"},"/kubernetes/service/:mode":{I:"infra_service",A:"edit",M:"Update a Service"},"/kubernetes/storage/:mode":{I:"infra_storage",A:"edit",M:"Update a Storage (PV, StorageClass)"},"/kubernetes/resource/restart":{I:"infra_item",A:"restart",M:"Restart all pods of a deployed item"},"/account/kubernetes/configuration":{I:"infra_account",A:"edit",M:"Edit the cluster configuration"},"/account/kubernetes/acl":{I:"infra_account",A:"updateAcl",M:"Update the cluster group configuration"},"/kubernetes/pod/exec":{I:"infra_pod",A:"exec",M:"Execute commands inside a pod"}},delete:{"/cd/token":{I:"infra_cd_token",A:"delete",M:"Delete a continuous delivery token"},"/kubernetes/workload/:mode":{I:"infra_workload",A:"delete",M:"Delete a Workload (Deployment, DaemonSet, CronJob, HPA)"},"/kubernetes/pods":{I:"infra_pod",A:"delete",M:"Delete a Pod"},"/kubernetes/configuration/:mode":{I:"infra_configuration",A:"delete",M:"Delete a Configuration (secret)"},"/kubernetes/service/:mode":{I:"infra_service",A:"delete",M:"Delete a Service"},"/kubernetes/storage/:mode":{I:"infra_storage",A:"delete",M:"Delete a Storage (PVC, PV, StorageClass)"},"/kubernetes/item":{I:"infra_item",A:"delete",M:"Delete an item deployment"},"/account/kubernetes":{I:"infra_account",A:"delete",M:"Delete a cluster"},"/account/kubernetes/acl":{I:"infra_account",A:"deleteAcl",M:"Delete the cluster group configuration"}}},console:{post:{"/environment":{I:"env",A:"add",M:"Add an environment"},"/registry/custom":{I:"registry_custom",A:"add",M:"Add a custom registry"},"/registry/resource":{I:"registry_resource",A:"add",M:"Add a resource registry"},"/registry/db/custom":{I:"registry_db",A:"add",M:"Add a database"},"/tenant/oauth/user":{I:"integration_user",A:"add",M:"Add an integration user"}},put:{"/registry/throttling":{I:"registry",A:"throttling",M:"Add, Update and delete throttling"},"/registry/db/prefix":{I:"registry_db",A:"prefix",M:"Update global databases prefix for an environment"},"/environment/acl":{I:"env_aclGroups",A:"update",M:"Update the environment group configuration"},"/environment":{I:"env",A:"update",M:"Update the environment"},"/registry/custom/acl":{I:"registry_custom",A:"update_acl",M:"Update the custom registry group configuration"},"/registry/resource/acl":{I:"registry_resource",A:"update_acl",M:"Update the resource registry group configuration"},"/registry/custom":{I:"registry_custom",A:"edit",M:"Edit and plug/unplug a custom registry"},"/registry/resource":{I:"registry_resource",A:"edit",M:"Edit and plug/unplug a resource registry"},"/registry":{I:"registry",A:"edit",M:"Edit registry"},"/tenant/oauth/user":{I:"integration_user",A:"edit",M:"Edit an integration user"}},delete:{"/registry/db/custom":{I:"registry_db",A:"delete",M:"Delete a database"},"/registry/custom/acl":{I:"registry_custom",A:"delete_acl",M:"Delete the custom registry group configuration"},"/registry/custom":{I:"registry_custom",A:"delete",M:"Delete a custom registry"},"/registry/resource/acl":{I:"registry_resource",A:"delete_acl",M:"Delete the resource registry group configuration"},"/registry/resource":{I:"registry_resource",A:"delete",M:"Delete a resource registry configuration"},"/environment/acl":{I:"env_aclGroups",A:"delete",M:"Delete the environment group configuration"},"/environment":{I:"env",A:"delete",M:"Delete an environment"},"/tenant/oauth/user":{I:"integration_user",A:"delete",M:"Delete an integration user"}}},marketplace:{post:{"/recipe":{I:"market_recipe",A:"add",M:"Add a recipe"}},put:{"/item/resource":{I:"market_item_resource",A:"add",M:"Add/Update a resource item"},"/item/deploy/build":{I:"market_item",A:"build",M:"Save deployment configuration and deploy"},"/item/deploy/configure":{I:"market_item",A:"configure",M:"Configure a deployment for an item"},"/item/deploy/redeploy":{I:"market_item",A:"redeploy",M:"Redeploy an item"},"/recipe":{I:"market_recipe",A:"edit",M:"Edit a recipe"},"/item/acl":{I:"market_item",A:"settings_groups",M:"Update the item group configuration"},"/item/environments":{I:"market_item",A:"settings_environments",M:"Update the item environment configuration"},"/item/recipes":{I:"market_item",A:"settings_recipe",M:"Update the item recipe configuration"},"/soajs/item/acl":{I:"market_item_soajs",A:"settings_groups",M:"Update a soajs item group configuration"},"/soajs/item/environments":{I:"market_item_soajs",A:"settings_environments",M:"Update a soajs item environment configuration"},"/soajs/item/recipes":{I:"market_item_soajs",A:"settings_recipe",M:"Update a soajs item recipe configuration"}},delete:{"/item":{I:"market_item",A:"delete",M:"Delete an item from a catalog (Resource)"},"/item/configure/deploy":{I:"market_item_configure",A:"delete",M:"Delete the deployment configuration of an item"}}},repositories:{post:{"/git/account":{I:"repo_account",A:"add",M:"Add a git account"}},put:{"/git/sync/account":{I:"repo_account",A:"synchronize",M:"Synchronize a git account"},"/git/account":{I:"repo_account",A:"upgrade",M:"Upgrade a git account from public to private"},"/git/repo/activate":{I:"repo",A:"turnOn",M:"Turn on a repository"},"/git/repo/deactivate":{I:"repo",A:"turnOff",M:"Turn off a repository"},"/git/sync/repository":{I:"repo",A:"synchronize",M:"Synchronise a repository"},"/git/branch/activate":{I:"repo_branch",A:"turnOn",M:"Turn on a branch"},"/git/branch/deactivate":{I:"repo_branch",A:"turnOff",M:"Turn off a branch"},"/git/sync/branch":{I:"repo_branch",A:"synchronize",M:"Synchronise a branch"},"/git/tag/activate":{I:"repo_tag",A:"turnOn",M:"Turn on a tag"},"/git/tag/deactivate":{I:"repo_tag",A:"turnOff",M:"Turn off a tag"}},delete:{"/git/account":{I:"repo_account",A:"delete",M:"Delete a git account"},"/git/repo":{I:"repo",A:"delete",M:"Delete a repository"}}},multitenant:{put:{"/product":{I:"product",A:"edit",M:"Edit a product"},"/product/package":{I:"package",A:"edit",M:"Edit a product package"},"/product/package/acl/env":{I:"package",A:"acl",M:"Edit a product package ACL"},"/product/console/package":{I:"console_package",A:"edit",M:"Edit the information of a console package"},"/product/console/package/acl/env":{I:"console_package",A:"acl",M:"Edit the ACL of a console package"},"/admin/tenant/application/key/config":{I:"tenant_application_key",A:"configure",M:"Configure tenant application key by environment"},"/tenant/console/application/key/config":{I:"tenant_console_application_key",A:"configure",M:"Update console configuration"},"/admin/tenant/application/key/ext":{I:"tenant_application_ekey",A:"configure",M:"Configure tenant application external key by environment"},"/admin/tenant/oauth":{I:"tenant",A:"configure",M:"Configure tenant oauth"},"/admin/tenant":{I:"tenant",A:"edit",M:"Update tenant"},"/admin/tenant/application":{I:"tenant_application",A:"edit",M:"Update tenant application"},"/tenant/console":{I:"console_tenant",A:"edit",M:"Update console integration tenant"},"/tenant/console/application":{I:"console_tenant_application",A:"edit",M:"Update console tenant application"},"/tenant/console/application/key/ext":{I:"console_tenant_application_ekey",A:"configure",M:"Configure console tenant application external key by environment"}},post:{"/product":{I:"product",A:"add",M:"Add a product"},"/product/package":{I:"package",A:"add",M:"Add a product package"},"/product/console/package":{I:"console_package",A:"add",M:"Add a console package"},"/admin/tenant/application/key":{I:"tenant_application_key",A:"add",M:"Add a tenant application key"},"/tenant":{I:"tenant",A:"add",M:"Add a tenant"},"/admin/tenant/application":{I:"tenant_application",A:"add",M:"Add a tenant application"},"/admin/tenant/application/key/ext":{I:"tenant_application_ekey",A:"add",M:"Add a tenant application external key"},"/tenant/console":{I:"console_tenant",A:"add",M:"Add a console integration tenant"},"/tenant/console/application":{I:"console_tenant_application",A:"add",M:"Add a console tenant application"},"/tenant/console/application/key":{I:"console_tenant_application_key",A:"add",M:"Add a console tenant application key"},"/tenant/console/application/key/ext":{I:"console_tenant_application_ekey",A:"add",M:"Add a console tenant application external key"}},delete:{"/product":{I:"product",A:"delete",M:"Delete a product"},"/product/package":{I:"package",A:"delete",M:"Delete a product package"},"/product/console/package":{I:"console_package",A:"delete",M:"Delete a console package"},"/tenant":{I:"tenant",A:"delete",M:"Delete a tenant"},"/tenant/console":{I:"console_tenant",A:"delete",M:"Delete a console integration tenant"},"/tenant/application":{I:"tenant_application",A:"delete",M:"Delete a tenant application"},"/tenant/application/key":{I:"tenant_application_key",A:"delete",M:"Delete a tenant application key"},"/tenant/application/key/ext":{I:"tenant_application_ekey",A:"delete",M:"Delete a tenant application external key"},"/tenant/console/application":{I:"console_tenant_application",A:"delete",M:"Delete a console tenant application"},"/tenant/console/application/key":{I:"console_tenant_application_key",A:"delete",M:"Delete a console tenant application key"},"/tenant/console/application/key/ext":{I:"console_tenant_application_ekey",A:"delete",M:"Delete a console tenant application external key"}}},urac:{put:{"/admin/group":{I:"group",A:"edit",M:"Edit a group"},"/admin/user":{I:"user",A:"edit",M:"Edit a user"}},post:{"/admin/group":{I:"group",A:"add",M:"Add a group"},"/admin/user":{I:"user",A:"add",M:"Add a user"}},delete:{"/admin/group":{I:"group",A:"delete",M:"Delete a group"},"/admin/user":{I:"user",A:"delete",M:"Delete a user"}}}},default:{infra:{get:{"/cd/tokens":{M:"Get the list of continuous delivery tokens"},"/kubernetes/clusters/Namespace":{M:"Get the list of available namespaces"},"/account/kubernetes":{M:"Get the list of available infrastructure accounts"},"/manual/awareness":{M:"Trigger manual awareness"},"/kubernetes/workloads/:mode":{M:"Get the list of available workload by mode"},"/kubernetes/clusters/:mode":{M:"Get the list of available cluster by mode"},"/kubernetes/configurations/:mode":{M:"Get the list of available configurations by mode"},"/kubernetes/services/:mode":{M:"Get the list of available services by mode"},"/kubernetes/item/inspect":{M:"Inspect an item"},"/kubernetes/storages/:mode":{M:"Get the list of available storage by mode"}}},console:{get:{"/api/acl/usage/tenants":{M:"Get the API usage information by tenant and environment"},"/api/acl/usage":{M:"Get the API usage information by product and environment"},"/dashboard/services":{M:"Get the list of available Services"},"/dashboard/apis/v2":{M:"Get the list of available APIs as well as the related metadata"},"/apis/v2":{M:"Get the list of available APIs"},"/tenant/oauth/users":{M:"Get the list of integration users"},"/ledger":{M:"Get the list of available notifications"},"/registry/throttling":{M:"Get the list of available throttling by environment"},"/registry/custom":{M:"Get the list of available custom registry by environment"},"/registry/resource":{M:"Get the list of available resource configuration by environment"},"/environment":{M:"Get the list of available environment"},"/environment/settings":{M:"Get the environment settings"},"/registry/deployer":{M:"Get the environment infrastructure deployment information"},"/registry":{M:"Get the registry information by environment"}}},marketplace:{get:{"/recipes/ids":{M:"Get the list of specific recipes by IDs"},"/recipes":{M:"Get the list of available recipes"},"/soajs/items":{M:"Get the list of available soajs items"},"/items":{M:"Get the list of available items"},"/item/type":{M:"Get an item by type"}},put:{"/item/maintenance":{M:"Trigger maintenance command on an item"},"/item/deploy/cd":{isPublic:!0,M:"To deploy an item from an integration tool programmatically"}}},multitenant:{get:{"/tenant/console":{M:"Get the information of the console tenant"},"/tenants/console":{M:"Get the list of the console tenants"},"/product/console":{M:"Get the information of the console product"},"/products/console":{M:"Get the list of the console products"},"/products":{M:"Get the list of available products"},"/product":{M:"Get the information of a specific product"},"/tenants":{M:"Get the list of available tenants"},"/tenant/tenants":{M:"Get the list of available sub tenants for a specific main tenant"},"/admin/tenant":{M:"Get the information of a specific tenant"}}},repositories:{get:{"/git/account":{M:"Get the infromation of a specific git account"},"/git/accounts":{M:"Get the list of available git accounts"},"/git/tag":{M:"Get a specific tag by repository"},"/git/tags":{M:"Get the list of available tags by repository"},"/git/branch":{M:"Get the list of available branches by repository"}},post:{"/git/repos":{M:"List repositories with advance search capabilities"}}},urac:{get:{"/admin/groups":{M:"List of groups"},"/admin/users":{M:"List of users"},"/admin/users/count":{M:"Count of users"},"/password/forgot":{isPublic:!0,M:"Request a forgot password email"},"/user":{M:"Get the logged in user information"},"/emailToken":{isPublic:!0,M:"Email a token if the previous one expired"},"/validate/changeEmail":{isPublic:!0,M:"Validate the email of changed email"}},put:{"/account":{M:"Update account information"},"/account/email":{M:"Update the email"},"/account/password":{M:"Update the password"},"/pasword/reset":{isPublic:!0,M:"Reset the password"}}},oauth:{get:{"/available/login":{isPublic:!0,M:"Available third party login"},"/passport/login/:strategy":{isPublic:!0,M:"Login with third party"},"/passport/validate/:strategy":{isPublic:!0,M:"Validate a third party login"}},post:{"/token":{isPublic:!0,M:"Login and get a valid access token"}},delete:{"/accessToken/:token":{isPublic:!0,M:"Delete the access token"},"/refreshToken/:token":{isPublic:!0,M:"Delete the refresh token"}}},soaanalytics:{get:{"/api/acl/usage":{M:"Get the API usage information by tenant, product and environment"},"/dashboard/services":{M:"Get the list of available Services"},"/dashboard/apis/v2":{M:"Get the list of available APIs as well as the related metadata"},"/apis/v2":{M:"Get the list of available APIs"}}},soamonitor:{get:{"/monitor/analytics/:type":{M:"Get the analytic information per type (API, Service, tenant, User)"},"/monitor/items":{M:"Get the list of daily API requests"}}}},versions:{console:"1",marketplace:"1",repositories:"1",multitenant:"1",urac:"3",oauth:"1",infra:"1",soaanalytics:"1",soamonitor:"1"}},Se=ke.getService();function Ae(e,t){return Te.apply(this,arguments)}function Te(){return(Te=Object(v.a)(g.a.mark((function e(t,a){var n,s,c,r,i,o,l,d,j,u,m,b,p,h,O;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new w.b,s=n.can,c=n.rules,r=null,e.prev=2,e.next=5,Se.getUserACL(a);case 5:r=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),ie.error(e.t0.message);case 11:if(r&&r.finalACL){if(i=0,Ne&&Ne.abilities)for(o=Object.keys(Ne.abilities),l=0;l<o.length;l++)if(r.finalACL[o[l]])for(d=!1,!r.acl[o[l]]||!r.acl[o[l]][Ne.versions[o[l]]]||r.acl[o[l]][Ne.versions[o[l]]].apisPermission&&"restricted"===r.acl[o[l]][Ne.versions[o[l]]].apisPermission||(d=!0),j=Object.keys(Ne.abilities[o[l]]),u=0;u<j.length;u++)for(m=Object.keys(Ne.abilities[o[l]][j[u]]),b=0;b<m.length;b++)if(p=!1,(d||r.finalACL[o[l]][j[u]]&&r.finalACL[o[l]][j[u]].includes(m[b]))&&(p=!0),p)if(Array.isArray(Ne.abilities[o[l]][j[u]][m[b]]))for(h=0;h<Ne.abilities[o[l]][j[u]][m[b]].length;h++)Ne.abilities[o[l]][j[u]][m[b]][h].I&&Ne.abilities[o[l]][j[u]][m[b]][h].A?(s(Ne.abilities[o[l]][j[u]][m[b]][h].I,Ne.abilities[o[l]][j[u]][m[b]][h].A),i++):console.log("Skipping: ",Ne.abilities[o[l]][j[u]][m[b]][h].M);else Ne.abilities[o[l]][j[u]][m[b]].I&&Ne.abilities[o[l]][j[u]][m[b]].A?(s(Ne.abilities[o[l]][j[u]][m[b]].I,Ne.abilities[o[l]][j[u]][m[b]].A),i++):console.log("Skipping: ",Ne.abilities[o[l]][j[u]][m[b]].M);else if(Array.isArray(Ne.abilities[o[l]][j[u]][m[b]]))for(O=0;O<Ne.abilities[o[l]][j[u]][m[b]].length;O++)console.log("Disabled: ",Ne.abilities[o[l]][j[u]][m[b]][O].I,Ne.abilities[o[l]][j[u]][m[b]][O].A);else console.log("Disabled: ",Ne.abilities[o[l]][j[u]][m[b]].I,Ne.abilities[o[l]][j[u]][m[b]].A);console.log("Abilities Added: "+i)}t.update(c);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}var Pe=function(){var e;return{getService:function(){return e||(e=this)},createUserAbilities:function(e){return new Promise((function(t){e.on("updated",t),Ae(e,null)}))},updateUserAbilities:function(e,t){return new Promise((function(a){e.on("updated",a),Ae(e,t)}))}}}(),Ie=a(948),Le=xe.getService(),Me=Ce.getService(),ze=ke.getService(),Ee=Pe.getService();function _e(){var e=Object(Ie.a)(["common","urac"]).t,t=P(),a=t.isAuthenticated,s=t.userHasAuthenticated,c=t.setFirstName,r=t.ability,o=Object(n.useState)(!1),l=Object(y.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)(!1),m=Object(y.a)(u,2),b=m[0],p=m[1],h=Object(n.useState)({local:{available:!0},thirdparty:[]}),O=Object(y.a)(h,2),x=O[0],f=O[1],k=F({email:"",password:""}),w=Object(y.a)(k,2),C=w[0],N=w[1];function S(){return(S=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),j(!0),e.prev=2,e.next=5,Me.login(C.email,C.password);case 5:return e.next=7,ze.getUser();case 7:return e.next=9,Ee.createUserAbilities(r);case 9:j(!1),c(Le.getFirstname()),s(!0),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),ie.error(e.t0.message),j(!1);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}function A(){return(A=Object(v.a)(g.a.mark((function e(t,a){var n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),p(!0),n=null,window.apiSettings&&window.apiSettings.key&&(n=window.apiSettings.key),s=null,window.apiSettings&&window.apiSettings.api&&(s=window.apiSettings.api),n&&s?window.location=s+"/oauth/passport/login/"+a+"?key="+n:ie.error(a+" login is not available at this time"),p(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a){t.next=6;break}return t.next=4,Me.availableLogin();case 4:n=t.sent,e&&f(n);case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){return e=!1}}),[a]),Object(I.jsx)("div",{className:"URAC",children:Object(I.jsxs)(G.a,{onSubmit:function(e){return S.apply(this,arguments)},children:[Object(I.jsxs)(G.a.Group,{controlId:"email",children:[Object(I.jsx)(G.a.Label,{children:e("urac:Email or Username")}),Object(I.jsx)(G.a.Control,{autoFocus:!0,value:C.email,onChange:N})]}),Object(I.jsxs)(G.a.Group,{controlId:"password",children:[Object(I.jsx)(G.a.Label,{children:e("urac:Password")}),Object(I.jsx)(G.a.Control,{type:"password",value:C.password,onChange:N})]}),Object(I.jsx)(G.a.Text,{className:"pb-3 text-right",muted:!0,children:Object(I.jsx)(i.Link,{to:"/forgot-password",children:e("urac:Forgot Password")})}),Object(I.jsx)(_,{block:!0,type:"submit",isLoading:d,disabled:!(C.email.length>0&&C.password.length>0),children:e("urac:button.Login")}),Object(I.jsx)(Oe,{strategies:x.thirdparty,onRequest:function(e,t){return A.apply(this,arguments)},isThirdParty:b})]})})}var Ge=ke.getService();function De(){var e=Object(Ie.a)(["common","urac"]).t,t=F({username:""}),a=Object(y.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(!1),i=Object(y.a)(r,2),o=i[0],l=i[1];function d(){return(d=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),l(!0),t.prev=2,t.next=5,Ge.forgotPassword(s.username);case 5:ie.success(e("urac:msg.forgotPasswordSuccess")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),ie.error(t.t0.message);case 11:l(!1);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})))).apply(this,arguments)}return Object(I.jsx)("div",{className:"URAC",children:Object(I.jsxs)(G.a,{onSubmit:function(e){return d.apply(this,arguments)},children:[Object(I.jsxs)(G.a.Group,{controlId:"username",children:[Object(I.jsx)(G.a.Label,{children:e("urac:Email or Username")}),Object(I.jsx)(G.a.Control,{autoFocus:!0,type:"username",value:s.password,onChange:c})]}),Object(I.jsx)(G.a.Text,{className:"pb-3",muted:!0,children:e("urac:msg.forgotPassword")}),Object(I.jsx)(_,{block:!0,type:"submit",isLoading:o,disabled:!(s.username.length>0),children:e("urac:button.Request")})]})})}var Re=ke.getService();function Ue(){var e=Object(Ie.a)(["common","urac"]).t,t=F({newPassword:"",confirmNewPassword:""}),a=Object(y.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(!1),o=Object(y.a)(r,2),l=o[0],d=o[1],j=Object(k.k)();var u=new URLSearchParams(Object(k.l)().search).get("token");function m(e){return b.apply(this,arguments)}function b(){return(b=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),d(!0),t.prev=2,t.next=5,Re.resetPassword(u,s.newPassword,s.confirmNewPassword);case 5:ie.success(e("urac:msg.resetPasswordSuccess")),d(!1),j.push("/home"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),ie.error(t.t0.message),d(!1);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))).apply(this,arguments)}return Object(I.jsx)("div",{className:"URAC",children:u?Object(I.jsxs)(G.a,{onSubmit:m,children:[Object(I.jsxs)(G.a.Group,{controlId:"newPassword",children:[Object(I.jsx)(G.a.Label,{children:e("urac:New Password")}),Object(I.jsx)(G.a.Control,{type:"password",value:s.newPassword,onChange:c})]}),Object(I.jsxs)(G.a.Group,{controlId:"confirmNewPassword",children:[Object(I.jsx)(G.a.Label,{children:e("urac:Confirm Password")}),Object(I.jsx)(G.a.Control,{type:"password",onChange:c,value:s.confirmNewPassword})]}),Object(I.jsx)(_,{block:!0,type:"submit",isLoading:l,disabled:!(s.newPassword.length>0&&s.newPassword===s.confirmNewPassword),children:e("urac:button.Change")})]}):Object(I.jsx)(G.a,{children:Object(I.jsxs)(G.a.Text,{className:"pb-3",muted:!0,children:[e("urac:msg.resetPasswordError"),"@ ",Object(I.jsx)(i.Link,{to:"/forgot-password",children:e("urac:Forgot Password")}),"."]})})})}var Fe=ke.getService();function Ke(){var e=Object(Ie.a)(["common","urac"]).t,t=F({password:"",newPassword:"",confirmNewPassword:""}),a=Object(y.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(!1),i=Object(y.a)(r,2),o=i[0],l=i[1];function d(){return(d=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),l(!0),t.prev=2,t.next=5,Fe.changePassword(s.password,s.newPassword,s.confirmNewPassword);case 5:ie.success(e("urac:msg.changePasswordSuccess")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),ie.error(t.t0.message);case 11:l(!1);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})))).apply(this,arguments)}return Object(I.jsx)("div",{className:"URAC",children:Object(I.jsxs)(G.a,{onSubmit:function(e){return d.apply(this,arguments)},children:[Object(I.jsxs)(G.a.Group,{controlId:"password",children:[Object(I.jsx)(G.a.Label,{children:e("urac:Existing Password")}),Object(I.jsx)(G.a.Control,{autoFocus:!0,type:"password",value:s.password,onChange:c})]}),Object(I.jsxs)(G.a.Group,{controlId:"newPassword",children:[Object(I.jsx)(G.a.Label,{children:e("urac:New Password")}),Object(I.jsx)(G.a.Control,{type:"password",value:s.newPassword,onChange:c})]}),Object(I.jsxs)(G.a.Group,{controlId:"confirmNewPassword",children:[Object(I.jsx)(G.a.Label,{children:e("urac:Confirm Password")}),Object(I.jsx)(G.a.Control,{type:"password",onChange:c,value:s.confirmNewPassword})]}),Object(I.jsx)(_,{block:!0,type:"submit",isLoading:o,disabled:!(s.password.length>0&&s.newPassword.length>0&&s.newPassword===s.confirmNewPassword),children:e("urac:button.Change")})]})})}var Be=ke.getService();function He(){var e=Object(Ie.a)(["common","urac"]).t,t=F({newEmail:"",confirmNewEmail:""}),a=Object(y.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(!1),i=Object(y.a)(r,2),o=i[0],l=i[1];function d(){return(d=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),l(!0),t.prev=2,t.next=5,Be.changeEmail(s.newEmail);case 5:ie.success(e("urac:msg.changeEmailSuccess")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),ie.error(t.t0.message);case 11:l(!1);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})))).apply(this,arguments)}return Object(I.jsx)("div",{className:"URAC",children:Object(I.jsxs)(G.a,{onSubmit:function(e){return d.apply(this,arguments)},children:[Object(I.jsxs)(G.a.Group,{controlId:"newEmail",children:[Object(I.jsx)(G.a.Label,{children:e("urac:New Email")}),Object(I.jsx)(G.a.Control,{autoFocus:!0,type:"email",value:s.newEmail,onChange:c})]}),Object(I.jsxs)(G.a.Group,{controlId:"confirmNewEmail",children:[Object(I.jsx)(G.a.Label,{children:e("urac:Confirm New Email")}),Object(I.jsx)(G.a.Control,{autoFocus:!0,type:"email",value:s.confirmNewEmail,onChange:c})]}),Object(I.jsx)(G.a.Text,{className:"pb-3",muted:!0,children:e("urac:msg.changeEmail")}),Object(I.jsx)(_,{block:!0,type:"submit",isLoading:o,disabled:!(s.newEmail.length>0&&s.newEmail===s.confirmNewEmail),children:e("urac:button.Change")})]})})}var Je=ke.getService();function Ve(){var e=Object(Ie.a)(["common","urac"]).t,t=Object(n.useState)(!1),a=Object(y.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(e("urac:msg.validateChangeEmailProcess")),i=Object(y.a)(r,2),o=i[0],l=i[1];var d=new URLSearchParams(Object(k.l)().search).get("token");return Object(n.useEffect)((function(){var t=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=!1,a.prev=1,!d){a.next=8;break}return a.next=5,Je.validateChangeEmail(d);case 5:n=a.sent,a.next=9;break;case 8:ie.warning(e("urac:msg.validateChangeEmailError"));case 9:a.next=15;break;case 11:a.prev=11,a.t0=a.catch(1),ie.error(a.t0.message),t&&l(e("urac:msg.validateChangeEmailError"));case 15:c(n);case 16:case"end":return a.stop()}}),a,null,[[1,11]])})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){return t=!1}}),[d,e]),Object(I.jsx)("div",{className:"URAC",children:d?s?Object(I.jsx)(G.a,{children:Object(I.jsx)(G.a.Text,{className:"pb-3",muted:!0,children:e("urac:msg.validateChangeEmailSuccess")})}):Object(I.jsx)(G.a,{children:Object(I.jsx)(G.a.Text,{className:"pb-3",muted:!0,children:o})}):Object(I.jsx)(G.a,{children:Object(I.jsx)(G.a.Text,{className:"pb-3",muted:!0,children:e("urac:msg.validateChangeEmailError2")})})})}var We=a(18),qe=xe.getService(),Ye=ke.getService();function Xe(){var e=Object(Ie.a)(["common","urac"]).t,t=P().setFirstName,a=Object(n.useState)(!1),s=Object(y.a)(a,2),c=s[0],r=s[1],i=Object(n.useState)({firstName:"",lastName:"",email:"",username:"",profile:{}}),o=Object(y.a)(i,2),l=o[0],d=o[1],j=null;function u(e){d(Object(N.a)(Object(N.a)({},l),{},Object(We.a)({},e.target.id,e.target.value)))}function m(){return(m=Object(v.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r(!0),l.profile&&!j&&(j=l.profile),e.prev=3,e.next=6,Ye.updateMyProfile(l,j);case 6:n=e.sent,t(qe.getFirstname()),ie.success(n),d(Object(N.a)(Object(N.a)({},l),{},{profile:j})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),ie.error(e.t0.message);case 15:r(!1);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ye.getUser();case 3:a=t.sent,e&&d({firstName:a.firstName,lastName:a.lastName,email:a.email,username:a.username,profile:a.profile}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ie.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){return e=!1}}),[]),Object(I.jsx)("div",{className:"URAC",children:Object(I.jsxs)(G.a,{onSubmit:function(e){return m.apply(this,arguments)},children:[Object(I.jsxs)(G.a.Group,{size:"lg",controlId:"firstName",children:[Object(I.jsx)(G.a.Label,{children:e("urac:First name")}),Object(I.jsx)(G.a.Control,{autoFocus:!0,value:l.firstName,onChange:u})]}),Object(I.jsxs)(G.a.Group,{size:"lg",controlId:"lastName",children:[Object(I.jsx)(G.a.Label,{children:e("urac:Last name")}),Object(I.jsx)(G.a.Control,{value:l.lastName,onChange:u})]}),Object(I.jsxs)(G.a.Group,{size:"lg",controlId:"email",children:[Object(I.jsx)(G.a.Label,{children:e("urac:Email")}),Object(I.jsx)(G.a.Control,{type:"email",readOnly:!0,value:l.email,onChange:u})]}),Object(I.jsxs)(G.a.Group,{size:"lg",controlId:"username",children:[Object(I.jsx)(G.a.Label,{children:e("urac:Username")}),Object(I.jsx)(G.a.Control,{value:l.username,readOnly:!0,onChange:u})]}),Object(I.jsx)(ue,{mode:"code",json:j||l.profile,onChange:function(e){e&&(j=e)}}),Object(I.jsx)(_,{block:!0,size:"lg",type:"submit",isLoading:c,disabled:!(l.firstName.length>0&&l.lastName.length>0),children:e("urac:button.Change")})]})})}var Qe=ke.getService();function Ze(){var e=Object(Ie.a)(["common","urac"]).t,t=F({username:"",firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),a=Object(y.a)(t,2),s=a[0],c=a[1],r=Object(k.k)(),i=Object(n.useState)(!1),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(){return(j=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),d(!0),t.prev=2,t.next=5,Qe.signup(s);case 5:ie.success(e("urac:msg.signupSuccess")),d(!1),r.push("/home"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),ie.error(t.t0.message),d(!1);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))).apply(this,arguments)}return Object(I.jsx)("div",{className:"URAC",children:Object(I.jsxs)(G.a,{onSubmit:function(e){return j.apply(this,arguments)},children:[Object(I.jsxs)(G.a.Group,{controlId:"username",children:[Object(I.jsx)(G.a.Label,{children:e("urac:Username")}),Object(I.jsx)(G.a.Control,{autoFocus:!0,value:s.username,onChange:c})]}),Object(I.jsxs)(G.a.Group,{controlId:"firstName",children:[Object(I.jsx)(G.a.Label,{children:e("urac:First Name")}),Object(I.jsx)(G.a.Control,{value:s.firstName,onChange:c})]}),Object(I.jsxs)(G.a.Group,{controlId:"lastName",children:[Object(I.jsx)(G.a.Label,{children:e("urac:Last Name")}),Object(I.jsx)(G.a.Control,{value:s.lastName,onChange:c})]}),Object(I.jsxs)(G.a.Group,{controlId:"email",children:[Object(I.jsx)(G.a.Label,{children:e("urac:Email")}),Object(I.jsx)(G.a.Control,{type:"email",value:s.email,onChange:c})]}),Object(I.jsxs)(G.a.Group,{controlId:"password",children:[Object(I.jsx)(G.a.Label,{children:e("urac:Password")}),Object(I.jsx)(G.a.Control,{type:"password",value:s.password,onChange:c})]}),Object(I.jsxs)(G.a.Group,{controlId:"confirmPassword",children:[Object(I.jsx)(G.a.Label,{children:e("urac:Confirm Password")}),Object(I.jsx)(G.a.Control,{type:"password",onChange:c,value:s.confirmPassword})]}),Object(I.jsx)(G.a.Text,{className:"pb-3",muted:!0,children:e("urac:msg.signup")}),Object(I.jsx)(_,{block:!0,type:"submit",variant:"success",isLoading:l,disabled:!(s.username.length>4&&s.firstName.length>0&&s.lastName.length>0&&s.email.length>0&&s.password.length>0&&s.password===s.confirmPassword),children:e("urac:button.Signup")})]})})}var $e=ke.getService();function et(){var e=Object(Ie.a)(["common","urac"]).t,t=Object(n.useState)(null),a=Object(y.a)(t,2),s=a[0],c=a[1],r=F({username:""}),o=Object(y.a)(r,2),l=o[0],d=o[1],j=Object(n.useState)(!1),u=Object(y.a)(j,2),m=u[0],b=u[1];var p=new URLSearchParams(Object(k.l)().search).get("token");function h(e){return O.apply(this,arguments)}function O(){return(O=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),b(!0),t.prev=2,t.next=5,$e.emailToken(l.username);case 5:ie.success(e("urac:msg.validateSignupSuccess")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),ie.error(t.t0.message);case 11:b(!1);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var t=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=!1,a.prev=1,!p){a.next=8;break}return a.next=5,$e.validateJoin(p);case 5:n=a.sent,a.next=9;break;case 8:ie.warning(e("urac:msg.validateSignupWarning"));case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),ie.error(a.t0.message);case 14:t&&c({success:n});case 15:case"end":return a.stop()}}),a,null,[[1,11]])})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){return t=!1}}),[p,e]),Object(I.jsx)("div",{className:"URAC",children:null===s?Object(I.jsx)(G.a,{children:Object(I.jsx)(G.a.Text,{className:"pb-3",muted:!0,children:e("urac:msg.validateSignupProcess")})}):s.success?Object(I.jsx)(G.a,{children:Object(I.jsxs)(G.a.Text,{className:"pb-3",muted:!0,children:[e("urac:msg.validateSignupConfirm")," ",Object(I.jsx)(i.Link,{to:"/sign-in",children:e("common:ClickHere")})]})}):Object(I.jsxs)(G.a,{onSubmit:h,children:[Object(I.jsxs)(G.a.Group,{controlId:"username",children:[Object(I.jsx)(G.a.Label,{children:"Username or Email"}),Object(I.jsx)(G.a.Control,{autoFocus:!0,value:l.username,onChange:d})]}),Object(I.jsx)(G.a.Text,{className:"pb-3",muted:!0,children:e("urac:msg.validateSignupSuccess2")}),Object(I.jsx)(_,{block:!0,type:"submit",isLoading:m,disabled:!(l.username.length>0),children:e("urac:button.Request")})]})})}var tt=xe.getService(),at=Ce.getService(),nt=ke.getService(),st=Pe.getService();function ct(){var e=Object(Ie.a)(["common","urac"]).t,t=Object(k.m)().strategy,a=Object(k.l)().search,s=P(),c=s.userHasAuthenticated,r=s.setFirstName,i=s.ability,o=Object(n.useState)(!1),l=Object(y.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)(t+e("urac:msg.thirdPartyLoginConfirm")),m=Object(y.a)(u,2),b=m[0],p=m[1];return Object(n.useEffect)((function(){var n=!0;function s(){return(s=Object(v.a)(g.a.mark((function s(){return g.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,at.validateThirdPartyLogin(t,a);case 3:return s.next=5,nt.getUser();case 5:return s.next=7,st.createUserAbilities(i);case 7:n&&(r(tt.getFirstname()),c(!0)),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(0),n&&p(t+e("urac:msg.thirdPartyLoginError")),ie.error(s.t0.message);case 14:case"end":return s.stop()}}),s,null,[[0,10]])})))).apply(this,arguments)}return j(!0),function(){s.apply(this,arguments)}(),function(){return n=!1}}),[t,r,c,a,i,e]),Object(I.jsx)("div",{className:"URAC",children:d?Object(I.jsx)(G.a,{children:Object(I.jsx)(G.a.Text,{className:"pb-3",muted:!0,children:b})}):Object(I.jsx)(G.a,{children:Object(I.jsxs)(G.a.Text,{className:"pb-3",muted:!0,children:[t," : ",e("urac:msg.thirdPartyLoginProcess")]})})})}var rt=a(932),it=a(933),ot=a(949),lt=a(934),dt=a(507),jt=a.p+"static/media/emmp.f4b56e1b.png";function ut(){var e=Object(Ie.a)("common").t;return Object(I.jsxs)("div",{className:"container mt-3",style:{minHeight:"500px"},children:[Object(I.jsxs)(rt.a,{variant:"primary",children:["You can start by connecting ",Object(I.jsx)("b",{children:"SOAJS"})," to your ",Object(I.jsx)(it.a,{variant:"secondary",children:"Infrastructures"})," and ",Object(I.jsx)(it.a,{variant:"secondary",children:"GIT Accounts"})," from under ",Object(I.jsx)(i.Link,{to:"/settings",children:e("soajs:menu.Manage")}),"."]}),Object(I.jsxs)(ot.a,{className:"mb-3 text-white",bg:"dark",children:[Object(I.jsx)(ot.a.Header,{children:e("welcome")}),Object(I.jsx)(ot.a.Body,{children:Object(I.jsx)(lt.a,{children:Object(I.jsxs)(dt.a,{className:"small",children:[Object(I.jsx)("img",{alt:"microservice management platform",className:"float-right",src:jt,style:{width:"50%"}}),"The only complete, end-to-end microservices management platform, SOAJS simplifies and accelerates the adoption of multitenant microservices architecture by eliminating proliferation pain.",Object(I.jsx)("hr",{}),"The SOAJS platform empowers organizations to create and operate a microservices architecture capable of supporting any framework while providing API productization, multi-tenancy, multi-layer security, cataloging, awareness, and adaptable to existing source code; to automatically catalog and release software components with multi-tenant, multi-version and multi-platform capabilities.",Object(I.jsx)("hr",{}),"SOAJS integrates and orchestrates multiple infrastructures and technologies in a simplistic and secured approach while accelerating the release cycle with custom continuous integration & a smart continuous delivery pipeline.",Object(I.jsx)("hr",{}),"The SOAJS platform is capable of creating and managing custom environments per product, per department, per team, per resource, and per technology in a simplistic approach empowering every member of the organization."]})})})]})]})}function mt(){var e=Object(Ie.a)("common").t;return Object(I.jsx)("div",{className:"container mt-3",children:Object(I.jsx)("h3",{children:e("NoAccess")})})}function bt(){var e=Object(Ie.a)("common").t;return Object(I.jsx)("div",{className:"container mt-3",children:Object(I.jsx)("h3",{children:e("NotFound")})})}var pt=a(940),ht=a(521),Ot=a(951),xt=a(936),ft=a(937),gt=a(34),vt=a(27);var yt=function(e,t){return e&&e.data&&e.data?Promise.resolve(e.data.data):(t||(t="Unable to proceed please try again later"),Promise.reject(new Error(t)))},kt=function(e,t){var a=function(e){var t="";if(e.response&&e.response.data&&e.response.data.errors&&e.response.data.errors.details)for(var a=0;a<e.response.data.errors.details.length;a++)t+=e.response.data.errors.details[0].message,a+1<e.response.data.errors.details.length&&(t+=" - ");return""===t?null:t}(e);return a&&-1!==a.indexOf("not updated")?Promise.reject(new Error("Nothing to update!")):(a=a||t||"Unable to proceed please try again later",Promise.reject(new Error(a)))},wt=function(){var e=null;return{getService:function(){return e||(e=this)},getGitBranch:function(e){return ge.a.get("/repositories/git/branch",{params:e}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getGitAccount:function(e){return ge.a.get("/repositories/git/account?id="+e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getGitAccounts:function(){return ge.a.get("/repositories/git/accounts").then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getRepositories:function(e){return ge.a.post("/repositories/git/repos",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},addGitAccount:function(e){return ge.a.post("/repositories/git/account",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteGitAccount:function(e){return ge.a.delete("/repositories/git/account?id="+e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},syncGitAccount:function(e){return ge.a.put("/repositories/git/sync/account?id="+e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},upgradeGitAccount:function(e){return ge.a.put("/repositories/git/account?id="+e.id,e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteRepository:function(e){var t="/repositories/git/repo";return t=(t=(t=t+"?id="+e.id)+"&owner="+e.owner)+"&provider="+e.provider,ge.a.delete(t).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},turnOnRepository:function(e){var t="/repositories/git/repo/activate";return t=(t=(t=t+"?id="+e.id)+"&owner="+e.owner)+"&provider="+e.provider,ge.a.put(t).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},turnOffRepository:function(e){var t="/repositories/git/repo/deactivate";return t=(t=(t=t+"?id="+e.id)+"&owner="+e.owner)+"&provider="+e.provider,ge.a.put(t).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},syncRepository:function(e){var t="/repositories/git/sync/repository";return t=(t=(t=t+"?id="+e.id)+"&owner="+e.owner)+"&provider="+e.provider,ge.a.put(t).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},turnOnBranch:function(e){var t="/repositories/git/branch/activate";return t=(t=(t=(t=t+"?id="+e.id)+"&owner="+e.owner)+"&provider="+e.provider)+"&branch="+e.branch,ge.a.put(t).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},turnOffBranch:function(e){var t="/repositories/git/branch/deactivate";return t=(t=(t=(t=t+"?id="+e.id)+"&owner="+e.owner)+"&provider="+e.provider)+"&branch="+e.branch,ge.a.put(t).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},syncBranch:function(e){var t="/repositories/git/sync/branch";return t=(t=(t=(t=t+"?id="+e.id)+"&owner="+e.owner)+"&provider="+e.provider)+"&branch="+e.branch,ge.a.put(t).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},turnOnTag:function(e){var t="/repositories/git/tag/activate";return t=(t=(t=(t=t+"?id="+e.id)+"&owner="+e.owner)+"&provider="+e.provider)+"&tag="+e.tag,ge.a.put(t).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},turnOffTag:function(e){var t="/repositories/git/tag/deactivate";return t=(t=(t=(t=t+"?id="+e.id)+"&owner="+e.owner)+"&provider="+e.provider)+"&tag="+e.tag,ge.a.put(t).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getTag:function(e){return ge.a.get("/repositories/git/tag?id="+e.id+"&tag="+e.tag).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getTags:function(e){return ge.a.get("/repositories/git/tags?id="+e.id+"&size="+e.count).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))}}}(),Ct=function(){var e=null;return{getService:function(){return e||(e=this)},getItems:function(e){var t="/marketplace/items";return e&&(e.subType&&"soajs"===e.subType&&(t="/marketplace/soajs/items"),e.type&&(t=t+"?type="+e.type),e.limit&&(t=t+"&limit="+e.limit),e.start&&(t=t+"&start="+e.start),e.keywords&&(t=t+"&keywords="+e.keywords)),ge.a.get(t).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getItem:function(e,t){return ge.a.get("/marketplace/item/type?name="+e+"&type="+t).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getRecipes:function(e){var t="/marketplace/recipes";return e&&(t+="?count=true",e.limit&&(t=t+"&limit="+e.limit),e.start&&(t=t+"&start="+e.start),e.keywords&&(t=t+"&keywords="+e.keywords)),ge.a.get(t).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getRecipesByIds:function(e){return ge.a.get("/marketplace/recipes/ids",{params:{ids:e}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updateSettingsGroups:function(e){var t="/marketplace/item/acl";"soajs"===e.subType&&(t="/marketplace/soajs/item/acl");var a={id:e.id,type:e.type,groups:e.groups};return ge.a.put(t,a).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updateSettingsRecipes:function(e){var t="/marketplace/item/recipes";"soajs"===e.subType&&(t="/marketplace/soajs/item/recipes");var a={id:e.id,recipes:e.recipes};return ge.a.put(t,a).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updateSettingsEnvironments:function(e){var t="/marketplace/item/environments";"soajs"===e.subType&&(t="/marketplace/soajs/item/environments");var a={id:e.id,type:e.type,environments:e.environments};return ge.a.put(t,a).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},itemMaintenance:function(e){var t={name:e.name,env:e.env,type:e.type,version:e.version,operation:e.operation},a={port:e.port};return ge.a.put("/marketplace/item/maintenance",a,{params:t}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},addRecipe:function(e){var t={catalog:e};return ge.a.post("/marketplace/recipe",t).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updateRecipe:function(e,t){var a="/marketplace/recipe?id="+e,n={catalog:t};return ge.a.put(a,n).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},redeploy:function(e){var t={params:{name:e.name,type:e.type,env:e.env,version:e.version}},a={};return e.imageTag&&(a.image={tag:e.imageTag}),e.branch?(a.src={from:{branch:e.branch}},e.commit&&(a.src.from.commit=e.commit)):e.tag&&(a.src={from:{tag:e.tag}}),ge.a.put("/marketplace/item/deploy/redeploy",a,t).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteConfigure:function(){},configure:function(e,t){var a={params:e};return ge.a.put("/marketplace/item/deploy/configure",t,a).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},build:function(e,t){var a={params:e};return ge.a.put("/marketplace/item/deploy/build",t,a).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},addResource:function(e){return ge.a.put("/marketplace/item/resource",{item:e}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteItem:function(e){return ge.a.delete("/marketplace/item",{params:{type:e.type,name:e.name}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))}}}(),Nt=function(){var e=null;return{getService:function(){return e||(e=this)},getUsers:function(e){return ge.a.get("/console/tenant/oauth/users",{params:{id:e}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},addUser:function(e){return ge.a.post("/console/tenant/oauth/user?id="+e.id,{userId:e.userId,password:e.password}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteUser:function(e,t){return ge.a.delete("/console/tenant/oauth/user?id="+e+"&uId="+t).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getLedger:function(e){return ge.a.get("/console/ledger",{params:{limit:e.limit,start:e.skip}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getThrottlingRegistry:function(e){return ge.a.get("/console/registry/throttling",{params:{env:e}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getCustomRegistry:function(e){return ge.a.get("/console/registry/custom",{params:{env:e}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getResourceRegistry:function(e,t){var a={params:{env:e}};return t&&(a.params.type=t),ge.a.get("/console/registry/resource",a).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getEnvironments:function(){return ge.a.get("/console/environment").then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getEnvironment:function(e){return ge.a.get("/console/environment",{params:{code:e}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getEnvironmentSettings:function(e){return ge.a.get("/console/environment/settings",{params:{code:e}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},saveEnvironmentAcl:function(e){return ge.a.put("/console/environment/acl",{code:e.code,type:e.type,groups:e.groups}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteEnvironmentAcl:function(e){return ge.a.delete("/console/environment/acl",{params:{code:e}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getRegistryDeployer:function(e){return ge.a.get("/console/registry/deployer",{params:{env:e}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updateEnvironmentNamespace:function(e){return ge.a.put("/console/environment",{code:e.code,settings:{id:e.id,namespace:e.namespace}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getRegistry:function(e){return ge.a.get("/console/registry",{params:{env:e}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},addEnvironment:function(e){return ge.a.post("/console/environment",{code:e.code,description:e.description,settings:e.settings}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteEnvironment:function(e){return ge.a.delete("/console/environment",{data:{id:e}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteCustomRegistry:function(e,t){return ge.a.delete("/console/registry/custom",{data:{id:e,env:t}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},saveCustomRegistryAcl:function(e){return ge.a.put("/console/registry/custom/acl",{id:e.id,type:e.type,groups:e.groups}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteCustomRegistryAcl:function(e){return ge.a.delete("/console/registry/custom/acl",{params:{id:e}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteResourceRegistry:function(e,t){return ge.a.delete("/console/registry/resource",{data:{id:e,env:t}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},saveResourceRegistryAcl:function(e){return ge.a.put("/console/registry/resource/acl",{id:e.id,type:e.type,groups:e.groups}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteResourceRegistryAcl:function(e){return ge.a.delete("/console/registry/resource/acl",{params:{id:e}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},unplugPlugCustom:function(e){return ge.a.put("/console/registry/custom",{id:e.id,env:e.env,data:{plugged:e.plugged}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},unplugPlugResource:function(e){return ge.a.put("/console/registry/resource",{id:e.id,env:e.env,data:{plugged:e.plugged}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},addCustom:function(e,t){return ge.a.post("/console/registry/custom",{env:e,data:t}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updateCustom:function(e,t,a){return ge.a.put("/console/registry/custom",{env:e,id:t,data:a}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},addResource:function(e,t){return ge.a.post("/console/registry/resource",{env:e,data:t}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updateResource:function(e,t,a){return ge.a.put("/console/registry/resource",{env:e,id:t,data:a}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updateRegistry:function(e){return ge.a.put("/console/registry",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updateDBPrefix:function(e){return ge.a.put("/console/registry/db/prefix",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},addDB:function(e){return ge.a.post("/console/registry/db/custom",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteDB:function(e){return ge.a.delete("/console/registry/db/custom",{data:e}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updateThrottling:function(e,t){return ge.a.put("/console/registry/throttling",{env:e,throttling:t}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))}}}(),St=function(){var e=null;return{getService:function(){return e||(e=this)},getMyConsoleProduct:function(){return ge.a.get("/multitenant/product/console").then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getProduct:function(e){return ge.a.get("/multitenant/product",{params:{id:e}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getProducts:function(){return ge.a.get("/multitenant/products").then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getTenants:function(e){return ge.a.get("/multitenant/tenants",{params:{limit:e.limit,start:e.skip,type:e.type,keywords:e.keywords||null,category:e.category||null}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getTenantSubTenants:function(e,t){return ge.a.get("/multitenant/tenant/tenants",{params:{limit:t.limit,start:t.skip,keywords:t.keywords||null,code:e}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},editConsolepackage:function(e){return ge.a.put("/multitenant/product/console/package",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},addConsolepackage:function(e){return ge.a.post("/multitenant/product/console/package",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteConsolepackage:function(e){return ge.a.delete("/multitenant/product/console/package",{params:e}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},editConsolePackageAclEnv:function(e){return ge.a.put("/multitenant/product/console/package/acl/env",{acl:e.acl},{params:{code:e.code,type:e.type,env:e.env,id:e.id}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteTenant:function(e){return ge.a.delete("/multitenant/tenant",{params:e}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteTenantApplication:function(e){return ge.a.delete("/multitenant/tenant/application",{params:e}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteTenantApplicationKey:function(e){return ge.a.delete("/multitenant/tenant/application/key",{params:e}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteTenantApplicationKeyExt:function(e){return ge.a.delete("/multitenant/tenant/application/key/ext",{params:e}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},addTenant:function(e){return ge.a.post("/multitenant/tenant",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},addTenantApplicationKey:function(e){return ge.a.post("/multitenant/admin/tenant/application/key",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},addApplication:function(e){return ge.a.post("/multitenant/admin/tenant/application",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},addTenantExtKey:function(e){return ge.a.post("/multitenant/admin/tenant/application/key/ext",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},addProduct:function(e){return ge.a.post("/multitenant/product",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updateProduct:function(e){return ge.a.put("/multitenant/product",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteProduct:function(e){return ge.a.delete("/multitenant/product",{params:e}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},addPackage:function(e){return ge.a.post("/multitenant/product/package",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updatePackage:function(e){return ge.a.put("/multitenant/product/package",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deletePackage:function(e){return ge.a.delete("/multitenant/product/package",{params:e}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updateTenant:function(e){return ge.a.put("/multitenant/admin/tenant",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updateApplication:function(e){return ge.a.put("/multitenant/admin/tenant/application",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updateTenantApplicationKey:function(e){return ge.a.put("/multitenant/admin/tenant/application/key/config",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updateTenantApplicationExtKey:function(e){return ge.a.put("/multitenant/admin/tenant/application/key/ext",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updateTenantOauth:function(e){return ge.a.put("/multitenant/admin/tenant/oauth",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updatePackageAcl:function(e){return ge.a.put("/multitenant/product/package/acl/env",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getMyConsoleTenant:function(){return ge.a.get("/multitenant/tenant/console").then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updateTenantConsoleApplicationKey:function(e){return ge.a.put("/multitenant/tenant/console/application/key/config",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getConsoleTenants:function(e){return ge.a.get("/multitenant/tenants/console",{params:{limit:e.limit,start:e.skip,scope:e.scope,keywords:e.keywords||null}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getConsoleProducts:function(){return ge.a.get("/multitenant/products/console").then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updateConsoleTenant:function(e){return ge.a.put("/multitenant/tenant/console",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteConsoleTenant:function(e){return ge.a.delete("/multitenant/tenant/console",{params:e}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},addConsoleTenant:function(e){return ge.a.post("/multitenant/tenant/console",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updateConsoleApplication:function(e){return ge.a.put("/multitenant/tenant/console/application",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updateTenantConsoleApplicationExtKey:function(e){return ge.a.put("/multitenant/tenant/console/application/key/ext",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},addTenantConsoleApplicationKey:function(e){return ge.a.post("/multitenant/tenant/console/application/key",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},addConsoleApplication:function(e){return ge.a.post("/multitenant/tenant/console/application",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},addTenantConsoleExtKey:function(e){return ge.a.post("/multitenant/tenant/console/application/key/ext",e).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteTenantConsoleApplication:function(e){return ge.a.delete("/multitenant/tenant/console/application",{params:e}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteTenantConsoleApplicationKey:function(e){return ge.a.delete("/multitenant/tenant/console/application/key",{params:e}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteTenantConsoleApplicationKeyExt:function(e){return ge.a.delete("/multitenant/tenant/console/application/key/ext",{params:e}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))}}}(),At=function(){var e=null;function t(e,t,a){return ge.a.get("/infra/kubernetes/"+e+"/"+a.mode,{params:{configuration:{env:t},limit:a.limit,filter:a.filter||null,continue:a.continue||null}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))}function a(e,t,a){return ge.a.put("/infra/kubernetes/"+e+"/"+a.mode,{name:a.name,body:a.body},{params:{configuration:{env:t}}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))}function n(e,t,a){return ge.a.post("/infra/kubernetes/"+e+"/"+a.mode,{body:a.body},{params:{configuration:{env:t}}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))}function s(e,t,a){return ge.a.delete("/infra/kubernetes/"+e+"/"+a.mode,{params:{configuration:{env:t},name:a.name}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))}return{getService:function(){return e||(e=this)},addSecretRegistryWizard:function(e,t,a){return ge.a.post("/infra/kubernetes/secret/registry",{content:a,name:t},{params:{configuration:{env:e}}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},addSecretWizard:function(e,t,a){return ge.a.post("/infra/kubernetes/secret",{content:a,name:t},{params:{configuration:{env:e}}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getStorage:function(e,a){return t("storages",e,a)},getServices:function(e,a){return t("services",e,a)},getClusters:function(e,a){return t("clusters",e,a)},getWorkloads:function(e,a){return t("workloads",e,a)},getConfigurations:function(e,a){return t("configurations",e,a)},inspect:function(e,t){return ge.a.get("/infra/kubernetes/item/inspect",{params:{configuration:{env:e},item:{env:e,name:t.name,version:t.version}}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getManualAwareness:function(e){return ge.a.get("/infra/manual/awareness",{params:{env:e}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getNamespaces:function(e){return ge.a.get("/infra/kubernetes/clusters/Namespace",{params:{configuration:{env:e}}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getInfraAccounts:function(){return ge.a.get("/infra/account/kubernetes").then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteInfraAccount:function(e){return ge.a.delete("/infra/account/kubernetes",{data:{id:e}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},saveInfraAccountAcl:function(e){return ge.a.put("/infra/account/kubernetes/acl",{id:e.id,type:e.type,groups:e.groups}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteInfraAccountAcl:function(e){return ge.a.delete("/infra/account/kubernetes/acl",{params:{id:e}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},addInfraAccount:function(e){var t={label:e.label,description:e.description,configuration:{type:e.type,token:e.token,url:e.url,port:e.port}};return e.ca&&(t.configuration.ca=e.ca),ge.a.post("/infra/account/kubernetes",t).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updateInfraAccount:function(e){var t={id:e.id,label:e.label,description:e.description,configuration:{type:e.type,token:e.token,url:e.url,port:e.port}};return e.ca&&(t.configuration.ca=e.ca),ge.a.put("/infra/account/kubernetes/configuration",t).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},podExec:function(e,t){var a={name:t.name,commands:t.commands,processResult:t.processResult||!1,configuration:{env:e}};return t.ca&&(a.configuration.ca=t.ca),ge.a.put("/infra/kubernetes/pod/exec",a).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},podLog:function(e,t){return ge.a.get("/infra/kubernetes/pod/log",{params:{configuration:{env:e},name:t.name,lines:400}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},restart:function(e,t){var a={mode:t.mode,name:t.name,configuration:{env:e}};return t.ca&&(a.configuration.ca=t.ca),ge.a.put("/infra/kubernetes/resource/restart",a).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteItem:function(e,t){var a={data:{mode:t.mode,name:t.name,configuration:{env:e},keepService:t.keepService||!1}};return t.ca&&(a.configuration.ca=t.ca),ge.a.delete("/infra/kubernetes/item",a).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},addWorkload:function(e,t){return n("workload",e,t)},updateWorkload:function(e,t){return a("workload",e,t)},deleteWorkload:function(e,t){return"Pod"===t.mode?function(e,t){return ge.a.delete("/infra/kubernetes/pods",{params:{configuration:{env:e}},data:{filter:{fieldSelector:"metadata.name="+t.name,includeUninitialized:!0}}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))}(e,t):s("workload",e,t)},addService:function(e,t){return n("service",e,t)},updateService:function(e,t){return a("service",e,t)},deleteService:function(e,t){return s("service",e,t)},addConfiguration:function(e,t){return n("configuration",e,t)},deleteConfiguration:function(e,t){return s("configuration",e,t)},addStorage:function(e,t){return n("storage",e,t)},updateStorage:function(e,t){return a("storage",e,t)},deleteStorage:function(e,t){return s("storage",e,t)},getCDTokens:function(){return ge.a.get("/infra/cd/tokens").then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},deleteCDToken:function(e){return ge.a.delete("/infra/cd/token",{data:{token:e}}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},updateCDToken:function(e,t){return ge.a.put("/infra/cd/token/status",{token:e,status:t}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},addToken:function(e){return ge.a.post("/infra/cd/token",{label:e}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))}}}(),Tt=function(){var e=null;return{getService:function(){return e||(e=this)},getApis:function(e){return ge.a.get("/console/apis/v2",{params:e}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getDashboardApis:function(e){return ge.a.get("/console/dashboard/apis/v2",{params:e}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getDashboardServices:function(e){return ge.a.get("/console/dashboard/services",{params:e}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getAPIACLUsage:function(e){return ge.a.get("/console/api/acl/usage",{params:e}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getAPIACLUsageTenants:function(e){return ge.a.get("/console/api/acl/usage/tenants",{params:e}).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))}}}(),Pt=function(){var e=null;return{getService:function(){return e||(e=this)},getMonitorItems:function(e,t){var a="/soamonitor/monitor/items",n={params:e};return t.toLowerCase()!==ve.consoleEnvironment&&(n.params.proxyRoute=a,a="/soajs/proxy",n.headers={__env:t.toLowerCase()}),ge.a.get(a,n).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))},getMonitorAnalytics:function(e,t,a){var n="/soamonitor/monitor/analytics/"+e,s={params:t};return a.toLowerCase()!==ve.consoleEnvironment&&(s.params.proxyRoute=n,n="/soajs/proxy",s.headers={__env:a.toLowerCase()}),ge.a.get(n,s).then((function(e){return yt(e)})).catch((function(e){return kt(e)}))}}}(),It=a(950);var Lt=function(e){var t=e.currentPage,a=e.totalItems,n=e.maxSize,s=e.itemsPerPage,c=e.onClick,r=e.className;r=r||"",t=t||1,n=n||10;var i=1;(a=a||1)>(s=s||1)&&(i=Math.ceil(a/s)),t>i&&(t=i);var o=[];i<n&&(n=i);var l=t-Math.floor(n/2);l+n>i&&(l=i-n),l<0&&(l=0);for(var d=1;d<=n;d++)o.push(d+l);function j(e){c&&c(e)}return Object(I.jsxs)(It.a,{size:"sm",className:r,children:[Object(I.jsx)(It.a.First,{onClick:function(e){e.preventDefault(),j(1)},disabled:1===t}),Object(I.jsx)(It.a.Prev,{onClick:function(e){e.preventDefault(),j(t-1)},disabled:1===t}),o[0]>1&&Object(I.jsx)(It.a.Ellipsis,{disabled:!0}),o.map((function(e,a){return Object(I.jsx)(It.a.Item,{onClick:function(t){t.preventDefault(),j(e)},active:t===e,children:e},a)})),o[n-1]<i&&Object(I.jsx)(It.a.Ellipsis,{disabled:!0}),Object(I.jsx)(It.a.Next,{onClick:function(e){e.preventDefault(),j(t+1)},disabled:t===i}),Object(I.jsx)(It.a.Last,{onClick:function(e){e.preventDefault(),j(i)},disabled:t===i})]})},Mt=a(289);function zt(e,t){var a=e.id.substr(0,1);return a=a.toLowerCase(),1===t?["a","b","c","d","e","f","g","h"].includes(a):2===t?["i","j","k","l","m","n","o","p","q"].includes(a):3===t?["r","s","t","u","v","w","x","z"].includes(a):void 0}function Et(e){var t=e.data;return Object(I.jsx)(Mt.a,{data:t,margin:{top:40,right:80,bottom:80,left:80},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"paired"},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",.2]]},radialLabelsSkipAngle:10,radialLabelsTextColor:"#000000",radialLabelsLinkColor:{from:"color"},sliceLabel:"value",sliceLabelsSkipAngle:10,arcLinkLabelsSkipAngle:10,sliceLabelsTextColor:"#000000",defs:[{id:"dots",type:"patternDots",background:"inherit",color:"rgba(255, 255, 255, 0.3)",size:2,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"rgba(255, 255, 255, 0.3)",rotation:-45,lineWidth:5,spacing:10},{id:"squares",type:"patternSquares",background:"inherit",color:"rgba(255, 255, 255, 0.3)",size:2,padding:3,stagger:!0}],fill:[{match:function(e){return zt(e,1)},id:"dots"},{match:function(e){return zt(e,2)},id:"lines"},{match:function(e){return zt(e,3)},id:"squares"}],legends:[]})}var _t={get:"#b8daff",post:"#c3e6cb",put:"#ffeeba",delete:"#f5c6cb",patch:"#bee5eb",head:"#d6d8db",other:"#c6c8ca"};function Gt(e){var t=e.data;return Object(I.jsx)(Mt.a,{data:t,margin:{top:40,right:80,bottom:80,left:80},padAngle:.7,cornerRadius:3,colors:function(e){return function(e){return _t[e.id]}(e)},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",.3]]},radialLabelsSkipAngle:10,radialLabelsTextColor:"#000000",radialLabelsLinkColor:{from:"color"},sliceLabel:"value",sliceLabelsSkipAngle:10,arcLinkLabelsSkipAngle:10,sliceLabelsTextColor:"#000000",legends:[{anchor:"bottom",direction:"row",justify:!1,translateX:0,translateY:56,itemsSpacing:0,itemWidth:60,itemHeight:18,itemTextColor:"#999",itemDirection:"left-to-right",itemOpacity:1,symbolSize:15,symbolShape:"circle",effects:[{on:"hover",style:{itemTextColor:"#000"}}]}]})}var Dt=a(515);function Rt(e){var t=e.data;return Object(I.jsx)(Dt.a,{data:t,keys:["count"],indexBy:"Group",margin:{top:50,right:130,bottom:50,left:150},padding:.3,layout:"horizontal",valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"paired"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"fries"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,labelSkipWidth:12,labelSkipHeight:12,enableGridX:!0,enableGridY:!1,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[],animate:!0,motionStiffness:90,motionDamping:15})}var Ut=["get","post","put","delete","head","patch","other"];function Ft(e){var t={programs:[],groups:[],methods:[],services:[]},a={groups:{},methods:{}};return e&&e.map((function(e,n){var s={id:e.name,label:e.name,value:0};return e.groups&&e.groups.map((function(e,n){var c={Group:e.name,count:0};return a.groups.hasOwnProperty(e.name)&&(c=t.groups[a.groups[e.name]]),e.services&&e.services.map((function(a,n){return s.value=s.value+(a.APIs||0),c.count=c.count+(a.APIs||0),function(e,t){Ut.map((function(a,n){var s=0;return t&&t.methods&&t.methods[n]&&(s=t.methods[n].value),t.methods[n]={id:a,label:a,value:s+(e[a]||0)},!0}))}(a.methods,t),t.services.push({serviceName:a.name,serviceGroup:e.name,program:a.program,apis:a.APIs||0,version:a.version}),!0})),a.groups.hasOwnProperty(e.name)?t.groups[a.groups[e.name]]=c:(a.groups[e.name]=t.groups.length,t.groups.push(c)),!0})),t.programs.push(s),!0})),t.services=R.a.uniqWith(t.services,(function(e,t){return e.serviceName===t.serviceName&&e.version===t.version})),t}var Kt=function(e){var t=null;try{t=Ft(e)}catch(a){console.log(a)}return t},Bt=Tt.getService();function Ht(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(I.jsx)("div",{className:"float-left",type:"button",onClick:s,children:t})}var Jt={type:"service",includeSOAJS:!1,serviceName:"",serviceGroup:"",version:"latest",tags:[],programs:[],attributes:{}};function Vt(e,t,a,n,s,c){return Wt.apply(this,arguments)}function Wt(){return(Wt=Object(v.a)(g.a.mark((function e(t,a,n,s,c,r){var i,o,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={limit:2e3,start:2e3*(n-1),type:r.type,includeSOAJS:r.includeSOAJS,version:r.version,keywords:{serviceName:r.serviceName,serviceGroup:r.serviceGroup},tags:r.tags,programs:r.programs,attributes:r.attributes},e.next=4,Bt.getDashboardServices(i);case 4:o=e.sent,c&&o&&o.data&&Array.isArray(o.data)&&o.data.length>0&&(l=Kt(o.data),t(l),a({totalItems:o.data.length,maxSize:10,itemsPerPage:i.limit}),s({tags:o.tags,programs:o.programs,attributes:o.attributes})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function qt(){var e=Object(Ie.a)(["common","soajs"]).t,t=Object(n.useState)(null),a=Object(y.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(0),i=Object(y.a)(r,2),o=i[0],l=i[1],d=Object(n.useState)({tags:[],programs:[],attributes:{}}),j=Object(y.a)(d,2),u=j[0],m=j[1],b=Object(n.useState)(1),p=Object(y.a)(b,2),h=p[0],O=p[1],x=Object(n.useState)(Jt),f=Object(y.a)(x,2),k=f[0],w=f[1],C=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),S=Object(y.a)(C,2),A=S[0],T=S[1];function P(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),w(Object(N.a)(Object(N.a)({},k),{},Object(We.a)({},e.target.id,t)))}function L(){return(L=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vt(c,T,t||h,m,!0,k);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return E.apply(this,arguments)}function E(){return(E=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O(1),e.next=4,Vt(c,T,1,m,!0,k);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return Vt(c,T,1,m,e,Jt),function(){return e=!1}}),[]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(me.a,{className:"p-3",children:Object(I.jsxs)(G.a,{onSubmit:M,children:[Object(I.jsxs)(lt.a,{className:"small",children:[Object(I.jsx)(dt.a,{xs:3,children:Object(I.jsx)(G.a.Control,{placeholder:e("soajs:fields.ServiceName"),id:"serviceName",size:"sm",autoFocus:!0,value:k.serviceName,onChange:P})}),Object(I.jsx)(dt.a,{xs:3,children:Object(I.jsx)(G.a.Control,{placeholder:e("soajs:fields.ServiceGroup"),id:"serviceGroup",size:"sm",autoFocus:!0,value:k.serviceGroup,onChange:P})}),Object(I.jsx)(dt.a,{xs:3,children:Object(I.jsxs)(G.a.Control,{as:"select",id:"version",defaultValue:k.version,onChange:P,children:[Object(I.jsx)("option",{value:"latest",children:"Only last version"}),Object(I.jsx)("option",{value:"all",children:"All versions"})]})}),Object(I.jsx)(dt.a,{xs:3,className:"mt-2",children:Object(I.jsx)(G.a.Check,{id:"includeSOAJS",label:"Include SOAJS APIs",defaultChecked:k.includeSOAJS,onChange:P})})]}),Object(I.jsx)("hr",{}),Object(I.jsx)(lt.a,{children:Object(I.jsx)(dt.a,{children:Object(I.jsxs)(Ot.a,{activeKey:o,children:[Object(I.jsxs)(Ht,{eventKey:1,handleClick:function(){l(1===o?null:1)},children:[1===o?Object(I.jsx)(gt.b,{className:"mr-1"}):Object(I.jsx)(gt.a,{className:"mr-1"})," ",Object(I.jsx)("span",{className:"small",children:"Advanced Filters"})]}),Object(I.jsxs)(z.a,{className:"float-right",variant:"dark",size:"sm",onClick:M,children:[Object(I.jsx)(vt.c,{})," ",e("soajs:buttons.Search")]}),Object(I.jsx)("span",{className:"clearfix"}),Object(I.jsx)(Ot.a.Collapse,{eventKey:1,children:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("hr",{className:"mb-1"}),Object(I.jsxs)(lt.a,{className:"mt-1 small",children:[Object(I.jsx)(dt.a,{xs:1,children:"Programs"}),Object(I.jsx)(dt.a,{children:Object(I.jsx)(xt.a,{style:{maxHeight:"3rem",overflowY:"auto"},children:u.programs.map((function(e,t){return Object(I.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(I.jsx)(ot.a.Body,{className:"p-1",children:Object(I.jsx)(G.a.Check,{type:"checkbox",label:e,defaultChecked:k.programs.includes(e),onChange:function(t){!function(e,t){var a=k;e?a.programs.push(t):R.a.pullAll(a.programs,[t]),w(Object(N.a)({},a))}(t.target.checked,e)}},t+1)})},t)}))})})]}),Object(I.jsx)("hr",{className:"mt-1 mb-1"}),Object(I.jsxs)(lt.a,{className:"mt-1 small",children:[Object(I.jsx)(dt.a,{xs:1,children:"Tags"}),Object(I.jsx)(dt.a,{children:Object(I.jsx)(xt.a,{style:{maxHeight:"6rem",overflowY:"auto"},children:u.tags.map((function(e,t){return Object(I.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(I.jsx)(ot.a.Body,{className:"p-1",children:Object(I.jsx)(G.a.Check,{type:"checkbox",label:e,defaultChecked:k.tags.includes(e),onChange:function(t){!function(e,t){var a=k;e?a.tags.push(t):R.a.pullAll(a.tags,[t]),w(Object(N.a)({},a))}(t.target.checked,e)}},t+1)})},t)}))})})]}),Object(I.jsx)("hr",{className:"mt-1 mb-1"}),Object(I.jsxs)(lt.a,{className:"mt-1 small",children:[Object(I.jsx)(dt.a,{xs:1,children:"Attributes"}),Object(I.jsx)(dt.a,{children:Object.keys(u.attributes).map((function(e,t){return Object(I.jsxs)("div",{children:[Object(I.jsxs)(lt.a,{className:"mt-2",children:[Object(I.jsx)(dt.a,{xs:1,children:e}),Object(I.jsx)(dt.a,{children:Object(I.jsx)(xt.a,{style:{maxHeight:"7rem",overflowY:"auto"},children:u.attributes[e].map((function(t,a){return Object(I.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(I.jsx)(ot.a.Body,{className:"p-1",children:Object(I.jsx)(G.a.Check,{type:"checkbox",label:t,defaultChecked:k.attributes[e]&&k.attributes[e].includes(t),onChange:function(a){!function(e,t,a){var n=k;e?(n.attributes[t]||(n.attributes[t]=[]),n.attributes[t].push(a)):n.attributes[t]&&(R.a.pullAll(n.attributes[t],[a]),0===n.attributes[t].length&&delete n.attributes[t]),w(Object(N.a)({},n))}(a.target.checked,e,t)}},a+1)})},a)}))})})]},t),Object(I.jsx)("hr",{className:"mt-1 mb-1"})]},t)}))})]})]})})]})})})]})}),s?Object(I.jsxs)("div",{children:[Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{children:Object(I.jsx)("div",{style:{height:"350px"},children:Object(I.jsx)(Et,{data:s.programs})})}),Object(I.jsx)(dt.a,{children:Object(I.jsx)("div",{style:{height:"350px"},children:Object(I.jsx)(Gt,{data:s.methods})})})]}),Object(I.jsx)(lt.a,{children:Object(I.jsx)(dt.a,{children:Object(I.jsx)("div",{style:{height:"600px"},children:Object(I.jsx)(Rt,{data:s.groups})})})}),Object(I.jsx)("hr",{}),Object(I.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(I.jsx)("thead",{className:"text-light bg-dark",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:e("soajs:fields.ServiceName")}),Object(I.jsx)("th",{children:e("soajs:fields.ServiceGroup")}),Object(I.jsx)("th",{children:e("soajs:fields.Program")}),Object(I.jsx)("th",{className:"text-center",children:e("soajs:fields.NbrApi")}),Object(I.jsx)("th",{className:"text-center",children:e("soajs:fields.Version")})]})}),Object(I.jsx)("tbody",{children:s.services.map((function(e,t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:e.serviceName}),Object(I.jsx)("td",{className:"small",children:e.serviceGroup}),Object(I.jsx)("td",{className:"small",children:e.program.join(", ")}),Object(I.jsx)("td",{className:"small text-center",children:e.apis}),Object(I.jsx)("td",{className:"small text-center",children:e.version})]},t)}))})]}),Object(I.jsx)("div",{className:"float-right mt-3",children:Object(I.jsx)(Lt,{currentPage:h,totalItems:A.totalItems,itemsPerPage:A.itemsPerPage,maxSize:A.maxSize,onClick:function(e){O(e),function(e){L.apply(this,arguments)}(e)}})}),Object(I.jsx)("div",{className:"clearfix"})]}):null]})}var Yt={type:"service",includeSOAJS:!1,serviceName:"",serviceGroup:"",serviceVersion:"",route:"",tags:[],programs:[],attributes:{}},Xt={get:"primary",post:"success",delete:"danger",put:"warning",patch:"info",head:"secondary",other:"light"},Qt=Tt.getService();function Zt(e){return e&&Xt[e]?Xt[e]:Xt.other}function $t(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(I.jsx)("div",{className:"float-left",type:"button",onClick:s,children:t})}function ea(e,t,a,n,s,c){return ta.apply(this,arguments)}function ta(){return(ta=Object(v.a)(g.a.mark((function e(t,a,n,s,c,r){var i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={limit:25,start:25*(n-1),type:r.type,includeSOAJS:r.includeSOAJS,keywords:{serviceName:r.serviceName,route:r.route,serviceGroup:r.serviceGroup,serviceVersion:r.serviceVersion},tags:r.tags,programs:r.programs,attributes:r.attributes},e.next=4,Qt.getDashboardApis(i);case 4:o=e.sent,c&&o&&o.records&&Array.isArray(o.records)&&o.records.length>0&&(t(o.records),a({totalItems:o.count,maxSize:10,itemsPerPage:i.limit}),s({tags:o.tags,programs:o.programs,attributes:o.attributes})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function aa(){var e=Object(Ie.a)(["common","soajs"]).t,t=Object(n.useState)([]),a=Object(y.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(0),i=Object(y.a)(r,2),o=i[0],l=i[1],d=Object(n.useState)({tags:[],programs:[],attributes:{}}),j=Object(y.a)(d,2),u=j[0],m=j[1],b=Object(n.useState)(1),p=Object(y.a)(b,2),h=p[0],O=p[1],x=Object(n.useState)(Yt),f=Object(y.a)(x,2),k=f[0],w=f[1],C=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),S=Object(y.a)(C,2),A=S[0],T=S[1];function P(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),w(Object(N.a)(Object(N.a)({},k),{},Object(We.a)({},e.target.id,t)))}function L(){return(L=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ea(c,T,t||h,m,!0,k);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return E.apply(this,arguments)}function E(){return(E=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O(1),e.next=4,ea(c,T,1,m,!0,k);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return ea(c,T,1,m,e,Yt),function(){return e=!1}}),[]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(me.a,{className:"p-3",children:Object(I.jsxs)(G.a,{onSubmit:M,children:[Object(I.jsxs)(lt.a,{className:"small",children:[Object(I.jsx)(dt.a,{xs:3,children:Object(I.jsx)(G.a.Control,{placeholder:e("soajs:fields.ServiceName"),id:"serviceName",size:"sm",autoFocus:!0,value:k.serviceName,onChange:P})}),Object(I.jsx)(dt.a,{xs:2,children:Object(I.jsx)(G.a.Control,{placeholder:e("soajs:fields.ServiceVersion"),id:"serviceVersion",size:"sm",autoFocus:!0,value:k.serviceVersion,onChange:P})}),Object(I.jsx)(dt.a,{xs:2,children:Object(I.jsx)(G.a.Control,{placeholder:e("soajs:fields.ServiceGroup"),id:"serviceGroup",size:"sm",autoFocus:!0,value:k.serviceGroup,onChange:P})}),Object(I.jsx)(dt.a,{xs:3,children:Object(I.jsx)(G.a.Control,{placeholder:e("soajs:fields.Route"),id:"route",size:"sm",autoFocus:!0,value:k.route,onChange:P})}),Object(I.jsx)(dt.a,{xs:2,className:"mt-2",children:Object(I.jsx)(G.a.Check,{id:"includeSOAJS",label:"Include SOAJS APIs",defaultChecked:k.includeSOAJS,onChange:P})})]}),Object(I.jsx)("hr",{}),Object(I.jsx)(lt.a,{children:Object(I.jsx)(dt.a,{children:Object(I.jsxs)(Ot.a,{activeKey:o,children:[Object(I.jsxs)($t,{eventKey:1,handleClick:function(){l(1===o?null:1)},children:[1===o?Object(I.jsx)(gt.b,{className:"mr-1"}):Object(I.jsx)(gt.a,{className:"mr-1"})," ",Object(I.jsx)("span",{className:"small",children:"Advanced Filters"})]}),Object(I.jsxs)(z.a,{className:"float-right",variant:"dark",size:"sm",onClick:M,children:[Object(I.jsx)(vt.c,{})," ",e("soajs:buttons.Search")]}),Object(I.jsx)("span",{className:"clearfix"}),Object(I.jsx)(Ot.a.Collapse,{eventKey:1,children:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("hr",{className:"mb-1"}),Object(I.jsxs)(lt.a,{className:"mt-1 small",children:[Object(I.jsx)(dt.a,{xs:1,children:"Programs"}),Object(I.jsx)(dt.a,{children:Object(I.jsx)(xt.a,{style:{maxHeight:"3rem",overflowY:"auto"},children:u.programs.map((function(e,t){return Object(I.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(I.jsx)(ot.a.Body,{className:"p-1",children:Object(I.jsx)(G.a.Check,{type:"checkbox",label:e,defaultChecked:k.programs.includes(e),onChange:function(t){!function(e,t){var a=k;e?a.programs.push(t):R.a.pullAll(a.programs,[t]),w(Object(N.a)({},a))}(t.target.checked,e)}},t+1)})},t)}))})})]}),Object(I.jsx)("hr",{className:"mt-1 mb-1"}),Object(I.jsxs)(lt.a,{className:"mt-1 small",children:[Object(I.jsx)(dt.a,{xs:1,children:"Tags"}),Object(I.jsx)(dt.a,{children:Object(I.jsx)(xt.a,{style:{maxHeight:"6rem",overflowY:"auto"},children:u.tags.map((function(e,t){return Object(I.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(I.jsx)(ot.a.Body,{className:"p-1",children:Object(I.jsx)(G.a.Check,{type:"checkbox",label:e,defaultChecked:k.tags.includes(e),onChange:function(t){!function(e,t){var a=k;e?a.tags.push(t):R.a.pullAll(a.tags,[t]),w(Object(N.a)({},a))}(t.target.checked,e)}},t+1)})},t)}))})})]}),Object(I.jsx)("hr",{className:"mt-1 mb-1"}),Object(I.jsxs)(lt.a,{className:"mt-1 small",children:[Object(I.jsx)(dt.a,{xs:1,children:"Attributes"}),Object(I.jsx)(dt.a,{children:Object.keys(u.attributes).map((function(e,t){return Object(I.jsxs)("div",{children:[Object(I.jsxs)(lt.a,{className:"mt-2",children:[Object(I.jsx)(dt.a,{xs:1,children:e}),Object(I.jsx)(dt.a,{children:Object(I.jsx)(xt.a,{style:{maxHeight:"7rem",overflowY:"auto"},children:u.attributes[e].map((function(t,a){return Object(I.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(I.jsx)(ot.a.Body,{className:"p-1",children:Object(I.jsx)(G.a.Check,{type:"checkbox",label:t,defaultChecked:k.attributes[e]&&k.attributes[e].includes(t),onChange:function(a){!function(e,t,a){var n=k;e?(n.attributes[t]||(n.attributes[t]=[]),n.attributes[t].push(a)):n.attributes[t]&&(R.a.pullAll(n.attributes[t],[a]),0===n.attributes[t].length&&delete n.attributes[t]),w(Object(N.a)({},n))}(a.target.checked,e,t)}},a+1)})},a)}))})})]},t),Object(I.jsx)("hr",{className:"mt-1 mb-1"})]},t)}))})]})]})})]})})})]})}),s.length>0?Object(I.jsxs)(I.Fragment,{children:[s.map((function(e,t){return e.method&&e.route&&Object(I.jsxs)(rt.a,{className:"m-1 p-2",variant:Zt(e.method),children:[Object(I.jsx)(lt.a,{children:Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(z.a,{size:"sm",className:"mr-2 pl-1 pr-1 pt-0 pb-0 float-left",variant:Zt(e.method),children:Object(I.jsx)("span",{className:"small",children:e.method.toUpperCase()})}),Object(I.jsx)("span",{className:"small float-left font-weight-bold mr-1",children:e.serviceName}),Object(I.jsxs)("span",{className:"small float-left mr-2 font-weight-bold text-success",children:[" v",e.v," "]}),Object(I.jsx)("span",{className:"small float-left",children:e.route}),Object(I.jsx)("span",{className:"small float-right text-info",children:e.group})]})}),Object(I.jsx)(lt.a,{className:"mt-2",children:Object(I.jsx)(dt.a,{children:Object(I.jsx)("span",{className:"small font-italic float-left ml-3",children:e.label})})})]},t)})),Object(I.jsx)("div",{className:"float-right mt-3",children:Object(I.jsx)(Lt,{currentPage:h,totalItems:A.totalItems,itemsPerPage:A.itemsPerPage,maxSize:A.maxSize,onClick:function(e){O(e),function(e){L.apply(this,arguments)}(e)}})}),Object(I.jsx)("div",{className:"clearfix"})]}):null]})}var na={type:"service",includeSOAJS:!1,serviceName:"",serviceGroup:"",serviceVersion:"",route:"",tenant:""},sa={get:"primary",post:"success",delete:"danger",put:"warning",patch:"info",head:"secondary",other:"light"},ca=Tt.getService();function ra(e){return e&&sa[e]?sa[e]:sa.other}function ia(e,t,a,n,s){return oa.apply(this,arguments)}function oa(){return(oa=Object(v.a)(g.a.mark((function e(t,a,n,s,c){var r,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={limit:6,start:6*(n-1),type:c.type,includeSOAJS:c.includeSOAJS,keywords:{serviceName:c.serviceName,serviceGroup:c.serviceGroup,serviceVersion:c.serviceVersion,route:c.route}},e.next=4,ca.getApis(r);case 4:i=e.sent,s&&i&&i.records&&(t(i.records),a({totalItems:i.count,maxSize:10,itemsPerPage:i.limit})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function la(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(I.jsx)("div",{className:"float-right",type:"button",onClick:s,children:t})}function da(){var e=Object(Ie.a)(["common","soajs"]).t,t=Object(n.useState)([]),a=Object(y.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(1),i=Object(y.a)(r,2),o=i[0],l=i[1],d=Object(n.useState)(na),j=Object(y.a)(d,2),u=j[0],m=j[1],b=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),p=Object(y.a)(b,2),h=p[0],O=p[1],x=Object(n.useState)(null),f=Object(y.a)(x,2),k=f[0],w=f[1],C=Object(n.useState)([]),S=Object(y.a)(C,2),A=S[0],T=S[1],P=Object(n.useState)({code:"",count:0,tenants:[]}),L=Object(y.a)(P,2),M=L[0],_=L[1],D=Object(n.useState)(0),R=Object(y.a)(D,2),U=R[0],F=R[1];function K(e){return B.apply(this,arguments)}function B(){return(B=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia(c,O,t||o,!0,u);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),m(Object(N.a)(Object(N.a)({},u),{},Object(We.a)({},e.target.id,t)))}function J(){return(J=Object(v.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={productCode:t,limit:10,start:0},u.tenant.length>0&&(a.keyword=u.tenant),e.next=5,ca.getAPIACLUsageTenants(a);case 5:(n=e.sent)&&n.records&&_({code:t,count:n.count,tenants:n.records}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function V(){return(V=Object(v.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w({service:t.serviceName,version:t.v,method:t.method,api:t.route,group:t.group}),e.next=4,ca.getAPIACLUsage({service:t.serviceName,version:t.v,method:t.method,api:t.route});case 4:(a=e.sent)&&T(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function W(e){return q.apply(this,arguments)}function q(){return(q=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),l(1),e.next=4,K(1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return ia(c,O,1,e,na).catch(),function(){return e=!1}}),[]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(me.a,{className:"p-3",children:Object(I.jsxs)(G.a,{onSubmit:W,children:[Object(I.jsxs)(lt.a,{className:"small",children:[Object(I.jsx)(dt.a,{xs:4,children:Object(I.jsx)(G.a.Control,{placeholder:e("soajs:fields.ServiceName"),id:"serviceName",size:"sm",autoFocus:!0,value:u.serviceName,onChange:H})}),Object(I.jsx)(dt.a,{xs:4,children:Object(I.jsx)(G.a.Control,{placeholder:e("soajs:fields.ServiceVersion"),id:"serviceVersion",size:"sm",autoFocus:!0,value:u.serviceVersion,onChange:H})}),Object(I.jsx)(dt.a,{xs:4,children:Object(I.jsx)(G.a.Control,{placeholder:e("soajs:fields.ServiceGroup"),id:"serviceGroup",size:"sm",autoFocus:!0,value:u.serviceGroup,onChange:H})})]}),Object(I.jsxs)(lt.a,{className:"small mt-4",children:[Object(I.jsx)(dt.a,{xs:6,md:7,children:Object(I.jsx)(G.a.Control,{placeholder:e("soajs:fields.Route"),id:"route",size:"sm",autoFocus:!0,value:u.route,onChange:H})}),Object(I.jsx)(dt.a,{xs:3,children:Object(I.jsx)(G.a.Check,{id:"includeSOAJS",label:"Include SOAJS APIs",defaultChecked:u.includeSOAJS,onChange:H})}),Object(I.jsx)(dt.a,{xs:3,md:2,children:Object(I.jsxs)(z.a,{className:"float-right",variant:"dark",size:"sm",onClick:W,children:[Object(I.jsx)(vt.c,{})," ",e("soajs:buttons.Search")]})})]})]})}),s.length>0?Object(I.jsxs)(I.Fragment,{children:[s.map((function(e,t){return Object(I.jsx)(rt.a,{className:"m-1 p-2",variant:ra(e.method),children:Object(I.jsx)(lt.a,{children:Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(z.a,{size:"sm",className:"mr-2 pl-1 pr-1 pt-0 pb-0 float-left",variant:ra(e.method),children:Object(I.jsx)("span",{className:"small",children:e.method?e.method.toUpperCase():""})}),Object(I.jsx)("span",{className:"small float-left font-weight-bold mr-1",children:e.serviceName}),Object(I.jsxs)("span",{className:"small float-left mr-2 font-weight-bold text-success",children:[" v",e.v," "]}),Object(I.jsx)("span",{className:"small float-left",children:e.route}),Object(I.jsx)(z.a,{disabled:!e.route,variant:"light",className:"float-right ml-2 small pl-1 pr-1 pt-0 pb-0",onClick:function(){(function(e){return V.apply(this,arguments)})(e).catch()},children:Object(I.jsx)(E.c,{className:"small"})}),Object(I.jsx)("span",{className:"small float-right text-info",children:e.group})]})})},t)})),Object(I.jsx)("div",{className:"float-right mt-3",children:Object(I.jsx)(Lt,{currentPage:o,totalItems:h.totalItems,itemsPerPage:h.itemsPerPage,maxSize:h.maxSize,onClick:function(e){l(e),K(e)}})}),Object(I.jsx)("div",{className:"clearfix"}),Object(I.jsx)("hr",{})]}):null,k&&Object(I.jsx)(rt.a,{className:"m-1 p-2",variant:ra(k.method),children:Object(I.jsx)(lt.a,{children:Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(z.a,{size:"sm",className:"mr-2 pl-1 pr-1 pt-0 pb-0 float-left",variant:ra(k.method),children:Object(I.jsx)("span",{className:"small",children:k.method?k.method.toUpperCase():""})}),Object(I.jsx)("span",{className:"small float-left font-weight-bold mr-1",children:k.service}),Object(I.jsxs)("span",{className:"small float-left mr-2 font-weight-bold text-success",children:[" v",k.version," "]}),Object(I.jsx)("span",{className:"small float-left",children:k.api}),Object(I.jsx)("span",{className:"small float-right text-info",children:k.group})]})})}),Object(I.jsx)(Ot.a,{activeKey:U,children:A.map((function(t,a){return Object(I.jsxs)(rt.a,{variant:"light",className:"mt-2 mb-2 small",style:{borderColor:"#c6c8ca"},children:[Object(I.jsx)(lt.a,{children:Object(I.jsxs)(dt.a,{children:[Object(I.jsx)("b",{children:t.name}),Object(I.jsx)(it.a,{variant:"info ml-3",children:t.code}),Object(I.jsx)(la,{eventKey:a+1,handleClick:function(){F(U===a+1?null:a+1)},children:U===a+1?Object(I.jsx)(gt.b,{}):Object(I.jsx)(gt.a,{})})]})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:a+1,children:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{className:"p-2",children:[t.found_in_scope&&t.found_in_scope.envs.length>0&&Object(I.jsxs)(rt.a,{variant:"secondary",className:"p-1",children:["Scope usage",Object(I.jsxs)("span",{className:"float-right",children:["Environments:",Object(I.jsx)("span",{className:" info ml-2",children:t.found_in_scope.envs.join(", ").toUpperCase()})]})]},a),t.found_in_package&&t.found_in_package.packages.length>0&&Object(I.jsxs)("div",{children:[Object(I.jsx)("b",{children:"Package usage"}),t.found_in_package.packages.map((function(e,a){return Object(I.jsxs)(rt.a,{variant:"info",className:"p-1 m-1",children:[e,Object(I.jsx)("span",{className:"float-right",children:t.found_in_package.envs&&t.found_in_package.envs[e]&&Object(I.jsxs)(I.Fragment,{children:["Environments:",Object(I.jsx)("span",{className:"info ml-2",children:t.found_in_package.envs[e].join(", ").toUpperCase()})]})})]},a)}))]}),Object(I.jsx)("hr",{}),Object(I.jsxs)(me.a,{className:"p-3 mb-2",children:[Object(I.jsx)("b",{children:"Tenants usage"})," click on search to filter and fetch usage",Object(I.jsx)(lt.a,{className:"mt-2",children:Object(I.jsx)(dt.a,{children:Object(I.jsx)(G.a,{onSubmit:W,children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:9,md:10,children:Object(I.jsx)(G.a.Control,{id:"tenant",size:"sm",autoFocus:!0,value:u.tenant,onChange:H})}),Object(I.jsx)(dt.a,{xs:3,md:2,children:Object(I.jsxs)(z.a,{className:"float-right",variant:"dark",size:"sm",onClick:function(){(function(e){return J.apply(this,arguments)})(t.code).catch()},children:[Object(I.jsx)(vt.c,{})," ",e("soajs:buttons.Search")]})})]})})})}),M.code===t.code&&M.tenants&&Object(I.jsx)(lt.a,{children:Object(I.jsx)(dt.a,{children:Object(I.jsxs)(rt.a,{className:" mt-2 p-1 m-0",children:["Used by ",Object(I.jsx)(it.a,{variant:"secondary",children:M.count})," tenant(s)",M.count>10&&Object(I.jsxs)("span",{children:[", max ",10," are listed below use search to filter"]})]},a)})})]}),M.code===t.code&&M.tenants&&M.tenants.length>0&&Object(I.jsx)("div",{children:M.tenants.map((function(e,t){return Object(I.jsxs)(rt.a,{variant:"light",className:"p-2 m-1 border-secondary",children:[Object(I.jsx)("b",{children:e.name}),Object(I.jsx)("span",{className:"float-right",children:Object(I.jsx)(it.a,{variant:"secondary",children:e.code})}),Object(I.jsx)("hr",{}),e.applications.map((function(e,t){return Object(I.jsxs)(rt.a,{variant:"info",className:"p-1 m-1 small",children:[e.package,Object(I.jsxs)("span",{className:"float-right",children:["Environment:",Object(I.jsx)("span",{className:" info ml-2",children:e.key.env||"All environments"})]}),Object(I.jsx)("hr",{}),Object(I.jsx)("span",{style:{wordBreak:"break-all"},children:e.key.extKey})]},t)}))]},t)}))})]})]})})]},a)}))})]})}var ja=a(938),ua=a(111),ma=a(944);var ba=function(e){var t=e.modalOpt,a=e.setModalOpt,n=Object(Ie.a)(["common","soajs"]).t,s=function(){return a({show:!1,json:{},mode:"view",title:""})};return t&&Object(I.jsxs)(ma.a,{show:t.show,onHide:s,animation:!1,size:"xl",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(I.jsxs)(ma.a.Title,{children:[n("soajs:titles.DetailedInformation")," ",t.title]})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsx)(ue,{modes:["view","preview"],mode:t.mode||"view",json:t.json||{}})}),Object(I.jsx)(ma.a.Footer,{className:"bg-light",children:Object(I.jsx)(z.a,{variant:"info",onClick:s,children:n("soajs:buttons.Ok")})})]})},pa=a(76),ha=a.n(pa),Oa=Nt.getService(),xa=Pt.getService(),fa={get:"primary",post:"success",delete:"danger",put:"warning",patch:"info",head:"secondary",other:"light"};function ga(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(I.jsx)("div",{className:"float-right",type:"button",onClick:s,children:t})}function va(){var e=Object(Ie.a)(["common","soajs"]).t,t=Object(n.useState)([]),a=Object(y.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)([]),i=Object(y.a)(r,2),o=i[0],l=i[1],d=Object(n.useState)(null),j=Object(y.a)(d,2),u=j[0],m=j[1],b=Object(n.useState)("-- Select an environment --"),p=Object(y.a)(b,2),h=p[0],O=p[1],x=Object(n.useState)({threshold:0,dateFrom:"",dateTo:""}),f=Object(y.a)(x,2),k=f[0],w=f[1],C=Object(n.useState)(0),S=Object(y.a)(C,2),A=S[0],T=S[1],P=Object(n.useState)(1),L=Object(y.a)(P,2),M=L[0],E=L[1],_=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),D=Object(y.a)(_,2),R=D[0],U=D[1],F=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),K=Object(y.a)(F,2),B=K[0],H=K[1];function J(e,t){var a=e;if("string"===typeof a)try{a=JSON.parse(a)}catch(n){ie.error(n.message)}!function(e,t){H({show:!0,json:e,mode:"view",title:t||""})}(a,t)}function V(e,t){return W.apply(this,arguments)}function W(){return(W=Object(v.a)(g.a.mark((function e(t,a){var n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={limit:12,start:12*(t-1)},k.threshold&&(n.threshold={above:k.threshold}),k.dateFrom&&k.dateFrom.length>0&&(n.dates||(n.dates={}),n.dates.from=new Date(k.dateFrom).getTime()),k.dateTo&&k.dateTo.length>0&&(n.dates||(n.dates={}),n.dates.to=new Date(k.dateTo).getTime()),e.next=7,xa.getMonitorItems(n,a||u);case 7:(s=e.sent)&&(U({totalItems:s.count,maxSize:10,itemsPerPage:s.limit}),c(s.items)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),ie.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function q(){return(q=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(t),O(t),e.next=4,V(1,t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return X.apply(this,arguments)}function X(){return(X=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),E(1),e.next=4,V(1,null);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Oa.getEnvironments();case 3:(a=t.sent)&&e&&l(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ie.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(rt.a,{variant:"info",className:"mt-4 mb-2",children:[Object(I.jsx)("h6",{className:"float-left mr-3 mt-2",children:"Environment:"}),Object(I.jsx)(ja.a,{size:"sm",id:"dropdown-item-button",title:h,variant:"light",className:"small",children:o.map((function(e,t){return Object(I.jsx)(ua.a.Item,{as:"button",active:u===e.code,onClick:function(){(function(e){return q.apply(this,arguments)})(e.code).catch()},children:Object(I.jsx)("small",{children:e.code})},t)}))}),Object(I.jsx)("span",{className:"clearfix"})]}),Object(I.jsx)(me.a,{className:"p-2 mb-1",children:Object(I.jsx)(G.a,{onSubmit:Y,children:Object(I.jsxs)(lt.a,{className:"small",children:[Object(I.jsxs)(dt.a,{xs:3,children:[Object(I.jsx)(G.a.Control,{style:{fontSize:"80%"},id:"threshold",size:"sm",type:"number",min:0,value:k.threshold,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),"number"===e.target.type&&(t=parseInt(t)),w(Object(N.a)(Object(N.a)({},k),{},Object(We.a)({},e.target.id,t)))}}),Object(I.jsx)(G.a.Text,{className:"text-muted",children:"Request above threshold"})]}),Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(ha.a,{selected:k.dateFrom&&""!==k.dateFrom?new Date(k.dateFrom):null,onChange:function(e){e?(k.dateFrom=e.toISOString(),w(Object(N.a)({},k))):(k.dateFrom="",w(Object(N.a)({},k)))}}),Object(I.jsx)(G.a.Text,{className:"text-muted",children:"From Date"})]}),Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(ha.a,{selected:k.dateTo&&""!==k.dateTo?new Date(k.dateTo):null,onChange:function(e){e?(k.dateTo=e.toISOString(),w(Object(N.a)({},k))):(k.dateTo="",w(Object(N.a)({},k)))}}),Object(I.jsx)(G.a.Text,{className:"text-muted",children:"To Date"})]}),Object(I.jsx)(dt.a,{children:Object(I.jsxs)(z.a,{disabled:!u,className:"float-right",variant:"dark",size:"sm",onClick:Y,children:[Object(I.jsx)(vt.c,{})," ",e("soajs:buttons.Search")]})})]})})}),s&&s.length>0&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ba,{modalOpt:B,setModalOpt:H}),Object(I.jsx)(Ot.a,{activeKey:A,children:s.map((function(e,t){return Object(I.jsxs)(rt.a,{variant:"light",className:"mt-2 mb-2",style:{borderColor:"#c6c8ca"},children:[Object(I.jsx)(lt.a,{children:Object(I.jsxs)(dt.a,{children:[Object(I.jsxs)("span",{className:"float-left",children:[Object(I.jsx)(z.a,{size:"sm",className:"mr-2 pl-1 pr-1 pt-0 pb-0",variant:(a=e.method.toLowerCase(),a&&fa[a]?fa[a]:fa.other),children:Object(I.jsx)("span",{className:"small",children:e.method.toUpperCase()})}),Object(I.jsx)("span",{className:"font-weight-bold",children:e.api})," ",Object(I.jsxs)(it.a,{variant:"secondary",children:[e.time.total,"ms"]})]}),Object(I.jsxs)("span",{className:"float-right",children:[Object(I.jsxs)(it.a,{variant:"info mr-5",children:[e.name," v",e.version]}),Object(I.jsx)("span",{className:"mr-2 small",children:e.ts?new Date(e.ts).toISOString():null}),Object(I.jsx)(ga,{eventKey:t+1,handleClick:function(){T(A===t+1?null:t+1)},children:A===t+1?Object(I.jsx)(gt.b,{}):Object(I.jsx)(gt.a,{})})]}),Object(I.jsx)("span",{className:"clearfix"})]})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:t+1,children:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("hr",{className:"mt-2 mb-1"}),Object(I.jsx)(lt.a,{className:"mt-2 small",children:Object(I.jsxs)(dt.a,{children:[Object(I.jsxs)("span",{className:"float-left",children:[e.tenant?e.tenant.id:null," [",e.tenant?e.tenant.code:null,"]"]}),Object(I.jsxs)("span",{className:"float-right",children:[e.application?e.application.product:null," [",e.application?e.application.package:null,"]"]})]})}),Object(I.jsx)(lt.a,{className:"mt-3",children:Object(I.jsxs)(dt.a,{children:[e.body&&Object(I.jsx)(z.a,{className:"float-left ml-2",variant:"link",size:"sm",style:{borderColor:"#c6c8ca"},onClick:function(){J(e.body)},children:"body"}),Object(I.jsx)(z.a,{className:"float-right ml-2",variant:"link",size:"sm",style:{borderColor:"#c6c8ca"},onClick:function(){J(e.response)},children:"response"}),Object(I.jsx)(z.a,{className:"float-right ml-5",variant:"link",size:"sm",style:{borderColor:"#c6c8ca"},onClick:function(){J(e.query)},children:"request"}),Object(I.jsx)(z.a,{className:"float-right ml-2",variant:"link",size:"sm",style:{borderColor:"#c6c8ca"},onClick:function(){J(e.headers)},children:"header"}),Object(I.jsx)(z.a,{className:"float-right ml-2",variant:"link",size:"sm",style:{borderColor:"#c6c8ca"},onClick:function(){J({tenant:e.tenant,key:e.key,user:e.urac,time:e.time,url:e.url})},children:"info"})]})})]})})]},t);var a}))}),Object(I.jsx)("div",{className:"float-right mt-3",children:Object(I.jsx)(Lt,{currentPage:M,totalItems:R.totalItems,itemsPerPage:R.itemsPerPage,maxSize:R.maxSize,onClick:function(e){E(e),V(e,null).catch()}})}),Object(I.jsx)("div",{className:"clearfix"})]})]})}var ya=Nt.getService(),ka=Pt.getService(),wa={get:"primary",post:"success",delete:"danger",put:"warning",patch:"info",head:"secondary",other:"light"};function Ca(){var e=Object(Ie.a)(["common","soajs"]).t,t=Object(n.useState)([]),a=Object(y.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)([]),i=Object(y.a)(r,2),o=i[0],l=i[1],d=Object(n.useState)([]),j=Object(y.a)(d,2),u=j[0],m=j[1],b=Object(n.useState)([]),p=Object(y.a)(b,2),h=p[0],O=p[1],x=Object(n.useState)([]),f=Object(y.a)(x,2),k=f[0],w=f[1],C=Object(n.useState)(null),S=Object(y.a)(C,2),A=S[0],T=S[1],P=Object(n.useState)("-- Select an environment --"),L=Object(y.a)(P,2),M=L[0],E=L[1],_=Object(n.useState)({type:"api",username:"",tenantCode:"",api:"",service:"",dateFrom:"",dateTo:"",year:{from:0,to:0},month:{from:0,to:0},day:{from:0,to:0}}),D=Object(y.a)(_,2),R=D[0],U=D[1],F=Object(n.useState)(1),K=Object(y.a)(F,2),B=K[0],H=K[1],J=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),V=Object(y.a)(J,2),W=V[0],q=V[1];function Y(e,t){return X.apply(this,arguments)}function X(){return(X=Object(v.a)(g.a.mark((function e(t,a){var n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={limit:15,start:15*(t-1)},"api"===R.type&&R.api&&R.api.length>0&&(n.filters={api:R.api}),"user"===R.type&&R.username&&R.username.length>0&&(n.filters={username:R.username}),"tenant"===R.type&&R.tenantCode&&R.tenantCode.length>0&&(n.filters={tenantCode:R.tenantCode}),"service"===R.type&&R.service&&R.service.length>0&&(n.filters={service:R.service}),R.dateFrom&&R.dateFrom.length>0&&(n.year||(n.year={}),n.year.from=R.year.from,n.month||(n.month={}),n.month.from=R.month.from,n.day||(n.day={}),n.day.from=R.day.from),R.dateTo&&R.dateTo.length>0&&(n.year||(n.year={}),n.year.to=R.year.to,n.month||(n.month={}),n.month.to=R.month.to,n.day||(n.day={}),n.day.to=R.day.to),e.next=10,ka.getMonitorAnalytics(R.type,n,a||A);case 10:(s=e.sent)&&(q({totalItems:s[R.type].count,maxSize:10,itemsPerPage:s[R.type].limit}),s.api&&s.api.items?c(s.api.items):c([]),s.service&&s.service.items?l(s.service.items):l([]),s.user&&s.user.items?m(s.user.items):m([]),s.tenant&&s.tenant.items?O(s.tenant.items):O([])),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),ie.error(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function Q(){return(Q=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(t),E(t),e.next=4,Y(1,t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),U(Object(N.a)(Object(N.a)({},R),{},Object(We.a)({},e.target.id,t)))}function $(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),H(1),e.next=4,Y(1,null);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ya.getEnvironments();case 3:(a=t.sent)&&e&&w(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ie.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(rt.a,{variant:"info",className:"mt-4 mb-2",children:[Object(I.jsx)("h6",{className:"float-left mr-3 mt-2",children:"Environment:"}),Object(I.jsx)(ja.a,{size:"sm",id:"dropdown-item-button",title:M,variant:"light",className:"small",children:k.map((function(e,t){return Object(I.jsx)(ua.a.Item,{as:"button",active:A===e.code,onClick:function(){(function(e){return Q.apply(this,arguments)})(e.code).catch()},children:Object(I.jsx)("small",{children:e.code})},t)}))}),Object(I.jsx)("span",{className:"clearfix"})]}),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(me.a,{className:"p-2 mb-1",children:Object(I.jsx)(G.a,{onSubmit:$,children:Object(I.jsxs)(lt.a,{className:"small",children:[Object(I.jsxs)(dt.a,{md:3,children:[Object(I.jsxs)(G.a.Control,{style:{fontSize:"80%"},as:"select",id:"type",defaultValue:R.type,onChange:Z,children:[Object(I.jsx)("option",{value:"api",children:"API"}),Object(I.jsx)("option",{value:"user",children:"User"}),Object(I.jsx)("option",{value:"tenant",children:"Tenant"}),Object(I.jsx)("option",{value:"service",children:"Service"})]}),Object(I.jsx)(G.a.Text,{className:"text-muted",children:"View by"})]}),Object(I.jsxs)(dt.a,{md:4,children:["api"===R.type&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(G.a.Control,{style:{fontSize:"80%"},id:"api",size:"sm",value:R.api,onChange:Z}),Object(I.jsx)(G.a.Text,{className:"text-muted",children:"Filter by route"})]}),"user"===R.type&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(G.a.Control,{style:{fontSize:"80%"},id:"username",size:"sm",value:R.username,onChange:Z}),Object(I.jsx)(G.a.Text,{className:"text-muted",children:"Filter by username"})]}),"service"===R.type&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(G.a.Control,{style:{fontSize:"80%"},id:"service",size:"sm",value:R.service,onChange:Z}),Object(I.jsx)(G.a.Text,{className:"text-muted",children:"Filter by service"})]}),"tenant"===R.type&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(G.a.Control,{style:{fontSize:"80%"},id:"tenantCode",size:"sm",value:R.tenantCode,onChange:Z}),Object(I.jsx)(G.a.Text,{className:"text-muted",children:"Filter by tenant"})]})]}),Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(ha.a,{selected:R.dateFrom&&""!==R.dateFrom?new Date(R.dateFrom):null,onChange:function(e){if(e){var t=e.getFullYear(),a=e.getMonth(),n=e.getDate();R.dateFrom=e.toISOString(),R.year.from=t,R.month.from=a,R.day.from=n,U(Object(N.a)({},R))}else R.dateFrom="",R.year.from=0,R.month.from=0,R.day.from=0,U(Object(N.a)({},R))}}),Object(I.jsx)(G.a.Text,{className:"text-muted",children:"Specific Date"})]}),Object(I.jsx)(dt.a,{children:Object(I.jsxs)(z.a,{disabled:!A,className:"float-right",variant:"dark",size:"sm",onClick:$,children:[Object(I.jsx)(vt.c,{})," ",e("soajs:buttons.Search")]})})]})})}),s&&s.length>0&&Object(I.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(I.jsx)("thead",{className:"text-light bg-dark",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:e("soajs:fields.Api")}),Object(I.jsx)("th",{children:e("soajs:fields.Service")}),Object(I.jsx)("th",{className:"text-center",children:e("soajs:fields.Count")}),Object(I.jsx)("th",{className:"text-center",children:e("soajs:fields.Max")}),Object(I.jsx)("th",{className:"text-center",children:e("soajs:fields.Min")}),Object(I.jsx)("th",{children:e("soajs:fields.Date")})]})}),Object(I.jsx)("tbody",{children:s.map((function(e,t){return Object(I.jsxs)("tr",{children:[Object(I.jsxs)("td",{children:[Object(I.jsx)(z.a,{size:"sm",className:"mr-2 pl-1 pr-1 pt-0 pb-0",variant:(a=e.method.toLowerCase(),a&&wa[a]?wa[a]:wa.other),children:Object(I.jsx)("span",{className:"small",children:e.method.toUpperCase()})}),Object(I.jsx)("small",{children:e.api})]}),Object(I.jsx)("td",{children:Object(I.jsxs)("small",{children:[e.name," v",e.version]})}),Object(I.jsx)("td",{className:"text-center small",children:e.count}),Object(I.jsx)("td",{className:"text-center small",children:e.max_time_total}),Object(I.jsx)("td",{className:"text-center small",children:e.min_time_total}),Object(I.jsx)("td",{children:Object(I.jsxs)("small",{children:[e.year,"-",e.month+1,"-",e.day]})})]},t);var a}))})]}),o&&o.length>0&&Object(I.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(I.jsx)("thead",{className:"text-light bg-dark",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:e("soajs:fields.Service")}),Object(I.jsx)("th",{className:"text-center",children:e("soajs:fields.Count")}),Object(I.jsx)("th",{className:"text-center",children:e("soajs:fields.Max")}),Object(I.jsx)("th",{className:"text-center",children:e("soajs:fields.Min")}),Object(I.jsx)("th",{children:e("soajs:fields.Date")})]})}),Object(I.jsx)("tbody",{children:o.map((function(e,t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:Object(I.jsxs)("small",{children:[e.name," ",Object(I.jsxs)(it.a,{variant:"secondary",children:["v",e.version]})]})}),Object(I.jsx)("td",{className:"text-center small",children:e.count}),Object(I.jsx)("td",{className:"text-center small",children:e.max_time_total}),Object(I.jsx)("td",{className:"text-center small",children:e.min_time_total}),Object(I.jsx)("td",{children:Object(I.jsxs)("small",{children:[e.year,"-",e.month+1,"-",e.day]})})]},t)}))})]}),h&&h.length>0&&Object(I.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(I.jsx)("thead",{className:"text-light bg-dark",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:e("soajs:fields.Tenant")}),Object(I.jsx)("th",{className:"text-center",children:e("soajs:fields.Count")}),Object(I.jsx)("th",{className:"text-center",children:e("soajs:fields.Max")}),Object(I.jsx)("th",{className:"text-center",children:e("soajs:fields.Min")}),Object(I.jsx)("th",{children:e("soajs:fields.Date")})]})}),Object(I.jsx)("tbody",{children:h.map((function(e,t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:Object(I.jsxs)("small",{children:[e.tenant_id," [",Object(I.jsx)("span",{className:"text-info",children:e.tenant_code}),"]"]})}),Object(I.jsx)("td",{className:"text-center small",children:e.count}),Object(I.jsx)("td",{className:"text-center small",children:e.max_time_total}),Object(I.jsx)("td",{className:"text-center small",children:e.min_time_total}),Object(I.jsx)("td",{children:Object(I.jsxs)("small",{children:[e.year,"-",e.month+1,"-",e.day]})})]},t)}))})]}),u&&u.length>0&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(I.jsx)("thead",{className:"text-light bg-dark",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:e("soajs:fields.ID")}),Object(I.jsx)("th",{children:e("soajs:fields.Username")}),Object(I.jsx)("th",{children:e("soajs:fields.Email")}),Object(I.jsx)("th",{className:"text-center",children:e("soajs:fields.Count")}),Object(I.jsx)("th",{className:"text-center",children:e("soajs:fields.Max")}),Object(I.jsx)("th",{className:"text-center",children:e("soajs:fields.Min")}),Object(I.jsx)("th",{children:e("soajs:fields.Date")})]})}),Object(I.jsx)("tbody",{children:u.map((function(e,t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:Object(I.jsx)("small",{children:e.urac_id})}),Object(I.jsx)("td",{children:Object(I.jsx)("small",{children:e.urac_username})}),Object(I.jsx)("td",{children:Object(I.jsx)("small",{children:e.urac_email})}),Object(I.jsx)("td",{className:"text-center small",children:e.count}),Object(I.jsx)("td",{className:"text-center small",children:e.max_time_total}),Object(I.jsx)("td",{className:"text-center small",children:e.min_time_total}),Object(I.jsx)("td",{children:Object(I.jsxs)("small",{children:[e.year,"-",e.month+1,"-",e.day]})})]},t)}))})]}),Object(I.jsx)("div",{className:"float-right mt-3",children:Object(I.jsx)(Lt,{currentPage:B,totalItems:W.totalItems,itemsPerPage:W.itemsPerPage,maxSize:W.maxSize,onClick:function(e){H(e),Y(e,null).catch()}})}),Object(I.jsx)("div",{className:"clearfix"})]})]})]})}function Na(){return Object(I.jsxs)(k.g,{children:[Object(I.jsx)(L,{path:"/reports/api/metrics",children:Object(I.jsx)(qt,{})}),Object(I.jsx)(L,{path:"/reports/api/catalog",children:Object(I.jsx)(aa,{})}),Object(I.jsx)(L,{path:"/reports/api/acl",children:Object(I.jsx)(da,{})}),Object(I.jsx)(L,{path:"/reports/api/monitor",children:Object(I.jsx)(va,{})}),Object(I.jsx)(L,{path:"/reports/api/analytics",children:Object(I.jsx)(Ca,{})}),Object(I.jsx)(k.d,{render:function(){return Object(I.jsx)(k.c,{to:"/reports/api/metrics"})}})]})}var Sa=a(946),Aa=a(523),Ta=a(939),Pa=a(28);var Ia=function(){var e=Object(Ie.a)(["common","soajs"]).t;return Object(I.jsxs)(Sa.a,{collapseOnSelect:!0,expand:"md",className:"pt-0 pb-0",bg:"secondary",variant:"dark",children:[Object(I.jsx)("span",{}),Object(I.jsx)(Sa.a.Toggle,{"aria-controls":"reports-navbar-nav"}),Object(I.jsx)(Sa.a.Collapse,{id:"settings-navbar-nav",className:"justify-content-end",children:Object(I.jsxs)(Aa.a,{activeKey:window.location.pathname,children:[Object(I.jsx)(Pa.LinkContainer,{to:"/reports/api/metrics",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.APIMetrics")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/reports/api/catalog",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.APICatalog")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/reports/api/acl",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.APIACL")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/reports/api/monitor",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.APIMonitor")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/reports/api/analytics",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.APIAnalytics")})})})]})})]})};function La(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Ia,{}),Object(I.jsx)("div",{className:"bg-dark pt-1"}),Object(I.jsx)("div",{className:"main-area",children:Object(I.jsx)(pt.a,{className:"mt-3 mb-3",children:Object(I.jsx)(Na,{})})})]})}var Ma=a(952),za=a(942),Ea=ke.getService(),_a=Ct.getService();function Ga(e){var t=e.modalOpt,a=e.handleAction,s=e.handleClose,c=Object(Ie.a)(["common","soajs"]).t,r=P().ability,i=Object(n.useState)([]),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({groups:[],type:"whitelist"}),u=Object(y.a)(j,2),m=u[0],b=u[1];function p(e,t){var a=m;a.type=t,b(Object(N.a)({},a))}function h(e){return O.apply(this,arguments)}function O(){return(O=Object(v.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,_a.updateSettingsGroups({id:t.item._id,groups:m.groups,type:m.type,subType:t.item.configuration&&t.item.configuration.subType||null});case 4:ie.success(c("soajs:messages.groupsItemSuccess")),a(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t.item&&t.item.settings&&t.item.settings.acl&&t.item.settings.acl.groups&&b({groups:t.item.settings.acl.groups.value,type:t.item.settings.acl.groups.type}),a.next=4,Ea.getGroups();case 4:n=a.sent,e&&d(n),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),ie.error(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){return e=!1}}),[t]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(me.a,{className:"p-4 m-0 bg-light border-dark small",children:Object(I.jsxs)("fieldset",{children:[Object(I.jsx)(G.a.Check,{type:"radio",label:"whitelist",name:"groupsType",id:"groupsType1",defaultChecked:"whitelist"===m.type,onChange:function(e){p(e.target.checked,"whitelist")}}),Object(I.jsx)(G.a.Check,{type:"radio",label:"blacklist",name:"groupsType",id:"groupsType2",defaultChecked:"blacklist"===m.type,onChange:function(e){p(e.target.checked,"blacklist")}})]})}),Object(I.jsx)(xt.a,{className:"ml-2",children:l.map((function(e,a){return Object(I.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(I.jsx)(ot.a.Body,{className:"p-2",children:Object(I.jsx)(G.a.Check,{className:"small",type:"checkbox",defaultChecked:(n=t.item.settings,s=e.code,n&&n.acl&&n.acl.groups&&n.acl.groups.value&&n.acl.groups.value.includes(s)),label:e.code,onChange:function(t){!function(e,t){var a=m;e?a.groups.push(t):R.a.pullAll(a.groups,[t]),b(Object(N.a)({},a))}(t.target.checked,e.code)}},a+1)})},a);var n,s}))}),Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{children:[Object(I.jsx)(z.a,{className:"ml-1 float-right",variant:"warning",onClick:s,children:c("soajs:buttons.Close")}),r.can("market_item","settings_groups")&&"soajs"!==(t.item.configuration&&t.item.configuration.subType||null)&&Object(I.jsxs)(z.a,{className:"ml-1 float-right",variant:"success",disabled:!1,onClick:h,children:[c("soajs:buttons.Save")," - ",c("soajs:fields.Groups")]}),r.can("market_item","settings_groups")&&"soajs"===(t.item.configuration&&t.item.configuration.subType||null)&&Object(I.jsxs)(z.a,{className:"ml-1 float-right",variant:"success",disabled:!1,onClick:h,children:[c("soajs:buttons.Save")," - ",c("soajs:fields.Groups")]})]})]})}var Da=Nt.getService(),Ra=Ct.getService();function Ua(e){var t=e.modalOpt,a=e.handleAction,s=e.handleClose,c=Object(Ie.a)(["common","soajs"]).t,r=P().ability,i=Object(n.useState)([]),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({environments:[],type:"whitelist"}),u=Object(y.a)(j,2),m=u[0],b=u[1];function p(e,t){var a=m;a.type=t,b(Object(N.a)({},a))}function h(e){return O.apply(this,arguments)}function O(){return(O=Object(v.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,Ra.updateSettingsEnvironments({id:t.item._id,environments:m.environments,type:m.type,subType:t.item.configuration&&t.item.configuration.subType||null});case 4:ie.success(c("soajs:messages.environmentsItemSuccess")),a(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t.item&&t.item.settings&&t.item.settings.environments&&b({environments:t.item.settings.environments.value,type:t.item.settings.environments.type}),a.next=4,Da.getEnvironments();case 4:n=a.sent,e&&d(n),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),ie.error(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}return function(){return a.apply(this,arguments)}().catch(),function(){return e=!1}}),[t]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(me.a,{className:"p-4 m-0 bg-light border-dark small",children:Object(I.jsxs)("fieldset",{children:[Object(I.jsx)(G.a.Check,{type:"radio",label:"whitelist",name:"environmentsType",id:"environmentsType1",defaultChecked:"whitelist"===m.type,onChange:function(e){p(e.target.checked,"whitelist")}}),Object(I.jsx)(G.a.Check,{type:"radio",label:"blacklist",name:"environmentsType",id:"environmentsType2",defaultChecked:"blacklist"===m.type,onChange:function(e){p(e.target.checked,"blacklist")}})]})}),Object(I.jsx)(xt.a,{className:"ml-2",children:l.map((function(e,a){return Object(I.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(I.jsx)(ot.a.Body,{className:"p-2",children:Object(I.jsx)(G.a.Check,{className:"small",type:"checkbox",defaultChecked:(n=t.item.settings,s=e.code,n&&n.environments&&n.environments.value&&n.environments.value.includes(s)),label:e.code,onChange:function(t){!function(e,t){var a=m;e?a.environments.push(t):R.a.pullAll(a.environments,[t]),b(Object(N.a)({},a))}(t.target.checked,e.code)}},a+1)})},a);var n,s}))}),Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{children:[Object(I.jsx)(z.a,{className:"ml-1 float-right",variant:"warning",onClick:s,children:c("soajs:buttons.Close")}),r.can("market_item","settings_environments")&&"soajs"!==(t.item.configuration&&t.item.configuration.subType||null)&&Object(I.jsxs)(z.a,{className:"ml-1 float-right",variant:"success",disabled:!1,onClick:h,children:[c("soajs:buttons.Save")," - ",c("soajs:fields.Environments")]}),r.can("market_item","settings_environments")&&"soajs"===(t.item.configuration&&t.item.configuration.subType||null)&&Object(I.jsxs)(z.a,{className:"ml-1 float-right",variant:"success",disabled:!1,onClick:h,children:[c("soajs:buttons.Save")," - ",c("soajs:fields.Environments")]})]})]})}var Fa=a(71),Ka=a(947),Ba=a(941),Ha=a(181);function Ja(e){var t=Object.assign({},e),a=Object(Ie.a)(["common","soajs"]).t;return Object(I.jsx)(Ka.a,{placement:"top",overlay:Object(I.jsx)(Ba.a,{id:"tooltip-top}",children:a("soajs:buttons.Delete")}),children:Object(I.jsx)(z.a,Object(N.a)(Object(N.a)({variant:"danger",size:"sm"},t),{},{children:Object(I.jsx)(Ha.a,{})}))})}var Va=a(31);function Wa(e){var t=Object.assign({},e),a=Object(Ie.a)(["common","soajs"]).t;return Object(I.jsx)(Ka.a,{placement:"top",overlay:Object(I.jsx)(Ba.a,{id:"tooltip-top}",children:a("soajs:buttons.Add")}),children:Object(I.jsx)(z.a,Object(N.a)(Object(N.a)({variant:"success",size:"sm"},t),{},{children:Object(I.jsx)(Va.a,{})}))})}var qa=Ct.getService();function Ya(e,t,a,n){return Xa.apply(this,arguments)}function Xa(){return(Xa=Object(v.a)(g.a.mark((function e(t,a,n,s){var c,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={limit:10,start:10*(t-1)},a&&a.keywords&&""!==a.keywords&&(c.keywords=a.keywords),e.next=5,qa.getRecipes(c);case 5:r=e.sent,n({totalItems:r.count,maxSize:10,itemsPerPage:r.limit}),s(r.records),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Qa(e){var t=e.modalOpt,a=e.handleAction,s=e.handleClose,c=Object(Ie.a)(["common","soajs"]).t,r=P().ability,i=Object(n.useState)({recipes:[]}),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)([]),u=Object(y.a)(j,2),m=u[0],b=u[1],p=Object(n.useState)([]),h=Object(y.a)(p,2),O=h[0],x=h[1],f=Object(n.useState)(1),k=Object(y.a)(f,2),w=k[0],C=k[1],S=Object(n.useState)({keywords:""}),A=Object(y.a)(S,2),T=A[0],L=A[1],M=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),E=Object(y.a)(M,2),_=E[0],D=E[1];function U(){return(U=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ya(t,T,D,x);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Ya(1,T,D,x);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return B.apply(this,arguments)}function B(){return(B=Object(v.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,qa.updateSettingsRecipes({id:t.item._id,recipes:l.recipes,subType:t.item.configuration&&t.item.configuration.subType||null});case 4:ie.success(c("soajs:messages.recipesItemSuccess")),a(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n,s;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,n=[],!(t.item&&t.item.settings&&t.item.settings.recipes)){a.next=15;break}if(d({recipes:t.item.settings.recipes}),!(t.item.settings.recipes.length>0)){a.next=15;break}return a.prev=5,a.next=8,qa.getRecipesByIds(t.item.settings.recipes);case 8:(s=a.sent)&&Array.isArray(s)&&(n=s),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(5),ie.error(a.t0.message);case 15:return a.next=17,Ya(1,{keywords:""},D,x);case 17:e&&b(n),a.next=23;break;case 20:a.prev=20,a.t1=a.catch(0),ie.error(a.t1.message);case 23:case"end":return a.stop()}}),a,null,[[0,20],[5,12]])})))).apply(this,arguments)}return function(){return a.apply(this,arguments)}().catch(),function(){return e=!1}}),[t]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(me.a,{className:"p-3",children:Object(I.jsx)(xt.a,{children:Object(I.jsx)(ot.a,{children:Object(I.jsx)(ot.a.Body,{children:Object(I.jsxs)(G.a.Row,{children:[Object(I.jsx)(G.a.Label,{column:"xs",xs:3,children:c("soajs:buttons.Search")}),Object(I.jsx)(dt.a,{xs:6,children:Object(I.jsx)(G.a.Control,{id:"keywords",size:"sm",autoFocus:!0,value:T.keywords,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),L(Object(N.a)(Object(N.a)({},T),{},Object(We.a)({},e.target.id,t)))}})}),Object(I.jsx)(dt.a,{xs:3,children:Object(I.jsxs)(z.a,{className:"float-right",variant:"dark",size:"sm",onClick:function(e){return F.apply(this,arguments)},children:[Object(I.jsx)(vt.c,{})," ",c("soajs:buttons.Search")]})})]})})})})}),Object(I.jsx)("hr",{}),c("soajs:titles.allowedRecipes"),Object(I.jsx)(I.Fragment,{children:m.map((function(e,t){return Object(I.jsx)(ot.a,{className:"m-1 p-1 border-success",bg:"light",children:Object(I.jsxs)(ot.a.Body,{className:"p-2",children:[e.name," - ",Object(I.jsxs)("span",{className:"font-italic small text-danger",children:["[",e.type,"/",e.subtype,"]"]}),Object(I.jsxs)("span",{className:"float-right small",children:["V ",e.v,Object(I.jsx)(Ja,{className:"ml-3",onClick:function(){!function(e){var t=l;R.a.pullAll(t.recipes,[e._id]),d(t),t=m,R.a.pullAllBy(t,[{_id:e._id}],"_id"),b(Object(Fa.a)(t))}(e)}})]})]})},t)}))}),Object(I.jsx)("hr",{}),c("soajs:titles.listRecipes"),O.map((function(e,t){return Object(I.jsx)(ot.a,{className:"m-1 p-1",bg:"light",children:Object(I.jsxs)(ot.a.Body,{className:"p-2",children:[e.name," - ",Object(I.jsxs)("span",{className:"font-italic small text-danger",children:["[",e.type,"/",e.subtype,"]"]}),Object(I.jsxs)("span",{className:"float-right small",children:["V ",e.v,Object(I.jsx)(Wa,{disabled:l.recipes.includes(e._id),className:"ml-3",onClick:function(){!function(e){if(!l.recipes.includes(e._id)){var t=l;t.recipes.push(e._id),d(t),(t=m).push(e),b(Object(Fa.a)(t))}}(e)}})]})]})},t)})),O.length>0?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:"float-right mt-3",children:Object(I.jsx)(Lt,{currentPage:w,totalItems:_.totalItems,itemsPerPage:_.itemsPerPage,maxSize:_.maxSize,onClick:function(e){C(e),function(e){return U.apply(this,arguments)}(e).catch()}})}),Object(I.jsx)("div",{className:"clearfix"})]}):null,Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{children:[Object(I.jsx)(z.a,{className:"ml-1 float-right",variant:"warning",onClick:s,children:c("soajs:buttons.Close")}),r.can("market_item","settings_recipe")&&"soajs"!==(t.item.configuration&&t.item.configuration.subType||null)&&Object(I.jsxs)(z.a,{className:"ml-1 float-right",variant:"success",disabled:!1,onClick:function(e){return K(e,3)},children:[c("soajs:buttons.Save")," - ",c("soajs:catalogs.recipes")]}),r.can("market_item_soajs","settings_recipe")&&"soajs"===(t.item.configuration&&t.item.configuration.subType||null)&&Object(I.jsxs)(z.a,{className:"ml-1 float-right",variant:"success",disabled:!1,onClick:function(e){return K(e,3)},children:[c("soajs:buttons.Save")," - ",c("soajs:catalogs.recipes")]})]})]})}function Za(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAfterSubmit,s=Object(Ie.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})};return Object(I.jsx)(I.Fragment,{children:t.item&&Object(I.jsxs)(ma.a,{size:"xl",show:t.show,onHide:c,animation:!1,children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:s("soajs:catalogs.configure.title")})}),Object(I.jsxs)(ma.a.Body,{children:[Object(I.jsxs)(me.a,{className:"p-4",children:[Object(I.jsx)("span",{className:"font-weight-bold",children:t.item.name})," ",t.item.configuration&&t.item.configuration.port?[t.item.configuration.port]:"","- ",Object(I.jsx)("small",{children:t.item.configuration.group}),Object(I.jsx)("hr",{}),t.item.description]}),Object(I.jsx)(G.a,{onSubmit:function(e){e.preventDefault()},children:Object(I.jsxs)(Ma.a,{className:"mb-3",defaultActiveKey:"acl",id:"config",children:[Object(I.jsx)(za.a,{eventKey:"acl",title:s("soajs:fields.Groups"),children:Object(I.jsx)(Ga,{modalOpt:t,handleAction:n,handleClose:c})}),Object(I.jsx)(za.a,{eventKey:"environments",title:s("soajs:fields.Environments"),children:Object(I.jsx)(Ua,{modalOpt:t,handleAction:n,handleClose:c})}),(!t.settings||!t.settings.turnOffRecipesConfiguration)&&Object(I.jsx)(za.a,{eventKey:"recipes",title:s("soajs:fields.Recipes"),children:Object(I.jsx)(Qa,{modalOpt:t,handleAction:n,handleClose:c})})]})})]}),Object(I.jsx)(ma.a.Footer,{className:"bg-info",children:Object(I.jsx)("div",{className:"small font-weight-bold text-white",children:s("soajs:catalogs.configure.note")})})]})})}var $a=a(524);function en(e){var t=Object.assign({},e),a=Object(Ie.a)(["common","soajs"]).t;return Object(I.jsx)(Ka.a,{placement:"top",overlay:Object(I.jsx)(Ba.a,{id:"tooltip-top}",children:a("soajs:buttons.Edit")}),children:Object(I.jsx)(z.a,Object(N.a)(Object(N.a)({size:"sm",variant:"primary"},t),{},{children:Object(I.jsx)($a.a,{})}))})}function tn(e){var t=Object.assign({},e),a=Object(Ie.a)(["common","soajs"]).t;return Object(I.jsx)(Ka.a,{placement:"top",overlay:Object(I.jsx)(Ba.a,{id:"tooltip-top}",children:a("soajs:buttons.Configure")}),children:Object(I.jsx)(z.a,Object(N.a)(Object(N.a)({size:"sm",variant:"secondary"},t),{},{children:Object(I.jsx)(E.b,{})}))})}var an=a(525);function nn(e){var t=Object.assign({},e),a=Object(Ie.a)(["common","soajs"]).t;return Object(I.jsx)(Ka.a,{placement:"top",overlay:Object(I.jsx)(Ba.a,{id:"tooltip-top}",children:a("soajs:buttons.Details")}),children:Object(I.jsx)(z.a,Object(N.a)(Object(N.a)({size:"sm",variant:"success"},t),{},{children:Object(I.jsx)(an.a,{})}))})}var sn=Ct.getService();function cn(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(I.jsx)("div",{className:"float-left",type:"button",onClick:s,children:t})}function rn(e,t,a,n,s,c,r){return on.apply(this,arguments)}function on(){return(on=Object(v.a)(g.a.mark((function e(t,a,n,s,c,r,i){var o,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o={limit:50,start:50*(n-1),type:r,subType:i},s&&s.keywords&&""!==s.keywords&&(o.keywords=s.keywords),e.next=5,sn.getItems(o);case 5:l=e.sent,c&&l.records&&(t(l.records),a({totalItems:l.count,maxSize:10,itemsPerPage:l.limit})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function ln(e){var t=e.type,a=e.subType,s=e.Children,c=e.settings,r=e.addItem,i=e.editItem,o=e.deleteItem,l=Object(Ie.a)(["common","soajs"]).t,d=Object(n.useState)([]),j=Object(y.a)(d,2),u=j[0],m=j[1],b=Object(n.useState)(1),p=Object(y.a)(b,2),h=p[0],O=p[1],x=Object(n.useState)(1),f=Object(y.a)(x,2),w=f[0],C=f[1],S=Object(n.useState)({keywords:""}),A=Object(y.a)(S,2),T=A[0],P=A[1],L=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),M=Object(y.a)(L,2),E=M[0],_=M[1],D=Object(k.k)();function R(e){return U.apply(this,arguments)}function U(){return(U=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),C(1),e.next=4,F(1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return K.apply(this,arguments)}function K(){return(K=Object(v.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rn(m,_,n||w,T,!0,t,a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){var e=!0;return rn(m,_,1,null,e,t,a),function(){return e=!1}}),[t,a]);var B=Object(n.useState)({show:!1,item:null,settings:c}),H=Object(y.a)(B,2),J=H[0],V=H[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Za,{modalOpt:J,setModalOpt:V,handleAfterSubmit:F}),Object(I.jsx)(me.a,{className:"p-3 mb-2",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{lg:4,xl:3,children:[Object(I.jsxs)("div",{className:"float-left",children:[Object(I.jsx)("h5",{className:"font-weight-bold m-0",children:l("soajs:titles.env_cat_"+t)}),a&&Object(I.jsx)("span",{className:"text-muted small",children:a})]}),r&&Object(I.jsx)(Wa,{className:"float-right",onClick:function(){r((function(){F(1).catch()}))}})]}),Object(I.jsx)(dt.a,{children:Object(I.jsx)(G.a,{onSubmit:R,children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:9,md:10,children:Object(I.jsx)(G.a.Control,{id:"keywords",size:"sm",autoFocus:!0,value:T.keywords,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),P(Object(N.a)(Object(N.a)({},T),{},Object(We.a)({},e.target.id,t)))}})}),Object(I.jsx)(dt.a,{xs:3,md:2,children:Object(I.jsxs)(z.a,{className:"float-right",variant:"dark",size:"sm",onClick:R,children:[Object(I.jsx)(vt.c,{})," ",l("soajs:buttons.Search")]})})]})})})]})}),Object(I.jsxs)(Ot.a,{activeKey:h,children:[u.map((function(e,n){return Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:12,md:7,children:Object(I.jsxs)(cn,{as:ot.a.Header,eventKey:n+1,handleClick:function(){O(h===n+1?null:n+1)},children:[h===n+1?Object(I.jsx)(gt.b,{className:"mr-1"}):Object(I.jsx)(gt.a,{className:"mr-1"})," ",Object(I.jsx)("span",{className:"font-weight-bold",children:e.name})," ",e.configuration&&e.configuration.port?[e.configuration.port]:"","- ",Object(I.jsx)("small",{children:e.configuration.group})]})}),Object(I.jsxs)(dt.a,{xs:12,md:5,children:[Object(I.jsx)(tn,{className:"float-right ml-2",onClick:function(){!function(e){V({show:!0,item:e,settings:c})}(e)}}),Object(I.jsx)(nn,{className:"float-right ml-2",onClick:function(){!function(e){var n="/catalogs/";"soajs"===a&&(n+="soajs/"),"service"===t?n+="api":"custom"===t?n+="custom":"resource"===t?n+="resource":"daemon"===t?n+="daemon":"static"===t?n+="frontend":"config"===t&&(n+="config"),D.push(n+"/detail/"+e.type+"/"+e.name)}(e)}}),o&&Object(I.jsx)(Ja,{className:"float-right ml-2",onClick:function(){o(e,(function(){F(1).catch()}))}})]})]})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:n+1,children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)(me.a,{className:"p-3 bg-light",children:e.description?e.description:"-"}),e.versions&&Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(Ma.a,{className:"mb-3",defaultActiveKey:"1",id:"repos",style:{borderBottom:"1px solid #dee2e6"},children:e.versions.map((function(t,a){return Object(I.jsxs)(za.a,{eventKey:a+1,title:l("soajs:catalogs.version")+" "+t.version,children:[Object(I.jsx)(me.a,{className:"p-3 bg-light",children:e.src&&"manual"===e.src.provider?Object(I.jsxs)(I.Fragment,{children:[t.lastSync?Object(I.jsxs)(I.Fragment,{children:[l("soajs:fields.lastUpdated"),Object(I.jsx)("small",{className:"m-3",children:Object(I.jsx)("span",{className:"font-italic",children:Date(t.lastSync.ts)})})]}):"-",i&&Object(I.jsx)(en,{className:"float-right ml-3",onClick:function(){i(e,t.version,(function(){F(1).catch()}))}})]}):Object(I.jsx)(I.Fragment,{children:t.lastSync?Object(I.jsxs)(I.Fragment,{children:[l("soajs:catalogs.lastSynchronized"),Object(I.jsxs)("small",{className:"m-3",children:["from ",Object(I.jsx)("span",{className:"font-weight-bold",children:t.lastSync.branch||t.lastSync.tag})," @ ",Object(I.jsx)("span",{className:"font-italic",children:Date(t.lastSync.ts)})]}),Object(I.jsx)("hr",{}),l("soajs:catalogs.availableBranches"),Object(I.jsxs)("small",{className:"m-3",children:["[",t.branches?t.branches.join(", "):"","]"]})]}):"-"})}),s&&Object(I.jsx)(s,{item:e,version:t})]},a)}))})})]})})]},n+1)})),0===u.length?Object(I.jsx)("span",{children:l("soajs:catalogs.zeroMsg")}):null]}),u.length>0?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:"float-right mt-3",children:Object(I.jsx)(Lt,{currentPage:w,totalItems:E.totalItems,itemsPerPage:E.itemsPerPage,maxSize:E.maxSize,onClick:function(e){C(e),F(e).catch()}})}),Object(I.jsx)("div",{className:"clearfix"})]}):null]})}var dn={get:"primary",post:"success",delete:"danger",put:"warning",patch:"info",head:"secondary",other:"light"};function jn(e){return e&&dn[e]?dn[e]:dn.other}function un(e){var t=e.version,a={};if(t&&t.apis)for(var n=0;n<t.apis.length;n++)t.apis[n].group||(t.apis[n].group="No Group"),a[t.apis[n].group]||(a[t.apis[n].group]={}),a[t.apis[n].group][t.apis[n].m]||(a[t.apis[n].group][t.apis[n].m]=[]),a[t.apis[n].group][t.apis[n].m].push(t.apis[n]);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("hr",{}),Object.keys(a).map((function(e,t){return Object(I.jsxs)(ot.a,{className:"mb-2",children:[Object(I.jsx)(ot.a.Header,{children:Object(I.jsx)("span",{className:"font-weight-bold",children:e})}),Object(I.jsx)(ot.a.Body,{children:Object.keys(a[e]).map((function(t,n){return Object(I.jsx)("div",{children:a[e][t].map((function(e,a){return Object(I.jsx)(rt.a,{variant:jn(t),children:Object(I.jsx)(lt.a,{children:Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(z.a,{size:"sm",className:"mr-2 pl-1 pr-1 pt-0 pb-0 float-left",variant:jn(t),children:Object(I.jsx)("span",{className:"small",children:t.toUpperCase()})}),Object(I.jsx)("span",{className:"small float-left",children:e.v}),Object(I.jsx)("span",{className:"small float-right text-info",children:e.l})]})})},a)}))},t+n)}))})]},e+t)}))]})}function mn(){return Object(I.jsx)(ln,{type:"service",Children:un})}function bn(){return Object(I.jsx)(ln,{type:"custom"})}function pn(e){var t=e.modalOpt,a=e.setModalOpt,n=Object(Ie.a)(["common","soajs"]).t,s=function(){return a({show:!1,item:null})};return Object(I.jsxs)(ma.a,{show:t.show,onHide:s,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsxs)(ma.a.Title,{children:[n("soajs:titles.resourceEdit")," ",Object(I.jsx)(it.a,{variant:"light",children:t.item&&t.item.record.name})," ",Object(I.jsx)(it.a,{variant:"secondary",children:t.item&&"v"+t.item.version})]})}),Object(I.jsx)(ma.a.Body,{children:"Coming soon"}),Object(I.jsx)(ma.a.Footer,{children:Object(I.jsx)(z.a,{variant:"primary",onClick:s,children:n("soajs:buttons.Close")})})]})}var hn={src:{provider:"manual"},soa:{type:"resource",name:"",group:"",description:"",version:"",subType:"",tags:[],attributes:{att1:[],att2:[]},program:[],profile:{}},readme:"",release:""},On=null,xn=Ct.getService();function fn(e){var t=e.modalOpt,a=e.setModalOpt,s=Object(Ie.a)(["common","soajs"]).t,c=function(){return a({show:!1,reLoad:null})},r=Object(n.useState)(!1),i=Object(y.a)(r,2),o=i[0],l=i[1],d=Object(n.useState)(hn),j=Object(y.a)(d,2),u=j[0],m=j[1];function b(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),"number"===e.target.type&&(t=parseInt(t)),U(u,e.target.id,t),m(Object(N.a)({},u))}function p(){return(p=Object(v.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),l(!0),e.prev=2,e.next=5,xn.addResource({src:u.src,soa:On,documentation:{readme:u.readme,release:u.release}});case 5:ie.success(s("soajs:messages.add_resource")),t.reLoad&&t.reLoad(),c(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),ie.error(e.t0.message);case 13:l(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){m(hn),On=null}),[]),Object(I.jsx)(ma.a,{show:t.show,onHide:c,animation:!1,size:"lg",children:Object(I.jsxs)(G.a,{onSubmit:function(e){return p.apply(this,arguments)},children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:s("soajs:titles.resourceAdd")})}),Object(I.jsxs)(ma.a.Body,{children:[Object(I.jsx)(lt.a,{style:{height:"350px"},children:Object(I.jsx)(dt.a,{children:Object(I.jsx)(ue,{mode:"code",modes:["code","tree"],json:On||u.soa||null,onChange:function(e){On=e}})})}),Object(I.jsx)("hr",{}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Readme")}),Object(I.jsx)(G.a.Control,{style:{fontSize:"80%"},id:"readme",size:"sm",as:"textarea",rows:5,value:u.readme,onChange:b}),Object(I.jsx)(G.a.Text,{className:"text-info",children:"Markdown text"})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Release")}),Object(I.jsx)(G.a.Control,{style:{fontSize:"80%"},id:"release",size:"sm",as:"textarea",rows:5,value:u.release,onChange:b}),Object(I.jsx)(G.a.Text,{className:"text-info",children:"Markdown text"})]})]}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"primary",onClick:c,children:s("soajs:buttons.Close")}),Object(I.jsx)(_,{variant:"success",type:"submit",isLoading:o,disabled:!function(){var e=!0;return e=!!On&&((e=(e=(e=(e=e&&"resource"===On.type)&&On.name.length>0)&&On.group.length>0)&&On.description.length>0)&&On.version.length>0)}(),children:s("soajs:buttons.Add")})]})]})})}var gn=Ct.getService();function vn(e){var t=e.modalOpt,a=e.setModalOpt,n=Object(Ie.a)(["common","soajs"]).t,s=function(){return a({show:!1,item:null,reload:null})};function c(){return(c=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gn.deleteItem({type:t.item.type,name:t.item.name});case 3:ie.success(n("soajs:messages.delete_"+t.item.type)),t.reLoad&&t.reLoad(),s(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(I.jsxs)(ma.a,{show:t.show,onHide:s,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsxs)(ma.a.Title,{children:[n("soajs:titles.resourceDelete")," ",Object(I.jsx)(it.a,{variant:"light",children:t.item&&t.item.name})]})}),Object(I.jsx)(ma.a.Body,{children:n("soajs:messages.deleteQuestion")}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"primary",onClick:s,children:n("soajs:buttons.Close")}),Object(I.jsx)(z.a,{variant:"danger",onClick:function(){return c.apply(this,arguments)},children:n("soajs:buttons.Delete")})]})]})}function yn(){var e=P().ability,t=Object(n.useState)({show:!1,reLoad:null}),a=Object(y.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)({show:!1,item:null,reLoad:null}),i=Object(y.a)(r,2),o=i[0],l=i[1],d=Object(n.useState)({show:!1,item:null,reLoad:null}),j=Object(y.a)(d,2),u=j[0],m=j[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(vn,{modalOpt:u,setModalOpt:m}),Object(I.jsx)(pn,{modalOpt:o,setModalOpt:l}),Object(I.jsx)(fn,{modalOpt:s,setModalOpt:c}),Object(I.jsx)(ln,{type:"resource",editItem:e.can("market_item_resource","add")?function(e,t,a){!function(e,t){l({show:!0,item:e,reLoad:t})}({record:e,version:t},a)}:null,addItem:e.can("market_item_resource","add")?function(e){c({show:!0,reLoad:e})}:null,deleteItem:e.can("market_item","delete")?function(e,t){!function(e,t){m({show:!0,item:e,reLoad:t})}(e,t)}:null})]})}function kn(){return Object(I.jsx)(ln,{type:"daemon"})}function wn(){return Object(I.jsx)(ln,{type:"static"})}function Cn(){return Object(I.jsx)(ln,{type:"config",settings:{turnOffRecipesConfiguration:!0}})}function Nn(e){var t=Object.assign({},e),a=Object(Ie.a)(["common","soajs"]).t;return Object(I.jsx)(Ka.a,{placement:"top",overlay:Object(I.jsx)(Ba.a,{id:"tooltip-top}",children:a("soajs:buttons.View")}),children:Object(I.jsx)(z.a,Object(N.a)(Object(N.a)({size:"sm",variant:"info"},t),{},{children:Object(I.jsx)(Ha.c,{})}))})}var Sn=Ct.getService();function An(){var e=Object(Ie.a)(["common","soajs"]).t,t=P().ability,a=Object(n.useState)([]),s=Object(y.a)(a,2),c=s[0],r=s[1],i=Object(n.useState)(1),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({keywords:""}),u=Object(y.a)(j,2),m=u[0],b=u[1],p=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),h=Object(y.a)(p,2),O=h[0],x=h[1],f=Object(k.k)(),w=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),C=Object(y.a)(w,2),S=C[0],A=C[1];function T(e){return L.apply(this,arguments)}function L(){return(L=Object(v.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a={limit:10,start:10*(l-1)},m&&m.keywords&&""!==m.keywords&&(a.keywords=m.keywords),e.next=6,Sn.getRecipes(a);case 6:n=e.sent,x({totalItems:n.count,maxSize:10,itemsPerPage:n.limit}),r(n.records),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),ie.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={limit:10,start:10*(l-1)},t.next=4,Sn.getRecipes(a);case 4:n=t.sent,e&&n&&n.records&&(r(n.records),x({totalItems:n.count,maxSize:10,itemsPerPage:n.limit})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),ie.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[l]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ba,{modalOpt:S,setModalOpt:A}),Object(I.jsx)(me.a,{className:"p-3 mb-2",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{lg:4,children:[Object(I.jsx)("h5",{className:"font-weight-bold m-0 float-left",children:e("soajs:titles.env_cat_recipe")}),t.can("market_recipe","add")&&Object(I.jsxs)(z.a,{variant:"success",className:"float-right",size:"sm",onClick:function(){f.push("/catalogs/recipe/add")},children:[Object(I.jsx)(Va.a,{})," ",e("soajs:buttons.Add")]})]}),Object(I.jsx)(dt.a,{children:Object(I.jsx)(G.a,{onSubmit:T,children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:9,md:9,children:Object(I.jsx)(G.a.Control,{id:"keywords",size:"sm",autoFocus:!0,value:m.keywords,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),b(Object(N.a)(Object(N.a)({},m),{},Object(We.a)({},e.target.id,t)))}})}),Object(I.jsx)(dt.a,{xs:3,md:3,children:Object(I.jsxs)(z.a,{className:"float-right",variant:"dark",size:"sm",onClick:T,children:[Object(I.jsx)(vt.c,{})," ",e("soajs:buttons.Search")]})})]})})})]})}),c.map((function(e,a){return Object(I.jsx)(ot.a,{className:"m-1 p-1",bg:"light",children:Object(I.jsxs)(ot.a.Body,{className:"p-2",children:[Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{children:[e.name," - ",Object(I.jsxs)(it.a,{variant:"dark",className:"mr-2",children:["V ",e.v]}),e.locked&&Object(I.jsx)(E.c,{className:"text-danger"})]}),Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(it.a,{variant:"secondary",children:e.type})," ",Object(I.jsx)(it.a,{variant:"info",children:e.subtype}),Object(I.jsxs)("span",{className:"float-right small",children:[t.can("market_recipe","edit")&&Object(I.jsx)(en,{disabled:e.locked,className:"ml-3",onClick:function(){f.push("/catalogs/recipe/edit/"+e._id)}}),Object(I.jsx)(Nn,{className:"ml-3",onClick:function(){var t,a;t=e.recipe,a=e.name,A({show:!0,json:t,mode:"view",title:a||""})}})]})]})]}),Object(I.jsx)(lt.a,{className:"small text-muted",children:Object(I.jsx)(dt.a,{children:e.description})})]})},a)})),c.length>0?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:"float-right mt-3",children:Object(I.jsx)(Lt,{currentPage:l,totalItems:O.totalItems,itemsPerPage:O.itemsPerPage,maxSize:O.maxSize,onClick:function(e){d(e)}})}),Object(I.jsx)("div",{className:"clearfix"})]}):null]})}var Tn={get:"primary",post:"success",delete:"danger",put:"warning",patch:"info",head:"secondary",other:"light"};function Pn(e){return e&&Tn[e]?Tn[e]:Tn.other}function In(e){var t=e.version,a={};if(t&&t.apis)for(var n=0;n<t.apis.length;n++)t.apis[n].group||(t.apis[n].group="No Group"),a[t.apis[n].group]||(a[t.apis[n].group]={}),a[t.apis[n].group][t.apis[n].m]||(a[t.apis[n].group][t.apis[n].m]=[]),a[t.apis[n].group][t.apis[n].m].push(t.apis[n]);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("hr",{}),Object.keys(a).map((function(e,t){return Object(I.jsxs)(ot.a,{className:"mb-2",children:[Object(I.jsx)(ot.a.Header,{children:Object(I.jsx)("span",{className:"font-weight-bold",children:e})}),Object(I.jsx)(ot.a.Body,{children:Object.keys(a[e]).map((function(t,n){return Object(I.jsx)("div",{children:a[e][t].map((function(e,a){return Object(I.jsx)(rt.a,{variant:Pn(t),children:Object(I.jsx)(lt.a,{children:Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(z.a,{size:"sm",className:"mr-2 pl-1 pr-1 pt-0 pb-0 float-left",variant:Pn(t),children:Object(I.jsx)("span",{className:"small",children:t.toUpperCase()})}),Object(I.jsx)("span",{className:"small float-left",children:e.v}),Object(I.jsx)("span",{className:"small float-right text-info",children:e.l})]})})},a)}))},t+n)}))})]},e+t)}))]})}function Ln(){return Object(I.jsx)(ln,{type:"service",subType:"soajs",Children:In})}function Mn(){return Object(I.jsx)(ln,{type:"static",subType:"soajs"})}var zn=a(943),En=a(526),_n=a(367),Gn=a.n(_n),Dn=a(215),Rn=a.n(Dn),Un=(a(874),function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(B.a)(a,[{key:"componentDidMount",value:function(){Rn()({dom_id:"#swaggerContainer",url:this.props.url,spec:this.props.spec,presets:[Dn.presets.apis]})}},{key:"componentDidUpdate",value:function(e){this.props.ver!==e.ver&&Rn()({dom_id:"#swaggerContainer",url:this.props.url,spec:this.props.spec,presets:[Dn.presets.apis]})}},{key:"render",value:function(){return Object(I.jsx)("div",{id:"swaggerContainer"})}}]),a}(n.Component));Un.defaultProps={url:"",localVer:null};var Fn=Un,Kn=Ct.getService();function Bn(e){for(var t=e.item,a=e.ver,n=null,s=0;s<t.versions.length;s++)if(t.versions[s].version===a&&t.versions[s].swagger){n=t.versions[s].swagger;break}try{n&&(n=JSON.parse(n))}catch(c){ie.error(c.message)}return Object(I.jsx)(Fn,{spec:n||{},ver:a})}function Hn(e){for(var t=e.item,a=e.ver,n=null,s=0;s<t.versions.length;s++)if(t.versions[s].version===a&&t.versions[s].documentation&&t.versions[s].documentation.readme){n=t.versions[s].documentation.readme;break}return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(Gn.a,{children:n})})}function Jn(e){for(var t=e.item,a=e.ver,n=null,s=0;s<t.versions.length;s++)if(t.versions[s].version===a&&t.versions[s].documentation&&t.versions[s].documentation.release){n=t.versions[s].documentation.release;break}return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(Gn.a,{children:n})})}function Vn(){var e=Object(Ie.a)(["common","soajs"]).t,t=Object(n.useState)(1),a=Object(y.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(null),i=Object(y.a)(r,2),o=i[0],l=i[1],d=Object(k.m)().type,j=Object(k.m)().name,u=Object(k.m)().ver,m=Object(k.k)();function b(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(I.jsx)("div",{className:"float-left",type:"button",onClick:s,children:t})}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o&&o.name===j){t.next=6;break}return t.next=4,Kn.getItem(j,d);case 4:a=t.sent,e&&l(a);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),ie.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){return e=!1}}),[o,j,d]),Object(I.jsx)(I.Fragment,{children:o&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(me.a,{className:"p-4 mb-3",children:[Object(I.jsx)("span",{className:"font-weight-bold",children:o.name})," ",o.configuration&&o.configuration.port?[o.configuration.port]:"","- ",Object(I.jsx)("small",{children:o.configuration.group}),Object(I.jsx)("hr",{}),o.description]}),Object(I.jsxs)(Ot.a,{activeKey:s,children:[Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{children:Object(I.jsxs)(b,{as:ot.a.Header,eventKey:1,handleClick:function(){c(1===s?null:1)},children:[1===s?Object(I.jsx)(gt.b,{className:"mr-1"}):Object(I.jsx)(gt.a,{className:"mr-1"}),e("soajs:catalogs.metadata.title")]})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:1,children:Object(I.jsx)(ot.a.Body,{children:o.metadata&&Object(I.jsxs)(zn.a,{variant:"flush",children:[Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:catalogs.metadata.program"),":"]})," ",o.metadata.program]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:catalogs.metadata.tags"),":"]})," [",o.metadata.tags?o.metadata.tags.join(", "):"","]"]}),Object(I.jsxs)(En.a,{children:[Object(I.jsx)("span",{className:"font-weight-bold",children:e("soajs:catalogs.metadata.attributes")}),o.metadata.attributes&&Object(I.jsx)(xt.a,{children:Object.keys(o.metadata.attributes).map((function(e,t){return Object(I.jsx)(ot.a,{className:"text-white mt-2 mb-2 ml-2 mr-2",bg:"info",style:{minWidth:"20rem",maxWidth:"20rem"},children:Object(I.jsxs)(ot.a.Body,{className:"p-2",children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[e,":"]})," [",o.metadata.attributes[e].join(", "),"]"]})},t)}))})]})]})})})]},1),"service"===d&&Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{children:Object(I.jsxs)(b,{as:ot.a.Header,eventKey:2,handleClick:function(){c(2===s?null:2)},children:[2===s?Object(I.jsx)(gt.b,{className:"mr-1"}):Object(I.jsx)(gt.a,{className:"mr-1"}),e("soajs:catalogs.configuration.title")]})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:2,children:Object(I.jsx)(ot.a.Body,{children:Object(I.jsxs)(zn.a,{variant:"flush",children:[Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:catalogs.configuration.subType"),":"]})," ",o.configuration.subType]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:catalogs.configuration.requestTimeout"),":"]})," ",o.configuration.requestTimeout]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:catalogs.configuration.requestTimeoutRenewal"),":"]})," ",o.configuration.requestTimeoutRenewal]})]})})})]},2)]}),Object(I.jsx)("hr",{}),o.versions&&Object(I.jsxs)("div",{className:"bg-light p-2",children:[Object(I.jsxs)("div",{className:"mt-3",children:[Object(I.jsx)(ja.a,{size:"sm",id:"dropdown-item-button",title:u?"Version "+u:"Select a version:",variant:"info",className:"float-right",children:o.versions.map((function(e,t){return Object(I.jsx)(ua.a.Item,{as:"button",active:u&&u===e.version,onClick:function(){var t=window.location.pathname;t=t.substr(0,t.indexOf("/"+j)+j.length+1),m.push(t+"/"+e.version)},children:Object(I.jsxs)("small",{children:["version ",e.version]})},t)}))}),Object(I.jsx)("div",{className:"clearfix"})]}),u&&Object(I.jsxs)(Ma.a,{defaultActiveKey:"documentation",id:"uncontrolled-tab",children:[Object(I.jsx)(za.a,{eventKey:"documentation",title:e("soajs:titles.Documentation"),children:Object(I.jsxs)(Ot.a,{defaultActiveKey:"0",className:"mt-3 ml-3 mr-3",children:[Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{children:Object(I.jsx)(Ot.a.Toggle,{as:z.a,variant:"link",eventKey:"0",children:"Readme"})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:"0",children:Object(I.jsx)(ot.a.Body,{children:Object(I.jsx)(Hn,{item:o,ver:u})})})]}),Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{children:Object(I.jsx)(Ot.a.Toggle,{as:z.a,variant:"link",eventKey:"1",children:"Release"})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(I.jsx)(ot.a.Body,{children:Object(I.jsx)(Jn,{item:o,ver:u})})})]})]})}),"service"===o.type&&Object(I.jsx)(za.a,{eventKey:"swagger",title:e("soajs:titles.Swagger"),children:Object(I.jsx)(Bn,{item:o,ver:u})})]})]})]})})}function Wn(e){var t=Object.assign({},e),a=Object(Ie.a)(["common","soajs"]).t;return Object(I.jsx)(Ka.a,{placement:"top",overlay:Object(I.jsx)(Ba.a,{id:"tooltip-top}",children:a("soajs:buttons.Sync")}),children:Object(I.jsx)(z.a,Object(N.a)(Object(N.a)({size:"sm",variant:"info"},t),{},{children:Object(I.jsx)(Va.b,{})}))})}function qn(e){var t=Object.assign({},e),a=Object(Ie.a)(["common","soajs"]).t;return Object(I.jsx)(Ka.a,{placement:"top",overlay:Object(I.jsx)(Ba.a,{id:"tooltip-top}",children:a("soajs:buttons.TurnOff")}),children:Object(I.jsx)(z.a,Object(N.a)(Object(N.a)({size:"sm",variant:"warning"},t),{},{children:Object(I.jsx)(vt.b,{})}))})}function Yn(e){var t=Object.assign({},e),a=Object(Ie.a)(["common","soajs"]).t;return Object(I.jsx)(Ka.a,{placement:"top",overlay:Object(I.jsx)(Ba.a,{id:"tooltip-top}",children:a("soajs:buttons.TurnOn")}),children:Object(I.jsx)(z.a,Object(N.a)(Object(N.a)({size:"sm",variant:"light"},t),{},{children:Object(I.jsx)(vt.b,{})}))})}var Xn=wt.getService();function Qn(e){var t=e.branches,a=(e.t,e.ability),n=e.synBranch,s=e.turnOffBranch,c=e.turnOnBranch,r=!1;return t&&Array.isArray(t)&&t.length>0&&(r=!0),r&&Object(I.jsx)("div",{className:"mt-5",children:Object(I.jsx)(xt.a,{children:t.map((function(e,t){return e.active?Object(I.jsx)(ot.a,{className:"mb-3",border:"success",style:{minWidth:"21rem",maxWidth:"21rem"},children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)("small",{children:e.name}),a.can("repo_branch","turnOff")&&Object(I.jsx)(qn,{className:"float-right ml-3",onClick:function(){s(e.name)}}),a.can("repo_branch","synchronize")&&Object(I.jsx)(Wn,{className:"float-right ml-3",onClick:function(){n(e.name)}})]})},t):Object(I.jsx)(ot.a,{className:"mb-3",border:"dark",style:{minWidth:"21rem",maxWidth:"21rem"},children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)("small",{children:e.name}),a.can("repo_branch","turnOn")&&Object(I.jsx)(Yn,{className:"float-right ml-3",onClick:function(){c(e.name)}})]})},t)}))})})}function Zn(e){var t=e.t,a=e.ability,s=e.turnOffTag,c=e.turnOnTag,r=e.repository,i=e.showTagsFor,o=e.showTagsForList,l=e.searchTag,d=Object(n.useState)({tag:""}),j=Object(y.a)(d,2),u=j[0],m=j[1];return Object(I.jsxs)("div",{className:"mt-5",children:[Object(I.jsx)(G.a,{onSubmit:function(e){e.preventDefault()},children:Object(I.jsx)(G.a.Group,{children:Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"xs",xs:2,children:t("soajs:buttons.Search")}),Object(I.jsx)(dt.a,{xs:7,children:Object(I.jsx)(G.a.Control,{id:"tag",size:"sm",autoFocus:!0,value:u.tag,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),m(Object(N.a)(Object(N.a)({},u),{},Object(We.a)({},e.target.id,t)))}})}),Object(I.jsx)(dt.a,{xs:3,children:Object(I.jsx)(z.a,{className:"ml-3",variant:"dark",size:"sm",onClick:function(){l(u.tag)},children:Object(I.jsx)(vt.c,{})})})]})})}),Object(I.jsx)("hr",{}),i&&i===r&&Object(I.jsx)(xt.a,{children:o&&o.map((function(e,t){return e.active?Object(I.jsx)(ot.a,{className:"mb-3",border:"success",style:{minWidth:"21rem",maxWidth:"21rem"},children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)("small",{children:e.name}),a.can("repo_tag","turnOff")&&Object(I.jsx)(qn,{className:"float-right ml-3",onClick:function(){s(e.name)}})]})},t):Object(I.jsx)(ot.a,{className:"mb-3",border:"dark",style:{minWidth:"21rem",maxWidth:"21rem"},children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)("small",{children:e.name}),a.can("repo_tag","turnOn")&&Object(I.jsx)(Yn,{className:"float-right ml-3",onClick:function(){c(e.name)}})]})},t)}))})]})}function $n(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(I.jsx)("div",{className:"float-left",type:"button",onClick:s,children:t})}function es(e){var t=e.t,a=e.onModalOpt,n=e.setOnModalOpt,s=function(){return n({show:!1,opts:null})};return Object(I.jsxs)(ma.a,{size:"lg",show:a.show,onHide:s,animation:!1,children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:t("soajs:development.repositories.turnOnTitle")})}),Object(I.jsxs)(ma.a.Body,{children:[t("soajs:development.repositories.turnOnMsg"),Object(I.jsx)("hr",{}),a.opts&&Object(I.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(I.jsx)("thead",{className:"text-light bg-dark",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:t("soajs:development.repositories.name")}),Object(I.jsx)("th",{children:t("soajs:development.repositories.type")}),Object(I.jsx)("th",{children:t("soajs:development.repositories.swagger")}),Object(I.jsx)("th",{})]})}),Object(I.jsx)("tbody",{children:a.opts&&a.opts.map((function(e,t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:e.name}),Object(I.jsx)("td",{className:"small",children:e.type}),Object(I.jsx)("td",{className:"small",children:e.swagger?"true":"false"}),Object(I.jsx)("td",{className:"small text-danger",children:e.error})]},t)}))})]})]}),Object(I.jsx)(ma.a.Footer,{children:Object(I.jsx)(z.a,{variant:"info",onClick:s,children:t("soajs:buttons.Ok")})})]})}function ts(e,t,a,n,s){return as.apply(this,arguments)}function as(){return(as=Object(v.a)(g.a.mark((function e(t,a,n,s,c){var r,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={limit:50,skip:50*(n-1)},c&&(c.textSearch&&""!==c.textSearch&&(r.textSearch=c.textSearch),c.active&&(r.active=!0),c.leaf&&(r.leaf=!0)),e.next=5,Xn.getRepositories(r);case 5:i=e.sent,s&&i.repositories&&(t(i.repositories),a({totalItems:i.count,maxSize:10,itemsPerPage:i.limit})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function ns(){var e=Object(Ie.a)(["common","soajs"]).t,t=P().ability,a=Object(n.useState)([]),s=Object(y.a)(a,2),c=s[0],r=s[1],i=Object(n.useState)(null),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)(null),u=Object(y.a)(j,2),m=u[0],b=u[1],p=Object(n.useState)(1),h=Object(y.a)(p,2),O=h[0],x=h[1],f=Object(n.useState)(1),k=Object(y.a)(f,2),w=k[0],C=k[1],S=Object(n.useState)({textSearch:"",active:!1,leaf:!1}),A=Object(y.a)(S,2),T=A[0],L=A[1],M=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),E=Object(y.a)(M,2),_=E[0],D=E[1];function U(e){return F.apply(this,arguments)}function F(){return(F=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),C(1),e.next=4,ts(r,D,1,!0,T);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),L(Object(N.a)(Object(N.a)({},T),{},Object(We.a)({},e.target.id,t)))}function B(e){return H.apply(this,arguments)}function H(){return(H=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ts(r,D,t||w,!0,T);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(v.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xn.turnOnTag({id:t._id,owner:t.source[0].name,provider:t.provider,tag:a});case 3:return se(e.sent),e.next=7,B();case 7:return t.tags||(t.tags=[]),t.tags.push({name:a,active:!0}),e.next=11,re(t);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),ie.error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function V(){return(V=Object(v.a)(g.a.mark((function t(a,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Xn.turnOffTag({id:a._id,owner:a.source[0].name,provider:a.provider,tag:n});case 3:return ie.success(e("soajs:development.repositories.turnOffTagMsg")),t.next=6,B();case 6:return a.tags||(a.tags=[]),R.a.pullAllBy(a.tags,[{name:n}],"name"),t.next=10,re(a);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),ie.error(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}function W(){return(W=Object(v.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xn.turnOnBranch({id:t._id,owner:t.source[0].name,provider:t.provider,branch:a});case 3:return se(e.sent),e.next=7,B();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function q(){return(q=Object(v.a)(g.a.mark((function t(a,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Xn.turnOffBranch({id:a._id,owner:a.source[0].name,provider:a.provider,branch:n});case 3:return ie.success(e("soajs:development.repositories.turnOffBranchMsg")),t.next=6,B();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),ie.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function Y(){return(Y=Object(v.a)(g.a.mark((function t(a,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Xn.syncBranch({id:a._id,owner:a.source[0].name,provider:a.provider,branch:n});case 3:ie.success(e("soajs:development.repositories.syncMsg")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),ie.error(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function X(){return(X=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Xn.syncRepository({id:a._id,owner:a.source[0].name,provider:a.provider});case 3:return ie.success(e("soajs:development.repositories.syncMsg")),t.next=6,B();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),ie.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function Q(){return(Q=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Xn.turnOffRepository({id:a._id,owner:a.source[0].name,provider:a.provider});case 3:return ie.success(e("soajs:development.repositories.turnOffRepo")),t.next=6,B();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),ie.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function Z(){return(Z=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Xn.turnOnRepository({id:a._id,owner:a.source[0].name,provider:a.provider});case 3:return ie.success(e("soajs:development.repositories.turnOnRepo")),t.next=6,B();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),ie.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function $(){return($=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Xn.deleteRepository({id:a._id});case 3:return ie.success(e("soajs:development.repositories.deleteRepo")),t.next=6,B();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),ie.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}Object(n.useEffect)((function(){var e=!0;return ts(r,D,1,e,null),function(){return e=!1}}),[]);var ee=Object(n.useState)({show:!1,opts:null}),te=Object(y.a)(ee,2),ae=te[0],ne=te[1];function se(e){e&&!Array.isArray(e)&&(e=[e]),ne({show:!0,opts:e})}function ce(){return(ce=Object(v.a)(g.a.mark((function e(t,a){var n,s,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xn.getTag({id:t._id,tag:a});case 3:n=e.sent,s=[],n&&n.name&&(t.tags&&Array.isArray(t.tags)&&t.tags.length>0?(c=R.a.findIndex(t.tags,["name",n.name]),s=-1!==c?[t.tags[c]]:[n]):s=[n]),b(s),d(t.repository),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function re(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(v.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xn.getTags({id:t._id,count:10});case 3:a=e.sent,n=[],a&&a.tags&&Array.isArray(a.tags)&&a.tags.length>0&&(t.tags&&Array.isArray(t.tags)&&t.tags.length>0?(R.a.pullAllBy(a.tags,t.tags,"name"),n=R.a.concat(t.tags,a.tags)):n=a.tags),b(n),d(t.repository),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(es,{t:e,onModalOpt:ae,setOnModalOpt:ne}),Object(I.jsx)(me.a,{className:"p-3",children:Object(I.jsxs)(G.a,{onSubmit:U,children:[Object(I.jsxs)(xt.a,{children:[Object(I.jsx)(ot.a,{children:Object(I.jsx)(ot.a.Body,{children:Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{children:e("soajs:buttons.Search")}),Object(I.jsx)(G.a.Control,{id:"textSearch",size:"sm",autoFocus:!0,value:T.textSearch,onChange:K})]})})}),Object(I.jsx)(ot.a,{children:Object(I.jsx)(ot.a.Body,{children:Object(I.jsxs)(zn.a,{variant:"flush",children:[Object(I.jsx)(En.a,{children:Object(I.jsx)(G.a.Check,{id:"active",className:"small",label:"Only Activated Repositories",defaultChecked:T.active,onChange:K})}),Object(I.jsx)(En.a,{children:Object(I.jsx)(G.a.Check,{id:"leaf",className:"small",label:"Only Leaf Repositories",defaultChecked:T.leaf,onChange:K})})]})})})]}),Object(I.jsxs)(z.a,{className:"mt-3 float-right",variant:"dark",size:"sm",onClick:U,children:[Object(I.jsx)(vt.c,{})," ",e("soajs:buttons.Search")]}),Object(I.jsx)("span",{className:"clearfix"})]})}),Object(I.jsxs)(Ot.a,{activeKey:O,children:[c.map((function(a,n){return Object(I.jsxs)(ot.a,{children:[Object(I.jsxs)(ot.a.Header,{children:[Object(I.jsxs)($n,{as:ot.a.Header,eventKey:n+1,handleClick:function(){x(O===n+1?null:n+1)},children:[O===n+1?Object(I.jsx)(gt.b,{className:"mr-1"}):Object(I.jsx)(gt.a,{className:"mr-1"})," ",Object(I.jsx)("span",{className:"font-weight-bold",children:a.repository})]}),!a.source||a.source.length<1?Object(I.jsx)(I.Fragment,{children:t.can("repo","delete")&&Object(I.jsx)(Ja,{className:"float-right ml-3",onClick:function(){!function(e){$.apply(this,arguments)}(a)}})}):Object(I.jsx)(I.Fragment,{children:a.active?Object(I.jsxs)(I.Fragment,{children:[t.can("repo","turnOff")&&Object(I.jsx)(qn,{className:"float-right ml-3",onClick:function(){!function(e){Q.apply(this,arguments)}(a)}}),t.can("repo","synchronize")&&Object(I.jsx)(Wn,{className:"float-right ml-3",onClick:function(){!function(e){X.apply(this,arguments)}(a)}})]}):Object(I.jsx)(I.Fragment,{children:t.can("repo","turnOn")&&Object(I.jsx)(Yn,{className:"float-right ml-3",onClick:function(){!function(e){Z.apply(this,arguments)}(a)}})})})]}),Object(I.jsx)(Ot.a.Collapse,{eventKey:n+1,children:Object(I.jsx)(ot.a.Body,{children:a.active&&Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(Ma.a,{defaultActiveKey:"branch",id:"repos",style:{borderBottom:"1px solid #dee2e6"},onSelect:function(e){"tag"===e&&re(a)},children:[Object(I.jsx)(za.a,{eventKey:"branch",title:e("soajs:development.repositories.Branches"),children:Object(I.jsx)(Qn,{branches:a.branches,t:e,ability:t,synBranch:function(e){!function(e,t){Y.apply(this,arguments)}(a,e)},turnOffBranch:function(e){!function(e,t){q.apply(this,arguments)}(a,e)},turnOnBranch:function(e){!function(e,t){W.apply(this,arguments)}(a,e)}})}),Object(I.jsx)(za.a,{eventKey:"tag",title:e("soajs:development.repositories.Tags"),children:Object(I.jsx)(Zn,{t:e,ability:t,turnOffTag:function(e){!function(e,t){V.apply(this,arguments)}(a,e)},turnOnTag:function(e){!function(e,t){J.apply(this,arguments)}(a,e)},repository:a.repository,showTagsFor:l,showTagsForList:m,searchTag:function(e){!function(e,t){ce.apply(this,arguments)}(a,e)}})})]})})})})]},n+1)})),0===c.length?Object(I.jsx)("span",{children:e("soajs:development.repositories.zeroMsg")}):null]}),c.length>0?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:"float-right mt-3",children:Object(I.jsx)(Lt,{currentPage:w,totalItems:_.totalItems,itemsPerPage:_.itemsPerPage,maxSize:_.maxSize,onClick:function(e){C(e),B(e)}})}),Object(I.jsx)("div",{className:"clearfix"})]}):null]})}var ss=a(182),cs=a(286),rs=a(191),is=a(527),os=null,ls=null,ds=null,js=[],us=[],ms=null,bs=null,ps=Ct.getService();function hs(e){var t=e.starterFields,a=e.mode,s=e.itemId,c=Object(Ie.a)(["common","soajs"]).t,r=Object(n.useState)(ss),i=Object(y.a)(r,2),o=i[0],l=i[1],d=Object(k.k)();function j(){return(j=Object(v.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o.recipe.deployOptions.readinessProbe=ls,o.recipe.deployOptions.liveinessProbe=os,o.recipe.deployOptions.securityContext=ds,o.recipe.deployOptions.voluming=js,o.recipe.deployOptions.ports=us,o.recipe.deployOptions.labels=ms,o.recipe.deployOptions.execCommands=bs,o.envs.length>0)for(t=0;t<o.envs.length;t++)o.recipe.buildOptions.env[o.envs[t].name]={type:o.envs[t].type},"static"!==o.envs[t].type&&"computed"!==o.envs[t].type||(o.recipe.buildOptions.env[o.envs[t].name].value=o.envs[t].value),"userInput"===o.envs[t].type&&(o.recipe.buildOptions.env[o.envs[t].name].label=o.envs[t].label,o.recipe.buildOptions.env[o.envs[t].name].default=o.envs[t].default,o.recipe.buildOptions.env[o.envs[t].name].fieldMsg=o.envs[t].fieldMsg),"secret"===o.envs[t].type&&(o.recipe.buildOptions.env[o.envs[t].name].key=o.envs[t].key,o.recipe.buildOptions.env[o.envs[t].name].secret=o.envs[t].secret);if(n={name:o.name,type:o.type,description:o.description,subtype:o.subtype,recipe:o.recipe},"add"!==a){e.next=14;break}return e.next=13,ps.addRecipe(n);case 13:ie.success(c("soajs:messages.addRecipe"));case 14:if("edit"!==a){e.next=18;break}return e.next=17,ps.updateRecipe(s,n);case 17:ie.success(c("soajs:messages.editRecipe"));case 18:d.push("/catalogs/recipe"),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),ie.error(e.t0.message);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})))).apply(this,arguments)}function u(e,t){var a=e.target.value,n=e.target.id;o.envs[t][n]=a,l(Object(N.a)({},o))}function m(e){var t=e.target.value,a=e.target.id;e.target.hasOwnProperty("checked")&&(t=e.target.checked),"number"===e.target.type&&(t=parseInt(t)),U(o,a,t),l(Object(N.a)({},o))}function b(e){return js[e]&&js[e].kubernetes?js[e].kubernetes:o.recipe.deployOptions.voluming[e]&&o.recipe.deployOptions.voluming[e].kubernetes?o.recipe.deployOptions.voluming[e].kubernetes:null}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e&&(ls=t.recipe.deployOptions.readinessProbe,os=t.recipe.deployOptions.liveinessProbe,us=t.recipe.deployOptions.ports,js=t.recipe.deployOptions.voluming,ms=t.recipe.deployOptions.labels,bs=t.recipe.deployOptions.execCommands,ds=t.recipe.deployOptions.securityContext,n=R.a.merge({},t),l(Object(N.a)({},n)));case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return function(){return a.apply(this,arguments)}().catch(),function(){return e=!1}}),[t]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h5",{className:"font-weight-bold",children:c("soajs:titles."+a+"Recipe")}),Object(I.jsxs)(G.a,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Name")}),Object(I.jsx)(G.a.Control,{id:"name",size:"sm",value:o.name,onChange:m})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Description")}),Object(I.jsx)(G.a.Control,{id:"description",size:"sm",as:"textarea",rows:2,value:o.description,onChange:m})]}),Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Type")}),Object(I.jsx)(G.a.Control,{id:"type",size:"sm",value:o.type,onChange:m})]})}),Object(I.jsx)(dt.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Category")}),Object(I.jsx)(G.a.Control,{id:"subtype",size:"sm",value:o.subtype,onChange:m})]})})]}),Object(I.jsx)("hr",{className:"mt-1"}),Object(I.jsx)(lt.a,{children:Object(I.jsx)(dt.a,{children:Object(I.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(I.jsxs)(ot.a,{className:"mb-3",children:[Object(I.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:Object(I.jsx)(Ot.a.Toggle,{as:z.a,variant:"link",eventKey:"1",children:Object(I.jsx)("h6",{children:"Image Information"})})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(I.jsxs)(ot.a.Body,{className:"pb-0",children:[Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Prefix")}),Object(I.jsx)(G.a.Control,{id:"recipe.deployOptions.image.prefix",size:"sm",value:o.recipe.deployOptions.image.prefix,onChange:m})]})}),Object(I.jsx)(dt.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Name")}),Object(I.jsx)(G.a.Control,{id:"recipe.deployOptions.image.name",size:"sm",value:o.recipe.deployOptions.image.name,onChange:m})]})}),Object(I.jsx)(dt.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Tag")}),Object(I.jsx)(G.a.Control,{id:"recipe.deployOptions.image.tag",size:"sm",value:o.recipe.deployOptions.image.tag,onChange:m})]})})]}),Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Type")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"recipe.deployOptions.image.repositoryType",defaultValue:o.recipe.deployOptions.image.repositoryType,onChange:m,children:[Object(I.jsx)("option",{value:"public",children:"Public"}),Object(I.jsx)("option",{value:"private",children:"Private"})]})]})}),Object(I.jsx)(dt.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.PullPolicy")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"recipe.deployOptions.image.pullPolicy",defaultValue:o.recipe.deployOptions.image.pullPolicy,onChange:m,children:[Object(I.jsx)("option",{value:"IfNotPresent",children:"IfNotPresent"}),Object(I.jsx)("option",{value:"Always",children:"Always"}),Object(I.jsx)("option",{value:"Never",children:"Never"})]})]})}),Object(I.jsx)(dt.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Shell")}),Object(I.jsx)(G.a.Control,{id:"recipe.deployOptions.image.shell",size:"sm",value:o.recipe.deployOptions.image.shell,onChange:m})]})})]}),Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{className:"float-left",children:c("soajs:fields.Override")}),Object(I.jsx)(G.a.Check,{className:"float-right",id:"recipe.deployOptions.image.override",size:"sm",type:"switch",checked:o.recipe.deployOptions.image.override,onChange:m})]})}),Object(I.jsx)(dt.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{className:"float-left",children:c("soajs:fields.Binary")}),Object(I.jsx)(G.a.Check,{className:"float-right",id:"recipe.deployOptions.image.binary",size:"sm",type:"switch",checked:o.recipe.deployOptions.image.binary,onChange:m})]})})]})]})})]})})})}),Object(I.jsx)(lt.a,{children:Object(I.jsx)(dt.a,{children:Object(I.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(I.jsxs)(ot.a,{className:"mb-3",children:[Object(I.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:Object(I.jsx)(Ot.a.Toggle,{as:z.a,variant:"link",eventKey:"1",children:"Commands"})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(I.jsxs)(ot.a.Body,{className:"pb-0",children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.ContainerCommand")}),Object(I.jsx)(G.a.Control,{id:"recipe.buildOptions.cmd.deploy.command",size:"sm",value:o.recipe.buildOptions.cmd.deploy.command,onChange:m})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.CommandArguments")}),Object(I.jsx)(G.a.Control,{id:"recipe.buildOptions.cmd.deploy.args",size:"sm",as:"textarea",rows:5,value:o.recipe.buildOptions.cmd.deploy.args.join("\n"),onChange:function(e){var t=e.target.value,a=e.target.id;"recipe.buildOptions.cmd.deploy.args"===a&&(t=t.split("\n"),U(o,a,t),l(Object(N.a)({},o)))}}),Object(I.jsx)(G.a.Text,{className:"text-muted",children:"Make sure each command is on a separate line."})]})]})})]})})})}),Object(I.jsx)(lt.a,{children:Object(I.jsx)(dt.a,{children:Object(I.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(I.jsxs)(ot.a,{className:"mb-3",children:[Object(I.jsxs)(ot.a.Header,{className:"pt-1 pb-0",children:[Object(I.jsx)(Ot.a.Toggle,{as:z.a,variant:"link",eventKey:"1",children:"Environment Variables"}),Object(I.jsx)(Wa,{className:"float-right",onClick:function(){o.envs.push(R.a.merge({},cs)),l(Object(N.a)({},o))}})]}),Object(I.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(I.jsx)(ot.a.Body,{className:"pb-0",children:o.envs.map((function(e,t){return Object(I.jsxs)(rt.a,{variant:"secondary",children:[Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{md:2,lg:2,xl:1,children:c("soajs:fields.Name")}),Object(I.jsx)(dt.a,{children:Object(I.jsx)(G.a.Control,{id:"name",size:"sm",value:e.name,onChange:function(e){return u(e,t)}})}),Object(I.jsx)(dt.a,{md:2,lg:1,children:c("soajs:fields.Type")}),Object(I.jsx)(dt.a,{md:3,lg:3,xl:2,children:Object(I.jsxs)(G.a.Control,{as:"select",id:"type",size:"sm",value:e.type,onChange:function(e){return u(e,t)},children:[Object(I.jsx)("option",{value:"userInput",children:"userInput"}),Object(I.jsx)("option",{value:"computed",children:"computed"}),Object(I.jsx)("option",{value:"static",children:"static"}),Object(I.jsx)("option",{value:"secret",children:"secret"})]})})]})}),Object(I.jsx)(dt.a,{xs:1,children:Object(I.jsx)(Ja,{className:"float-right pl-1 pr-1 pt-0 pb-0",onClick:function(){!function(e){o.envs.splice(e,1),l(Object(N.a)({},o))}(t)}})})]}),Object(I.jsx)(lt.a,{children:Object(I.jsxs)(dt.a,{children:[Object(I.jsx)("hr",{}),"static"===e.type&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Value")}),Object(I.jsx)(G.a.Control,{id:"value",size:"sm",value:e.value,onChange:function(e){return u(e,t)}})]}),"computed"===e.type&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Value")}),Object(I.jsx)(G.a.Control,{as:"select",id:"value",size:"sm",value:e.value,onChange:function(e){return u(e,t)},children:is.map((function(e,t){return Object(I.jsx)("option",{disabled:e.disabled,value:e.l,children:e.l},t)}))})]}),"userInput"===e.type&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Label")}),Object(I.jsx)(G.a.Control,{id:"label",size:"sm",value:e.label,onChange:function(e){return u(e,t)}}),Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Default")}),Object(I.jsx)(G.a.Control,{id:"default",size:"sm",value:e.default,onChange:function(e){return u(e,t)}}),Object(I.jsx)(G.a.Label,{children:c("soajs:fields.FieldMsg")}),Object(I.jsx)(G.a.Control,{id:"fieldMsg",size:"sm",value:e.fieldMsg,onChange:function(e){return u(e,t)}})]}),"secret"===e.type&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Secret")}),Object(I.jsx)(G.a.Control,{id:"secret",size:"sm",value:e.secret,onChange:function(e){return u(e,t)}}),Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Key")}),Object(I.jsx)(G.a.Control,{id:"key",size:"sm",value:e.key,onChange:function(e){return u(e,t)}})]})]})})]},t)}))})})]})})})}),Object(I.jsx)(lt.a,{children:Object(I.jsx)(dt.a,{children:Object(I.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(I.jsxs)(ot.a,{className:"mb-3",children:[Object(I.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:Object(I.jsx)(Ot.a.Toggle,{as:z.a,variant:"link",eventKey:"1",children:"Readiness Information"})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(I.jsx)(ot.a.Body,{className:"pb-0",children:Object(I.jsxs)(lt.a,{style:{height:"250px"},children:[Object(I.jsx)(dt.a,{children:Object(I.jsx)(ue,{modes:["code","tree"],mode:"code",json:os||o.recipe.deployOptions.readinessProbe||null,onChange:function(e){os=e}})}),Object(I.jsx)(dt.a,{xs:4,className:"small",children:Object(I.jsxs)("div",{children:[Object(I.jsx)(rt.a,{variant:"dark",className:"m-0 pb-0 pt-1",children:Object(I.jsx)("h6",{children:"Example"})}),Object(I.jsx)(rt.a,{variant:"info",className:"m-0 pb-0 pt-1",children:Object(I.jsx)("pre",{className:"small, text-muted",children:JSON.stringify(rs.readinessProbe,null,2)})})]})})]})})})]})})})}),Object(I.jsx)(lt.a,{children:Object(I.jsx)(dt.a,{children:Object(I.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(I.jsxs)(ot.a,{className:"mb-3",children:[Object(I.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:Object(I.jsx)(Ot.a.Toggle,{as:z.a,variant:"link",eventKey:"1",children:"Liveness Information"})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(I.jsx)(ot.a.Body,{className:"pb-0",children:Object(I.jsxs)(lt.a,{style:{height:"250px"},children:[Object(I.jsx)(dt.a,{children:Object(I.jsx)(ue,{mode:"code",modes:["code","tree"],json:ls||o.recipe.deployOptions.liveinessProbe||null,onChange:function(e){ls=e}})}),Object(I.jsx)(dt.a,{xs:4,className:"small",children:Object(I.jsxs)("div",{children:[Object(I.jsx)(rt.a,{variant:"dark",className:"m-0 pb-0 pt-1",children:Object(I.jsx)("h6",{children:"Example"})}),Object(I.jsx)(rt.a,{variant:"info",className:"m-0 pb-0 pt-1",children:Object(I.jsx)("pre",{className:"small, text-muted",children:JSON.stringify(rs.livenessProbe,null,2)})})]})})]})})})]})})})}),Object(I.jsx)(lt.a,{children:Object(I.jsx)(dt.a,{children:Object(I.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(I.jsxs)(ot.a,{className:"mb-3",children:[Object(I.jsxs)(ot.a.Header,{className:"pt-1 pb-0",children:[Object(I.jsx)(Ot.a.Toggle,{as:z.a,variant:"link",eventKey:"1",children:"Ports"}),Object(I.jsx)(Wa,{className:"float-right",onClick:function(){us.push({name:"http",target:80,isPublished:!0,published:31080,preserveClientIP:!0}),o.recipe.deployOptions.ports=us,l(Object(N.a)({},o))}})]}),Object(I.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(I.jsx)(ot.a.Body,{className:"pb-0",children:o.recipe.deployOptions.ports.map((function(e,t){return Object(I.jsx)("div",{className:"p-1",style:{backgroundColor:"#ebebeb"},children:Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{className:"p-0",children:Object(I.jsx)(Ja,{className:"float-right pl-1 pr-1 pt-0 pb-0",onClick:function(){!function(e){us.splice(e,1),o.recipe.deployOptions.ports=us,l(Object(N.a)({},o))}(t)}})}),Object(I.jsx)(ot.a.Body,{className:"pt-1 pb-1",children:Object(I.jsx)(ue,{mode:"code",modes:["code","tree"],json:us[t]||o.recipe.deployOptions.ports[t]||null,onChange:function(e){return function(e,t){us[t]=e}(e,t)}})})]})},t)}))})})]})})})}),Object(I.jsx)(lt.a,{children:Object(I.jsx)(dt.a,{children:Object(I.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(I.jsxs)(ot.a,{className:"mb-3",children:[Object(I.jsxs)(ot.a.Header,{className:"pt-1 pb-0",children:[Object(I.jsx)(Ot.a.Toggle,{as:z.a,variant:"link",eventKey:"1",children:"Volumes"}),Object(I.jsx)(Wa,{className:"float-right",onClick:function(){js.push({kubernetes:{volume:{},volumeMount:{}}}),o.recipe.deployOptions.voluming=js,l(Object(N.a)({},o))}})]}),Object(I.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(I.jsx)(ot.a.Body,{className:"pb-0",children:o.recipe.deployOptions.voluming.map((function(e,t){return Object(I.jsx)("div",{className:"p-1",style:{backgroundColor:"#ebebeb"},children:Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{className:"p-0",children:Object(I.jsx)(Ja,{className:"float-right pl-1 pr-1 pt-0 pb-0",onClick:function(){!function(e){js.splice(e,1),o.recipe.deployOptions.voluming=js,l(Object(N.a)({},o))}(t)}})}),Object(I.jsx)(ot.a.Body,{className:"pt-1 pb-1",children:Object(I.jsx)(ue,{mode:"code",modes:["code","tree"],json:b(t),onChange:function(e){return function(e,t){js[t]={kubernetes:e}}(e,t)}})})]})},t)}))})})]})})})}),Object(I.jsx)(lt.a,{children:Object(I.jsx)(dt.a,{children:Object(I.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(I.jsxs)(ot.a,{className:"mb-3",children:[Object(I.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:Object(I.jsx)(Ot.a.Toggle,{as:z.a,variant:"link",eventKey:"1",children:"Security Context Information"})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(I.jsx)(ot.a.Body,{className:"pb-0",children:Object(I.jsx)(ue,{mode:"code",modes:["code","tree"],json:ds||o.recipe.deployOptions.securityContext||null,onChange:function(e){ds=e}})})})]})})})}),Object(I.jsx)(lt.a,{children:Object(I.jsx)(dt.a,{children:Object(I.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(I.jsxs)(ot.a,{className:"mb-3",children:[Object(I.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:Object(I.jsx)(Ot.a.Toggle,{as:z.a,variant:"link",eventKey:"1",children:"Preset Pod Execute Commands"})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(I.jsx)(ot.a.Body,{className:"pb-0",children:Object(I.jsx)(ue,{mode:"code",modes:["code","tree"],json:bs||o.recipe.deployOptions.execCommands||null,onChange:function(e){bs=e}})})})]})})})}),Object(I.jsx)(lt.a,{children:Object(I.jsx)(dt.a,{children:Object(I.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(I.jsxs)(ot.a,{className:"mb-3",children:[Object(I.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:Object(I.jsx)(Ot.a.Toggle,{as:z.a,variant:"link",eventKey:"1",children:"Additional Labels"})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(I.jsx)(ot.a.Body,{className:"pb-0",children:Object(I.jsx)(ue,{mode:"code",modes:["code","tree"],json:ms||o.recipe.deployOptions.labels||null,onChange:function(e){ms=e}})})})]})})})}),Object(I.jsxs)(z.a,{className:"float-right",variant:"success",onClick:function(){return j.apply(this,arguments)},disabled:!(o.name.length>0&&o.description.length>0&&o.type.length>0&&o.subtype.length>0&&o.recipe.deployOptions.image.name.length>0),children:["add"===a&&c("soajs:buttons.Add"),"edit"===a&&c("soajs:buttons.Update")]}),Object(I.jsx)("span",{className:"clearfix"})]})]})}function Os(){return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(hs,{starterFields:ss,mode:"add"})})}var xs=Ct.getService();function fs(){var e=Object(n.useState)(null),t=Object(y.a)(e,2),a=t[0],s=t[1],c=Object(k.m)().id;return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a,n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=R.a.merge({},ss),t.next=4,xs.getRecipesByIds([c]);case 4:if(n=t.sent,e&&n&&n[0]){if(a={envs:a.envs,name:n[0].name||a.name,type:n[0].type||a.type,description:n[0].description||a.description,subtype:n[0].subtype||a.subtype,recipe:{deployOptions:{image:a.recipe.deployOptions.image,readinessProbe:n[0].recipe.deployOptions.readinessProbe||a.recipe.deployOptions.readinessProbe,liveinessProbe:n[0].recipe.deployOptions.liveinessProbe||a.recipe.deployOptions.liveinessProbe,ports:n[0].recipe.deployOptions.ports||a.recipe.deployOptions.ports,voluming:a.recipe.deployOptions.voluming,labels:n[0].recipe.deployOptions.labels||a.recipe.deployOptions.labels,execCommands:n[0].recipe.deployOptions.execCommands||a.recipe.deployOptions.execCommands,securityContext:n[0].recipe.deployOptions.securityContext||a.recipe.deployOptions.securityContext},buildOptions:{cmd:n[0].recipe.buildOptions.cmd||a.recipe.buildOptions.cmd,env:a.recipe.buildOptions.env,settings:n[0].recipe.buildOptions.settings||a.recipe.buildOptions.settings}}},n[0].recipe.deployOptions.voluming)for(r=0;r<n[0].recipe.deployOptions.voluming.length;r++)a.recipe.deployOptions.voluming.push({kubernetes:n[0].recipe.deployOptions.voluming[r].kubernetes});n[0].recipe.buildOptions.cmd&&(a.recipe.buildOptions.cmd.deploy={command:n[0].recipe.buildOptions.cmd.deploy.command||a.recipe.buildOptions.cmd.deploy.command,args:n[0].recipe.buildOptions.cmd.deploy.args||a.recipe.buildOptions.cmd.deploy.args}),n[0].recipe.deployOptions.securityContext&&(a.recipe.deployOptions.securityContext={pod:n[0].recipe.deployOptions.securityContext.pod||a.recipe.deployOptions.securityContext.pod,container:n[0].recipe.deployOptions.securityContext.container||a.recipe.deployOptions.securityContext.container}),n[0].recipe.deployOptions.image&&(a.recipe.deployOptions.image={name:n[0].recipe.deployOptions.image.name||a.recipe.deployOptions.image.name,tag:n[0].recipe.deployOptions.image.tag||a.recipe.deployOptions.image.tag,prefix:n[0].recipe.deployOptions.image.prefix||a.recipe.deployOptions.image.prefix,repositoryType:n[0].recipe.deployOptions.image.repositoryType||a.recipe.deployOptions.image.repositoryType,pullPolicy:n[0].recipe.deployOptions.image.pullPolicy||a.recipe.deployOptions.image.pullPolicy,shell:n[0].recipe.deployOptions.image.shell||a.recipe.deployOptions.image.shell,override:n[0].recipe.deployOptions.image.override||a.recipe.deployOptions.image.override,binary:n[0].recipe.deployOptions.image.binary||a.recipe.deployOptions.image.binary}),n[0].recipe.buildOptions.env&&Object.keys(n[0].recipe.buildOptions.env).map((function(e){var t=R.a.merge({},cs,n[0].recipe.buildOptions.env[e]);return t.name=e,a.envs.push(t),!0}))}s(a),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),ie.error(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[c]),Object(I.jsx)(I.Fragment,{children:a&&Object(I.jsx)(hs,{starterFields:a,itemId:c,mode:"edit"})})}function gs(){return Object(I.jsxs)(k.g,{children:[Object(I.jsx)(L,{path:"/catalogs/git/repositories",children:Object(I.jsx)(ns,{})}),Object(I.jsx)(L,{path:"/catalogs/api/detail/:type/:name/:ver",children:Object(I.jsx)(Vn,{})}),Object(I.jsx)(L,{path:"/catalogs/custom/detail/:type/:name/:ver",children:Object(I.jsx)(Vn,{})}),Object(I.jsx)(L,{path:"/catalogs/resource/detail/:type/:name/:ver",children:Object(I.jsx)(Vn,{})}),Object(I.jsx)(L,{path:"/catalogs/daemon/detail/:type/:name/:ver",children:Object(I.jsx)(Vn,{})}),Object(I.jsx)(L,{path:"/catalogs/frontend/detail/:type/:name/:ver",children:Object(I.jsx)(Vn,{})}),Object(I.jsx)(L,{path:"/catalogs/config/detail/:type/:name/:ver",children:Object(I.jsx)(Vn,{})}),Object(I.jsx)(L,{path:"/catalogs/soajs/api/detail/:type/:name/:ver",children:Object(I.jsx)(Vn,{})}),Object(I.jsx)(L,{path:"/catalogs/soajs/frontend/detail/:type/:name/:ver",children:Object(I.jsx)(Vn,{})}),Object(I.jsx)(L,{path:"/catalogs/api/detail/:type/:name",children:Object(I.jsx)(Vn,{})}),Object(I.jsx)(L,{path:"/catalogs/custom/detail/:type/:name",children:Object(I.jsx)(Vn,{})}),Object(I.jsx)(L,{path:"/catalogs/resource/detail/:type/:name",children:Object(I.jsx)(Vn,{})}),Object(I.jsx)(L,{path:"/catalogs/daemon/detail/:type/:name",children:Object(I.jsx)(Vn,{})}),Object(I.jsx)(L,{path:"/catalogs/frontend/detail/:type/:name",children:Object(I.jsx)(Vn,{})}),Object(I.jsx)(L,{path:"/catalogs/config/detail/:type/:name",children:Object(I.jsx)(Vn,{})}),Object(I.jsx)(L,{path:"/catalogs/soajs/api/detail/:type/:name",children:Object(I.jsx)(Vn,{})}),Object(I.jsx)(L,{path:"/catalogs/soajs/frontend/detail/:type/:name",children:Object(I.jsx)(Vn,{})}),Object(I.jsx)(L,{path:"/catalogs/recipe/add",children:Object(I.jsx)(Os,{})}),Object(I.jsx)(L,{path:"/catalogs/recipe/edit/:id",children:Object(I.jsx)(fs,{})}),Object(I.jsx)(L,{path:"/catalogs/api",children:Object(I.jsx)(mn,{})}),Object(I.jsx)(L,{path:"/catalogs/custom",children:Object(I.jsx)(bn,{})}),Object(I.jsx)(L,{path:"/catalogs/resource",children:Object(I.jsx)(yn,{})}),Object(I.jsx)(L,{path:"/catalogs/daemon",children:Object(I.jsx)(kn,{})}),Object(I.jsx)(L,{path:"/catalogs/frontend",children:Object(I.jsx)(wn,{})}),Object(I.jsx)(L,{path:"/catalogs/config",children:Object(I.jsx)(Cn,{})}),Object(I.jsx)(L,{path:"/catalogs/recipe",children:Object(I.jsx)(An,{})}),Object(I.jsx)(L,{path:"/catalogs/soajs/api",children:Object(I.jsx)(Ln,{})}),Object(I.jsx)(L,{path:"/catalogs/soajs/frontend",children:Object(I.jsx)(Mn,{})}),Object(I.jsx)(k.d,{render:function(){return Object(I.jsx)(k.c,{to:"/catalogs/api"})}})]})}var vs=function(){var e=Object(Ie.a)(["common","soajs"]).t;return Object(I.jsxs)(Sa.a,{collapseOnSelect:!0,expand:"md",className:"pt-0 pb-0",bg:"secondary",variant:"light",children:[Object(I.jsx)("span",{}),Object(I.jsx)(Sa.a.Toggle,{"aria-controls":"catalog-navbar-nav"}),Object(I.jsx)(Sa.a.Collapse,{id:"catalog-navbar-nav",className:"justify-content-end",children:Object(I.jsxs)(Aa.a,{activeKey:window.location.pathname,children:[Object(I.jsx)(Pa.LinkContainer,{to:"/catalogs/api",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.API")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/catalogs/daemon",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.Daemon")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/catalogs/frontend",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.Frontend")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/catalogs/custom",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.Custom")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/catalogs/resource",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.Resource")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/catalogs/git/repositories",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.GitRepositories")})})}),Object(I.jsxs)(Ta.a,{className:"small",alignRight:!0,title:e("soajs:menu.Deployment"),id:"collasible-nav1-dropdown",children:[Object(I.jsx)(Pa.LinkContainer,{to:"/catalogs/config",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.Config")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/catalogs/recipe",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.Recipe")})})})]}),Object(I.jsxs)(Ta.a,{className:"small",alignRight:!0,title:e("soajs:menu.SOAJS"),id:"collasible-nav1-dropdown",children:[Object(I.jsx)(Pa.LinkContainer,{to:"/catalogs/soajs/api",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.API")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/catalogs/soajs/frontend",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.Frontend")})})})]})]})})]})};function ys(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(vs,{}),Object(I.jsx)("div",{className:"bg-dark pt-1"}),Object(I.jsx)("div",{className:"main-area",children:Object(I.jsx)(pt.a,{className:"mt-3 mb-3",children:Object(I.jsx)(gs,{})})})]})}var ks=ke.getService();function ws(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ie.a)(["common","soajs"]).t,c=function(){return a({show:!1,opts:null})};function r(){return(r=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ks.deleteUser(t.opts._id);case 3:ie.success(s("soajs:messages.deleteUser")),n(),c(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(I.jsxs)(ma.a,{show:t.show,onHide:c,animation:!1,children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:s("soajs:buttons.Delete")})}),Object(I.jsx)(ma.a.Body,{children:s("soajs:messages.deleteQuestion")}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:c,children:s("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"danger",onClick:function(){return r.apply(this,arguments)},children:s("soajs:buttons.Delete")})]})]})}function Cs(e){var t="";if(e){var a=new Date(e);t=t+a.getDate()+"/"+(a.getMonth()+1)+"/"+a.getFullYear()}return t}function Ns(e){var t=e.modalOpt,a=e.setModalOpt,n=Object(Ie.a)(["common","soajs","organization"]).t,s=function(){return a({show:!1,opts:null})};return t.opts&&Object(I.jsxs)(ma.a,{show:t.show,onHide:s,animation:!1,children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(I.jsx)(ma.a.Title,{children:n("soajs:titles.userInfo")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(zn.a,{variant:"flush",children:[Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[n("soajs:fields.Username"),":"]})," ",t.opts.username]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[n("soajs:fields.LastLogin"),":"]})," ",Cs(t.opts.lastLogin)]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[n("soajs:fields.JoinedOn"),":"]})," ",Cs(t.opts.ts)]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[n("soajs:fields.FirstName"),":"]})," ",t.opts.firstName]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[n("soajs:fields.LastName"),":"]})," ",t.opts.lastName]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[n("soajs:fields.Email"),":"]})," ",t.opts.email]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[n("soajs:fields.Groups"),":"]})," ",t.opts.groups&&t.opts.groups.join(", ")]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[n("soajs:fields.Status"),":"]})," ",t.opts.status]})]})}),Object(I.jsx)(ma.a.Footer,{className:"bg-light",children:Object(I.jsx)(z.a,{variant:"info",onClick:s,children:n("soajs:buttons.Ok")})})]})}var Ss=ke.getService(),As={id:"",username:"",email:"",firstName:"",lastName:"",status:""};function Ts(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=Object(n.useState)(As),i=Object(y.a)(r,2),o=i[0],l=i[1],d=Object(n.useState)([]),j=Object(y.a)(d,2),u=j[0],m=j[1],b=Object(n.useState)(null),p=Object(y.a)(b,2),h=p[0],O=p[1],x=function(){return a({show:!1,opts:null})};function f(){return(f=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ss.updateUser({id:t.opts._id,username:o.username,email:o.email,firstName:o.firstName,lastName:o.lastName,status:o.status,groups:h});case 3:ie.success(c("soajs:messages.editUser")),s(),x(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function k(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),l(Object(N.a)(Object(N.a)({},o),{},Object(We.a)({},e.target.id,t)))}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n,s,c,r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!t.opts){a.next=10;break}return a.next=4,Ss.getGroups();case 4:if(n=a.sent,s=null,n){for(s=[],c=0;c<n.length;c++)r={code:n[c].code,name:n[c].name,selected:!1},t.opts.groups&&t.opts.groups.includes(r.code)&&(r.selected=!0),s.push(r);e&&(m(s),t.opts.groups&&Array.isArray(t.opts.groups)&&O(Object(Fa.a)(t.opts.groups)))}e&&l({id:t.opts._id,username:t.opts.username,email:t.opts.email,firstName:t.opts.firstName,lastName:t.opts.lastName,status:t.opts.status}),a.next=11;break;case 10:e&&(m([]),O(null),l(As));case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),ie.error(a.t0.message);case 16:case"end":return a.stop()}}),a,null,[[0,13]])})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){return e=!1}}),[t]),Object(I.jsxs)(ma.a,{show:t.show,onHide:x,animation:!1,children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.editUser")})}),Object(I.jsxs)(ma.a.Body,{children:[o&&Object(I.jsxs)(G.a,{onSubmit:function(e){e.preventDefault()},children:[Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.Username")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"username",size:"sm",value:o.username,onChange:k})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.Email")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"email",size:"sm",value:o.email,onChange:k})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.FirstName")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"firstName",size:"sm",value:o.firstName,onChange:k})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.LastName")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"lastName",size:"sm",value:o.lastName,onChange:k})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.Status")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsxs)(G.a.Control,{as:"select",id:"status",defaultValue:o.status,onChange:k,children:[Object(I.jsx)("option",{value:"active",children:"active"}),Object(I.jsx)("option",{value:"inactive",children:"inactive"}),Object(I.jsx)("option",{value:"pendingNew",children:"pendingNew"}),Object(I.jsx)("option",{value:"pendingJoin",children:"pendingJoin"})]})})]})]}),Object(I.jsx)("hr",{}),u.map((function(e,t){return Object(I.jsx)(G.a.Check,{type:"switch",label:e.code+" - "+e.name,id:e.code,defaultChecked:e.selected,onChange:function(t){!function(e,t){if(e){var a=h;a||(a=[]),a.push(t),O(a)}else{var n=h;n&&(R.a.pull(n,t),O(n))}}(t.target.checked,e.code)}},t+1)}))]}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:x,children:c("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",disabled:!(o.email.length>0&&o.username.length>4&&o.firstName.length>0&&o.lastName.length>0),onClick:function(){return f.apply(this,arguments)},children:c("soajs:buttons.Update")})]})]})}var Ps=ke.getService(),Is={user:"",email:"",username:"",firstName:"",lastName:"",groups:[]};function Ls(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=function(){return a({show:!1,opts:null})},i=Object(n.useState)(Is),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)([]),u=Object(y.a)(j,2),m=u[0],b=u[1];function p(e){d(Object(N.a)(Object(N.a)({},l),{},Object(We.a)({},e.target.id,e.target.value)))}function h(){return(h=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ps.addUser(l);case 3:ie.success(c("soajs:messages.addUser")),s(),r(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a,n,s,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ps.getGroups();case 3:if(a=t.sent,n=null,a){for(n=[],s=0;s<a.length;s++)c={code:a[s].code,name:a[s].name,selected:!1},n.push(c);e&&b(n)}e&&d(Is),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),ie.error(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){return e=!1}}),[]),Object(I.jsxs)(ma.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.userAdd")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsx)(G.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.Username")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"username",size:"sm",value:l.username,onChange:p})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.Email")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"email",size:"sm",value:l.email,onChange:p})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.FirstName")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"firstName",size:"sm",value:l.firstName,onChange:p})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.LastName")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"lastName",size:"sm",value:l.lastName,onChange:p})})]}),m.map((function(e,t){return Object(I.jsx)(G.a.Check,{type:"checkbox",label:e.code+" - "+e.name,onChange:function(t){var a,n;a=t.target.checked,n=e.code,a?l.groups.push(n):R.a.pull(l.groups,n),d(Object(N.a)({},l))}},t+1)}))]})})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:r,children:c("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return h.apply(this,arguments)},disabled:!(l.email.length>0&&l.username.length>4&&l.firstName.length>0&&l.lastName.length>0&&l.groups.length>0),children:c("soajs:buttons.Add")})]})]})}var Ms=ke.getService();function zs(e,t,a,n,s){return Es.apply(this,arguments)}function Es(){return(Es=Object(v.a)(g.a.mark((function e(t,a,n,s,c){var r,i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={limit:50,start:50*(s-1)},c&&c.keywords&&""!==c.keywords&&(r.keywords=c.keywords),e.next=5,Ms.getUsers(null,null,r);case 5:return i=e.sent,e.next=8,Ms.getUsersCount(null,null,r);case 8:o=e.sent,i&&Array.isArray(i)&&i.length>0?a&&(t(i),n({totalItems:o,maxSize:10,itemsPerPage:r.limit})):a&&t(null),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),ie.error(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function _s(){var e=P().ability,t=Object(Ie.a)(["common","soajs","organization"]).t,a=Object(n.useState)([]),s=Object(y.a)(a,2),c=s[0],r=s[1],i=Object(n.useState)({show:!1,opts:null}),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({show:!1,opts:null}),u=Object(y.a)(j,2),m=u[0],b=u[1],p=Object(n.useState)({show:!1,opts:null}),h=Object(y.a)(p,2),O=h[0],x=h[1],f=Object(n.useState)({show:!1,opts:null}),k=Object(y.a)(f,2),w=k[0],C=k[1],S=Object(n.useState)(1),A=Object(y.a)(S,2),T=A[0],L=A[1],M=Object(n.useState)({keywords:""}),E=Object(y.a)(M,2),_=E[0],D=E[1],R=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),U=Object(y.a)(R,2),F=U[0],K=U[1];function B(e){return H.apply(this,arguments)}function H(){return(H=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),L(1),e.next=4,zs(r,!0,K,1,_);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return V.apply(this,arguments)}function V(){return(V=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zs(r,!0,K,t||T,_);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return zs(r,e,K,1,null),function(){return e=!1}}),[]),c&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Ls,{modalOpt:w,setModalOpt:C,handleAction:J}),Object(I.jsx)(Ts,{modalOpt:O,setModalOpt:x,handleAction:J}),Object(I.jsx)(ws,{modalOpt:m,setModalOpt:b,handleAction:J}),Object(I.jsx)(Ns,{modalOpt:l,setModalOpt:d}),Object(I.jsxs)("div",{children:[Object(I.jsx)("h4",{className:"float-left",children:t("soajs:titles.users")}),e.can("user","add")&&Object(I.jsxs)(z.a,{variant:"success",className:"float-right",size:"sm",onClick:function(){return C({show:!0,opts:null})},children:[Object(I.jsx)(Va.a,{})," ",t("soajs:buttons.Add")]}),Object(I.jsx)("span",{className:"clearfix"})]}),Object(I.jsx)("hr",{}),Object(I.jsx)(me.a,{className:"p-3",children:Object(I.jsx)(G.a,{onSubmit:B,children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:9,md:10,children:Object(I.jsx)(G.a.Control,{id:"keywords",size:"sm",autoFocus:!0,value:_.keywords,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),D(Object(N.a)(Object(N.a)({},_),{},Object(We.a)({},e.target.id,t)))}})}),Object(I.jsx)(dt.a,{xs:3,md:2,children:Object(I.jsxs)(z.a,{className:"float-right",variant:"dark",size:"sm",onClick:B,children:[Object(I.jsx)(vt.c,{})," ",t("soajs:buttons.Search")]})})]})})}),Object(I.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(I.jsx)("thead",{className:"text-light bg-dark",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:t("soajs:buttons.Actions")}),Object(I.jsx)("th",{children:t("soajs:fields.FirstName")}),Object(I.jsx)("th",{children:t("soajs:fields.LastName")}),Object(I.jsx)("th",{children:t("soajs:fields.Email")}),Object(I.jsx)("th",{children:t("soajs:fields.Groups")}),Object(I.jsx)("th",{children:t("soajs:fields.Status")})]})}),Object(I.jsx)("tbody",{children:c.map((function(t,a){return Object(I.jsxs)("tr",{children:[Object(I.jsxs)("td",{nowrap:"true",children:[Object(I.jsx)(Nn,{className:"mr-1",onClick:function(){d({show:!0,opts:t})}}),e.can("user","delete")&&Object(I.jsx)(Ja,{className:"mr-1",onClick:function(){b({show:!0,opts:t})}}),e.can("user","edit")&&Object(I.jsx)(en,{className:"mr-1",onClick:function(){x({show:!0,opts:t})}})]}),Object(I.jsx)("td",{children:t.firstName}),Object(I.jsx)("td",{children:t.lastName}),Object(I.jsx)("td",{children:t.email}),Object(I.jsx)("td",{children:t.groups&&t.groups.join(", ")}),Object(I.jsx)("td",{children:t.status})]},a)}))})]}),c.length>0?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:"float-right mt-3",children:Object(I.jsx)(Lt,{currentPage:T,totalItems:F.totalItems,itemsPerPage:F.itemsPerPage,maxSize:F.maxSize,onClick:function(e){L(e),J(e)}})}),Object(I.jsx)("div",{className:"clearfix"})]}):null]})}var Gs=ke.getService();function Ds(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ie.a)(["common","soajs"]).t,c=function(){return a({show:!1,opts:null})};function r(){return(r=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gs.deleteGroup(t.opts._id);case 3:ie.success(s("soajs:messages.deleteGroup")),n(),c(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(I.jsxs)(ma.a,{show:t.show,onHide:c,animation:!1,children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:s("soajs:buttons.Delete")})}),Object(I.jsx)(ma.a.Body,{children:s("soajs:messages.deleteQuestion")}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:c,children:s("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"danger",onClick:function(){return r.apply(this,arguments)},children:s("soajs:buttons.Delete")})]})]})}function Rs(e){var t=e.modalOpt,a=e.setModalOpt,s=e.product,c=Object(Ie.a)(["common","soajs"]).t,r=Object(n.useState)([]),i=Object(y.a)(r,2),o=i[0],l=i[1],d=function(){return a({show:!1,opts:null})};return Object(n.useEffect)((function(){var e=!0;if(s&&t.opts){var a={};a.code=s.code,a.name=s.name,a.description=s.description,a.packages=[];for(var n=0;n<s.packages.length;n++)a.packages.push({code:s.packages[n].code,name:s.packages[n].name,selected:t.opts&&t.opts.config&&t.opts.config.allowedPackages&&t.opts.config.allowedPackages[s.code]&&t.opts.config.allowedPackages[s.code].includes(s.packages[n].code)});e&&l([a])}else e&&l(null);return function(){return e=!1}}),[s,t]),t.opts&&Object(I.jsxs)(ma.a,{show:t.show,onHide:d,animation:!1,children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.groupInfo")})}),Object(I.jsxs)(ma.a.Body,{children:[Object(I.jsxs)(zn.a,{variant:"flush",children:[Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[c("soajs:fields.Code"),":"]})," ",t.opts.code]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[c("soajs:fields.Name"),":"]})," ",t.opts.name]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[c("soajs:fields.Description"),":"]})," ",t.opts.description]})]}),Object(I.jsx)("hr",{}),Object(I.jsx)(Ot.a,{defaultActiveKey:1,children:o&&o.map((function(e,t){return Object(I.jsxs)(ot.a,{children:[Object(I.jsxs)(ot.a.Header,{children:[Object(I.jsx)("div",{children:Object(I.jsxs)(Ot.a.Toggle,{className:"p-0",as:z.a,variant:"link",eventKey:t+1,children:[e.code," - ",e.name]})}),Object(I.jsx)("small",{className:"font-italic",children:e.description})]}),Object(I.jsx)(Ot.a.Collapse,{eventKey:t+1,children:Object(I.jsx)(ot.a.Body,{children:e.packages.map((function(e,t){return Object(I.jsx)(G.a.Check,{type:"switch",disabled:!0,label:e.code+" - "+e.name,checked:e.selected},t+1)}))})})]},t+1)}))})]}),Object(I.jsx)(ma.a.Footer,{className:"bg-light",children:Object(I.jsx)(z.a,{variant:"info",onClick:d,children:c("soajs:buttons.Ok")})})]})}var Us=ke.getService(),Fs={code:"",name:"",description:"",id:"",config:{}};function Ks(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=e.product,r=Object(Ie.a)(["common","soajs"]).t,i=function(){return a({show:!1,opts:null})},o=Object(n.useState)(Fs),l=Object(y.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)([]),m=Object(y.a)(u,2),b=m[0],p=m[1];function h(){return(h=Object(v.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=null,d.config&&d.config.allowedPackages)for(a in t=[],d.config.allowedPackages)t.push({product:a,packages:d.config.allowedPackages[a]});return e.next=5,Us.editGroup({id:d.id,name:d.name,description:d.description,packages:t});case 5:ie.success(r("soajs:messages.editGroup")),s(),i(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function O(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),j(Object(N.a)(Object(N.a)({},d),{},Object(We.a)({},e.target.id,t)))}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n,s;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{if(t.opts){if(e){for(j({code:t.opts.code,name:t.opts.name,description:t.opts.description,id:t.opts._id,config:R.a.merge({},t.opts.config||{})}),(n={}).code=c.code,n.name=c.name,n.description=c.description,n.packages=[],s=0;s<c.packages.length;s++)n.packages.push({code:c.packages[s].code,name:c.packages[s].name,selected:t.opts&&t.opts.config&&t.opts.config.allowedPackages&&t.opts.config.allowedPackages[c.code]&&t.opts.config.allowedPackages[c.code].includes(c.packages[s].code)});e&&p([n])}}else e&&(p(null),j(Fs))}catch(r){ie.error(r.message)}case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){return e=!1}}),[t,c]),t.opts&&Object(I.jsxs)(ma.a,{show:t.show,onHide:i,animation:!1,children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(I.jsx)(ma.a.Title,{children:r("soajs:titles.groupEdit")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsx)(G.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:2,children:r("organization:groups.code")}),Object(I.jsx)(dt.a,{sm:10,children:d.code})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:2,children:r("organization:groups.name")}),Object(I.jsx)(dt.a,{sm:10,children:Object(I.jsx)(G.a.Control,{id:"name",size:"sm",autoFocus:!0,value:d.name,onChange:O})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:2,children:r("organization:groups.description")}),Object(I.jsx)(dt.a,{sm:10,children:Object(I.jsx)(G.a.Control,{id:"description",as:"textarea",rows:3,size:"sm",value:d.description,onChange:O})})]}),Object(I.jsx)(Ot.a,{defaultActiveKey:1,children:b&&b.map((function(e,t){return Object(I.jsxs)(ot.a,{children:[Object(I.jsxs)(ot.a.Header,{children:[Object(I.jsx)("div",{children:Object(I.jsxs)(Ot.a.Toggle,{className:"p-0",as:z.a,variant:"link",eventKey:t+1,children:[e.code," - ",e.name]})}),Object(I.jsx)("small",{className:"font-italic",children:e.description})]}),Object(I.jsx)(Ot.a.Collapse,{eventKey:t+1,children:Object(I.jsx)(ot.a.Body,{children:e.packages.map((function(t,a){return Object(I.jsx)(G.a.Check,{type:"switch",label:t.code+" - "+t.name,defaultChecked:t.selected,id:t.code,onChange:function(a){var n,s,c;n=a.target.checked,s=t.code,c=e.code,d.config&&(d.config.allowedPackages||(d.config.allowedPackages={}),n?(d.config.allowedPackages[c]||(d.config.allowedPackages[c]=[]),d.config.allowedPackages[c].push(s)):d.config.allowedPackages[c]&&d.config.allowedPackages[c]&&R.a.pull(d.config.allowedPackages[c],s))}},a+1)}))})})]},t+1)}))})]})})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:i,children:r("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",disabled:!(d.name.length>0&&d.description.length>0),onClick:function(){return h.apply(this,arguments)},children:r("soajs:buttons.Update")})]})]})}var Bs=ke.getService(),Hs=St.getService(),Js={code:"",name:"",description:"",config:{}};function Vs(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=function(){return a({show:!1,opts:null})},i=Object(n.useState)(Js),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({code:"",name:"",description:"",packages:[]}),u=Object(y.a)(j,2),m=u[0],b=u[1];function p(e){d(Object(N.a)(Object(N.a)({},l),{},Object(We.a)({},e.target.id,e.target.value)))}function h(){return(h=Object(v.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=null,l.config&&l.config.allowedPackages)for(a in t=[],l.config.allowedPackages)t.push({product:a,packages:l.config.allowedPackages[a]});return e.next=5,Bs.addGroup({code:l.code,name:l.name,description:l.description,packages:t});case 5:ie.success(c("soajs:messages.addGroup")),s(),r(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a,n,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Hs.getMyConsoleProduct();case 3:if(a=t.sent,e){for((n={}).code=a.code,n.name=a.name,n.description=a.description,n.packages=[],s=0;s<a.packages.length;s++)n.packages.push({code:a.packages[s].code,name:a.packages[s].name});b(n),d(Js)}t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ie.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){return e=!1}}),[]),Object(I.jsxs)(ma.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.groupAdd")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsx)(G.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:2,children:c("soajs:fields.Code")}),Object(I.jsx)(dt.a,{sm:10,children:Object(I.jsx)(G.a.Control,{id:"code",size:"sm",autoFocus:!0,value:l.code,onChange:p})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:2,children:c("soajs:fields.Name")}),Object(I.jsx)(dt.a,{sm:10,children:Object(I.jsx)(G.a.Control,{id:"name",size:"sm",value:l.name,onChange:p})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:2,children:c("soajs:fields.Description")}),Object(I.jsx)(dt.a,{sm:10,children:Object(I.jsx)(G.a.Control,{id:"description",as:"textarea",rows:3,size:"sm",value:l.description,onChange:p})})]}),Object(I.jsxs)(ot.a,{children:[Object(I.jsxs)(ot.a.Header,{children:[Object(I.jsxs)("div",{children:[m.code," - ",m.name]}),Object(I.jsx)("small",{className:"font-italic",children:m.description})]}),Object(I.jsx)(ot.a.Body,{children:m.packages.map((function(e,t){return Object(I.jsx)(G.a.Check,{type:"checkbox",label:e.code+" - "+e.name,onChange:function(t){var a,n,s;a=t.target.checked,n=e.code,s=m.code,l.config&&(l.config.allowedPackages||(l.config.allowedPackages={}),a?(l.config.allowedPackages[s]||(l.config.allowedPackages[s]=[]),l.config.allowedPackages[s].push(n)):l.config.allowedPackages[s]&&l.config.allowedPackages[s]&&R.a.pull(l.config.allowedPackages[s],n),d(Object(N.a)({},l)))}},t+1)}))})]})]})})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:r,children:c("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return h.apply(this,arguments)},disabled:!(l.code.length>0&&l.name.length>0&&l.description.length>0),children:c("soajs:buttons.Add")})]})]})}var Ws=ke.getService(),qs=St.getService();function Ys(e,t,a){return Xs.apply(this,arguments)}function Xs(){return(Xs=Object(v.a)(g.a.mark((function e(t,a,n){var s,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ws.getGroups();case 3:return s=e.sent,e.next=6,qs.getMyConsoleProduct();case 6:c=e.sent,s&&Array.isArray(s)&&s.length>0?a&&t(s):a&&t(null),a&&n(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),ie.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function Qs(){var e=P().ability,t=Object(Ie.a)(["common","soajs","organization"]).t,a=Object(n.useState)([]),s=Object(y.a)(a,2),c=s[0],r=s[1],i=Object(n.useState)(null),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({show:!1,opts:null}),u=Object(y.a)(j,2),m=u[0],b=u[1],p=Object(n.useState)({show:!1,opts:null}),h=Object(y.a)(p,2),O=h[0],x=h[1],f=Object(n.useState)({show:!1,opts:null}),k=Object(y.a)(f,2),w=k[0],C=k[1],N=Object(n.useState)({show:!1,opts:null}),S=Object(y.a)(N,2),A=S[0],T=S[1];function L(){return M.apply(this,arguments)}function M(){return(M=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ys(r,!0,d);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return Ys(r,e,d),function(){return e=!1}}),[]),c&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Vs,{modalOpt:A,setModalOpt:T,handleAction:L}),Object(I.jsx)(Ds,{modalOpt:w,setModalOpt:C,handleAction:L}),Object(I.jsx)(Ks,{modalOpt:O,setModalOpt:x,handleAction:L,product:l}),Object(I.jsx)(Rs,{modalOpt:m,setModalOpt:b,product:l}),Object(I.jsxs)("div",{children:[Object(I.jsx)("h4",{className:"float-left",children:t("soajs:titles.groups")}),e.can("group","add")&&Object(I.jsxs)(z.a,{variant:"success",className:"float-right",size:"sm",onClick:function(){return T({show:!0,opts:null})},children:[Object(I.jsx)(Va.a,{})," ",t("soajs:buttons.Add")]})]}),Object(I.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(I.jsx)("thead",{className:"text-light bg-dark",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:t("soajs:buttons.Actions")}),Object(I.jsx)("th",{children:t("soajs:fields.Code")}),Object(I.jsx)("th",{children:t("soajs:fields.Name")}),Object(I.jsx)("th",{children:t("soajs:fields.Description")})]})}),Object(I.jsx)("tbody",{children:c.map((function(t,a){return Object(I.jsxs)("tr",{children:[Object(I.jsxs)("td",{nowrap:"true",children:[Object(I.jsx)(Nn,{className:"mr-1",onClick:function(){b({show:!0,opts:t})}}),e.can("group","delete")&&Object(I.jsx)(Ja,{className:"mr-1",onClick:function(){C({show:!0,opts:t})}}),e.can("group","edit")&&Object(I.jsx)(en,{className:"mr-1",onClick:function(){x({show:!0,opts:t})}})]}),Object(I.jsx)("td",{children:t.code}),Object(I.jsx)("td",{children:t.name}),Object(I.jsx)("td",{children:t.description})]},a)}))})]})]})}var Zs=St.getService();function $s(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ie.a)(["common","soajs"]).t,c=function(){return a({show:!1,opts:null})};function r(){return(r=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zs.deleteConsolepackage({code:t.opts.code,id:t.opts._id});case 3:ie.success(s("soajs:messages.deletePackage")),n(),c(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(I.jsxs)(ma.a,{show:t.show,onHide:c,animation:!1,children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:s("soajs:buttons.Delete")})}),Object(I.jsx)(ma.a.Body,{children:s("soajs:messages.deleteQuestion")}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:c,children:s("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"danger",onClick:function(){return r.apply(this,arguments)},children:s("soajs:buttons.Delete")})]})]})}var ec={get:"primary",post:"success",delete:"danger",put:"warning",patch:"info",head:"secondary",other:"light"};function tc(e){return e&&ec[e]?ec[e]:ec.other}function ac(e){var t=e.method,a=e.service,n=e.api,s=e.version,c=e.name,r=e.apiAbility,i=!1;return a&&"restricted"===a[s].apisPermission?a&&a[s]&&a[s][t]&&a[s][t].apis&&a[s][t].apis[n]&&(i=!0):a&&(i=!0),r&&Object(I.jsx)("div",{children:i?Object(I.jsx)(rt.a,{variant:tc(t),children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{className:"font-weight-bold small",children:[r.M,Object(I.jsx)("br",{}),r.isPublic&&Object(I.jsxs)("span",{className:"font-weight-bold text-info small",children:[Object(I.jsx)(E.d,{className:"mb-1"})," Public"]})]}),Object(I.jsx)(dt.a,{className:"small",lg:2,children:Object(I.jsx)("span",{className:"font-weight-bold small",children:"Available"})}),Object(I.jsxs)(dt.a,{className:"small",children:[Object(I.jsx)(z.a,{size:"sm",className:"mr-2 p-1 float-left",variant:tc(t),children:Object(I.jsx)("small",{children:t.toUpperCase()})}),Object(I.jsxs)("span",{className:"float-left mt-1",children:[Object(I.jsx)(it.a,{variant:"info",className:"mr-1",children:c}),n]})]})]})}):Object(I.jsx)(rt.a,{variant:"light",className:"border-dark",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{className:"small",children:[r.M,Object(I.jsx)("br",{}),r.isPublic&&Object(I.jsxs)("span",{className:"font-weight-bold text-info small",children:[Object(I.jsx)(E.d,{className:"mb-1"})," Public"]})]}),Object(I.jsx)(dt.a,{className:"small",lg:2,children:Object(I.jsx)("span",{className:"font-weight-bold small",children:"Not available"})}),Object(I.jsxs)(dt.a,{className:"small",children:[Object(I.jsx)(z.a,{size:"sm",className:"mr-2 p-1 float-left",variant:tc(t),children:Object(I.jsx)("small",{children:t.toUpperCase()})}),Object(I.jsxs)("span",{className:"float-left mt-1",children:[Object(I.jsx)(it.a,{variant:"info",className:"mr-1",children:c}),n]})]})]})})})}function nc(e){var t=e.service,a=e.name,n=e.abilityPath;return t?Object.keys(t).map((function(e,s){return Object(I.jsx)("div",{children:Ne.versions[a]===e?Object(I.jsx)("div",{children:Object.keys(ec).map((function(s,c){return Ne[n][a]&&Ne[n][a][s]&&Object.keys(Ne[n][a][s]).map((function(c,r){return Object(I.jsx)(ac,{method:s,service:t,api:c,version:e,name:a,apiAbility:Ne[n][a][s][c]},r)}))}))}):Object(I.jsxs)("span",{children:[" wrong version for ",a," @ ",e]})},s)})):Object(I.jsx)("div",{children:Object.keys(ec).map((function(e,s){return Ne[n][a]&&Ne[n][a][e]&&Object.keys(Ne[n][a][e]).map((function(s,c){return Object(I.jsx)(ac,{method:e,service:t,api:s,version:null,name:a,apiAbility:Ne[n][a][e][s]},c)}))}))})}function sc(e,t,a,n){if(e[t][a].hasOwnProperty("apis"))for(var s in n[t].apis||(n[t].apis={}),e[t][a].apis)e[t][a].apis.hasOwnProperty(s)&&(n[t].apis[s]=e[t][a].apis[s],n[t].apis[s].group=e[t][a].group);if(e[t][a].hasOwnProperty("apisRegExp"))for(var c in n[t].apisRegExp||(n[t].apisRegExp={}),e[t][a].apisRegExp)e[t][a].apisRegExp.hasOwnProperty(c)&&(n[t].apisRegExp[c]=e[t][a].apisRegExp[c],n[t].apisRegExp[c].group=e[t][a].apisRegExp.group)}var cc=function(e,t){var a=JSON.parse(JSON.stringify(e)),n=JSON.parse(JSON.stringify(t)),s={};a.hasOwnProperty("access")&&(s.access=a.access);var c=0;for(var r in n)if("version"!==r&&a[r]&&n.hasOwnProperty(r)){s[r]||(s[r]={});for(var i=0;i<n[r].length;i++){c++;for(var o=n[r][i],l=0;l<a[r].length;l++)if(a[r][l].group===o){sc(a,r,l,s);break}}}if(0===c)for(var d in a)if(a.hasOwnProperty(d)&&"access"!==d&&"apisPermission"!==d&&"packagesPermission"!==d){s[d]={};for(var j=0;j<a[d].length;j++)sc(a,d,j,s)}return a.hasOwnProperty("apisPermission")?s.apisPermission=a.apisPermission:a.hasOwnProperty("packagesPermission")&&c>0&&(s.apisPermission="restricted"),s};function rc(e){var t=e.service,a=e.scope,s=e.name,c=e.abilityPath,r=Object(n.useState)(null),i=Object(y.a)(r,2),o=i[0],l=i[1];return Object(n.useEffect)((function(){var e=!0;if(t&&a){for(var n={},s=0;s<t.length;s++)if(t[s].version){var c=t[s].version;a[c]&&(n[c]=cc(a[c],t[s]))}e&&l(n)}return function(){return e=!1}}),[t,a]),o&&Object(I.jsx)(nc,{service:o,name:s,abilityPath:c})}var ic=a(192);function oc(e){var t=e.modalOpt,a=Object(Ie.a)(["common","soajs"]).t;return t.opts&&Object(I.jsxs)(Ma.a,{className:"mb-3",defaultActiveKey:"main",id:"abilities",children:[Object(I.jsx)(za.a,{eventKey:"main",title:a("soajs:titles.MainAbilities"),children:t.opts.acl&&Object.keys(t.opts.acl).map((function(e,a){return e===ve.consoleEnvironment&&Object(I.jsx)("div",{children:Object.keys(Ne.abilities).map((function(a,n){return Object(I.jsx)("div",{children:Object(I.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{className:"p-1",children:Object(I.jsx)(Ot.a.Toggle,{as:z.a,variant:"link",eventKey:"0",children:ic[a]})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:"0",children:Object(I.jsx)(ot.a.Body,{children:!t.opts.acl[e][a]||t.opts.aclTypeByEnv&&t.opts.aclTypeByEnv[e]&&"granular"===t.opts.aclTypeByEnv[e]?Object(I.jsx)(nc,{service:t.opts.acl[e][a],name:a,abilityPath:"abilities"}):Object(I.jsx)(rc,{service:t.opts.acl[e][a],scope:t.scope.acl[e][a],name:a,abilityPath:"abilities"})})})]})})},n)}))},a)}))}),Object(I.jsx)(za.a,{eventKey:"default",title:a("soajs:titles.DefaultAbilities"),children:t.opts.acl&&Object.keys(t.opts.acl).map((function(e,a){return e===ve.consoleEnvironment&&Object(I.jsx)("div",{children:Object.keys(Ne.default).map((function(a,n){return Object(I.jsx)("div",{children:Object(I.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{className:"p-1",children:Object(I.jsx)(Ot.a.Toggle,{as:z.a,variant:"link",eventKey:"0",children:ic[a]})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:"0",children:Object(I.jsx)(ot.a.Body,{children:!t.opts.acl[e][a]||t.opts.aclTypeByEnv&&t.opts.aclTypeByEnv[e]&&"granular"===t.opts.aclTypeByEnv[e]?Object(I.jsx)(nc,{service:t.opts.acl[e][a],name:a,abilityPath:"default"}):Object(I.jsx)(rc,{service:t.opts.acl[e][a],scope:t.scope.acl[e][a],name:a,abilityPath:"default"})})})]})})},n)}))},a)}))})]})}var lc={get:"primary",post:"success",delete:"danger",put:"warning",patch:"info",head:"secondary",other:"light"};function dc(e){return e&&lc[e]?lc[e]:lc.other}function jc(e){return e.hasOwnProperty("access")?e.access?Object(I.jsxs)("span",{className:"font-weight-bold",children:[Object(I.jsx)(E.c,{className:"mb-1"})," Private"]}):Object(I.jsxs)("span",{className:"font-weight-bold",children:[Object(I.jsx)(E.d,{className:"mb-1"})," Public"]}):"Inherit from service"}function uc(e){var t=e.service,a=Object(Ie.a)(["common","soajs"]).t;return Object(I.jsx)(Ma.a,{defaultActiveKey:"1",style:{borderBottom:"1px solid #dee2e6"},children:Object.keys(t).map((function(e,n){return Object(I.jsxs)(za.a,{eventKey:n+1,title:a("soajs:fields.Version")+" "+e,children:[Object(I.jsxs)(zn.a,{variant:"flush",className:"small mt-3",children:[Object(I.jsx)(En.a,{children:(s=t[e].access,Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("span",{className:"font-weight-bold mr-3",children:"Service's APIs default access is:"}),s?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("span",{className:"font-weight-bold text-success",children:[Object(I.jsx)(E.c,{className:"mb-1"})," Private"]})," - ",Object(I.jsx)("span",{className:"font-italic",children:"requires logged in user"})]}):Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("span",{className:"font-weight-bold text-info",children:[Object(I.jsx)(E.d,{className:"mb-1"})," Public"]})})]}))}),Object(I.jsxs)(En.a,{children:[Object(I.jsx)("span",{className:"font-weight-bold mr-3",children:"Access is restricted to the selected APIs:"})," ","restricted"===t[e].apisPermission?"Yes - only the selected APIs are accessible":"No - all APIs are accessible"]})]}),Object(I.jsx)("hr",{}),Object.keys(lc).map((function(a,n){return t[e][a]&&t[e][a].apis&&Object.keys(t[e][a].apis).map((function(n,s){return Object(I.jsx)(rt.a,{variant:dc(a),className:"m-1 p-2",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{className:"small",children:[Object(I.jsx)(z.a,{size:"sm",className:"mr-2 pl-1 pr-1 pt-0 pb-0 float-left",variant:dc(a),children:a.toUpperCase()}),Object(I.jsx)("span",{className:"float-left mt-1",children:n})]}),Object(I.jsx)(dt.a,{className:"small",children:Object(I.jsx)("span",{className:"small",children:jc(t[e][a].apis[n])})}),Object(I.jsx)(dt.a,{className:"small",children:Object(I.jsx)("div",{className:"font-italic small",children:t[e][a].apis[n].group})})]})},s)}))}))]},n+1);var s}))})}function mc(e){var t=e.service,a=e.scope,s=Object(n.useState)(null),c=Object(y.a)(s,2),r=c[0],i=c[1];return Object(n.useEffect)((function(){var e=!0;if(t&&a){for(var n={},s=0;s<t.length;s++)if(t[s].version){var c=t[s].version;a[c]&&(n[c]=cc(a[c],t[s]))}e&&i(n)}return function(){return e=!1}}),[t,a]),r&&Object(I.jsx)(uc,{service:r})}var bc=Nt.getService();function pc(e){var t=e.modalOpt,a=Object(Ie.a)(["common","soajs"]).t,s=Object(n.useState)([]),c=Object(y.a)(s,2),r=c[0],i=c[1],o=Object(n.useState)(null),l=Object(y.a)(o,2),d=l[0],j=l[1];return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a,n,s,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,bc.getEnvironments();case 3:if((a=t.sent)&&e){for(n=[],s=0;s<a.length;s++)n.push(a[s].code.toLowerCase());i(n),c=ve.consoleEnvironment,n.includes(c)||(c=n[0]||null),j(c)}t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ie.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[t]),t.opts&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(rt.a,{variant:"info",children:Object(I.jsxs)(G.a.Control,{as:"select",id:"env",value:d||"",onChange:function(e){j(e.target.value)},children:[Object(I.jsxs)("option",{value:"",children:["--- ",a("soajs:titles.selectEnvironment")]}),r.map((function(e,t){return Object(I.jsxs)("option",{value:e,children:[a("soajs:titles.environment"),": ",e]},t)}))]})}),Object(I.jsx)("hr",{}),d&&t.opts.acl&&t.opts.acl[d]&&Object(I.jsx)(Ot.a,{defaultActiveKey:1,children:Object.keys(t.opts.acl[d]).map((function(e,a){return Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{className:"pt-1 pb-1 pr-2 pl-2",children:Object(I.jsx)(Ot.a.Toggle,{className:"p-0",as:z.a,variant:"link",eventKey:a+1,children:e})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:a+1,children:Object(I.jsx)(ot.a.Body,{children:t.opts.aclTypeByEnv&&t.opts.aclTypeByEnv[d]&&"granular"===t.opts.aclTypeByEnv[d]?Object(I.jsx)(uc,{service:t.opts.acl[d][e]}):Object(I.jsx)(mc,{service:t.opts.acl[d][e],scope:t.scope.acl[d][e]})})})]},a+1)}))})]})}function hc(e){var t=e.modalOpt,a=e.setModalOpt,s=Object(Ie.a)(["common","soajs"]).t,c=Object(n.useState)({viewMode:"ability"}),r=Object(y.a)(c,2),i=r[0],o=r[1],l=function(){return a({show:!1,opts:null,scope:null})};return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.opts&&t.opts.turnOffAbilityView&&o({viewMode:"api"}),function(){return e=!1}}),[t]),t.opts&&Object(I.jsxs)(ma.a,{show:t.show,onHide:l,animation:!1,size:"xl",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(I.jsx)(ma.a.Title,{children:s("soajs:titles.packageInfo")})}),Object(I.jsxs)(ma.a.Body,{children:[Object(I.jsxs)(zn.a,{variant:"flush",children:[Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[s("soajs:fields.Code"),":"]})," ",t.opts.code]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[s("soajs:fields.Name"),":"]})," ",t.opts.name]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[s("soajs:fields.Description"),":"]})," ",t.opts.description]})]}),Object(I.jsx)("hr",{}),!t.opts.turnOffAbilityView&&Object(I.jsx)(rt.a,{variant:"dark",children:Object(I.jsxs)(G.a.Control,{as:"select",id:"viewMode",defaultValue:i.viewMode,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),o(Object(N.a)(Object(N.a)({},i),{},Object(We.a)({},e.target.id,t)))},children:[Object(I.jsx)("option",{value:"ability",children:"Basic Abilities view"}),Object(I.jsx)("option",{value:"api",children:"Advanced API view"})]})}),"ability"===i.viewMode&&Object(I.jsx)(oc,{modalOpt:t}),"api"===i.viewMode&&Object(I.jsx)(pc,{modalOpt:t})]}),Object(I.jsx)(ma.a.Footer,{className:"bg-light",children:Object(I.jsx)(z.a,{variant:"info",onClick:l,children:s("soajs:buttons.Close")})})]})}var Oc=St.getService();function xc(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=function(){return a({show:!1,opts:null})},i=Object(n.useState)({code:"",name:"",description:"",_TTL:"168"}),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){d(Object(N.a)(Object(N.a)({},l),{},Object(We.a)({},e.target.id,e.target.value)))}function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oc.addConsolepackage({id:t.opts._id,code:l.code,name:l.name,description:l.description,_TTL:l._TTL});case 3:ie.success(c("soajs:messages.addPackage")),s(),r(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(I.jsxs)(ma.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.packageAdd")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsx)(G.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:2,children:c("soajs:fields.Code")}),Object(I.jsx)(dt.a,{sm:10,children:Object(I.jsx)(G.a.Control,{placeholder:"5 characters code only",id:"code",size:"sm",autoFocus:!0,value:l.code,onChange:j})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:2,children:c("soajs:fields.Name")}),Object(I.jsx)(dt.a,{sm:10,children:Object(I.jsx)(G.a.Control,{id:"name",size:"sm",value:l.name,onChange:j})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:2,children:c("soajs:fields.Description")}),Object(I.jsx)(dt.a,{sm:10,children:Object(I.jsx)(G.a.Control,{id:"description",as:"textarea",rows:3,size:"sm",value:l.description,onChange:j})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:2,children:c("soajs:fields.TTL")}),Object(I.jsx)(dt.a,{sm:10,children:Object(I.jsxs)(G.a.Control,{as:"select",id:"_TTL",value:l._TTL,onChange:j,children:[Object(I.jsx)("option",{value:"12",children:"12 hours"}),Object(I.jsx)("option",{value:"24",children:"24 hours"}),Object(I.jsx)("option",{value:"48",children:"2 days"}),Object(I.jsx)("option",{value:"72",children:"3 days"}),Object(I.jsx)("option",{value:"96",children:"4 days"}),Object(I.jsx)("option",{value:"120",children:"5 days"}),Object(I.jsx)("option",{value:"144",children:"6 days"}),Object(I.jsx)("option",{value:"168",children:"7 days"})]})})]})]})})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:r,children:c("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(5===l.code.length&&l.name.length>0&&l.description.length>0),children:c("soajs:buttons.Add")})]})]})}var fc=St.getService();function gc(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=function(){return a({show:!1,opts:null})},i=Object(n.useState)({code:"",name:"",description:"",_TTL:""}),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){d(Object(N.a)(Object(N.a)({},l),{},Object(We.a)({},e.target.id,e.target.value)))}function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc.editConsolepackage({id:t.opts._id,code:l.code,name:l.name,description:l.description,_TTL:l._TTL});case 3:ie.success(c("soajs:messages.editPackage")),s(),r(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t.opts&&d({code:t.opts.code,name:t.opts.name,description:t.opts.description,_TTL:""+t.opts._TTL/36e5}),function(){return e=!1}}),[t]),Object(I.jsxs)(ma.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.packageEdit")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsx)(G.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:2,children:c("soajs:fields.Code")}),Object(I.jsx)(dt.a,{sm:10,children:Object(I.jsx)(G.a.Control,{id:"code",size:"sm",autoFocus:!0,disabled:!0,value:l.code,onChange:j})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:2,children:c("soajs:fields.Name")}),Object(I.jsx)(dt.a,{sm:10,children:Object(I.jsx)(G.a.Control,{id:"name",size:"sm",value:l.name,onChange:j})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:2,children:c("soajs:fields.Description")}),Object(I.jsx)(dt.a,{sm:10,children:Object(I.jsx)(G.a.Control,{id:"description",as:"textarea",rows:3,size:"sm",value:l.description,onChange:j})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:2,children:c("soajs:fields.TTL")}),Object(I.jsx)(dt.a,{sm:10,children:Object(I.jsxs)(G.a.Control,{as:"select",id:"_TTL",value:l._TTL,onChange:j,children:[Object(I.jsx)("option",{value:"12",children:"12 hours"}),Object(I.jsx)("option",{value:"24",children:"24 hours"}),Object(I.jsx)("option",{value:"48",children:"2 days"}),Object(I.jsx)("option",{value:"72",children:"3 days"}),Object(I.jsx)("option",{value:"96",children:"4 days"}),Object(I.jsx)("option",{value:"120",children:"5 days"}),Object(I.jsx)("option",{value:"144",children:"6 days"}),Object(I.jsx)("option",{value:"168",children:"7 days"})]})})]})]})})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:r,children:c("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(l.code.length>0&&l.name.length>0&&l.description.length>0),children:c("soajs:buttons.Update")})]})]})}var vc={get:"primary",post:"success",delete:"danger",put:"warning",patch:"info",head:"secondary",other:"light"};function yc(e){return e&&vc[e]?vc[e]:vc.other}function kc(e){var t=e.method,a=e.service,n=e.api,s=e.version,c=e.name,r=e.apiAbility,i=e.index,o=e.addAbility,l=e.removeAbility,d=e.env,j=e.abilityPath,u=!1;return a&&"restricted"===a[s].apisPermission?a&&a[s]&&a[s][t]&&a[s][t].apis&&a[s][t].apis[n]&&(u=!0):a&&(u=!0),r&&Object(I.jsx)("div",{children:u?Object(I.jsx)(rt.a,{variant:yc(t),children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{className:"font-weight-bold small",children:[Object(I.jsx)(G.a.Check,{type:"switch",id:c+"/"+t+"/"+i+"_"+j,checked:u,label:r.M,onChange:function(){return l(c,t,s,n,d)}}),r.isPublic&&Object(I.jsxs)("span",{className:"font-weight-bold text-info small",children:[Object(I.jsx)(E.d,{className:"mb-1"})," Public"]})]}),Object(I.jsx)(dt.a,{className:"small",lg:2,children:Object(I.jsx)("span",{className:"font-weight-bold small",children:"Available"})}),Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(z.a,{size:"sm",className:"mr-2 float-left p-1",variant:yc(t),children:Object(I.jsx)("small",{children:t.toUpperCase()})}),Object(I.jsxs)("span",{className:"float-left small mt-1",children:[Object(I.jsx)(it.a,{variant:"info",className:"mr-1",children:c}),n]})]})]})}):Object(I.jsx)(rt.a,{variant:"light",className:"border-dark",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{className:"font-weight-bold small",children:[Object(I.jsx)(G.a.Check,{type:"switch",id:c+"/"+t+"/"+i+"_"+j,checked:u,label:r.M,onChange:function(){return o(c,t,s,n,d,r.isPublic)}}),r.isPublic&&Object(I.jsxs)("span",{className:"font-weight-bold text-info small",children:[Object(I.jsx)(E.d,{className:"mb-1"})," Public"]})]}),Object(I.jsx)(dt.a,{className:"small",lg:2,children:Object(I.jsx)("span",{className:"font-weight-bold small",children:"Not available"})}),Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(z.a,{size:"sm",className:"mr-2 float-left p-1",variant:yc(t),children:Object(I.jsx)("small",{children:t.toUpperCase()})}),Object(I.jsxs)("span",{className:"float-left small mt-1",children:[Object(I.jsx)(it.a,{variant:"info",className:"mr-1",children:c}),n]})]})]})})})}function wc(e){var t=e.service,a=e.name,n=e.addAbility,s=e.removeAbility,c=e.env,r=e.abilityPath;return t?Object.keys(t).map((function(e,i){return Object(I.jsx)("div",{children:Ne.versions[a]===e?Object(I.jsx)("div",{children:Object.keys(vc).map((function(i,o){return Ne[r][a]&&Ne[r][a][i]&&Object.keys(Ne[r][a][i]).map((function(o,l){return Object(I.jsx)(kc,{method:i,service:t,api:o,version:e,name:a,env:c,apiAbility:Ne[r][a][i][o],index:l,addAbility:n,removeAbility:s,abilityPath:r},l)}))}))}):Object(I.jsxs)("span",{children:[" wrong version for ",a," @ ",e]})},i)})):Object(I.jsx)("div",{children:Object.keys(vc).map((function(e,i){return Ne[r][a]&&Ne[r][a][e]&&Object.keys(Ne[r][a][e]).map((function(i,o){return Object(I.jsx)(kc,{method:e,service:t,api:i,env:c,version:Ne.versions[a],name:a,apiAbility:Ne[r][a][e][i],index:o,addAbility:n,removeAbility:s,abilityPath:r},o)}))}))})}var Cc=St.getService();function Nc(e,t){return Ne.abilities[e]||Ne.default[e]?(t.apisPermission="restricted",Ne.abilities[e]&&Object.keys(Ne.abilities[e]).map((function(a,n){return t[a]={apis:{}},Object.keys(Ne.abilities[e][a]).map((function(e,n){return t[a].apis[e]={access:!0},!0})),!0})),Ne.default[e]&&Object.keys(Ne.default[e]).map((function(a,n){return t[a]={apis:{}},Object.keys(Ne.default[e][a]).map((function(n,s){return Ne.default[e][a][n].isPublic?t[a].apis[n]={access:!1}:t[a].apis[n]={access:!0},!0})),!0})),t):t}function Sc(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=Object(n.useState)(!1),i=Object(y.a)(r,2),o=i[0],l=i[1],d=function(){l(!1),a({show:!1,opts:null,scope:null})};function j(e,n,s,c,r){t.opts.acl[r][e]&&t.opts.acl[r][e][s]&&t.opts.acl[r][e][s][n]&&t.opts.acl[r][e][s][n].apis&&t.opts.acl[r][e][s][n].apis[c]&&(delete t.opts.acl[r][e][s][n].apis[c],a(Object(N.a)({},t)))}function u(e,n,s,c,r,i){t.opts.acl[r][e]||(t.opts.acl[r][e]={}),t.opts.acl[r][e][s]||(t.opts.acl[r][e][s]={}),t.opts.acl[r][e][s].access=!0,t.opts.acl[r][e][s].apisPermission="restricted",t.opts.acl[r][e][s][n]||(t.opts.acl[r][e][s][n]={apis:{}}),t.opts.acl[r][e][s][n].apis[c]={access:!i},a(Object(N.a)({},t))}function m(){return(m=Object(v.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={id:t.opts._id,code:t.opts.code,type:"granular",env:ve.consoleEnvironment,acl:t.opts.acl[ve.consoleEnvironment]},e.next=4,Cc.editConsolePackageAclEnv(a);case 4:ie.success(c("soajs:messages.editPackage")),s(),d(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){t.opts&&t.opts.acl&&l(!0)}),[t,a]),t.opts&&o&&Object(I.jsxs)(ma.a,{show:t.show,onHide:d,animation:!1,size:"xl",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.packageInfo")})}),Object(I.jsxs)(ma.a.Body,{children:[Object(I.jsxs)(zn.a,{variant:"flush",children:[Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[c("soajs:fields.Code"),":"]})," ",t.opts.code]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[c("soajs:fields.Name"),":"]})," ",t.opts.name]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[c("soajs:fields.Description"),":"]})," ",t.opts.description]})]}),Object(I.jsx)("hr",{}),Object(I.jsxs)(Ma.a,{className:"mb-3",defaultActiveKey:"main",id:"abilities",children:[Object(I.jsx)(za.a,{eventKey:"main",title:c("soajs:titles.MainAbilities"),children:t.opts.acl&&Object.keys(t.opts.acl).map((function(e,a){return e===ve.consoleEnvironment&&Object(I.jsx)("div",{children:Object.keys(Ne.abilities).map((function(a,n){return Object(I.jsx)("div",{children:Object(I.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{className:"p-1",children:Object(I.jsx)(Ot.a.Toggle,{as:z.a,variant:"link",eventKey:"0",children:ic[a]})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:"0",children:Object(I.jsx)(ot.a.Body,{children:Object(I.jsx)(wc,{service:t.opts.acl[e][a],name:a,env:e,addAbility:u,removeAbility:j,abilityPath:"abilities"})})})]})})},n)}))},a)}))}),Object(I.jsx)(za.a,{eventKey:"default",title:c("soajs:titles.DefaultAbilities"),children:t.opts.acl&&Object.keys(t.opts.acl).map((function(e,a){return e===ve.consoleEnvironment&&Object(I.jsx)("div",{children:Object.keys(Ne.default).map((function(a,n){return Object(I.jsx)("div",{children:Object(I.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{className:"p-1",children:Object(I.jsx)(Ot.a.Toggle,{as:z.a,variant:"link",eventKey:"0",children:ic[a]})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:"0",children:Object(I.jsx)(ot.a.Body,{children:Object(I.jsx)(wc,{service:t.opts.acl[e][a],name:a,env:e,addAbility:u,removeAbility:j,abilityPath:"default"})})})]})})},n)}))},a)}))})]})]}),Object(I.jsxs)(ma.a.Footer,{className:"bg-light",children:[Object(I.jsx)(z.a,{variant:"warning",onClick:d,children:c("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return m.apply(this,arguments)},disabled:!1,children:c("soajs:buttons.Update")})]})]})}var Ac=a(528);function Tc(e){var t=Object.assign({},e),a=Object(Ie.a)(["common","soajs"]).t;return Object(I.jsx)(Ka.a,{placement:"top",overlay:Object(I.jsx)(Ba.a,{id:"tooltip-top}",children:a("soajs:buttons.Acl")}),children:Object(I.jsx)(z.a,Object(N.a)(Object(N.a)({size:"sm",variant:"dark"},t),{},{children:Object(I.jsx)(Ac.a,{})}))})}var Pc=St.getService();function Ic(e,t){return Lc.apply(this,arguments)}function Lc(){return(Lc=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pc.getMyConsoleProduct();case 3:n=e.sent,a&&t(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Mc(){var e=P().ability,t=Object(Ie.a)(["common","soajs","organization"]).t,a=Object(n.useState)(null),s=Object(y.a)(a,2),c=s[0],r=s[1],i=Object(n.useState)({show:!1,opts:null,scope:null}),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({show:!1,opts:null}),u=Object(y.a)(j,2),m=u[0],b=u[1],p=Object(n.useState)({show:!1,opts:null}),h=Object(y.a)(p,2),O=h[0],x=h[1],f=Object(n.useState)({show:!1,opts:null,scope:null}),k=Object(y.a)(f,2),w=k[0],C=k[1],N=Object(n.useState)({show:!1,opts:null}),S=Object(y.a)(N,2),A=S[0],T=S[1];function L(){return M.apply(this,arguments)}function M(){return(M=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ic(r,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return Ic(r,e),function(){return e=!1}}),[]),c&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(xc,{modalOpt:A,setModalOpt:T,handleAction:L}),Object(I.jsx)(gc,{modalOpt:O,setModalOpt:x,handleAction:L}),Object(I.jsx)($s,{modalOpt:m,setModalOpt:b,handleAction:L}),Object(I.jsx)(hc,{modalOpt:l,setModalOpt:d}),Object(I.jsx)(Sc,{modalOpt:w,setModalOpt:C,handleAction:L}),Object(I.jsxs)(me.a,{className:"p-4 mb-3",children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[c.code,":"]})," ",c.name,Object(I.jsx)("hr",{}),c.description]}),Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{children:[Object(I.jsx)("h5",{className:"float-left",children:t("soajs:titles.packages")}),e.can("console_package","add")&&Object(I.jsxs)(z.a,{variant:"success",className:"float-right",size:"sm",onClick:function(){return e={_id:c._id},T({show:!0,opts:e});var e},children:[Object(I.jsx)(Va.a,{})," ",t("soajs:buttons.Add")]})]}),Object(I.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(I.jsx)("thead",{className:"text-light bg-dark",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:t("soajs:buttons.Actions")}),Object(I.jsx)("th",{children:t("soajs:fields.Code")}),Object(I.jsx)("th",{children:t("soajs:fields.Name")}),Object(I.jsx)("th",{children:t("soajs:fields.Description")})]})}),Object(I.jsx)("tbody",{children:c.packages.map((function(t,a){return Object(I.jsxs)("tr",{className:"small",children:[Object(I.jsxs)("td",{nowrap:"true",children:[Object(I.jsx)(Nn,{className:"mr-1",onClick:function(){t.acl||(t.acl={}),t.acl[ve.consoleEnvironment]||(t.acl[ve.consoleEnvironment]={}),function(e,t){d({show:!0,opts:e,scope:t})}(t,c.scope)}}),e.can("console_package","delete")&&Object(I.jsx)(Ja,{className:"mr-1",onClick:function(){t._id=c._id,b({show:!0,opts:t})}}),e.can("console_package","edit")&&Object(I.jsx)(en,{className:"mr-1",onClick:function(){t._id=c._id,x({show:!0,opts:t})}}),e.can("console_package","acl")&&Object(I.jsx)(Tc,{className:"mr-1",onClick:function(){t._id=c._id;var e,a,n=function(e,t){var a=R.a.merge({},e);return Object.keys(a.acl).map((function(e,n){return e===ve.consoleEnvironment&&(a.aclTypeByEnv&&a.aclTypeByEnv[e]&&"granular"===a.aclTypeByEnv[e]?Object.keys(a.acl[e]).map((function(t,n){return Object.keys(a.acl[e][t]).map((function(n,s){return a.acl[e][t][n].apisPermission&&"restricted"===a.acl[e][t][n].apisPermission||(a.acl[e][t][n]=Nc(t,a.acl[e][t][n])),!0})),!0})):(a.aclTypeByEnv||(a.aclTypeByEnv={}),a.aclTypeByEnv[e]="granular",Object.keys(a.acl[e]).map((function(n,s){for(var c=a.acl[e][n],r={},i=0;i<c.length;i++)if(c[i].version){var o=c[i].version;t.acl[e][n][o]&&(r[o]=cc(t.acl[e][n][o],c[i])),r[o].apisPermission&&"restricted"===r[o].apisPermission||(r[o]=Nc(n,r[o]))}return a.acl[e][n]=r,!0})))),!0})),a}(t,c.scope);n.acl||(n.acl={}),n.acl[ve.consoleEnvironment]||(n.acl[ve.consoleEnvironment]={}),e=n,a=c.scope,C({show:!0,opts:e,scope:a})}})]}),Object(I.jsx)("td",{children:t.code}),Object(I.jsx)("td",{nowrap:"true",children:t.name}),Object(I.jsx)("td",{children:t.description})]},a)}))})]})]})}var zc=St.getService();function Ec(){return(Ec=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zc.getMyConsoleTenant();case 3:n=e.sent,a&&n&&n.applications&&n.applications[0]&&n.applications[0].keys&&n.applications[0].keys[0]&&t({key:n.applications[0].keys[0].key,appId:n.applications[0].appId,id:n._id,envCode:ve.consoleEnvironment,config:n.applications[0].keys[0].config[ve.consoleEnvironment]||{}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function _c(){var e=P().ability,t=Object(Ie.a)(["common","soajs"]).t,a=Object(n.useState)({key:null,appId:null,id:null,envCode:null,config:{}}),s=Object(y.a)(a,2),c=s[0],r=s[1];function i(){return(i=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zc.updateTenantConsoleApplicationKey(c);case 3:ie.success(t("soajs:messages.consoleConfigurationUpdate")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),ie.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return function(e,t){Ec.apply(this,arguments)}(r,e),function(){return e=!1}}),[]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h5",{children:t("soajs:titles.consoleConfiguration")}),Object(I.jsx)("small",{className:"text-muted",children:"Make sure you know what your are doing or ask SOAJS Team for support!"}),Object(I.jsx)("div",{className:"mt-3",style:{height:"700px"},children:Object(I.jsx)(ue,{mode:"code",modes:["code","tree"],json:c.config||{},onChange:function(e){c.config=e}})}),Object(I.jsx)(z.a,{className:"float-right",variant:"success",onClick:function(){return i.apply(this,arguments)},disabled:!e.can("tenant_console_application_key","configure"),children:t("soajs:buttons.Update")}),Object(I.jsx)("span",{className:"clearfix"})]})}var Gc=St.getService(),Dc={package:"",id:"",appId:"",description:"",_TTL:"168"};function Rc(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})},i=Object(n.useState)(Dc),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=l;U(a,e.target.id,t),d(Object(N.a)({},a))}function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l._TTL=""+l._TTL,e.next=4,Gc.updateConsoleApplication(l);case 4:ie.success(c("soajs:messages.tenantApplicationUpdate")),s(),r(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.item&&d(Object.assign({},Dc,t.item)),function(){return e=!1}}),[t]),Object(I.jsxs)(ma.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.tenantApplicationUpdate")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(G.a,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.PackageCode")}),Object(I.jsx)(G.a.Control,{id:"package",size:"sm",value:l.package,disabled:!0})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.TTL")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"_TTL",value:l._TTL,onChange:j,children:[Object(I.jsx)("option",{value:"6",children:"6 hours"}),Object(I.jsx)("option",{value:"12",children:"12 hours"}),Object(I.jsx)("option",{value:"24",children:"24 hours"}),Object(I.jsx)("option",{value:"48",children:"2 days"}),Object(I.jsx)("option",{value:"72",children:"3 days"}),Object(I.jsx)("option",{value:"96",children:"4 days"}),Object(I.jsx)("option",{value:"120",children:"5 days"}),Object(I.jsx)("option",{value:"144",children:"6 days"}),Object(I.jsx)("option",{value:"168",children:"7 days"})]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Description")}),Object(I.jsx)(G.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:l.description,onChange:j})]})]})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:r,children:c("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(l.description.length>0),children:c("soajs:buttons.Update")})]})]})}a(240);var Uc=St.getService();function Fc(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=e.environments,r=Object(Ie.a)(["common","soajs"]).t,i=function(){return a({show:!1,item:null})},o=Object(n.useState)({id:"",appId:"",key:"",label:"",env:"",expDate:null,device:{},geo:{}}),l=Object(y.a)(o,2),d=l[0],j=l[1];function u(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=d;U(a,e.target.id,t),j(Object(N.a)({},a))}function m(){return(m=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d.id=t.item.id,d.appId=t.item.appId,d.key=t.item.key,e.next=6,Uc.addTenantConsoleExtKey(d);case 6:ie.success(r("soajs:messages.tenantExtKeyAdd")),s(),i(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),ie.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return Object(I.jsxs)(ma.a,{show:t.show,onHide:i,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:r("soajs:titles.tenantExtKeyAdd")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(G.a,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Label")}),Object(I.jsx)(G.a.Control,{id:"label",size:"sm",value:d.label,onChange:u})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Env")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"env",size:"sm",defaultValue:d.env,onChange:u,children:[Object(I.jsx)("option",{value:"",children:"---"}),c.map((function(e,t){return Object(I.jsx)("option",{value:e.code,children:e.code},t)}))]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{className:"mr-5",children:r("soajs:fields.ExpDate")}),Object(I.jsx)(ha.a,{selected:d.expDate&&""!==d.expDate?new Date(d.expDate):null,onChange:function(e){var t=d;U(t,"expDate",e?e.toISOString():null),j(Object(N.a)({},t))}})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Device")}),Object(I.jsx)(ue,{mode:"code",json:d.device||{},onChange:function(e){d.device=e}})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Geo")}),Object(I.jsx)(ue,{mode:"code",json:d.geo||{},onChange:function(e){d.geo=e}})]})]})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:i,children:r("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return m.apply(this,arguments)},disabled:!(d.label.length>0&&d.env.length>0),children:r("soajs:buttons.Add")})]})]})}var Kc=St.getService();function Bc(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})},i=Object(n.useState)([]),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)([]),u=Object(y.a)(j,2),m=u[0],b=u[1],p=Object(n.useState)({id:null,productCode:"",packageCode:"",description:"",_TTL:"168"}),h=Object(y.a)(p,2),O=h[0],x=h[1];function f(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=O;if(U(a,e.target.id,t),x(Object(N.a)({},a)),"productCode"===e.target.id){var n=m.filter((function(e){return t===e.code}));n&&n[0]&&n[0].packages&&d(n[0].packages)}}function k(){return(k=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O.id=t.item.id,e.next=4,Kc.addConsoleApplication(O);case 4:ie.success(c("soajs:messages.tenantApplicationAdd")),s(),r(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a,n,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kc.getConsoleProducts();case 3:return a=t.sent,t.next=6,Kc.getProducts();case 6:n=t.sent,a&&Array.isArray(a)||(a=[]),n&&Array.isArray(n)||(n=[]),s=a.concat(n),e&&s&&b(s),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),ie.error(t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[]),Object(I.jsxs)(ma.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.tenantApplicationAdd")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(G.a,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.ProductCode")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"productCode",size:"sm",defaultValue:O.productCode,onChange:f,children:[Object(I.jsx)("option",{value:"",children:"---"}),m.map((function(e,t){return Object(I.jsxs)("option",{value:e.code,children:[e.code," - ",e.name]},t)}))]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.PackageCode")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"packageCode",size:"sm",defaultValue:O.packageCode,onChange:f,children:[Object(I.jsx)("option",{value:"",children:"---"}),l.map((function(e,t){return Object(I.jsxs)("option",{value:e.code,children:[e.code," - ",e.name]},t)}))]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.TTL")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"_TTL",defaultValue:O._TTL,onChange:f,children:[Object(I.jsx)("option",{value:"6",children:"6 hours"}),Object(I.jsx)("option",{value:"12",children:"12 hours"}),Object(I.jsx)("option",{value:"24",children:"24 hours"}),Object(I.jsx)("option",{value:"48",children:"2 days"}),Object(I.jsx)("option",{value:"72",children:"3 days"}),Object(I.jsx)("option",{value:"96",children:"4 days"}),Object(I.jsx)("option",{value:"120",children:"5 days"}),Object(I.jsx)("option",{value:"144",children:"6 days"}),Object(I.jsx)("option",{value:"168",children:"7 days"})]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Description")}),Object(I.jsx)(G.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:O.description,onChange:f})]})]})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:r,children:c("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return k.apply(this,arguments)},disabled:!(O.productCode.length>0&&O.packageCode.length>0&&O.description.length>0),children:c("soajs:buttons.Add")})]})]})}var Hc=St.getService(),Jc={id:"",appId:"",key:"",extKey:"",label:"",extKeyEnv:"",expDate:null,device:{},geo:{}};function Vc(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=e.environments,r=Object(Ie.a)(["common","soajs"]).t,i=function(){return a({show:!1,item:null})},o=Object(n.useState)(Jc),l=Object(y.a)(o,2),d=l[0],j=l[1];function u(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=d;U(a,e.target.id,t),j(Object(N.a)({},a))}function m(){return(m=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d.expDate&&(t=new Date(d.expDate),d.expDate=t.toISOString()),e.next=4,Hc.updateTenantConsoleApplicationExtKey(d);case 4:ie.success(r("soajs:messages.tenantApplicationExtKey")),s(),i(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.item&&j(Object.assign({},Jc,t.item)),function(){return e=!1}}),[t]),Object(I.jsxs)(ma.a,{show:t.show,onHide:i,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:r("soajs:titles.tenantApplicationExtKey")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(G.a,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Label")}),Object(I.jsx)(G.a.Control,{id:"label",size:"sm",value:d.label,onChange:u})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Env")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"extKeyEnv",size:"sm",value:d.extKeyEnv,onChange:u,children:[Object(I.jsx)("option",{value:"",children:"---"}),c.map((function(e,t){return Object(I.jsx)("option",{value:e.code,children:e.code},t)}))]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{className:"mr-5",children:r("soajs:fields.ExpDate")}),Object(I.jsx)(ha.a,{selected:d.expDate&&""!==d.expDate?new Date(d.expDate):null,onChange:function(e){var t=d;U(t,"expDate",e?e.toISOString():null),j(Object(N.a)({},t))}})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Device")}),Object(I.jsx)(ue,{mode:"code",json:d.device||{},onChange:function(e){d.device=e}})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Geo")}),Object(I.jsx)(ue,{mode:"code",json:d.geo||{},onChange:function(e){d.geo=e}})]})]})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:i,children:r("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return m.apply(this,arguments)},disabled:!(d.label&&d.label.length>0&&d.extKeyEnv.length>0),children:r("soajs:buttons.Update")})]})]})}var Wc=St.getService(),qc={id:"",appId:"",key:"",envCode:"",config:{},configAllEnv:{}};function Yc(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=e.environments,r=Object(Ie.a)(["common","soajs"]).t,i=function(){return a({show:!1,item:null})},o=Object(n.useState)(qc),l=Object(y.a)(o,2),d=l[0],j=l[1];function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wc.updateTenantConsoleApplicationKey({id:d.id,appId:d.appId,key:d.key,envCode:d.envCode,config:d.config});case 3:ie.success(r("soajs:messages.tenantApplicationKey")),s(),i(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.item&&j(Object.assign({},qc,t.item)),function(){return e=!1}}),[t]),Object(I.jsxs)(ma.a,{show:t.show,onHide:i,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:r("soajs:titles.tenantApplicationKey")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(G.a,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Env")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"envCode",size:"sm",value:d.envCode,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=d;U(a,e.target.id,t),"envCode"===e.target.id&&(d.configAllEnv[t.toLowerCase()]?U(a,"config",d.configAllEnv[t.toLowerCase()]):U(a,"config",{})),j(Object(N.a)({},a))},children:[Object(I.jsx)("option",{value:"",children:"---"}),c.map((function(e,t){return Object(I.jsx)("option",{value:e.code,children:e.code},t)}))]})]}),d.envCode&&""!==d.envCode&&Object(I.jsxs)(G.a.Group,{style:{height:"400px"},children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Configuration")}),Object(I.jsx)(ue,{mode:"code",json:d.config||{},onChange:function(e){d.config=e}})]})]})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:i,children:r("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(d.envCode.length>0),children:r("soajs:buttons.Update")})]})]})}var Xc=St.getService();function Qc(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ie.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})};function r(){return(r=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"tenant"!==t.item.type){e.next=7;break}return e.next=4,Xc.deleteConsoleTenant({id:t.item.id});case 4:ie.success(s("soajs:messages.delete_"+t.item.type)),n(),c();case 7:if("application"!==t.item.type){e.next=13;break}return e.next=10,Xc.deleteTenantConsoleApplication({id:t.item.id,appId:t.item.appId});case 10:ie.success(s("soajs:messages.delete_"+t.item.type)),n(),c();case 13:if("key"!==t.item.type){e.next=19;break}return e.next=16,Xc.deleteTenantConsoleApplicationKey({id:t.item.id,appId:t.item.appId,key:t.item.key});case 16:ie.success(s("soajs:messages.delete_"+t.item.type)),n(),c();case 19:if("extKey"!==t.item.type){e.next=25;break}return e.next=22,Xc.deleteTenantConsoleApplicationKeyExt({id:t.item.id,appId:t.item.appId,key:t.item.key,extKey:t.item.extKey});case 22:ie.success(s("soajs:messages.delete_"+t.item.type)),n(),c();case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),ie.error(e.t0.message);case 30:case"end":return e.stop()}}),e,null,[[0,27]])})))).apply(this,arguments)}return Object(I.jsxs)(ma.a,{show:t.show,onHide:c,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:s("soajs:buttons.Delete")})}),Object(I.jsxs)(ma.a.Body,{style:{wordBreak:"break-all"},children:[s("soajs:messages.deleteQuestion"),Object(I.jsxs)("span",{className:"ml-3 font-weight-bold",children:[t.item?t.item.type:"",": [",Object(I.jsx)("span",{className:"text-danger",children:t.item?t.item.label:""}),"]"]})]}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:c,children:s("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"danger",onClick:function(){return r.apply(this,arguments)},children:s("soajs:buttons.Delete")})]})]})}var Zc=Nt.getService();function $c(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})},i=Object(n.useState)({userId:"",id:null,password:"",confirmPassword:""}),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){d(Object(N.a)(Object(N.a)({},l),{},Object(We.a)({},e.target.id,e.target.value)))}function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zc.addUser(l);case 3:ie.success(c("soajs:messages.addUser")),s("users",t.item.id),r(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.item?d({userId:"",id:t.item.id||null,password:"",confirmPassword:""}):d({userId:"",id:null,password:"",confirmPassword:""}),function(){return e=!1}}),[t]),Object(I.jsxs)(ma.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.userAdd")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(G.a,{children:[Object(I.jsx)(G.a.Group,{children:Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.Username")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"userId",size:"sm",value:l.userId,onChange:j})})]})}),Object(I.jsx)(G.a.Group,{children:Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.Password")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"password",size:"sm",type:"password",value:l.password,onChange:j})})]})}),Object(I.jsx)(G.a.Group,{children:Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.ConfirmPassword")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"confirmPassword",size:"sm",type:"password",value:l.confirmPassword,onChange:j})})]})})]})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:r,children:c("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(l.userId.length>0&&l.id.length>0&&l.password.length>0&&l.confirmPassword.length>0&&l.confirmPassword===l.password),children:c("soajs:buttons.Add")})]})]})}var er=St.getService(),tr={name:"",description:"",tag:"",profile:{}};function ar(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})},i=Object(n.useState)(tr),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=l;U(a,e.target.id,t),d(Object(N.a)({},a))}function u(){return(u=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={name:l.name,description:l.description,type:"product",tag:l.tag,profile:l.profile,oauth:{secret:"",disabled:0,type:2,loginMode:"oauth"}},e.next=4,er.addConsoleTenant(t);case 4:ie.success(c("soajs:messages.tenantIntegrationAdd")),s(),r(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(I.jsxs)(ma.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.tenantIntegrationAdd")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(G.a,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Name")}),Object(I.jsx)(G.a.Control,{id:"name",size:"sm",value:l.name,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Description")}),Object(I.jsx)(G.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:l.description,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Tag")}),Object(I.jsx)(G.a.Control,{id:"tag",size:"sm",value:l.tag,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Profile")}),Object(I.jsx)(ue,{mode:"code",json:l.profile||{},onChange:function(e){l.profile=e}})]})]})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:r,children:c("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(l.name.length>0&&l.description.length>0),children:c("soajs:buttons.Add")})]})]})}var nr=St.getService(),sr={id:"",name:"",description:"",tag:"",profile:{}};function cr(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})},i=Object(n.useState)(sr),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=l;U(a,e.target.id,t),d(Object(N.a)({},a))}function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nr.updateConsoleTenant(l);case 3:ie.success(c("soajs:messages.tenantUpdate")),s(),r(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.item&&d(Object.assign({},sr,t.item)),function(){return e=!1}}),[t]),Object(I.jsxs)(ma.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.tenantUpdate")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(G.a,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Name")}),Object(I.jsx)(G.a.Control,{id:"name",size:"sm",value:l.name,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Description")}),Object(I.jsx)(G.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:l.description,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Tag")}),Object(I.jsx)(G.a.Control,{id:"tag",size:"sm",value:l.tag,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Profile")}),Object(I.jsx)(ue,{mode:"code",json:l.profile||{},onChange:function(e){l.profile=e}})]})]})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:r,children:c("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(l.name.length>0&&l.description.length>0),children:c("soajs:buttons.Update")})]})]})}var rr=St.getService(),ir=Nt.getService();function or(e){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("span",{className:"font-weight-bold mr-3",children:e.name}),Object(I.jsxs)("span",{className:"small text-muted",children:["[",e.code," - ",e._id,"]"]})]})}function lr(e,t,a,n,s){return dr.apply(this,arguments)}function dr(){return(dr=Object(v.a)(g.a.mark((function e(t,a,n,s,c){var r,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={limit:50,skip:50*(n-1),scope:"other"},s&&s.keywords&&""!==s.keywords&&(r.keywords=s.keywords),e.next=5,rr.getConsoleTenants(r);case 5:i=e.sent,c&&i&&i.items&&(t(i.items),a({totalItems:i.count,maxSize:10,itemsPerPage:i.limit})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function jr(){var e=P().ability,t=Object(Ie.a)(["common","soajs"]).t,a=Object(n.useState)([]),s=Object(y.a)(a,2),c=s[0],r=s[1],i=Object(n.useState)({}),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)([]),u=Object(y.a)(j,2),m=u[0],b=u[1],p=Object(n.useState)(1),h=Object(y.a)(p,2),O=h[0],x=h[1],f=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),k=Object(y.a)(f,2),w=k[0],C=k[1],S=Object(n.useState)({keywords:""}),A=Object(y.a)(S,2),T=A[0],L=A[1],M=Object(n.useState)({show:!1,item:null}),E=Object(y.a)(M,2),_=E[0],D=E[1],R=Object(n.useState)({show:!1,item:null}),U=Object(y.a)(R,2),F=U[0],K=U[1],B=function(e){return K({show:!0,item:e})},H=Object(n.useState)({show:!1,item:null}),J=Object(y.a)(H,2),V=J[0],W=J[1],q=Object(n.useState)({show:!1,item:null}),Y=Object(y.a)(q,2),X=Y[0],Q=Y[1],Z=Object(n.useState)({show:!1,item:null}),$=Object(y.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)({show:!1,item:null}),ne=Object(y.a)(ae,2),se=ne[0],ce=ne[1],re=Object(n.useState)({show:!1,item:null}),oe=Object(y.a)(re,2),le=oe[0],de=oe[1],je=Object(n.useState)({show:!1,item:null}),ue=Object(y.a)(je,2),me=ue[0],pe=ue[1],he=Object(n.useState)({show:!1,item:null}),Oe=Object(y.a)(he,2),xe=Oe[0],fe=Oe[1];function ge(){return(ge=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rr.addTenantConsoleApplicationKey(t);case 3:return e.next=5,we();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ve(){return(ve=Object(v.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ir.deleteUser(t,a);case 3:return e.next=5,Ne("users",t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ye(e){return ke.apply(this,arguments)}function ke(){return(ke=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),x(1),e.next=4,we(1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lr(r,C,t||O,T,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e,t){return Se.apply(this,arguments)}function Se(){return(Se=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("users"!==t||!a){e.next=11;break}return e.prev=1,e.next=4,ir.getUsers(a);case 4:(n=e.sent)&&(l[a]=n,d(Object(N.a)({},l))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ir.getEnvironments();case 3:(a=t.sent)&&e&&b(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ie.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return lr(r,C,1,null,e).catch(),function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(cr,{modalOpt:me,setModalOpt:pe,handleAction:we}),Object(I.jsx)($c,{modalOpt:_,setModalOpt:D,handleAction:Ne}),Object(I.jsx)(Rc,{modalOpt:le,setModalOpt:de,handleAction:we}),Object(I.jsx)(Fc,{modalOpt:se,setModalOpt:ce,handleAction:we,environments:m}),Object(I.jsx)(Bc,{modalOpt:ee,setModalOpt:te,handleAction:we}),Object(I.jsx)(Vc,{modalOpt:X,setModalOpt:Q,handleAction:we,environments:m}),Object(I.jsx)(Yc,{modalOpt:V,setModalOpt:W,handleAction:we,environments:m}),Object(I.jsx)(Qc,{modalOpt:F,setModalOpt:K,handleAction:we}),Object(I.jsx)(ar,{modalOpt:xe,setModalOpt:fe,handleAction:we})]}),Object(I.jsxs)("div",{className:"mb-1",children:[Object(I.jsx)("h5",{className:"float-left font-weight-bold",children:"Available integration tenants"}),e.can("console_tenant","add")&&Object(I.jsxs)(z.a,{className:"float-right mb-1",variant:"success",size:"sm",onClick:function(){fe({show:!0,item:null})},children:[Object(I.jsx)(Va.a,{})," ",t("soajs:buttons.Add")]}),Object(I.jsx)("span",{className:"clearfix"}),Object(I.jsx)(rt.a,{variant:"secondary mt-2",children:Object(I.jsx)(G.a,{onSubmit:ye,children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:9,md:10,children:Object(I.jsx)(G.a.Control,{id:"keywords",size:"sm",autoFocus:!0,value:T.keywords,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),L(Object(N.a)(Object(N.a)({},T),{},Object(We.a)({},e.target.id,t)))}})}),Object(I.jsx)(dt.a,{xs:3,md:2,children:Object(I.jsxs)(z.a,{className:"float-right",variant:"dark",size:"sm",onClick:ye,children:[Object(I.jsx)(vt.c,{})," ",t("soajs:buttons.Search")]})})]})})}),Object(I.jsx)("hr",{})]}),c.map((function(a,n){return Object(I.jsx)(Ot.a,{className:"mb-2",defaultActiveKey:1,children:Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{style:{backgroundColor:"#DEF1F7"},children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:12,md:8,children:Object(I.jsx)(Ot.a.Toggle,{className:"p-0",as:z.a,variant:"link",eventKey:n+1,children:or(a)})}),Object(I.jsxs)(dt.a,{xs:12,md:4,children:[e.can("console_tenant","delete")&&Object(I.jsx)(Ja,{className:"float-right ml-1",onClick:function(){B({type:"tenant",label:a.name,id:a._id})}}),e.can("console_tenant","edit")&&Object(I.jsx)(en,{className:"float-right ml-1",onClick:function(){var e;e={id:a._id,name:a.name,tag:a.tag||"",description:a.description||"",profile:a.profile||{}},pe({show:!0,item:e})}})]})]})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:n+1,children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)("span",{className:"small",children:a.description}),Object(I.jsx)("hr",{className:"mt-4"}),Object(I.jsxs)(Ma.a,{defaultActiveKey:"applications",id:"applications-tab",onSelect:function(e){return Ne(e,a._id)},style:{borderBottom:"1px solid #dee2e6"},children:[Object(I.jsxs)(za.a,{eventKey:"applications",title:t("soajs:titles.Applications"),children:[Object(I.jsxs)("div",{className:"mt-5 ml-3 mr-3",children:[Object(I.jsx)("h6",{className:"float-left font-weight-bold",children:"Available applications"}),e.can("console_tenant_application","add")&&Object(I.jsxs)(z.a,{className:"float-right mb-1",variant:"success",size:"sm",onClick:function(){var e;e={id:a._id},te({show:!0,item:e})},children:[Object(I.jsx)(Va.a,{})," ",t("soajs:buttons.Add")]}),Object(I.jsx)("span",{className:"clearfix"})]}),a.applications&&a.applications.map((function(n,s){return Object(I.jsx)(Ot.a,{className:"mt-3 ml-3 mr-3",defaultActiveKey:1,children:Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:12,md:8,children:Object(I.jsxs)(Ot.a.Toggle,{className:"p-0",as:z.a,variant:"link",eventKey:s+1,children:[Object(I.jsx)("span",{className:"font-weight-bold mr-3 small",children:n.package}),Object(I.jsxs)("span",{className:"small text-muted",children:["[",n.appId,"]"]}),Object(I.jsx)("span",{className:"text-success small ml-3",children:[n.product]})]})}),Object(I.jsxs)(dt.a,{xs:12,md:4,children:[e.can("console_tenant_application","delete")&&Object(I.jsx)(Ja,{className:"float-right ml-1",onClick:function(){B({type:"application",label:n.package,id:a._id,appId:n.appId})}}),e.can("console_tenant_application","edit")&&Object(I.jsx)(en,{className:"float-right ml-1",onClick:function(){var e;e={id:a._id,appId:n.appId,description:n.description||"",_TTL:n._TTL?n._TTL/36e5:168,package:n.package},de({show:!0,item:e})}})]})]})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:s+1,children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)("span",{className:"small",children:n.description}),Object(I.jsx)("hr",{className:"mt-4"}),Object(I.jsxs)("div",{className:"mb-1",children:[Object(I.jsx)("h6",{className:"float-left font-weight-bold",children:"Available internal keys"}),e.can("console_tenant_application_key","add")&&Object(I.jsxs)(z.a,{className:"float-right mb-1",variant:"success",size:"sm",onClick:function(){!function(e){ge.apply(this,arguments)}({id:a._id,appId:n.appId})},children:[Object(I.jsx)(Va.a,{})," ",t("soajs:buttons.Add")]}),Object(I.jsx)("span",{className:"clearfix"})]}),n.keys&&n.keys.map((function(s,c){return Object(I.jsx)(Ot.a,{className:"mb-2",defaultActiveKey:1,children:Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{className:"p-1 pl-2 pr-2",style:{backgroundColor:"#dee2e6"},children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:12,md:8,children:Object(I.jsx)(Ot.a.Toggle,{className:"p-0",as:z.a,variant:"link",eventKey:c+1,children:Object(I.jsxs)("span",{className:"font-weight-bold mr-3 small",children:[Object(I.jsx)(be.e,{className:"mr-2"}),s.key]})})}),Object(I.jsxs)(dt.a,{xs:12,md:4,children:[e.can("console_tenant_application_key","delete")&&Object(I.jsx)(Ja,{className:"float-right ml-2",onClick:function(){B({type:"key",label:s.key,id:a._id,appId:n.appId,key:s.key})}}),e.can("tenant_console_application_key","configure")&&Object(I.jsx)(tn,{className:"float-right ml-2",onClick:function(){var e;e={id:a._id,appId:n.appId,key:s.key,configAllEnv:s.config},W({show:!0,item:e})}})]})]})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:c+1,children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)("h6",{className:"float-left font-weight-bold",children:"Available external keys"}),e.can("console_tenant_application_ekey","add")&&Object(I.jsxs)(z.a,{className:"float-right mb-1",variant:"success",size:"sm",onClick:function(){var e;e={id:a._id,appId:n.appId,key:s.key},ce({show:!0,item:e})},children:[Object(I.jsx)(Va.a,{})," ",t("soajs:buttons.Add")]}),Object(I.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",className:"small",children:[Object(I.jsx)("thead",{className:"text-light bg-dark",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:t("soajs:buttons.Actions")}),Object(I.jsx)("th",{children:t("soajs:fields.ExternalKey")}),Object(I.jsx)("th",{children:t("soajs:fields.Label")}),Object(I.jsx)("th",{className:"text-center",children:t("soajs:fields.Environments")}),Object(I.jsx)("th",{className:"text-right",children:t("soajs:fields.ExpDate")})]})}),Object(I.jsx)("tbody",{children:s.extKeys&&s.extKeys.map((function(t,c){return Object(I.jsxs)("tr",{children:[Object(I.jsxs)("td",{children:[e.can("console_tenant_application_ekey","delete")&&Object(I.jsx)(Ja,{className:"mr-2",onClick:function(){B({type:"extKey",label:t.extKey,id:a._id,appId:n.appId,key:s.key,extKey:t.extKey})}}),e.can("console_tenant_application_ekey","configure")&&Object(I.jsx)(tn,{onClick:function(){var e;e={id:a._id,appId:n.appId,key:s.key,extKey:t.extKey,expDate:t.expDate||null,device:t.device||{},geo:t.geo||{},label:t.label||"",extKeyEnv:t.env||""},Q({show:!0,item:e})}})]}),Object(I.jsx)("td",{style:{wordBreak:"break-all",maxWidth:"400px"},children:t.extKey}),Object(I.jsx)("td",{children:Object(I.jsx)(it.a,{variant:"secondary",children:t.label})}),Object(I.jsx)("td",{className:"text-center",children:t.env}),Object(I.jsx)("td",{className:"text-right",children:t.expDate?new Date(t.expDate).toISOString():null})]},c)}))})]})]})})]})},c+1)}))]})})]})},s+1)}))]}),Object(I.jsx)(za.a,{eventKey:"users",title:t("soajs:titles.Users"),children:Object(I.jsxs)("div",{className:"mt-5 ml-3 mr-3",children:[Object(I.jsx)("h6",{className:"float-left font-weight-bold",children:"Available integration users"}),a.oauth&&"oauth"===a.oauth.loginMode&&e.can("integration_user","add")&&Object(I.jsxs)(z.a,{className:"float-right mb-1",variant:"success",size:"sm",onClick:function(){var e;e={id:a._id},D({show:!0,item:e})},children:[Object(I.jsx)(Va.a,{})," ",t("soajs:buttons.Add")]}),Object(I.jsx)("span",{className:"clearfix"}),Object(I.jsx)("hr",{}),a.oauth&&"oauth"!==a.oauth.loginMode&&Object(I.jsx)(rt.a,{variant:"danger",className:"small",children:"Configuration issues detected with this tenant. Users will be disabled until issues are resolved."}),a.oauth&&"oauth"===a.oauth.loginMode&&l[a._id]&&Object(I.jsx)(xt.a,{style:{overflowY:"auto"},children:l[a._id].map((function(t,n){return Object(I.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"16rem",maxWidth:"16rem"},children:Object(I.jsxs)(ot.a.Body,{className:"p-1",children:[e.can("integration_user","delete")&&Object(I.jsx)(Ja,{className:"mr-2 pt-0 pb-1 pl-1 pr-1",onClick:function(){!function(e,t){ve.apply(this,arguments)}(a._id,t._id)}}),t.userId]})},n)}))})]})})]})]})})]})},n+1)})),Object(I.jsx)("div",{className:"float-right mt-3",children:Object(I.jsx)(Lt,{currentPage:O,totalItems:w.totalItems,itemsPerPage:w.itemsPerPage,maxSize:w.maxSize,onClick:function(e){x(e),we(e).catch()}})}),Object(I.jsx)("div",{className:"clearfix"})]})}function ur(){return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{children:"This Section will provide you some of the information you need for Continuous Delivery."}),Object(I.jsxs)(ot.a.Body,{children:["Here is some of the Environment Variables you would need :",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("b",{children:"SOAJS_URL:"})," The url to the your console api.",Object(I.jsx)("br",{}),Object(I.jsx)("b",{children:"SOAJS_key:"})," The external key to your console tenant application.",Object(I.jsx)("br",{}),Object(I.jsx)("b",{children:"SOAJS_cd_auth:"})," A valid continuous delivery token.",Object(I.jsx)("br",{}),Object(I.jsx)("hr",{}),Object(I.jsx)("a",{href:"https://soajsorg.atlassian.net/wiki/x/ZYBBa",children:" Click here "}),"to Learn more about Continuous Delivery"]})]})})}var mr=At.getService();function br(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})},i=Object(n.useState)({label:""}),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(){return(j=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mr.addToken(l.label);case 3:ie.success(c("soajs:messages.addToken")),s(),r(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&d({label:""}),function(){return e=!1}}),[t]),Object(I.jsxs)(ma.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.tokenAdd")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsx)(G.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Label")}),Object(I.jsx)(G.a.Control,{id:"label",size:"sm",value:l.label,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),d(Object(N.a)(Object(N.a)({},l),{},Object(We.a)({},e.target.id,t)))}})]})})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:r,children:c("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return j.apply(this,arguments)},disabled:!function(){var e=!0;return e=e&&l.label.length>0}(),children:c("soajs:buttons.Add")})]})]})}var pr=At.getService();function hr(e,t){return Or.apply(this,arguments)}function Or(){return(Or=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pr.getCDTokens();case 3:n=e.sent,a&&n&&t(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function xr(){var e=Object(Ie.a)(["common","soajs"]).t,t=P().ability,a=Object(n.useState)([]),s=Object(y.a)(a,2),c=s[0],r=s[1],i=Object(n.useState)({show:!1}),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(){return u.apply(this,arguments)}function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hr(r,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pr.deleteCDToken(a.token);case 3:return ie.success(e("soajs:messages.deleteToken")),t.next=6,j();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),ie.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function b(e,t){return p.apply(this,arguments)}function p(){return(p=Object(v.a)(g.a.mark((function t(a,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pr.updateCDToken(a.token,n);case 3:return ie.success(e("soajs:messages.updateToken")),t.next=6,j();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),ie.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return hr(r,e).catch(),function(){return e=!1}}),[]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(br,{modalOpt:l,setModalOpt:d,handleAction:j}),Object(I.jsxs)("div",{children:[Object(I.jsx)("h4",{className:"float-left",children:e("soajs:titles.CDToken")}),t.can("registry_custom","add")&&Object(I.jsxs)(z.a,{variant:"success",className:"float-right",size:"sm",onClick:function(){d({show:!0})},children:[Object(I.jsx)(Va.a,{})," ",e("soajs:buttons.Add")]}),Object(I.jsx)("span",{className:"clearfix"})]}),Object(I.jsx)("hr",{}),c.map((function(e,a){return Object(I.jsxs)(rt.a,{variant:"light",className:"mt-2 mb-2",style:{borderColor:"#c6c8ca"},children:[t.can("infra_cd_token","delete")&&Object(I.jsx)(Ja,{className:"float-left mr-2",onClick:function(){(function(e){return m.apply(this,arguments)})(e).catch()}}),"active"===e.status&&Object(I.jsx)(z.a,{variant:"warning",className:"float-left mr-2",size:"sm",disabled:!t.can("infra_cd_token","update"),onClick:function(){b(e,"inactive").catch()},children:"Deactivate"}),"inactive"===e.status&&Object(I.jsx)(z.a,{variant:"success",className:"float-left mr-2",size:"sm",disabled:!t.can("infra_cd_token","update"),onClick:function(){b(e,"active").catch()},children:"Activate"}),e.label&&Object(I.jsx)(it.a,{variant:"dark",className:" float-right mt-2 ml-2",children:e.label}),Object(I.jsx)("small",{style:{wordBreak:"break-all"},children:Object(I.jsx)("span",{className:"small float-left mt-2",children:e.token})}),Object(I.jsx)("span",{className:"clearfix"})]},a)}))]})}function fr(e){var t="";if(e){var a=new Date(e);t=t+a.getDate()+"/"+(a.getMonth()+1)+"/"+a.getFullYear()+" - "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()}return t}function gr(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(I.jsx)("div",{className:"float-right",type:"button",onClick:s,children:t})}var vr=Nt.getService();function yr(e,t,a,n){return kr.apply(this,arguments)}function kr(){return(kr=Object(v.a)(g.a.mark((function e(t,a,n,s){var c,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={limit:12,skip:12*(n-1)},e.next=4,vr.getLedger(c);case 4:r=e.sent,s&&r&&r.items&&(t(r.items),a({totalItems:r.count,maxSize:10,itemsPerPage:r.limit})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function wr(){var e=Object(n.useState)([]),t=Object(y.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(0),r=Object(y.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)(1),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),b=Object(y.a)(m,2),p=b[0],h=b[1],O=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),x=Object(y.a)(O,2),f=x[0],k=x[1];function w(e,t){var a=e;if("string"===typeof a)try{a=JSON.parse(a)}catch(n){ie.error(n.message)}!function(e,t){k({show:!0,json:e,mode:"view",title:t||""})}(a,t)}function C(){return(C=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yr(s,h,t||j,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return yr(s,h,1,e),function(){return e=!1}}),[]),a.length>0&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ba,{modalOpt:f,setModalOpt:k}),Object(I.jsx)(Ot.a,{activeKey:i,children:a.map((function(e,t){return Object(I.jsxs)(rt.a,{variant:"light",className:"mt-2 mb-2",style:{borderColor:"#c6c8ca"},children:[Object(I.jsx)(lt.a,{children:Object(I.jsxs)(dt.a,{children:[Object(I.jsxs)("span",{className:"float-left",children:[Object(I.jsxs)("span",{className:"font-weight-bold mr-5",children:[e.type," > ",e.section]}),"[",Object(I.jsxs)("span",{className:"small text-info mr-2",children:[e.env,":"]}),Object(I.jsx)("span",{className:"small",children:fr(e.time)}),"]"]}),Object(I.jsx)(gr,{eventKey:t+1,handleClick:function(){o(i===t+1?null:t+1)},children:i===t+1?Object(I.jsx)(gt.b,{}):Object(I.jsx)(gt.a,{})}),Object(I.jsxs)("span",{className:"float-right mr-2",children:[e.action,": ",e.status]}),Object(I.jsx)("span",{className:"clearfix"})]})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:t+1,children:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("hr",{className:"mt-2 mb-1"}),Object(I.jsx)(lt.a,{className:"mt-2 small",children:Object(I.jsxs)(dt.a,{children:[Object(I.jsx)("span",{className:"float-left",children:e.locator.join("- ")}),Object(I.jsx)(z.a,{className:"float-right",variant:"link",size:"sm",style:{borderColor:"#c6c8ca"},onClick:function(){w(e.input)},children:"request"}),Object(I.jsx)(z.a,{className:"float-right mr-2",variant:"link",size:"sm",style:{borderColor:"#c6c8ca"},onClick:function(){w(e.output)},children:"response"}),e.who&&Object(I.jsx)(z.a,{className:"float-right mr-4",variant:"link",size:"sm",style:{borderColor:"#c6c8ca"},onClick:function(){w(e.who)},children:e.who.username})]})})]})})]},t)}))}),Object(I.jsx)("div",{className:"float-right mt-3",children:Object(I.jsx)(Lt,{currentPage:j,totalItems:p.totalItems,itemsPerPage:p.itemsPerPage,maxSize:p.maxSize,onClick:function(e){u(e),function(e){C.apply(this,arguments)}(e)}})}),Object(I.jsx)("div",{className:"clearfix"})]})}var Cr=ke.getService(),Nr=At.getService();function Sr(e,t){return e&&e.acl&&e.acl.groups&&e.acl.groups.value&&e.acl.groups.value.includes(t)}function Ar(e){var t=e.settings,a=e.id,s=e.handleAction,c=e.handleClose,r=Object(Ie.a)(["common","soajs"]).t,i=P().ability,o=Object(n.useState)([]),l=Object(y.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)({groups:[],type:"whitelist"}),m=Object(y.a)(u,2),b=m[0],p=m[1];function h(e,t){var a=b;a.type=t,p(Object(N.a)({},a))}function O(){return(O=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Nr.deleteInfraAccountAcl(a);case 4:ie.success(r("soajs:messages.envGroupDeleteSuccess")),s(),c(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function x(){return(x=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Nr.saveInfraAccountAcl({id:a,groups:b.groups,type:b.type});case 4:ie.success(r("soajs:messages.envGroupSaveSuccess")),s(),c(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t&&t.acl&&t.acl.groups&&p({groups:t.acl.groups.value,type:t.acl.groups.type}),a.next=4,Cr.getGroups();case 4:n=a.sent,e&&j(n),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),ie.error(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){return e=!1}}),[t]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(me.a,{className:"p-4 m-0 bg-light border-dark small",children:Object(I.jsxs)("fieldset",{children:[Object(I.jsx)(G.a.Check,{type:"radio",label:"whitelist",name:"groupsType",id:"groupsType1",defaultChecked:"whitelist"===b.type,onChange:function(e){h(e.target.checked,"whitelist")}}),Object(I.jsx)(G.a.Check,{type:"radio",label:"blacklist",name:"groupsType",id:"groupsType2",defaultChecked:"blacklist"===b.type,onChange:function(e){h(e.target.checked,"blacklist")}})]})}),Object(I.jsx)(xt.a,{className:"ml-2",children:d.map((function(e,a){return Object(I.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(I.jsx)(ot.a.Body,{className:"p-2",children:Object(I.jsx)(G.a.Check,{className:"small",type:"checkbox",defaultChecked:Sr(t,e.code),label:e.code,onChange:function(t){!function(e,t){var a=b;e?a.groups.push(t):R.a.pullAll(a.groups,[t]),p(Object(N.a)({},a))}(t.target.checked,e.code)}},a+1)})},a)}))}),Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{children:[Object(I.jsx)(z.a,{className:"ml-1 float-right",variant:"warning",onClick:c,children:r("soajs:buttons.Close")}),i.can("env_aclGroups","update")&&Object(I.jsx)(z.a,{className:"ml-1 float-right",variant:"success",disabled:!1,onClick:function(e){return x.apply(this,arguments)},children:r("soajs:buttons.Save")}),i.can("env_aclGroups","delete")&&Object(I.jsx)(z.a,{className:"ml-1 float-right",variant:"danger",disabled:!1,onClick:function(e){return O.apply(this,arguments)},children:r("soajs:buttons.Delete")})]})]})}function Tr(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAfterSubmit,s=Object(Ie.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})};return Object(I.jsx)(I.Fragment,{children:t.item&&Object(I.jsxs)(ma.a,{size:"lg",show:t.show,onHide:c,animation:!1,children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:s("soajs:titles.clusterConfiguration")})}),Object(I.jsxs)(ma.a.Body,{children:[Object(I.jsxs)(me.a,{className:"p-4",children:[Object(I.jsx)("span",{className:"font-weight-bold",children:t.item.label}),Object(I.jsx)("hr",{}),t.item.description]}),Object(I.jsx)(G.a,{onSubmit:function(e){e.preventDefault()},children:Object(I.jsx)(Ma.a,{className:"mb-3",defaultActiveKey:"acl",id:"config",children:Object(I.jsx)(za.a,{eventKey:"acl",title:s("soajs:fields.Groups"),children:Object(I.jsx)(Ar,{settings:t.item.settings,handleAction:function(){n()},handleClose:c,id:t.item._id})})})})]})]})})}var Pr=At.getService();function Ir(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ie.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})};function r(){return(r=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pr.deleteInfraAccount(t.item._id);case 3:ie.success(s("soajs:messages.deleteCluster")),n(),c(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(I.jsxs)(ma.a,{show:t.show,onHide:c,animation:!1,children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:s("soajs:buttons.Delete")})}),Object(I.jsx)(ma.a.Body,{children:s("soajs:messages.deleteQuestion")}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:c,children:s("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"danger",onClick:function(){return r.apply(this,arguments)},children:s("soajs:buttons.Delete")})]})]})}var Lr=At.getService(),Mr=null;function zr(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=function(){return a({show:!1,opts:null})},i=Object(n.useState)({label:"",description:"",url:"",port:0,token:"",type:"secret"}),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){d(Object(N.a)(Object(N.a)({},l),{},Object(We.a)({},e.target.id,e.target.value)))}function u(){return(u=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={label:l.label,description:l.description,url:l.url,port:parseInt(l.port),token:l.token,type:l.type,ca:Mr},e.next=4,Lr.addInfraAccount(t);case 4:ie.success(c("soajs:messages.addInfraAccount")),s(),r(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(I.jsxs)(ma.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.clusterAdd")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsx)(G.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.Label")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"label",size:"sm",value:l.label,onChange:j})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.Description")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:l.description,onChange:j})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.Url")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"url",size:"sm",value:l.url,onChange:j})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.Port")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"port",size:"sm",type:"number",value:l.port,onChange:j})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.Token")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"token",size:"sm",as:"textarea",rows:3,value:l.token,onChange:j})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.Certificate")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(ue,{mode:"code",json:Mr,onChange:function(e){e&&(Mr=e)}})})]})]})})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:r,children:c("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(l.label.length>0&&l.description.length>0&&l.token.length>0&&l.url.length>0&&l.port>0),children:c("soajs:buttons.Add")})]})]})}var Er=At.getService();function _r(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=function(){return a({show:!1,opts:null})},i=Object(n.useState)({id:"",label:"",description:"",url:"",port:0,token:"",type:"secret",ca:null}),o=Object(y.a)(i,2),l=o[0],d=o[1],j=null;function u(e){d(Object(N.a)(Object(N.a)({},l),{},Object(We.a)({},e.target.id,e.target.value)))}function m(){return(m=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l.port=parseInt(l.port),l.ca=j||l.ca,e.next=5,Er.updateInfraAccount(l);case 5:ie.success(c("soajs:messages.updateInfraAccount")),s(),r(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.item&&d({id:t.item._id,label:t.item.label,description:t.item.description,url:t.item.configuration.url,port:t.item.configuration.port,token:"",type:"secret",ca:null}),function(){return e=!1}}),[t]),Object(I.jsxs)(ma.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.clusterUpdate")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsx)(G.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.Label")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"label",size:"sm",value:l.label,onChange:u})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.Description")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:l.description,onChange:u})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.Url")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"url",size:"sm",value:l.url,onChange:u})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.Port")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"port",size:"sm",type:"number",value:l.port,onChange:u})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.Token")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"token",size:"sm",as:"textarea",rows:3,value:l.token,onChange:u})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:c("soajs:fields.Certificate")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(ue,{mode:"code",json:l.ca,onChange:function(e){e&&(j=e)}})})]})]})})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:r,children:c("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return m.apply(this,arguments)},disabled:!(l.label.length>0&&l.description.length>4&&l.token.length>0&&l.url.length>0&&l.port>0),children:c("soajs:buttons.Update")})]})]})}var Gr=At.getService();function Dr(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(I.jsx)("div",{className:"float-left",type:"button",onClick:s,children:t})}function Rr(e,t){return Ur.apply(this,arguments)}function Ur(){return(Ur=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gr.getInfraAccounts();case 3:n=e.sent,a&&n&&t(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Fr(){var e=Object(Ie.a)(["common","soajs"]).t,t=P().ability,a=Object(n.useState)([]),s=Object(y.a)(a,2),c=s[0],r=s[1],i=Object(n.useState)(1),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({show:!1,item:null}),u=Object(y.a)(j,2),m=u[0],b=u[1],p=Object(n.useState)({show:!1,item:null}),h=Object(y.a)(p,2),O=h[0],x=h[1],f=Object(n.useState)({show:!1}),k=Object(y.a)(f,2),w=k[0],C=k[1],N=Object(n.useState)({show:!1,item:null}),S=Object(y.a)(N,2),A=S[0],T=S[1];function L(){return M.apply(this,arguments)}function M(){return(M=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr(r,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return Rr(r,e),function(){return e=!1}}),[]),c.length>0&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(_r,{modalOpt:A,setModalOpt:T,handleAction:L}),Object(I.jsx)(zr,{modalOpt:w,setModalOpt:C,handleAction:L}),Object(I.jsx)(Ir,{modalOpt:O,setModalOpt:x,handleAction:L}),Object(I.jsx)(Tr,{modalOpt:m,setModalOpt:b,handleAfterSubmit:L}),Object(I.jsxs)("div",{children:[Object(I.jsx)("h4",{className:"float-left",children:e("soajs:titles.infrastructure")}),t.can("infra_account","add")&&Object(I.jsxs)(z.a,{variant:"success",className:"float-right",size:"sm",onClick:function(){C({show:!0})},children:[Object(I.jsx)(Va.a,{})," ",e("soajs:buttons.Add")]}),Object(I.jsx)("span",{className:"clearfix"})]}),Object(I.jsx)("hr",{}),Object(I.jsx)(Ot.a,{activeKey:l,children:c.map((function(a,n){return Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:12,md:8,children:Object(I.jsxs)(Dr,{as:ot.a.Header,eventKey:n+1,handleClick:function(){d(l===n+1?null:n+1)},children:[l===n+1?Object(I.jsx)(gt.b,{className:"mr-1"}):Object(I.jsx)(gt.a,{className:"mr-1"})," ",Object(I.jsx)("span",{className:"font-weight-bold",children:a.label})]})}),Object(I.jsxs)(dt.a,{xs:12,md:4,children:[t.can("infra_account","delete")&&Object(I.jsx)(Ja,{className:"float-right ml-1",onClick:function(){x({show:!0,item:a})}}),t.can("infra_account","updateAcl")&&Object(I.jsx)(Tc,{className:"float-right ml-1",onClick:function(){b({show:!0,item:a})}}),t.can("infra_account","edit")&&Object(I.jsx)(en,{className:"float-right ml-1",onClick:function(){T({show:!0,item:a})}})]})]})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:n+1,children:Object(I.jsxs)(ot.a.Body,{children:[a.description,Object(I.jsx)(rt.a,{variant:"info",className:"small mt-3 mb-3",children:Object(I.jsxs)(zn.a,{variant:"flush",children:[Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:fields.MasterNode"),":"]})," ",a.configuration.url]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:fields.Port"),":"]})," ",a.configuration.port]}),a.deployments&&a.deployments.length>0&&Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:fields.Environment")," / ",e("soajs:fields.Namespace"),":"]}),Object(I.jsx)(xt.a,{className:"mt-2",children:a.deployments.map((function(e,t){return Object(I.jsx)(ot.a,{className:"text-center text-white mb-2 mt-2 ml-2 mr-2",bg:"secondary",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(I.jsxs)(ot.a.Body,{className:"p-2",children:[e.env," / ",e.namespace]})},t)}))})]})]})})]})})]},n+1)}))})]})}var Kr=wt.getService(),Br="1",Hr="2",Jr="3",Vr="1",Wr="1",qr="2";function Yr(e){var t=e.rootPath,a=Object(n.useState)({label:"",accountType:Vr,username:"",email:"",token:"",consumerKey:"",consumerSecret:""}),s=Object(y.a)(a,2),c=s[0],r=s[1],i=Object(Ie.a)(["common","soajs"]).t,o=P().ability,l=Object(n.useState)(Br),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)(Wr),b=Object(y.a)(m,2),p=b[0],h=b[1],O=Object(n.useState)("github.com"),x=Object(y.a)(O,2),f=x[0],w=x[1],C=Object(k.k)(),S=Object(n.useState)(!1),A=Object(y.a)(S,2),T=A[0],L=A[1];function M(){return(M=Object(v.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),L(!0),n={label:c.label,domain:f,username:c.username,email:c.email,token:c.token,oauthKey:c.consumerKey,oauthSecret:c.consumerSecret},c.accountType===Vr?n.type="personal":"2"===c.accountType&&(n.type="organization"),p===Wr?n.access="public":p===qr&&(n.access="private"),j===Br?n.provider="github":j===Hr?(n.provider="bitbucket",n.username=n.email):j===Jr&&(n.provider="bitbucket_enterprise"),e.prev=6,e.next=9,Kr.addGitAccount(n);case 9:ie.success(i("soajs:development.accounts.addMsg")),C.push(t),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),ie.error(e.t0.message);case 16:L(!1);case 17:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}function z(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),r(Object(N.a)(Object(N.a)({},c),{},Object(We.a)({},e.target.id,t)))}return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:"clearfix mb-3",children:Object(I.jsx)("h3",{className:"float-left",children:i("soajs:development.accounts.addTitle")})}),Object(I.jsxs)(G.a,{onSubmit:function(e){return M.apply(this,arguments)},children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:i("soajs:development.accounts.provider")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsxs)(G.a.Control,{as:"select",id:"provider",size:"sm",value:j,onChange:function(e){u(e.target.value),e.target.value===Br?w("github.com"):e.target.value===Hr?w("bitbucket.org"):w("")},children:[Object(I.jsx)("option",{value:Br,children:"Github"}),Object(I.jsx)("option",{value:Hr,children:"Bitbucket"}),Object(I.jsx)("option",{value:Jr,children:"Bitbucket Enterprise"})]})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:i("soajs:development.accounts.accountType")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsxs)(G.a.Control,{as:"select",id:"accountType",size:"sm",value:c.accountType,onChange:z,children:[Object(I.jsx)("option",{value:Vr,children:"Personal Account"}),Object(I.jsx)("option",{value:"2",children:"Organization Account"})]})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:i("soajs:development.accounts.accessType")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsxs)(G.a.Control,{as:"select",id:"accessType",size:"sm",value:p,onChange:function(e){h(e.target.value)},children:[Object(I.jsx)("option",{value:Wr,children:"Only Public Repositories"}),Object(I.jsx)("option",{value:qr,children:"Both Public and Private Repositories"})]})})]}),Object(I.jsx)("hr",{}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:i("soajs:development.accounts.label")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"label",size:"sm",value:c.label,onChange:z})})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:i("soajs:development.accounts.domain")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{disabled:j===Hr||j===Br,id:"domain",size:"sm",value:f,onChange:function(e){w(e.target.value)}})})]}),Object(I.jsx)("hr",{}),(j===Br||j===Jr)&&Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:i("soajs:development.accounts.username")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"username",size:"sm",value:c.username,onChange:z})})]}),j===Hr&&Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:i("soajs:development.accounts.email")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"email",size:"sm",type:"email",value:c.email,onChange:z})})]}),p===qr&&Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:i("soajs:development.accounts.token")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"token",size:"sm",value:c.token,onChange:z})})]}),j===Hr&&p===qr&&Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:i("soajs:development.accounts.consumerKey")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"consumerKey",size:"sm",value:c.consumerKey,onChange:z})})]}),j===Hr&&p===qr&&Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:3,children:i("soajs:development.accounts.consumerSecret")}),Object(I.jsx)(dt.a,{sm:9,children:Object(I.jsx)(G.a.Control,{id:"consumerSecret",size:"sm",value:c.consumerSecret,onChange:z})})]}),Object(I.jsx)("hr",{})]}),o.can("repo_account","add")&&Object(I.jsx)(_,{className:"mb-3",block:!0,type:"submit",variant:"success",isLoading:T,disabled:!function(){var e=!0;return j!==Br&&j!==Jr||(e=e&&c.username.length>0),j===Hr&&(e=e&&c.email.length>0),p===qr&&(e=e&&c.token.length>0,j===Hr&&(e=(e=e&&c.consumerSecret.length>0)&&c.consumerKey.length>0)),c.label.length>0&&f.length>0&&e}(),children:i("soajs:buttons.Add")})]})]})}var Xr=a(193),Qr=wt.getService();function Zr(e){var t=e.provider,a=Object(I.jsx)(vt.a,{});return"github"===t?a=Object(I.jsx)(C.c,{}):("bitbucket_enterprise"===t||"bitbucket"===t)&&(a=Object(I.jsx)(Xr.a,{})),a}function $r(e){var t=e.modalOpt,a=e.setModalOpt,n=e.modalFields,s=e.setModalFields,c=e.handleAfterSubmit,r=Object(Ie.a)(["common","soajs"]).t,i=P().ability;function o(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),s(Object(N.a)(Object(N.a)({},n),{},Object(We.a)({},e.target.id,t)))}function l(){return(l=Object(v.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a={id:n.id,username:n.username,token:n.token,oauthKey:n.consumerKey,oauthSecret:n.consumerSecret},e.next=5,Qr.upgradeGitAccount(a);case 5:ie.success(r("soajs:development.accounts.upgradeMsg")),c(),d(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}var d=function(){return a({show:!1,item:null})};return Object(I.jsx)(I.Fragment,{children:n&&Object(I.jsxs)(ma.a,{size:"lg",show:t.show,onHide:d,animation:!1,children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:r("soajs:development.accounts.upgrade")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(ot.a,{children:[Object(I.jsxs)(ot.a.Header,{children:[Object(I.jsx)(Zr,{provider:n.provider})," ",Object(I.jsx)("span",{className:"font-weight-bold",children:n.label})," [",n.username,"]"]}),Object(I.jsx)(ot.a.Body,{children:Object(I.jsx)(G.a,{onSubmit:function(e){e.preventDefault()},children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:4,children:r("soajs:development.accounts.token")}),Object(I.jsx)(dt.a,{sm:8,children:Object(I.jsx)(G.a.Control,{id:"token",size:"sm",value:n.token,onChange:o})})]}),"bitbucket"===n.provider&&Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:4,children:r("soajs:development.accounts.consumerKey")}),Object(I.jsx)(dt.a,{sm:8,children:Object(I.jsx)(G.a.Control,{id:"consumerKey",size:"sm",value:n.consumerKey,onChange:o})})]}),"bitbucket"===n.provider&&Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{column:"sm",sm:4,children:r("soajs:development.accounts.consumerSecret")}),Object(I.jsx)(dt.a,{sm:8,children:Object(I.jsx)(G.a.Control,{id:"consumerSecret",size:"sm",value:n.consumerSecret,onChange:o})})]})]})})})]})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:d,children:r("soajs:buttons.Cancel")}),i.can("repo_account","upgrade")&&Object(I.jsx)(z.a,{variant:"success",disabled:!function(){var e=!0;return e=e&&n.token.length>0,"bitbucket"===n.provider&&(e=(e=e&&n.consumerSecret.length>0)&&n.consumerKey.length>0),e}(),onClick:function(e){return l.apply(this,arguments)},children:r("soajs:buttons.Upgrade")})]})]})})}var ei=wt.getService();function ti(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ie.a)(["common","soajs"]).t,c=function(){return a({show:!1,opts:null})};function r(){return(r=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ei.deleteGitAccount(t.opts.id);case 3:ie.success(s("soajs:development.accounts.deleteMsg")),n(),c(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(I.jsxs)(ma.a,{show:t.show,onHide:c,animation:!1,children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:s("soajs:buttons.Delete")})}),Object(I.jsx)(ma.a.Body,{children:s("soajs:messages.deleteQuestion")}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:c,children:s("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"danger",onClick:function(){return r.apply(this,arguments)},children:s("soajs:buttons.Delete")})]})]})}var ai=a(183);function ni(e){var t=Object.assign({},e),a=Object(Ie.a)(["common","soajs"]).t;return Object(I.jsx)(Ka.a,{placement:"top",overlay:Object(I.jsx)(Ba.a,{id:"tooltip-top}",children:a("soajs:buttons.Upgrade")}),children:Object(I.jsx)(z.a,Object(N.a)(Object(N.a)({size:"sm",variant:"secondary"},t),{},{children:Object(I.jsx)(ai.c,{})}))})}var si=wt.getService();function ci(e){var t=e.metadata,a=e.t,n=!1;return t&&t.organizations&&Array.isArray(t.organizations)&&t.organizations.length>0&&(n=!0),n&&Object(I.jsxs)(me.a,{className:"p-3 mt-3 bg-light",children:[Object(I.jsx)("h6",{className:"mb-4 font-weight-bold",children:a("soajs:development.accounts.organizations")}),Object(I.jsx)(xt.a,{children:t.organizations.map((function(e,t){return Object(I.jsx)(ot.a,{className:"text-center text-white",bg:"secondary",style:{minWidth:"21rem",maxWidth:"21rem"},children:Object(I.jsx)(ot.a.Body,{className:"p-2",children:e})},t)}))})]})}function ri(e){var t=e.provider,a=Object(I.jsx)(vt.a,{});return"github"===t?a=Object(I.jsx)(C.c,{}):("bitbucket_enterprise"===t||"bitbucket"===t)&&(a=Object(I.jsx)(Xr.a,{})),a}function ii(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(I.jsx)("div",{className:"float-left",type:"button",onClick:s,children:t})}function oi(e,t){return li.apply(this,arguments)}function li(){return(li=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,si.getGitAccounts();case 3:n=e.sent,a&&t(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function di(e){var t=e.rootPath,a=Object(Ie.a)(["common","soajs"]).t,s=Object(n.useState)([]),c=Object(y.a)(s,2),r=c[0],o=c[1],l=Object(n.useState)(1),d=Object(y.a)(l,2),j=d[0],u=d[1],m=P().ability,b=Object(n.useState)({id:"",provider:"",label:"",username:"",token:"",consumerKey:"",consumerSecret:""}),p=Object(y.a)(b,2),h=p[0],O=p[1],x=Object(n.useState)({show:!1,opts:null}),f=Object(y.a)(x,2),k=f[0],w=f[1],C=Object(n.useState)({show:!1,item:null}),N=Object(y.a)(C,2),S=N[0],A=N[1];function T(){return(T=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,si.syncGitAccount(t);case 3:return ie.success(a("soajs:development.accounts.syncMsg")),e.next=6,oi(o,!0);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function L(){return M.apply(this,arguments)}function M(){return(M=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oi(o,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return oi(o,e),function(){return e=!1}}),[]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ti,{modalOpt:k,setModalOpt:w,handleAction:L}),Object(I.jsx)($r,{modalOpt:S,setModalOpt:A,setModalFields:O,modalFields:h,handleAfterSubmit:L}),Object(I.jsxs)("div",{className:"clearfix float-none mb-3",children:[Object(I.jsx)("h3",{className:"float-left",children:a("soajs:development.accounts.title")}),m.can("repo_account","add")&&Object(I.jsx)(i.Link,{to:t+"/add",children:Object(I.jsxs)(z.a,{variant:"success",className:"float-right",size:"sm",children:[Object(I.jsx)(Va.a,{})," ",a("soajs:buttons.Add")]})})]}),Object(I.jsxs)(Ot.a,{activeKey:j,children:[r.map((function(e,t){return Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:12,md:8,children:Object(I.jsxs)(ii,{as:ot.a.Header,eventKey:t+1,handleClick:function(){u(j===t+1?null:t+1)},children:[j===t+1?Object(I.jsx)(gt.b,{className:"mr-1"}):Object(I.jsx)(gt.a,{className:"mr-1"})," ",Object(I.jsx)(ri,{provider:e.provider})," ",Object(I.jsx)("span",{className:"font-weight-bold",children:e.label})," [",e.owner,"]"]})}),Object(I.jsxs)(dt.a,{xs:12,md:4,children:[m.can("repo_account","delete")&&Object(I.jsx)(Ja,{className:"float-right ml-1",onClick:function(){var t;t={id:e._id},w({show:!0,opts:t})}}),m.can("repo_account","synchronize")&&Object(I.jsx)(Wn,{className:"float-right ml-1",onClick:function(){!function(e){T.apply(this,arguments)}(e._id)}}),m.can("repo_account","upgrade")&&"public"===e.access&&Object(I.jsx)(ni,{className:"float-right ml-1",onClick:function(){!function(e){O({id:e._id,provider:e.provider,label:e.label,username:e.owner,token:"",consumerKey:"",consumerSecret:""}),A({show:!0,item:e})}(e)}})]})]})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:t+1,children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsxs)(zn.a,{variant:"flush",children:[Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[a("soajs:development.accounts.accountType"),":"]})," ",e.accountType]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[a("soajs:development.accounts.domain"),":"]})," ",e.domain]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[a("soajs:development.accounts.accessType"),":"]})," ",e.access]})]}),Object(I.jsx)(ci,{metadata:e.metadata,t:a})]})})]},t+1)})),0===r.length?Object(I.jsx)("span",{children:a("soajs:development.accounts.zeroMsg")}):null]})]})}function ji(){return Object(I.jsxs)(k.g,{children:[Object(I.jsx)(L,{path:"/settings/users",children:Object(I.jsx)(_s,{})}),Object(I.jsx)(L,{path:"/settings/groups",children:Object(I.jsx)(Qs,{})}),Object(I.jsx)(L,{path:"/settings/packages",children:Object(I.jsx)(Mc,{})}),Object(I.jsx)(L,{path:"/settings/configuration",children:Object(I.jsx)(_c,{})}),Object(I.jsx)(L,{path:"/settings/infrastructure",children:Object(I.jsx)(Fr,{})}),Object(I.jsx)(L,{path:"/settings/notifications",children:Object(I.jsx)(wr,{})}),Object(I.jsx)(L,{path:"/settings/integration",children:Object(I.jsx)(jr,{})}),Object(I.jsx)(L,{path:"/settings/cd/configuration",children:Object(I.jsx)(ur,{})}),Object(I.jsx)(L,{path:"/settings/tokens",children:Object(I.jsx)(xr,{})}),Object(I.jsx)(L,{path:"/settings/git/accounts/add",children:Object(I.jsx)(Yr,{rootPath:"/settings/git/accounts"})}),Object(I.jsx)(L,{path:"/settings/git/accounts",children:Object(I.jsx)(di,{rootPath:"/settings/git/accounts"})}),Object(I.jsx)(k.d,{render:function(){return Object(I.jsx)(k.c,{to:"/settings/infrastructure"})}})]})}var ui=function(){var e=Object(Ie.a)(["common","soajs"]).t;return Object(I.jsxs)(Sa.a,{collapseOnSelect:!0,expand:"lg",className:"pt-0 pb-0",bg:"secondary",variant:"light",children:[Object(I.jsx)("span",{}),Object(I.jsx)(Sa.a.Toggle,{"aria-controls":"settings-navbar-nav"}),Object(I.jsx)(Sa.a.Collapse,{id:"settings-navbar-nav",className:"justify-content-end",children:Object(I.jsxs)(Aa.a,{activeKey:window.location.pathname,children:[Object(I.jsx)(Pa.LinkContainer,{to:"/settings/infrastructure",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.Infrastructure")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/settings/git/accounts",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.GitAccounts")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/settings/notifications",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.Notifications")})})}),Object(I.jsxs)(Ta.a,{className:"small",alignRight:!0,title:e("soajs:menu.settings"),id:"collasible-nav1-dropdown",children:[Object(I.jsx)(Pa.LinkContainer,{to:"/settings/configuration",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.configuration")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/settings/integration",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.integration")})})})]}),Object(I.jsxs)(Ta.a,{className:"small",alignRight:!0,title:e("soajs:menu.AccessRights"),id:"collasible-nav1-dropdown",children:[Object(I.jsx)(Pa.LinkContainer,{to:"/settings/users",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.users")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/settings/groups",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.groups")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/settings/packages",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.packages")})})})]}),Object(I.jsxs)(Ta.a,{className:"small",alignRight:!0,title:e("soajs:menu.ContinuousDelivery"),id:"collasible-nav1-dropdown",children:[Object(I.jsx)(Pa.LinkContainer,{to:"/settings/cd/configuration",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.Configuration")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/settings/tokens",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.Tokens")})})})]})]})})]})};function mi(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ui,{}),Object(I.jsx)("div",{className:"bg-dark pt-1"}),Object(I.jsx)("div",{className:"main-area",children:Object(I.jsx)(pt.a,{className:"mt-3 mb-3",children:Object(I.jsx)(ji,{})})})]})}function bi(){return Object(I.jsxs)(k.g,{children:[Object(I.jsx)(L,{path:"/development/git/accounts/add",children:Object(I.jsx)(Yr,{rootPath:"/development/git/accounts"})}),Object(I.jsx)(L,{path:"/development/git/accounts",children:Object(I.jsx)(di,{rootPath:"/development/git/accounts"})}),Object(I.jsx)(L,{path:"/development/git/repositories",children:Object(I.jsx)(ns,{})}),Object(I.jsx)(k.d,{render:function(){return Object(I.jsx)(k.c,{to:"/development/git/repositories"})}})]})}var pi=function(){var e=Object(Ie.a)(["common","soajs"]).t,t="/development";return Object(I.jsxs)(Sa.a,{collapseOnSelect:!0,expand:"sm",className:"pt-0 pb-0",bg:"secondary",variant:"dark",children:[Object(I.jsx)("span",{}),Object(I.jsx)(Sa.a.Toggle,{"aria-controls":"development-navbar-nav"}),Object(I.jsx)(Sa.a.Collapse,{id:"development-navbar-nav",className:"justify-content-end",children:Object(I.jsxs)(Aa.a,{children:[Object(I.jsx)(Pa.LinkContainer,{to:t+"/git/repositories",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.GitRepositories")})})}),Object(I.jsx)(Pa.LinkContainer,{to:t+"/git/accounts",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.GitAccounts")})})})]})})]})};function hi(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(pi,{}),Object(I.jsx)("div",{className:"bg-dark pt-1"}),Object(I.jsx)("div",{className:"main-area",children:Object(I.jsx)(pt.a,{className:"mt-3 mb-3",children:Object(I.jsx)(bi,{})})})]})}function Oi(e){var t=e.environment;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("hr",{}),Object(I.jsxs)(rt.a,{variant:"secondary",children:["This environment only operates on your Local Machine with this IP Address ",Object(I.jsxs)("b",{className:"text-success",children:["( ",t.deployer.manual.nodes," )"]}),". It requires you deploy Microservices and Daemons manually in order to be able to operate them form under the appropriate catalogs."]})]})}var xi=Nt.getService(),fi=At.getService();function gi(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=e.environment,r=e.settings,i=Object(Ie.a)(["common","soajs"]).t,o=P().ability,l=Object(n.useState)({id:"",namespace:"",code:"",type:"existing"}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)([]),b=Object(y.a)(m,2),p=b[0],h=b[1],O=function(){return a({show:!1})};function x(){return(x=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xi.updateEnvironmentNamespace(j);case 3:ie.success(i("soajs:messages.envNamespace")),s(),O(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function f(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),u(Object(N.a)(Object(N.a)({},j),{},Object(We.a)({},e.target.id,t)))}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!c){t.next=9;break}return t.next=4,fi.getNamespaces(c.code);case 4:a=t.sent,e&&a&&a.items&&a.items.length>0&&h(a.items),e&&r&&u({id:r.container.kubernetes.id,code:c.code,namespace:r.container.kubernetes.namespace,type:"existing"}),t.next=10;break;case 9:e&&h([]);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),ie.error(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){return e=!1}}),[c,r]),Object(I.jsxs)(ma.a,{show:t.show,onHide:O,animation:!1,children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:i("soajs:titles.envNamespace")})}),Object(I.jsx)(ma.a.Body,{children:j&&Object(I.jsxs)(G.a,{onSubmit:function(e){e.preventDefault()},children:[Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{children:i("soajs:fields.NamespaceSelection")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"type",defaultValue:j.type,onChange:f,children:[Object(I.jsx)("option",{value:"existing",children:"Choose exiting namespace"}),Object(I.jsx)("option",{value:"new",children:"Create new namespace"})]})]}),"existing"===j.type&&Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{children:i("soajs:fields.ExistingNamespace")}),Object(I.jsx)(G.a.Control,{as:"select",id:"namespace",defaultValue:j.namespace,onChange:f,children:p.map((function(e,t){return Object(I.jsx)("option",{value:e.metadata.name,children:e.metadata.name},t)}))})]}),"new"===j.type&&Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{children:i("soajs:fields.CreateNamespace")}),Object(I.jsx)(G.a.Control,{id:"namespace",size:"sm",value:j.namespace,onChange:f})]})]})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:O,children:i("soajs:buttons.Cancel")}),o.can("env","update")&&Object(I.jsx)(z.a,{variant:"success",disabled:!(j.namespace.length>0),onClick:function(){return x.apply(this,arguments)},children:i("soajs:buttons.Update")})]})]})}var vi=Nt.getService();function yi(e,t,a){return ki.apply(this,arguments)}function ki(){return(ki=Object(v.a)(g.a.mark((function e(t,a,n){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vi.getRegistryDeployer(a.code);case 3:s=e.sent,t(s&&n?s:null),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function wi(e){var t=e.environment,a=Object(Ie.a)(["common","soajs"]).t,s=Object(n.useState)(null),c=Object(y.a)(s,2),r=c[0],i=c[1],o=Object(n.useState)({show:!1}),l=Object(y.a)(o,2),d=l[0],j=l[1];return Object(n.useEffect)((function(){var e=!0;return yi(i,t,e).catch(),function(){return e=!1}}),[t]),r&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(gi,{modalOpt:d,setModalOpt:j,handleAction:function(){yi(i,t,!0).catch()},environment:t,settings:r}),Object(I.jsx)("hr",{}),Object(I.jsx)(rt.a,{variant:"secondary",children:Object(I.jsxs)(zn.a,{variant:"flush",children:[Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[a("soajs:fields.MasterNode"),":"]})," ",r.container.kubernetes.configuration.url]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[a("soajs:fields.Namespace"),":"]})," ",r.container.kubernetes.namespace,Object(I.jsx)(tn,{className:"float-right ml-3",onClick:function(){j({show:!0})}})]})]})})]})}var Ci=ke.getService(),Ni=Nt.getService();function Si(e,t){return e&&e.acl&&e.acl.groups&&e.acl.groups.value&&e.acl.groups.value.includes(t)}function Ai(e){var t=e.settings,a=e.code,s=e.handleAction,c=e.handleClose,r=e.setSettings,i=Object(Ie.a)(["common","soajs"]).t,o=P().ability,l=Object(n.useState)([]),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({groups:[],type:"whitelist"}),b=Object(y.a)(m,2),p=b[0],h=b[1];function O(e,t){var a=p;a.type=t,h(Object(N.a)({},a))}function x(){return(x=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Ni.deleteEnvironmentAcl(a);case 4:ie.success(i("soajs:messages.envGroupDeleteSuccess")),r(null),s(),c(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function f(){return(f=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Ni.saveEnvironmentAcl({code:a,groups:p.groups,type:p.type});case 4:ie.success(i("soajs:messages.envGroupSaveSuccess")),s(),c(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t&&t.acl&&t.acl.groups&&h({groups:t.acl.groups.value,type:t.acl.groups.type}),a.next=4,Ci.getGroups();case 4:n=a.sent,e&&u(n),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),ie.error(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){return e=!1}}),[t]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(me.a,{className:"p-4 m-0 bg-light border-dark small",children:Object(I.jsxs)("fieldset",{children:[Object(I.jsx)(G.a.Check,{type:"radio",label:"whitelist",name:"groupsType",id:"groupsType1",defaultChecked:"whitelist"===p.type,onChange:function(e){O(e.target.checked,"whitelist")}}),Object(I.jsx)(G.a.Check,{type:"radio",label:"blacklist",name:"groupsType",id:"groupsType2",defaultChecked:"blacklist"===p.type,onChange:function(e){O(e.target.checked,"blacklist")}})]})}),Object(I.jsx)(xt.a,{className:"ml-2",children:j.map((function(e,a){return Object(I.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(I.jsx)(ot.a.Body,{className:"p-2",children:Object(I.jsx)(G.a.Check,{className:"small",type:"checkbox",defaultChecked:Si(t,e.code),label:e.code,onChange:function(t){!function(e,t){var a=p;e?a.groups.push(t):R.a.pullAll(a.groups,[t]),h(Object(N.a)({},a))}(t.target.checked,e.code)}},a+1)})},a)}))}),Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{children:[Object(I.jsx)(z.a,{className:"ml-1 float-right",variant:"warning",onClick:c,children:i("soajs:buttons.Close")}),o.can("env_aclGroups","update")&&Object(I.jsx)(z.a,{className:"ml-1 float-right",variant:"success",disabled:!1,onClick:function(e){return f.apply(this,arguments)},children:i("soajs:buttons.Save")}),o.can("env_aclGroups","delete")&&Object(I.jsx)(z.a,{className:"ml-1 float-right",variant:"danger",disabled:!1,onClick:function(e){return x.apply(this,arguments)},children:i("soajs:buttons.Delete")})]})]})}var Ti=Nt.getService();function Pi(e,t,a){return Ii.apply(this,arguments)}function Ii(){return(Ii=Object(v.a)(g.a.mark((function e(t,a,n){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ti.getEnvironmentSettings(a.code);case 3:(s=e.sent)&&s.settings&&n?t(s.settings):t(null),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Li(e){var t=e.modalOpt,a=e.setModalOpt,s=e.environment,c=Object(Ie.a)(["common","soajs"]).t,r=Object(n.useState)(null),i=Object(y.a)(r,2),o=i[0],l=i[1],d=function(){return a({show:!1})};function j(){return(j=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pi(l,s,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return Pi(l,s,e).catch(),function(){return e=!1}}),[s]),Object(I.jsx)(I.Fragment,{children:s&&Object(I.jsxs)(ma.a,{size:"lg",show:t.show,onHide:d,animation:!1,children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.environmentConfiguration")})}),Object(I.jsxs)(ma.a.Body,{children:[Object(I.jsxs)(me.a,{className:"p-4",children:[Object(I.jsx)("span",{className:"font-weight-bold",children:s.code})," - ",s.deployer.type,Object(I.jsx)("hr",{}),s.description]}),Object(I.jsx)(G.a,{onSubmit:function(e){e.preventDefault()},children:Object(I.jsx)(Ma.a,{className:"mb-3",defaultActiveKey:"acl",id:"config",children:Object(I.jsx)(za.a,{eventKey:"acl",title:c("soajs:fields.Groups"),children:Object(I.jsx)(Ai,{settings:o,setSettings:l,handleAction:function(){!function(){j.apply(this,arguments)}()},handleClose:d,code:s.code})})})})]})]})})}var Mi=Nt.getService();function zi(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ie.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})};function r(){return(r=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mi.deleteEnvironment(t.item._id);case 3:ie.success(s("soajs:messages.deleteEnvironment")),n(),c(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(I.jsxs)(ma.a,{show:t.show,onHide:c,animation:!1,children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:s("soajs:buttons.Delete")})}),Object(I.jsx)(ma.a.Body,{children:s("soajs:messages.deleteQuestion")}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:c,children:s("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"danger",onClick:function(){return r.apply(this,arguments)},children:s("soajs:buttons.Delete")})]})]})}function Ei(e){var t=e.environment,a=Object(Ie.a)(["common","soajs"]).t,s=P().ability,c=Object(n.useState)({show:!1}),r=Object(y.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)({show:!1,item:null}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(k.k)();function b(){return(b=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.push("/environments/manage");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(zi,{modalOpt:j,setModalOpt:u,handleAction:function(){return b.apply(this,arguments)}}),Object(I.jsx)(Li,{environment:t,modalOpt:i,setModalOpt:o}),Object(I.jsxs)(zn.a,{variant:"flush",children:[Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[a("soajs:fields.Code"),":"]})," ",t.code,!t.locked&&s.can("env","delete")&&Object(I.jsx)(Ja,{className:"float-right ml-3",onClick:function(){u({show:!0,item:t})}}),Object(I.jsx)(Tc,{className:"float-right ml-3",onClick:function(){o({show:!0})}})]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[a("soajs:fields.Type"),":"]})," ",t.deployer.type]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[a("soajs:fields.Description"),":"]})," ",t.description]})]}),"manual"===t.deployer.type&&Object(I.jsx)("div",{children:Object(I.jsx)(Oi,{environment:t})}),"container"===t.deployer.type&&Object(I.jsx)("div",{children:Object(I.jsx)(wi,{environment:t})})]})}function _i(e){e.environment;return Object(I.jsx)(rt.a,{variant:"info",className:"mt-4 mb-4",children:"RBAC: coming soon"})}function Gi(e){var t=e.modalOpt,a=e.setModalOpt,n=Object(Ie.a)(["common","soajs"]).t,s=function(){return a({show:!1,json:{},mode:"preview",title:""})};return t&&Object(I.jsxs)(ma.a,{show:t.show,onHide:s,animation:!1,size:"xl",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(I.jsx)(ma.a.Title,{children:t.title})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsx)(ue,{mode:t.mode||"view",modes:["view","preview"],json:t.json||{}})}),Object(I.jsx)(ma.a.Footer,{className:"bg-light",children:Object(I.jsx)(z.a,{variant:"info",onClick:s,children:n("soajs:buttons.Ok")})})]})}function Di(e){var t=e.items,a=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),s=Object(y.a)(a,2),c=s[0],r=s[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Gi,{modalOpt:c,setModalOpt:r}),t.map((function(e,t){return Object(I.jsx)(rt.a,{variant:"info",className:"p-1 m-1",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(it.a,{variant:"light",className:"float-left mr-1 small mt-1",children:"node"}),Object(I.jsx)("span",{className:"small",children:e.metadata.name})]}),Object(I.jsxs)(dt.a,{xs:"auto",children:[Object(I.jsx)("span",{className:"small float-left mr-2",children:e.metadata.creationTimestamp}),Object(I.jsx)(z.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1",children:Object(I.jsx)(C.e,{className:"text-primary",onClick:function(){var t,a;t=e,a=e.metadata.name,r({show:!0,json:t,mode:"view",title:a||""})}})})]})]})},t)}))]})}var Ri=At.getService(),Ui={name:"",mode:"Node",continue:null,remainingItemCount:0};function Fi(e,t,a,n,s,c){return Ki.apply(this,arguments)}function Ki(){return(Ki=Object(v.a)(g.a.mark((function e(t,a,n,s,c,r){var i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={mode:a.mode,limit:100},a.name&&a.name.length>0&&(i.filter={fieldSelector:"metadata.name="+a.name}),e.next=5,Ri.getClusters(n,i);case 5:o=e.sent,r&&o&&o.items&&(t(o.items),s(a.mode),o.metadata&&o.metadata.continue?(a.continue=o.metadata.continue,a.remainingItemCount=o.metadata.remainingItemCount,c(Object(N.a)({},a))):(a.continue=null,a.remainingItemCount=0,c(Object(N.a)({},a)))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Bi(e){var t=e.environment,a=Object(Ie.a)(["common","soajs"]).t,s=Object(n.useState)([]),c=Object(y.a)(s,2),r=c[0],i=c[1],o=Object(n.useState)("Pod"),l=Object(y.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)(Ui),m=Object(y.a)(u,2),b=m[0],p=m[1];function h(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),p(Object(N.a)(Object(N.a)({},b),{},Object(We.a)({},e.target.id,t)))}function O(e){return x.apply(this,arguments)}function x(){return(x=Object(v.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fi(i,b,t.code,j,p,a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(v.a)(g.a.mark((function e(){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={mode:b.mode,limit:3},b.name&&b.name.length>0&&(a.filter={fieldSelector:"metadata.name="+b.name}),b.continue&&(a.continue=b.continue),e.next=6,Ri.getClusters(t.code,a);case 6:(n=e.sent)&&n.items&&(i(r.concat(n.items)),n.metadata&&n.metadata.continue?(b.continue=n.metadata.continue,b.remainingItemCount=n.metadata.remainingItemCount,p(Object(N.a)({},b))):(b.continue=null,b.remainingItemCount=0,p(Object(N.a)({},b)))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function k(e){return w.apply(this,arguments)}function w(){return(w=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,O(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&(p(Ui),Fi(i,Ui,t.code,j,p,e).catch()),function(){return e=!1}}),[t]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(me.a,{className:"p-3 m-0",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{md:2,lg:2,children:Object(I.jsx)("h5",{className:"font-weight-bold m-0",children:a("soajs:titles.nodes")})}),Object(I.jsx)(dt.a,{md:3,lg:2,children:Object(I.jsx)(G.a.Control,{style:{fontSize:"80%"},as:"select",id:"mode",value:b.mode,onChange:h,children:Object(I.jsx)("option",{value:"Node",children:"Node"})})}),Object(I.jsx)(dt.a,{children:Object(I.jsx)(G.a,{onSubmit:k,children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:8,lg:9,children:Object(I.jsx)(G.a.Control,{id:"name",size:"sm",autoFocus:!0,value:b.name,onChange:h})}),Object(I.jsx)(dt.a,{xs:4,lg:3,children:Object(I.jsxs)(z.a,{className:"float-right",variant:"dark",size:"sm",onClick:k,children:[Object(I.jsx)(vt.c,{})," ",a("soajs:buttons.Search")]})})]})})})]})}),Object(I.jsx)("hr",{}),r.length>0&&"Node"===d&&Object(I.jsx)(Di,{items:r,env:t.code.toLowerCase()}),b.continue&&Object(I.jsxs)(z.a,{size:"sm",className:"mt-3",block:!0,variant:"light",onClick:function(){return f.apply(this,arguments)},children:[Object(I.jsxs)(it.a,{variant:"light",className:"text-muted",children:["(",b.remainingItemCount," remaining)"]})," Click here to load more ..."]})]})}var Hi=a(529),Ji=At.getService();function Vi(e){var t=e.modalOpt,a=e.setModalOpt,s=Object(Ie.a)(["common","soajs"]).t,c=Object(n.useState)(""),r=Object(y.a)(c,2),i=r[0],o=r[1],l=function(){return a({show:!1,data:{},mode:"preview",title:""})};function d(e,t,a){return j.apply(this,arguments)}function j(){return(j=Object(v.a)(g.a.mark((function e(t,a,n){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ji.podLog(a,{name:n});case 3:s=e.sent,t&&s&&o(s),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.data&&t.data.env&&t.data.name)){e.next=3;break}return e.next=3,d(!0,t.data.env,t.data.name);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){return t&&t.data&&t.data.env&&t.data.name&&d(!0,t.data.env,t.data.name).catch(),function(e){return!1}}),[t]),t&&Object(I.jsxs)(ma.a,{show:t.show,onHide:l,animation:!1,size:"xl",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(I.jsx)(ma.a.Title,{children:t.title})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsx)("div",{className:"small",style:{backgroundColor:"black",color:"white",minHeight:300,maxHeight:600,overflow:"auto"},children:Object(I.jsx)("pre",{children:Object(I.jsx)("code",{className:"text-light",children:i})})})}),Object(I.jsxs)(ma.a.Footer,{className:"bg-light",children:[Object(I.jsx)(z.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},children:s("soajs:buttons.Refresh")}),Object(I.jsx)(z.a,{variant:"info",onClick:l,children:s("soajs:buttons.Close")})]})]})}var Wi=At.getService();function qi(e){var t=e.modalOpt,a=e.setModalOpt,s=Object(Ie.a)(["common","soajs"]).t,c=Object(n.useState)({commands:""}),r=Object(y.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)(""),d=Object(y.a)(l,2),j=d[0],u=d[1],m=function(){return a({show:!1,data:{},mode:"preview",title:""})};function b(){return(b=Object(v.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wi.podExec(t.data.env,{name:t.data.name,commands:i.commands.split("\n")});case 3:(a=e.sent)&&a.response&&(ie.success(s("soajs:messages.execCommand")),u(a.response)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return t&&Object(I.jsxs)(ma.a,{show:t.show,onHide:m,animation:!1,size:"xl",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(I.jsx)(ma.a.Title,{children:t.title})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(G.a,{children:[Object(I.jsxs)(rt.a,{variant:"info",children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Commands")}),Object(I.jsx)(G.a.Control,{className:"mb-3",id:"commands",size:"sm",as:"textarea",rows:3,value:i.commands,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),"number"!==e.target.type&&"type"!==e.target.id||(t=parseInt(t)),o(Object(N.a)(Object(N.a)({},i),{},Object(We.a)({},e.target.id,t)))}}),Object(I.jsx)(z.a,{className:"float-right",variant:"info",onClick:m,children:s("soajs:buttons.Close")}),Object(I.jsx)(z.a,{className:"float-right mr-3",variant:"success",onClick:function(){return b.apply(this,arguments)},disabled:!(i.commands.length>0),children:s("soajs:buttons.Execute")}),Object(I.jsx)("span",{className:"clearfix"})]}),Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Response")}),Object(I.jsx)(G.a.Control,{style:{fontSize:"70%"},id:"response",size:"sm",as:"textarea",rows:6,value:j,readOnly:!0})]})}),Object(I.jsx)(ma.a.Footer,{className:"bg-light"})]})}function Yi(e){var t=e.modalOpt,a=e.setModalOpt,n=Object(Ie.a)(["common","soajs"]).t,s=function(){return a({show:!1,json:{},mode:"preview",title:""})};return t&&Object(I.jsxs)(ma.a,{show:t.show,onHide:s,animation:!1,size:"xl",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(I.jsx)(ma.a.Title,{children:t.title})}),Object(I.jsx)(ma.a.Body,{children:"Coming soon!"}),Object(I.jsx)(ma.a.Footer,{className:"bg-light",children:Object(I.jsx)(z.a,{variant:"info",onClick:s,children:n("soajs:buttons.Ok")})})]})}function Xi(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ie.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:{}})};return Object(I.jsxs)(ma.a,{show:t.show,onHide:c,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:s("soajs:buttons.Delete")})}),Object(I.jsxs)(ma.a.Body,{style:{wordBreak:"break-all"},children:[s("soajs:messages.deleteQuestion"),Object(I.jsx)("span",{className:"ml-3 font-weight-bold",children:t.item?t.item.title:""})]}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:c,children:s("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"danger",onClick:function(){n(t.item.name),c()},children:s("soajs:buttons.Delete")})]})]})}var Qi=null;function Zi(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ie.a)(["common","soajs"]).t,c=function(){Qi=null,a({show:!1,json:null,mode:"code",item:{}})};return t&&Object(I.jsxs)(ma.a,{show:t.show,onHide:c,animation:!1,size:"xl",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(I.jsx)(ma.a.Title,{children:t.item.title})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsx)("div",{style:{height:"600px"},children:Object(I.jsx)(ue,{mode:t.mode||"code",modes:["tree","code"],json:Qi||t.json||null,onChange:function(e){Qi=e}})})}),Object(I.jsxs)(ma.a.Footer,{className:"bg-light",children:[Object(I.jsx)(z.a,{variant:"info",onClick:c,children:s("soajs:buttons.Close")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){n(t.item.name,Qi||t.json),c()},children:s("soajs:buttons.Update")})]})]})}function $i(e){var t={t:null,l:"-"};if(e.conditions&&Array.isArray(e.conditions))for(var a=0;a<e.conditions.length;a++){var n=e.conditions[a];if("True"===n.status)if(t.t){var s=new Date(t.t);new Date(n.lastTransitionTime)>s&&(t={t:n.lastTransitionTime,l:n.type})}else t={t:n.lastTransitionTime,l:n.type}}return t.l}function eo(e){var t=e.items,a=e.env,s=e.deleteItem,c=e.editItem,r=P().ability,i=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({show:!1,data:{},title:""}),u=Object(y.a)(j,2),m=u[0],b=u[1],p=Object(n.useState)({show:!1,data:{},title:""}),h=Object(y.a)(p,2),O=h[0],x=h[1],f=Object(n.useState)({show:!1,data:"",title:""}),g=Object(y.a)(f,2),v=g[0],k=g[1],w=Object(n.useState)({show:!1,item:{}}),N=Object(y.a)(w,2),S=N[0],A=N[1],T=Object(n.useState)({show:!1,item:{},json:null}),L=Object(y.a)(T,2),M=L[0],E=L[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Gi,{modalOpt:l,setModalOpt:d}),Object(I.jsx)(Vi,{modalOpt:m,setModalOpt:b}),Object(I.jsx)(qi,{modalOpt:O,setModalOpt:x}),Object(I.jsx)(Yi,{modalOpt:v,setModalOpt:k}),s&&Object(I.jsx)(Xi,{modalOpt:S,setModalOpt:A,handleAction:function(e){s("Pod",e)}}),c&&Object(I.jsx)(Zi,{modalOpt:M,setModalOpt:E,handleAction:function(e,t){t.kind="Pod",c(t.kind,t.metadata.name,t)}}),t.map((function(e,t){return Object(I.jsxs)(rt.a,{variant:"info",className:"p-1 m-1",children:[Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(it.a,{variant:"primary",className:"float-left mr-1 small mt-1",children:"pod"}),Object(I.jsx)("span",{className:"small",children:e.metadata.name})]}),Object(I.jsxs)(dt.a,{xs:"auto",children:[Object(I.jsx)(it.a,{variant:(n=e.status.phase,"Running"===n?"success":"danger"),className:"float-left small mt-1 mr-1",children:e.status.phase}),Object(I.jsx)(it.a,{variant:"light",className:"float-left small mt-1",children:$i(e.status)}),Object(I.jsx)("span",{className:"small float-left ml-2 mt-1",children:e.metadata.creationTimestamp})]})]}),Object(I.jsx)(lt.a,{className:"mt-1",children:Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(z.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1",children:Object(I.jsx)(C.e,{className:"text-primary",onClick:function(){var t,a;t=e,a=e.metadata.name,d({show:!0,json:t,mode:"view",title:a||""})}})}),r.can("infra_pod","log")&&Object(I.jsx)(z.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1 mr-2",children:Object(I.jsx)(be.h,{className:"text-secondary",onClick:function(){var t,n;t={env:a,name:e.metadata.name},n=e.metadata.name,b({show:!0,data:t,title:n||""})}})}),r.can("infra_pod","exec")&&Object(I.jsx)(z.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1 mr-2",children:Object(I.jsx)(ai.b,{className:"text-danger",onClick:function(){var t,n;t={env:a,name:e.metadata.name},n=e.metadata.name,x({show:!0,data:t,title:n||""})}})}),Object(I.jsx)(z.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1 mr-2 ml-2",children:Object(I.jsx)(Hi.a,{className:"text-info",onClick:function(){var t,a;t="",a=e.metadata.name,k({show:!0,data:t,title:a||""})}})}),c&&Object(I.jsx)(en,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t,a;t={title:e.metadata.name,name:e.metadata.name},a=R.a.merge({},e),E({show:!0,item:t,json:a})}}),s&&Object(I.jsx)(Ja,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t;t={title:e.metadata.name,name:e.metadata.name},A({show:!0,item:t})}})]})})]},t);var n}))]})}function to(e){var t=e.items,a=e.deleteItem,s=e.editItem,c=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),r=Object(y.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)({show:!1,item:{}}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({show:!1,item:{},json:null}),b=Object(y.a)(m,2),p=b[0],h=b[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Gi,{modalOpt:i,setModalOpt:o}),a&&Object(I.jsx)(Xi,{modalOpt:j,setModalOpt:u,handleAction:function(e){a("Deployment",e)}}),s&&Object(I.jsx)(Zi,{modalOpt:p,setModalOpt:h,handleAction:function(e,t){t.kind="Deployment",s(t.kind,t.metadata.name,t)}}),t.map((function(e,t){return Object(I.jsx)(rt.a,{variant:"info",className:"p-1 m-1",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(it.a,{variant:"info",className:"float-left mr-1 small mt-1",children:"deployment"}),Object(I.jsx)("span",{className:"small",children:e.metadata.name})]}),Object(I.jsxs)(dt.a,{xs:"auto",children:[Object(I.jsx)("span",{className:"small float-left mr-2",children:e.metadata.creationTimestamp}),Object(I.jsx)(z.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",children:Object(I.jsx)(C.e,{className:"text-primary",onClick:function(){var t,a;t=e,a=e.metadata.name,o({show:!0,json:t,mode:"view",title:a||""})}})}),s&&Object(I.jsx)(en,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t,a;t={title:e.metadata.name,name:e.metadata.name},a=R.a.merge({},e),h({show:!0,item:t,json:a})}}),a&&Object(I.jsx)(Ja,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t;t={title:e.metadata.name,name:e.metadata.name},u({show:!0,item:t})}})]})]})},t)}))]})}function ao(e){var t=e.items,a=e.deleteItem,s=e.editItem,c=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),r=Object(y.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)({show:!1,item:{}}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({show:!1,item:{},json:null}),b=Object(y.a)(m,2),p=b[0],h=b[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Gi,{modalOpt:i,setModalOpt:o}),a&&Object(I.jsx)(Xi,{modalOpt:j,setModalOpt:u,handleAction:function(e){a("DaemonSet",e)}}),s&&Object(I.jsx)(Zi,{modalOpt:p,setModalOpt:h,handleAction:function(e,t){t.kind="DaemonSet",s(t.kind,t.metadata.name,t)}}),t.map((function(e,t){return Object(I.jsx)(rt.a,{variant:"info",className:"p-1 m-1",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(it.a,{variant:"dark",className:"float-left mr-1 small mt-1",children:"daemonset"}),Object(I.jsx)("span",{className:"small",children:e.metadata.name})]}),Object(I.jsxs)(dt.a,{xs:"auto",children:[Object(I.jsx)("span",{className:"small float-left mr-2",children:e.metadata.creationTimestamp}),Object(I.jsx)(z.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",children:Object(I.jsx)(C.e,{className:"text-primary",onClick:function(){var t,a;t=e,a=e.metadata.name,o({show:!0,json:t,mode:"view",title:a||""})}})}),s&&Object(I.jsx)(en,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t,a;t={title:e.metadata.name,name:e.metadata.name},a=R.a.merge({},e),h({show:!0,item:t,json:a})}}),a&&Object(I.jsx)(Ja,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t;t={title:e.metadata.name,name:e.metadata.name},u({show:!0,item:t})}})]})]})},t)}))]})}function no(e){var t=e.items,a=e.deleteItem,s=e.editItem,c=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),r=Object(y.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)({show:!1,item:{}}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({show:!1,item:{},json:null}),b=Object(y.a)(m,2),p=b[0],h=b[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Gi,{modalOpt:i,setModalOpt:o}),a&&Object(I.jsx)(Xi,{modalOpt:j,setModalOpt:u,handleAction:function(e){a("CronJob",e)}}),s&&Object(I.jsx)(Zi,{modalOpt:p,setModalOpt:h,handleAction:function(e,t){t.kind="CronJob",s(t.kind,t.metadata.name,t)}}),t.map((function(e,t){return Object(I.jsx)(rt.a,{variant:"info",className:"p-1 m-1",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(it.a,{variant:"secondary",className:"float-left mr-1 small mt-1",children:"cronjob"}),Object(I.jsx)("span",{className:"small",children:e.metadata.name})]}),Object(I.jsxs)(dt.a,{xs:"auto",children:[Object(I.jsx)("span",{className:"small float-left mr-2",children:e.metadata.creationTimestamp}),Object(I.jsx)(z.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",children:Object(I.jsx)(C.e,{className:"text-primary",onClick:function(){var t,a;t=e,a=e.metadata.name,o({show:!0,json:t,mode:"view",title:a||""})}})}),s&&Object(I.jsx)(en,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t,a;t={title:e.metadata.name,name:e.metadata.name},a=R.a.merge({},e),h({show:!0,item:t,json:a})}}),a&&Object(I.jsx)(Ja,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t;t={title:e.metadata.name,name:e.metadata.name},u({show:!0,item:t})}})]})]})},t)}))]})}function so(e){var t=e.items,a=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),s=Object(y.a)(a,2),c=s[0],r=s[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Gi,{modalOpt:c,setModalOpt:r}),t.map((function(e,t){return Object(I.jsx)(rt.a,{variant:"info",className:"p-1 m-1",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(it.a,{variant:"danger",className:"float-left mr-1 small mt-1",children:"hpa"}),Object(I.jsx)("span",{className:"small",children:e.metadata.name})]}),Object(I.jsxs)(dt.a,{xs:"auto",children:[Object(I.jsx)("span",{className:"small float-left mr-2",children:e.metadata.creationTimestamp}),Object(I.jsx)(z.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1",children:Object(I.jsx)(C.e,{className:"text-primary",onClick:function(){var t,a;t=e,a=e.metadata.name,r({show:!0,json:t,mode:"view",title:a||""})}})})]})]})},t)}))]})}var co=null;function ro(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ie.a)(["common","soajs"]).t,c=function(){co=null,a({show:!1,json:null,mode:"code",item:{}})};return t&&Object(I.jsxs)(ma.a,{show:t.show,onHide:c,animation:!1,size:"xl",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(I.jsx)(ma.a.Title,{children:t.item.title})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsx)("div",{style:{height:"600px"},children:Object(I.jsx)(ue,{mode:t.mode||"code",modes:["tree","code"],json:co||t.json||null,onChange:function(e){co=e}})})}),Object(I.jsxs)(ma.a.Footer,{className:"bg-light",children:[Object(I.jsx)(z.a,{variant:"info",onClick:c,children:s("soajs:buttons.Close")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){n(co||t.json),c()},children:s("soajs:buttons.Add")})]})]})}var io=At.getService(),oo={name:"",mode:"Pod",continue:null,remainingItemCount:0};function lo(e,t,a,n,s,c){return jo.apply(this,arguments)}function jo(){return(jo=Object(v.a)(g.a.mark((function e(t,a,n,s,c,r){var i,o,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={mode:a.mode,limit:100},a.name&&a.name.length>0&&(i.filter={fieldSelector:"metadata.name="+a.name}),e.next=5,io.getWorkloads(n,i);case 5:o=e.sent,r&&o&&o.items&&(l=o.items,t(Object(Fa.a)(l)),s(a.mode),o.metadata&&o.metadata.continue?(a.continue=o.metadata.continue,a.remainingItemCount=o.metadata.remainingItemCount,c(Object(N.a)({},a))):(a.continue=null,a.remainingItemCount=0,c(Object(N.a)({},a)))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function uo(e){var t=e.environment,a=P().ability,s=Object(Ie.a)(["common","soajs"]).t,c=Object(n.useState)([]),r=Object(y.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)("Pod"),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)(oo),b=Object(y.a)(m,2),p=b[0],h=b[1],O=Object(n.useState)({show:!1,item:{},json:null}),x=Object(y.a)(O,2),f=x[0],k=x[1];function w(){return(w=Object(v.a)(g.a.mark((function e(a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,io.addWorkload(t.code,{body:n,mode:a});case 3:return e.next=5,M(!0);case 5:ie.success(s("soajs:messages.add_"+a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function C(e,t){return S.apply(this,arguments)}function S(){return(S=Object(v.a)(g.a.mark((function e(a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,io.deleteWorkload(t.code,{name:n,mode:a});case 3:return e.next=5,M(!0);case 5:ie.success(s("soajs:messages.delete_"+a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function A(e,t,a){return T.apply(this,arguments)}function T(){return(T=Object(v.a)(g.a.mark((function e(a,n,c){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,io.updateWorkload(t.code,{name:n,body:c,mode:a});case 3:return e.next=5,M(!0);case 5:ie.success(s("soajs:messages.update_"+a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function L(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),h(Object(N.a)(Object(N.a)({},p),{},Object(We.a)({},e.target.id,t)))}function M(e){return E.apply(this,arguments)}function E(){return(E=Object(v.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lo(o,p,t.code,u,h,a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(v.a)(g.a.mark((function e(){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={mode:p.mode,limit:3},p.name&&p.name.length>0&&(a.filter={fieldSelector:"metadata.name="+p.name}),p.continue&&(a.continue=p.continue),e.next=6,io.getWorkloads(t.code,a);case 6:(n=e.sent)&&n.items&&(o(i.concat(n.items)),n.metadata&&n.metadata.continue?(p.continue=n.metadata.continue,p.remainingItemCount=n.metadata.remainingItemCount,h(Object(N.a)({},p))):(p.continue=null,p.remainingItemCount=0,h(Object(N.a)({},p)))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function D(e){return R.apply(this,arguments)}function R(){return(R=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,M(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&(h(oo),lo(o,oo,t.code,u,h,e).catch()),function(){return e=!1}}),[t]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ro,{modalOpt:f,setModalOpt:k,handleAction:function(e){e.kind=p.mode,function(e,t){return w.apply(this,arguments)}(e.kind,e).catch()}}),Object(I.jsx)(me.a,{className:"p-3 m-0",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{md:3,lg:3,xl:2,children:[Object(I.jsx)("h5",{className:"font-weight-bold m-0 float-left",children:s("soajs:titles.workloads")}),a.can("infra_workload","add")&&Object(I.jsx)(Wa,{className:"float-right pt-0 pb-1 pl-1 pr-1 ",onClick:function(){var e;e={title:"Workload "+p.mode},k({show:!0,item:e,json:null})}})]}),Object(I.jsx)(dt.a,{md:3,lg:2,children:Object(I.jsxs)(G.a.Control,{style:{fontSize:"80%"},as:"select",id:"mode",value:p.mode,onChange:L,children:[Object(I.jsx)("option",{value:"Deployment",children:"Deployment"}),Object(I.jsx)("option",{value:"DaemonSet",children:"DaemonSet"}),Object(I.jsx)("option",{value:"CronJob",children:"CronJob"}),Object(I.jsx)("option",{value:"Pod",children:"Pod"}),Object(I.jsx)("option",{value:"HPA",children:"HPA"})]})}),Object(I.jsx)(dt.a,{children:Object(I.jsx)(G.a,{onSubmit:D,children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:8,lg:9,children:Object(I.jsx)(G.a.Control,{id:"name",size:"sm",autoFocus:!0,value:p.name,onChange:L})}),Object(I.jsx)(dt.a,{xs:4,lg:3,children:Object(I.jsxs)(z.a,{className:"float-right",variant:"dark",size:"sm",onClick:D,children:[Object(I.jsx)(vt.c,{})," ",s("soajs:buttons.Search")]})})]})})})]})}),Object(I.jsx)("hr",{}),i.length>0&&"Pod"===j&&Object(I.jsx)(eo,{items:i,env:t.code.toLowerCase(),deleteItem:a.can("infra_pod","delete")?C:null,editItem:a.can("infra_workload","edit")?A:null}),i.length>0&&"Deployment"===j&&Object(I.jsx)(to,{items:i,env:t.code.toLowerCase(),deleteItem:a.can("infra_workload","delete")?C:null,editItem:a.can("infra_workload","edit")?A:null}),i.length>0&&"DaemonSet"===j&&Object(I.jsx)(ao,{items:i,env:t.code.toLowerCase(),deleteItem:a.can("infra_workload","delete")?C:null,editItem:a.can("infra_workload","edit")?A:null}),i.length>0&&"CronJob"===j&&Object(I.jsx)(no,{items:i,env:t.code.toLowerCase(),deleteItem:a.can("infra_workload","delete")?C:null,editItem:a.can("infra_workload","edit")?A:null}),i.length>0&&"HPA"===j&&Object(I.jsx)(so,{items:i,env:t.code.toLowerCase()}),p.continue&&Object(I.jsxs)(z.a,{size:"sm",className:"mt-3",block:!0,variant:"light",onClick:function(){return _.apply(this,arguments)},children:[Object(I.jsxs)(it.a,{variant:"light",className:"text-muted",children:["(",p.remainingItemCount," remaining)"]})," Click here to load more ..."]})]})}function mo(e){var t=e.items,a=e.deleteItem,s=e.editItem,c=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),r=Object(y.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)({show:!1,item:{}}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({show:!1,item:{},json:null}),b=Object(y.a)(m,2),p=b[0],h=b[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Gi,{modalOpt:i,setModalOpt:o}),a&&Object(I.jsx)(Xi,{modalOpt:j,setModalOpt:u,handleAction:function(e){a("Service",e)}}),s&&Object(I.jsx)(Zi,{modalOpt:p,setModalOpt:h,handleAction:function(e,t){t.kind="Service",s(t.kind,t.metadata.name,t)}}),t.map((function(e,t){return Object(I.jsx)(rt.a,{variant:"info",className:"p-1 m-1",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(it.a,{variant:"light",className:"float-left mr-1 small mt-1",children:"service"}),Object(I.jsx)("span",{className:"small",children:e.metadata.name})]}),Object(I.jsxs)(dt.a,{xs:"auto",children:[Object(I.jsxs)("span",{className:"small float-left mr-2",children:[Object(I.jsx)(it.a,{variant:"dark",children:e.spec.type})," ",e.metadata.creationTimestamp]}),Object(I.jsx)(z.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",children:Object(I.jsx)(C.e,{className:"text-primary",onClick:function(){var t,a;t=e,a=e.metadata.name,o({show:!0,json:t,mode:"view",title:a||""})}})}),s&&Object(I.jsx)(en,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t,a;t={title:e.metadata.name,name:e.metadata.name},a=R.a.merge({},e),h({show:!0,item:t,json:a})}}),a&&Object(I.jsx)(Ja,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t;t={title:e.metadata.name,name:e.metadata.name},u({show:!0,item:t})}})]})]})},t)}))]})}var bo=At.getService(),po={name:"",mode:"Service",continue:null,remainingItemCount:0};function ho(e,t,a,n,s,c){return Oo.apply(this,arguments)}function Oo(){return(Oo=Object(v.a)(g.a.mark((function e(t,a,n,s,c,r){var i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={mode:a.mode,limit:100},a.name&&a.name.length>0&&(i.filter={fieldSelector:"metadata.name="+a.name}),e.next=5,bo.getServices(n,i);case 5:o=e.sent,r&&o&&o.items&&(t(o.items),s(a.mode),o.metadata&&o.metadata.continue?(a.continue=o.metadata.continue,a.remainingItemCount=o.metadata.remainingItemCount,c(Object(N.a)({},a))):(a.continue=null,a.remainingItemCount=0,c(Object(N.a)({},a)))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function xo(e){var t=e.environment,a=P().ability,s=Object(Ie.a)(["common","soajs"]).t,c=Object(n.useState)([]),r=Object(y.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)("Pod"),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)(po),b=Object(y.a)(m,2),p=b[0],h=b[1],O=Object(n.useState)({show:!1,item:{},json:null}),x=Object(y.a)(O,2),f=x[0],k=x[1];function w(){return(w=Object(v.a)(g.a.mark((function e(a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bo.addService(t.code,{body:n,mode:a});case 3:return e.next=5,T(!0);case 5:ie.success(s("soajs:messages.add_"+a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function C(){return(C=Object(v.a)(g.a.mark((function e(a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bo.deleteService(t.code,{name:n,mode:a});case 3:return e.next=5,T(!0);case 5:ie.success(s("soajs:messages.delete_"+a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function S(){return(S=Object(v.a)(g.a.mark((function e(a,n,c){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bo.updateService(t.code,{name:n,body:c,mode:a});case 3:return e.next=5,T(!0);case 5:ie.success(s("soajs:messages.update_"+a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function A(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),h(Object(N.a)(Object(N.a)({},p),{},Object(We.a)({},e.target.id,t)))}function T(e){return L.apply(this,arguments)}function L(){return(L=Object(v.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ho(o,p,t.code,u,h,a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(v.a)(g.a.mark((function e(){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={mode:p.mode,limit:3},p.name&&p.name.length>0&&(a.filter={fieldSelector:"metadata.name="+p.name}),p.continue&&(a.continue=p.continue),e.next=6,bo.getServices(t.code,a);case 6:(n=e.sent)&&n.items&&(o(i.concat(n.items)),n.metadata&&n.metadata.continue?(p.continue=n.metadata.continue,p.remainingItemCount=n.metadata.remainingItemCount,h(Object(N.a)({},p))):(p.continue=null,p.remainingItemCount=0,h(Object(N.a)({},p)))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function E(e){return _.apply(this,arguments)}function _(){return(_=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,T(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&(h(po),ho(o,po,t.code,u,h,e).catch()),function(){return e=!1}}),[t]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ro,{modalOpt:f,setModalOpt:k,handleAction:function(e){e.kind=p.mode,function(e,t){return w.apply(this,arguments)}(e.kind,e).catch()}}),Object(I.jsx)(me.a,{className:"p-3 m-0",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{md:3,lg:2,children:[Object(I.jsx)("h5",{className:"font-weight-bold m-0 float-left",children:s("soajs:titles.services")}),a.can("infra_service","add")&&Object(I.jsx)(Wa,{className:"float-right pt-0 pb-1 pl-1 pr-1 ",onClick:function(){k({show:!0,item:{title:"Service"},json:null})}})]}),Object(I.jsx)(dt.a,{md:3,lg:2,children:Object(I.jsx)(G.a.Control,{style:{fontSize:"80%"},as:"select",id:"mode",value:p.mode,onChange:A,children:Object(I.jsx)("option",{value:"Service",children:"Service"})})}),Object(I.jsx)(dt.a,{children:Object(I.jsx)(G.a,{onSubmit:E,children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:8,lg:9,children:Object(I.jsx)(G.a.Control,{id:"name",size:"sm",autoFocus:!0,value:p.name,onChange:A})}),Object(I.jsx)(dt.a,{xs:4,lg:3,children:Object(I.jsxs)(z.a,{className:"float-right",variant:"dark",size:"sm",onClick:E,children:[Object(I.jsx)(vt.c,{})," ",s("soajs:buttons.Search")]})})]})})})]})}),Object(I.jsx)("hr",{}),i.length>0&&"Service"===j&&Object(I.jsx)(mo,{items:i,env:t.code.toLowerCase(),deleteItem:a.can("infra_service","delete")?function(e,t){return C.apply(this,arguments)}:null,editItem:a.can("infra_service","edit")?function(e,t,a){return S.apply(this,arguments)}:null}),p.continue&&Object(I.jsxs)(z.a,{size:"sm",className:"mt-3",block:!0,variant:"light",onClick:function(){return M.apply(this,arguments)},children:[Object(I.jsxs)(it.a,{variant:"light",className:"text-muted",children:["(",p.remainingItemCount," remaining)"]})," Click here to load more ..."]})]})}function fo(e){var t=e.items,a=e.deleteItem,s=e.editItem,c=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),r=Object(y.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)({show:!1,item:{}}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({show:!1,item:{},json:null}),b=Object(y.a)(m,2),p=b[0],h=b[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Gi,{modalOpt:i,setModalOpt:o}),a&&Object(I.jsx)(Xi,{modalOpt:j,setModalOpt:u,handleAction:function(e){a("PVC",e)}}),s&&Object(I.jsx)(Zi,{modalOpt:p,setModalOpt:h,handleAction:function(e,t){t.kind="PersistentVolumeClaim",s(t.kind,t.metadata.name,t)}}),t.map((function(e,t){return Object(I.jsx)(rt.a,{variant:"info",className:"p-1 m-1",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(it.a,{variant:"light",className:"float-left mr-1 small mt-1",children:"PVC"}),Object(I.jsx)("span",{className:"small",children:e.metadata.name})]}),Object(I.jsxs)(dt.a,{xs:"auto",children:[Object(I.jsx)("span",{className:"small float-left mr-2",children:e.metadata.creationTimestamp}),Object(I.jsx)(z.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",children:Object(I.jsx)(C.e,{className:"text-primary",onClick:function(){var t,a;t=e,a=e.metadata.name,o({show:!0,json:t,mode:"view",title:a||""})}})}),s&&Object(I.jsx)(en,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t,a;t={title:e.metadata.name,name:e.metadata.name},a=R.a.merge({},e),h({show:!0,item:t,json:a})}}),a&&Object(I.jsx)(Ja,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t;t={title:e.metadata.name,name:e.metadata.name},u({show:!0,item:t})}})]})]})},t)}))]})}function go(e){var t=e.items,a=e.deleteItem,s=e.editItem,c=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),r=Object(y.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)({show:!1,item:{}}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({show:!1,item:{},json:null}),b=Object(y.a)(m,2),p=b[0],h=b[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Gi,{modalOpt:i,setModalOpt:o}),a&&Object(I.jsx)(Xi,{modalOpt:j,setModalOpt:u,handleAction:function(e){a("PV",e)}}),s&&Object(I.jsx)(Zi,{modalOpt:p,setModalOpt:h,handleAction:function(e,t){t.kind="PersistentVolume",s(t.kind,t.metadata.name,t)}}),t.map((function(e,t){return Object(I.jsx)(rt.a,{variant:"info",className:"p-1 m-1",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(it.a,{variant:"light",className:"float-left mr-1 small mt-1",children:"PV"}),Object(I.jsx)("span",{className:"small",children:e.metadata.name})]}),Object(I.jsxs)(dt.a,{xs:"auto",children:[Object(I.jsx)("span",{className:"small float-left mr-2",children:e.metadata.creationTimestamp}),Object(I.jsx)(z.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",children:Object(I.jsx)(C.e,{className:"text-primary",onClick:function(){var t,a;t=e,a=e.metadata.name,o({show:!0,json:t,mode:"view",title:a||""})}})}),s&&Object(I.jsx)(en,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t,a;t={title:e.metadata.name,name:e.metadata.name},a=R.a.merge({},e),h({show:!0,item:t,json:a})}}),a&&Object(I.jsx)(Ja,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t;t={title:e.metadata.name,name:e.metadata.name},u({show:!0,item:t})}})]})]})},t)}))]})}function vo(e){var t=e.items,a=e.deleteItem,s=e.editItem,c=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),r=Object(y.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)({show:!1,item:{}}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({show:!1,item:{},json:null}),b=Object(y.a)(m,2),p=b[0],h=b[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Gi,{modalOpt:i,setModalOpt:o}),a&&Object(I.jsx)(Xi,{modalOpt:j,setModalOpt:u,handleAction:function(e){a("StorageClass",e)}}),s&&Object(I.jsx)(Zi,{modalOpt:p,setModalOpt:h,handleAction:function(e,t){t.kind="StorageClass",s(t.kind,t.metadata.name,t)}}),t.map((function(e,t){return Object(I.jsx)(rt.a,{variant:"info",className:"p-1 m-1",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(it.a,{variant:"light",className:"float-left mr-1 small mt-1",children:"StorageClass"}),Object(I.jsx)("span",{className:"small",children:e.metadata.name})]}),Object(I.jsxs)(dt.a,{xs:"auto",children:[Object(I.jsx)("span",{className:"small float-left mr-2",children:e.metadata.creationTimestamp}),Object(I.jsx)(z.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",children:Object(I.jsx)(C.e,{className:"text-primary",onClick:function(){var t,a;t=e,a=e.metadata.name,o({show:!0,json:t,mode:"view",title:a||""})}})}),s&&Object(I.jsx)(en,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t,a;t={title:e.metadata.name,name:e.metadata.name},a=R.a.merge({},e),h({show:!0,item:t,json:a})}}),a&&Object(I.jsx)(Ja,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t;t={title:e.metadata.name,name:e.metadata.name},u({show:!0,item:t})}})]})]})},t)}))]})}var yo=At.getService(),ko={name:"",mode:"PVC",continue:null,remainingItemCount:0};function wo(e,t,a,n,s,c){return Co.apply(this,arguments)}function Co(){return(Co=Object(v.a)(g.a.mark((function e(t,a,n,s,c,r){var i,o,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={mode:a.mode,limit:100},a.name&&a.name.length>0&&(i.filter={fieldSelector:"metadata.name="+a.name}),e.next=5,yo.getStorage(n,i);case 5:o=e.sent,r&&o&&o.items&&(l=o.items,t(Object(Fa.a)(l)),s(a.mode),o.metadata&&o.metadata.continue?(a.continue=o.metadata.continue,a.remainingItemCount=o.metadata.remainingItemCount,c(Object(N.a)({},a))):(a.continue=null,a.remainingItemCount=0,c(Object(N.a)({},a)))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function No(e){var t=e.environment,a=P().ability,s=Object(Ie.a)(["common","soajs"]).t,c=Object(n.useState)([]),r=Object(y.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)("PVC"),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)(ko),b=Object(y.a)(m,2),p=b[0],h=b[1],O=Object(n.useState)({show:!1,item:{},json:null}),x=Object(y.a)(O,2),f=x[0],k=x[1];function w(){return(w=Object(v.a)(g.a.mark((function e(a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yo.addStorage(t.code,{body:n,mode:a});case 3:return e.next=5,E(!0);case 5:ie.success(s("soajs:messages.add_"+a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function C(e,t){return S.apply(this,arguments)}function S(){return(S=Object(v.a)(g.a.mark((function e(a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yo.deleteStorage(t.code,{name:n,mode:a});case 3:return e.next=5,E(!0);case 5:ie.success(s("soajs:messages.delete_"+a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function A(e,t,a){return T.apply(this,arguments)}function T(){return(T=Object(v.a)(g.a.mark((function e(a,n,c){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yo.updateStorage(t.code,{name:n,body:c,mode:a});case 3:return e.next=5,E(!0);case 5:ie.success(s("soajs:messages.update_"+a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function L(e){return M.apply(this,arguments)}function M(){return(M=Object(v.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,t.target.hasOwnProperty("checked")&&(a=t.target.checked),h(Object(N.a)(Object(N.a)({},p),{},Object(We.a)({},t.target.id,a)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return _.apply(this,arguments)}function _(){return(_=Object(v.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wo(o,p,t.code,u,h,a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(v.a)(g.a.mark((function e(){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={mode:p.mode,limit:3},p.name&&p.name.length>0&&(a.filter={fieldSelector:"metadata.name="+p.name}),p.continue&&(a.continue=p.continue),e.next=6,yo.getStorage(t.code,a);case 6:(n=e.sent)&&n.items&&(o(i.concat(n.items)),n.metadata&&n.metadata.continue?(p.continue=n.metadata.continue,p.remainingItemCount=n.metadata.remainingItemCount,h(Object(N.a)({},p))):(p.continue=null,p.remainingItemCount=0,h(Object(N.a)({},p)))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function R(e){return U.apply(this,arguments)}function U(){return(U=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,E(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&(h(ko),wo(o,ko,t.code,u,h,e).catch()),function(){return e=!1}}),[t]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ro,{modalOpt:f,setModalOpt:k,handleAction:function(e){e.kind=p.mode,function(e,t){return w.apply(this,arguments)}(e.kind,e).catch()}}),Object(I.jsx)(me.a,{className:"p-3 m-0",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{md:3,lg:2,children:[Object(I.jsx)("h5",{className:"font-weight-bold m-0 float-left",children:s("soajs:titles.storage")}),a.can("infra_storage","add")&&Object(I.jsx)(Wa,{className:"float-right pt-0 pb-1 pl-1 pr-1 ",onClick:function(){var e;e={title:"Storage "+p.mode},k({show:!0,item:e,json:null})}})]}),Object(I.jsx)(dt.a,{md:3,lg:2,children:Object(I.jsxs)(G.a.Control,{style:{fontSize:"80%"},as:"select",id:"mode",value:p.mode,onChange:L,children:[Object(I.jsx)("option",{value:"PVC",children:"PVC - Persist Volume Claim"}),Object(I.jsx)("option",{value:"PV",children:"PV - Persist Volume"}),Object(I.jsx)("option",{value:"StorageClass",children:"Storage Class"})]})}),Object(I.jsx)(dt.a,{children:Object(I.jsx)(G.a,{onSubmit:R,children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:8,lg:9,children:Object(I.jsx)(G.a.Control,{id:"name",size:"sm",autoFocus:!0,value:p.name,onChange:L})}),Object(I.jsx)(dt.a,{xs:4,lg:3,children:Object(I.jsxs)(z.a,{className:"float-right",variant:"dark",size:"sm",onClick:R,children:[Object(I.jsx)(vt.c,{})," ",s("soajs:buttons.Search")]})})]})})})]})}),Object(I.jsx)("hr",{}),i.length>0&&"PVC"===j&&Object(I.jsx)(fo,{items:i,env:t.code.toLowerCase(),deleteItem:a.can("infra_storage","delete")?C:null}),i.length>0&&"PV"===j&&Object(I.jsx)(go,{items:i,env:t.code.toLowerCase(),deleteItem:a.can("infra_storage","delete")?C:null,editItem:a.can("infra_storage","edit")?A:null}),i.length>0&&"StorageClass"===j&&Object(I.jsx)(vo,{items:i,env:t.code.toLowerCase(),deleteItem:a.can("infra_storage","delete")?C:null,editItem:a.can("infra_storage","edit")?A:null}),p.continue&&Object(I.jsxs)(z.a,{size:"sm",className:"mt-3",block:!0,variant:"light",onClick:function(){return D.apply(this,arguments)},children:[Object(I.jsxs)(it.a,{variant:"light",className:"text-muted",children:["(",p.remainingItemCount," remaining)"]})," Click here to load more ..."]})]})}function So(e){var t=e.items,a=e.deleteItem,s=e.editItem,c=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),r=Object(y.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)({show:!1,item:{}}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({show:!1,item:{},json:null}),b=Object(y.a)(m,2),p=b[0],h=b[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Gi,{modalOpt:i,setModalOpt:o}),a&&Object(I.jsx)(Xi,{modalOpt:j,setModalOpt:u,handleAction:function(e){a("Secret",e)}}),s&&Object(I.jsx)(Zi,{modalOpt:p,setModalOpt:h,handleAction:function(e,t){t.kind="Secret",s(t.kind,t.metadata.name,t)}}),t.map((function(e,t){return Object(I.jsx)(rt.a,{variant:"info",className:"p-1 m-1",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(it.a,{variant:"danger",className:"float-left mr-1 small mt-1",children:"secret"}),Object(I.jsx)("span",{className:"small",children:e.metadata.name})]}),Object(I.jsxs)(dt.a,{xs:"auto",children:[Object(I.jsx)("span",{className:"small float-left mr-2",children:e.metadata.creationTimestamp}),Object(I.jsx)(z.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",children:Object(I.jsx)(C.e,{className:"text-primary",onClick:function(){var t,a;t=e,a=e.metadata.name,o({show:!0,json:t,mode:"view",title:a||""})}})}),s&&Object(I.jsx)(en,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t,a;t={title:e.metadata.name,name:e.metadata.name},a=R.a.merge({},e),h({show:!0,item:t,json:a})}}),a&&Object(I.jsx)(Ja,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t;t={title:e.metadata.name,name:e.metadata.name},u({show:!0,item:t})}})]})]})},t)}))]})}var Ao={type:"",name:"",label:"",server:"",email:"",username:"",password:"",text:"",file:null,json:null},To=At.getService(),Po=null;function Io(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=P().ability,r=Object(Ie.a)(["common","soajs"]).t,i=Object(n.useState)(!1),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)(Ao),u=Object(y.a)(j,2),m=u[0],b=u[1];function p(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),"number"===e.target.type&&(t=parseInt(t)),b(Object(N.a)(Object(N.a)({},m),{},Object(We.a)({},e.target.id,t)))}var h=function(){Po={},a({show:!1,json:{},mode:"code",item:{}})};function O(){return(O=Object(v.a)(g.a.mark((function e(a){var n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),d(!0),"Registry"!==m.type){e.next=17;break}return e.prev=3,n={username:m.username,password:m.password,email:m.email,server:m.server},e.next=7,To.addSecretRegistryWizard(t.item.env,m.name,[n]);case 7:s(),ie.success(r("soajs:messages.add_Secret")),h(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),ie.error(e.t0.message);case 15:e.next=32;break;case 17:return e.prev=17,c={name:m.label},"Text"===m.type&&(c.content=m.text),"Json"===m.type&&(c.content=JSON.stringify(m.json)),"File"===m.type&&(c.content=m.file),e.next=24,To.addSecretWizard(t.item.env,m.name,[c]);case 24:s(),ie.success(r("soajs:messages.add_Secret")),h(),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(17),ie.error(e.t1.message);case 32:d(!1);case 33:case"end":return e.stop()}}),e,null,[[3,12],[17,29]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){Po={},b(Object(N.a)({},Ao))}),[t]),t&&Object(I.jsx)(ma.a,{show:t.show,onHide:h,animation:!1,size:"xl",children:Object(I.jsxs)(G.a,{onSubmit:function(e){return O.apply(this,arguments)},children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(I.jsx)(ma.a.Title,{children:t.item.title})}),Object(I.jsxs)(ma.a.Body,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Type")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"type",size:"sm",defaultValue:m.type,onChange:p,children:[Object(I.jsx)("option",{value:"---",children:" --- Select a type ---"}),c.can("infra_secret","add_wizard")&&Object(I.jsx)("option",{value:"Text",children:"Text Content"}),c.can("infra_secret","add_wizard")&&Object(I.jsx)("option",{value:"Json",children:"Json Content"}),c.can("infra_secret","add_wizard")&&Object(I.jsx)("option",{value:"File",children:"File Content"}),c.can("infra_secret","add_wizard_registry")&&Object(I.jsx)("option",{value:"Registry",children:"Private Registry"})]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Name")}),Object(I.jsx)(G.a.Control,{required:!0,id:"name",size:"sm",value:m.name,onChange:p})]}),Object(I.jsx)("hr",{}),Object(I.jsxs)(rt.a,{variant:"light",children:["Text"===m.type&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Label")}),Object(I.jsx)(G.a.Control,{id:"label",size:"sm",value:m.label,onChange:p})]}),Object(I.jsx)(G.a.Group,{children:Object(I.jsx)(G.a.Control,{id:"text",as:"textarea",rows:15,size:"sm",value:m.text,onChange:p})})]}),"Json"===m.type&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Label")}),Object(I.jsx)(G.a.Control,{id:"label",size:"sm",value:m.label,onChange:p})]}),Object(I.jsx)("div",{style:{height:"400px"},children:Object(I.jsx)(ue,{mode:t.mode||"code",modes:["tree","code"],json:Po||t.json||null,onChange:function(e){Po=e,m.json=Po}})})]}),"File"===m.type&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Label")}),Object(I.jsx)(G.a.Control,{id:"label",size:"sm",value:m.label,onChange:p})]}),Object(I.jsx)(G.a.Group,{children:Object(I.jsx)(G.a.File,{className:"position-relative",required:!0,name:"file",label:"File",onChange:function(e){var t=e.target.files[0];if(t)if(t.size>2048e3)ie.error("File size cannot exceed more than 2MB"),e.target.value=null,m[e.target.id]=null,b(Object(N.a)({},m));else{var a=new FileReader;a.onloadend=function(){var t=a.result;m[e.target.id]=t,b(Object(N.a)({},m))},a.readAsText(t)}else m[e.target.id]=null,b(Object(N.a)({},m))},id:"file"})})]}),"Registry"===m.type&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Server")}),Object(I.jsx)(G.a.Control,{id:"server",size:"sm",value:m.server,onChange:p}),Object(I.jsx)(G.a.Text,{className:"text-muted",children:"Enter the Registry Server: https://index.docker.io/v1/"})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Email")}),Object(I.jsx)(G.a.Control,{id:"email",size:"sm",value:m.email,onChange:p})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Username")}),Object(I.jsx)(G.a.Control,{id:"username",size:"sm",value:m.username,onChange:p})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Password")}),Object(I.jsx)(G.a.Control,{id:"password",size:"sm",value:m.password,onChange:p})]})]})]})]}),Object(I.jsxs)(ma.a.Footer,{className:"bg-light",children:[Object(I.jsx)(z.a,{variant:"info",onClick:h,children:r("soajs:buttons.Close")}),Object(I.jsx)(_,{variant:"success",type:"submit",isLoading:l,disabled:!function(){var e=!0;return"Text"===m.type&&(e=e&&m.label.length>0&&m.text.length>0),"Json"===m.type&&(e=e&&m.label.length>0&&Po),"File"===m.type&&(e=e&&m.label.length>0&&m.file),"Registry"===m.type&&(e=e&&m.server.length>0&&m.email.length>0&&m.username.length>0&&m.password.length>0),e&&m.name.length>0}(),children:r("soajs:buttons.Add")})]})]})})}function Lo(e){var t=Object.assign({},e),a=Object(Ie.a)(["common","soajs"]).t;return Object(I.jsx)(Ka.a,{placement:"top",overlay:Object(I.jsx)(Ba.a,{id:"tooltip-top}",children:a("soajs:buttons.AddWizard")}),children:Object(I.jsx)(z.a,Object(N.a)(Object(N.a)({variant:"success",size:"sm"},t),{},{children:Object(I.jsx)(be.d,{})}))})}var Mo=At.getService(),zo={name:"",mode:"Secret",continue:null,remainingItemCount:0};function Eo(e,t,a,n,s,c){return _o.apply(this,arguments)}function _o(){return(_o=Object(v.a)(g.a.mark((function e(t,a,n,s,c,r){var i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={mode:a.mode,limit:100},a.name&&a.name.length>0&&(i.filter={fieldSelector:"metadata.name="+a.name}),e.next=5,Mo.getConfigurations(n,i);case 5:o=e.sent,r&&o&&o.items&&(t(o.items),s(a.mode),o.metadata&&o.metadata.continue?(a.continue=o.metadata.continue,a.remainingItemCount=o.metadata.remainingItemCount,c(Object(N.a)({},a))):(a.continue=null,a.remainingItemCount=0,c(Object(N.a)({},a)))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Go(e){var t=e.environment,a=P().ability,s=Object(Ie.a)(["common","soajs"]).t,c=Object(n.useState)([]),r=Object(y.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)("Pod"),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)(zo),b=Object(y.a)(m,2),p=b[0],h=b[1],O=Object(n.useState)({show:!1,item:{},json:null}),x=Object(y.a)(O,2),f=x[0],k=x[1],w=Object(n.useState)({show:!1,item:{},json:null}),C=Object(y.a)(w,2),S=C[0],A=C[1];function T(){return(T=Object(v.a)(g.a.mark((function e(a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mo.addConfiguration(t.code,{body:n,mode:a});case 3:return e.next=5,E(!0);case 5:ie.success(s("soajs:messages.add_"+a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function L(){return(L=Object(v.a)(g.a.mark((function e(a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mo.deleteConfiguration(t.code,{name:n,mode:a});case 3:return e.next=5,E(!0);case 5:ie.success(s("soajs:messages.delete_"+a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function M(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),h(Object(N.a)(Object(N.a)({},p),{},Object(We.a)({},e.target.id,t)))}function E(e){return _.apply(this,arguments)}function _(){return(_=Object(v.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eo(o,p,t.code,u,h,a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(v.a)(g.a.mark((function e(){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={mode:p.mode,limit:3},p.name&&p.name.length>0&&(a.filter={fieldSelector:"metadata.name="+p.name}),p.continue&&(a.continue=p.continue),e.next=6,Mo.getConfigurations(t.code,a);case 6:(n=e.sent)&&n.items&&(o(i.concat(n.items)),n.metadata&&n.metadata.continue?(p.continue=n.metadata.continue,p.remainingItemCount=n.metadata.remainingItemCount,h(Object(N.a)({},p))):(p.continue=null,p.remainingItemCount=0,h(Object(N.a)({},p)))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function R(e){return U.apply(this,arguments)}function U(){return(U=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,E(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&(h(zo),Eo(o,zo,t.code,u,h,e).catch()),function(){return e=!1}}),[t]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Io,{modalOpt:S,setModalOpt:A,handleAction:function(){E(!0).catch()}}),Object(I.jsx)(ro,{modalOpt:f,setModalOpt:k,handleAction:function(e){e.kind=p.mode,function(e,t){return T.apply(this,arguments)}(e.kind,e).catch()}}),Object(I.jsx)(me.a,{className:"p-3 m-0",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{md:3,lg:3,xl:2,children:[Object(I.jsx)("h5",{className:"font-weight-bold m-0 float-left",children:s("soajs:titles.secrets")}),a.can("infra_configuration","add")&&Object(I.jsx)(Wa,{className:"float-right pt-0 pb-1 pl-1 pr-1",onClick:function(){var e;e={title:"Configuration "+p.mode},k({show:!0,item:e,json:null})}}),(a.can("infra_secret","add_wizard")||a.can("infra_secret","add_wizard_registry"))&&Object(I.jsx)(Lo,{className:"float-right pt-0 pb-1 pl-1 pr-1 mr-2 ml-1",onClick:function(){var e;e={title:p.mode+" Wizard",env:t.code},A({show:!0,item:e,json:{}})}})]}),Object(I.jsx)(dt.a,{md:3,lg:2,children:Object(I.jsx)(G.a.Control,{style:{fontSize:"80%"},as:"select",id:"mode",value:p.mode,onChange:M,children:Object(I.jsx)("option",{value:"Secret",children:"Secret"})})}),Object(I.jsx)(dt.a,{children:Object(I.jsx)(G.a,{onSubmit:R,children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:8,lg:9,children:Object(I.jsx)(G.a.Control,{id:"name",size:"sm",autoFocus:!0,value:p.name,onChange:M})}),Object(I.jsx)(dt.a,{xs:4,lg:3,children:Object(I.jsxs)(z.a,{className:"float-right",variant:"dark",size:"sm",onClick:R,children:[Object(I.jsx)(vt.c,{})," ",s("soajs:buttons.Search")]})})]})})})]})}),Object(I.jsx)("hr",{}),i.length>0&&"Secret"===j&&Object(I.jsx)(So,{items:i,env:t.code.toLowerCase(),deleteItem:a.can("infra_configuration","delete")?function(e,t){return L.apply(this,arguments)}:null}),p.continue&&Object(I.jsxs)(z.a,{size:"sm",className:"mt-3",block:!0,variant:"light",onClick:function(){return D.apply(this,arguments)},children:[Object(I.jsxs)(it.a,{variant:"light",className:"text-muted",children:["(",p.remainingItemCount," remaining)"]})," Click here to load more ..."]})]})}function Do(e){var t=e.environment;return Object(I.jsxs)(k.g,{children:[Object(I.jsx)(L,{path:"/environments/manage/:env/cluster/nodes",children:Object(I.jsx)(Bi,{environment:t})}),Object(I.jsx)(L,{path:"/environments/manage/:env/cluster/workloads",children:Object(I.jsx)(uo,{environment:t})}),Object(I.jsx)(L,{path:"/environments/manage/:env/cluster/services",children:Object(I.jsx)(xo,{environment:t})}),Object(I.jsx)(L,{path:"/environments/manage/:env/cluster/storage",children:Object(I.jsx)(No,{environment:t})}),Object(I.jsx)(L,{path:"/environments/manage/:env/cluster/configuration",children:Object(I.jsx)(Go,{environment:t})}),Object(I.jsx)(L,{path:"/environments/manage/:env/cluster/rbac",children:Object(I.jsx)(_i,{environment:t})})]})}function Ro(e){var t=e.environment;return t&&Object(I.jsx)(I.Fragment,{children:t.deployer&&"container"===t.deployer.type?Object(I.jsx)(Do,{environment:t}):Object(I.jsxs)(rt.a,{variant:"info",className:"mt-4 mb-4",children:["This environment is of type ",Object(I.jsx)("span",{className:"text-success",children:"manual"}),", Cluster is only available for environments of type ",Object(I.jsx)("span",{className:"text-info",children:"container"})]})})}function Uo(e){var t=e.registry,a=Object(Ie.a)(["common","soajs"]).t;return t&&Object(I.jsxs)("div",{children:[Object(I.jsx)(ot.a,{bg:"light",children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)(lt.a,{children:Object(I.jsx)(dt.a,{children:Object(I.jsxs)("span",{className:"small",children:[t.protocol,"://",t.apiPrefix?t.apiPrefix+".":"",t.domain,":",t.port]})})}),Object(I.jsx)(lt.a,{className:"mt-3 small",children:Object(I.jsx)(dt.a,{children:t.description})})]})}),Object(I.jsxs)(xt.a,{className:"mb-4 small mt-4",children:[Object(I.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)(ot.a.Title,{children:a("soajs:fields.Awareness")}),Object(I.jsxs)(zn.a,{variant:"flush",children:[Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.CacheTTL"),":"]})," ",t.services.config.awareness.cacheTTL]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Healthcheckinterval"),":"]})," ",t.services.config.awareness.healthCheckInterval]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Autoreloadregistry"),":"]})," ",t.services.config.awareness.autoRelaodRegistry]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Maxlogcount"),":"]})," ",t.services.config.awareness.maxLogCount]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Automaticregisterservice"),":"]})," ",""+t.services.config.awareness.autoRegisterService]})]})]})}),Object(I.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)(ot.a.Title,{children:a("soajs:fields.Cors")}),Object(I.jsxs)(zn.a,{variant:"flush",children:[Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Enabled"),":"]})," ",""+t.services.config.cors.enabled]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Credentials"),":"]})," ",""+t.services.config.cors.credentials]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Origin"),":"]})," ",t.services.config.cors.origin]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Maxage"),":"]})," ",""+t.services.config.cors.maxage]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Methods"),":"]})," ",t.services.config.cors.methods]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Headers"),":"]})," ",""+t.services.config.cors.headers]})]})]})})]}),Object(I.jsxs)(xt.a,{className:"mb-4 small",children:[Object(I.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)(ot.a.Title,{children:a("soajs:fields.Requests")}),Object(I.jsxs)(zn.a,{variant:"flush",children:[Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Authorization"),":"]})," ",""+t.services.controller.authorization]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Timeout"),":"]})," ",t.services.controller.requestTimeout]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Timeoutrenewal"),":"]})," ",t.services.controller.requestTimeoutRenewal]})]})]})}),Object(I.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)(ot.a.Title,{children:a("soajs:fields.Ports")}),Object(I.jsxs)(zn.a,{variant:"flush",children:[Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Gatewayport"),":"]})," ",t.services.config.ports.controller]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Gatewaymaintenanceport"),":"]})," ",t.services.config.ports.controller+t.services.config.ports.maintenanceInc]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Randomizedportincrement"),":"]})," ",t.services.config.ports.randomInc]})]})]})})]}),Object(I.jsxs)(xt.a,{className:"mb-4 small",children:[Object(I.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)(ot.a.Title,{children:a("soajs:fields.Logger")}),Object(I.jsx)(ue,{mode:"preview",json:t.services.config.logger||{}})]})}),Object(I.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)(ot.a.Title,{children:a("soajs:fields.Oauth")}),Object(I.jsxs)(zn.a,{variant:"flush",children:[Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Grants"),":"]})," ",t.services.config.oauth.grants.join(", ")]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Getuserinformationfromtoken"),":"]})," ",""+t.services.config.oauth.getUserFromToken]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Accesstokenlifetime"),":"]})," ",t.services.config.oauth.accessTokenLifetime]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Refreshtokenlifetime"),":"]})," ",t.services.config.oauth.refreshTokenLifetime]})]})]})})]})]})}function Fo(e){var t=e.registry,a=e.fields,n=e.setFields,s=Object(Ie.a)(["common","soajs"]).t;function c(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var s=a;"number"===e.target.type&&(t=parseInt(t)),U(s,e.target.id,t),n(Object(N.a)({},s))}function r(e){var t=e.target.value,s=a;t="true"===t,U(s,e.target.id,t),n(Object(N.a)({},s))}return t&&Object(I.jsxs)(G.a,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Description")}),Object(I.jsx)(G.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:a.description,onChange:c})]}),Object(I.jsxs)(rt.a,{variant:"light",style:{border:"1px solid rgba(0,0,0,.125)"},children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Domain")}),Object(I.jsx)(G.a.Control,{id:"domain",size:"sm",value:a.domain,onChange:c})]}),Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Protocol")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"protocol",size:"sm",defaultValue:a.protocol,onChange:c,children:[Object(I.jsx)("option",{value:"https",children:"https"}),Object(I.jsx)("option",{value:"http",children:"http"})]})]})}),Object(I.jsx)(dt.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Port")}),Object(I.jsx)(G.a.Control,{id:"port",size:"sm",type:"number",value:a.port,onChange:c})]})})]}),Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.apiPrefix")}),Object(I.jsx)(G.a.Control,{id:"apiPrefix",size:"sm",value:a.apiPrefix,onChange:c})]})}),Object(I.jsx)(dt.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.sitePrefix")}),Object(I.jsx)(G.a.Control,{id:"sitePrefix",size:"sm",value:a.sitePrefix,onChange:c})]})})]}),Object(I.jsx)(lt.a,{children:Object(I.jsx)(dt.a,{className:"small text-muted text-center",children:s("soajs:messages.prefixMsg")})})]}),Object(I.jsx)("hr",{}),Object(I.jsxs)(xt.a,{className:"mb-4 small mt-4",children:[Object(I.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)(ot.a.Title,{children:s("soajs:fields.Awareness")}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.CacheTTL")}),Object(I.jsx)(G.a.Control,{id:"services.config.awareness.cacheTTL",size:"sm",type:"number",value:a.services.config.awareness.cacheTTL,onChange:c})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Healthcheckinterval")}),Object(I.jsx)(G.a.Control,{id:"services.config.awareness.healthCheckInterval",size:"sm",type:"number",value:a.services.config.awareness.healthCheckInterval,onChange:c})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Autoreloadregistry")}),Object(I.jsx)(G.a.Control,{id:"services.config.awareness.autoRelaodRegistry",size:"sm",type:"number",value:a.services.config.awareness.autoRelaodRegistry,onChange:c})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Maxlogcount")}),Object(I.jsx)(G.a.Control,{id:"services.config.awareness.maxLogCount",size:"sm",type:"number",value:a.services.config.awareness.maxLogCount,onChange:c})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Automaticregisterservice")}),Object(I.jsxs)(G.a.Control,{id:"services.config.awareness.autoRegisterService",as:"select",size:"sm",defaultValue:a.services.config.awareness.autoRegisterService,onChange:r,children:[Object(I.jsx)("option",{value:"true",children:"True"}),Object(I.jsx)("option",{value:"false",children:"False"})]})]})]})}),Object(I.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)(ot.a.Title,{children:s("soajs:fields.Cors")}),Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Enabled")}),Object(I.jsxs)(G.a.Control,{id:"services.config.cors.enabled",as:"select",size:"sm",defaultValue:a.services.config.cors.enabled,onChange:r,children:[Object(I.jsx)("option",{value:"true",children:"True"}),Object(I.jsx)("option",{value:"false",children:"False"})]})]})}),Object(I.jsx)(dt.a,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Credentials")}),Object(I.jsxs)(G.a.Control,{id:"services.config.cors.credentials",as:"select",size:"sm",defaultValue:a.services.config.cors.credentials,onChange:r,children:[Object(I.jsx)("option",{value:"true",children:"True"}),Object(I.jsx)("option",{value:"false",children:"False"})]})]})})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Origin")}),Object(I.jsx)(G.a.Control,{id:"services.config.cors.origin",size:"sm",value:a.services.config.cors.origin,onChange:c})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Maxage")}),Object(I.jsx)(G.a.Control,{id:"services.config.cors.maxage",size:"sm",type:"number",value:a.services.config.cors.maxage,onChange:c})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Methods")}),Object(I.jsx)(G.a.Control,{id:"services.config.cors.methods",size:"sm",value:a.services.config.cors.methods,onChange:c})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Headers")}),Object(I.jsx)(G.a.Control,{id:"services.config.cors.headers",size:"sm",as:"textarea",rows:3,value:a.services.config.cors.headers,onChange:c})]})]})})]}),Object(I.jsxs)(xt.a,{className:"mb-4 small mt-4",children:[Object(I.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)(ot.a.Title,{children:s("soajs:fields.Requests")}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Authorization")}),Object(I.jsxs)(G.a.Control,{id:"services.controller.authorization",size:"sm",as:"select",type:"boolean",defaultValue:a.services.controller.authorization,onChange:r,children:[Object(I.jsx)("option",{value:"true",children:"True"}),Object(I.jsx)("option",{value:"false",children:"False"})]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Timeout")}),Object(I.jsx)(G.a.Control,{id:"services.controller.requestTimeout",size:"sm",type:"number",value:a.services.controller.requestTimeout,onChange:c})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Timeoutrenewal")}),Object(I.jsx)(G.a.Control,{id:"services.controller.requestTimeoutRenewal",size:"sm",type:"number",value:a.services.controller.requestTimeoutRenewal,onChange:c})]})]})}),Object(I.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)(ot.a.Title,{children:s("soajs:fields.Ports")}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Controller")}),Object(I.jsx)(G.a.Control,{id:"services.config.ports.controller",size:"sm",type:"number",value:a.services.config.ports.controller,onChange:c})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.MaintenanceInc")}),Object(I.jsx)(G.a.Control,{id:"services.config.ports.maintenanceInc",size:"sm",type:"number",value:a.services.config.ports.maintenanceInc,onChange:c})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.RandomInc")}),Object(I.jsx)(G.a.Control,{id:"services.config.ports.randomInc",size:"sm",type:"number",value:a.services.config.ports.randomInc,onChange:c})]})]})})]}),Object(I.jsxs)(xt.a,{className:"mb-4 small mt-4",children:[Object(I.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)(ot.a.Title,{children:s("soajs:fields.Logger")}),Object(I.jsx)(ue,{mode:"code",json:a.services.config.logger||{},onChange:function(e){a.services.config.logger=e}})]})}),Object(I.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)(ot.a.Title,{children:s("soajs:fields.Oauth")}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Getuserinformationfromtoken")}),Object(I.jsxs)(G.a.Control,{id:"services.config.oauth.getUserFromToken",as:"select",size:"sm",defaultValue:a.services.config.oauth.getUserFromToken,onChange:r,children:[Object(I.jsx)("option",{value:"true",children:"True"}),Object(I.jsx)("option",{value:"false",children:"False"})]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Accesstokenlifetime")}),Object(I.jsx)(G.a.Control,{id:"services.config.oauth.accessTokenLifetime",size:"sm",type:"number",value:a.services.config.oauth.accessTokenLifetime,onChange:c})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:s("soajs:fields.Refreshtokenlifetime")}),Object(I.jsx)(G.a.Control,{id:"services.config.oauth.refreshTokenLifetime",size:"sm",type:"number",value:a.services.config.oauth.refreshTokenLifetime,onChange:c})]})]})})]})]})}function Ko(e){var t=e.registry,a=Object(Ie.a)(["common","soajs"]).t;return t&&Object(I.jsx)("div",{children:t.deployer&&"container"===t.deployer.type?Object(I.jsxs)(ot.a,{children:[Object(I.jsxs)(ot.a.Header,{children:[a("soajs:titles.Containerdeploymentdetect"),":"]}),Object(I.jsx)(ot.a.Body,{className:"mt-3 mb-3",children:a("soajs:messages.containerMsg1")}),Object(I.jsx)(ot.a.Footer,{children:Object(I.jsxs)("small",{className:"text-muted",children:[a("soajs:messages.manualMsg2")," ",Object(I.jsx)("a",{href:"https://soajsorg.atlassian.net/wiki/spaces/CON/pages/1914142723/Awareness",children:a("common:ClickHere")})]})})]}):Object(I.jsxs)(ot.a,{children:[Object(I.jsxs)(ot.a.Header,{children:[a("soajs:titles.Manualdeploymentdetect"),":"]}),Object(I.jsxs)(ot.a.Body,{className:"mt-3 mb-3",children:[a("soajs:messages.manualMsg1"),Object(I.jsx)("hr",{}),Object(I.jsxs)(zn.a,{variant:"flush",children:[Object(I.jsxs)(En.a,{children:[Object(I.jsx)("span",{className:"font-weight-bold mr-3",children:"SOAJS_ENV:"})," ",t.code]}),Object(I.jsxs)(En.a,{children:[Object(I.jsx)("span",{className:"font-weight-bold mr-3",children:"SOAJS_DEPLOY_MANUAL:"})," 1"]}),Object(I.jsxs)(En.a,{children:[Object(I.jsx)("span",{className:"font-weight-bold mr-3",children:"SOAJS_REGISTRY_API:"})," ",t.deployer.manual.nodes,":",t.services.config.ports.controller+t.services.config.ports.maintenanceInc]})]})]}),Object(I.jsx)(ot.a.Footer,{children:Object(I.jsxs)("small",{className:"text-muted",children:[a("soajs:messages.manualMsg2")," ",Object(I.jsx)("a",{href:"https://soajsorg.atlassian.net/wiki/spaces/CON/pages/1914142723/Awareness",children:a("common:ClickHere")})]})})]})})}var Bo=ke.getService(),Ho=Nt.getService();function Jo(e,t){return e&&e.acl&&e.acl.groups&&e.acl.groups.value&&e.acl.groups.value.includes(t)}function Vo(e){var t=e.settings,a=e.id,s=e.handleAction,c=e.handleClose,r=Object(Ie.a)(["common","soajs"]).t,i=P().ability,o=Object(n.useState)([]),l=Object(y.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)({groups:[],type:"whitelist"}),m=Object(y.a)(u,2),b=m[0],p=m[1];function h(e,t){var a=b;a.type=t,p(Object(N.a)({},a))}function O(){return(O=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Ho.deleteResourceRegistryAcl(a);case 4:ie.success(r("soajs:messages.resourceGroupDeleteSuccess")),s(),c(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function x(){return(x=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Ho.saveResourceRegistryAcl({id:a,groups:b.groups,type:b.type});case 4:ie.success(r("soajs:messages.resourceGroupSaveSuccess")),s(),c(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t&&t.acl&&t.acl.groups&&p({groups:t.acl.groups.value,type:t.acl.groups.type}),a.next=4,Bo.getGroups();case 4:n=a.sent,e&&j(n),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),ie.error(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){return e=!1}}),[t]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(me.a,{className:"p-4 m-0 bg-light border-dark small",children:Object(I.jsxs)("fieldset",{children:[Object(I.jsx)(G.a.Check,{type:"radio",label:"whitelist",name:"groupsType",id:"groupsType1",defaultChecked:"whitelist"===b.type,onChange:function(e){h(e.target.checked,"whitelist")}}),Object(I.jsx)(G.a.Check,{type:"radio",label:"blacklist",name:"groupsType",id:"groupsType2",defaultChecked:"blacklist"===b.type,onChange:function(e){h(e.target.checked,"blacklist")}})]})}),Object(I.jsx)(xt.a,{className:"ml-2",children:d.map((function(e,a){return Object(I.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(I.jsx)(ot.a.Body,{className:"p-2",children:Object(I.jsx)(G.a.Check,{className:"small",type:"checkbox",defaultChecked:Jo(t,e.code),label:e.code,onChange:function(t){!function(e,t){var a=b;e?a.groups.push(t):R.a.pullAll(a.groups,[t]),p(Object(N.a)({},a))}(t.target.checked,e.code)}},a+1)})},a)}))}),Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{children:[Object(I.jsx)(z.a,{className:"ml-1 float-right",variant:"warning",onClick:c,children:r("soajs:buttons.Close")}),i.can("registry_custom","update_acl")&&Object(I.jsx)(z.a,{className:"ml-1 float-right",variant:"success",disabled:!1,onClick:function(e){return x.apply(this,arguments)},children:r("soajs:buttons.Save")}),i.can("registry_custom","delete_acl")&&Object(I.jsx)(z.a,{className:"ml-1 float-right",variant:"danger",disabled:!1,onClick:function(e){return O.apply(this,arguments)},children:r("soajs:buttons.Delete")})]})]})}function Wo(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAfterSubmit,s=Object(Ie.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})};return Object(I.jsx)(I.Fragment,{children:t.item&&Object(I.jsxs)(ma.a,{size:"lg",show:t.show,onHide:c,animation:!1,children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:s("soajs:titles.ResourceRegistry")})}),Object(I.jsxs)(ma.a.Body,{children:[Object(I.jsx)(me.a,{className:"p-4",children:Object(I.jsx)("span",{className:"font-weight-bold",children:t.item.name})}),Object(I.jsx)(G.a,{onSubmit:function(e){e.preventDefault()},children:Object(I.jsx)(Ma.a,{className:"mb-3",defaultActiveKey:"acl",id:"config",children:Object(I.jsx)(za.a,{eventKey:"acl",title:s("soajs:fields.Groups"),children:Object(I.jsx)(Vo,{settings:t.item.settings,handleAction:function(){n()},handleClose:c,id:t.item._id})})})})]})]})})}var qo=Nt.getService();function Yo(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ie.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})};function r(){return(r=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qo.deleteResourceRegistry(t.item._id,t.item.created);case 3:ie.success(s("soajs:messages.deleteResource")),n(),c(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(I.jsxs)(ma.a,{show:t.show,onHide:c,animation:!1,children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:s("soajs:buttons.Delete")})}),Object(I.jsx)(ma.a.Body,{children:s("soajs:messages.deleteQuestion")}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:c,children:s("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"danger",onClick:function(){return r.apply(this,arguments)},children:s("soajs:buttons.Delete")})]})]})}var Xo=a(113),Qo=Nt.getService(),Zo={};function $o(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=e.environments,r=e.environment,i=Object(Ie.a)(["common","soajs"]).t,o=function(){return a({show:!1,opts:null})},l=Object(n.useState)({}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({name:"",plugged:!1,shared:!1,type:"",category:""}),b=Object(y.a)(m,2),p=b[0],h=b[1],O=Object(n.useState)({}),x=Object(y.a)(O,2),f=x[0],k=x[1];function w(e){var t=!1;if(e.target.hasOwnProperty("checked")&&(t=e.target.checked),t)k(Object(N.a)(Object(N.a)({},f),{},Object(We.a)({},e.target.id,t)));else{var a=f;delete a[e.target.id],k(Object(N.a)({},a))}}function C(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),h(Object(N.a)(Object(N.a)({},p),{},Object(We.a)({},e.target.id,t)))}function S(){return(S=Object(v.a)(g.a.mark((function e(){var t,a,n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,t={},a=Object.keys(f),n=0;n<a.length;n++)f[a[n]]&&(t[a[n]]=f[a[n]]);return(c={name:p.name,plugged:p.plugged,shared:p.shared,sharedEnvs:t,type:p.type,category:p.category}).config=Zo,e.next=8,Qo.addResource(r.code,c);case 8:ie.success(i("soajs:messages.addResource")),s(),o(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),ie.error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;if(e&&t){h({name:"",plugged:!1,shared:!1,type:"",category:""});for(var a={},n=0;n<c.length;n++)a[c[n].code]=!1;k(Object(N.a)({},a)),Zo={}}return function(){return e=!1}}),[t,c]),Object(I.jsxs)(ma.a,{show:t.show,onHide:o,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:i("soajs:titles.resourceRegistryAdd")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsx)(G.a,{children:Object(I.jsxs)(Ma.a,{className:"mb-3",defaultActiveKey:"value",id:"config",children:[Object(I.jsxs)(za.a,{eventKey:"value",title:i("soajs:fields.Configuration"),children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:i("soajs:fields.Name")}),Object(I.jsx)(G.a.Control,{id:"name",size:"sm",value:p.name,onChange:C})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:i("soajs:fields.Type")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"type",defaultValue:p.type,onChange:C,children:[Object(I.jsx)("option",{value:"",children:i("soajs:fields.SelectType")}),Xo.type.map((function(e,t){return Object(I.jsx)("option",{value:e.v,children:e.l},t)}))]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:i("soajs:fields.Category")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"category",defaultValue:p.category,onChange:function(e){C(e),function(e){var t=e.target.value;if(Xo.category[p.type])for(var a=0;a<Xo.category[p.type].length;a++)Xo.category[p.type][a].v===t&&(Xo.category[p.type][a].schema?(Zo=Xo.category[p.type][a].schema,u(Xo.category[p.type][a].schema)):(Zo={},u({})))}(e)},children:[Object(I.jsx)("option",{value:"",children:i("soajs:fields.SelectCategory")}),p.type&&Xo.category[p.type]&&Xo.category[p.type].map((function(e,t){return Object(I.jsx)("option",{value:e.v,children:e.l},t)}))]})]}),Object(I.jsxs)(G.a.Group,{style:{height:"400px"},children:[Object(I.jsx)(G.a.Label,{children:i("soajs:fields.Value")}),Object(I.jsx)(ue,{mode:"code",json:Zo||j,onChange:function(e){Zo=e}})]})]}),Object(I.jsxs)(za.a,{eventKey:"settings",title:i("soajs:fields.Settings"),children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{className:"float-left",children:i("soajs:fields.PlugConfiguration")}),Object(I.jsx)(G.a.Check,{className:"float-right",id:"plugged",size:"sm",type:"switch",checked:p.plugged,onChange:C}),Object(I.jsx)("span",{className:"clearfix"})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{className:"float-left",children:i("soajs:fields.ShareConfiguration")}),Object(I.jsx)(G.a.Check,{className:"float-right",id:"shared",size:"sm",type:"switch",checked:p.shared,onChange:C}),Object(I.jsx)("span",{className:"clearfix"})]}),p.shared&&Object(I.jsx)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:Object(I.jsx)("tbody",{children:c.map((function(e,t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:(!r||r.code!==e.code)&&Object(I.jsx)(G.a.Check,{id:e.code,size:"sm",type:"switch",checked:f[e.code],onChange:w})}),Object(I.jsx)("td",{children:e.code}),Object(I.jsx)("td",{children:e.description})]},t)}))})})]})]})})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:o,children:i("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return S.apply(this,arguments)},disabled:!(p.name.length>0&&p.type.length>0&&p.category.length>0),children:i("soajs:buttons.Add")})]})]})}var el=Nt.getService(),tl={};function al(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=e.environments,r=e.environment,i=Object(Ie.a)(["common","soajs"]).t,o=function(){return a({show:!1,item:null})},l=Object(n.useState)({id:"",name:"",plugged:!1,shared:!1,type:"",category:""}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({}),b=Object(y.a)(m,2),p=b[0],h=b[1];function O(e){var t=!1;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=p;t?(a[e.target.id]=t,h(Object(N.a)({},a))):(delete a[e.target.id],h(Object(N.a)({},a)))}function x(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),u(Object(N.a)(Object(N.a)({},j),{},Object(We.a)({},e.target.id,t)))}function f(){return(f=Object(v.a)(g.a.mark((function e(){var t,a,n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,t={},a=Object.keys(p),n=0;n<a.length;n++)p[a[n]]&&(t[a[n]]=p[a[n]]);return(c={name:j.name,plugged:j.plugged,shared:j.shared,sharedEnvs:t,type:j.type,category:j.category}).config=tl,e.next=8,el.updateResource(r.code,j.id,c);case 8:ie.success(i("soajs:messages.updateResource")),s(),o(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),ie.error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;if(e&&t&&t.item){u({id:t.item._id,name:t.item.name,plugged:t.item.plugged,shared:t.item.shared,type:t.item.type,category:t.item.category}),t.item.sharedEnvs||(t.item.sharedEnvs={});for(var a={},n=0;n<c.length;n++)a[c[n].code]=!!t.item.sharedEnvs[c[n].code];h(Object(N.a)({},a)),tl=t.item.config||{}}return function(){return e=!1}}),[t,c]),t&&t.item?Object(I.jsxs)(ma.a,{show:t.show,onHide:o,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:i("soajs:titles.resourceRegistryUpdate")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsx)(G.a,{children:Object(I.jsxs)(Ma.a,{className:"mb-3",defaultActiveKey:"value",id:"config",children:[Object(I.jsxs)(za.a,{eventKey:"value",title:i("soajs:fields.Configuration"),children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:i("soajs:fields.Name")}),Object(I.jsx)(G.a.Control,{id:"name",size:"sm",value:j.name,onChange:x})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:i("soajs:fields.Type")}),Object(I.jsx)(G.a.Control,{id:"type",size:"sm",value:j.type,disabled:!0})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:i("soajs:fields.Category")}),Object(I.jsx)(G.a.Control,{id:"category",size:"sm",value:j.category,disabled:!0})]}),Object(I.jsxs)(G.a.Group,{style:{height:"400px"},children:[Object(I.jsx)(G.a.Label,{children:i("soajs:fields.Value")}),Object(I.jsx)(ue,{mode:"code",json:tl,onChange:function(e){tl=e}})]})]}),Object(I.jsxs)(za.a,{eventKey:"settings",title:i("soajs:fields.Settings"),children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{className:"float-left",children:i("soajs:fields.PlugConfiguration")}),Object(I.jsx)(G.a.Check,{className:"float-right",id:"plugged",size:"sm",type:"switch",checked:j.plugged,onChange:x}),Object(I.jsx)("span",{className:"clearfix"})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{className:"float-left",children:i("soajs:fields.ShareConfiguration")}),Object(I.jsx)(G.a.Check,{className:"float-right",id:"shared",size:"sm",type:"switch",checked:j.shared,onChange:x}),Object(I.jsx)("span",{className:"clearfix"})]}),j.shared&&Object(I.jsx)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:Object(I.jsx)("tbody",{children:c.map((function(e,t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:(!r||r.code!==e.code)&&Object(I.jsx)(G.a.Check,{id:e.code,size:"sm",type:"switch",checked:p[e.code],onChange:O})}),Object(I.jsx)("td",{children:e.code}),Object(I.jsx)("td",{children:e.description})]},t)}))})})]})]})})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:o,children:i("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return f.apply(this,arguments)},disabled:!(j.name.length>0&&j.type.length>0&&j.category.length>0),children:i("soajs:buttons.Update")})]})]}):null}var nl=Nt.getService();function sl(e,t,a){return cl.apply(this,arguments)}function cl(){return(cl=Object(v.a)(g.a.mark((function e(t,a,n){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nl.getResourceRegistry(t.code);case 3:s=e.sent,n&&s&&a(s),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function rl(e){var t=e.environment,a=e.environments,s=e.reloadClusters,c=Object(Ie.a)(["common","soajs"]).t,r=P().ability,i=Object(n.useState)([]),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({show:!1,item:null}),u=Object(y.a)(j,2),m=u[0],b=u[1],p=Object(n.useState)({show:!1,item:null}),h=Object(y.a)(p,2),O=h[0],x=h[1],f=Object(n.useState)({show:!1}),k=Object(y.a)(f,2),w=k[0],C=k[1],N=Object(n.useState)({show:!1,item:null}),S=Object(y.a)(N,2),A=S[0],T=S[1];function L(){return M.apply(this,arguments)}function M(){return(M=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sl(t,d,!0);case 2:s();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t){return _.apply(this,arguments)}function _(){return(_=Object(v.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nl.unplugPlugResource({id:t._id,env:t.created,plugged:a});case 3:return a?ie.success(c("soajs:messages.pluggedResource")):ie.success(c("soajs:messages.unpluggedResource")),e.next=6,L();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return t&&sl(t,d,e),function(){return e=!1}}),[t]),t&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(al,{modalOpt:A,setModalOpt:T,handleAction:L,environments:a,environment:t}),Object(I.jsx)($o,{modalOpt:w,setModalOpt:C,handleAction:L,environments:a,environment:t}),Object(I.jsx)(Yo,{modalOpt:O,setModalOpt:x,handleAction:L}),Object(I.jsx)(Wo,{modalOpt:m,setModalOpt:b,handleAfterSubmit:L}),Object(I.jsxs)("div",{children:[Object(I.jsx)("h4",{className:"float-left",children:c("soajs:titles.resourceRegistry")}),r.can("registry_resource","add")&&Object(I.jsxs)(z.a,{variant:"success",className:"float-right",size:"sm",onClick:function(){C({show:!0})},children:[Object(I.jsx)(Va.a,{})," ",c("soajs:buttons.Add")]}),Object(I.jsx)("span",{className:"clearfix"})]}),Object(I.jsx)("hr",{}),l.length>0?Object(I.jsx)(I.Fragment,{children:l.map((function(e,a){return Object(I.jsxs)(rt.a,{variant:"light",className:"mt-4 mb-4",style:{borderColor:"#c6c8ca"},children:[Object(I.jsxs)("span",{className:"float-left",children:[Object(I.jsx)(vt.d,{className:e.shared?"text-success":""})," ",Object(I.jsx)("span",{className:" ml-2 font-weight-bold",children:e.name})]}),t.code.toLowerCase()!==e.created.toLowerCase()?Object(I.jsxs)("div",{children:[Object(I.jsxs)("span",{className:"float-right",children:[" from: ",e.created]}),Object(I.jsx)("span",{className:"clearfix"})]}):Object(I.jsxs)("div",{children:[r.can("registry_resource","delete")&&Object(I.jsx)(Ja,{className:"float-right ml-2",onClick:function(){x({show:!0,item:e})}}),Object(I.jsx)(Tc,{className:"float-right ml-5",onClick:function(){b({show:!0,item:e})}}),Object(I.jsx)(z.a,{variant:"primary",className:"float-right ml-2",size:"sm",disabled:!r.can("registry_resource","edit"),onClick:function(){T({show:!0,item:e})},children:"Configure"}),e.plugged&&Object(I.jsx)(z.a,{variant:"warning",className:"float-right ml-2",size:"sm",disabled:!r.can("registry_resource","edit"),onClick:function(){E(e,!1)},children:"Unplug"}),!e.plugged&&Object(I.jsx)(z.a,{variant:"success",className:"float-right ml-2",size:"sm",disabled:!r.can("registry_resource","edit"),onClick:function(){E(e,!0)},children:"Plug"}),Object(I.jsx)("span",{className:"clearfix"})]})]},a)}))}):Object(I.jsx)(rt.a,{variant:"secondary",className:"mt-4 mb-4",children:c("soajs:messages.empty")})]})}var il=ke.getService(),ol=Nt.getService();function ll(e,t){return e&&e.acl&&e.acl.groups&&e.acl.groups.value&&e.acl.groups.value.includes(t)}function dl(e){var t=e.settings,a=e.id,s=e.handleAction,c=e.handleClose,r=Object(Ie.a)(["common","soajs"]).t,i=P().ability,o=Object(n.useState)([]),l=Object(y.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)({groups:[],type:"whitelist"}),m=Object(y.a)(u,2),b=m[0],p=m[1];function h(e,t){var a=b;a.type=t,p(Object(N.a)({},a))}function O(){return(O=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,ol.deleteCustomRegistryAcl(a);case 4:ie.success(r("soajs:messages.customGroupDeleteSuccess")),s(),c(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function x(){return(x=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,ol.saveCustomRegistryAcl({id:a,groups:b.groups,type:b.type});case 4:ie.success(r("soajs:messages.customGroupSaveSuccess")),s(),c(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t&&t.acl&&t.acl.groups&&p({groups:t.acl.groups.value,type:t.acl.groups.type}),a.next=4,il.getGroups();case 4:n=a.sent,e&&j(n),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),ie.error(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){return e=!1}}),[t]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(me.a,{className:"p-4 m-0 bg-light border-dark small",children:Object(I.jsxs)("fieldset",{children:[Object(I.jsx)(G.a.Check,{type:"radio",label:"whitelist",name:"groupsType",id:"groupsType1",defaultChecked:"whitelist"===b.type,onChange:function(e){h(e.target.checked,"whitelist")}}),Object(I.jsx)(G.a.Check,{type:"radio",label:"blacklist",name:"groupsType",id:"groupsType2",defaultChecked:"blacklist"===b.type,onChange:function(e){h(e.target.checked,"blacklist")}})]})}),Object(I.jsx)(xt.a,{className:"ml-2",children:d.map((function(e,a){return Object(I.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(I.jsx)(ot.a.Body,{className:"p-2",children:Object(I.jsx)(G.a.Check,{className:"small",type:"checkbox",defaultChecked:ll(t,e.code),label:e.code,onChange:function(t){!function(e,t){var a=b;e?a.groups.push(t):R.a.pullAll(a.groups,[t]),p(Object(N.a)({},a))}(t.target.checked,e.code)}},a+1)})},a)}))}),Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{children:[Object(I.jsx)(z.a,{className:"ml-1 float-right",variant:"warning",onClick:c,children:r("soajs:buttons.Close")}),i.can("registry_custom","update_acl")&&Object(I.jsx)(z.a,{className:"ml-1 float-right",variant:"success",disabled:!1,onClick:function(e){return x.apply(this,arguments)},children:r("soajs:buttons.Save")}),i.can("registry_custom","delete_acl")&&Object(I.jsx)(z.a,{className:"ml-1 float-right",variant:"danger",disabled:!1,onClick:function(e){return O.apply(this,arguments)},children:r("soajs:buttons.Delete")})]})]})}function jl(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAfterSubmit,s=Object(Ie.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})};return Object(I.jsx)(I.Fragment,{children:t.item&&Object(I.jsxs)(ma.a,{size:"lg",show:t.show,onHide:c,animation:!1,children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:s("soajs:titles.CustomRegistry")})}),Object(I.jsxs)(ma.a.Body,{children:[Object(I.jsx)(me.a,{className:"p-4",children:Object(I.jsx)("span",{className:"font-weight-bold",children:t.item.name})}),Object(I.jsx)(G.a,{onSubmit:function(e){e.preventDefault()},children:Object(I.jsx)(Ma.a,{className:"mb-3",defaultActiveKey:"acl",id:"config",children:Object(I.jsx)(za.a,{eventKey:"acl",title:s("soajs:fields.Groups"),children:Object(I.jsx)(dl,{settings:t.item.settings,handleAction:function(){n()},handleClose:c,id:t.item._id})})})})]})]})})}var ul=Nt.getService();function ml(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ie.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})};function r(){return(r=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ul.deleteCustomRegistry(t.item._id,t.item.created);case 3:ie.success(s("soajs:messages.deleteCustom")),n(),c(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(I.jsxs)(ma.a,{show:t.show,onHide:c,animation:!1,children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:s("soajs:buttons.Delete")})}),Object(I.jsx)(ma.a.Body,{children:s("soajs:messages.deleteQuestion")}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:c,children:s("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"danger",onClick:function(){return r.apply(this,arguments)},children:s("soajs:buttons.Delete")})]})]})}var bl=Nt.getService(),pl={};function hl(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=e.environments,r=e.environment,i=Object(Ie.a)(["common","soajs"]).t,o=function(){return a({show:!1,item:null})},l=Object(n.useState)({name:"",valueText:"",text:!0,plugged:!1,shared:!1}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({}),b=Object(y.a)(m,2),p=b[0],h=b[1];function O(e){var t=!1;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=p;t?(a[e.target.id]=t,h(Object(N.a)({},a))):(delete a[e.target.id],h(Object(N.a)({},a)))}function x(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),u(Object(N.a)(Object(N.a)({},j),{},Object(We.a)({},e.target.id,t)))}function f(){return(f=Object(v.a)(g.a.mark((function e(){var t,a,n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,t={},a=Object.keys(p),n=0;n<a.length;n++)p[a[n]]&&(t[a[n]]=p[a[n]]);return c={name:j.name,plugged:j.plugged,shared:j.shared,sharedEnvs:t},j.text?c.value=j.valueText:c.value=pl,e.next=8,bl.addCustom(r.code,c);case 8:ie.success(i("soajs:messages.addCustom")),s(),o(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),ie.error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;if(e&&t){u({name:"",valueText:"",text:!0,plugged:!1,shared:!1});for(var a={},n=0;n<c.length;n++)a[c[n].code]=!1;h(Object(N.a)({},a)),pl={}}return function(){return e=!1}}),[t,c]),Object(I.jsxs)(ma.a,{show:t.show,onHide:o,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:i("soajs:titles.customRegistryAdd")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsx)(G.a,{children:Object(I.jsxs)(Ma.a,{className:"mb-3",defaultActiveKey:"value",id:"config",children:[Object(I.jsxs)(za.a,{eventKey:"value",title:i("soajs:fields.Configuration"),children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:i("soajs:fields.Name")}),Object(I.jsx)(G.a.Control,{id:"name",size:"sm",value:j.name,onChange:x})]}),Object(I.jsxs)(G.a.Group,{style:{height:"400px"},children:[Object(I.jsxs)("div",{children:[Object(I.jsx)(G.a.Label,{className:"float-left",children:i("soajs:fields.Value")}),Object(I.jsx)(G.a.Check,{className:"float-right",id:"text",size:"sm",type:"switch",label:"Only text",checked:j.text,onChange:x}),Object(I.jsx)("span",{className:"clearfix"})]}),!j.text&&Object(I.jsx)(ue,{mode:"code",json:pl,onChange:function(e){pl=e}}),j.text&&Object(I.jsx)(G.a.Control,{id:"valueText",size:"sm",as:"textarea",rows:15,value:j.valueText,onChange:x})]})]}),Object(I.jsxs)(za.a,{eventKey:"settings",title:i("soajs:fields.Settings"),children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{className:"float-left",children:i("soajs:fields.PlugConfiguration")}),Object(I.jsx)(G.a.Check,{className:"float-right",id:"plugged",size:"sm",type:"switch",checked:j.plugged,onChange:x}),Object(I.jsx)("span",{className:"clearfix"})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{className:"float-left",children:i("soajs:fields.ShareConfiguration")}),Object(I.jsx)(G.a.Check,{className:"float-right",id:"shared",size:"sm",type:"switch",checked:j.shared,onChange:x}),Object(I.jsx)("span",{className:"clearfix"})]}),j.shared&&Object(I.jsx)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:Object(I.jsx)("tbody",{children:c.map((function(e,t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:(!r||r.code!==e.code)&&Object(I.jsx)(G.a.Check,{id:e.code,size:"sm",type:"switch",checked:p[e.code],onChange:O})}),Object(I.jsx)("td",{children:e.code}),Object(I.jsx)("td",{children:e.description})]},t)}))})})]})]})})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:o,children:i("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return f.apply(this,arguments)},disabled:!function(){var e=!0;return e=e&&j.name.length>0,j.text&&(e=e&&j.valueText.length>0),e}(),children:i("soajs:buttons.Add")})]})]})}var Ol=Nt.getService(),xl={};function fl(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=e.environments,r=e.environment,i=Object(Ie.a)(["common","soajs"]).t,o=function(){a({show:!1,item:null})},l=Object(n.useState)({id:"",name:"",valueText:"",text:!0,plugged:!1,shared:!1}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({}),b=Object(y.a)(m,2),p=b[0],h=b[1];function O(e){var t=!1;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=p;t?(a[e.target.id]=t,h(Object(N.a)({},a))):(delete a[e.target.id],h(Object(N.a)({},a)))}function x(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),u(Object(N.a)(Object(N.a)({},j),{},Object(We.a)({},e.target.id,t)))}function f(){return(f=Object(v.a)(g.a.mark((function e(){var t,a,n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,t={},a=Object.keys(p),n=0;n<a.length;n++)p[a[n]]&&(t[a[n]]=p[a[n]]);return c={name:j.name,plugged:j.plugged,shared:j.shared,sharedEnvs:t},j.text?c.value=j.valueText:c.value=xl,e.next=8,Ol.updateCustom(r.code,j.id,c);case 8:ie.success(i("soajs:messages.updateCustom")),s(),o(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),ie.error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;if(e&&t&&t.item){u({id:t.item._id,name:t.item.name,plugged:t.item.plugged,shared:t.item.shared,valueText:t.item.value,text:"object"!==typeof t.item.value}),t.item.sharedEnvs||(t.item.sharedEnvs={});for(var a={},n=0;n<c.length;n++)a[c[n].code]=!!t.item.sharedEnvs[c[n].code];h(Object(N.a)({},a)),xl="object"===typeof t.item.value?t.item.value:{}}return function(){return e=!1}}),[t,c]),Object(I.jsxs)(ma.a,{show:t.show,onHide:o,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:i("soajs:titles.customRegistryUpdate")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsx)(G.a,{children:Object(I.jsxs)(Ma.a,{className:"mb-3",defaultActiveKey:"value",id:"config",children:[Object(I.jsxs)(za.a,{eventKey:"value",title:i("soajs:fields.Configuration"),children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:i("soajs:fields.Name")}),Object(I.jsx)(G.a.Control,{id:"name",size:"sm",value:j.name,onChange:x})]}),Object(I.jsxs)(G.a.Group,{style:{height:"400px"},children:[Object(I.jsxs)("div",{children:[Object(I.jsx)(G.a.Label,{className:"float-left",children:i("soajs:fields.Value")}),Object(I.jsx)(G.a.Check,{className:"float-right",id:"text",size:"sm",type:"switch",label:"Only text",checked:j.text,onChange:x}),Object(I.jsx)("span",{className:"clearfix"})]}),!j.text&&Object(I.jsx)(ue,{mode:"code",json:xl,onChange:function(e){xl=e}}),j.text&&Object(I.jsx)(G.a.Control,{id:"valueText",size:"sm",as:"textarea",rows:15,value:j.valueText,onChange:x})]})]}),Object(I.jsxs)(za.a,{eventKey:"settings",title:i("soajs:fields.Settings"),children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{className:"float-left",children:i("soajs:fields.PlugConfiguration")}),Object(I.jsx)(G.a.Check,{className:"float-right",id:"plugged",size:"sm",type:"switch",checked:j.plugged,onChange:x}),Object(I.jsx)("span",{className:"clearfix"})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{className:"float-left",children:i("soajs:fields.ShareConfiguration")}),Object(I.jsx)(G.a.Check,{className:"float-right",id:"shared",size:"sm",type:"switch",checked:j.shared,onChange:x}),Object(I.jsx)("span",{className:"clearfix"})]}),j.shared&&Object(I.jsx)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:Object(I.jsx)("tbody",{children:c.map((function(e,t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:(!r||r.code!==e.code)&&Object(I.jsx)(G.a.Check,{id:e.code,size:"sm",type:"switch",checked:!!p[e.code],onChange:O})}),Object(I.jsx)("td",{children:e.code}),Object(I.jsx)("td",{children:e.description})]},t)}))})})]})]})})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:o,children:i("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return f.apply(this,arguments)},disabled:!function(){var e=!0;return e=e&&j.name.length>0,j.text&&(e=e&&j.valueText.length>0),e}(),children:i("soajs:buttons.Update")})]})]})}var gl=Nt.getService();function vl(e,t,a){return yl.apply(this,arguments)}function yl(){return(yl=Object(v.a)(g.a.mark((function e(t,a,n){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gl.getCustomRegistry(t.code);case 3:s=e.sent,n&&s&&a(s),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function kl(e){var t=e.environment,a=e.environments,s=Object(Ie.a)(["common","soajs"]).t,c=P().ability,r=Object(n.useState)([]),i=Object(y.a)(r,2),o=i[0],l=i[1],d=Object(n.useState)({show:!1,item:null}),j=Object(y.a)(d,2),u=j[0],m=j[1],b=Object(n.useState)({show:!1,item:null}),p=Object(y.a)(b,2),h=p[0],O=p[1],x=Object(n.useState)({show:!1}),f=Object(y.a)(x,2),k=f[0],w=f[1],C=Object(n.useState)({show:!1,item:null}),N=Object(y.a)(C,2),S=N[0],A=N[1];function T(){return L.apply(this,arguments)}function L(){return(L=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vl(t,l,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return E.apply(this,arguments)}function E(){return(E=Object(v.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gl.unplugPlugCustom({id:t._id,env:t.created,plugged:a});case 3:return a?ie.success(s("soajs:messages.pluggedCustom")):ie.success(s("soajs:messages.unpluggedCustom")),e.next=6,T();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return t&&vl(t,l,e),function(){return e=!1}}),[t]),t&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(fl,{modalOpt:S,setModalOpt:A,handleAction:T,environments:a,environment:t}),Object(I.jsx)(hl,{modalOpt:k,setModalOpt:w,handleAction:T,environments:a,environment:t}),Object(I.jsx)(ml,{modalOpt:h,setModalOpt:O,handleAction:T}),Object(I.jsx)(jl,{modalOpt:u,setModalOpt:m,handleAfterSubmit:T}),Object(I.jsxs)("div",{children:[Object(I.jsx)("h4",{className:"float-left",children:s("soajs:titles.customRegistry")}),c.can("registry_custom","add")&&Object(I.jsxs)(z.a,{variant:"success",className:"float-right",size:"sm",onClick:function(){w({show:!0})},children:[Object(I.jsx)(Va.a,{})," ",s("soajs:buttons.Add")]}),Object(I.jsx)("span",{className:"clearfix"})]}),Object(I.jsx)("hr",{}),o.length>0?Object(I.jsx)(I.Fragment,{children:o.map((function(e,a){return Object(I.jsxs)(rt.a,{variant:"light",className:"mt-4 mb-4",style:{borderColor:"#c6c8ca"},children:[Object(I.jsxs)("span",{className:"float-left",children:[Object(I.jsx)(vt.d,{className:e.shared?"text-success":""})," ",Object(I.jsx)("span",{className:" ml-2 font-weight-bold",children:e.name})]}),t.code.toLowerCase()!==e.created.toLowerCase()?Object(I.jsxs)("div",{children:[Object(I.jsxs)("span",{className:"float-right",children:[" from: ",e.created]}),Object(I.jsx)("span",{className:"clearfix"})]}):Object(I.jsxs)("div",{children:[c.can("registry_custom","delete")&&Object(I.jsx)(Ja,{className:"float-right ml-2",onClick:function(){O({show:!0,item:e})}}),Object(I.jsx)(Tc,{className:"float-right ml-5",onClick:function(){m({show:!0,item:e})}}),Object(I.jsx)(z.a,{variant:"primary",className:"float-right ml-2",size:"sm",disabled:!c.can("registry_custom","edit"),onClick:function(){A({show:!0,item:e})},children:"Configure"}),e.plugged&&Object(I.jsx)(z.a,{variant:"warning",className:"float-right ml-2",size:"sm",disabled:!c.can("registry_custom","edit"),onClick:function(){M(e,!1)},children:"Unplug"}),!e.plugged&&Object(I.jsx)(z.a,{variant:"success",className:"float-right ml-2",size:"sm",disabled:!c.can("registry_custom","edit"),onClick:function(){M(e,!0)},children:"Plug"}),Object(I.jsx)("span",{className:"clearfix"})]})]},a)}))}):Object(I.jsx)(rt.a,{variant:"secondary",className:"mt-4 mb-4",children:s("soajs:messages.empty")})]})}var wl=Nt.getService();function Cl(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ie.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})};function r(){return(r=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wl.deleteDB({env:t.item.env,name:t.item.name});case 3:ie.success(s("soajs:messages.deleteDB")),n(),c(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(I.jsxs)(ma.a,{show:t.show,onHide:c,animation:!1,children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:s("soajs:buttons.Delete")})}),Object(I.jsx)(ma.a.Body,{children:s("soajs:messages.deleteQuestion")}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:c,children:s("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"danger",onClick:function(){return r.apply(this,arguments)},children:s("soajs:buttons.Delete")})]})]})}var Nl=Nt.getService();function Sl(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=e.environment,r=e.clusters,i=Object(Ie.a)(["common","soajs"]).t,o=function(){return a({show:!1,opts:null})},l=Object(n.useState)({name:"",cluster:"",prefix:"",tenantSpecific:"false"}),d=Object(y.a)(l,2),j=d[0],u=d[1];function m(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),u(Object(N.a)(Object(N.a)({},j),{},Object(We.a)({},e.target.id,t)))}function b(){return(b=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={env:c.code,name:j.name,cluster:j.cluster,prefix:j.prefix,tenantSpecific:"true"===j.tenantSpecific},e.next=4,Nl.addDB(t);case 4:ie.success(i("soajs:messages.addDB")),s(),o(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(I.jsxs)(ma.a,{show:t.show,onHide:o,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:i("soajs:titles.addDB")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(G.a,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:i("soajs:fields.Name")}),Object(I.jsx)(G.a.Control,{id:"name",size:"sm",value:j.name,onChange:m})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:i("soajs:fields.Prefix")}),Object(I.jsx)(G.a.Control,{id:"prefix",size:"sm",value:j.prefix,onChange:m})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:i("soajs:fields.Multitenant")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"tenantSpecific",value:j.tenantSpecific,onChange:function(e){m(e)},children:[Object(I.jsx)("option",{value:"false",children:"False"}),Object(I.jsx)("option",{value:"true",children:"True"})]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:i("soajs:fields.Cluster")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"cluster",value:j.cluster,onChange:function(e){m(e)},children:[Object(I.jsx)("option",{value:"",children:"---"}),r.map((function(e,t){return Object(I.jsx)("option",{value:e.name,children:e.name},t)}))]})]})]})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:o,children:i("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return b.apply(this,arguments)},disabled:!(j.name.length>0&&j.cluster.length>0),children:i("soajs:buttons.Add")})]})]})}var Al={prefix:""},Tl=Nt.getService();function Pl(e){var t=e.registry,a=e.environment,s=e.clusters,c=e.reload,r=Object(Ie.a)(["common","soajs"]).t,i=P().ability,o=Object(n.useState)(Al),l=Object(y.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)({show:!1,item:null}),m=Object(y.a)(u,2),b=m[0],p=m[1],h=Object(n.useState)({show:!1,item:null}),O=Object(y.a)(h,2),x=O[0],f=O[1];function k(){return(k=Object(v.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={env:t.code,prefix:d.prefix},e.next=4,Tl.updateDBPrefix(a);case 4:ie.success(r("soajs:messages.updatePrefix")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&j(Object.assign({},Al,{prefix:t.dbs.config.prefix||""})),function(){return e=!1}}),[t]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Cl,{modalOpt:b,setModalOpt:p,handleAction:c}),Object(I.jsx)(Sl,{modalOpt:x,setModalOpt:f,handleAction:c,clusters:s,environment:a}),Object(I.jsxs)(ot.a,{className:"mb-3",children:[Object(I.jsxs)(ot.a.Header,{children:[r("soajs:titles.GlobalPrefix"),":"]}),Object(I.jsx)(ot.a.Body,{className:"mt-3 mb-3",children:Object(I.jsx)(G.a,{children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:9,md:10,children:Object(I.jsx)(G.a.Control,{className:"float-left",id:"prefix",size:"sm",value:d.prefix,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=d;U(a,e.target.id,t),j(Object(N.a)({},a))}})}),Object(I.jsx)(dt.a,{xs:3,md:2,children:i.can("registry_db","prefix")&&Object(I.jsx)(z.a,{className:"float-right",variant:"success",onClick:function(){return k.apply(this,arguments)},disabled:!(d.prefix.length>=0),children:r("soajs:buttons.Update")})})]})})}),Object(I.jsx)(ot.a.Footer,{children:Object(I.jsx)("small",{className:"text-muted",children:r("soajs:messages.GlobalPrefix")})})]}),Object(I.jsxs)(ot.a,{children:[Object(I.jsxs)(ot.a.Header,{children:[r("soajs:titles.Databases"),i.can("registry_db","add")&&Object(I.jsx)(Wa,{className:"float-right ml-1",onClick:function(){var e;e={env:t.code},f({show:!0,item:e})}})]}),Object(I.jsx)(ot.a.Body,{className:"mt-3 mb-3",children:Object(I.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(I.jsx)("thead",{className:"text-light bg-dark",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:r("soajs:buttons.Actions")}),Object(I.jsx)("th",{children:r("soajs:fields.Name")}),Object(I.jsx)("th",{children:r("soajs:fields.Cluster")}),Object(I.jsx)("th",{children:r("soajs:fields.Multitenant")}),Object(I.jsx)("th",{children:r("soajs:fields.Prefix")})]})}),Object(I.jsx)("tbody",{children:t&&t.dbs&&t.dbs.databases&&Object.keys(t.dbs.databases).map((function(e,a){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:i.can("registry_db","delete")&&Object(I.jsx)(Ja,{className:"float-left mr-1",onClick:function(){var a;a={env:t.code,name:e},p({show:!0,item:a})}})}),Object(I.jsx)("td",{children:e}),Object(I.jsx)("td",{children:t.dbs.databases[e].cluster}),Object(I.jsx)("td",{children:""+t.dbs.databases[e].tenantSpecific}),Object(I.jsx)("td",{children:t.dbs.databases[e].prefix})]},a)}))})]})})]})]})}function Il(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})},i=Object(n.useState)({name:"",type:0,window:0,limit:0,retries:0,delay:0}),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),"number"!==e.target.type&&"type"!==e.target.id||(t=parseInt(t)),d(Object(N.a)(Object(N.a)({},l),{},Object(We.a)({},e.target.id,t)))}return Object(I.jsxs)(ma.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.addThrottling")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(G.a,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Name")}),Object(I.jsx)(G.a.Control,{id:"name",size:"sm",value:l.name,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Type")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"type",type:"number",value:l.type,onChange:j,children:[Object(I.jsx)("option",{value:"0",children:"Per Tenant"}),Object(I.jsx)("option",{value:"1",children:"Per Tenant & Per IP Address"})]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Window")}),Object(I.jsx)(G.a.Control,{id:"window",size:"sm",type:"number",min:"1",value:l.window,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Limit")}),Object(I.jsx)(G.a.Control,{id:"limit",size:"sm",type:"number",min:"1",value:l.limit,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Retries")}),Object(I.jsx)(G.a.Control,{id:"retries",size:"sm",type:"number",min:"1",value:l.retries,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Delay")}),Object(I.jsx)(G.a.Control,{id:"delay",size:"sm",type:"number",min:"1",value:l.delay,onChange:j})]})]})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:r,children:c("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){s(l),r()},disabled:!(l.name.length>0&&(0===l.type||1===l.type)&&l.window>0&&l.limit>0&&l.retries>0&&l.delay>0),children:c("soajs:buttons.Add")})]})]})}var Ll=Nt.getService();function Ml(e){var t=e.environment,a=P().ability,s=Object(Ie.a)(["common","soajs"]).t,c=Object(n.useState)({}),r=Object(y.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)({show:!1,item:null}),d=Object(y.a)(l,2),j=d[0],u=d[1];function m(){return b.apply(this,arguments)}function b(){return(b=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ll.updateThrottling(t.code,i);case 3:ie.success(s("soajs:messages.updateThrottling")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),ie.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function p(){return(p=Object(v.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i[a.name]={type:a.type,window:a.window,limit:a.limit,retries:a.retries,delay:a.delay},o(Object(N.a)({},i)),e.prev=2,e.next=5,Ll.updateThrottling(t.code,i);case 5:ie.success(s("soajs:messages.addThrottling")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function h(){return(h=Object(v.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete i[a],i.publicAPIStrategy===a&&(i.publicAPIStrategy=""),i.privateAPIStrategy===a&&(i.privateAPIStrategy=""),o(Object(N.a)({},i)),e.prev=4,e.next=7,Ll.updateThrottling(t.code,i);case 7:ie.success(s("soajs:messages.deleteThrottling")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}function O(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),o(Object(N.a)(Object(N.a)({},i),{},Object(We.a)({},e.target.id,t)))}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Ll.getThrottlingRegistry(t.code);case 3:n=a.sent,e&&n&&o(n),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),ie.error(a.t0.message);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))).apply(this,arguments)}return t&&function(){a.apply(this,arguments)}(),function(){return e=!1}}),[t]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Il,{modalOpt:j,setModalOpt:u,handleAction:function(e){return p.apply(this,arguments)}}),Object(I.jsxs)(xt.a,{children:[Object(I.jsxs)(ot.a,{className:"small",children:[Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)(ot.a.Title,{children:s("soajs:titles.ThrottlingPublic")}),Object(I.jsxs)(ot.a.Text,{className:"mt-4",children:[s("soajs.title.throttlingStrategy"),":",Object(I.jsxs)(G.a.Control,{className:"mt-2",as:"select",id:"publicAPIStrategy",value:i.publicAPIStrategy,onChange:O,children:[Object(I.jsx)("option",{value:"",children:"---"}),Object.keys(i).map((function(e,t){return"publicAPIStrategy"!==e&&"privateAPIStrategy"!==e&&Object(I.jsx)("option",{value:e,children:e},t)}))]}),a.can("registry","throttling")&&Object(I.jsx)(z.a,{variant:"success",className:"float-right mt-3",onClick:m,children:s("soajs:buttons.Update")})]})]}),Object(I.jsxs)(ot.a.Footer,{className:"small text-muted",children:["Select the default throttling strategy you would like to apply to all APIs deployed in this environment that are not protected by oAuth ",Object(I.jsx)("a",{href:"https://soajsorg.atlassian.net/wiki/spaces/SOAJ/pages/679641089/API+Traffic+Throttling",children:"Learn More"})]})]}),Object(I.jsxs)(ot.a,{className:"small",children:[Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)(ot.a.Title,{children:s("soajs:titles.ThrottlingPrivate")}),Object(I.jsxs)(ot.a.Text,{className:"mt-4",children:[s("soajs.title.throttlingStrategy"),":",Object(I.jsxs)(G.a.Control,{className:"mt-2",as:"select",id:"privateAPIStrategy",value:i.privateAPIStrategy,onChange:O,children:[Object(I.jsx)("option",{value:"",children:"---"}),Object.keys(i).map((function(e,t){return"publicAPIStrategy"!==e&&"privateAPIStrategy"!==e&&Object(I.jsx)("option",{value:e,children:e},t)}))]}),a.can("registry","throttling")&&Object(I.jsx)(z.a,{variant:"success",className:"float-right mt-3",onClick:m,children:s("soajs:buttons.Update")})]})]}),Object(I.jsxs)(ot.a.Footer,{className:"small text-muted",children:["Select the default throttling strategy you would like to apply to all APIs deployed in this environment that are protected by oAuth and require the access token of a logged in user. ",Object(I.jsx)("a",{href:"https://soajsorg.atlassian.net/wiki/spaces/SOAJ/pages/679641089/API+Traffic+Throttling",children:"Learn More"})]})]})]}),Object(I.jsx)("hr",{className:"mb-4 mt-4"}),Object(I.jsxs)(rt.a,{variant:"info",className:"text-muted small mt-3",children:["If you are not familiar with how API Traffic Throttling works, ",Object(I.jsx)("a",{href:"https://soajsorg.atlassian.net/wiki/spaces/SOAJ/pages/679641089/API+Traffic+Throttling",children:"Click Here"})]}),Object(I.jsx)("hr",{className:"mb-4 mt-4"}),Object(I.jsx)("h5",{className:"float-left",children:s("soajs:titles.ManageThrottling")}),a.can("registry","throttling")&&Object(I.jsx)(Wa,{className:"float-right mr-1",onClick:function(){u({show:!0,item:{}})}}),Object(I.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",className:"mt-3",children:[Object(I.jsx)("thead",{className:"text-light bg-dark",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:s("soajs:buttons.Actions")}),Object(I.jsx)("th",{children:s("soajs:fields.Name")}),Object(I.jsx)("th",{children:s("soajs:fields.Type")}),Object(I.jsxs)("th",{className:"text-center",children:[s("soajs:fields.Window")," [ms]"]}),Object(I.jsx)("th",{className:"text-center",children:s("soajs:fields.Limit")}),Object(I.jsx)("th",{className:"text-center",children:s("soajs:fields.Retries")}),Object(I.jsxs)("th",{className:"text-center",children:[s("soajs:fields.Delay")," [ms]"]})]})}),Object(I.jsx)("tbody",{children:Object.keys(i).map((function(e,t){return"publicAPIStrategy"!==e&&"privateAPIStrategy"!==e&&Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:a.can("registry","throttling")&&Object(I.jsx)(Ja,{className:"float-left mr-1",onClick:function(){(function(e){return h.apply(this,arguments)})(e).catch()}})}),Object(I.jsx)("td",{children:e}),Object(I.jsx)("td",{children:0===i[e].type?"Per Tenant":"Per Tenant & Per IP Address"}),Object(I.jsx)("td",{className:"text-center",children:i[e].window}),Object(I.jsx)("td",{className:"text-center",children:i[e].limit}),Object(I.jsx)("td",{className:"text-center",children:i[e].retries}),Object(I.jsx)("td",{className:"text-center",children:i[e].delay})]},t)}))})]})]})}function zl(e){var t=Object.assign({},e),a=Object(Ie.a)(["common","soajs"]).t;return Object(I.jsx)(Ka.a,{placement:"top",overlay:Object(I.jsx)(Ba.a,{id:"tooltip-top}",children:a("soajs:buttons.Close")}),children:Object(I.jsx)(z.a,Object(N.a)(Object(N.a)({variant:"danger",size:"sm"},t),{},{children:Object(I.jsx)(C.b,{})}))})}var El=Nt.getService();function _l(e,t,a){return Gl.apply(this,arguments)}function Gl(){return(Gl=Object(v.a)(g.a.mark((function e(t,a,n){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=6;break}return e.next=4,El.getRegistry(t.code);case 4:(s=e.sent)&&n&&a(s);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Dl(e){var t=e.environment,a=e.environments,s=e.clusters,c=e.reloadClusters,r=Object(Ie.a)(["common","soajs"]).t,i=P().ability,o=Object(n.useState)(null),l=Object(y.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)(!1),m=Object(y.a)(u,2),b=m[0],p=m[1],h=Object(n.useState)({env:"",domain:"",sitePrefix:"",apiPrefix:"",port:0,protocol:"https",description:"",services:{controller:{authorization:!1,requestTimeout:60,requestTimeoutRenewal:5},config:{awareness:{cacheTTL:36e5,healthCheckInterval:5e3,autoRelaodRegistry:864e5,maxLogCount:5,autoRegisterService:!0},logger:{},ports:{controller:4e3,maintenanceInc:1e3,randomInc:100},oauth:{debug:!1,getUserFromToken:!1,accessTokenLifetime:7200,refreshTokenLifetime:1209600},cors:{credentials:!0,enabled:!0,headers:"key,soajsauth,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,__env,access_token",maxage:1728e3,methods:"GET,HEAD,PUT,PATCH,POST,DELETE",origin:"*"}}}}),O=Object(y.a)(h,2),x=O[0],f=O[1];function k(){return w.apply(this,arguments)}function w(){return(w=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_l(t,j,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,El.updateRegistry(x);case 3:return e.next=5,k();case 5:p(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return _l(t,j,e).catch(),function(){return e=!1}}),[t]),t&&d&&Object(I.jsxs)(Ma.a,{className:"mb-3",defaultActiveKey:"default",id:"config",children:[Object(I.jsxs)(za.a,{eventKey:"default",title:r("soajs:titles.DefaultRegistry"),children:[Object(I.jsx)(rt.a,{variant:"secondary",className:"mt-4",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{className:"font-weight-bold",children:d.code}),Object(I.jsxs)(dt.a,{xs:4,md:3,children:[!b&&i.can("registry","edit")&&Object(I.jsx)(en,{className:"float-right",onClick:function(){var e={env:d.code,domain:d.domain||x.domain,sitePrefix:d.sitePrefix||x.sitePrefix,apiPrefix:d.apiPrefix||x.apiPrefix,port:d.port||x.port,protocol:d.protocol||x.protocol,description:d.description||x.description,services:{controller:{authorization:d.services.controller.authorization||x.services.controller.authorization,requestTimeout:d.services.controller.requestTimeout||x.services.controller.requestTimeout,requestTimeoutRenewal:d.services.controller.requestTimeoutRenewal||x.services.controller.requestTimeoutRenewal},config:{awareness:{cacheTTL:d.services.config.awareness.cacheTTL||x.services.config.awareness.cacheTTL,healthCheckInterval:d.services.config.awareness.healthCheckInterval||x.services.config.awareness.healthCheckInterval,autoRelaodRegistry:d.services.config.awareness.autoRelaodRegistry||x.services.config.awareness.autoRelaodRegistry,maxLogCount:d.services.config.awareness.maxLogCount||x.services.config.awareness.maxLogCount,autoRegisterService:d.services.config.awareness.autoRegisterService||x.services.config.awareness.autoRegisterService},logger:d.services.config.logger||x.services.config.logger,ports:{controller:d.services.config.ports.controller||x.services.config.ports.controller,maintenanceInc:d.services.config.ports.maintenanceInc||x.services.config.ports.maintenanceInc,randomInc:d.services.config.ports.randomInc||x.services.config.ports.randomInc},oauth:{debug:d.services.config.oauth.debug||x.services.config.oauth.debug,getUserFromToken:d.services.config.oauth.getUserFromToken||x.services.config.oauth.getUserFromToken,accessTokenLifetime:d.services.config.oauth.accessTokenLifetime||x.services.config.oauth.accessTokenLifetime,refreshTokenLifetime:d.services.config.oauth.refreshTokenLifetime||x.services.config.oauth.refreshTokenLifetime},cors:{credentials:d.services.config.cors.credentials||x.services.config.cors.credentials,enabled:d.services.config.cors.enabled||x.services.config.cors.enabled,headers:d.services.config.cors.headers||x.services.config.cors.headers,maxage:d.services.config.cors.maxage||x.services.config.cors.maxage,methods:d.services.config.cors.methods||x.services.config.cors.methods,origin:d.services.config.cors.origin||x.services.config.cors.origin}}}};f(e),p(!0)}}),b&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(zl,{className:"float-right ml-3",onClick:function(){p(!1)}}),Object(I.jsx)(z.a,{size:"sm",className:"float-right ml-3",variant:"success",onClick:function(){return C.apply(this,arguments)},children:"Save"})]})]})]})}),!b&&Object(I.jsx)(Uo,{registry:d}),b&&Object(I.jsx)(Fo,{registry:d,fields:x,setFields:f})]}),Object(I.jsx)(za.a,{eventKey:"awareness",title:r("soajs:titles.Awareness"),children:Object(I.jsx)(Ko,{registry:d})}),Object(I.jsx)(za.a,{eventKey:"throttling",title:r("soajs:titles.Throttling"),children:Object(I.jsx)(Ml,{environment:t})}),Object(I.jsx)(za.a,{eventKey:"databases",title:r("soajs:titles.Databases"),children:Object(I.jsx)(Pl,{environment:t,registry:d,clusters:s,reload:k})}),Object(I.jsx)(za.a,{eventKey:"custom",title:r("soajs:titles.CustomRegistry"),children:Object(I.jsx)(kl,{environment:t,environments:a})}),Object(I.jsx)(za.a,{eventKey:"resource",title:r("soajs:titles.ResourceConfiguration"),children:Object(I.jsx)(rl,{environment:t,environments:a,reloadClusters:c})})]})}var Rl=At.getService(),Ul=Nt.getService();function Fl(){var e=P().ability,t=Object(Ie.a)(["common","soajs"]).t,a=Object(n.useState)(!1),s=Object(y.a)(a,2),c=s[0],r=s[1],i=Object(n.useState)({code:"",type:"manual",description:"",ip:"127.0.0.1",port:"10000",cluster:null,namespace:""}),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)([]),u=Object(y.a)(j,2),m=u[0],b=u[1],p=Object(k.k)();function h(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),d(Object(N.a)(Object(N.a)({},l),{},Object(We.a)({},e.target.id,t)))}function O(){return(O=Object(v.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r(!0),e.prev=2,a={code:l.code,description:l.description,settings:{type:l.type}},"manual"===l.type&&(a.settings.port=parseInt(l.port)),"kubernetes"===l.type&&(a.settings.namespace=l.namespace,a.settings.id=m[l.cluster]._id),e.next=8,Ul.addEnvironment(a);case 8:p.push("/environments/manage/"+l.code.toUpperCase()+"/settings"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),ie.error(e.t0.message);case 14:r(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Rl.getInfraAccounts();case 3:(a=t.sent)&&e&&b(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ie.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h5",{children:"Add an environment"}),Object(I.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(I.jsx)(ot.a.Body,{children:Object(I.jsxs)(G.a,{onSubmit:function(e){return O.apply(this,arguments)},children:[Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{children:"Environment Type"}),Object(I.jsxs)(G.a.Control,{as:"select",id:"type",defaultValue:l.type,onChange:h,children:[Object(I.jsx)("option",{value:"manual",children:"Manual deployment"}),Object(I.jsx)("option",{value:"kubernetes",children:"Containerized development"})]})]}),Object(I.jsxs)(rt.a,{variant:"info",className:"small mt-3 mb-3",children:["manual"===l.type&&Object(I.jsx)(I.Fragment,{children:"Manual: Build, manage, operate and test APIs on a local machine with complete awareness and interconnect mesh among microservices"}),"kubernetes"===l.type&&Object(I.jsx)(I.Fragment,{children:"Container: Build, manage, operate and test APIs on a containerized cluster as infrastructure enabling kubernetes deployment & orchestration."})]}),Object(I.jsx)("hr",{}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{children:t("soajs:fields.Code")}),Object(I.jsx)(G.a.Control,{id:"code",value:l.code,onChange:h})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{children:t("soajs:fields.Description")}),Object(I.jsx)(G.a.Control,{id:"description",as:"textarea",rows:3,value:l.description,onChange:h})]}),Object(I.jsx)("hr",{}),"manual"===l.type&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{children:"Machine IP Address"}),Object(I.jsx)(G.a.Control,{id:"ip",value:l.ip,disabled:!0})]}),Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{children:"Gateway port"}),Object(I.jsx)(G.a.Control,{id:"port",type:"number",value:l.port,onChange:h})]})]}),"kubernetes"===l.type&&Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{children:"Select a kubernetes cluster"}),Object(I.jsxs)(G.a.Control,{as:"select",id:"cluster",defaultValue:l.cluster,onChange:h,children:[Object(I.jsx)("option",{value:null,children:"--- Select an infrastructure ---"}),m.map((function(e,t){return Object(I.jsx)("option",{value:t,children:e.label},t)}))]})]}),"kubernetes"===l.type&&null!==l.cluster&&Object(I.jsx)(rt.a,{variant:"info",className:"small mt-3 mb-3",children:Object(I.jsxs)(zn.a,{variant:"flush",children:[Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[t("soajs:fields.MasterNode"),":"]})," ",m[l.cluster].configuration.url]}),Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[t("soajs:fields.Port"),":"]})," ",m[l.cluster].configuration.port]}),m[l.cluster].deployments&&m[l.cluster].deployments.length>0&&Object(I.jsxs)(En.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[t("soajs:fields.Environments"),":"]}),m[l.cluster].deployments.map((function(e,t){return Object(I.jsxs)("span",{children:["[ ",e.env," ]"]},t)}))]})]})}),"kubernetes"===l.type&&l.cluster&&Object(I.jsxs)(G.a.Row,{className:"mb-2",children:[Object(I.jsx)(G.a.Label,{children:t("soajs:fields.Namespace")}),Object(I.jsx)(G.a.Control,{id:"namespace",value:l.namespace,onChange:h})]}),Object(I.jsx)("hr",{className:"mt-4"}),e.can("env","add")&&Object(I.jsx)(_,{block:!0,size:"lg",type:"submit",isLoading:c,disabled:!function(){var e=l.code.length>0&&l.type.length>4&&l.description.length>0;return"manual"===l.type&&(e=e&&l.ip.length>0&&l.port>0),"kubernetes"===l.type&&(e=e&&l.cluster>=0&&l.namespace.length>0),e}(),children:t("soajs:buttons.Add")})]})})})]})}var Kl=Ct.getService();function Bl(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(I.jsx)("div",{className:"float-left",type:"button",onClick:s,children:t})}function Hl(e,t,a,n,s,c,r){return Jl.apply(this,arguments)}function Jl(){return(Jl=Object(v.a)(g.a.mark((function e(t,a,n,s,c,r,i){var o,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o={limit:15,start:15*(n-1),type:r,subType:i},s&&s.keywords&&""!==s.keywords&&(o.keywords=s.keywords),e.next=5,Kl.getItems(o);case 5:l=e.sent,c&&l.records&&(t(l.records),a({totalItems:l.count,maxSize:10,itemsPerPage:l.limit})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Vl(e){var t=e.type,a=e.subType,s=e.Children,c=e.Header,r=Object(Ie.a)(["common","soajs"]).t,i=Object(n.useState)([]),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)(0),u=Object(y.a)(j,2),m=u[0],b=u[1],p=Object(n.useState)(1),h=Object(y.a)(p,2),O=h[0],x=h[1],f=Object(n.useState)({keywords:""}),k=Object(y.a)(f,2),w=k[0],C=k[1],S=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),A=Object(y.a)(S,2),T=A[0],P=A[1];function L(e){return M.apply(this,arguments)}function M(){return(M=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),x(1),e.next=4,E(1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return _.apply(this,arguments)}function _(){return(_=Object(v.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hl(d,P,n||O,w,!0,t,a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&Hl(d,P,1,null,e,t,a).catch(),function(){return e=!1}}),[t,a]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(me.a,{className:"p-3 m-0",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{lg:3,children:[Object(I.jsx)("h5",{className:"font-weight-bold m-0",children:r("soajs:titles.env_cat_"+t)}),a&&Object(I.jsx)("span",{className:"text-muted small",children:a})]}),Object(I.jsx)(dt.a,{children:Object(I.jsx)(G.a,{onSubmit:L,children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:9,md:10,children:Object(I.jsx)(G.a.Control,{id:"keywords",size:"sm",autoFocus:!0,value:w.keywords,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),C(Object(N.a)(Object(N.a)({},w),{},Object(We.a)({},e.target.id,t)))}})}),Object(I.jsx)(dt.a,{xs:3,md:2,children:Object(I.jsxs)(z.a,{className:"float-right",variant:"dark",size:"sm",onClick:L,children:[Object(I.jsx)(vt.c,{})," ",r("soajs:buttons.Search")]})})]})})})]})}),Object(I.jsx)("hr",{}),Object(I.jsxs)(Ot.a,{activeKey:m,children:[l.map((function(e,t){return Object(I.jsxs)(ot.a,{children:[Object(I.jsxs)(ot.a.Header,{children:[Object(I.jsxs)(Bl,{as:ot.a.Header,eventKey:t+1,handleClick:function(){b(m===t+1?null:t+1)},children:[m===t+1?Object(I.jsx)(gt.b,{className:"mr-1"}):Object(I.jsx)(gt.a,{className:"mr-1"}),Object(I.jsx)("span",{className:"font-weight-bold mr-2",children:e.name}),e.configuration&&e.configuration.port?Object(I.jsxs)("span",{className:"mr-2 text-primary",children:["[",e.configuration.port,"]"]}):"",Object(I.jsx)("small",{children:e.configuration.group})]}),Object(I.jsx)("span",{className:"float-right",children:c&&Object(I.jsx)(c,{item:e})})]}),Object(I.jsx)(Ot.a.Collapse,{eventKey:t+1,children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)(me.a,{className:"p-3 bg-light small",children:e.description?e.description:"-"}),e.versions&&Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(Ma.a,{className:"mb-3",defaultActiveKey:"1",id:"repos",style:{borderBottom:"1px solid #dee2e6"},children:e.versions.map((function(a,n){return Object(I.jsxs)(za.a,{eventKey:n+1,title:r("soajs:catalogs.version")+" "+a.version,children:[Object(I.jsx)(me.a,{className:"p-3 bg-light",children:a.lastSync?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("small",{children:r("soajs:catalogs.lastSynchronized")}),Object(I.jsxs)("small",{className:"m-3",children:["from ",Object(I.jsx)("span",{className:"font-weight-bold",children:a.lastSync.branch})," @ ",Object(I.jsx)("span",{className:"font-italic",children:Date(a.lastSync.ts)})]}),Object(I.jsx)("hr",{}),Object(I.jsx)("small",{children:r("soajs:catalogs.availableBranches")}),Object(I.jsxs)("small",{className:"m-3",children:["[",a.branches?a.branches.join(", "):"","]"]})]}):"-"}),s&&Object(I.jsx)(s,{reloadItem:E,item:e,version:a,active:m===t+1,deactivate:function(){b(0)}})]},n)}))})})]})})]},t+1)})),0===l.length?Object(I.jsx)("span",{children:r("soajs:catalogs.zeroMsg")}):null]}),l.length>0?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:"float-right mt-3",children:Object(I.jsx)(Lt,{currentPage:O,totalItems:T.totalItems,itemsPerPage:T.itemsPerPage,maxSize:T.maxSize,onClick:function(e){x(e),E(e)}})}),Object(I.jsx)("div",{className:"clearfix"})]}):null]})}function Wl(e){var t=e.manualAwareness,a=e.item,n=!1;return t[a.name]&&t[a.name].healthy&&(n=!0),Object(I.jsx)(I.Fragment,{children:n&&Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("span",{className:"text-success",children:[Object(I.jsx)(C.a,{})," ",Object(I.jsx)("span",{className:"small",children:"Deployed"})]})})})}function ql(e){var t=e.modalOpt,a=e.setModalOpt,s=Object(Ie.a)(["common","soajs"]).t,c=Object(n.useState)(0),r=Object(y.a)(c,2),i=r[0],o=r[1],l=function(){return a({show:!1,data:[],mode:"view",title:""})};return t&&Object(I.jsxs)(ma.a,{show:t.show,onHide:l,animation:!1,size:"xl",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(I.jsx)(ma.a.Title,{children:t.title})}),Object(I.jsxs)(ma.a.Body,{children:[Object(I.jsx)(G.a.Control,{as:"select",id:"pod",defaultValue:i,onChange:function(e){o(e.target.value)},children:t.data.map((function(e,t){return Object(I.jsx)("option",{value:t,children:e.id},t)}))}),Object(I.jsx)("hr",{}),i>=0&&t&&t.data&&t.data[i]&&Object(I.jsx)(ue,{mode:t.mode||"view",modes:["view","preview"],json:t.data[i].response||{}})]}),Object(I.jsx)(ma.a.Footer,{className:"bg-light",children:Object(I.jsx)(z.a,{variant:"info",onClick:l,children:s("soajs:buttons.Ok")})})]})}var Yl=Ct.getService();function Xl(e){var t=e.version,a=e.env,s=e.itemName,c=e.itemType,r=Object(n.useState)({show:!1,data:[],mode:"preview",title:""}),i=Object(y.a)(r,2),o=i[0],l=i[1],d=function(e,t){return l({show:!0,data:e,mode:"view",title:t||""})};function j(e){return u.apply(this,arguments)}function u(){return(u=Object(v.a)(g.a.mark((function e(n){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yl.itemMaintenance({env:a,name:s,type:c,version:t.version,operation:n,port:{portType:t.maintenance.port.type,portValue:t.maintenance.port.value||null}});case 3:(r=e.sent)&&d(r,s),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ql,{modalOpt:o,setModalOpt:l}),t.maintenance&&Object(I.jsxs)(ja.a,{size:"sm",id:"dropdown-item-button",title:"Maintenance Operations",variant:"info",children:[t.maintenance&&t.maintenance.readiness&&Object(I.jsx)(ua.a.Item,{onClick:function(){j(t.maintenance.readiness).catch()},children:Object(I.jsx)("small",{children:"Heartbeat"})}),t.maintenance&&t.maintenance.commands&&t.maintenance.commands.map((function(e,t){return Object(I.jsx)(ua.a.Item,{onClick:function(){j(e.path).catch()},children:Object(I.jsx)("small",{children:e.label})},t)}))]})]})}function Ql(e){var t=e.manualAwareness,a=e.version,n=e.itemName,s=e.itemType,c=e.env;return Object(I.jsx)(I.Fragment,{children:t&&t.version===a.version&&t.healthy&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("hr",{}),Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{}),Object(I.jsx)(dt.a,{xs:"auto",children:Object(I.jsx)(Xl,{version:a,env:c,itemName:n,itemType:s})})]}),Object(I.jsx)("hr",{}),Object(I.jsx)(rt.a,{variant:"info p-1",children:t.host})]})})}function Zl(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ie.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})};return Object(I.jsxs)(ma.a,{show:t.show,onHide:c,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:s("soajs:buttons.Delete")})}),Object(I.jsxs)(ma.a.Body,{style:{wordBreak:"break-all"},children:[s("soajs:messages.deleteQuestion"),Object(I.jsx)("span",{className:"ml-3 font-weight-bold",children:t.item?t.item.title:""})]}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:c,children:s("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"danger",onClick:function(){n(t.item.what),c()},children:s("soajs:buttons.Delete")})]})]})}function $l(e){var t={};return e.src&&(e.src.tag&&(t.tag=e.src.tag),e.src.branch&&(t.branch=e.src.branch),e.src.commit&&(t.commit=e.src.commit)),e.recipe&&(e.recipe.image&&e.recipe.image.tag&&(t.imageTag=e.recipe.image.tag),e.recipe.image&&e.recipe.image.prefix&&(t.imagePrefix=e.recipe.image.prefix),e.recipe.image&&e.recipe.image.name&&(t.imageName=e.recipe.image.name)),t}function ed(e){var t={},a=e.spec.containers[0];return t.imageTag=a.image.substr(a.image.indexOf(":")+1,a.image.length),a.image.indexOf("/")?(t.imagePrefix=a.image.substr(0,a.image.indexOf("/")),t.imageName=a.image.substr(a.image.indexOf("/")+1,a.image.indexOf(":")-(a.image.indexOf("/")+1))):t.imageName=a.image.substr(0,a.image.indexOf(":")),a.env&&a.env.map((function(a,n){return"SOAJS_GIT_BRANCH"===a.name&&(e.metadata.labels["service.tag"]&&e.metadata.labels["service.tag"]===a.value?t.tag=a.value:t.branch=a.value),"SOAJS_GIT_COMMIT"===a.name&&(t.commit=a.value),!0})),t}function td(e,t){var a=null;return"Deployment"===t&&e.deployments&&e.deployments.items&&e.deployments.items[0]&&e.deployments.items[0].spec&&e.deployments.items[0].spec.template&&(a=e.deployments.items[0].spec.template),"DaemonSet"===t&&e.daemonsets&&e.daemonsets.items&&e.daemonsets.items[0]&&e.daemonsets.items[0].spec&&e.daemonsets.items[0].spec.template&&(a=e.daemonsets.items[0].spec.template),"CronJob"===t&&e.cronjobs&&e.cronjobs.items&&e.cronjobs.items[0]&&e.cronjobs.items[0].spec&&e.cronjobs.items[0].jobTemplate&&e.cronjobs.items[0].jobTemplate.spec&&e.cronjobs.items[0].jobTemplate.spec.template&&(a=e.cronjobs.items[0].jobTemplate.spec.template),a}var ad=Ct.getService(),nd=wt.getService();function sd(e,t){return cd.apply(this,arguments)}function cd(){return(cd=Object(v.a)(g.a.mark((function e(t,a){var n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={repo:t.item.itemSrc.repo,owner:t.item.itemSrc.owner,provider:t.item.itemSrc.provider,branch:a},e.prev=1,e.next=4,nd.getGitBranch(n);case 4:if(!(s=e.sent)||!s.commit){e.next=7;break}return e.abrupt("return",Promise.resolve(s.commit));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ie.error(e.t0.message);case 12:return e.abrupt("return",Promise.resolve(null));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function rd(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=Object(n.useState)({srcType:"",branch:"",commit:"",tag:"",imageTag:"",config:{},inspect:{}}),i=Object(y.a)(r,2),o=i[0],l=i[1],d=function(){return a({show:!1,item:null,title:""})};function j(){return(j=Object(v.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sd(t,o.branch);case 2:(a=e.sent)&&(o.commit=a,l(Object(N.a)({},o)));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=Object(v.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={name:t.item.name,type:t.item.type,env:t.item.env,version:t.item.version,branch:o.branch.length>0?o.branch:null,commit:o.commit.length>0?o.commit:null,tag:o.tag.length>0?o.tag:null,imageTag:o.imageTag.length>0?o.imageTag:null},e.next=4,ad.redeploy(a);case 4:ie.success(c("soajs:messages.redeploySuccess")),s(),d(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function m(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),"number"===e.target.type&&(t=parseInt(t)),U(o,e.target.id,t),l(Object(N.a)({},o))}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(n,s,c){var r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!s.branch&&!c.branch){a.next=5;break}return a.next=3,sd(t,s.branch||c.branch);case 3:r=a.sent,n.commit=r;case 5:e&&l(n);case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}if(t&&t.item){var n={};if(t.item.inspect){var s=td(t.item.inspect,t.item.kind);s&&(n=ed(s))}var c={};t.item.deployConfiguration&&(c=$l(t.item.deployConfiguration));var r={branch:n.branch||c.branch||"",commit:n.commit||c.commit||"",tag:n.tag||c.tag||"",imageTag:n.imageTag||c.imageTag||"",config:c,inspect:n,srcType:""};(n.branch||c.branch)&&(r.srcType="branch"),(n.tag||c.tag)&&(r.srcType="tag"),function(e,t,n){return a.apply(this,arguments)}(r,n,c).catch()}return function(){return e=!1}}),[t]),t&&Object(I.jsxs)(ma.a,{show:t.show,onHide:d,animation:!1,size:"xl",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(I.jsxs)(ma.a.Title,{children:["Redeploy: ",t.title]})}),Object(I.jsx)(ma.a.Body,{children:t.item&&Object(I.jsxs)(G.a,{children:["branch"===o.srcType&&Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Branch")}),Object(I.jsx)(G.a.Control,{as:"select",id:"branch",value:o.branch,onChange:m,children:t.item&&t.item.availableSrc&&t.item.availableSrc.branches&&t.item.availableSrc.branches.map((function(e,t){return Object(I.jsx)("option",{value:e,children:e},t)}))}),o.config.branch&&o.branch!==o.config.branch&&Object(I.jsxs)(G.a.Text,{className:"text-danger",children:["Mismatch with configuration: ",Object(I.jsx)("b",{children:o.config.branch})]}),o.inspect.branch&&o.branch!==o.inspect.branch&&Object(I.jsxs)(G.a.Text,{className:"text-danger",children:["Mismatch with deployment: ",Object(I.jsx)("b",{children:o.inspect.branch})]})]}),"branch"===o.srcType&&Object(I.jsxs)(G.a.Group,{children:[Object(I.jsxs)(G.a.Label,{children:[c("soajs:fields.Commit"),Object(I.jsx)(z.a,{className:"pt-0 pl-1 pr-1 ml-2",variant:"info",onClick:function(){return j.apply(this,arguments)},children:Object(I.jsx)(Va.b,{})})]}),Object(I.jsx)(G.a.Control,{id:"commit",size:"sm",value:o.commit,onChange:m}),o.config.commit&&o.commit!==o.config.commit&&Object(I.jsxs)(G.a.Text,{className:"text-danger",children:["Mismatch with configuration: ",Object(I.jsx)("b",{children:o.config.commit})]}),o.inspect.commit&&o.commit!==o.inspect.commit&&Object(I.jsxs)(G.a.Text,{className:"text-danger",children:["Mismatch with deployment: ",Object(I.jsx)("b",{children:o.inspect.commit})]})]}),"tag"===o.srcType&&Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Tag")}),Object(I.jsx)(G.a.Control,{as:"select",id:"tag",value:o.tag,onChange:m,children:t.item&&t.item.availableSrc&&t.item.availableSrc.tags&&t.item.availableSrc.tags.map((function(e,t){return Object(I.jsx)("option",{value:e,children:e},t)}))}),o.tag!==o.config.tag&&Object(I.jsxs)(G.a.Text,{className:"text-danger",children:["Mismatch with configuration: ",Object(I.jsx)("b",{children:o.config.tag})]}),o.tag!==o.inspect.tag&&Object(I.jsxs)(G.a.Text,{className:"text-danger",children:["Mismatch with deployment: ",Object(I.jsx)("b",{children:o.inspect.tag})]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.ImageTag")}),Object(I.jsx)(G.a.Control,{id:"imageTag",size:"sm",value:o.imageTag,onChange:m}),o.config.imageTag&&o.imageTag!==o.config.imageTag&&Object(I.jsxs)(G.a.Text,{className:"text-danger",children:["Mismatch with configuration: ",Object(I.jsx)("b",{children:o.config.imageTag})]}),o.inspect.imageTag&&o.imageTag!==o.inspect.imageTag&&Object(I.jsxs)(G.a.Text,{className:"text-danger",children:["Mismatch with deployment: ",Object(I.jsx)("b",{children:o.inspect.imageTag})]})]})]})}),Object(I.jsxs)(ma.a.Footer,{className:"bg-light",children:[t.item&&Object(I.jsx)(z.a,{disabled:!function(){var e=!0;return"branch"===o.srcType&&(e=o.branch.length>0&&o.commit.length>0),"tag"===o.srcType&&(e=o.tag.length>0),o.imageTag.length>0&&e}(),variant:"success",onClick:function(){return u.apply(this,arguments)},children:c("soajs:buttons.Redeploy")}),Object(I.jsx)(z.a,{variant:"info",onClick:d,children:c("soajs:buttons.Close")})]})]})}var id=Ct.getService(),od=wt.getService();function ld(e,t,a,n,s){return dd.apply(this,arguments)}function dd(){return(dd=Object(v.a)(g.a.mark((function e(t,a,n,s,c){var r,i,o,l,d,j,u,m,b,p;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},t.item.inspect&&(i=td(t.item.inspect,t.item.kind))&&(r=ed(i)),o={},t.item.deployConfiguration&&(o=$l(t.item.deployConfiguration)),!c||!a){e.next=34;break}if(!(l=md(a,n))){e.next=33;break}if(d="",j=r.commit||o.commit||"",e.prev=9,!t.item.itemSrc){e.next=25;break}if(!r.branch&&!o.branch){e.next=20;break}return u={repo:t.item.itemSrc.repo,owner:t.item.itemSrc.owner,provider:t.item.itemSrc.provider,branch:r.branch||o.branch},e.next=15,od.getGitBranch(u);case 15:(m=e.sent)&&m.commit&&(j=m.commit),m&&m.repo&&m.repo.id&&(d=m.repo.id),e.next=25;break;case 20:return b={name:t.item.itemSrc.repo,owner:[t.item.itemSrc.owner],provider:[t.item.itemSrc.provider],active:!0},e.next=23,od.getRepositories(b);case 23:(p=e.sent)&&p.repositories&&p.repositories.length>0&&(d=p.repositories[0]._id);case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(9),ie.error(e.t0.message);case 30:s((function(e){if((e=R.a.merge({},pd)).recipeId=a,e.image.name=l.recipe.deployOptions.image.name||o.imageName||r.imageName||"",e.image.tag=l.recipe.deployOptions.image.tag||o.imageTag||r.imageTag||"",e.image.prefix=l.recipe.deployOptions.image.prefix||o.imagePrefix||r.imagePrefix||"",e.binary=!!l.recipe.deployOptions.image.binary,e.binary||t.item.itemSrc||(e.warning="This item does not have a repository source and can only be deployed with recipes that do not require source. (binary only)"),e.binary||((r.branch||o.branch)&&(e.srcType="branch"),(r.tag||o.tag)&&(e.srcType="tag"),t.item.availableSrc&&(e.branchOrTag=[],t.item.availableSrc.branches&&e.branchOrTag.push("branch"),t.item.availableSrc.tags&&e.branchOrTag.push("tag"),""===e.srcType&&(e.srcType=e.branchOrTag[0])),e.repoId=d,e.branch=r.branch||o.branch||t.item.availableSrc&&t.item.availableSrc.branches&&t.item.availableSrc.branches[0]||"",e.commit=j,e.tag=r.tag||o.tag||t.item.availableSrc.tags||""),e.config=o,e.inspect=r,e.settings.mode=t.item.kind||e.settings.mode,e.readinessProbe=l.recipe.deployOptions.readinessProbe||e.readinessProbe,e.livenessProbe=l.recipe.deployOptions.livenessProbe||e.livenessProbe,t.item.deployConfiguration&&(t.item.deployConfiguration.cd&&t.item.deployConfiguration.cd.strategy&&(e.cd.strategy=t.item.deployConfiguration.cd.strategy),t.item.deployConfiguration.settings&&(e.settings.memory=t.item.deployConfiguration.settings.memory||e.settings.memory,e.settings.mode=t.item.deployConfiguration.settings.mode||e.settings.mode,e.settings.replicas=t.item.deployConfiguration.settings.replicas||e.settings.replicas,e.settings.concurrencyPolicy=t.item.deployConfiguration.settings.concurrencyPolicy||e.settings.concurrencyPolicy,e.settings.schedule=t.item.deployConfiguration.settings.schedule||e.settings.schedule,e.settings.restartPolicy=t.item.deployConfiguration.settings.restartPolicy||e.settings.restartPolicy),t.item.deployConfiguration.recipe&&(e.readinessProbe=t.item.deployConfiguration.recipe.readinessProbe||e.readinessProbe,e.livenessProbe=t.item.deployConfiguration.recipe.livenessProbe||e.livenessProbe)),l.recipe.deployOptions.ports){t.item.deployConfiguration&&t.item.deployConfiguration.recipe.ports&&t.item.deployConfiguration.recipe.ports.portType&&(e.ports.portType=t.item.deployConfiguration.recipe.ports.portType),e.ports.ports=[],e.showPortType=!1;for(var n=0;n<l.recipe.deployOptions.ports.length;n++){var s={name:l.recipe.deployOptions.ports[n].name,target:l.recipe.deployOptions.ports[n].target,isPublished:l.recipe.deployOptions.ports[n].isPublished,published:0};if(e.showPortType=e.showPortType||s.isPublished,t.item.deployConfiguration&&t.item.deployConfiguration.recipe.ports&&t.item.deployConfiguration.recipe.ports.values)for(var c=0;c<t.item.deployConfiguration.recipe.ports.values.length;c++)t.item.deployConfiguration.recipe.ports.values[c].name===s.name&&t.item.deployConfiguration.recipe.ports.values[c].published&&(s.published=t.item.deployConfiguration.recipe.ports.values[c].published);e.ports.ports.push(s)}}if(l.recipe.buildOptions.env){var i=Object.keys(l.recipe.buildOptions.env);e.env=l.recipe.buildOptions.env;for(var u=0;u<i.length;u++)"userInput"===l.recipe.buildOptions.env[i[u]].type&&t.item.deployConfiguration&&t.item.deployConfiguration.recipe&&t.item.deployConfiguration.recipe.env&&t.item.deployConfiguration.recipe.env.hasOwnProperty([i[u]])&&(e.env[i[u]].value=t.item.deployConfiguration.recipe.env[i[u]]),"secret"===l.recipe.buildOptions.env[i[u]].type&&t.item.deployConfiguration&&t.item.deployConfiguration.recipe&&t.item.deployConfiguration.recipe.env&&t.item.deployConfiguration.recipe.env.hasOwnProperty([i[u]])&&(e.env[i[u]].name=t.item.deployConfiguration.recipe.env[i[u]].name)}return Object(N.a)({},e)})),e.next=34;break;case 33:ie.error("The used recipe is not in the allowed recipe list or not available anymore.");case 34:case"end":return e.stop()}}),e,null,[[9,27]])})))).apply(this,arguments)}function jd(e,t,a,n){return ud.apply(this,arguments)}function ud(){return(ud=Object(v.a)(g.a.mark((function e(t,a,n,s){var c,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={limit:10,start:10*(t-1)},a&&a._keywords&&""!==a._keywords&&(c.keywords=a._keywords),e.next=5,id.getRecipes(c);case 5:r=e.sent,n({totalItems:r.count,maxSize:10,itemsPerPage:r.limit}),s(r.records),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function md(e,t){for(var a=0;a<t.length;a++)if(t[a]._id===e)return t[a];return null}function bd(e){return e.metadata&&e.metadata.labels&&e.metadata.labels["soajs.catalog.id"]||null}var pd={cd:{strategy:"notify"},settings:{memory:"0",mode:"Deployment",replicas:1,concurrencyPolicy:"Allow",schedule:"",restartPolicy:"OnFailure"},image:{name:"",prefix:"",tag:""},showPortType:!1,ports:{type:"kubernetes",portType:"NodePort",ports:[{name:"",target:0,published:0,isPublished:!1}]},env:null,readinessProbe:null,livenessProbe:null,binary:!1,srcType:"",recipeId:"",repoId:"",tag:"",branch:"",commit:"",config:{},inspect:{},branchOrTag:[],warning:null},hd=null,Od=null;function xd(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=P().ability,i=Object(n.useState)(pd),o=Object(y.a)(i,2),l=o[0],d=o[1],j=function(){return a({show:!1,item:null,title:""})},u=Object(n.useState)(1),m=Object(y.a)(u,2),b=m[0],p=m[1],h=Object(n.useState)([]),O=Object(y.a)(h,2),x=O[0],f=O[1],k=Object(n.useState)([]),w=Object(y.a)(k,2),C=w[0],S=w[1],A=Object(n.useState)(1),T=Object(y.a)(A,2),L=T[0],M=T[1],E=Object(n.useState)({_keywords:""}),_=Object(y.a)(E,2),D=_[0],F=_[1],K=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),B=Object(y.a)(K,2),H=B[0],J=B[1];function V(){return(V=Object(v.a)(g.a.mark((function e(){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={repo:t.item.itemSrc.repo,owner:t.item.itemSrc.owner,provider:t.item.itemSrc.provider,branch:l.branch},e.prev=1,e.next=4,od.getGitBranch(a);case 4:(n=e.sent)&&n.commit&&(l.commit=n.commit,n.repo&&n.repo.id&&(l.repoId=n.repo.id),d(Object(N.a)({},l))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function W(e){return q.apply(this,arguments)}function q(){return(q=Object(v.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.target.value,a.target.hasOwnProperty("checked")&&(n=a.target.checked),"number"===a.target.type&&(n=parseInt(n)),"recipeId"!==a.target.id){e.next=8;break}return e.next=6,ld(t,a.target.value,C,d,!0);case 6:e.next=10;break;case 8:U(l,a.target.id,n),d(Object(N.a)({},l));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){var t=e.target.value,a=e.target.id-1,n=parseInt(t);n||(n=0),l.ports.ports[a].published=n,d(Object(N.a)({},l))}function X(){return(X=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jd(t,D,J,f);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,jd(1,D,J,f);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(v.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S([a]),p(2),e.next=4,ld(t,a._id,[a],d,!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){var e={name:t.item.name,type:t.item.type},a={config:{env:t.item.env,version:t.item.version,cd:{strategy:l.cd.strategy},settings:{memory:l.settings.memory,mode:l.settings.mode,replicas:l.settings.replicas,concurrencyPolicy:l.settings.concurrencyPolicy,schedule:l.settings.schedule,restartPolicy:l.settings.restartPolicy},src:{id:l.repoId,from:{tag:l.tag,branch:l.branch,commit:l.commit}},recipe:{id:l.recipeId,image:{name:l.image.name,prefix:l.image.prefix,tag:l.image.tag},readinessProbe:hd||l.readinessProbe||null,livenessProbe:Od||l.livenessProbe||null}}};if(a.config.recipe.readinessProbe&&0!==Object.keys(a.config.recipe.readinessProbe).length||delete a.config.recipe.readinessProbe,a.config.recipe.livenessProbe&&0!==Object.keys(a.config.recipe.livenessProbe).length||delete a.config.recipe.livenessProbe,l.binary||!t.item.itemSrc?delete a.config.src:"branch"===l.srcType?delete a.config.src.from.tag:(delete a.config.src.from.branch,delete a.config.src.from.commit),"DaemonSet"===a.config.settings.mode&&(delete a.config.settings.replicas,delete a.config.settings.concurrencyPolicy,delete a.config.settings.schedule,delete a.config.settings.restartPolicy),"Deployment"===a.config.settings.mode&&(delete a.config.settings.concurrencyPolicy,delete a.config.settings.schedule,delete a.config.settings.restartPolicy),"CronJob"===a.config.settings.mode&&delete a.config.settings.replicas,l.env)for(var n=Object.keys(l.env),s=0;s<n.length;s++)"userInput"===l.env[n[s]].type&&(a.config.recipe.env||(a.config.recipe.env={}),a.config.recipe.env[n[s]]=l.env[n[s]].value||l.env[n[s]].default),"secret"===l.env[n[s]].type&&(a.config.recipe.env[n[s]]={name:l.env[n[s]].name||l.env[n[s]].secret,key:l.env[n[s]].key});if(l.ports.ports.length>0){a.config.recipe.ports={type:l.ports.type,portType:l.ports.portType,values:[]};for(var c=0;c<l.ports.ports.length;c++)if(l.ports.ports[c].isPublished){var r={name:l.ports.ports[c].name,target:l.ports.ports[c].target};"NodePort"===l.ports.portType&&(r.published=l.ports.ports[c].published),a.config.recipe.ports.values.push(r)}}return{data:a,params:e}}function ee(){return(ee=Object(v.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=$(),a=t.data,n=t.params,e.next=4,id.configure(n,a);case 4:ie.success(c("soajs:messages.saveConfigSuccess")),s(),j(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function te(){return(te=Object(v.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=$(),a=t.data,n=t.params,e.next=4,id.build(n,a);case 4:ie.success(c("soajs:messages.saveConfigDeploySuccess")),s(),j(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n,s,c,r,i,o;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t||!t.item){a.next=25;break}if(n=null,s=[],c=[],r=null,t.item.deployConfiguration&&t.item.deployConfiguration.recipe&&t.item.deployConfiguration.recipe.id&&(r=t.item.deployConfiguration.recipe.id,c.push(r),n=r),i=null,t.item.inspect&&(o=td(t.item.inspect,t.item.kind))&&(i=bd(o),c.push(i),n=i),t.item.itemSettings&&t.item.itemSettings.recipes&&Array.isArray(t.item.itemSettings.recipes)&&0!==t.item.itemSettings.recipes.length){a.next=11;break}return a.next=11,jd(1,{_keywords:""},J,f);case 11:if(t.item.itemSettings&&t.item.itemSettings.recipes&&Array.isArray(t.item.itemSettings.recipes)&&t.item.itemSettings.recipes.length>0&&(c=R.a.union(c,t.item.itemSettings.recipes)),!(c.length>0)){a.next=23;break}return a.prev=13,a.next=16,id.getRecipesByIds(c);case 16:(s=a.sent)&&Array.isArray(s)&&(n||(n=s[0]._id),e&&(S(s),p(2))),a.next=23;break;case 20:a.prev=20,a.t0=a.catch(13),ie.error(a.t0.message);case 23:return a.next=25,ld(t,n,s,d,e);case 25:case"end":return a.stop()}}),a,null,[[13,20]])})))).apply(this,arguments)}return function(){return a.apply(this,arguments)}().catch(),function(){return e=!1}}),[t]),t&&Object(I.jsxs)(ma.a,{show:t.show,onHide:j,animation:!1,size:"xl",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(I.jsxs)(ma.a.Title,{children:[t.item&&t.item.deployConfiguration?"reConfigure Deployment":"Configure Deployment",": ",t.title]})}),Object(I.jsxs)(ma.a.Body,{children:[1===b&&t.item&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(rt.a,{variant:"secondary",className:"p-3",children:Object(I.jsxs)(G.a.Row,{children:[Object(I.jsx)(G.a.Label,{column:"xs",xs:3,children:c("soajs:buttons.Search")}),Object(I.jsx)(dt.a,{xs:6,children:Object(I.jsx)(G.a.Control,{id:"_keywords",size:"sm",autoFocus:!0,value:D._keywords,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),F(Object(N.a)(Object(N.a)({},D),{},Object(We.a)({},e.target.id,t)))}})}),Object(I.jsx)(dt.a,{xs:3,children:Object(I.jsxs)(z.a,{className:"float-right",variant:"dark",size:"sm",onClick:function(e){return Q.apply(this,arguments)},children:[Object(I.jsx)(vt.c,{})," ",c("soajs:buttons.Search")]})})]})}),Object(I.jsx)("hr",{}),x.map((function(e,t){return Object(I.jsx)(ot.a,{className:"m-1 p-1",bg:"light",children:Object(I.jsxs)(ot.a.Body,{className:"p-2",children:[e.name," - ",Object(I.jsxs)("span",{className:"font-italic small text-danger",children:["[",e.type,"/",e.subtype,"]"]}),Object(I.jsxs)("span",{className:"float-right small",children:[Object(I.jsxs)(it.a,{variant:"dark",children:["V ",e.v]}),Object(I.jsx)(z.a,{className:"float-right ml-2",variant:"success",size:"sm",onClick:function(){(function(e){return Z.apply(this,arguments)})(e).catch()},children:c("soajs:buttons.Select")})]})]})},t)})),x.length>0&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:"float-right mt-3",children:Object(I.jsx)(Lt,{currentPage:L,totalItems:H.totalItems,itemsPerPage:H.itemsPerPage,maxSize:H.maxSize,onClick:function(e){M(e),function(e){return X.apply(this,arguments)}(e).catch()}})}),Object(I.jsx)("div",{className:"clearfix"})]})]}),2===b&&t.item&&Object(I.jsxs)(G.a,{children:[Object(I.jsx)(rt.a,{variant:"secondary",children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.SelectRecipe")}),!(t.item&&t.item.itemSettings&&t.item.itemSettings.recipes&&Array.isArray(t.item.itemSettings.recipes)&&t.item.itemSettings.recipes.length>0)&&Object(I.jsx)(z.a,{className:"pt-0 pl-1 pr-1 ml-2 float-right",variant:"warning",size:"sm",onClick:function(){p(1)},children:c("soajs:buttons.Change")}),Object(I.jsx)(G.a.Control,{as:"select",id:"recipeId",value:l.recipeId,onChange:W,children:C.map((function(e,t){return Object(I.jsx)("option",{value:e._id,children:e.name},t)}))})]})}),l.warning&&Object(I.jsx)(rt.a,{variant:"danger",className:"small",children:l.warning}),Object(I.jsxs)(ot.a,{border:"success",className:"mb-3",children:[Object(I.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:"Image Settings"}),Object(I.jsxs)(ot.a.Body,{className:"pb-0",children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Prefix")}),Object(I.jsx)(G.a.Control,{id:"image.prefix",size:"sm",value:l.image.prefix,onChange:W}),t.item&&t.item.deployConfiguration&&l.config.imagePrefix&&l.image.prefix!==l.config.imagePrefix&&Object(I.jsxs)(G.a.Text,{className:"text-danger",children:["Mismatch with configuration: ",Object(I.jsx)("b",{children:l.config.imagePrefix})]}),t.item&&t.item.deployed&&l.inspect.imagePrefix&&l.image.prefix!==l.inspect.imagePrefix&&Object(I.jsxs)(G.a.Text,{className:"text-danger",children:["Mismatch with deployment: ",Object(I.jsx)("b",{children:l.inspect.imagePrefix})]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Name")}),Object(I.jsx)(G.a.Control,{id:"image.name",size:"sm",value:l.image.name,onChange:W}),t.item&&t.item.deployConfiguration&&l.config.imageName&&l.image.name!==l.config.imageName&&Object(I.jsxs)(G.a.Text,{className:"text-danger",children:["Mismatch with configuration: ",Object(I.jsx)("b",{children:l.config.imageName})]}),t.item&&t.item.deployed&&l.inspect.imageName&&l.image.name!==l.inspect.imageName&&Object(I.jsxs)(G.a.Text,{className:"text-danger",children:["Mismatch with deployment: ",Object(I.jsx)("b",{children:l.inspect.imageName})]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.tag")}),Object(I.jsx)(G.a.Control,{id:"image.tag",size:"sm",value:l.image.tag,onChange:W}),t.item&&t.item.deployConfiguration&&l.config.imageTag&&l.image.tag!==l.config.imageTag&&Object(I.jsxs)(G.a.Text,{className:"text-danger",children:["Mismatch with configuration: ",Object(I.jsx)("b",{children:l.config.imageTag})]}),t.item&&t.item.deployed&&l.inspect.imageTag&&l.image.tag!==l.inspect.imageTag&&Object(I.jsxs)(G.a.Text,{className:"text-danger",children:["Mismatch with deployment: ",Object(I.jsx)("b",{children:l.inspect.imageTag})]})]})]})]}),!l.binary&&l.branchOrTag&&l.branchOrTag.length>0&&Object(I.jsxs)(ot.a,{border:"success",className:"mb-3",children:[Object(I.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:"Repository Settings"}),Object(I.jsxs)(ot.a.Body,{className:"pb-0",children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.BranchOrTag")}),Object(I.jsx)(G.a.Control,{as:"select",id:"srcType",value:l.srcType,onChange:W,children:l.branchOrTag.map((function(e,t){return Object(I.jsx)("option",{value:e,children:e},t)}))})]}),"branch"===l.srcType&&Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Branch")}),Object(I.jsx)(G.a.Control,{as:"select",id:"branch",value:l.branch,onChange:W,children:t.item&&t.item.availableSrc&&t.item.availableSrc.branches&&t.item.availableSrc.branches.map((function(e,t){return Object(I.jsx)("option",{value:e,children:e},t)}))}),t.item&&t.item.deployConfiguration&&l.config.branch&&l.branch!==l.config.branch&&Object(I.jsxs)(G.a.Text,{className:"text-danger",children:["Mismatch with configuration: ",Object(I.jsx)("b",{children:l.config.branch})]}),t.item&&t.item.deployed&&l.inspect.branch&&l.branch!==l.inspect.branch&&Object(I.jsxs)(G.a.Text,{className:"text-danger",children:["Mismatch with configuration: ",Object(I.jsx)("b",{children:l.inspect.branch})]})]}),"branch"===l.srcType&&Object(I.jsxs)(G.a.Group,{children:[Object(I.jsxs)(G.a.Label,{children:[c("soajs:fields.Commit"),Object(I.jsx)(z.a,{className:"pt-0 pl-1 pr-1 ml-2",variant:"info",onClick:function(){return V.apply(this,arguments)},children:Object(I.jsx)(Va.b,{})})]}),Object(I.jsx)(G.a.Control,{id:"commit",size:"sm",value:l.commit,onChange:W}),t.item&&t.item.deployConfiguration&&l.config.commit&&l.commit!==l.config.commit&&Object(I.jsxs)(G.a.Text,{className:"text-danger",children:["Mismatch with configuration: ",Object(I.jsx)("b",{children:l.config.commit})]}),t.item&&t.item.deployed&&l.inspect.commit&&l.commit!==l.inspect.commit&&Object(I.jsxs)(G.a.Text,{className:"text-danger",children:["Mismatch with deployment: ",Object(I.jsx)("b",{children:l.inspect.commit})]})]}),"tag"===l.srcType&&Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Tag")}),Object(I.jsx)(G.a.Control,{as:"select",id:"tag",value:l.tag,onChange:W,children:t.item&&t.item.availableSrc&&t.item.availableSrc.tags&&t.item.availableSrc.tags.map((function(e,t){return Object(I.jsx)("option",{value:e,children:e},t)}))}),t.item&&t.item.deployConfiguration&&l.config.tag&&l.tag!==l.config.tag&&Object(I.jsxs)(G.a.Text,{className:"text-danger",children:["Mismatch with configuration: ",Object(I.jsx)("b",{children:l.config.tag})]}),t.item&&t.item.deployed&&l.inspect.tag&&l.tag!==l.inspect.tag&&Object(I.jsxs)(G.a.Text,{className:"text-danger",children:["Mismatch with deployment: ",Object(I.jsx)("b",{children:l.inspect.tag})]})]})]})]}),Object(I.jsxs)(ot.a,{border:"primary",className:"mb-3",children:[Object(I.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:"Deployment Settings"}),Object(I.jsxs)(ot.a.Body,{className:"pb-0",children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.CDStrategy")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"cd.strategy",value:l.cd.strategy,onChange:W,children:[Object(I.jsx)("option",{value:"notify",children:"Notify"}),Object(I.jsx)("option",{value:"update",children:"Update"})]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Memory")}),Object(I.jsx)(G.a.Control,{id:"settings.memory",size:"sm",value:l.settings.memory,onChange:W}),Object(I.jsxs)(G.a.Text,{className:"text-muted",children:["Specify the Maximum memory limit that should be provided for this deployment. Example: You can set it to 1024Mi or 1Gi. ",Object(I.jsx)("a",{href:"https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#meaning-of-memory%22",children:"Click here"})," for more information. You can use 0 if you want the memory limits (minimum and maximum) to be elastic."]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.DeploymentType")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"settings.mode",value:l.settings.mode,onChange:W,children:[Object(I.jsx)("option",{value:"Deployment",children:"Deployment"}),Object(I.jsx)("option",{value:"DaemonSet",children:"DaemonSet"}),Object(I.jsx)("option",{value:"CronJob",children:"CronJob"})]})]}),Object(I.jsx)("hr",{}),"CronJob"===l.settings.mode&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Schedule")}),Object(I.jsx)(G.a.Control,{id:"settings.schedule",size:"sm",value:l.settings.schedule,onChange:W}),Object(I.jsxs)(G.a.Text,{className:"text-muted",children:["A CronJob takes a ",Object(I.jsx)("a",{href:"https://en.wikipedia.org/wiki/Cron",children:"Cron"})," format string, such as 0 * * * * or @hourly, as schedule time of its jobs to be created and executed."]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.ConcurrencyPolicy")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"settings.concurrencyPolicy",value:l.settings.concurrencyPolicy,onChange:W,children:[Object(I.jsx)("option",{value:"Allow",children:"Allow"}),Object(I.jsx)("option",{value:"Forbid",children:"Forbid"}),Object(I.jsx)("option",{value:"Replace",children:"Replace"})]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.RestartPolicy")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"settings.restartPolicy",value:l.settings.restartPolicy,onChange:W,children:[Object(I.jsx)("option",{value:"OnFailure",children:"OnFailure"}),Object(I.jsx)("option",{value:"Never",children:"Never"})]})]})]}),"Deployment"===l.settings.mode&&Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Replicas")}),Object(I.jsx)(G.a.Control,{id:"settings.replicas",size:"sm",type:"number",min:"1",value:l.settings.replicas,onChange:W})]})})]})]}),l.ports.ports&&l.ports.ports.length>0&&Object(I.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(I.jsxs)(ot.a,{border:"secondary",className:"mb-3",children:[Object(I.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:Object(I.jsx)(Ot.a.Toggle,{className:"p-0",as:z.a,variant:"link",eventKey:"1",children:"Ports"})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(I.jsxs)(ot.a.Body,{className:"pb-0 small",children:[l.showPortType&&Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.PortType")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"ports.portType",value:l.ports.portType,onChange:W,children:[Object(I.jsx)("option",{value:"LoadBalancer",children:"LoadBalancer"}),Object(I.jsx)("option",{value:"NodePort",children:"NodePort"}),Object(I.jsx)("option",{value:"Internal",children:"Internal"})]})]}),Object(I.jsx)("hr",{}),l.ports.ports.map((function(e,t){return Object(I.jsx)(rt.a,{className:"p-2",variant:e.isPublished?"info":"secondary",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{children:[e.name," ",Object(I.jsx)(it.a,{className:"ml-3 mr-3",variant:"secondary",children:e.target})]}),Object(I.jsx)(dt.a,{children:e.isPublished&&"NodePort"===l.ports.portType&&Object(I.jsx)(G.a.Control,{id:t+1,size:"sm",min:0,type:"number",value:e.published,onChange:Y})})]})},t)}))]})})]})}),l.env&&Object(I.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(I.jsxs)(ot.a,{border:"secondary",className:"mb-3",children:[Object(I.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:Object(I.jsx)(Ot.a.Toggle,{className:"p-0",as:z.a,variant:"link",eventKey:"1",children:"Environment Variables"})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(I.jsx)(ot.a.Body,{className:"pb-0 small",children:l.env&&Object.keys(l.env).map((function(e,t){return Object(I.jsxs)(rt.a,{className:"p-2",variant:"userInput"===l.env[e].type?"info":"secondary",children:[Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{children:[e," ",Object(I.jsx)(it.a,{className:"ml-3 mr-3",variant:"userInput"===l.env[e].type?"success":"computed"===l.env[e].type?"secondary":"info",children:l.env[e].type})]}),Object(I.jsx)(dt.a,{children:"userInput"!==l.env[e].type&&Object(I.jsx)(I.Fragment,{children:l.env[e].value})})]}),"userInput"===l.env[e].type&&Object(I.jsx)(lt.a,{className:"mt-2",children:Object(I.jsx)(dt.a,{children:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(G.a.Control,{id:"env."+e+".value",size:"sm",value:l.env[e].value||l.env[e].default,onChange:W}),Object(I.jsxs)(G.a.Text,{className:"text-muted",children:[Object(I.jsxs)("b",{children:[l.env[e].label,": "]}),l.env[e].fieldMsg]})]})})}),"secret"===l.env[e].type&&Object(I.jsxs)(lt.a,{className:"mt-2",children:[Object(I.jsx)(dt.a,{children:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(G.a.Control,{id:"env."+e+".secret",size:"sm",value:l.env[e].secret,onChange:W}),Object(I.jsx)(G.a.Text,{className:"text-muted",children:"Secret name"})]})}),Object(I.jsx)(dt.a,{children:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(G.a.Control,{id:"env."+e+".key",size:"sm",value:l.env[e].key,onChange:W}),Object(I.jsx)(G.a.Text,{className:"text-muted",children:"Secret label"})]})})]})]},t)}))})})]})}),Object(I.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(I.jsxs)(ot.a,{border:"warning",className:"mb-3",children:[Object(I.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:Object(I.jsx)(Ot.a.Toggle,{className:"p-0",as:z.a,variant:"link",eventKey:"1",children:"Readiness Information"})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(I.jsx)(ot.a.Body,{className:"pb-0",children:Object(I.jsxs)(lt.a,{style:{height:"250px"},children:[Object(I.jsx)(dt.a,{children:Object(I.jsx)(ue,{modes:["code","tree"],mode:"code",json:hd||l.readinessProbe||null,onChange:function(e){hd=e}})}),Object(I.jsx)(dt.a,{xs:4,className:"small",children:Object(I.jsxs)("div",{children:[Object(I.jsx)(rt.a,{variant:"dark",className:"m-0 pb-0 pt-1",children:Object(I.jsx)("h6",{children:"Example"})}),Object(I.jsx)(rt.a,{variant:"info",className:"m-0 pb-0 pt-1",children:Object(I.jsx)("pre",{className:"small, text-muted",children:JSON.stringify(rs.readinessProbe,null,2)})})]})})]})})})]})}),Object(I.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(I.jsxs)(ot.a,{border:"warning",className:"mb-3",children:[Object(I.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:Object(I.jsx)(Ot.a.Toggle,{className:"p-0",as:z.a,variant:"link",eventKey:"1",children:"Liveness Information"})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(I.jsx)(ot.a.Body,{className:"pb-0",children:Object(I.jsxs)(lt.a,{style:{height:"250px"},children:[Object(I.jsx)(dt.a,{children:Object(I.jsx)(ue,{mode:"code",modes:["code","tree"],json:Od||l.livenessProbe||null,onChange:function(e){Od=e}})}),Object(I.jsx)(dt.a,{xs:4,className:"small",children:Object(I.jsxs)("div",{children:[Object(I.jsx)(rt.a,{variant:"dark",className:"m-0 pb-0 pt-1",children:Object(I.jsx)("h6",{children:"Example"})}),Object(I.jsx)(rt.a,{variant:"info",className:"m-0 pb-0 pt-1",children:Object(I.jsx)("pre",{className:"small, text-muted",children:JSON.stringify(rs.livenessProbe,null,2)})})]})})]})})})]})})]})]}),Object(I.jsxs)(ma.a.Footer,{className:"bg-light",children:[2===b&&t.item&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(z.a,{variant:"success",onClick:function(){return ee.apply(this,arguments)},children:t.item&&t.item.deployConfiguration?c("soajs:buttons.Update"):c("soajs:buttons.Save")}),r.can("market_item","build")&&Object(I.jsxs)(z.a,{variant:"dark",onClick:function(){return te.apply(this,arguments)},children:[t.item&&t.item.deployConfiguration?c("soajs:buttons.Update"):c("soajs:buttons.Save")," & ",t.item&&t.item.deployed?c("soajs:buttons.reDeploy"):c("soajs:buttons.Deploy")]})]}),Object(I.jsx)(z.a,{variant:"info",onClick:j,children:c("soajs:buttons.Close")})]})]})}var fd=At.getService();function gd(e){var t=e.version,a=e.env,s=e.itemName,c=e.itemType,r=e.itemSettings,i=e.itemSrc,o=e.deployed,l=e.reload,d=e.name,j=e.kind,u=e.active,m=e.deployConfiguration,b=e.inspect,p=Object(Ie.a)(["common","soajs"]).t,h=P().ability,O=Object(n.useState)({show:!1,item:null}),x=Object(y.a)(O,2),f=x[0],k=x[1],w=function(e){return k({show:!0,item:e})},C=Object(n.useState)({show:!1,item:null,title:""}),N=Object(y.a)(C,2),S=N[0],A=N[1],T=Object(n.useState)({show:!1,item:null,title:""}),L=Object(y.a)(T,2),M=L[0],z=L[1],E=function(e){return z({show:!0,item:e,title:e.name})};function _(){return(_=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j||!d||"deploy"!==t){e.next=12;break}if(e.prev=1,!u){e.next=7;break}return e.next=5,fd.deleteItem(a,{name:d,mode:j});case 5:ie.success(p("soajs:messages.deleteItem")),l();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ie.error(e.t0.message);case 12:if(!j||!d||"deploy_keepservice"!==t){e.next=24;break}if(e.prev=13,!u){e.next=19;break}return e.next=17,fd.deleteItem(a,{name:d,mode:j,keepService:!0});case 17:ie.success(p("soajs:messages.deleteItem")),l();case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(13),ie.error(e.t1.message);case 24:case 25:case"end":return e.stop()}}),e,null,[[1,9],[13,21]])})))).apply(this,arguments)}function G(){return(G=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j||!d){e.next=11;break}if(e.prev=1,!u){e.next=6;break}return e.next=5,fd.restart(a,{name:d,mode:j});case 5:ie.success(p("soajs:messages.restartItem"));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Zl,{modalOpt:f,setModalOpt:k,handleAction:function(e){return _.apply(this,arguments)}}),Object(I.jsx)(rd,{modalOpt:S,setModalOpt:A,handleAction:l}),Object(I.jsx)(xd,{modalOpt:M,setModalOpt:z,handleAction:l}),Object(I.jsxs)(ja.a,{size:"sm",id:"dropdown-item-button",title:"Service Operations",variant:"secondary",className:"float-left small",children:[o&&Object(I.jsxs)(I.Fragment,{children:[h.can("market_item","configure")&&Object(I.jsx)(ua.a.Item,{onClick:function(){E({deployed:o,itemSettings:r,name:s,type:c,itemSrc:i,availableSrc:{branches:t.branches||null,tags:t.tags||null},deployConfiguration:m||null,version:t.version,env:a,inspect:b||null,kind:j})},children:Object(I.jsx)("small",{children:"Configure"})}),h.can("market_item","redeploy")&&Object(I.jsx)(ua.a.Item,{onClick:function(){var e;e={name:s,type:c,itemSrc:i,availableSrc:{branches:t.branches||null,tags:t.tags||null},deployConfiguration:m||null,version:t.version,env:a,inspect:b||null,kind:j},A({show:!0,item:e,title:e.name})},children:Object(I.jsx)("small",{children:"Redeploy"})}),h.can("infra_item","restart")&&Object(I.jsx)(ua.a.Item,{onClick:function(){(function(){return G.apply(this,arguments)})().catch()},children:Object(I.jsx)("small",{children:"Restart"})}),Object(I.jsx)(ua.a.Divider,{className:"m-0"}),Object(I.jsx)(ua.a.Item,{onClick:function(){l()},children:Object(I.jsx)("small",{children:"Refresh"})}),Object(I.jsx)(ua.a.Divider,{className:"m-0"}),h.can("infra_item","delete")&&Object(I.jsx)(ua.a.Item,{onClick:function(){w({title:s+" v"+t.version,what:"deploy_keepservice"})},children:Object(I.jsx)("small",{children:"Delete Deployment - without service"})}),h.can("infra_item","delete")&&Object(I.jsx)(ua.a.Item,{onClick:function(){w({title:s+" v"+t.version,what:"deploy"})},children:Object(I.jsx)("small",{children:"Delete Deployment - everything"})})]}),!o&&Object(I.jsxs)(I.Fragment,{children:[h.can("market_item","configure")&&Object(I.jsx)(ua.a.Item,{onClick:function(){E({deployed:o,itemSettings:r,name:s,type:c,itemSrc:i,availableSrc:{branches:t.branches||null,tags:t.tags||null},deployConfiguration:m||null,version:t.version,env:a,inspect:b||null,kind:j})},children:Object(I.jsx)("small",{children:"Configure"})}),Object(I.jsx)(ua.a.Divider,{className:"m-0"}),Object(I.jsx)(ua.a.Item,{onClick:function(){l()},children:Object(I.jsx)("small",{children:"Refresh"})})]})]})]})}var vd=At.getService();function yd(){return(yd=Object(v.a)(g.a.mark((function e(t,a,n,s,c,r,i,o,l){var d;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!c){e.next=6;break}return e.next=4,vd.inspect(t,{name:a,version:r.version});case 4:d=e.sent,l&&d&&(n(d),d.cronjobs&&d.cronjobs.items&&d.cronjobs.items.length>0?(i("CronJob"),o(d.cronjobs.items[0].metadata.name),s(!0)):d.daemonsets&&d.daemonsets.items&&d.daemonsets.items.length>0?(i("DaemonSet"),o(d.daemonsets.items[0].metadata.name),s(!0)):d.deployments&&d.deployments.items&&d.deployments.items.length>0&&(i("Deployment"),o(d.deployments.items[0].metadata.name),s(!0)));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function kd(e){var t=e.reloadItem,a=e.version,s=e.itemName,c=e.itemType,r=e.itemSettings,i=e.itemSrc,o=e.env,l=e.active,d=e.deactivate,j=e.deployConfiguration,u=Object(n.useState)(null),m=Object(y.a)(u,2),b=m[0],p=m[1],h=Object(n.useState)({env:"",itemName:"",version:"",active:""}),O=Object(y.a)(h,2),x=(O[0],O[1]),f=Object(n.useState)(!1),k=Object(y.a)(f,2),w=k[0],C=k[1],N=Object(n.useState)(null),S=Object(y.a)(N,2),A=S[0],T=S[1],P=Object(n.useState)(null),L=Object(y.a)(P,2),M=L[0],z=L[1];function E(){return(E=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&x((function(t){return t.itemName===s?function(e,t,a,n,s,c,r,i,o){return yd.apply(this,arguments)}(o,s,p,C,l,a,T,z,e).catch():l&&d(),{env:o,itemName:s,version:a.version,active:l}})),function(){return e=!1}}),[o,s,a,l,d]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("hr",{}),Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{children:Object(I.jsx)(gd,{version:a,env:o,itemName:s,itemType:c,itemSettings:r,itemSrc:i,deployed:w,name:M,kind:A,reload:function(){return E.apply(this,arguments)},active:l,deployConfiguration:j,inspect:b})}),Object(I.jsx)(dt.a,{xs:"auto",children:b&&w&&Object(I.jsx)(Xl,{version:a,env:o,itemName:s,itemType:c})})]}),Object(I.jsx)("hr",{}),b&&b.services&&b.services.items&&b.services.items.length>0&&Object(I.jsx)(mo,{items:b.services.items}),b&&b.cronjobs&&b.cronjobs.items&&b.cronjobs.items.length>0&&Object(I.jsx)(no,{items:b.cronjobs.items}),b&&b.daemonsets&&b.daemonsets.items&&b.daemonsets.items.length>0&&Object(I.jsx)(ao,{items:b.daemonsets.items}),b&&b.deployments&&b.deployments.items&&b.deployments.items.length>0&&Object(I.jsx)(to,{items:b.deployments.items}),b&&b.hpas&&b.hpas.items&&b.hpas.items.length>0&&Object(I.jsx)(so,{items:b.hpas.items}),b&&b.pods&&b.pods.items&&b.pods.items.length>0&&Object(I.jsx)(eo,{items:b.pods.items,env:o})]})}var wd=At.getService();function Cd(e,t,a){if(e&&e[a])for(var n=0;n<e[a].length;n++)if(e[a][n].version===t)return e[a][n];return null}function Nd(e){var t=e.environment,a=Object(n.useState)({}),s=Object(y.a)(a,2),c=s[0],r=s[1];return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!t||!t.deployer||"manual"!==t.deployer.type){a.next=6;break}return a.next=4,wd.getManualAwareness(t.code.toLowerCase());case 4:n=a.sent,e&&r(n);case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),ie.error(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}return function(){return a.apply(this,arguments)}().catch(),function(){return e=!1}}),[t]),t&&Object(I.jsx)(Vl,{type:"service",subType:"soajs",Children:function(e){var a=e.version,n=e.item,s=e.active,r=e.deactivate,i=e.reloadItem;return Object(I.jsxs)(I.Fragment,{children:[t.deployer&&"manual"===t.deployer.type&&Object(I.jsx)(Ql,{manualAwareness:c[n.name],version:a,itemName:n.name,itemType:n.type,env:t.code.toLowerCase()}),t.deployer&&"container"===t.deployer.type&&Object(I.jsx)(kd,{reloadItem:i,version:a,itemName:n.name,itemType:n.type,itemSettings:n.settings||null,itemSrc:n.src||null,env:t.code.toLowerCase(),active:s,deactivate:r,deployConfiguration:Cd(n.deploy,a.version,t.code.toLowerCase())})]})},Header:function(e){var a=e.item;return t.deployer&&"manual"===t.deployer.type&&Object(I.jsx)(Wl,{manualAwareness:c,item:a})}})}function Sd(e,t,a){if(e&&e[a])for(var n=0;n<e[a].length;n++)if(e[a][n].version===t)return e[a][n];return null}function Ad(e){var t=e.environment;return t&&Object(I.jsx)(I.Fragment,{children:t.deployer&&"container"===t.deployer.type?Object(I.jsx)(Vl,{type:"static",subType:"soajs",Children:function(e){var a=e.version,n=e.item,s=e.active,c=e.deactivate,r=e.reloadItem;return Object(I.jsx)(I.Fragment,{children:t.deployer&&"container"===t.deployer.type&&Object(I.jsx)(kd,{reloadItem:r,version:a,itemName:n.name,itemType:n.type,itemSettings:n.settings||null,itemSrc:n.src||null,env:t.code.toLowerCase(),active:s,deactivate:c,deployConfiguration:Sd(n.deploy,a.version,t.code.toLowerCase())})})}}):Object(I.jsxs)(rt.a,{variant:"info",className:"mt-4 mb-4",children:["This environment is of type ",Object(I.jsx)("span",{className:"text-success",children:"manual"}),", ",Object(I.jsx)("span",{className:"font-weight-bold",children:"SOAJS Frontend Catalog"})," is only available for environments of type ",Object(I.jsx)("span",{className:"text-info",children:"container"})]})})}var Td=At.getService();function Pd(e,t,a){if(e&&e[a])for(var n=0;n<e[a].length;n++)if(e[a][n].version===t)return e[a][n];return null}function Id(e){var t=e.environment,a=Object(n.useState)({}),s=Object(y.a)(a,2),c=s[0],r=s[1];return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!t||!t.deployer||"manual"!==t.deployer.type){a.next=6;break}return a.next=4,Td.getManualAwareness(t.code.toLowerCase());case 4:n=a.sent,e&&r(n);case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),ie.error(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}return function(){return a.apply(this,arguments)}().catch(),function(){return e=!1}}),[t]),t&&Object(I.jsx)(Vl,{type:"service",Children:function(e){var a=e.version,n=e.item,s=e.active,r=e.deactivate,i=e.reloadItem;return Object(I.jsxs)(I.Fragment,{children:[t.deployer&&"manual"===t.deployer.type&&Object(I.jsx)(Ql,{manualAwareness:c[n.name],version:a,itemName:n.name,itemType:n.type,env:t.code.toLowerCase()}),t.deployer&&"container"===t.deployer.type&&Object(I.jsx)(kd,{reloadItem:i,version:a,itemName:n.name,itemType:n.type,itemSettings:n.settings||null,itemSrc:n.src||null,env:t.code.toLowerCase(),active:s,deactivate:r,deployConfiguration:Pd(n.deploy,a.version,t.code.toLowerCase())})]})},Header:function(e){var a=e.item;return t.deployer&&"manual"===t.deployer.type&&Object(I.jsx)(Wl,{manualAwareness:c,item:a})}})}function Ld(e,t,a){if(e&&e[a])for(var n=0;n<e[a].length;n++)if(e[a][n].version===t)return e[a][n];return null}function Md(e){var t=e.environment;return t&&Object(I.jsx)(I.Fragment,{children:t.deployer&&"container"===t.deployer.type?Object(I.jsx)(Vl,{type:"daemon",Children:function(e){var a=e.version,n=e.item,s=e.active,c=e.deactivate,r=e.reloadItem;return Object(I.jsx)(I.Fragment,{children:t.deployer&&"container"===t.deployer.type&&Object(I.jsx)(kd,{reloadItem:r,version:a,itemName:n.name,itemType:n.type,itemSettings:n.settings||null,itemSrc:n.src||null,env:t.code.toLowerCase(),active:s,deactivate:c,deployConfiguration:Ld(n.deploy,a.version,t.code.toLowerCase())})})}}):Object(I.jsxs)(rt.a,{variant:"info",className:"mt-4 mb-4",children:["This environment is of type ",Object(I.jsx)("span",{className:"text-success",children:"manual"}),", ",Object(I.jsx)("span",{className:"font-weight-bold",children:"Daemon Catalog"})," is only available for environments of type ",Object(I.jsx)("span",{className:"text-info",children:"container"})]})})}function zd(e,t,a){if(e&&e[a])for(var n=0;n<e[a].length;n++)if(e[a][n].version===t)return e[a][n];return null}function Ed(e){var t=e.environment;return t&&Object(I.jsx)(I.Fragment,{children:t.deployer&&"container"===t.deployer.type?Object(I.jsx)(Vl,{type:"static",Children:function(e){var a=e.version,n=e.item,s=e.active,c=e.deactivate,r=e.reloadItem;return Object(I.jsx)(I.Fragment,{children:t.deployer&&"container"===t.deployer.type&&Object(I.jsx)(kd,{reloadItem:r,version:a,itemName:n.name,itemType:n.type,itemSettings:n.settings||null,itemSrc:n.src||null,env:t.code.toLowerCase(),active:s,deactivate:c,deployConfiguration:zd(n.deploy,a.version,t.code.toLowerCase())})})}}):Object(I.jsxs)(rt.a,{variant:"info",className:"mt-4 mb-4",children:["This environment is of type ",Object(I.jsx)("span",{className:"text-success",children:"manual"}),", ",Object(I.jsx)("span",{className:"font-weight-bold",children:"Frontend Catalog"})," is only available for environments of type ",Object(I.jsx)("span",{className:"text-info",children:"container"})]})})}function _d(e,t,a){if(e&&e[a])for(var n=0;n<e[a].length;n++)if(e[a][n].version===t)return e[a][n];return null}function Gd(e){var t=e.environment;return t&&Object(I.jsx)(I.Fragment,{children:t.deployer&&"container"===t.deployer.type?Object(I.jsx)(Vl,{type:"custom",Children:function(e){var a=e.version,n=e.item,s=e.active,c=e.deactivate,r=e.reloadItem;return Object(I.jsx)(I.Fragment,{children:t.deployer&&"container"===t.deployer.type&&Object(I.jsx)(kd,{reloadItem:r,version:a,itemName:n.name,itemType:n.type,itemSettings:n.settings||null,itemSrc:n.src||null,env:t.code.toLowerCase(),active:s,deactivate:c,deployConfiguration:_d(n.deploy,a.version,t.code.toLowerCase())})})}}):Object(I.jsxs)(rt.a,{variant:"info",className:"mt-4 mb-4",children:["This environment is of type ",Object(I.jsx)("span",{className:"text-success",children:"manual"}),", ",Object(I.jsx)("span",{className:"font-weight-bold",children:"Custom Catalog"})," is only available for environments of type ",Object(I.jsx)("span",{className:"text-info",children:"container"})]})})}function Dd(e,t,a){if(e&&e[a])for(var n=0;n<e[a].length;n++)if(e[a][n].version===t)return e[a][n];return null}function Rd(e){var t=e.environment;return t&&Object(I.jsx)(I.Fragment,{children:t.deployer&&"container"===t.deployer.type?Object(I.jsx)(Vl,{type:"resource",Children:function(e){var a=e.version,n=e.item,s=e.active,c=e.deactivate,r=e.reloadItem;return Object(I.jsx)(I.Fragment,{children:t.deployer&&"container"===t.deployer.type&&Object(I.jsx)(kd,{reloadItem:r,version:a,itemName:n.name,itemType:n.type,itemSettings:n.settings||null,itemSrc:n.src||null,env:t.code.toLowerCase(),active:s,deactivate:c,deployConfiguration:Dd(n.deploy,a.version,t.code.toLowerCase())})})}}):Object(I.jsxs)(rt.a,{variant:"info",className:"mt-4 mb-4",children:["This environment is of type ",Object(I.jsx)("span",{className:"text-success",children:"manual"}),", ",Object(I.jsx)("span",{className:"font-weight-bold",children:"Resource Catalog"})," is only available for environments of type ",Object(I.jsx)("span",{className:"text-info",children:"container"})]})})}function Ud(e){var t=e.environment,a=e.environments,n=e.clusters,s=e.reloadClusters,c=Object(Ie.a)(["common","soajs"]).t,r=Object(k.k)();return Object(I.jsxs)(k.g,{children:[Object(I.jsx)(L,{path:"/environments/add",children:Object(I.jsx)(Fl,{})}),Object(I.jsx)(L,{path:"/environments/manage/:env/settings",children:Object(I.jsx)(Ei,{environment:t})}),Object(I.jsx)(L,{path:"/environments/manage/:env/registry",children:Object(I.jsx)(Dl,{environment:t,environments:a,clusters:n,reloadClusters:s})}),Object(I.jsx)(L,{path:"/environments/manage/:env/cluster",children:Object(I.jsx)(Ro,{environment:t})}),Object(I.jsx)(L,{path:"/environments/manage/:env/catalog/soajs/api",children:Object(I.jsx)(Nd,{environment:t})}),Object(I.jsx)(L,{path:"/environments/manage/:env/catalog/soajs/frontend",children:Object(I.jsx)(Ad,{environment:t})}),Object(I.jsx)(L,{path:"/environments/manage/:env/catalog/api",children:Object(I.jsx)(Id,{environment:t})}),Object(I.jsx)(L,{path:"/environments/manage/:env/catalog/daemon",children:Object(I.jsx)(Md,{environment:t})}),Object(I.jsx)(L,{path:"/environments/manage/:env/catalog/frontend",children:Object(I.jsx)(Ed,{environment:t})}),Object(I.jsx)(L,{path:"/environments/manage/:env/catalog/custom",children:Object(I.jsx)(Gd,{environment:t})}),Object(I.jsx)(L,{path:"/environments/manage/:env/catalog/resource",children:Object(I.jsx)(Rd,{environment:t})}),Object(I.jsxs)(k.d,{children:[a.length>0&&Object(I.jsx)("div",{children:Object(I.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(I.jsx)("thead",{className:"text-light bg-dark",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:c("soajs:fields.Code")}),Object(I.jsx)("th",{children:c("soajs:fields.Description")}),Object(I.jsx)("th",{className:"text-center",children:c("soajs:fields.Type")}),Object(I.jsx)("th",{})]})}),Object(I.jsx)("tbody",{children:a.map((function(e,t){return Object(I.jsxs)("tr",{className:"small",children:[Object(I.jsx)("td",{children:e.code}),Object(I.jsx)("td",{children:e.description}),Object(I.jsx)("td",{className:"text-center",children:Object(I.jsx)(it.a,{variant:"container"===e.deployer.type?"info":"primary",children:e.deployer.type})}),Object(I.jsx)("td",{className:"small",children:Object(I.jsxs)(z.a,{size:"sm",variant:"light",className:"small p-1 border-secondary",onClick:function(){r.push("/environments/manage/"+e.code+"/settings")},children:[Object(I.jsx)(pe.a,{className:"mr-2 text-success"}),"Manage"]})})]},t)}))})]})}),0===a.length&&Object(I.jsx)(rt.a,{variant:"info",children:"You do not have any environment, try to add one!"})]})]})}var Fd=function(e){var t=e.environments,a=e.setEnvironment,s=e.environment,c=P().ability,r=Object(Ie.a)(["common","soajs"]).t,i=Object(n.useState)(null),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)("settings"),u=Object(y.a)(j,2),m=u[0],b=u[1],p=Object(n.useState)("-- Select an environment --"),h=Object(y.a)(p,2),O=h[0],x=h[1],f=Object(k.k)(),w=Object(k.m)().env,C=Object(k.l)();return Object(n.useEffect)((function(){var e=!0;function n(){return(n=Object(v.a)(g.a.mark((function n(){var c,r;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(w&&t.length>0){if(!s||s.code!==w)for(c=0;c<t.length;c++)t[c].code===w&&a(Object(N.a)({},t[c]));e&&(x(w),d(w),r=C.pathname.substr(C.pathname.indexOf(w+"/")+w.length+1),b(r))}else x("-- Select an environment --"),d(null);case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return function(){return n.apply(this,arguments)}().catch(),function(){return e=!1}}),[w,s,t,a,C]),Object(I.jsxs)(Sa.a,{collapseOnSelect:!0,expand:"sm",className:"pt-0 pb-0",bg:"secondary",variant:"light",children:[Object(I.jsx)(Sa.a.Brand,{children:Object(I.jsxs)(ja.a,{size:"sm",id:"dropdown-item-button",title:O,variant:"light",className:"small",children:[t.map((function(e,t){return Object(I.jsx)(ua.a.Item,{as:"button",active:l===e.code,onClick:function(){f.push("/environments/manage/"+e.code+"/"+m)},children:Object(I.jsx)("small",{children:e.code})},t)})),Object(I.jsx)(ua.a.Divider,{}),c.can("env","add")&&Object(I.jsxs)(ua.a.Item,{className:"small",onClick:function(){f.push("/environments/add")},children:[Object(I.jsx)(Va.a,{})," Add an environment"]})]})}),w?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Sa.a.Toggle,{"aria-controls":"environment-navbar-nav"}),Object(I.jsx)(Sa.a.Collapse,{id:"environment-navbar-nav",className:"justify-content-end",children:Object(I.jsxs)(Aa.a,{activeKey:window.location.pathname,children:[Object(I.jsx)(Pa.LinkContainer,{to:"/environments/manage/"+w+"/settings",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:r("soajs:menu.settings")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/environments/manage/"+w+"/registry",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:r("soajs:menu.registry")})})}),Object(I.jsxs)(Ta.a,{className:"small",alignRight:!0,title:r("soajs:menu.cluster"),id:"collasible-nav1-dropdown",children:[Object(I.jsx)(Pa.LinkContainer,{to:"/environments/manage/"+w+"/cluster/workloads",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:r("soajs:menu.workloads")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/environments/manage/"+w+"/cluster/services",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:r("soajs:menu.services")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/environments/manage/"+w+"/cluster/configuration",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:r("soajs:menu.configuration")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/environments/manage/"+w+"/cluster/nodes",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:r("soajs:menu.nodes")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/environments/manage/"+w+"/cluster/storage",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:r("soajs:menu.storage")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/environments/manage/"+w+"/cluster/rbac",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:r("soajs:menu.RBAC")})})})]}),Object(I.jsxs)(Ta.a,{className:"small",alignRight:!0,title:r("soajs:menu.catalogs"),id:"collasible-nav2-dropdown",children:[Object(I.jsx)(Pa.LinkContainer,{to:"/environments/manage/"+w+"/catalog/api",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:r("soajs:menu.API")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/environments/manage/"+w+"/catalog/daemon",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:r("soajs:menu.Daemon")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/environments/manage/"+w+"/catalog/frontend",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:r("soajs:menu.Frontend")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/environments/manage/"+w+"/catalog/custom",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:r("soajs:menu.Custom")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/environments/manage/"+w+"/catalog/resource",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:r("soajs:menu.Resource")})})})]}),Object(I.jsxs)(Ta.a,{className:"small",alignRight:!0,title:r("soajs:menu.SOAJS"),id:"collasible-nav1-dropdown",children:[Object(I.jsx)(Pa.LinkContainer,{to:"/environments/manage/"+w+"/catalog/soajs/api",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:r("soajs:menu.API")})})}),Object(I.jsx)(Pa.LinkContainer,{to:"/environments/manage/"+w+"/catalog/soajs/frontend",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:r("soajs:menu.Frontend")})})})]})]})})]}):null]})},Kd=Nt.getService();function Bd(e,t,a){return Hd.apply(this,arguments)}function Hd(){return(Hd=Object(v.a)(g.a.mark((function e(t,a,n){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=6;break}return e.next=4,Kd.getResourceRegistry(t,"cluster");case 4:s=e.sent,n&&s&&a(s);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Jd(){var e=Object(n.useState)([]),t=Object(y.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(null),r=Object(y.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)([]),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(k.m)().env;function b(){return(b=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bd(m,u,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bd(m,u,e);case 3:return t.next=5,Kd.getEnvironments();case 5:(a=t.sent)&&e&&s(a),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),ie.error(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[m]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Fd,{environment:i,environments:a,setEnvironment:o}),Object(I.jsx)("div",{className:"bg-dark pt-1"}),Object(I.jsx)("div",{className:"main-area",children:Object(I.jsx)(pt.a,{className:"mt-3 mb-3",children:Object(I.jsx)(Ud,{environment:i,environments:a,clusters:j,reloadClusters:function(){return b.apply(this,arguments)}})})})]})}var Vd=a(287);function Wd(e){var t=Object.assign({},e),a=Object(Ie.a)(["common","soajs"]).t;return Object(I.jsx)(Ka.a,{placement:"top",overlay:Object(I.jsx)(Ba.a,{id:"tooltip-top}",children:a("soajs:buttons.Uninvite")}),children:Object(I.jsx)(z.a,Object(N.a)(Object(N.a)({variant:"danger",size:"sm"},t),{},{children:Object(I.jsx)(Ha.b,{})}))})}var qd=ke.getService();function Yd(e){var t=function(e){var t=e.user,a=e.tenantId,n=null;if(t.config&&t.config.allowedTenants&&t.config.allowedTenants.length>0)for(var s=0;s<t.config.allowedTenants.length;s++)if(t.config.allowedTenants[s].tenant&&t.config.allowedTenants[s].tenant.id===a){n=t.config.allowedTenants[s].groups?t.config.allowedTenants[s].groups:null;break}return n}({user:e.user,tenantId:e.tenantId});return Object(I.jsx)(I.Fragment,{children:t?t.join(", "):""})}function Xd(e,t,a,n,s,c,r,i){return Qd.apply(this,arguments)}function Qd(){return(Qd=Object(v.a)(g.a.mark((function e(t,a,n,s,c,r,i,o){var l,d,j;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l={limit:50,start:50*(r-1)},c&&c.keywords&&(l.keywords=c.keywords),e.next=5,qd.getUsersProxy(a,n,l,s);case 5:return d=e.sent,e.next=8,qd.getUsersCountProxy(a,n,l,s);case 8:j=e.sent,o&&i({totalItems:j,maxSize:10,itemsPerPage:l.limit}),d&&Array.isArray(d)?o&&t(d):o&&t([]),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),ie.error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function Zd(e){var t=e.extKey,a=e.tenantId,s=e.scope,c=e.env,r=Object(Ie.a)(["common","soajs"]).t,i=Object(n.useState)([]),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({keywords:""}),u=Object(y.a)(j,2),m=u[0],b=u[1],p=Object(n.useState)(1),h=Object(y.a)(p,2),O=h[0],x=h[1],f=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),k=Object(y.a)(f,2),w=k[0],C=k[1];function S(e){return A.apply(this,arguments)}function A(){return(A=Object(v.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!c){e.next=3;break}return e.next=3,Xd(d,t,s,c,m,a||O,C,!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),x(1),e.next=4,S(1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return t&&c&&Xd(d,t,s,c,null,1,C,e).catch(),function(){return e=!1}}),[t,s,c]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(rt.a,{variant:"light",children:[Object(I.jsx)("div",{className:"float-left",children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{children:Object(I.jsx)(G.a.Control,{id:"keywords",size:"sm",value:m.keywords,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),"number"===e.target.type&&(t=parseInt(t)),b(Object(N.a)(Object(N.a)({},m),{},Object(We.a)({},e.target.id,t)))}})}),Object(I.jsx)(dt.a,{children:Object(I.jsxs)(z.a,{className:"float-left",variant:"dark",size:"sm",onClick:function(e){return T.apply(this,arguments)},children:[Object(I.jsx)(vt.c,{})," ",r("soajs:buttons.Search")]})})]})}),Object(I.jsxs)(z.a,{className:"float-right ml-1",variant:"primary",size:"sm",onClick:S,children:[Object(I.jsx)(Vd.a,{})," ",r("soajs:buttons.Fetch")]}),"myTenancy"===s&&Object(I.jsxs)(z.a,{className:"float-right",variant:"success",size:"sm",disabled:!0,children:[Object(I.jsx)(Va.a,{})," ",r("soajs:buttons.Add")]}),"myTenancy"!==s&&Object(I.jsxs)(z.a,{className:"float-right",variant:"success",size:"sm",disabled:!0,children:[Object(I.jsx)(ai.a,{})," ",r("soajs:buttons.Invite")]}),Object(I.jsx)("div",{className:"clearfix"})]}),Object(I.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(I.jsx)("thead",{className:"text-light bg-dark",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:r("soajs:buttons.Actions")}),Object(I.jsx)("th",{children:r("soajs:fields.FirstName")}),Object(I.jsx)("th",{children:r("soajs:fields.LastName")}),Object(I.jsx)("th",{children:r("soajs:fields.Email")}),Object(I.jsx)("th",{children:r("soajs:fields.Groups")}),Object(I.jsx)("th",{children:r("soajs:fields.Username")}),Object(I.jsx)("th",{children:r("soajs:fields.Status")})]})}),Object(I.jsx)("tbody",{children:l&&l.map((function(e,t){return Object(I.jsxs)("tr",{children:[Object(I.jsxs)("td",{children:[Object(I.jsx)(en,{className:"mr-1 p-1",disabled:!0}),"myTenancy"===s&&Object(I.jsx)(Ja,{className:"mr-1 p-1",disabled:!0}),"myTenancy"!==s&&Object(I.jsx)(Wd,{className:"mr-1 p-1",disabled:!0})]}),Object(I.jsx)("td",{children:e.firstName}),Object(I.jsx)("td",{children:e.lastName}),Object(I.jsx)("td",{children:e.email}),Object(I.jsx)("td",{children:Object(I.jsx)(Yd,{user:e,tenantId:a})}),Object(I.jsx)("td",{children:e.username}),Object(I.jsx)("td",{children:e.status})]},t)}))})]}),Object(I.jsx)("div",{className:"float-right mt-3",children:Object(I.jsx)(Lt,{currentPage:O,totalItems:w.totalItems,itemsPerPage:w.itemsPerPage,maxSize:w.maxSize,onClick:function(e){x(e),S(e,null).catch()}})}),Object(I.jsx)("div",{className:"clearfix"})]})}var $d=ke.getService();function ej(e,t,a,n){return tj.apply(this,arguments)}function tj(){return(tj=Object(v.a)(g.a.mark((function e(t,a,n,s){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$d.getGroupsProxy(a,n);case 3:(c=e.sent)&&Array.isArray(c)?s&&t(c):s&&t([]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function aj(e){var t=e.extKey,a=e.env,s=Object(Ie.a)(["common","soajs"]).t,c=Object(n.useState)([]),r=Object(y.a)(c,2),i=r[0],o=r[1];function l(){return(l=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!a){e.next=3;break}return e.next=3,ej(o,t,a,!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return t&&a&&ej(o,t,a,e).catch(),function(){return e=!1}}),[t,a]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(rt.a,{variant:"light",children:[Object(I.jsxs)(z.a,{className:"float-right ml-1",variant:"primary",size:"sm",onClick:function(){return l.apply(this,arguments)},children:[Object(I.jsx)(Vd.a,{})," ",s("soajs:buttons.Fetch")]}),Object(I.jsxs)(z.a,{className:"float-right",variant:"success",size:"sm",disabled:!0,children:[Object(I.jsx)(Va.a,{})," ",s("soajs:buttons.Add")]}),Object(I.jsx)("div",{className:"clearfix"})]}),Object(I.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(I.jsx)("thead",{className:"text-light bg-dark",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:s("soajs:buttons.Actions")}),Object(I.jsx)("th",{children:s("soajs:fields.Code")}),Object(I.jsx)("th",{children:s("soajs:fields.Name")}),Object(I.jsx)("th",{children:s("soajs:fields.Description")})]})}),Object(I.jsx)("tbody",{children:i&&i.map((function(e,t){return Object(I.jsxs)("tr",{children:[Object(I.jsxs)("td",{children:[Object(I.jsx)(en,{className:"mr-1 p-1",disabled:!0}),Object(I.jsx)(Ja,{className:"mr-1 p-1",disabled:!0})]}),Object(I.jsx)("td",{children:e.code}),Object(I.jsx)("td",{children:e.name}),Object(I.jsx)("td",{children:e.description})]},t)}))})]})]})}var nj=St.getService(),sj=Nt.getService(),cj={keywords_mainTenant:"",keywords_subTenant:"",mainTenant:-1,subTenant:-1,mainTenantExtKey:"",subTenantExtKey:"",tenantType:"Product"};function rj(e,t){var a=[];return t&&e&&e.applications&&e.applications.length>0&&e.applications.forEach((function(e){e&&e.keys&&e.keys.length>0&&e.keys.forEach((function(n){n&&n.extKeys&&n.extKeys.length>0&&n.extKeys.forEach((function(n){!n||!n.extKey||n.env.toUpperCase()!==t.toUpperCase()&&null!==n.env&&n.env||a.push({v:n.extKey,l:e.product+" "+e.package+" "+(n.label?n.label:n.extKey.substring(0,10)+"..."+n.extKey.substring(n.extKey.length-10,n.extKey.length))})}))}))})),a}function ij(){var e=Object(Ie.a)(["common","soajs"]).t,t=Object(n.useState)([]),a=Object(y.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(null),i=Object(y.a)(r,2),o=i[0],l=i[1],d=Object(n.useState)("-- Select an environment --"),j=Object(y.a)(d,2),u=j[0],m=j[1],b=Object(n.useState)([]),p=Object(y.a)(b,2),h=p[0],O=p[1],x=Object(n.useState)([]),f=Object(y.a)(x,2),k=f[0],w=f[1],C=Object(n.useState)([]),S=Object(y.a)(C,2),A=S[0],T=S[1],P=Object(n.useState)([]),L=Object(y.a)(P,2),M=L[0],E=L[1],_=Object(n.useState)(cj),D=Object(y.a)(_,2),R=D[0],U=D[1];function F(){return K.apply(this,arguments)}function K(){return(K=Object(v.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={limit:50,start:0,type:"product"},R.keywords_mainTenant&&(t.keywords=R.keywords_mainTenant),e.next=5,nj.getTenants(t);case 5:(a=e.sent)&&(O(a.items),T([]),E([])),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function B(){return H.apply(this,arguments)}function H(){return(H=Object(v.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(R.mainTenant>=0)){e.next=9;break}return t={limit:50,start:0},R.keywords_mainTenant&&(t.keywords=R.keywords_subTenant),a=h[R.mainTenant].code,e.next=7,nj.getTenantSubTenants(a,t);case 7:(n=e.sent)&&(w(n.items),E([]));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),ie.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function J(){return(J=Object(v.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(t),m(t),a={keywords_mainTenant:R.keywords_mainTenant,keywords_subTenant:R.keywords_subTenant,mainTenant:cj.mainTenant,subTenant:cj.subTenant,mainTenantExtKey:cj.mainTenantExtKey,subTenantExtKey:cj.subTenantExtKey,tenantType:cj.tenantType},U(a),T([]),E([]),e.next=8,F();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return W.apply(this,arguments)}function W(){return(W=Object(v.a)(g.a.mark((function e(t){var a,n,s,c,r,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.value,n=t.target.id,t.target.hasOwnProperty("checked")&&(a=t.target.checked),"number"===t.target.type&&(a=parseInt(a)),"mainTenant"!==n){e.next=16;break}if(!(a>=0)){e.next=12;break}return s=rj(h[a],o),T(s),E([]),R.mainTenant=a,e.next=12,B();case 12:c={keywords_mainTenant:R.keywords_mainTenant,keywords_subTenant:R.keywords_subTenant,mainTenant:a,mainTenantExtKey:cj.mainTenantExtKey,subTenant:cj.subTenant,subTenantExtKey:cj.subTenantExtKey,tenantType:R.tenantType},U(Object(N.a)({},c)),e.next=17;break;case 16:"subTenant"===n?(a>=0&&(r=rj(k[a],o),E(r)),i={keywords_mainTenant:R.keywords_mainTenant,keywords_subTenant:R.keywords_subTenant,mainTenant:R.mainTenant,mainTenantExtKey:R.mainTenantExtKey,subTenant:a,subTenantExtKey:cj.subTenantExtKey,tenantType:R.tenantType},U(Object(N.a)({},i))):U(Object(N.a)(Object(N.a)({},R),{},Object(We.a)({},n,a)));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,F();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sj.getEnvironments();case 3:(a=t.sent)&&e&&c(a),e&&(l(null),m("-- Select an environment --"),U(cj),O([]),T([]),w([]),E([])),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),ie.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(rt.a,{variant:"info",className:"mt-4 mb-2 p-2 pl-3 pr-3",children:[Object(I.jsx)("h6",{className:"float-left mr-3 mt-2",children:"Environment:"}),Object(I.jsx)(ja.a,{size:"sm",id:"dropdown-item-button",title:u,variant:"light",className:"small",children:s.map((function(e,t){return e.code.toLowerCase()!==ve.consoleEnvironment&&Object(I.jsx)(ua.a.Item,{as:"button",active:o===e.code,onClick:function(){(function(e){return J.apply(this,arguments)})(e.code).catch()},children:Object(I.jsx)("small",{children:e.code})},t)}))}),Object(I.jsx)("span",{className:"clearfix"})]}),o&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(rt.a,{variant:"secondary",className:"mt-4 mb-2 p-2 pl-3 pr-3",children:[Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{md:4,children:Object(I.jsxs)(G.a.Control,{style:{fontSize:"80%"},as:"select",id:"mainTenant",value:R.mainTenant,onChange:V,children:[Object(I.jsx)("option",{value:-1,children:" ---"}),h.map((function(e,t){return Object(I.jsxs)("option",{value:t,children:[e.code," - ",e.name]},t)}))]})}),Object(I.jsx)(dt.a,{md:4,children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:6,md:7,children:Object(I.jsx)(G.a.Control,{style:{fontSize:"80%"},id:"keywords_mainTenant",size:"sm",value:R.keywords_mainTenant,onChange:V})}),Object(I.jsx)(dt.a,{xs:6,md:5,children:Object(I.jsxs)(z.a,{className:"float-left",variant:"info",size:"sm",onClick:q,children:[Object(I.jsx)(vt.c,{})," ",e("soajs:buttons.Filter")]})})]})}),Object(I.jsx)(dt.a,{md:4,children:Object(I.jsxs)(G.a.Control,{style:{fontSize:"80%"},as:"select",id:"mainTenantExtKey",value:R.mainTenantExtKey,onChange:V,children:[Object(I.jsx)("option",{value:"",children:" ---"}),A.map((function(e,t){return Object(I.jsx)("option",{value:e.v,children:e.l},t)}))]})})]}),Object(I.jsx)(lt.a,{children:Object(I.jsx)(dt.a,{children:Object(I.jsx)(G.a.Text,{className:"text-muted",children:"Only 50 tenant appears in this list, you can filter by name and code"})})}),""!==R.mainTenantExtKey&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("hr",{}),Object(I.jsxs)(G.a.Control,{as:"select",id:"tenantType",value:R.tenantType,onChange:V,children:[Object(I.jsx)("option",{value:"Product",children:"Main Tenant Users and Groups"}),Object(I.jsx)("option",{value:"Client",children:"Sub Tenant Users and Groups"})]}),"Client"===R.tenantType&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("hr",{}),Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{md:4,children:Object(I.jsxs)(G.a.Control,{style:{fontSize:"80%"},as:"select",id:"subTenant",value:R.subTenant,onChange:V,children:[Object(I.jsx)("option",{value:-1,children:" ---"}),k.map((function(e,t){return Object(I.jsxs)("option",{value:t,children:[e.code," - ",e.name]},t)}))]})}),Object(I.jsx)(dt.a,{md:4,children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:6,md:7,children:Object(I.jsx)(G.a.Control,{style:{fontSize:"80%"},id:"keywords_subTenant",size:"sm",value:R.keywords_subTenant,onChange:V})}),Object(I.jsx)(dt.a,{xs:6,md:5,children:Object(I.jsxs)(z.a,{className:"float-left",variant:"info",size:"sm",onClick:q,children:[Object(I.jsx)(vt.c,{})," ",e("soajs:buttons.Filter")]})})]})}),Object(I.jsx)(dt.a,{md:4,children:Object(I.jsxs)(G.a.Control,{style:{fontSize:"80%"},as:"select",id:"subTenantExtKey",value:R.subTenantExtKey,onChange:V,children:[Object(I.jsx)("option",{value:"",children:" ---"}),M.map((function(e,t){return Object(I.jsx)("option",{value:e.v,children:e.l},t)}))]})})]}),Object(I.jsx)(lt.a,{children:Object(I.jsx)(dt.a,{children:Object(I.jsx)(G.a.Text,{className:"text-muted",children:"Only 50 tenant appears in this list, you can filter by name and code"})})})]})]})]}),"Product"===R.tenantType&&""!==R.mainTenantExtKey&&Object(I.jsxs)(Ma.a,{className:"mt-4",children:[Object(I.jsx)(za.a,{eventKey:"Users",title:e("soajs:fields.Users"),children:Object(I.jsx)(Zd,{scope:"myTenancy",tenantId:h[R.mainTenant]._id,extKey:R.mainTenantExtKey,env:o})}),Object(I.jsx)(za.a,{eventKey:"InvitedUsers",title:e("soajs:fields.InvitedUsers"),children:Object(I.jsx)(Zd,{scope:"otherTenancyInvited",tenantId:h[R.mainTenant]._id,extKey:R.mainTenantExtKey,env:o})}),Object(I.jsx)(za.a,{eventKey:"Groups",title:e("soajs:fields.Groups"),children:Object(I.jsx)(aj,{extKey:R.mainTenantExtKey,env:o})})]}),"Client"===R.tenantType&&""!==R.subTenantExtKey&&Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(Ma.a,{className:"mt-4",children:[Object(I.jsx)(za.a,{eventKey:"InvitedUsers",title:e("soajs:fields.InvitedUsers"),children:Object(I.jsx)(Zd,{scope:null,tenantId:k[R.subTenant]._id,extKey:R.subTenantExtKey,env:o})}),Object(I.jsx)(za.a,{eventKey:"Groups",title:e("soajs:fields.Groups"),children:Object(I.jsx)(aj,{extKey:R.subTenantExtKey,env:o})})]})})]})]})}var oj=St.getService();function lj(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ie.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})};function r(){return(r=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"product"!==t.item.type){e.next=7;break}return e.next=4,oj.deleteProduct({id:t.item.id});case 4:ie.success(s("soajs:messages.delete_"+t.item.type)),n(),c();case 7:if("package"!==t.item.type){e.next=13;break}return e.next=10,oj.deletePackage({id:t.item.id,code:t.item.code});case 10:ie.success(s("soajs:messages.delete_"+t.item.type)),n(),c();case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),ie.error(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}return Object(I.jsxs)(ma.a,{show:t.show,onHide:c,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:s("soajs:buttons.Delete")})}),Object(I.jsxs)(ma.a.Body,{style:{wordBreak:"break-all"},children:[s("soajs:messages.deleteQuestion"),Object(I.jsxs)("span",{className:"ml-3 font-weight-bold",children:[t.item?t.item.type:"",": [",Object(I.jsx)("span",{className:"text-danger",children:t.item?t.item.name:""}),"]"]})]}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:c,children:s("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"danger",onClick:function(){return r.apply(this,arguments)},children:s("soajs:buttons.Delete")})]})]})}var dj=St.getService(),jj={name:"",description:"",code:""};function uj(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})},i=Object(n.useState)(jj),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=l;U(a,e.target.id,t),d(Object(N.a)({},a))}function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dj.addProduct(l);case 3:ie.success(c("soajs:messages.productAdd")),s(),r(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(I.jsxs)(ma.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.productAdd")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(G.a,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Code")}),Object(I.jsx)(G.a.Control,{placeholder:"5 alphanumeric characters only",id:"code",size:"sm",value:l.code,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Name")}),Object(I.jsx)(G.a.Control,{id:"name",size:"sm",value:l.name,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Description")}),Object(I.jsx)(G.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:l.description,onChange:j})]})]})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:r,children:c("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(l.name.length>0&&l.description.length>0&&5===l.code.length),children:c("soajs:buttons.Add")})]})]})}var mj=St.getService(),bj={id:"",name:"",description:"",code:""};function pj(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})},i=Object(n.useState)(bj),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=l;U(a,e.target.id,t),d(Object(N.a)({},a))}function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mj.updateProduct(l);case 3:ie.success(c("soajs:messages.productUpdate")),s(),r(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.item&&d(Object.assign({},bj,t.item)),function(){return e=!1}}),[t]),Object(I.jsxs)(ma.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.productUpdate")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(G.a,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Code")}),Object(I.jsx)(G.a.Control,{id:"code",size:"sm",value:l.code,disabled:!0})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Name")}),Object(I.jsx)(G.a.Control,{id:"name",size:"sm",value:l.name,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Description")}),Object(I.jsx)(G.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:l.description,onChange:j})]})]})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:r,children:c("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(l.name.length>0&&l.description.length>0),children:c("soajs:buttons.Update")})]})]})}var hj=St.getService(),Oj={id:"",name:"",description:"",code:"",_TTL:"168"};function xj(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})},i=Object(n.useState)(Oj),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=l;U(a,e.target.id,t),d(Object(N.a)({},a))}function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l.id=t.item.id,e.next=4,hj.addPackage(l);case 4:ie.success(c("soajs:messages.packageAdd")),s(),r(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(I.jsxs)(ma.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.packageAdd")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(G.a,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Code")}),Object(I.jsx)(G.a.Control,{placeholder:"5 alphanumeric characters only",id:"code",size:"sm",value:l.code,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Name")}),Object(I.jsx)(G.a.Control,{id:"name",size:"sm",value:l.name,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Description")}),Object(I.jsx)(G.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:l.description,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.TTL")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"_TTL",defaultValue:l._TTL,onChange:j,children:[Object(I.jsx)("option",{value:"6",children:"6 hours"}),Object(I.jsx)("option",{value:"12",children:"12 hours"}),Object(I.jsx)("option",{value:"24",children:"24 hours"}),Object(I.jsx)("option",{value:"48",children:"2 days"}),Object(I.jsx)("option",{value:"72",children:"3 days"}),Object(I.jsx)("option",{value:"96",children:"4 days"}),Object(I.jsx)("option",{value:"120",children:"5 days"}),Object(I.jsx)("option",{value:"144",children:"6 days"}),Object(I.jsx)("option",{value:"168",children:"7 days"})]})]})]})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:r,children:c("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(l.name.length>0&&l.description.length>0&&5===l.code.length),children:c("soajs:buttons.Add")})]})]})}var fj=St.getService(),gj={id:"",code:"",name:"",description:"",_TTL:"168"};function vj(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})},i=Object(n.useState)(gj),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=l;U(a,e.target.id,t),d(Object(N.a)({},a))}function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fj.updatePackage(l);case 3:ie.success(c("soajs:messages.packageUpdate")),s(),r(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.item&&d(Object.assign({},gj,t.item)),function(){return e=!1}}),[t]),Object(I.jsxs)(ma.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.packageUpdate")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(G.a,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Code")}),Object(I.jsx)(G.a.Control,{id:"code",size:"sm",value:l.code,disabled:!0})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Name")}),Object(I.jsx)(G.a.Control,{id:"name",size:"sm",value:l.name,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Description")}),Object(I.jsx)(G.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:l.description,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.TTL")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"_TTL",value:l._TTL,onChange:j,children:[Object(I.jsx)("option",{value:"6",children:"6 hours"}),Object(I.jsx)("option",{value:"12",children:"12 hours"}),Object(I.jsx)("option",{value:"24",children:"24 hours"}),Object(I.jsx)("option",{value:"48",children:"2 days"}),Object(I.jsx)("option",{value:"72",children:"3 days"}),Object(I.jsx)("option",{value:"96",children:"4 days"}),Object(I.jsx)("option",{value:"120",children:"5 days"}),Object(I.jsx)("option",{value:"144",children:"6 days"}),Object(I.jsx)("option",{value:"168",children:"7 days"})]})]})]})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:r,children:c("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(l.name.length>0&&l.description.length>0),children:c("soajs:buttons.Update")})]})]})}function yj(e,t){return kj.apply(this,arguments)}function kj(){return(kj=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wj.getProducts();case 3:n=e.sent,a&&n&&t(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var wj=St.getService();function Cj(){var e=P().ability,t=Object(Ie.a)(["common","soajs"]).t,a=Object(n.useState)([]),s=Object(y.a)(a,2),c=s[0],r=s[1],i=Object(k.k)(),o=Object(n.useState)({show:!1,item:null}),l=Object(y.a)(o,2),d=l[0],j=l[1],u=function(e){return j({show:!0,item:e})},m=Object(n.useState)({show:!1,item:null}),b=Object(y.a)(m,2),p=b[0],h=b[1],O=Object(n.useState)({show:!1,item:null}),x=Object(y.a)(O,2),f=x[0],w=x[1],C=Object(n.useState)({show:!1,item:null}),N=Object(y.a)(C,2),S=N[0],A=N[1],T=Object(n.useState)({show:!1,item:null}),L=Object(y.a)(T,2),M=L[0],E=L[1],_=Object(n.useState)({show:!1,opts:null,scope:null}),G=Object(y.a)(_,2),D=G[0],R=G[1];function U(){return F.apply(this,arguments)}function F(){return(F=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yj(r,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return yj(r,e).catch(),function(){return e=!1}}),[]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(lj,{modalOpt:d,setModalOpt:j,handleAction:U}),Object(I.jsx)(pj,{modalOpt:p,setModalOpt:h,handleAction:U}),Object(I.jsx)(uj,{modalOpt:f,setModalOpt:w,handleAction:U}),Object(I.jsx)(vj,{modalOpt:S,setModalOpt:A,handleAction:U}),Object(I.jsx)(xj,{modalOpt:M,setModalOpt:E,handleAction:U}),Object(I.jsx)(hc,{modalOpt:D,setModalOpt:R}),Object(I.jsxs)("div",{className:"mb-1",children:[Object(I.jsx)("h5",{className:"float-left font-weight-bold",children:"Available products"}),e.can("product","add")&&Object(I.jsxs)(z.a,{className:"float-right mb-1",variant:"success",size:"sm",onClick:function(){w({show:!0,item:{}})},children:[Object(I.jsx)(Va.a,{})," ",t("soajs:buttons.Add")]}),Object(I.jsx)("span",{className:"clearfix"})]}),c.map((function(a,n){return Object(I.jsx)(Ot.a,{className:"mb-2",defaultActiveKey:1,children:Object(I.jsxs)(ot.a,{children:[Object(I.jsxs)(ot.a.Header,{style:{backgroundColor:"#DEF1F7"},children:[Object(I.jsxs)(Ot.a.Toggle,{className:"p-0",as:z.a,variant:"link",eventKey:n+1,children:[Object(I.jsx)("span",{className:"font-weight-bold",children:a.name})," [",a.code,"]"]}),e.can("product","delete")&&Object(I.jsx)(Ja,{className:"float-right ml-1",onClick:function(){u({type:"product",id:a._id,name:a.name})}}),e.can("product","edit")&&Object(I.jsx)(en,{className:"float-right ml-1",onClick:function(){var e;e={id:a._id,code:a.code,name:a.name||"",description:a.description||""},h({show:!0,item:e})}})]}),Object(I.jsx)(Ot.a.Collapse,{eventKey:n+1,children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)("span",{className:"small",children:a.description}),Object(I.jsx)("hr",{className:"mt-4"}),Object(I.jsxs)("div",{className:"mb-1",children:[Object(I.jsx)("h6",{className:"float-left font-weight-bold",children:"Available packages"}),e.can("package","add")&&Object(I.jsxs)(z.a,{className:"float-right mb-1",variant:"success",size:"sm",onClick:function(){var e;e={id:a._id},E({show:!0,item:e})},children:[Object(I.jsx)(Va.a,{})," ",t("soajs:buttons.Add")]}),Object(I.jsx)("span",{className:"clearfix"})]}),Object(I.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",className:"small",children:[Object(I.jsx)("thead",{className:"text-light bg-dark",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:t("soajs:buttons.Actions")}),Object(I.jsx)("th",{children:t("soajs:fields.Code")}),Object(I.jsx)("th",{children:t("soajs:fields.Name")}),Object(I.jsx)("th",{children:t("soajs:fields.Description")})]})}),Object(I.jsx)("tbody",{children:a.packages.map((function(t,n){return Object(I.jsxs)("tr",{children:[Object(I.jsxs)("td",{nowrap:"true",children:[Object(I.jsx)(Nn,{className:"mr-1",onClick:function(){t.turnOffAbilityView=!0,function(e,t){R({show:!0,opts:e,scope:t})}(t,a.scope)}}),e.can("package","delete")&&Object(I.jsx)(Ja,{className:"mr-1",onClick:function(){u({type:"package",id:a._id,code:t.code,name:t.name})}}),e.can("package","edit")&&Object(I.jsx)(en,{className:"mr-1",onClick:function(){var e;e={id:a._id,code:t.code,name:t.name||"",description:t.description||"",_TTL:t._TTL?t._TTL/36e5:168},A({show:!0,item:e})}}),e.can("package","acl")&&Object(I.jsx)(Tc,{className:"mr-1",onClick:function(){i.push("/multitenancy/products/"+a._id+"/acl/"+t.code)}})]}),Object(I.jsx)("td",{children:t.code}),Object(I.jsx)("td",{nowrap:"true",children:t.name}),Object(I.jsx)("td",{children:t.description})]},n)}))})]})]})})]})},n+1)}))]})}var Nj=Nt.getService(),Sj=St.getService(),Aj=Tt.getService(),Tj={type:"service",includeSOAJS:!1,serviceName:"",serviceGroup:"",serviceVersion:"",route:""},Pj={get:"primary",post:"success",delete:"danger",put:"warning",patch:"info",head:"secondary",other:"light"};function Ij(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(I.jsx)("div",{className:"float-left",type:"button",onClick:s,children:t})}function Lj(e){return e&&Pj[e]?Pj[e]:Pj.other}function Mj(e){return e.hasOwnProperty("access")?e.access:"inherit"}function zj(e,t,a,n,s,c){return!!(e&&e.acl&&e.acl[t]&&e.acl[t][a]&&e.acl[t][a][n]&&e.acl[t][a][n][s]&&e.acl[t][a][n][s].apis&&e.acl[t][a][n][s].apis[c])}function Ej(e,t,a,n,s){return _j.apply(this,arguments)}function _j(){return(_j=Object(v.a)(g.a.mark((function e(t,a,n,s,c){var r,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={limit:6,start:6*(n-1),type:c.type,includeSOAJS:c.includeSOAJS,keywords:{serviceName:c.serviceName,serviceGroup:c.serviceGroup,serviceVersion:c.serviceVersion,route:c.route}},e.next=4,Aj.getApis(r);case 4:i=e.sent,s&&i&&i.records&&(t(i.records),a({totalItems:i.count,maxSize:10,itemsPerPage:i.limit})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Gj(){return(Gj=Object(v.a)(g.a.mark((function e(t,a,n,s,c,r,i){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(g.a.mark((function e(){var o,l,d,j;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sj.getProduct(c);case 2:return o=e.sent,e.next=5,Nj.getEnvironments();case 5:if((l=e.sent)&&i){for(d=[],j=0;j<l.length;j++)d.push(l[j].code.toLowerCase());n(d),s(d[0]||null)}i&&o&&(t(o),o.packages&&o.packages.length>0&&function(){var e=o.packages.filter((function(e){return e.code===r}));e&&function(){e=e[0];for(var t=Object.keys(e.acl),n={acl:{},code:e.code,name:e.name,aclTypeByEnv:e.aclTypeByEnv||{}},s=function(a){e.aclTypeByEnv&&e.aclTypeByEnv[t[a]]&&"granular"===e.aclTypeByEnv[t[a]]?n.acl[t[a]]=e.acl[t[a]]:o.scope&&Object.keys(e.acl[t[a]]).map((function(s,c){for(var r={},i=0;i<e.acl[t[a]][s].length;i++)if(e.acl[t[a]][s][i].version){var l=e.acl[t[a]][s][i].version;o.scope.acl[t[a]][s][l]&&(r[l]=cc(o.scope.acl[t[a]][s][l],e.acl[t[a]][s][i]))}return n.acl[t[a]]||(n.acl[t[a]]={}),n.acl[t[a]][s]=r,n.aclTypeByEnv[t[a]]="granular",!0}))},c=0;c<t.length;c++)s(c);a(n)}()}());case 8:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=7;break;case 4:e.prev=4,e.t1=e.catch(0),ie.error(e.t1.message);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function Dj(){var e=Object(Ie.a)(["common","soajs"]).t,t=Object(n.useState)(0),a=Object(y.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(null),i=Object(y.a)(r,2),o=i[0],l=i[1],d=Object(n.useState)({}),j=Object(y.a)(d,2),u=j[0],m=j[1],b=Object(n.useState)([]),p=Object(y.a)(b,2),h=p[0],O=p[1],x=Object(n.useState)(null),f=Object(y.a)(x,2),w=f[0],C=f[1],S=Object(n.useState)([]),A=Object(y.a)(S,2),T=A[0],P=A[1],L=Object(n.useState)(1),M=Object(y.a)(L,2),E=M[0],_=M[1],D=Object(n.useState)(Tj),R=Object(y.a)(D,2),U=R[0],F=R[1],K=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),B=Object(y.a)(K,2),H=B[0],J=B[1];function V(e){return W.apply(this,arguments)}function W(){return(W=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ej(P,J,t||E,!0,U);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),F(Object(N.a)(Object(N.a)({},U),{},Object(We.a)({},e.target.id,t)))}function Y(e){return X.apply(this,arguments)}function X(){return(X=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),_(1),e.next=4,V(1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=Object(k.m)().id,Z=Object(k.m)().code;function $(e,t,a,n){if("apisPermission"===e.target.id){var s=u;"restricted"===e.target.value?s.acl[t][a][n].apisPermission=e.target.value:delete s.acl[t][a][n].apisPermission,m(Object(N.a)({},s))}else if("access"===e.target.id){var c=u;c.acl[t][a][n].access=e.target.value,m(Object(N.a)({},c))}}function ee(){return(ee=Object(v.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Sj.updatePackageAcl({id:o._id,code:u.code,env:w,type:u.aclTypeByEnv[w],acl:u.acl[w]});case 3:ie.success(e("soajs:messages.updatePackageAcl")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),ie.error(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return Q&&function(e,t,a,n,s,c,r){return Gj.apply(this,arguments)}(l,m,O,C,Q,Z,e).catch(),Ej(P,J,1,e,Tj).catch(),function(){return e=!1}}),[Q,Z]),Q&&o&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(zn.a,{variant:"flush",children:[Object(I.jsx)(En.a,{children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:fields.ProductCode"),":"]})," ",o.code]}),Object(I.jsxs)(dt.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:fields.ProductName"),":"]})," ",o.name]})]})}),Object(I.jsx)(En.a,{children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:fields.PackageCode"),":"]})," ",u.code]}),Object(I.jsxs)(dt.a,{children:[Object(I.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:fields.PackageName"),":"]})," ",u.name]})]})})]}),Object(I.jsx)("hr",{}),Object(I.jsx)(rt.a,{variant:"info",children:Object(I.jsx)(G.a.Control,{as:"select",id:"env",value:w||"",onChange:function(e){C(e.target.value)},children:h.map((function(t,a){return Object(I.jsxs)("option",{value:t,children:[e("soajs:titles.environment"),": ",t]},a)}))})}),Object(I.jsx)("hr",{}),w&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(Ot.a,{activeKey:s,children:[Object(I.jsxs)(Ij,{eventKey:1,handleClick:function(){c(1===s?null:1)},children:[1===s?Object(I.jsx)(gt.b,{className:"mr-1"}):Object(I.jsx)(gt.a,{className:"mr-1"})," ",Object(I.jsx)("span",{className:"small font-weight-bold text-secondary",children:"Click here to Find more APIs and Add them to the package ACL"})]}),Object(I.jsx)("div",{className:"clearfix"}),Object(I.jsx)(Ot.a.Collapse,{eventKey:1,children:Object(I.jsxs)(me.a,{className:"p-3",children:[Object(I.jsxs)(G.a,{onSubmit:Y,children:[Object(I.jsxs)(lt.a,{className:"small",children:[Object(I.jsx)(dt.a,{xs:4,children:Object(I.jsx)(G.a.Control,{placeholder:e("soajs:fields.ServiceName"),id:"serviceName",size:"sm",autoFocus:!0,value:U.serviceName,onChange:q})}),Object(I.jsx)(dt.a,{xs:4,children:Object(I.jsx)(G.a.Control,{placeholder:e("soajs:fields.ServiceVersion"),id:"serviceVersion",size:"sm",autoFocus:!0,value:U.serviceVersion,onChange:q})}),Object(I.jsx)(dt.a,{xs:4,children:Object(I.jsx)(G.a.Control,{placeholder:e("soajs:fields.ServiceGroup"),id:"serviceGroup",size:"sm",autoFocus:!0,value:U.serviceGroup,onChange:q})})]}),Object(I.jsxs)(lt.a,{className:"small mt-4",children:[Object(I.jsx)(dt.a,{xs:6,md:7,children:Object(I.jsx)(G.a.Control,{placeholder:e("soajs:fields.Route"),id:"route",size:"sm",autoFocus:!0,value:U.route,onChange:q})}),Object(I.jsx)(dt.a,{xs:3,children:Object(I.jsx)(G.a.Check,{id:"includeSOAJS",label:"Include SOAJS APIs",defaultChecked:U.includeSOAJS,onChange:q})}),Object(I.jsx)(dt.a,{xs:3,md:2,children:Object(I.jsxs)(z.a,{className:"float-right",variant:"dark",size:"sm",onClick:Y,children:[Object(I.jsx)(vt.c,{})," ",e("soajs:buttons.Search")]})})]})]}),Object(I.jsx)("hr",{}),T.map((function(e,t){return e.method&&e.route&&Object(I.jsx)(rt.a,{className:"m-1 p-2",variant:Lj(e.method),children:Object(I.jsx)(lt.a,{children:Object(I.jsxs)(dt.a,{children:[Object(I.jsx)(Wa,{disabled:zj(u,w,e.serviceName,e.v,e.method,e.route),className:"float-left pl-1 pr-1 pt-0 pb-0 mr-2",onClick:function(){!function(e,t,a,n,s){u.acl||(u.acl={}),u.acl[w]||(u.acl[w]={}),u.acl[w][e]||(u.acl[w][e]={}),u.acl[w][e][t]?u.acl[w][e][t].apisPermission="restricted":u.acl[w][e][t]={access:!0,apisPermission:"restricted"},u.acl[w][e][t][a]||(u.acl[w][e][t][a]={}),u.acl[w][e][t][a].apis||(u.acl[w][e][t][a].apis={}),u.acl[w][e][t][a].apis[n]||(u.acl[w][e][t][a].apis[n]={access:!0,group:s}),u.aclTypeByEnv[w]="granular",m(Object(N.a)({},u))}(e.serviceName,e.v,e.method,e.route,e.apiGroup)}}),Object(I.jsx)(z.a,{size:"sm",className:"mr-2 pl-1 pr-1 pt-0 pb-0 float-left",variant:Lj(e.method),children:Object(I.jsx)("span",{className:"small",children:e.method.toUpperCase()})}),Object(I.jsx)("span",{className:"small float-left font-weight-bold mr-1",children:e.serviceName}),Object(I.jsxs)("span",{className:"small float-left mr-2 font-weight-bold text-success",children:[" v",e.v," "]}),Object(I.jsx)("span",{className:"small float-left",children:e.route}),Object(I.jsx)("span",{className:"small float-right text-info",children:e.group})]})})},t)})),Object(I.jsx)("div",{className:"float-right mt-3",children:Object(I.jsx)(Lt,{className:"mb-0",currentPage:E,totalItems:H.totalItems,itemsPerPage:H.itemsPerPage,maxSize:H.maxSize,onClick:function(e){_(e),V(e)}})}),Object(I.jsx)("div",{className:"clearfix"})]})})]}),Object(I.jsx)("hr",{}),u&&u.acl&&u.acl[w]&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(rt.a,{variant:"warning",children:[Object(I.jsx)("h6",{className:"float-left text-dark font-weight-bold mt-3",children:"If you change the ACL, make sure you update for each environment"}),Object(I.jsxs)(z.a,{className:"mt-2 float-right",variant:"success",onClick:function(){return ee.apply(this,arguments)},children:[e("soajs:buttons.Update")," ACL for [",Object(I.jsx)("span",{className:"text-dark font-weight-bold",children:w}),"]"]}),Object(I.jsx)("div",{className:"clearfix"})]}),Object(I.jsx)(Ot.a,{defaultActiveKey:1,children:Object.keys(u.acl[w]).map((function(t,a){return Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{className:"pt-1 pb-1 pr-2 pl-2",children:Object(I.jsx)(Ot.a.Toggle,{className:"p-0",as:z.a,variant:"link",eventKey:a+1,children:t})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:a+1,children:Object(I.jsx)(ot.a.Body,{children:Object(I.jsx)(Ma.a,{defaultActiveKey:"1",style:{borderBottom:"1px solid #dee2e6"},children:Object.keys(u.acl[w][t]).map((function(a,n){return Object(I.jsxs)(za.a,{eventKey:n+1,title:e("soajs:fields.Version")+" "+a,tabClassName:"small",children:[Object(I.jsxs)(zn.a,{variant:"flush",className:"small mt-3",children:[Object(I.jsx)(En.a,{children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{children:Object(I.jsx)(G.a.Label,{className:"font-weight-bold mr-3 mt-1",children:"Service's APIs default access is: "})}),Object(I.jsx)(dt.a,{children:Object(I.jsxs)(G.a.Control,{size:"sm",as:"select",id:"access",value:u.acl[w][t][a].access||!1,onChange:function(e){$(e,w,t,a)},children:[Object(I.jsx)("option",{value:!0,children:"Private - requires logged in user"}),Object(I.jsx)("option",{value:!1,children:"Public - anyone can access"})]})})]})}),Object(I.jsx)(En.a,{children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{children:Object(I.jsx)(G.a.Label,{className:"font-weight-bold mr-3 mt-1",children:"Access is restricted to the selected APIs: "})}),Object(I.jsx)(dt.a,{children:Object(I.jsxs)(G.a.Control,{size:"sm",as:"select",id:"apisPermission",value:u.acl[w][t][a].apisPermission||"notRestricted",onChange:function(e){$(e,w,t,a)},children:[Object(I.jsx)("option",{value:"restricted",children:"Yes - only the selected APIs are accessible"}),Object(I.jsx)("option",{value:"notRestricted",children:"No - all APIs are accessible"})]})})]})})]}),Object(I.jsx)("hr",{}),u.acl[w][t][a].apisPermission&&"restricted"===u.acl[w][t][a].apisPermission&&Object.keys(Pj).map((function(e,n){return u.acl[w][t][a][e]&&u.acl[w][t][a][e].apis&&Object.keys(u.acl[w][t][a][e].apis).map((function(n,s){return Object(I.jsx)(rt.a,{className:"m-1 p-2",variant:Lj(e),children:Object(I.jsxs)(lt.a,{children:[Object(I.jsxs)(dt.a,{className:"small",children:[Object(I.jsx)(Ja,{className:"float-left pl-1 pr-1 pt-0 pb-0 mr-2",onClick:function(){!function(e,t,a,n){u.acl&&u.acl[w]&&u.acl[w][e]&&u.acl[w][e][t]&&u.acl[w][e][t][a]&&u.acl[w][e][t][a].apis&&u.acl[w][e][t][a].apis[n]&&(delete u.acl[w][e][t][a].apis[n],m(Object(N.a)({},u)))}(t,a,e,n)}}),Object(I.jsx)(z.a,{size:"sm",className:"mr-2 pl-1 pr-1 pt-0 pb-0 float-left",variant:Lj(e),children:Object(I.jsx)("span",{className:"small",children:e.toUpperCase()})}),Object(I.jsx)("span",{className:"float-left mt-1",children:n})]}),Object(I.jsx)(dt.a,{className:"small",xs:3,sm:3,md:2,children:Object(I.jsxs)(G.a.Control,{style:{fontSize:"80%"},size:"sm",as:"select",id:"access",value:Mj(u.acl[w][t][a][e].apis[n]),onChange:function(s){!function(e,t,a,n,s,c){if("access"===e.target.id){var r=u;"true"===e.target.value?r.acl[t][a][n][s].apis[c].access=!0:"false"===e.target.value?r.acl[t][a][n][s].apis[c].access=!1:delete r.acl[t][a][n][s].apis[c].access,m(Object(N.a)({},r))}}(s,w,t,a,e,n)},children:[Object(I.jsx)("option",{value:"true",children:"Private"}),Object(I.jsx)("option",{value:"false",children:"Public"}),Object(I.jsx)("option",{value:"inherit",children:"Inherit from service"})]})})]})},s)}))}))]},n+1)}))})})})]},a+1)}))})]})]})]})}var Rj=St.getService();function Uj(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ie.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})};function r(){return(r=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"tenant"!==t.item.type){e.next=7;break}return e.next=4,Rj.deleteTenant({id:t.item.id});case 4:ie.success(s("soajs:messages.delete_"+t.item.type)),n(),c();case 7:if("application"!==t.item.type){e.next=13;break}return e.next=10,Rj.deleteTenantApplication({id:t.item.id,appId:t.item.appId});case 10:ie.success(s("soajs:messages.delete_"+t.item.type)),n(),c();case 13:if("key"!==t.item.type){e.next=19;break}return e.next=16,Rj.deleteTenantApplicationKey({id:t.item.id,appId:t.item.appId,key:t.item.key});case 16:ie.success(s("soajs:messages.delete_"+t.item.type)),n(),c();case 19:if("extKey"!==t.item.type){e.next=25;break}return e.next=22,Rj.deleteTenantApplicationKeyExt({id:t.item.id,appId:t.item.appId,key:t.item.key,extKey:t.item.extKey});case 22:ie.success(s("soajs:messages.delete_"+t.item.type)),n(),c();case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),ie.error(e.t0.message);case 30:case"end":return e.stop()}}),e,null,[[0,27]])})))).apply(this,arguments)}return Object(I.jsxs)(ma.a,{show:t.show,onHide:c,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:s("soajs:buttons.Delete")})}),Object(I.jsxs)(ma.a.Body,{style:{wordBreak:"break-all"},children:[s("soajs:messages.deleteQuestion"),Object(I.jsxs)("span",{className:"ml-3 font-weight-bold",children:[t.item?t.item.type:"",": [",Object(I.jsx)("span",{className:"text-danger",children:t.item?t.item.label:""}),"]"]})]}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:c,children:s("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"danger",onClick:function(){return r.apply(this,arguments)},children:s("soajs:buttons.Delete")})]})]})}var Fj=St.getService(),Kj={id:"",appId:"",key:"",envCode:"",config:{},configAllEnv:{}};function Bj(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=e.environments,r=Object(Ie.a)(["common","soajs"]).t,i=function(){return a({show:!1,item:null})},o=Object(n.useState)(Kj),l=Object(y.a)(o,2),d=l[0],j=l[1];function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fj.updateTenantApplicationKey({id:d.id,appId:d.appId,key:d.key,envCode:d.envCode,config:d.config});case 3:ie.success(r("soajs:messages.tenantApplicationKey")),s(),i(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.item&&j(Object.assign({},Kj,t.item)),function(){return e=!1}}),[t]),Object(I.jsxs)(ma.a,{show:t.show,onHide:i,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:r("soajs:titles.tenantApplicationKey")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(G.a,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Env")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"envCode",size:"sm",value:d.envCode,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=d;U(a,e.target.id,t),"envCode"===e.target.id&&(d.configAllEnv[t.toLowerCase()]?U(a,"config",d.configAllEnv[t.toLowerCase()]):U(a,"config",{})),j(Object(N.a)({},a))},children:[Object(I.jsx)("option",{value:"",children:"---"}),c.map((function(e,t){return Object(I.jsx)("option",{value:e.code,children:e.code},t)}))]})]}),d.envCode&&""!==d.envCode&&Object(I.jsxs)(G.a.Group,{style:{height:"400px"},children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Configuration")}),Object(I.jsx)(ue,{mode:"code",json:d.config||{},onChange:function(e){d.config=e}})]})]})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:i,children:r("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(d.envCode.length>0),children:r("soajs:buttons.Update")})]})]})}var Hj=St.getService(),Jj={id:"",appId:"",key:"",extKey:"",label:"",extKeyEnv:"",expDate:null,device:{},geo:{}};function Vj(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=e.environments,r=Object(Ie.a)(["common","soajs"]).t,i=function(){return a({show:!1,item:null})},o=Object(n.useState)(Jj),l=Object(y.a)(o,2),d=l[0],j=l[1];function u(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=d;U(a,e.target.id,t),j(Object(N.a)({},a))}function m(){return(m=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d.expDate&&(t=new Date(d.expDate),d.expDate=t.toISOString()),e.next=4,Hj.updateTenantApplicationExtKey(d);case 4:ie.success(r("soajs:messages.tenantApplicationExtKey")),s(),i(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.item&&j(Object.assign({},Jj,t.item)),function(){return e=!1}}),[t]),Object(I.jsxs)(ma.a,{show:t.show,onHide:i,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:r("soajs:titles.tenantApplicationExtKey")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(G.a,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Label")}),Object(I.jsx)(G.a.Control,{id:"label",size:"sm",value:d.label,onChange:u})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Env")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"extKeyEnv",size:"sm",value:d.extKeyEnv,onChange:u,children:[Object(I.jsx)("option",{value:"",children:"---"}),c.map((function(e,t){return Object(I.jsx)("option",{value:e.code,children:e.code},t)}))]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{className:"mr-5",children:r("soajs:fields.ExpDate")}),Object(I.jsx)(ha.a,{selected:d.expDate&&""!==d.expDate?new Date(d.expDate):null,onChange:function(e){var t=d;U(t,"expDate",e?e.toISOString():null),j(Object(N.a)({},t))}})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Device")}),Object(I.jsx)(ue,{mode:"code",json:d.device||{},onChange:function(e){d.device=e}})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Geo")}),Object(I.jsx)(ue,{mode:"code",json:d.geo||{},onChange:function(e){d.geo=e}})]})]})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:i,children:r("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return m.apply(this,arguments)},disabled:!(d.label&&d.label.length>0&&d.extKeyEnv.length>0),children:r("soajs:buttons.Update")})]})]})}var Wj=St.getService(),qj={id:"",type:2,oauthType:"urac",disabled:0,pin:{},secret:""};function Yj(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})},i=Object(n.useState)(qj),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),"number"!==e.target.type&&"type"!==e.target.id||(t=parseInt(t)),"disabled"===e.target.id&&(t=t?0:1);var a=l;U(a,e.target.id,t),d(Object(N.a)({},a))}function u(){return(u=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={},t=1===l.disabled?{id:l.id,oauthType:"off",secret:l.secret}:{id:l.id,type:l.type,oauthType:l.oauthType,secret:l.secret},e.next=5,Wj.updateTenantOauth(t);case 5:ie.success(c("soajs:messages.tenantOauth")),s(),r(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.item&&d(Object.assign({},qj,t.item)),function(){return e=!1}}),[t]),Object(I.jsxs)(ma.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.tenantOauth")})}),Object(I.jsxs)(ma.a.Body,{children:[Object(I.jsx)(rt.a,{variant:"warning",children:Object(I.jsxs)("p",{children:["Be advised that when turning ON and OFF or modifying the oAuth Security of a tenant, all the keys configuration for all the applications belonging to this tenant will be modified based on the option you select. ",Object(I.jsx)("a",{href:"https://soajsorg.atlassian.net/wiki/spaces/DSBRD/pages/61979922/Multitenancy#Multitenancy-oauth",children:"Learn More"})]})}),Object(I.jsx)("hr",{}),t.item&&Object(I.jsxs)(G.a,{children:[Object(I.jsx)(G.a.Group,{children:Object(I.jsx)(G.a.Check,{id:"disabled",type:"switch",label:"Turn ON oAuth",checked:0===l.disabled,onChange:j})}),0===l.disabled&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Type")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"type",value:l.type,onChange:j,children:[Object(I.jsx)("option",{value:"2",children:"oAuth 2.0"}),Object(I.jsx)("option",{value:"0",children:"oAuth 0"})]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Secret")}),Object(I.jsx)(G.a.Control,{id:"secret",size:"sm",value:l.secret,onChange:j})]}),2===l.type&&Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.OauthType")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"oauthType",value:l.oauthType,onChange:j,children:[Object(I.jsx)("option",{value:"urac",children:"URAC - Complete user management"}),Object(I.jsx)("option",{value:"oauth",children:"Integration - Basic user management"})]})]})})]})]})]}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:r,children:c("soajs:buttons.Cancel")}),t.item&&Object(I.jsx)(z.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(1===l.disabled||0===l.disabled&&l.secret.length>0),children:c("soajs:buttons.Update")})]})]})}var Xj=St.getService(),Qj={name:"",description:"",type:"product",tag:"",profile:{},mainTenant:null,mainTenantName:""};function Zj(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})},i=Object(n.useState)(Qj),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=l;U(a,e.target.id,t),d(Object(N.a)({},a))}function u(){return(u=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={},"product"===l.type&&(t={name:l.name,description:l.description,type:"product",tag:l.tag,profile:l.profile}),"client"===l.type&&(t={name:l.name,description:l.description,type:"product",tag:l.tag,profile:l.profile,mainTenant:l.mainTenant}),e.next=6,Xj.addTenant(t);case 6:ie.success(c("soajs:messages.tenantAdd")),s(),r(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),ie.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.item&&("client"===t.item.type&&(t.item.mainTenant||ie.error("You can only add a sub tenant under a main tenant.")),d(Object.assign({},Qj,t.item))),function(){return e=!1}}),[t]),Object(I.jsxs)(ma.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.tenantAdd_"+l.type)})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(G.a,{children:["client"===l.type&&Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.MainTenant")}),Object(I.jsx)(G.a.Control,{id:"mainTenantName",size:"sm",value:l.mainTenantName,disabled:!0})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Name")}),Object(I.jsx)(G.a.Control,{id:"name",size:"sm",value:l.name,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Description")}),Object(I.jsx)(G.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:l.description,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Tag")}),Object(I.jsx)(G.a.Control,{id:"tag",size:"sm",value:l.tag,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Profile")}),Object(I.jsx)(ue,{mode:"code",json:l.profile||{},onChange:function(e){l.profile=e}})]})]})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:r,children:c("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!function(){var e=!0;return"client"!==l.type||l.mainTenant||(e=!1),l.name.length>0&&l.description.length>0&&e}(),children:c("soajs:buttons.Add")})]})]})}var $j=St.getService();function eu(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})},i=Object(n.useState)([]),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)([]),u=Object(y.a)(j,2),m=u[0],b=u[1],p=Object(n.useState)({id:null,productCode:"",packageCode:"",description:"",_TTL:"168"}),h=Object(y.a)(p,2),O=h[0],x=h[1];function f(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=O;if(U(a,e.target.id,t),x(Object(N.a)({},a)),"productCode"===e.target.id){var n=m.filter((function(e){return t===e.code}));n&&n[0]&&n[0].packages&&d(n[0].packages)}}function k(){return(k=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O.id=t.item.id,e.next=4,$j.addApplication(O);case 4:ie.success(c("soajs:messages.tenantApplicationAdd")),s(),r(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$j.getProducts();case 3:a=t.sent,e&&a&&b(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ie.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[]),Object(I.jsxs)(ma.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.tenantApplicationAdd")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(G.a,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.ProductCode")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"productCode",size:"sm",defaultValue:O.productCode,onChange:f,children:[Object(I.jsx)("option",{value:"",children:"---"}),m.map((function(e,t){return Object(I.jsx)("option",{value:e.code,children:e.code},t)}))]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.PackageCode")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"packageCode",size:"sm",defaultValue:O.packageCode,onChange:f,children:[Object(I.jsx)("option",{value:"",children:"---"}),l.map((function(e,t){return Object(I.jsx)("option",{value:e.code,children:e.code},t)}))]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.TTL")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"_TTL",defaultValue:O._TTL,onChange:f,children:[Object(I.jsx)("option",{value:"6",children:"6 hours"}),Object(I.jsx)("option",{value:"12",children:"12 hours"}),Object(I.jsx)("option",{value:"24",children:"24 hours"}),Object(I.jsx)("option",{value:"48",children:"2 days"}),Object(I.jsx)("option",{value:"72",children:"3 days"}),Object(I.jsx)("option",{value:"96",children:"4 days"}),Object(I.jsx)("option",{value:"120",children:"5 days"}),Object(I.jsx)("option",{value:"144",children:"6 days"}),Object(I.jsx)("option",{value:"168",children:"7 days"})]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Description")}),Object(I.jsx)(G.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:O.description,onChange:f})]})]})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:r,children:c("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return k.apply(this,arguments)},disabled:!(O.productCode.length>0&&O.packageCode.length>0&&O.description.length>0),children:c("soajs:buttons.Add")})]})]})}var tu=St.getService();function au(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=e.environments,r=Object(Ie.a)(["common","soajs"]).t,i=function(){return a({show:!1,item:null})},o=Object(n.useState)({id:"",appId:"",key:"",label:"",env:"",expDate:null,device:{},geo:{}}),l=Object(y.a)(o,2),d=l[0],j=l[1];function u(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=d;U(a,e.target.id,t),j(Object(N.a)({},a))}function m(){return(m=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d.id=t.item.id,d.appId=t.item.appId,d.key=t.item.key,e.next=6,tu.addTenantExtKey(d);case 6:ie.success(r("soajs:messages.tenantExtKeyAdd")),s(),i(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),ie.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return Object(I.jsxs)(ma.a,{show:t.show,onHide:i,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:r("soajs:titles.tenantExtKeyAdd")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(G.a,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Label")}),Object(I.jsx)(G.a.Control,{id:"label",size:"sm",value:d.label,onChange:u})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Env")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"env",size:"sm",defaultValue:d.env,onChange:u,children:[Object(I.jsx)("option",{value:"",children:"---"}),c.map((function(e,t){return Object(I.jsx)("option",{value:e.code,children:e.code},t)}))]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{className:"mr-5",children:r("soajs:fields.ExpDate")}),Object(I.jsx)(ha.a,{selected:d.expDate&&""!==d.expDate?new Date(d.expDate):null,onChange:function(e){var t=d;U(t,"expDate",e?e.toISOString():null),j(Object(N.a)({},t))}})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Device")}),Object(I.jsx)(ue,{mode:"code",json:d.device||{},onChange:function(e){d.device=e}})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:r("soajs:fields.Geo")}),Object(I.jsx)(ue,{mode:"code",json:d.geo||{},onChange:function(e){d.geo=e}})]})]})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:i,children:r("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return m.apply(this,arguments)},disabled:!(d.label.length>0&&d.env.length>0),children:r("soajs:buttons.Add")})]})]})}var nu=St.getService(),su={id:"",name:"",description:"",tag:"",profile:{}};function cu(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})},i=Object(n.useState)(su),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=l;U(a,e.target.id,t),d(Object(N.a)({},a))}function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nu.updateTenant(l);case 3:ie.success(c("soajs:messages.tenantUpdate")),s(),r(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.item&&d(Object.assign({},su,t.item)),function(){return e=!1}}),[t]),Object(I.jsxs)(ma.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.tenantUpdate")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(G.a,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Name")}),Object(I.jsx)(G.a.Control,{id:"name",size:"sm",value:l.name,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Description")}),Object(I.jsx)(G.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:l.description,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Tag")}),Object(I.jsx)(G.a.Control,{id:"tag",size:"sm",value:l.tag,onChange:j})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Profile")}),Object(I.jsx)(ue,{mode:"code",json:l.profile||{},onChange:function(e){l.profile=e}})]})]})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:r,children:c("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(l.name.length>0&&l.description.length>0),children:c("soajs:buttons.Update")})]})]})}var ru=St.getService(),iu={package:"",id:"",appId:"",description:"",_TTL:"168"};function ou(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,c=Object(Ie.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})},i=Object(n.useState)(iu),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=l;U(a,e.target.id,t),d(Object(N.a)({},a))}function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l._TTL=""+l._TTL,e.next=4,ru.updateApplication(l);case 4:ie.success(c("soajs:messages.tenantApplicationUpdate")),s(),r(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.item&&d(Object.assign({},iu,t.item)),function(){return e=!1}}),[t]),Object(I.jsxs)(ma.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(I.jsx)(ma.a.Header,{closeButton:!0,children:Object(I.jsx)(ma.a.Title,{children:c("soajs:titles.tenantApplicationUpdate")})}),Object(I.jsx)(ma.a.Body,{children:Object(I.jsxs)(G.a,{children:[Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.PackageCode")}),Object(I.jsx)(G.a.Control,{id:"package",size:"sm",value:l.package,disabled:!0})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.TTL")}),Object(I.jsxs)(G.a.Control,{as:"select",id:"_TTL",value:l._TTL,onChange:j,children:[Object(I.jsx)("option",{value:"6",children:"6 hours"}),Object(I.jsx)("option",{value:"12",children:"12 hours"}),Object(I.jsx)("option",{value:"24",children:"24 hours"}),Object(I.jsx)("option",{value:"48",children:"2 days"}),Object(I.jsx)("option",{value:"72",children:"3 days"}),Object(I.jsx)("option",{value:"96",children:"4 days"}),Object(I.jsx)("option",{value:"120",children:"5 days"}),Object(I.jsx)("option",{value:"144",children:"6 days"}),Object(I.jsx)("option",{value:"168",children:"7 days"})]})]}),Object(I.jsxs)(G.a.Group,{children:[Object(I.jsx)(G.a.Label,{children:c("soajs:fields.Description")}),Object(I.jsx)(G.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:l.description,onChange:j})]})]})}),Object(I.jsxs)(ma.a.Footer,{children:[Object(I.jsx)(z.a,{variant:"warning",onClick:r,children:c("soajs:buttons.Cancel")}),Object(I.jsx)(z.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(l.description.length>0),children:c("soajs:buttons.Update")})]})]})}var lu=St.getService(),du=Nt.getService(),ju="product";function uu(e){return Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{className:"font-weight-bold mr-3",children:e.name}),Object(I.jsxs)("span",{className:"small text-muted",children:["[",e.code," - ",e._id,"]"]})]})}function mu(e,t,a,n,s){return bu.apply(this,arguments)}function bu(){return(bu=Object(v.a)(g.a.mark((function e(t,a,n,s,c){var r,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={limit:50,skip:50*(n-1),type:ju},s&&(s.keywords&&""!==s.keywords&&(r.keywords=s.keywords),"All"!==s.category&&(r.category=s.category)),e.next=5,lu.getTenants(r);case 5:i=e.sent,c&&i&&i.items&&(t(i.items),a({totalItems:i.count,maxSize:10,itemsPerPage:i.limit})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function pu(){var e=P().ability,t=Object(Ie.a)(["common","soajs"]).t,a=Object(n.useState)([]),s=Object(y.a)(a,2),c=s[0],r=s[1],i=Object(n.useState)([]),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)(1),u=Object(y.a)(j,2),m=u[0],b=u[1],p=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),h=Object(y.a)(p,2),O=h[0],x=h[1],f=Object(n.useState)({keywords:"",category:"All"}),k=Object(y.a)(f,2),w=k[0],C=k[1];function S(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),C(Object(N.a)(Object(N.a)({},w),{},Object(We.a)({},e.target.id,t)))}function A(e){return T.apply(this,arguments)}function T(){return(T=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),b(1),e.next=4,ve(1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=Object(n.useState)({show:!1,item:null}),M=Object(y.a)(L,2),E=M[0],_=M[1],D=function(e){return _({show:!0,item:e})},R=Object(n.useState)({show:!1,item:null}),U=Object(y.a)(R,2),F=U[0],K=U[1],B=Object(n.useState)({show:!1,item:null}),H=Object(y.a)(B,2),J=H[0],V=H[1],W=Object(n.useState)({show:!1,item:null}),q=Object(y.a)(W,2),Y=q[0],X=q[1],Q=Object(n.useState)({show:!1,item:null}),Z=Object(y.a)(Q,2),$=Z[0],ee=Z[1],te=function(e){return ee({show:!0,item:e})},ae=Object(n.useState)({show:!1,item:null}),ne=Object(y.a)(ae,2),se=ne[0],ce=ne[1],re=Object(n.useState)({show:!1,item:null}),oe=Object(y.a)(re,2),le=oe[0],de=oe[1],je=Object(n.useState)({show:!1,item:null}),ue=Object(y.a)(je,2),me=ue[0],pe=ue[1],he=Object(n.useState)({show:!1,item:null}),Oe=Object(y.a)(he,2),xe=Oe[0],fe=Oe[1];function ge(){return(ge=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lu.addTenantApplicationKey(t);case 3:return e.next=5,ve();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ve(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mu(r,x,t||m,w,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,du.getEnvironments();case 3:(a=t.sent)&&e&&d(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ie.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return mu(r,x,1,null,e).catch(),function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(cu,{modalOpt:me,setModalOpt:pe,handleAction:ve}),Object(I.jsx)(ou,{modalOpt:xe,setModalOpt:fe,handleAction:ve}),Object(I.jsx)(au,{modalOpt:le,setModalOpt:de,handleAction:ve,environments:l}),Object(I.jsx)(eu,{modalOpt:se,setModalOpt:ce,handleAction:ve}),Object(I.jsx)(Zj,{modalOpt:$,setModalOpt:ee,handleAction:ve}),Object(I.jsx)(Yj,{modalOpt:Y,setModalOpt:X,handleAction:ve}),Object(I.jsx)(Vj,{modalOpt:J,setModalOpt:V,handleAction:ve,environments:l}),Object(I.jsx)(Bj,{modalOpt:F,setModalOpt:K,handleAction:ve,environments:l}),Object(I.jsx)(Uj,{modalOpt:E,setModalOpt:_,handleAction:ve})]}),Object(I.jsxs)("div",{className:"mb-1",children:[Object(I.jsx)("h5",{className:"float-left font-weight-bold",children:"Available main tenants"}),e.can("tenant","add")&&Object(I.jsxs)(z.a,{className:"float-right mb-1",variant:"success",size:"sm",onClick:function(){te({type:ju})},children:[Object(I.jsx)(Va.a,{})," ",t("soajs:buttons.Add")]}),Object(I.jsx)("span",{className:"clearfix"}),Object(I.jsx)(rt.a,{variant:"secondary mt-2",children:Object(I.jsx)(G.a,{onSubmit:A,children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{sm:5,md:6,lg:7,children:Object(I.jsx)(G.a.Control,{id:"keywords",size:"sm",autoFocus:!0,value:w.keywords,onChange:S})}),Object(I.jsx)(dt.a,{sm:4,md:4,lg:3,children:Object(I.jsxs)(G.a.Control,{as:"select",id:"category",size:"sm",defaultValue:w.category,onChange:S,children:[Object(I.jsx)("option",{value:"All",children:"All"}),Object(I.jsx)("option",{value:"tenant",children:"Tenant Only"}),Object(I.jsx)("option",{value:"application",children:"Application Only"})]})}),Object(I.jsx)(dt.a,{sm:3,md:2,lg:2,children:Object(I.jsxs)(z.a,{className:"float-right",variant:"dark",size:"sm",onClick:A,children:[Object(I.jsx)(vt.c,{})," ",t("soajs:buttons.Search")]})})]})})}),Object(I.jsx)("hr",{})]}),c.map((function(a,n){return Object(I.jsx)(Ot.a,{className:"mb-2",defaultActiveKey:1,children:Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{style:{backgroundColor:"#DEF1F7"},children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:12,md:8,children:Object(I.jsx)(Ot.a.Toggle,{className:"p-0",as:z.a,variant:"link",eventKey:n+1,children:uu(a)})}),Object(I.jsxs)(dt.a,{xs:12,md:4,children:[e.can("tenant","delete")&&Object(I.jsx)(Ja,{className:"float-right ml-1",onClick:function(){D({type:"tenant",label:a.name,id:a._id})}}),e.can("tenant","configure")&&Object(I.jsx)(tn,{className:"float-right ml-1",onClick:function(){var e;e={id:a._id,secret:a.oauth.secret,type:a.oauth.type,disabled:a.oauth.disabled,oauthType:a.oauth.loginMode},X({show:!0,item:e})}}),e.can("tenant","edit")&&Object(I.jsx)(en,{className:"float-right ml-1",onClick:function(){var e;e={id:a._id,name:a.name,tag:a.tag||"",description:a.description||"",profile:a.profile||{}},pe({show:!0,item:e})}}),e.can("tenant","add")&&Object(I.jsx)(Wa,{className:"float-right ml-1",onClick:function(){te({type:"client",mainTenant:a._id,mainTenantName:a.name})}})]})]})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:n+1,children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)("span",{className:"small",children:a.description}),Object(I.jsx)("hr",{className:"mt-4"}),Object(I.jsxs)("div",{className:"mb-1",children:[Object(I.jsx)("h6",{className:"float-left font-weight-bold",children:"Available applications"}),e.can("tenant_application","add")&&Object(I.jsxs)(z.a,{className:"float-right mb-1",variant:"success",size:"sm",onClick:function(){var e;e={id:a._id},ce({show:!0,item:e})},children:[Object(I.jsx)(Va.a,{})," ",t("soajs:buttons.Add")]}),Object(I.jsx)("span",{className:"clearfix"})]}),a.applications&&a.applications.map((function(n,s){return Object(I.jsx)(Ot.a,{className:"mb-2",defaultActiveKey:1,children:Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:12,md:8,children:Object(I.jsxs)(Ot.a.Toggle,{className:"p-0",as:z.a,variant:"link",eventKey:s+1,children:[Object(I.jsx)("span",{className:"font-weight-bold mr-3 small",children:n.package}),Object(I.jsxs)("span",{className:"small text-muted",children:["[",n.appId,"]"]}),Object(I.jsx)("span",{className:"text-success small ml-3",children:[n.product]})]})}),Object(I.jsxs)(dt.a,{xs:12,md:4,children:[e.can("tenant_application","delete")&&Object(I.jsx)(Ja,{className:"float-right ml-1",onClick:function(){D({type:"application",label:n.package,id:a._id,appId:n.appId})}}),e.can("tenant_application","edit")&&Object(I.jsx)(en,{className:"float-right ml-1",onClick:function(){var e;e={id:a._id,appId:n.appId,description:n.description||"",_TTL:n._TTL?n._TTL/36e5:168,package:n.package},fe({show:!0,item:e})}})]})]})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:s+1,children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)("span",{className:"small",children:n.description}),Object(I.jsx)("hr",{className:"mt-4"}),Object(I.jsxs)("div",{className:"mb-1",children:[Object(I.jsx)("h6",{className:"float-left font-weight-bold",children:"Available internal keys"}),e.can("tenant_application_key","add")&&Object(I.jsxs)(z.a,{className:"float-right mb-1",variant:"success",size:"sm",onClick:function(){!function(e){ge.apply(this,arguments)}({id:a._id,appId:n.appId})},children:[Object(I.jsx)(Va.a,{})," ",t("soajs:buttons.Add")]}),Object(I.jsx)("span",{className:"clearfix"})]}),n.keys&&n.keys.map((function(s,c){return Object(I.jsx)(Ot.a,{className:"mb-2",defaultActiveKey:1,children:Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{className:"p-1 pl-2 pr-2",style:{backgroundColor:"#dee2e6"},children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:12,md:8,children:Object(I.jsx)(Ot.a.Toggle,{className:"p-0",as:z.a,variant:"link",eventKey:c+1,children:Object(I.jsxs)("span",{className:"font-weight-bold mr-3 small",children:[Object(I.jsx)(be.e,{className:"mr-2"}),s.key]})})}),Object(I.jsxs)(dt.a,{xs:12,md:4,children:[e.can("tenant_application_key","delete")&&Object(I.jsx)(Ja,{className:"float-right ml-2",onClick:function(){D({type:"key",label:s.key,id:a._id,appId:n.appId,key:s.key})}}),e.can("tenant_application_key","configure")&&Object(I.jsx)(tn,{className:"float-right ml-2",onClick:function(){var e;e={id:a._id,appId:n.appId,key:s.key,configAllEnv:s.config},K({show:!0,item:e})}})]})]})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:c+1,children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)("h6",{className:"float-left font-weight-bold",children:"Available external keys"}),e.can("tenant_application_ekey","add")&&Object(I.jsxs)(z.a,{className:"float-right mb-1",variant:"success",size:"sm",onClick:function(){var e;e={id:a._id,appId:n.appId,key:s.key},de({show:!0,item:e})},children:[Object(I.jsx)(Va.a,{})," ",t("soajs:buttons.Add")]}),Object(I.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",className:"small",children:[Object(I.jsx)("thead",{className:"text-light bg-dark",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:t("soajs:buttons.Actions")}),Object(I.jsx)("th",{children:t("soajs:fields.ExternalKey")}),Object(I.jsx)("th",{className:"text-center",children:t("soajs:fields.Environments")}),Object(I.jsx)("th",{className:"text-right",children:t("soajs:fields.ExpDate")})]})}),Object(I.jsx)("tbody",{children:s.extKeys&&s.extKeys.map((function(t,c){return Object(I.jsxs)("tr",{children:[Object(I.jsxs)("td",{children:[e.can("tenant_application_ekey","delete")&&Object(I.jsx)(Ja,{className:"mr-2",onClick:function(){D({type:"extKey",label:t.extKey,id:a._id,appId:n.appId,key:s.key,extKey:t.extKey})}}),e.can("tenant_application_ekey","configure")&&Object(I.jsx)(tn,{onClick:function(){var e;e={id:a._id,appId:n.appId,key:s.key,extKey:t.extKey,expDate:t.expDate||null,device:t.device||{},geo:t.geo||{},label:t.label||"",extKeyEnv:t.env||""},V({show:!0,item:e})}})]}),Object(I.jsx)("td",{style:{wordBreak:"break-all",maxWidth:"400px"},children:t.extKey}),Object(I.jsx)("td",{className:"text-center",children:t.env}),Object(I.jsx)("td",{className:"text-right",children:t.expDate?new Date(t.expDate).toISOString():null})]},c)}))})]})]})})]})},c+1)}))]})})]})},s+1)}))]})})]})},n+1)})),Object(I.jsx)("div",{className:"float-right mt-3",children:Object(I.jsx)(Lt,{currentPage:m,totalItems:O.totalItems,itemsPerPage:O.itemsPerPage,maxSize:O.maxSize,onClick:function(e){b(e),ve(e).catch()}})}),Object(I.jsx)("div",{className:"clearfix"})]})}var hu=St.getService(),Ou=Nt.getService(),xu="client";function fu(e){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("span",{className:"font-weight-bold mr-3",children:e.name}),Object(I.jsxs)("span",{className:"small text-muted",children:["[",e.code," - ",e._id,"]"]}),Object(I.jsx)("span",{className:"text-dark small ml-3",children:[e.tenant.code]})]})}function gu(e,t,a,n,s){return vu.apply(this,arguments)}function vu(){return(vu=Object(v.a)(g.a.mark((function e(t,a,n,s,c){var r,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={limit:50,skip:50*(n-1),type:xu},s&&s.keywords&&""!==s.keywords&&(r.keywords=s.keywords),e.next=5,hu.getTenants(r);case 5:i=e.sent,c&&i&&i.items&&(t(i.items),a({totalItems:i.count,maxSize:10,itemsPerPage:i.limit})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function yu(){var e=P().ability,t=Object(Ie.a)(["common","soajs"]).t,a=Object(n.useState)([]),s=Object(y.a)(a,2),c=s[0],r=s[1],i=Object(n.useState)([]),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)(1),u=Object(y.a)(j,2),m=u[0],b=u[1],p=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),h=Object(y.a)(p,2),O=h[0],x=h[1],f=Object(n.useState)({keywords:""}),k=Object(y.a)(f,2),w=k[0],C=k[1];function S(e){return A.apply(this,arguments)}function A(){return(A=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),b(1),e.next=4,pe(1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=Object(n.useState)({show:!1,item:null}),L=Object(y.a)(T,2),M=L[0],E=L[1],_=function(e){return E({show:!0,item:e})},D=Object(n.useState)({show:!1,item:null}),R=Object(y.a)(D,2),U=R[0],F=R[1],K=Object(n.useState)({show:!1,item:null}),B=Object(y.a)(K,2),H=B[0],J=B[1],V=Object(n.useState)({show:!1,item:null}),W=Object(y.a)(V,2),q=W[0],Y=W[1],X=Object(n.useState)({show:!1,item:null}),Q=Object(y.a)(X,2),Z=Q[0],$=Q[1],ee=Object(n.useState)({show:!1,item:null}),te=Object(y.a)(ee,2),ae=te[0],ne=te[1],se=Object(n.useState)({show:!1,item:null}),ce=Object(y.a)(se,2),re=ce[0],oe=ce[1],le=Object(n.useState)({show:!1,item:null}),de=Object(y.a)(le,2),je=de[0],ue=de[1];function me(){return(me=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hu.addTenantApplicationKey(t);case 3:return e.next=5,pe();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function pe(e){return he.apply(this,arguments)}function he(){return(he=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gu(r,x,t||m,w,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ou.getEnvironments();case 3:(a=t.sent)&&e&&d(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ie.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return gu(r,x,1,null,e).catch(),function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(cu,{modalOpt:re,setModalOpt:oe,handleAction:pe}),Object(I.jsx)(ou,{modalOpt:je,setModalOpt:ue,handleAction:pe}),Object(I.jsx)(au,{modalOpt:ae,setModalOpt:ne,handleAction:pe,environments:l}),Object(I.jsx)(eu,{modalOpt:Z,setModalOpt:$,handleAction:pe}),Object(I.jsx)(Yj,{modalOpt:q,setModalOpt:Y,handleAction:pe}),Object(I.jsx)(Vj,{modalOpt:H,setModalOpt:J,handleAction:pe,environments:l}),Object(I.jsx)(Bj,{modalOpt:U,setModalOpt:F,handleAction:pe,environments:l}),Object(I.jsx)(Uj,{modalOpt:M,setModalOpt:E,handleAction:pe})]}),Object(I.jsxs)("div",{className:"mb-1",children:[Object(I.jsx)("h5",{className:"float-left font-weight-bold",children:"Available sub tenants"}),Object(I.jsx)("span",{className:"clearfix"}),Object(I.jsx)(rt.a,{variant:"secondary mt-2",children:Object(I.jsx)(G.a,{onSubmit:S,children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:9,md:10,children:Object(I.jsx)(G.a.Control,{id:"keywords",size:"sm",autoFocus:!0,value:w.keywords,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),C(Object(N.a)(Object(N.a)({},w),{},Object(We.a)({},e.target.id,t)))}})}),Object(I.jsx)(dt.a,{xs:3,md:2,children:Object(I.jsxs)(z.a,{className:"float-right",variant:"dark",size:"sm",onClick:S,children:[Object(I.jsx)(vt.c,{})," ",t("soajs:buttons.Search")]})})]})})}),Object(I.jsx)("hr",{})]}),c.map((function(a,n){return Object(I.jsx)(Ot.a,{className:"mb-2",defaultActiveKey:1,children:Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{style:{backgroundColor:"#DEF1F7"},children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:12,md:8,children:Object(I.jsx)(Ot.a.Toggle,{className:"p-0",as:z.a,variant:"link",eventKey:n+1,children:fu(a)})}),Object(I.jsxs)(dt.a,{xs:12,md:4,children:[e.can("tenant","delete")&&Object(I.jsx)(Ja,{className:"float-right ml-1",onClick:function(){_({type:"tenant",label:a.name,id:a._id})}}),e.can("tenant","configure")&&Object(I.jsx)(tn,{className:"float-right ml-1",onClick:function(){var e;e={id:a._id,secret:a.oauth.secret,type:a.oauth.type,disabled:a.oauth.disabled,oauthType:a.oauth.loginMode},Y({show:!0,item:e})}}),e.can("tenant","edit")&&Object(I.jsx)(en,{className:"float-right ml-1",onClick:function(){var e;e={id:a._id,name:a.name,tag:a.tag||"",description:a.description||"",profile:a.profile||{}},oe({show:!0,item:e})}})]})]})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:n+1,children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)("span",{className:"small",children:a.description}),Object(I.jsx)("hr",{className:"mt-4"}),Object(I.jsxs)("div",{className:"mb-1",children:[Object(I.jsx)("h6",{className:"float-left font-weight-bold",children:"Available applications"}),e.can("tenant_application","add")&&Object(I.jsxs)(z.a,{className:"float-right mb-1",variant:"success",size:"sm",onClick:function(){var e;e={id:a._id},$({show:!0,item:e})},children:[Object(I.jsx)(Va.a,{})," ",t("soajs:buttons.Add")]}),Object(I.jsx)("span",{className:"clearfix"})]}),a.applications&&a.applications.map((function(n,s){return Object(I.jsx)(Ot.a,{className:"mb-2",defaultActiveKey:1,children:Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:12,md:8,children:Object(I.jsxs)(Ot.a.Toggle,{className:"p-0",as:z.a,variant:"link",eventKey:s+1,children:[Object(I.jsx)("span",{className:"font-weight-bold mr-3 small",children:n.package}),Object(I.jsxs)("span",{className:"small text-muted",children:["[",n.appId,"]"]}),Object(I.jsx)("span",{className:"text-success small ml-3",children:[n.product]})]})}),Object(I.jsxs)(dt.a,{xs:12,md:4,children:[e.can("tenant_application","delete")&&Object(I.jsx)(Ja,{className:"float-right ml-1",onClick:function(){_({type:"application",label:n.package,id:a._id,appId:n.appId})}}),e.can("tenant_application","edit")&&Object(I.jsx)(en,{className:"float-right ml-1",onClick:function(){var e;e={id:a._id,appId:n.appId,description:n.description||"",_TTL:n._TTL?n._TTL/36e5:168,package:n.package},ue({show:!0,item:e})}})]})]})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:s+1,children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)("span",{className:"small",children:n.description}),Object(I.jsx)("hr",{className:"mt-4"}),Object(I.jsxs)("div",{className:"mb-1",children:[Object(I.jsx)("h6",{className:"float-left font-weight-bold",children:"Available internal keys"}),e.can("tenant_application_key","add")&&Object(I.jsxs)(z.a,{className:"float-right mb-1",variant:"success",size:"sm",onClick:function(){!function(e){me.apply(this,arguments)}({id:a._id,appId:n.appId})},children:[Object(I.jsx)(Va.a,{})," ",t("soajs:buttons.Add")]}),Object(I.jsx)("span",{className:"clearfix"})]}),n.keys&&n.keys.map((function(s,c){return Object(I.jsx)(Ot.a,{className:"mb-2",defaultActiveKey:1,children:Object(I.jsxs)(ot.a,{children:[Object(I.jsx)(ot.a.Header,{className:"p-1 pl-2 pr-2",style:{backgroundColor:"#dee2e6"},children:Object(I.jsxs)(lt.a,{children:[Object(I.jsx)(dt.a,{xs:12,md:8,children:Object(I.jsx)(Ot.a.Toggle,{className:"p-0",as:z.a,variant:"link",eventKey:c+1,children:Object(I.jsxs)("span",{className:"font-weight-bold mr-3 small",children:[Object(I.jsx)(be.e,{className:"mr-2"}),s.key]})})}),Object(I.jsxs)(dt.a,{xs:12,md:4,children:[e.can("tenant_application_key","delete")&&Object(I.jsx)(Ja,{className:"float-right ml-2",onClick:function(){_({type:"key",label:s.key,id:a._id,appId:n.appId,key:s.key})}}),e.can("tenant_application_key","configure")&&Object(I.jsx)(tn,{className:"float-right ml-2",onClick:function(){var e;e={id:a._id,appId:n.appId,key:s.key,configAllEnv:s.config},F({show:!0,item:e})}})]})]})}),Object(I.jsx)(Ot.a.Collapse,{eventKey:c+1,children:Object(I.jsxs)(ot.a.Body,{children:[Object(I.jsx)("h6",{className:"float-left font-weight-bold",children:"Available external keys"}),e.can("tenant_application_ekey","add")&&Object(I.jsxs)(z.a,{className:"float-right mb-1",variant:"success",size:"sm",onClick:function(){var e;e={id:a._id,appId:n.appId,key:s.key},ne({show:!0,item:e})},children:[Object(I.jsx)(Va.a,{})," ",t("soajs:buttons.Add")]}),Object(I.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",className:"small",children:[Object(I.jsx)("thead",{className:"text-light bg-dark",children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:t("soajs:buttons.Actions")}),Object(I.jsx)("th",{children:t("soajs:fields.ExternalKey")}),Object(I.jsx)("th",{className:"text-center",children:t("soajs:fields.Environments")}),Object(I.jsx)("th",{className:"text-right",children:t("soajs:fields.ExpDate")})]})}),Object(I.jsx)("tbody",{children:s.extKeys&&s.extKeys.map((function(t,c){return Object(I.jsxs)("tr",{children:[Object(I.jsxs)("td",{children:[e.can("tenant_application_ekey","delete")&&Object(I.jsx)(Ja,{className:"mr-2",onClick:function(){_({type:"extKey",label:t.extKey,id:a._id,appId:n.appId,key:s.key,extKey:t.extKey})}}),e.can("tenant_application_ekey","configure")&&Object(I.jsx)(tn,{onClick:function(){var e;e={id:a._id,appId:n.appId,key:s.key,extKey:t.extKey,expDate:t.expDate||null,device:t.device||{},geo:t.geo||{},label:t.label||"",extKeyEnv:t.env||""},J({show:!0,item:e})}})]}),Object(I.jsx)("td",{style:{wordBreak:"break-all",maxWidth:"400px"},children:t.extKey}),Object(I.jsx)("td",{className:"text-center",children:t.env}),Object(I.jsx)("td",{className:"text-right",children:t.expDate?new Date(t.expDate).toISOString():null})]},c)}))})]})]})})]})},c+1)}))]})})]})},s+1)}))]})})]})},n+1)})),Object(I.jsx)("div",{className:"float-right mt-3",children:Object(I.jsx)(Lt,{currentPage:m,totalItems:O.totalItems,itemsPerPage:O.itemsPerPage,maxSize:O.maxSize,onClick:function(e){b(e),pe(e).catch()}})}),Object(I.jsx)("div",{className:"clearfix"})]})}function ku(){return Object(I.jsxs)(k.g,{children:[Object(I.jsx)(L,{path:"/multitenancy/products/:id/acl/:code",children:Object(I.jsx)(Dj,{})}),Object(I.jsx)(L,{path:"/multitenancy/products",children:Object(I.jsx)(Cj,{})}),Object(I.jsx)(L,{path:"/multitenancy/tenants/main",children:Object(I.jsx)(pu,{})}),Object(I.jsx)(L,{path:"/multitenancy/tenants/sub",children:Object(I.jsx)(yu,{})}),Object(I.jsx)(L,{path:"/multitenancy/users",children:Object(I.jsx)(ij,{})}),Object(I.jsx)(k.d,{render:function(){return Object(I.jsx)(k.c,{to:"/multitenancy/products"})}})]})}var wu=function(){var e=Object(Ie.a)(["common","soajs"]).t,t="/multitenancy";return Object(I.jsxs)(Sa.a,{collapseOnSelect:!0,expand:"sm",className:"pt-0 pb-0",bg:"secondary",variant:"dark",children:[Object(I.jsx)("span",{}),Object(I.jsx)(Sa.a.Toggle,{"aria-controls":"settings-navbar-nav"}),Object(I.jsx)(Sa.a.Collapse,{id:"settings-navbar-nav",className:"justify-content-end",children:Object(I.jsxs)(Aa.a,{activeKey:window.location.pathname,children:[Object(I.jsx)(Pa.LinkContainer,{to:t+"/products",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.products")})})}),Object(I.jsx)(Pa.LinkContainer,{to:t+"/tenants/main",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.maintenants")})})}),Object(I.jsx)(Pa.LinkContainer,{to:t+"/tenants/sub",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.subtenants")})})}),Object(I.jsx)(Pa.LinkContainer,{to:t+"/users",children:Object(I.jsx)(Ta.a.Item,{children:Object(I.jsx)("small",{children:e("soajs:menu.tenantusers")})})})]})})]})};function Cu(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(wu,{}),Object(I.jsx)("div",{className:"bg-dark pt-1"}),Object(I.jsx)("div",{className:"main-area",children:Object(I.jsx)(pt.a,{className:"mt-3 mb-3",children:Object(I.jsx)(ku,{})})})]})}function Nu(){return Object(I.jsxs)(k.g,{children:[Object(I.jsx)(M,{exact:!0,path:"/",children:Object(I.jsx)(_e,{})}),Object(I.jsx)(M,{path:"/sign-in",children:Object(I.jsx)(_e,{})}),Object(I.jsx)(M,{path:"/sign-up",children:Object(I.jsx)(Ze,{})}),Object(I.jsx)(M,{path:"/validate-signup",children:Object(I.jsx)(et,{})}),Object(I.jsx)(M,{path:"/forgot-password",children:Object(I.jsx)(De,{})}),Object(I.jsx)(M,{path:"/reset-password",children:Object(I.jsx)(Ue,{})}),Object(I.jsx)(M,{path:"/third-party-login/:strategy",children:Object(I.jsx)(ct,{})}),Object(I.jsx)(L,{path:"/change-password",children:Object(I.jsx)(Ke,{})}),Object(I.jsx)(L,{path:"/change-email",children:Object(I.jsx)(He,{})}),Object(I.jsx)(L,{path:"/validate-change-email",children:Object(I.jsx)(Ve,{})}),Object(I.jsx)(L,{path:"/myProfile",children:Object(I.jsx)(Xe,{})}),Object(I.jsx)(L,{path:"/home",children:Object(I.jsx)(ut,{})}),Object(I.jsx)(L,{path:"/no-access",children:Object(I.jsx)(mt,{})}),Object(I.jsx)(L,{path:"/development",children:Object(I.jsx)(hi,{})}),Object(I.jsx)(L,{path:"/catalogs",children:Object(I.jsx)(ys,{})}),Object(I.jsx)(L,{path:"/environments/manage/:env",children:Object(I.jsx)(Jd,{})}),Object(I.jsx)(L,{path:"/environments",children:Object(I.jsx)(Jd,{})}),Object(I.jsx)(L,{path:"/multitenancy",children:Object(I.jsx)(Cu,{})}),Object(I.jsx)(L,{path:"/reports",children:Object(I.jsx)(La,{})}),Object(I.jsx)(L,{path:"/settings",children:Object(I.jsx)(mi,{})}),Object(I.jsx)(k.d,{children:Object(I.jsx)(bt,{})})]})}a(875);var Su=xe.getService();ge.a.interceptors.request.use((function(e){var t=ve.tenant;window.apiSettings&&window.apiSettings.key&&(t=window.apiSettings.key);var a=ve.apiEndpoint;window.apiSettings&&window.apiSettings.api&&(a=window.apiSettings.api);var n=Su.getAccessToken(),s=e.url;return-1!==s.indexOf("?")&&(s=s.substr(0,s.indexOf("?"))),-1!==s.indexOf("://")?s=(s=s.substr(s.indexOf("://")+3)).substr(s.indexOf("/")):e.url=a+e.url,console.log(e.headers),""===s||!ve.noToken.includes(s)&&n&&!e.headers.skip_access_token?(n&&(e.headers.access_token=n),e.headers.key||(e.headers.key=t)):(e.headers.skip_access_token&&delete e.headers.skip_access_token,e.headers.key||(e.headers.key=t)),e}),(function(e){Promise.reject(e)})),ge.a.interceptors.response.use((function(e){return e}),(function(e){if(e&&e.response&&e.config){var t=ve.apiEndpoint;window.apiSettings&&window.apiSettings.api&&(t=window.apiSettings.api);var a=e.config;if(401===e.response.status&&!a._retry&&e.response.data&&e.response.data.errors&&e.response.data.errors.codes&&401===e.response.data.errors.codes[0]&&ve.badTokenMessages.includes(e.response.data.errors.details[0].message)){a._retry=!0;var n=Su.getRefreshToken();return ge.a.post(t+"/oauth/token",{refresh_token:n,grant_type:"refresh_token"}).then((function(e){if(e&&e.data&&e.data.access_token)return Su.setToken(e.data),ge()(a)}))}}return Promise.reject(e)}));a(876),a(877);var Au=a(530),Tu=a.n(Au),Pu=function(e){var t=Tu()(e);return"https://www.gravatar.com/avatar/".concat(t,"?d=wavatar&s=20")},Iu=function(e,t){return e?Object(I.jsx)("img",{alt:t,width:"20px",height:"20px",className:"avatar",src:e}):Object(I.jsx)(vt.e,{})},Lu=xe.getService();var Mu=function(e){var t=e.isAuthenticated,a=e.firstName,n=e.handleLogout,s=Object(Ie.a)(["common","soajs"]).t,c=Lu.getEmail(),r=null;return c&&(r=Pu(c)),Object(I.jsxs)(Sa.a,{collapseOnSelect:!0,expand:"md",className:"pt-0 pb-0",bg:"dark",variant:"dark",children:[Object(I.jsx)(Pa.LinkContainer,{to:"/home",children:Object(I.jsxs)(Sa.a.Brand,{className:"font-weight-bold text-muted",children:[Object(I.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAACnCAYAAACB6MdcAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3QTJGMzRGOTAxMjUxMUU1OTlDNjk3RTlDRjc0MUExMiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3QTJGMzRGQTAxMjUxMUU1OTlDNjk3RTlDRjc0MUExMiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjdBMkYzNEY3MDEyNTExRTU5OUM2OTdFOUNGNzQxQTEyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjdBMkYzNEY4MDEyNTExRTU5OUM2OTdFOUNGNzQxQTEyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+zk00bgAAEL1JREFUeNrsnXuMXFUdx8+dnX10d9ltu93utl1L5VGlFKggEBCaGmlCkYcIKEiNEBIh4h8qiImiRhD+QIzGWBUjARUBRUSgPLQkNi2BQLHljRRa29LHlu223Xbf3e54v6d7x9l7z71zZ+aeO+fOfL/JJu3s7MydM5/7Pb9zzu/8jpXJZARVkKJqMItNGV5pNoFWGIt9D0JMUMsGZinXYxFUgpnE67UIKuFM2mexCCrhJLQElYBq/NwWQSWcBJagElACW3mgEtAqAjZFSKsO2ES2XZqA0mEJKgElsFXU9RNStrHRjkpA6a7GOyohZdsb7agElO5qvKMSUrqr8aASUsJqNKgZQkpYTQeVgCYP1ky1gUpI6a7Gg0pICavxoBJSwmo8qISUsBoPKiElrMaDSkgJq/GgElLCajyohJQyHlRCSldN7KifIqxGgUo3pTKmg0pIKS0spAgpVc2DKYqK1LxSpl0QRVh1gUpIKe2MpAgpxRiVoiIytVS53pgirHRUquKUjvvOoIrX8K5/i8ODPcrf1TS2i4ZZpyXFVa04QCWkMenAa/eL/ncfF2MHd4jxQ4PhusjaRlE34wTROO/TouWUayqmLawijpgkqJpdc+/aH4vRve9F8np1048XraddL5qOPd849nSCSkg1aWDTs6LXBnR8eL+W1081TBVt595qErAENWna+ZdLI3PQMMDOvuJRkW7qSBSshYBKSDW4aM+qm4MHEUfNOQJYXZOoaeoU6eYOkW49WtRNO2YiVFgvxkf6xKF9/xXjowfsnwH5OOLaIDV//FIxY8ntBJUK1ofPfF0Mbl0dCGi6eZaYMm+JaC1wUNRnD8KGtqwWY/27AoHF63ctX5UIWMOCSkhj6uoBaO20Y223u03UNM4o6X0OD+4Re1b/wHbbTb7AYpZg9pVPljMUIKhJghSA1tjx48xlK0oGVAUsQowgh+285PflnIe1CKpB6n78K3L6SQVp03HLxLQzv6H1/fv/85jYv/4eMXZgu4KElJh3/euJBpWQRqB9L/1M9G241wtpS5doO+e7YsrcxbFcB9x191NflYMut7siDJh73ctGwsq1/hg0NrDbF9L2pT+NDVIIYcXsK/4mZxGcGQVHWP1CaGKi8oFKN40iLn3kMmV3D0jr208syzX5wYr4GUu3SQOViqDLd682AY6jFl5VNkjdsLq198W7y3E5GYJaRvW9ep8HUsxfthqSMNK25HYZgqgGfklxVHb7EbipyIy7hgyW6LzEnK4Vro71f3cIgNkJxNamuCodNWY3ndJ1lnHXiWkxzOG69eFTNzBGrXTJ+VKFm7Yt/qGR1zv19BuVAyvTQWW3X6L2v/wLz2Mmumn22uYuVrqqDF/oqBXsqN0bPN3+1E/eaPQ117UvMOEyMgQ1JslBiKvbl2l6Ea/hR37d/d7BE7a1mOqo7PZL1IjLTSFkRJmuQ/s3ex4zZUcAHVWDBjauVMSnZxt9zfte+rltUZM9CvO9pnT/BFWDxkcPeuLT2rb5Zt9cm571JKk0HX+BMdeXJlalf8Fw0NHed8X42JDv5rxyL5cGadejX/S4KdL+pp35TYKaZGHKZuC9p2UictK1++mvicP2zeV209ZF1xp1nWkOpMKP5Pc8d4sy8TlJQj5q/3srxVjfVjGy+zVlXqpJo/2swbsSpwmqQn6Z+aHdwI5Ru67+R1nh3P/KCjG8Y53IjB/Ku0PVPaBCrFqmMMAiqCG7eFXCsx+MUO7qTu4EejmWTsNs7guPTEqGAzEDS1DzafsDSwNjUAmmZYl0U6fc0tww+3SjBky9a34khj54oXRAXcJ2lZkX/DqujYAE1U/o4oNyMQEoVpma5l9sTE6p20X99kSpegBlPB4C7pgKWBDUQrt6Zzszsozi3ONUiEZ63hI9q25S7zKd+AxWqtYOSU4QzfMvUn4OvMbwznXZAhZB4KIA2+wvPBY7qITUD9KWLrmUqHs7sy5IS7nJsGKFuWLMsypnB/TCSlDDQKqzKETkMfWD53sgdRx0+qduKbkX6Hnu22Jk9+tKWBGvooAFQS1DTOqU1um44FfGfwasLLkn7Z29WVFuexnatkb0Pn+n0rWnn3WzrsLBFkG1teU3C5WQYpdoawIqNsuu+f1nPJDqusmCQox5N7xJUHVo2/3n+G5lbk1IWXF3l1+Ik2KGYHTP25MeCxMiSFj/+S1PGNB49BI7TPqlFlCrdq1/z+rvKyGFEyUFUsyVupNJEJPmgxRlKQc2PuGZwjoyN3ynqJ16TGA1Qblz9bhlHicPKqNZqqo2zQ8Fw1QDpyTEpNn4esc6D2jNCy7PG88efPMhMdq70eOI+D/cGbHorr8vl0D7CTMgquIVMACCGpGUE/qWJWZd9ufYrwXdKMDI/Ql7o2Hd3u2mQb3Bzkc+r8yUUgnAAuggWFtO+rJn4WBwk56chqrr+pEF5U4wkXHpiVeW5Xr2rrlNwpp7LV1X548Th7a/UJCbdj9+Td7VKk9b2c8FrH7Lw1idck/rhT1mKNGgojjX4JZ/idF9m/xPB7FSIlXfIho6FomWRdcWvOaMVD230OW3JuxMprG+bZ7H/D4DbgR3EV8nV6F+5klym8yhvq1iePuLHsfFv3Ez+fU2WOU61Ldl0mNYIIh6r1XZQS34XKXMuIQYgbsM3m1wG+2RatjRpspNsWKjS7kj67oZCzwDFCs9Rfk3+RYYDrtuZHT7ftq/boW3FqodX6JI2iTZcSe6erho7vPxXn7XBMgxqJoE6saVlQMqumCUYyz5XCUbXACL+dB8KySqYgpwU51r98gDPfj2I/93sYn3bOg6y47xlovaaR+1b55XJjnY0La1slstaLChGNhkQRvo9tycHZ/9rfK5cOXhHS97XBXJ1irHrmlsk68XdZaWEYMpnAiy/Y+fifzwL7glgPWr74ntI+4vrPG4ZfHdnBhV2z/oivs2/E588IclWYjd8WfBjtM61/d3zpE+uVAHOXbLwisVocZW5XPjStCJ3VG33XtGYMDtuA66MjQouka4zmjPke7z8Eifb4JEdoDy4t3yDFF3soQnv9SO0UyMTUd73in4b9wwlhau9BrXJrGBGibPM+y5SoiXDrzxgBjc/Jzv1grEvFh5mnvN89kA3y1MbJsofCZMUxXiVuND/nAh1MhtI0Ad9PoH33rY893UzzxZPfsQcjotEaAGQVrMuUp4Hiac8YOGwmBBNT+I0AIOjgMUVEUhGuacof2z45RnRzhdbwzxYp4eAb/DZwoE1bJCOyrCgtwpMLw+kkval7Z5pp2cXamqqSil++/brD0+jQ3U7ieuVQIaRQoa/hY/Tt6kO1nCOUBhfLTf8/7Nx1+o/bM71+eeLgKIsoSOD7SAJcj1aupbxZjYPsmF/Ubm08/+jidFD+2E9Xr0Ygit0D4IOVQ9VFA5Igy83GqaH327ah9Moft1FwxzlivnXLUysmAc7orDG5DkrKrzqdr/VK4cU7gYlmq7vvSshEC1LQSwyDI7PnJX3sPzEQ759UBTPnK2533wN5hxwIAOU0yYD3VDivZEb+enuOpVaQU1KPFDx3IlAMCXHzRVkxu3mSAA23bu95Q3GLpzdMUqNZ9wuXf50o7Z/YRdsH43hW93O3EGlt8NLZdX9darsrSDinlSVeIHINKd+OF3gIKpQq/i3GC5IMHdsNVZtd6Om9I9yY9uO8iF0e71HSfnhVWaSeu8vGdg9b/919jqVaVU9EYhZf13ewDgWQ3R1LXCCYK+kKB5x3IJbeOGT66326Pw3MFQ1lUXXO4BG3E6YlU/tZ/3EzHr0j9JAHNdXM662D91bfNlPi7CsqDt39ia4k6KORKC6dn3r2UwBTd1L4nKpcpTr4/Vpeo7nsx+gZ47tK7ZSHfF4LJ37R3egc+qm2TiTO7UHf4NV5vU9vZzsV06yBDQlTu9Wu4Sb9jxAhxetX+q0NW0sseoe9fcrowJdX4QP/dwT+MkIQxAUrJn4DORdieTpXPU+onrlLEtUvrCTvWpZiaCIHXnAkiQahu17vPXAuqgaxJYd+JH4Bdv8AEPQTMYqsGezAP44AWZ/OyEArj53QMYPM+BNSgMKFSIf1WQQqieolORg6qqX4+4q1xFG3DAQyEjXVOkOk7HgdDZsyQn520QVVtP8Dxk8efL1A8jvAduDvfWk1xX113iJ/IY9eCbD3oeQ85iuYSuLcx0lYkhgJW6y98QJhJckNgSaBwTIQNiWQy+CsltyC5MBBRZA6SaBlBWEKj4ZUm7UUe6X/V0+ygfU07Vd5wi3SVpaphzuicpuahebgIyAIsZBBR2q+9cZLvgqdmbwhlUISEF2VuAM9+OAI2Q6ndUZOer3KGsoM48WZlOZ7qQJxBlRT7ndeCyWJHq2+Bkq93hOzviOzuhr+BEfNNTpimu5F4d3b8DUU7AL7fiRJXLW2ibYODWtXxV7G0R/aj/8OhkSAxYqjS1+l6oQM21AJBKN8jURexkQIGy2ECxv8f2pXeXBdKqcdQkyz0QdJLOMcp2EsOxowGJ4jLsch8UXMp71zbKWv4zzrvLjms7Yr0/w4Ba2oCqpk6InAx+mZFPaRVixdx4US6j9neL4Z2vFPV6SNMz5cS++Bw1w2rrpciz38l2ubygTUDWkrAt4LHGqOnGds9jqoQKKuR97k78QI9V2bIKAbXoBfK6mQs9o8rBzatIXBFS7UdSGUFVxOpRv2Dzxz7neQwVOKjCNbxrvWf6yG0EBLVIqdZ8nUobVOmOqjKCage1+O7fNb8HV8DBXFRhkHp2llqpuM53Mio+1eKo0PRzb/U8hrVjDqrCS1UvqjHBCxfGdf1O959yrUjJveSairxWmrDXTLW3fvriim4/qxRQi+7+2xSuiq4Me20of8kDdtff4x1E2eFUzKtDle+oECadVbEq9tqUmshbycJ+J9WJI5pPyKsIUIt2Vdm4VsoDK/Iig7b1VquwdURVmifuvWamdftaHdVR58X3eR6T23rff0aW66aOrNzteOhCZaIy0upiOBy3erv+3IEVMsFVsKLMDs5JquZQADE79j+pyulgXb9caXUmuam8YQt4saKzS5ztCu6DCXK3SGBPT+Mx58kqzKafOxqFgyI1b+TDN3yLpAFSVCGkJgDMhM9uKjkNCl8OiuwG3jkTZX9QJwlFIrCNBBn6pcpd1AHJ1KrKyjokSzP2bbV7kN3ykAi/mq65wlaPmubOvK9d09ie5EUASweokcAqa/c/fJG2Y16qLnZrmJotVlzJoMZewx9zgejSqmAkS0UEaTGgRlYfByNZnEaMg17dU1gUVexgSpuc86Gyh6HteYdhAd205Bg1slg1n1SHQ1AVM5iKDdRYYKXopmUbTFFU3KBabD4qLmboqJTxkEYBKl2VMr7rJ6xUbIykTLkQipAyRqUSDWnUoNJVKaNj1Emwus+XoqpPQ9vWRm5cpaxMBYmrVuzyjXZUitISAqaSdLFUdUKq21EJK5WYrp+w0k0TE6MSVkKamMEUYSWkiRn1E1ZCmghQCSshTQyohJWQJgZUwkpIEwMqYU0moGX7zlLV/OGp5JhKig1BJeG7SbFBqCR8J2lDG4ZpggTUWEelu7LtE+OodFcCmihHpbuyjRPjqHRXApo4UAlslfdSKTZ01QGayLZLJ7zR6a5VcmOnK+hLILAV3POkK/RLyRDQylK6wr+oDAElqHRZwklQCS3hrFZQg77oDMEkqASXYBLUMoCSIYwElfEhpdT/BBgAuAPVwuJ0PIEAAAAASUVORK5CYII=",alt:"soajs",width:"35px",height:"35px"})," SOAJS"]})}),Object(I.jsx)(Sa.a.Toggle,{"aria-controls":"main-navbar-nav"}),Object(I.jsx)(Sa.a.Collapse,{id:"main-navbar-nav",className:"justify-content-end",children:Object(I.jsx)(Aa.a,{activeKey:window.location.pathname,children:t?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Pa.LinkContainer,{to:"/catalogs",children:Object(I.jsx)(Aa.a.Link,{children:s("soajs:menu.catalogs")})}),Object(I.jsx)(Pa.LinkContainer,{to:"/environments",children:Object(I.jsx)(Aa.a.Link,{children:s("soajs:menu.environments")})}),Object(I.jsx)(Pa.LinkContainer,{to:"/multitenancy",children:Object(I.jsx)(Aa.a.Link,{children:s("soajs:menu.multitenancy")})}),Object(I.jsx)(Pa.LinkContainer,{to:"/reports",children:Object(I.jsx)(Aa.a.Link,{children:s("soajs:menu.reports")})}),Object(I.jsx)(Pa.LinkContainer,{to:"/settings",children:Object(I.jsx)(Aa.a.Link,{children:s("soajs:menu.Manage")})}),Object(I.jsxs)(Ta.a,{alignRight:!0,title:Iu(r),id:"collasible-nav2-dropdown",children:[Object(I.jsxs)("span",{className:"ml-4 font-weight-bold",children:[Iu(r,a)," ",a]}),Object(I.jsx)(Ta.a.Divider,{}),Object(I.jsx)(Pa.LinkContainer,{to:"/myProfile",children:Object(I.jsx)(Ta.a.Item,{children:s("menu.profile")})}),Object(I.jsx)(Pa.LinkContainer,{to:"/change-password",children:Object(I.jsx)(Ta.a.Item,{children:s("menu.changePassword")})}),Object(I.jsx)(Pa.LinkContainer,{to:"/change-email",children:Object(I.jsx)(Ta.a.Item,{children:s("menu.changeEmail")})}),Object(I.jsx)(Ta.a.Divider,{}),Object(I.jsx)(Ta.a.Item,{onClick:n,children:s("menu.logout")})]})]}):Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(Pa.LinkContainer,{to:"/sign-in",children:Object(I.jsx)(Aa.a.Link,{children:s("menu.login")})})})})})]})},zu=xe.getService(),Eu=Ce.getService(),_u=ke.getService(),Gu=Pe.getService(),Du=new w.a,Ru=function(){return Object(I.jsx)("div",{className:"App",children:Object(I.jsx)("div",{children:"loading..."})})};var Uu=function(){var e=Object(k.k)(),t=Object(n.useState)(!0),a=Object(y.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(!1),i=Object(y.a)(r,2),o=i[0],l=i[1],d=Object(n.useState)(),j=Object(y.a)(d,2),u=j[0],m=j[1];function b(){return(b=Object(v.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!1),t.prev=1,t.next=4,Eu.logout();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),ie.error(t.t0.message);case 9:zu.clearToken(),zu.clearUser(),e.push("/sign-in");case 12:case"end":return t.stop()}}),t,null,[[1,6]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!zu.getAccessToken()){e.next=18;break}return e.prev=2,e.next=5,_u.getUser();case 5:return e.next=7,Gu.createUserAbilities(Du);case 7:m(zu.getFirstname()),c(!1),l(!0),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),c(!1),ie.info(e.t0.message);case 16:e.next=19;break;case 18:c(!1);case 19:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),!s&&Object(I.jsxs)(n.Suspense,{fallback:Object(I.jsx)(Ru,{}),children:[Object(I.jsx)("div",{className:"pt-1",style:{backgroundColor:"#DE962E"}}),Object(I.jsxs)("div",{className:"App",children:[Object(I.jsx)(Mu,{isAuthenticated:o,firstName:u,handleLogout:function(){return b.apply(this,arguments)}}),Object(I.jsx)("div",{className:"bg-secondary pt-1"}),Object(I.jsxs)(T.Provider,{value:{isAuthenticated:o,userHasAuthenticated:l,setFirstName:m,ability:Du},children:[Object(I.jsx)(le,{}),Object(I.jsx)(Nu,{})]})]}),Object(I.jsx)("div",{className:"bg-secondary p-1"}),Object(I.jsx)("div",{className:"bg-dark p-2 text-white text-center",children:Object(I.jsxs)("small",{children:[Object(I.jsxs)("a",{className:"text-white",href:"https://www.soajs.org/",children:[Object(I.jsx)(C.d,{})," copyright SOAJS"]})," an ",Object(I.jsx)("a",{className:"text-white",href:"https://lfaidata.foundation/projects/",children:"LFAI project"})]})})]})},Fu=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,954)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(I.jsx)(i.BrowserRouter,{children:Object(I.jsx)(Uu,{})}),document.getElementById("root")),Fu()}},[[880,1,2]]]);
//# sourceMappingURL=main.8c701855.chunk.js.map