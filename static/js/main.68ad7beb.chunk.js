(this["webpackJsonpconsole.ui"]=this["webpackJsonpconsole.ui"]||[]).push([[0],{155:function(e){e.exports=JSON.parse('{"name":"","type":"","description":"","subtype":"","recipe":{"deployOptions":{"image":{"name":"","tag":"","prefix":"","repositoryType":"public","pullPolicy":"IfNotPresent","shell":"/bin/bash","override":true,"binary":false},"readinessProbe":null,"liveinessProbe":null,"ports":[],"voluming":[],"labels":{},"execCommands":{},"securityContext":{"pod":{},"container":{}}},"buildOptions":{"cmd":{"deploy":{"command":[],"args":[]}},"env":{},"settings":{}}},"envs":[]}')},163:function(e){e.exports=JSON.parse('{"readinessProbe":{"httpGet":{"path":"/heartbeat","port":"maintenance"},"initialDelaySeconds":1,"timeoutSeconds":2,"periodSeconds":2,"successThreshold":3,"failureThreshold":0},"livenessProbe":{"httpGet":{"path":"/functional","port":"maintenance"},"initialDelaySeconds":10,"timeoutSeconds":15,"periodSeconds":20,"successThreshold":10,"failureThreshold":2},"volumes":[{"volume":{"name":"XXX","secret":{"secretName":"SECRET_NAME"}},"volumeMount":{"name":"XXX","mountPath":"/"}},{"volume":{"name":"YYYY","hostPath":{"path":"/"}},"volumeMount":{"name":"YYYY","mountPath":"/"}}]}')},164:function(e){e.exports=JSON.parse('{"console":"General Console Abilities","marketplace":"Marketplace Abilities","repositories":"Git Account & Repositories Abilities","multitenant":"Multi Tenant Abilities","urac":"User Registration Abilities","oauth":"Authentication Abilities","infra":"Infrastructure Abilities","soaanalytics":"Analytics Abilities","soamonitor":"Monitoring Abilities"}')},244:function(e){e.exports=JSON.parse('{"name":"","type":"static","value":"","secret":"","key":"","default":"","label":"","fieldMsg":""}')},448:function(e){e.exports=JSON.parse('{"menu":{"locations":"Projects","organizations":"Organizations","companies":"Companies","locationSettings":"Project Settings","companySettings":"Company Settings","profile":"Mon profil","changePassword":"Changer le mot de passe","changeEmail":"Changer l\'e-mail","logout":"Se d\xe9connecter","login":"Se connecter","signUp":"S\'abonner"},"home":{"welcome":"Bienvenue sur la page d\'accueil"},"users":{"title":"List of Users"},"groups":{"title":"List of Groups"},"companies":{"title":"List of Companies"},"locations":{"title":"List of Projects","manage":"Manage Projects","add":"Add a project"},"settings":{"selectCompany":"Select a company","selectLocation":"Select a project"}}')},449:function(e){e.exports=JSON.parse('{"menu":{"signUp":"Sign Up","login":"Sign In","locations":"My Locations","companies":"My Companies","locationSettings":"Location Settings","companySettings":"Company Settings","profile":"My Profile","changePassword":"Change Password","changeEmail":"Change Email","logout":"Logout"},"NoAccess":"You do not have access...","welcome":"Multitenant microservice architecture made easy with SOAJS","NotFound":"404 - not found!","ClickHere":"Click Here"}')},450:function(e){e.exports=JSON.parse('{"Email or Username":"Email or Username","Username":"Username","First Name":"First Name","Last Name":"Last Name","Email":"Email","Password":"Password","Confirm Password":"Confirm Password","New Password":"New Password","Existing Password":"Existing Password","Forgot Password":"Forgot Password","Login":"Login","New Email":"New Email","Confirm New Email":"Confirm New Email","msg":{"signup":"You will receive a validation email with a link to click on it and confirm your sign up.","signupSuccess":"Please check your email and click on the link to validate the email.","changeEmail":"You will receive a validation email with a link to help you validate your new email otherwise the email will remain the same.","changeEmailSuccess":"Please check your email and click on the link to validate the new email.","changePasswordSuccess":"Password has been changed.","forgotPassword":"Enter your email or username to receive a reset password link by email.","forgotPasswordSuccess":"An email was sent to you to help you reset your password.","resetPasswordSuccess":"Done! You should login with the new password.","resetPasswordError":"Unable to continue with reset password, no token has been provided! You can request a reset password","thirdPartyLoginConfirm":": Login was successful, you will be redirected to member home page.","thirdPartyLoginError":": Unable to log you in, try again later!","thirdPartyLoginProcess":"We are in the process of validating your login with ...","validateChangeEmailProcess":"We are in the process of validating your new email token ...","validateChangeEmailError":"Unable to validate change email, no token has been provided!","validateChangeEmailError2":"Unable to proceed, no token has been provided!","validateChangeEmailSuccess":"Your new email has been validated.","validateSignupWarning":"Unable to validate your account, no token has been provided!","validateSignupSuccess":"Please check your email and click on the link to validate your account.","validateSignupSuccess2":"You will receive a validation email with a new token link to help you validate your account.","validateSignupProcess":"We are in the process of validating your account ...","validateSignupConfirm":"Your account has been validated, you should be able to login now."},"button":{"Login":"Login","Request":"Request","Change":"Change","Signup":"Signup"}}')},451:function(e){e.exports=JSON.parse('{"Email or Username":"Email or Username","Username":"Username","First Name":"First Name","Last Name":"Last Name","Email":"Email","Password":"Password","Confirm Password":"Confirm Password","New Password":"New Password","Existing Password":"Existing Password","Forgot Password":"Forgot Password","Login":"Login","New Email":"New Email","Confirm New Email":"Confirm New Email","msg":{"signup":"You will receive a validation email with a link to click on it and confirm your sign up.","signupSuccess":"Please check your email and click on the link to validate the email.","changeEmail":"You will receive a validation email with a link to help you validate your new email otherwise the email will remain the same.","changeEmailSuccess":"Please check your email and click on the link to validate the new email.","changePasswordSuccess":"Password has been changed.","forgotPassword":"Enter your email or username to receive a reset password link by email.","forgotPasswordSuccess":"An email was sent to you to help you reset your password.","resetPasswordSuccess":"Done! You should login with the new password.","resetPasswordError":"Unable to continue with reset password, no token has been provided! You can request a reset password","thirdPartyLoginConfirm":": Login was successful, you will be redirected to member home page.","thirdPartyLoginError":": Unable to log you in, try again later!","thirdPartyLoginProcess":"We are in the process of validating your login with ...","validateChangeEmailProcess":"We are in the process of validating your new email token ...","validateChangeEmailError":"Unable to validate change email, no token has been provided!","validateChangeEmailError2":"Unable to proceed, no token has been provided!","validateChangeEmailSuccess":"Your new email has been validated.","validateSignupWarning":"Unable to validate your account, no token has been provided!","validateSignupSuccess":"Please check your email and click on the link to validate your account.","validateSignupSuccess2":"You will receive a validation email with a new token link to help you validate your account.","validateSignupProcess":"We are in the process of validating your account ...","validateSignupConfirm":"Votre compte a \xe9t\xe9 valid\xe9, vous devriez pouvoir vous <1>connecter</1> maintenant."},"button":{"Login":"Login","Request":"Request","Change":"Change","Signup":"Signup"}}')},452:function(e){e.exports=JSON.parse('{"button":{"Add":"Add","Save":"Save","Actions":"Actions","Cancel":"Cancel","Update":"Update","Delete":"Delete","Invite":"Invite","UnInvite":"Un-Invite","Go Back":"Go Back","AddInvite":"Add & Invite"},"ID":"ID","companies":{"title":"List of Companies","add":"Add a company","edit":"Edit a company","msg":"You do not have or belong to any company.","updateMsg":"Company has been updated successfully.","addMsg":"Company has been added successfully.","name":"Name","description":"Description"},"address":{"title":"Address Information","address1":"Address 1","address2":"Address 2","city":"City","zip":"Zip","state":"State","country":"Country"},"contact":{"title":"Contact Information","primary":"Primary contact","secondary":"Secondary contact","Title":"Title","firstName":"First Name","lastName":"Last Name","phone":"Phone","email":"Email"},"locations":{"title":"List of Locations","manage":"Manage location","add":"Add a location","edit":"Edit a location","msg":"You do not belong to any location to manage.","name":"Name","description":"Description","updateMsg":"Location has been updated successfully.","addMsg":"Location has been added successfully."},"users":{"title":"List of Users","tab":"users","msgUpdate":"User has been updated.","edit":"Edit user","Username":"Username","Email":"Email","LastLogin":"Last Login","firstName":"First Name","lastName":"Last Name","Status":"Status","Groups":"Groups","msgInvite":"User has been invited.","msgUnInvite":"User has been un-invited.","invite":"Invite User","useroremail":"Username or Email","UnInvite":"Un-Invite","msgUnInviteConfirm":"Are you sure you want to un-invite!","msgAddinvite":"The user does not exit, kindly fill the information below to invite or click on Go Back to invite someone else."},"groups":{"title":"List of Groups","tab":"Groups","add":"Add a group","msgAdd":"Group has been added.","code":"Code","name":"Name","description":"Description","msgUpdate":"Group has been updated.","edit":"Edit group","msgDelete":"Group has been deleted.","msgDeleteConfirm":"Are you sure you want to delete!"},"packages":{"tab":"Packages"},"settings":{"selectCompany":"Select a company","selectLocation":"Select a project"}}')},453:function(e){e.exports=JSON.parse('{"button":{"Add":"Add","Save":"Save","Actions":"Actions","Cancel":"Cancel","Update":"Update","Delete":"Delete","Invite":"Invite","UnInvite":"Un-Invite","Go Back":"Go Back","AddInvite":"Add & Invite"},"ID":"ID","companies":{"title":"List of Companies","add":"Add a company","edit":"Edit a company","msg":"You do not have or belong to any company.","updateMsg":"Company has been updated successfully.","addMsg":"Company has been added successfully.","name":"Name","description":"Description"},"address":{"title":"Address Information","address1":"Address 1","address2":"Address 2","city":"City","zip":"Zip","state":"State","country":"Country"},"contact":{"title":"Contact Information","primary":"Primary contact","secondary":"Secondary contact","Title":"Title","firstName":"First Name","lastName":"Last Name","phone":"Phone","email":"Email"},"locations":{"title":"List of Locations","manage":"Manage location","add":"Add a location","edit":"Edit a location","msg":"You do not belong to any location to manage.","name":"Name","description":"Description","updateMsg":"Location has been updated successfully.","addMsg":"Location has been added successfully."},"users":{"title":"List of Users","tab":"users","msgUpdate":"User has been updated.","edit":"Edit user","Username":"Username","Email":"Email","firstName":"First Name","lastName":"Last Name","Status":"Status","Groups":"Groups","msgInvite":"User has been invited.","msgUnInvite":"User has been un-invited.","invite":"Invite User","useroremail":"Username or Email","UnInvite":"Un-Invite","msgUnInviteConfirm":"Are you sure you want to un-invite!","msgAddinvite":"The user does not exit, kindly fill the information below to invite or click on Go Back to invite someone else."},"groups":{"title":"List of Groups","tab":"Groups","add":"Add a group","msgAdd":"Group has been added.","code":"Code","name":"Name","description":"Description","msgUpdate":"Group has been updated.","edit":"Edit group","msgDelete":"Group has been deleted.","msgDeleteConfirm":"Are you sure you want to delete!"},"packages":{"tab":"Packages"},"settings":{"selectCompany":"Select a company","selectLocation":"Select a project"}}')},454:function(e){e.exports=JSON.parse('{"menu":{"authentication":"Authentication","AccessRights":"Access Rights","workloads":"Workloads","nodes":"Nodes","services":"Services","storage":"Storage","configuration":"Configuration","RBAC":"RBAC","Deployment":"Deployment","products":"Products","tenantusers":"Tenant Users","maintenants":"Main Tenants","subtenants":"Sub Tenants","environments":"Environments","packages":"Packages","multitenancy":"Multitenancy","users":"Users","groups":"Groups","integration":"Integration","development":"Development","catalogs":"Marketplace","reports":"Reports","Manage":"Manage","settings":"Settings","registry":"Registry","cluster":"Cluster","Application":"Application","Event":"Event","Topic":"Topic","API":"API","Daemon":"Daemon","Frontend":"Frontend","Custom":"Custom","Resource":"Resource","Config":"Config","Recipe":"Recipe","SOAJS":"SOAJS","GitRepositories":"Git Repositories","GitAccounts":"Git Accounts","APIMetrics":"API Metrics","APICatalog":"API Catalog","APIACL":"API ACL","APIMonitor":"API Monitor","APIAnalytics":"API Analytics","Notifications":"Notifications","ReleaseUpdate":"Release Update","Infrastructure":"Infrastructure","ContinuousDelivery":"Continuous Delivery","Tokens":"Tokens","Configuration":"Configuration"},"buttons":{"Uninvite":"unInvite","Invite":"Invite","Fetch":"Fetch","Filter":"Filter","AddWizard":"Add Wizard","Change":"Change","Select":"Select","reDeploy":"reDeploy","Deploy":"Deploy","Add":"Add","Upgrade":"Upgrade","Update":"Update","Delete":"Delete","Cancel":"Cancel","Sync":"Synchronize","Configure":"Configure","TurnOn":"Turn On","TurnOff":"Turn Off","Search":"Search","Save":"Save","Ok":"Ok","Close":"Close","Details":"Details","Actions":"Actions","View":"View","Edit":"Edit","Acl":"ACL","Execute":"Execute","Refresh":"Refresh","Redeploy":"Redeploy"},"titles":{"consoleConfiguration":"Console Configuration","resourceDelete":"Delete","resourceAdd":"Add a resource item","resourceEdit":"Update","tokenAdd":"Add CD token","CDToken":"Available Continuous Delivery Tokens","secrets":"Secrets","nodes":"Nodes","services":"Services","workloads":"Workloads","env_cat_recipe":"Recipe Catalog","env_cat_config":"Config Catalog","env_cat_daemon":"Daemon Catalog","env_cat_service":"API Catalog","env_cat_static":"Frontend Catalog","env_cat_custom":"Custom Catalog","env_cat_resource":"Resource Catalog","tenantApplicationAdd":"Add Application to a Tenant","tenantApplicationExtKey":"External Key Configuration","tenantExtKeyAdd":"Add an External Key","tenantApplicationKey":"Tenant Key Configuration","tenantApplicationUpdate":"Update Tenant Application","tenantOauth":"Update Tenant oAuth","tenantUpdate":"Update Tenant","tenantAdd_product":"Add Main Tenant","tenantAdd_client":"Add Sub Tenant","selectEnvironment":"Select an environment","packageUpdate":"Update package information","productAdd":"Add a product","productUpdate":"Update product information","throttlingStrategy":"Select a throttling strategy","addThrottling":"Add a throttling strategy","infrastructure":"List of Clusters","users":"List of Users","groups":"List of Groups","packages":"List of Packages","packageInfo":"Package Information","userInfo":"User Information","groupInfo":"Group Information","environment":"Environment","allowedRecipes":"Allowed Recipes","listRecipes":"List of Recipes","Documentation":"Documentation","Swagger":"Swagger","groupAdd":"Add a Group","userAdd":"Add a User","packageAdd":"Add a Package","packageEdit":"Edit a Package","editUser":"Edit a user","groupEdit":"Edit a group","clusterConfiguration":"Cluster Configuration","environmentConfiguration":"Environment Configuration","envNamespace":"Update Namespace Configuration","DefaultRegistry":"Default Registry","Awareness":"Awareness","Throttling":"Throttling","Databases":"Databases","CustomRegistry":"Custom Registry","ResourceConfiguration":"Resource Configuration","DetailedInformation":"Detailed Information","resourceRegistry":"List of Resources","customRegistry":"List of Custom Registry","ResourceRegistry":"Resource Configuration","clusterAdd":"Add a Cluster","clusterUpdate":"Update a Cluster","customRegistryAdd":"Add a Custom Registry","customRegistryUpdate":"Update a Custom Registry","resourceRegistryAdd":"Add a Resource Registry","resourceRegistryUpdate":"Update a Resource Registry","MainAbilities":"Main Abilities","DefaultAbilities":"Default Abilities","Containerdeploymentdetect":"Container deployment detect","Manualdeploymentdetect":"Manual deployment detect","ThrottlingPrivate":"Throttling for private API","ThrottlingPublic":"Throttling for Public API","ManageThrottling":"Manage throttling strategies","addDB":"Add Database","GlobalPrefix":"Global Prefix","addRecipe":"Add a New Recipe","editRecipe":"Edit Recipe"},"fields":{"Readme":"Readme","Release":"Release","lastUpdated":"Last Updated","Users":"Users","InvitedUsers":"Invited Users","DateRange":"Date Range","Key":"Key","FieldMsg":"Help message","Default":"Default","SelectRecipe":"Select a recipe","BranchOrTag":"Branch Or Tag","Replicas":"Replicas","Memory":"Memory","Schedule":"Schedule","ConcurrencyPolicy":"Concurrency Policy","RestartPolicy":"Restart Policy","DeploymentType":"Deployment Type","CDStrategy":"Continuous Delivery Strategy","Recipe":"Recipe","Branch":"Repository Branch","Commit":"Repository Commit","ImageTag":"Image Tag","tag":"Tag","CommandArguments":"Command Arguments","ContainerCommand":"Container Command","Binary":"Binary","Override":"Override","Shell":"Shell","PullPolicy":"Pull Policy","ID":"ID","Tenant":"Tenant","Date":"Date","Min":"Min","Max":"Max","Count":"Count","Service":"Service","Api":"Api","Method":"Method","Commands":"Commands","Response":"Response","Geo":"Geo","Device":"Device","Env":"Select an Environment","Secret":"Secret","OauthType":"oAuth User Authentication Type","MainTenant":"Main Tenant","Profile":"Profile","Tag":"Repository Tag","TTL":"TTL","Prefix":"Prefix","Multitenant":"Multitenant","Cluster":"Cluster","Code":"Code","Type":"Type","Name":"Name","Description":"Description","Username":"Username","Email":"Email","LastLogin":"Last Login","JoinedOn":"Joined On","FirstName":"First Name","LastName":"Last Name","Status":"Status","Groups":"Groups","Version":"Version","Environments":"Environments","Recipes":"Recipes","MasterNode":"Master Node IP","Namespace":"Namespace","NamespaceSelection":"Namespace Selection","ExistingNamespace":"Choose a Namespace","CreateNamespace":"Create New Namespace","Awareness":"Awareness","Controller":"Controller","Logger":"Logger","Cors":"CORS","Oauth":"oAuth","Ports":"Ports","Requests":"Requests","ServiceName":"Service Name","ServiceGroup":"Service Group","ServiceVersion":"Service Version","Route":"API Route","Program":"Program","NbrApi":"Nbr. of APIs","Environment":"Environment","Label":"Label","Url":"URL","Port":"Port","Token":"Token","Certificate":"Certificate","Value":"Value","Configuration":"Configuration","Settings":"Settings","PlugConfiguration":"Plug configuration","ShareConfiguration":"Share configuration with other environments","Category":"Category","SelectType":"--- Select a type ---","SelectCategory":"--- Select a category ---","CacheTTL":"Cache T T L","Healthcheckinterval":"Health check interval","Autoreloadregistry":"Auto reload registry","Maxlogcount":"Max log count","Automaticregisterservice":"Automatic register service","Enabled":"Enabled","Origin":"Origin","Credentials":"Credentials","Methods":"Methods","Headers":"Headers","Maxage":"Maxage","Authorization":"Authorization","Timeout":"Timeout","Timeoutrenewal":"Timeout renewal","Gatewayport":"Gateway port","Gatewaymaintenanceport":"Gateway maintenance port","Randomizedportincrement":"Randomized port increment","Source":"Source","Level":"Level","Levelinstring":"Level in string","Outputtype":"Output type","Grants":"Grants","Debug":"Debug","Getuserinformationfromtoken":"Get user information from token","Accesstokenlifetime":"Access token lifetime","Refreshtokenlifetime":"Refresh token lifetime","sitePrefix":"Site Prefix","apiPrefix":"API Prefix","Domain":"Domain","Protocol":"Protocol","ExpDate":"Expiration Date","ExternalKey":"External Key","ProductCode":"Product Code","ProductName":"Product Name","PackageCode":"Package Code","PackageName":"Package Name","Window":"Window","Limit":"Limit","Retries":"Retries","Delay":"Delay"},"messages":{"consoleConfigurationUpdate":"Console configuration has been updated successfully.","delete_resource":"Resource has been deleted successfully.","add_resource":"Resource has been added successfully.","addToken":"CD Token status has been added successfully.","deleteToken":"CD Token has been deleted successfully.","updateToken":"CD Token status has been updated successfully.","delete_Secret":"Secret has been deleted successfully.","update_Secret":"Secret has been updated successfully.","add_Secret":"Secret has been added successfully.","delete_Service":"Service has been deleted successfully.","update_Service":"Service has been updated successfully.","add_Service":"Service has been added successfully.","delete_Pod":"Pod has been deleted successfully.","update_Pod":"Pod has been updated successfully.","delete_Deployment":"Deployment has been deleted successfully.","update_Deployment":"Deployment has been updated successfully.","delete_DaemonSet":"DaemonSet has been deleted successfully.","update_DaemonSet":"DaemonSet has been updated successfully.","delete_CronJob":"CronJob has been deleted successfully.","update_CronJob":"CronJob has been updated successfully.","editRecipe":"Recipe has been updated successfully.","addRecipe":"Recipe has been added successfully.","deleteItem":"Item deployment deleted successfully.","restartItem":"Item deployment restarted successfully.","execCommand":"Command executed successfully.","tenantOauth":"Tenant oAuth update successfully.","tenantExtKeyAdd":"External Key has been added successfully.","tenantApplicationKey":"Key configuration has been updated successfully.","tenantApplicationExtKey":"External Key has been updated successfully.","tenantApplicationUpdate":"Application has been updated successfully.","tenantApplicationAdd":"Application has been added successfully.","delete_tenant":"Tenant has been deleted successfully.","delete_application":"Application has been deleted successfully.","delete_key":"Key has been deleted successfully.","delete_extKey":"External Key has been deleted successfully.","tenantUpdate":"Tenant has been updated successfully.","tenantAdd":"Tenant has been added successfully.","updatePackageAcl":"The package ACL has been update successfully.","packageUpdate":"Package has been updated successfully.","packageAdd":"Package has been added successfully.","delete_package":"Package has been deleted successfully.","delete_product":"Product has been deleted successfully.","productAdd":"Product has been added successfully.","productUpdate":"Product has been updated successfully.","deleteDB":"Database has been deleted successfully.","updatePrefix":"Global prefix has been updated successfully.","GlobalPrefix":"This is a global prefix for all databases in this environment.","addDB":"Database has been added successfully.","updateThrottling":"Throttling has been updated successfully.","deleteThrottling":"Throttling has been deleted successfully.","addThrottling":"Throttling has been added successfully.","editPackage":"Package has been updated successfully.","addPackage":"Package has been added successfully.","addGroup":"Group has been added successfully.","addUser":"User has been added successfully.","deletePackage":"Package has been deleted successfully.","deleteGroup":"Group has been deleted successfully.","deleteUser":"User has been deleted successfully.","editUser":"User has been updated successfully.","editGroup":"Group has been updated successfully.","deleteQuestion":"Are you sure you want to delete?","groupsItemSuccess":"Configuration for groups updated successfully.","environmentsItemSuccess":"Configuration for environments updated successfully.","recipesItemSuccess":"Configuration for recipes updated successfully.","envGroupSaveSuccess":"Configuration for Groups updated successfully.","envGroupDeleteSuccess":"Configuration for Groups deleted successfully.","envNamespace":"Namespace updated successfully.","deleteCluster":"Cluster has been deleted successfully.","deleteEnvironment":"Environment has been deleted successfully.","empty":"Nothing to show.","customGroupSaveSuccess":"Configuration for Groups updated successfully.","customGroupDeleteSuccess":"Configuration for Groups deleted successfully.","deleteCustom":"Custom registry has been deleted successfully.","deleteResource":"Resource registry has been deleted successfully.","resourceGroupDeleteSuccess":"Configuration for Groups deleted successfully.","resourceGroupSaveSuccess":"Configuration for Groups updated successfully.","pluggedCustom":"Resource has been plugged successfully.","unpluggedCustom":"Resource has been unplugged successfully.","pluggedResource":"Resource has been plugged successfully.","unpluggedResource":"Resource has been unplugged successfully.","addInfraAccount":"Cluster has been added successfully.","updateInfraAccount":"Cluster has been updated successfully.","addCustom":"Custom registry has been added successfully.","updateCustom":"Custom registry has been updated successfully.","addResource":"Resource registry has been added successfully.","updateResource":"Resource registry has been updated successfully.","containerMsg1":"SOAJS Gateway creates automatically awareness and mesh interconnect among your micoservices, you do not need to do anything.","manualMsg1":"SOAJS Gateway creates awareness and mesh interconnect among your micoservices, you just need to set the following environment variable before you start any microservice.","manualMsg2":"For more information about SOAJS Gateway automated awareness and interconnect mesh among deployed microsrvices.","prefixMsg":"In case API Prefix and Site Prefix were not specified, they will be set by default to \\"api\\" and \\"site\\" respectively.\\n"},"catalogs":{"metadata":{"title":"Metadata","tags":"Tags","program":"Program","attributes":"Attributes"},"configuration":{"title":"Configuration","requestTimeout":"Request Timeout","requestTimeoutRenewal":"Request Timeout Renewal","maintenanceRoute":"Maintenance Route"},"lastSynchronized":"Last synchronized:","availableBranches":"Available branches:","search":"Search by service name","zeroMsg":"You do not have any items in this catalog.","version":"Version","configure":{"title":"Item settings","note":"Make sure you click on Save for each tab you want to save its Configuration ..."},"recipes":"Recipes"},"development":{"accounts":{"addTitle":"Add a GIT account","title":"List of GIT accounts","organizations":"Organizations available in this account","deleteConfirmMsg":"Are you sure you want to delete the Git account?","deleteMsg":"Git account has been deleted.","zeroMsg":"You do not have any Git account.","provider":"Select a provider","domain":"Provider domain","label":"Account label","username":"Username","email":"Email","token":"Personal token","accountType":"Account type","accessType":"Access type","consumerKey":"OAuth 2.0 Consumer Key","consumerSecret":"OAuth 2.0 Consumer Secret","addMsg":"Git account has been added and repositories are being added.","upgradeMsg":"Git account has been upgraded and repositories are being added.","syncMsg":"Repositories are being updated..."},"repositories":{"turnOnTitle":"New Item","turnOnMsg":"The following item has been added to your catalogs","deleteRepo":"Repository deleted successfully.","turnOnRepo":"Repository turned On successfully.","turnOffRepo":"Repository turned Off successfully.","turnOffBranchMsg":"Branch turned Off successfully.","turnOffTagMsg":"Tag turned Off successfully.","syncMsg":"Synchronization done successfully.","zeroMsg":"You do not have any Git repository.","Branches":"Branches","Tags":"Tags","name":"Name","type":"Type","swagger":"Swagger"}}}')},455:function(e){e.exports=JSON.parse('{"menu":{"development":"Development","catalogs":"Catalogs","reports":"Reports","settings":"Settings","Application":"Application","Event":"Event","Topic":"Topic","API":"API","Frontend":"Frontend","Custom":"Custom","Resource":"Resource","Config":"Config","Recipe":"Recipe","SOAJS":"SOAJS","GitRepositories":"Git Repositories","GitAccounts":"Git Accounts","APIMetrics":"API Metrics","APICatalog":"API Catalog","APIACL":"API ACL","APIMonitor":"API Monitor","APIAnalytics":"API Analytics","Notifications":"Notifications","ReleaseUpdate":"Release Update"},"buttons":{"Add":"Add","Upgrade":"Upgrade","Delete":"Delete","Cancel":"Cancel","Sync":"Synchronize","Configure":"Configure","TurnOn":"Turn On","TurnOff":"Turn Off"},"development":{"accounts":{"addTitle":"Add a GIT account","title":"List of GIT accounts","organizations":"Organizations available in this account","deleteConfirmMsg":"Are you sure you want to delete the Git account?","deleteMsg":"Git account has been deleted.","zeroMsg":"You do not have any Git account.","provider":"Select a provider","domain":"Provider domain","label":"Account label","username":"Username","email":"Email","token":"Personal token","accountType":"Account type","accessType":"Access type","consumerKey":"OAuth 2.0 Consumer Key","consumerSecret":"OAuth 2.0 Consumer Secret"},"repositories":{"zeroMsg":"You do not have any Git repository.","tagSearch":"Search"}}}')},485:function(e){e.exports=JSON.parse('[{"l":"SOAJS Service","disabled":true},{"l":"$SOAJS_SRV_PORT","disabled":false},{"l":"$SOAJS_SRV_PORT_MAINTENANCE","disabled":false},{"l":"SOAJS Daemon","disabled":true},{"l":"$SOAJS_DAEMON_GRP_CONF","disabled":false},{"l":"SOAJS Service/Daemon","disabled":true},{"l":"$SOAJS_ENV","disabled":false},{"l":"$SOAJS_PROFILE","disabled":false},{"l":"$SOAJS_SERVICE_NAME","disabled":false},{"l":"SOAJS Deployer","disabled":true},{"l":"$SOAJS_DEPLOY_HA","disabled":false},{"l":"$SOAJS_CONTROLLER_PORT_MAINTENANCE","disabled":false},{"l":"$SOAJS_REGISTRY_API","disabled":false},{"l":"GIT Information","disabled":true},{"l":"$SOAJS_GIT_OWNER","disabled":false},{"l":"$SOAJS_GIT_BRANCH","disabled":false},{"l":"$SOAJS_GIT_COMMIT","disabled":false},{"l":"$SOAJS_GIT_TOKEN","disabled":false},{"l":"$SOAJS_GIT_PROVIDER","disabled":false},{"l":"$SOAJS_GIT_DOMAIN","disabled":false},{"l":"SOAJS Nginx","disabled":true},{"l":"$SOAJS_EXTKEY","disabled":false},{"l":"$SOAJS_NX_DOMAIN","disabled":false},{"l":"$SOAJS_NX_API_DOMAIN","disabled":false},{"l":"$SOAJS_NX_SITE_DOMAIN","disabled":false},{"l":"$SOAJS_NX_CONTROLLER_IP","disabled":false},{"l":"$SOAJS_NX_CONTROLLER_PORT","disabled":false}]')},502:function(e,t,a){},513:function(e,t,a){},515:function(e,t,a){},837:function(e,t,a){},838:function(e,t,a){},839:function(e,t,a){},840:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),r=a(60),c=a.n(r),i=a(32),o=a(323),l=a(182),d=a(447),j=a(448),u=a(449),m=a(450),p=a(451),b=a(452),h=a(453),O=a(454),x=a(455);o.a.use(d.a).use(l.e).init({fallbackLng:"EN",debug:!1,interpolation:{escapeValue:!1},resources:{EN:{common:u,urac:m,organization:b,soajs:O},FR:{common:j,urac:p,organization:h,soajs:x}}});o.a,a(502);var f=a(3),g=a.n(f),v=a(6),y=a(4),w=a(52),k=a(247),C=a(46),N=(a(504),a(7)),S=a(117),P=a(458),A=Object(n.createContext)(null);Object(P.a)(A.Consumer);function T(){return Object(n.useContext)(A)}var E=a(1);function I(e){var t=e.children,a=Object(S.a)(e,["children"]),n=Object(w.l)(),s=n.pathname,r=n.search,c=T().isAuthenticated,i=!0;return a.ability&&a.ability.cannot("route",a.path)&&(i=!1),Object(E.jsx)(w.d,Object(N.a)(Object(N.a)({},a),{},{children:c?i?t:Object(E.jsx)(w.c,{to:"/no-access"}):Object(E.jsx)(w.c,{to:"/sign-in?redirect=".concat(s).concat(r)})}))}function U(e){var t=e.children,a=Object(S.a)(e,["children"]),n=T().isAuthenticated,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;e=e.replace(/[[]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)","i").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}("redirect");return Object(E.jsx)(w.d,Object(N.a)(Object(N.a)({},a),{},{children:n?Object(E.jsx)(w.c,{to:""===s||null===s?"/home":s}):t}))}var L=a(94),M=a(56);a(513);function z(e){var t=e.isLoading,a=e.className,n=void 0===a?"":a,s=e.disabled,r=void 0!==s&&s,c=Object(S.a)(e,["isLoading","className","disabled"]);return Object(E.jsxs)(L.a,Object(N.a)(Object(N.a)({disabled:r||t,className:"LoaderButton ".concat(n)},c),{},{children:[t&&Object(E.jsx)(M.a,{className:"spinning"}),c.children]}))}var _=a(16),R=a(25),G=a.n(R);function D(e,t,a){return"string"===typeof t?D(e,t.split("."),a):1===t.length&&void 0!==a?e[t[0]]=a:0===t.length?e:D(e[t[0]],t.slice(1),a)}function F(e){var t=Object(n.useState)(e),a=Object(y.a)(t,2),s=a[0],r=a[1];return[s,function(e){var t=s;D(t,e.target.id,e.target.value),r(Object(N.a)({},t))},function(e){var t=G.a.merge(s,e);r(t)}]}var B=a(38),K=a(41),H=a(42),J=a(43),W=a(881),V=a(903),q=a(14),Y=a.n(q),X=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(B.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).componentDidMount=function(){var t=e.props.timeOut;0!==t&&(e.timer=setTimeout(e.requestHide,t))},e.componentWillUnmount=function(){e.timer&&clearTimeout(e.timer)},e.handleClick=function(){var t=e.props.onClick;t&&t(),e.requestHide()},e.requestHide=function(){var t=e.props.onRequestHide;t&&t()},e}return Object(K.a)(a,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.message,n=this.props.title,s=Y()(["notification","notification-".concat(t)]);return n=n?Object(E.jsx)("h4",{className:"title",children:n}):null,Object(E.jsx)("div",{className:s,onClick:this.handleClick,children:Object(E.jsxs)("div",{className:"notification-message",role:"alert",children:[n,Object(E.jsx)("div",{className:"message",children:a})]})})}}]),a}(s.a.Component);X.defaultProps={type:"info",title:null,message:null,timeOut:5e3,onClick:function(){},onRequestHide:function(){}};var Q=X,Z=function(e){var t=e.children,a=Object(S.a)(e,["children"]),n=s.a.useRef(null);return Object(E.jsx)(W.a,Object(N.a)(Object(N.a)({nodeRef:n},a),{},{children:Object(E.jsx)("div",{ref:n,children:t})}))},$=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(B.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).handleRequestHide=function(t){return function(){var a=e.props.onRequestHide;a&&a(t)}},e}return Object(K.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.notifications,n=t.enterTimeout,s=t.leaveTimeout,r=Y()("notification-container",{"notification-container-empty":0===a.length}),c=a.map((function(t,a){var r=t.id||(new Date).getTime();return Object(E.jsx)(Z,{classNames:"notification",timeout:{enter:n,exit:s},children:Object(E.jsx)(Q,{type:t.type,title:t.title,message:t.message,timeOut:t.timeOut,onClick:t.onClick,onRequestHide:e.handleRequestHide(t)},r)},a)}));return Object(E.jsx)("div",{className:r,children:Object(E.jsx)(V.a,{children:c})})}}]),a}(s.a.Component);$.defaultProps={notifications:[],onRequestHide:function(){},enterTimeout:400,leaveTimeout:400};var ee=$,te=a(460),ae="change",ne="info",se="success",re="warning",ce="error",ie=new(function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;return Object(B.a)(this,a),(e=t.call(this)).listNotify=[],e}return Object(K.a)(a,[{key:"create",value:function(e){var t={id:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),type:"info",title:null,message:null,timeOut:5e3};e.priority?this.listNotify.unshift(Object.assign(t,e)):this.listNotify.push(Object.assign(t,e)),this.emitChange()}},{key:"info",value:function(e,t,a,n,s){this.create({type:ne,message:e,title:t,timeOut:a,onClick:n,priority:s})}},{key:"success",value:function(e,t,a,n,s){this.create({type:se,message:e,title:t,timeOut:a,onClick:n,priority:s})}},{key:"warning",value:function(e,t,a,n,s){this.create({type:re,message:e,title:t,timeOut:a,onClick:n,priority:s})}},{key:"error",value:function(e,t,a,n,s){this.create({type:ce,message:e,title:t,timeOut:a,onClick:n,priority:s})}},{key:"remove",value:function(e){this.listNotify=this.listNotify.filter((function(t){return e.id!==t.id})),this.emitChange()}},{key:"emitChange",value:function(){this.emit(ae,this.listNotify)}},{key:"addChangeListener",value:function(e){this.addListener(ae,e)}},{key:"removeChangeListener",value:function(e){this.removeListener(ae,e)}}]),a}(te.EventEmitter)),oe=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(B.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={notifications:[]},e.componentDidMount=function(){ie.addChangeListener(e.handleStoreChange)},e.componentWillUnmount=function(){ie.removeChangeListener(e.handleStoreChange)},e.handleStoreChange=function(t){e.setState({notifications:t})},e.handleRequestHide=function(e){ie.remove(e)},e}return Object(K.a)(a,[{key:"render",value:function(){var e=this.state.notifications,t=this.props,a=t.enterTimeout,n=t.leaveTimeout;return Object(E.jsx)(ee,{enterTimeout:a,leaveTimeout:n,notifications:e,onRequestHide:this.handleRequestHide})}}]),a}(s.a.Component);oe.defaultProps={enterTimeout:400,leaveTimeout:400};var le=oe,de=a(461),je=a.n(de),ue=(a(514),a(515),function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){return Object(B.a)(this,a),t.apply(this,arguments)}return Object(K.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={templates:this.props.templates,mode:this.props.mode,modes:this.props.modes,onChangeJSON:this.props.onChangeJSON,onChange:function(){if(e.props.onChange)try{e.props.onChange(e.jeditor.get())}catch(t){e.props.onChange(null)}}};this.jeditor=new je.a(this.container,t),this.jeditor.set(this.props.json)}},{key:"componentWillUnmount",value:function(){this.jeditor&&this.jeditor.destroy()}},{key:"componentDidUpdate",value:function(){this.jeditor.update(this.props.json)}},{key:"render",value:function(){var e=this;return Object(E.jsx)("div",{className:"jsoneditor-react-container",ref:function(t){return e.container=t}})}}]),a}(n.Component)),me=a(462),pe=a(67),be=a(220),he=function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){return Object(B.a)(this,a),t.apply(this,arguments)}return Object(K.a)(a,[{key:"render",value:function(){var e=this.props,t=e.strategies,a=e.isThirdParty,n=e.onRequest,s=t.map((function(e,t){return"facebook"===e?Object(E.jsxs)(L.a,{block:!0,size:"md",className:"mt-2 mb-2",variant:"outline-info",disabled:a,onClick:function(t){return n(t,e)},children:[Object(E.jsx)(pe.b,{})," Login in with ",e]},t):"twitter"===e?Object(E.jsxs)(L.a,{block:!0,size:"md",className:"mt-2 mb-2",variant:"outline-info",disabled:a,onClick:function(t){return n(t,e)},children:[Object(E.jsx)(pe.f,{})," Login in with ",e]},t):"apple"===e?Object(E.jsxs)(L.a,{block:!0,size:"md",className:"mt-2 mb-2",variant:"outline-info",disabled:a,onClick:function(t){return n(t,e)},children:[Object(E.jsx)(pe.a,{})," Login in with ",e]},t):"google"===e?Object(E.jsxs)(L.a,{block:!0,size:"md",className:"mt-2 mb-2",variant:"outline-info",disabled:a,onClick:function(t){return n(t,e)},children:[Object(E.jsx)(pe.c,{})," Login in with ",e]},t):"azure"===e?Object(E.jsxs)(L.a,{block:!0,size:"md",className:"mt-2 mb-2",variant:"outline-info",disabled:a,onClick:function(t){return n(t,e)},children:[Object(E.jsx)(be.b,{})," Login in with ",e]},t):null}));return s&&s.length>0&&Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"mt-4",children:Object(E.jsx)("hr",{})}),Object(E.jsx)(me.a,{className:"thirdPartyLogin mt-4 p-3",children:s})]})}}]),a}(s.a.Component);he.defaultProps={strategies:[],onRequest:function(){},isThirdParty:!1};var Oe=he,xe=function(){var e;return{getService:function(){return e||(e=this)},setUserKeyACL:function(e,t){var a=localStorage.getItem("userACL");(a=a?JSON.parse(a):{})[t]=e,localStorage.setItem("userACL",JSON.stringify(a))},getUserKeyACL:function(e){var t=localStorage.getItem("userACL");return t&&(t=JSON.parse(t))[e]?t[e]:null},setToken:function(e){localStorage.setItem("access_token",e.access_token),localStorage.setItem("refresh_token",e.refresh_token)},getAccessToken:function(){return localStorage.getItem("access_token")},getRefreshToken:function(){return localStorage.getItem("refresh_token")},clearToken:function(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")},clearUser:function(){localStorage.removeItem("username"),localStorage.removeItem("firstname"),localStorage.removeItem("userid"),localStorage.removeItem("userACL")},setUsername:function(e){localStorage.setItem("username",e)},getUsername:function(){return localStorage.getItem("username")},setUserid:function(e){localStorage.setItem("userid",e)},getUserid:function(){return localStorage.getItem("userid")},setFirstrname:function(e){localStorage.setItem("firstname",e)},getFirstname:function(){return localStorage.getItem("firstname")}}}(),fe=a(9),ge=a.n(fe),ve={consoleEnvironment:"dashboard",badTokenMessages:["The access token provided has expired.","The access token provided is invalid."],alreadyInvited:["User is already in the tenant tenancy.","User has already been invited."],noToken:["/oauth/token"]},ye=xe.getService(),we=function(){var e=null;return{getService:function(){return e||(e=this)},changePassword:function(e,t,a){var n=ye.getUserid();return n?ge.a.put("/urac/account/password",{id:n,oldPassword:e,password:t,confirmation:a}).then((function(e){return e&&e.data&&e.data.result?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to change password"))})).catch((function(){return Promise.reject(new Error("Unable to change password"))})):Promise.reject(new Error("Unable to change password"))},forgotPassword:function(e){return ge.a.get("/urac/password/forgot/?username="+e).then((function(e){return e&&e.data&&e.data.result?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to proceed please try again later"))}))},changeEmail:function(e){var t=ye.getUserid();return t?ge.a.put("/urac/account/email",{id:t,email:e}).then((function(e){return e&&e.data&&e.data.result?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to change email"))})).catch((function(){return Promise.reject(new Error("Unable to change email"))})):Promise.reject(new Error("Unable to change email"))},signup:function(e){return ge.a.post("/urac/join",{username:e.username,firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password}).then((function(e){return e&&e.data&&e.data.result?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to sign up"))})).catch((function(e){return e.response&&e.response.data&&e.response.data.errors&&e.response.data.errors.codes&&e.response.data.errors.codes.includes(402)?Promise.reject(new Error("Username and/or Email already exist.")):Promise.reject(new Error("Unable to sign up"))}))},updateMyProfile:function(e,t){var a=ye.getUserid();if(a){var n={id:a,firstName:e.firstName,lastName:e.lastName};return t&&(n.profile=t),ge.a.put("/urac/account",n).then((function(t){return t&&t.data&&t.data.result?(ye.setFirstrname(e.firstName),Promise.resolve("Profile has been updated.")):Promise.reject(new Error("Unable to update profile information"))})).catch((function(e){return e.response&&e.response.data&&e.response.data.errors&&e.response.data.errors.codes&&e.response.data.errors.codes.includes(533)?Promise.resolve("Nothing to update!"):Promise.reject(new Error("Unable to update profile information"))}))}return Promise.reject(new Error("Unable to update profile information"))},getUser:function(){var e=ye.getUsername();return e?ge.a.get("/urac/user?username="+e).then((function(e){return e&&e.data&&e.data.result?(ye.setFirstrname(e.data.data.firstName),ye.setUserid(e.data.data._id),Promise.resolve(e.data.data)):Promise.reject(new Error("Unable to get user information"))})).catch((function(){return Promise.reject(new Error("Unable to get user information"))})):Promise.reject(new Error("Unable to get user information"))},getUserId:function(e,t){var a=null;return t&&(a={headers:{key:t}}),ge.a.get("/urac/admin/user?id="+e,a).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to get user information"))})).catch((function(){return Promise.reject(new Error("Unable to get user information"))}))},getUsersId:function(e,t){var a=null;return t&&(a={headers:{key:t}}),ge.a.post("/urac/admin/users/ids",{ids:e},a).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to get users"))})).catch((function(){return Promise.reject(new Error("Unable to get users"))}))},validateJoin:function(e){return ge.a.get("/urac/validate/join?token="+e).then((function(e){return e&&e.data&&e.data.result?Promise.resolve(!0):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to proceed please try again later"))}))},emailToken:function(e){return ge.a.get("/urac/emailToken?username="+e).then((function(e){return e&&e.data&&e.data.result?Promise.resolve(!0):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to proceed please try again later"))}))},resetPassword:function(e,t,a){return ge.a.put("/urac/password/reset",{token:e,confirmation:a,password:t}).then((function(e){return e&&e.data&&e.data.result?Promise.resolve(!0):Promise.reject(new Error("Unable to reset password"))})).catch((function(){return Promise.reject(new Error("Unable to reset password"))}))},validateChangeEmail:function(e){return ge.a.get("/urac/validate/changeEmail?token="+e).then((function(e){return e&&e.data&&e.data.result?Promise.resolve(!0):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to proceed please try again later"))}))},getUserACL:function(e){var t="0000000000000000";e&&(t=e.substr(e.length-16));var a=ye.getUserKeyACL(t);if(a)return Promise.resolve(a);var n=null;return e&&(n={headers:{key:e}}),ge.a.get("/soajs/acl",n).then((function(e){return e&&e.data?(ye.setUserKeyACL(e.data,t),Promise.resolve(e.data)):Promise.reject(new Error("Unable to get ACL please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to get ACL please try again later"))}))},getUsers:function(e,t,a){var n={params:{config:!0}};return e&&(n.headers={key:e}),t&&(n.params.scope=t),a&&(a.keywords&&(n.params.keywords=a.keywords),a.limit&&(n.params.limit=a.limit),a.start&&(n.params.start=a.start)),ge.a.get("/urac/admin/users",n).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to proceed please try again later"))}))},getUsersCount:function(e,t,a){var n={params:{}};return e&&(n.headers={key:e}),t&&(n.params.scope=t),a&&a.keywords&&(n.params.keywords=a.keywords),ge.a.get("/urac/admin/users/count",n).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to proceed please try again later"))}))},getGroup:function(e,t){var a=null;return t&&(a={headers:{key:t}}),ge.a.get("/urac/admin/group?id="+e,a).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to proceed please try again later"))}))},getGroups:function(e){var t=null;return e&&(t={headers:{key:e}}),ge.a.get("/urac/admin/groups",t).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to proceed please try again later"))}))},deleteGroup:function(e,t){var a=null;return t&&(a={headers:{key:t}}),ge.a.delete("/urac/admin/group?id="+e,a).then((function(e){return e&&e.data&&e.data.result?Promise.resolve("Group has been deleted."):Promise.reject(new Error("Unable to delete group"))})).catch((function(){return Promise.reject(new Error("Unable to delete group"))}))},deleteUser:function(e,t){var a=null;return t&&(a={headers:{key:t}}),ge.a.delete("/urac/admin/user?id="+e,a).then((function(e){return e&&e.data&&e.data.result?Promise.resolve("User has been deleted."):Promise.reject(new Error("Unable to delete user"))})).catch((function(){return Promise.reject(new Error("Unable to delete user"))}))},uninviteUser:function(e,t){var a=null;t&&(a={headers:{key:t}});var n=[{user:{id:e.id}}];return ge.a.put("/urac/admin/users/uninvite",{users:n},a).then((function(e){return e&&e.data&&e.data.result?e.data.data&&e.data.data.failed&&Array.isArray(e.data.data.failed)&&e.data.data.failed.length>0&&e.data.data.failed[0].reason?Promise.reject(new Error(e.data.data.failed[0].reason)):Promise.resolve("User has been un-invited."):Promise.reject(new Error("Unable to un-invite user"))})).catch((function(e){return e.message?Promise.reject(e):Promise.reject(new Error("Unable to un-invite user"))}))},inviteUser:function(e,t){var a=null;t&&(a={headers:{key:t}});var n=[{user:{},groups:e.groups||null}];return-1!==e.user.indexOf("@")?n[0].user.email=e.user:n[0].user.username=e.user,ge.a.put("/urac/admin/users/invite",{users:n},a).then((function(e){return e&&e.data&&e.data.result?e.data.data&&e.data.data.failed&&Array.isArray(e.data.data.failed)&&e.data.data.failed.length>0&&e.data.data.failed[0].reason?ve.alreadyInvited.includes(e.data.data.failed[0].reason)?Promise.resolve(e.data.data.failed[0]):Promise.reject(new Error(e.data.data.failed[0].reason)):Promise.resolve("User has been invited."):Promise.reject(new Error("Unable to invite user"))})).catch((function(e){return e.message?Promise.reject(e):Promise.reject(new Error("Unable to invite user"))}))},addUser:function(e,t){var a=null;t&&(a={headers:{key:t}});var n={email:e.email,username:e.username,firstName:e.firstName,lastName:e.lastName};return e.groups&&(n.groups=e.groups),ge.a.post("/urac/admin/user",n,a).then((function(e){return e&&e.data&&e.data.result?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to add user"))})).catch((function(e){return e.response&&e.response.data&&e.response.data.errors&&e.response.data.errors.codes&&e.response.data.errors.codes.includes(402)?Promise.reject(new Error("Username and/or Email already exist.")):Promise.reject(new Error("Unable to add user"))}))},editUser:function(e,t){var a=null;t&&(a={headers:{key:t}});var n={user:{id:e.id},groups:e.groups};return ge.a.put("/urac/admin/user/groups",n,a).then((function(e){return e&&e.data&&e.data.result?Promise.resolve("User has been updated."):Promise.reject(new Error("Unable to updated user"))})).catch((function(){return Promise.reject(new Error("Unable to updated user"))}))},updateUser:function(e,t){var a=null;t&&(a={headers:{key:t}});var n={id:e.id,username:e.username,firstName:e.firstName,lastName:e.lastName,email:e.email,status:e.status,groups:e.groups};return ge.a.put("/urac/admin/user",n,a).then((function(e){return e&&e.data&&e.data.result?Promise.resolve("User has been updated."):Promise.reject(new Error("Unable to updated user"))})).catch((function(){return Promise.reject(new Error("Unable to updated user"))}))},editGroup:function(e,t){var a=null;t&&(a={headers:{key:t}});var n={id:e.id,name:e.name,description:e.description,packages:e.packages};return ge.a.put("/urac/admin/group",n,a).then((function(e){return e&&e.data&&e.data.result?Promise.resolve("Group has been updated."):Promise.reject(new Error("Unable to updated group"))})).catch((function(){return Promise.reject(new Error("Unable to updated group"))}))},addGroup:function(e,t){var a=null;t&&(a={headers:{key:t}});var n={code:e.code,name:e.name,description:e.description,packages:e.packages};return ge.a.post("/urac/admin/group",n,a).then((function(e){return e&&e.data&&e.data.result?Promise.resolve("Group has been added."):Promise.reject(new Error("Unable to added group"))})).catch((function(){return Promise.reject(new Error("Unable to added group"))}))},checkIfUserExist:function(e,t){var a=null;return t&&(a={headers:{key:t}}),ge.a.get("/urac/checkUsername?username="+e,a).then((function(e){return e&&e.data&&e.data.result?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to check if user exists"))})).catch((function(){return Promise.reject(new Error("Unable to check if user exists"))}))},getUsersProxy:function(e,t,a,n){var s={params:{proxyRoute:"/urac/admin/users",config:!0,extKey:e},headers:{__env:n.toLowerCase()}};return t&&(s.params.scope=t),a&&(a.keywords&&(s.params.keywords=a.keywords),a.limit&&(s.params.limit=a.limit),a.start&&(s.params.start=a.start)),ge.a.get("/soajs/proxy",s).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to proceed please try again later"))}))},getGroupsProxy:function(e,t){var a={params:{proxyRoute:"/urac/admin/groups",extKey:e},headers:{__env:t.toLowerCase()}};return ge.a.get("/soajs/proxy",a).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to proceed please try again later"))}))},getUsersCountProxy:function(e,t,a,n){var s={params:{proxyRoute:"/urac/admin/users/count",config:!0,extKey:e},headers:{__env:n.toLowerCase()}};return t&&(s.params.scope=t),a&&a.keywords&&(s.params.keywords=a.keywords),ge.a.get("/soajs/proxy",s).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(){return Promise.reject(new Error("Unable to proceed please try again later"))}))}}}(),ke=xe.getService(),Ce=function(){var e=null;return{getService:function(){return e||(e=this)},login:function(e,t){return ge.a.post("/oauth/token",{username:e,password:t,grant_type:"password"}).then((function(t){return t&&t.data&&t.data.access_token?(ke.setToken(t.data),ke.setUsername(e),Promise.resolve(t.data)):Promise.reject(new Error("Unable to login"))})).catch((function(){return Promise.reject(new Error("Unable to login"))}))},logout:function(){var e=ke.getRefreshToken(),t=ke.getAccessToken();return e?ge.a.delete("/oauth/refreshToken/"+e).then((function(){if(t)return ge.a.delete("/oauth/accessToken/"+t)})).catch((function(){if(t)return ge.a.delete("/oauth/accessToken/"+t)})):t?ge.a.delete("/oauth/accessToken/"+t):void 0},availableLogin:function(){return ge.a.get("/oauth/available/login").then((function(e){return e&&e.data&&e.data.result?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to retrieve 3rd party login!"))})).catch((function(){return Promise.reject(new Error("Unable to retrieve 3rd party login!"))}))},thirdPartyLogin:function(e){return ge.a.get("/oauth/passport/login/"+e).then((function(e){return e&&e.data&&e.data.result?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to continue with 3rd party login!"))})).catch((function(){return Promise.reject(new Error("Unable to continue with 3rd party login!"))}))},validateThirdPartyLogin:function(e,t){return ge.a.get("/oauth/passport/validate/"+e+t).then((function(t){return t&&t.data&&t.data.result?Promise.resolve(t.data.data):Promise.reject(new Error("Unable to validate your "+e+" login!"))})).catch((function(){return Promise.reject(new Error("Unable to validate your "+e+" login!"))}))}}}(),Ne={abilities:{infra:{get:{"/kubernetes/pod/log":{I:"infra_pod",A:"log",M:"View the log of a pod"}},post:{"/kubernetes/workload/:mode":{I:"infra_workload",A:"add",M:"Add a Workload (Deployment, DaemonSet, CronJob, Pod, HPA)"},"/kubernetes/secret":{I:"infra_secret",A:"add_wizard",M:"Add a text, file, or json secret via the wizard"},"/kubernetes/secret/registry":{I:"infra_secret",A:"add_wizard_registry",M:"Add a private registry account information as a secret via the wizard"},"/kubernetes/configuration/:mode":{I:"infra_configuration",A:"add",M:"Add a Configuration (secret)"},"/kubernetes/service/:mode":{I:"infra_service",A:"add",M:"Add a new Service"},"/account/kubernetes":{I:"infra_account",A:"add",M:"Add a new cluster"},"/cd/token":{I:"infra_cd_token",A:"add",M:"Add a a continuous delivery token"}},put:{"/cd/token/status":{I:"infra_cd_token",A:"update",M:"Update the status of a continuous delivery token"},"/kubernetes/workload/:mode":{I:"infra_workload",A:"edit",M:"Update a Workload (Deployment, DaemonSet, CronJob, Pod, HPA)"},"/kubernetes/service/:mode":{I:"infra_service",A:"edit",M:"Update a Service"},"/kubernetes/resource/restart":{I:"infra_item",A:"restart",M:"Restart all pods of a deployed item"},"/account/kubernetes/configuration":{I:"infra_account",A:"edit",M:"Edit the cluster configuration"},"/account/kubernetes/acl":{I:"infra_account",A:"updateAcl",M:"Update the cluster group configuration"},"/kubernetes/pod/exec":{I:"infra_pod",A:"exec",M:"Execute commands inside a pod"}},delete:{"/cd/token":{I:"infra_cd_token",A:"delete",M:"Delete a continuous delivery token"},"/kubernetes/workload/:mode":{I:"infra_workload",A:"delete",M:"Delete a Workload (Deployment, DaemonSet, CronJob, HPA)"},"/kubernetes/pods":{I:"infra_pod",A:"delete",M:"Delete a Pod"},"/kubernetes/configuration/:mode":{I:"infra_configuration",A:"delete",M:"Delete a Configuration (secret)"},"/kubernetes/service/:mode":{I:"infra_service",A:"delete",M:"Delete a Service"},"/kubernetes/item":{I:"infra_item",A:"delete",M:"Delete an item deployment"},"/account/kubernetes":{I:"infra_account",A:"delete",M:"Delete a cluster"},"/account/kubernetes/acl":{I:"infra_account",A:"deleteAcl",M:"Delete the cluster group configuration"}}},console:{post:{"/environment":{I:"env",A:"add",M:"Add an environment"},"/registry/custom":{I:"registry_custom",A:"add",M:"Add a custom registry"},"/registry/resource":{I:"registry_resource",A:"add",M:"Add a resource registry"},"/registry/db/custom":{I:"registry_db",A:"add",M:"Add a database"}},put:{"/registry/throttling":{I:"registry",A:"throttling",M:"Add, Update and delete throttling"},"/registry/db/prefix":{I:"registry_db",A:"prefix",M:"Update global databases prefix for an environment"},"/environment/acl":{I:"env_aclGroups",A:"update",M:"Update the environment group configuration"},"/environment":{I:"env",A:"update",M:"Update the environment"},"/registry/custom/acl":{I:"registry_custom",A:"update_acl",M:"Update the custom registry group configuration"},"/registry/resource/acl":{I:"registry_resource",A:"update_acl",M:"Update the resource registry group configuration"},"/registry/custom":{I:"registry_custom",A:"edit",M:"Edit and plug/unplug a custom registry"},"/registry/resource":{I:"registry_resource",A:"edit",M:"Edit and plug/unplug a resource registry"},"/registry":{I:"registry",A:"edit",M:"Edit registry"}},delete:{"/registry/db/custom":{I:"registry_db",A:"delete",M:"Delete a database"},"/registry/custom/acl":{I:"registry_custom",A:"delete_acl",M:"Delete the custom registry group configuration"},"/registry/custom":{I:"registry_custom",A:"delete",M:"Delete a custom registry"},"/registry/resource/acl":{I:"registry_resource",A:"delete_acl",M:"Delete the resource registry group configuration"},"/registry/resource":{I:"registry_resource",A:"delete",M:"Delete a resource registry configuration"},"/environment/acl":{I:"env_aclGroups",A:"delete",M:"Delete the environment group configuration"},"/environment":{I:"env",A:"delete",M:"Delete an environment"}}},marketplace:{post:{"/recipe":{I:"market_recipe",A:"add",M:"Add a recipe"}},put:{"/item/resource":{I:"market_item_resource",A:"add",M:"Add/Update a resource item"},"/item/deploy/build":{I:"market_item",A:"build",M:"Save deployment configuration and deploy"},"/item/deploy/configure":{I:"market_item",A:"configure",M:"Configure a deployment for an item"},"/item/deploy/redeploy":{I:"market_item",A:"redeploy",M:"Redeploy an item"},"/recipe":{I:"market_recipe",A:"edit",M:"Edit a recipe"},"/item/acl":{I:"market_item",A:"settings_groups",M:"Update the item group configuration"},"/item/environments":{I:"market_item",A:"settings_environments",M:"Update the item environment configuration"},"/item/recipes":{I:"market_item",A:"settings_recipe",M:"Update the item recipe configuration"},"/soajs/item/acl":{I:"market_item_soajs",A:"settings_groups",M:"Update a soajs item group configuration"},"/soajs/item/environments":{I:"market_item_soajs",A:"settings_environments",M:"Update a soajs item environment configuration"},"/soajs/item/recipes":{I:"market_item_soajs",A:"settings_recipe",M:"Update a soajs item recipe configuration"}},delete:{"/item":{I:"market_item",A:"delete",M:"Delete an item from a catalog (Resource)"},"/item/configure/deploy":{I:"market_item_configure",A:"delete",M:"Delete the deployment configuration of an item"}}},repositories:{post:{"/git/account":{I:"repo_account",A:"add",M:"Add a git account"}},put:{"/git/sync/account":{I:"repo_account",A:"synchronize",M:"Synchronize a git account"},"/git/account":{I:"repo_account",A:"upgrade",M:"Upgrade a git account from public to private"},"/git/repo/activate":{I:"repo",A:"turnOn",M:"Turn on a repository"},"/git/repo/deactivate":{I:"repo",A:"turnOff",M:"Turn off a repository"},"/git/sync/repository":{I:"repo",A:"synchronize",M:"Synchronise a repository"},"/git/branch/activate":{I:"repo_branch",A:"turnOn",M:"Turn on a branch"},"/git/branch/deactivate":{I:"repo_branch",A:"turnOff",M:"Turn off a branch"},"/git/sync/branch":{I:"repo_branch",A:"synchronize",M:"Synchronise a branch"},"/git/tag/activate":{I:"repo_tag",A:"turnOn",M:"Turn on a tag"},"/git/tag/deactivate":{I:"repo_tag",A:"turnOff",M:"Turn off a tag"}},delete:{"/git/account":{I:"repo_account",A:"delete",M:"Delete a git account"},"/git/repo":{I:"repo",A:"delete",M:"Delete a repository"}}},multitenant:{put:{"/product":{I:"product",A:"edit",M:"Edit a product"},"/product/package":{I:"package",A:"edit",M:"Edit a product package"},"/product/package/acl/env":{I:"package",A:"acl",M:"Edit a product package ACL"},"/product/console/package":{I:"console_package",A:"edit",M:"Edit the information of a console package"},"/product/console/package/acl/env":{I:"console_package",A:"acl",M:"Edit the ACL of a console package"},"/admin/tenant/application/key/config":{I:"tenant_application_key",A:"configure",M:"Configure tenant application key by environment"},"/tenant/console/application/key/config":{I:"tenant_console_application_key",A:"configure",M:"Update console configuration"},"/admin/tenant/application/key/ext":{I:"tenant_application_ekey",A:"configure",M:"Configure tenant application external key by environment"},"/admin/tenant/oauth":{I:"tenant",A:"configure",M:"Configure tenant oauth"},"/admin/tenant":{I:"tenant",A:"edit",M:"Update tenant"},"/admin/tenant/application":{I:"tenant_application",A:"edit",M:"Update tenant application"}},post:{"/product":{I:"product",A:"add",M:"Add a product"},"/product/package":{I:"package",A:"add",M:"Add a product package"},"/product/console/package":{I:"console_package",A:"add",M:"Add a console package"},"/admin/tenant/application/key":{I:"tenant_application_key",A:"add",M:"Add a tenant application key"},"/tenant":{I:"tenant",A:"add",M:"Add a tenant"},"/admin/tenant/application":{I:"tenant_application",A:"add",M:"Add a tenant application"},"/admin/tenant/application/key/ext":{I:"tenant_application_ekey",A:"add",M:"Add a tenant application external key"}},delete:{"/product":{I:"product",A:"delete",M:"Delete a product"},"/product/package":{I:"package",A:"delete",M:"Delete a product package"},"/product/console/package":{I:"console_package",A:"delete",M:"Delete a console package"},"/tenant":{I:"tenant",A:"delete",M:"Delete a tenant"},"/tenant/application":{I:"tenant_application",A:"delete",M:"Delete a tenant application"},"/tenant/application/key":{I:"tenant_application_key",A:"delete",M:"Delete a tenant application key"},"/tenant/application/key/ext":{I:"tenant_application_ekey",A:"delete",M:"Delete a tenant application external key"}}},urac:{put:{"/admin/group":{I:"group",A:"edit",M:"Edit a group"},"/admin/user":{I:"user",A:"edit",M:"Edit a user"}},post:{"/admin/group":{I:"group",A:"add",M:"Add a group"},"/admin/user":{I:"user",A:"add",M:"Add a user"}},delete:{"/admin/group":{I:"group",A:"delete",M:"Delete a group"},"/admin/user":{I:"user",A:"delete",M:"Delete a user"}}}},default:{infra:{get:{"/cd/tokens":{M:"Get the list of continuous delivery tokens"},"/kubernetes/clusters/Namespace":{M:"Get the list of available namespaces"},"/account/kubernetes":{M:"Get the list of available infrastructure accounts"},"/manual/awareness":{M:"Trigger manual awareness"},"/kubernetes/workloads/:mode":{M:"Get the list of available workload by mode"},"/kubernetes/clusters/:mode":{M:"Get the list of available cluster by mode"},"/kubernetes/configurations/:mode":{M:"Get the list of available configurations by mode"},"/kubernetes/services/:mode":{M:"Get the list of available services by mode"},"/kubernetes/item/inspect":{M:"Inspect an item"}}},console:{get:{"/api/acl/usage/tenants":{M:"Get the API usage information by tenant and environment"},"/api/acl/usage":{M:"Get the API usage information by product and environment"},"/dashboard/services":{M:"Get the list of available Services"},"/dashboard/apis/v2":{M:"Get the list of available APIs as well as the related metadata"},"/apis/v2":{M:"Get the list of available APIs"},"/ledger":{M:"Get the list of available notifications"},"/registry/throttling":{M:"Get the list of available throttling by environment"},"/registry/custom":{M:"Get the list of available custom registry by environment"},"/registry/resource":{M:"Get the list of available resource configuration by environment"},"/environment":{M:"Get the list of available environment"},"/environment/settings":{M:"Get the environment settings"},"/registry/deployer":{M:"Get the environment infrastructure deployment information"},"/registry":{M:"Get the registry information by environment"}}},marketplace:{get:{"/recipes/ids":{M:"Get the list of specific recipes by IDs"},"/recipes":{M:"Get the list of available recipes"},"/soajs/items":{M:"Get the list of available soajs items"},"/items":{M:"Get the list of available items"},"/item/type":{M:"Get an item by type"}},put:{"/item/maintenance":{M:"Trigger maintenance command on an item"}}},multitenant:{get:{"/tenant/console":{M:"Get the information of the console tenant"},"/product/console":{M:"Get the information of the console product"},"/products":{M:"Get the list of available products"},"/product":{M:"Get the information of a specific product"},"/tenants":{M:"Get the list of available tenants"},"/tenant/tenants":{M:"Get the list of available sub tenants for a specific main tenant"},"/admin/tenant":{M:"Get the information of a specific tenant"}}},repositories:{get:{"/git/account":{M:"Get the infromation of a specific git account"},"/git/accounts":{M:"Get the list of available git accounts"},"/git/tag":{M:"Get a specific tag by repository"},"/git/tags":{M:"Get the list of available tags by repository"},"/git/branch":{M:"Get the list of available branches by repository"}},post:{"/git/repos":{M:"List repositories with advance search capabilities"}}},urac:{get:{"/admin/groups":{M:"List of groups"},"/admin/users":{M:"List of users"},"/admin/users/count":{M:"Count of users"},"/password/forgot":{isPublic:!0,M:"Request a forgot password email"},"/user":{M:"Get the logged in user information"},"/emailToken":{isPublic:!0,M:"Email a token if the previous one expired"},"/validate/changeEmail":{isPublic:!0,M:"Validate the email of changed email"}},put:{"/account":{M:"Update account information"},"/account/email":{M:"Update the email"},"/account/password":{M:"Update the password"},"/pasword/reset":{isPublic:!0,M:"Reset the password"}}},oauth:{get:{"/available/login":{isPublic:!0,M:"Available third party login"},"/passport/login/:strategy":{isPublic:!0,M:"Login with third party"},"/passport/validate/:strategy":{isPublic:!0,M:"Validate a third party login"}},post:{"/token":{isPublic:!0,M:"Login and get a valid access token"}},delete:{"/accessToken/:token":{isPublic:!0,M:"Delete the access token"},"/refreshToken/:token":{isPublic:!0,M:"Delete the refresh token"}}},soaanalytics:{get:{"/api/acl/usage":{M:"Get the API usage information by tenant, product and environment"},"/dashboard/services":{M:"Get the list of available Services"},"/dashboard/apis/v2":{M:"Get the list of available APIs as well as the related metadata"},"/apis/v2":{M:"Get the list of available APIs"}}},soamonitor:{get:{"/monitor/analytics/:type":{M:"Get the analytic information per type (API, Service, tenant, User)"},"/monitor/items":{M:"Get the list of daily API requests"}}}},versions:{console:"1",marketplace:"1",repositories:"1",multitenant:"1",urac:"3",oauth:"1",infra:"1",soaanalytics:"1",soamonitor:"1"}},Se=we.getService();function Pe(e,t){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(v.a)(g.a.mark((function e(t,a){var n,s,r,c,i,o,l,d,j,u,m,p,b,h,O;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new k.b,s=n.can,r=n.rules,c=null,e.prev=2,e.next=5,Se.getUserACL(a);case 5:c=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),ie.error(e.t0.message);case 11:if(c&&c.finalACL){if(i=0,Ne&&Ne.abilities)for(o=Object.keys(Ne.abilities),l=0;l<o.length;l++)if(c.finalACL[o[l]])for(d=!1,!c.acl[o[l]]||!c.acl[o[l]][Ne.versions[o[l]]]||c.acl[o[l]][Ne.versions[o[l]]].apisPermission&&"restricted"===c.acl[o[l]][Ne.versions[o[l]]].apisPermission||(d=!0),j=Object.keys(Ne.abilities[o[l]]),u=0;u<j.length;u++)for(m=Object.keys(Ne.abilities[o[l]][j[u]]),p=0;p<m.length;p++)if(b=!1,(d||c.finalACL[o[l]][j[u]]&&c.finalACL[o[l]][j[u]].includes(m[p]))&&(b=!0),b)if(Array.isArray(Ne.abilities[o[l]][j[u]][m[p]]))for(h=0;h<Ne.abilities[o[l]][j[u]][m[p]].length;h++)Ne.abilities[o[l]][j[u]][m[p]][h].I&&Ne.abilities[o[l]][j[u]][m[p]][h].A?(s(Ne.abilities[o[l]][j[u]][m[p]][h].I,Ne.abilities[o[l]][j[u]][m[p]][h].A),i++):console.log("Skipping: ",Ne.abilities[o[l]][j[u]][m[p]][h].M);else Ne.abilities[o[l]][j[u]][m[p]].I&&Ne.abilities[o[l]][j[u]][m[p]].A?(s(Ne.abilities[o[l]][j[u]][m[p]].I,Ne.abilities[o[l]][j[u]][m[p]].A),i++):console.log("Skipping: ",Ne.abilities[o[l]][j[u]][m[p]].M);else if(Array.isArray(Ne.abilities[o[l]][j[u]][m[p]]))for(O=0;O<Ne.abilities[o[l]][j[u]][m[p]].length;O++)console.log("Disabled: ",Ne.abilities[o[l]][j[u]][m[p]][O].I,Ne.abilities[o[l]][j[u]][m[p]][O].A);else console.log("Disabled: ",Ne.abilities[o[l]][j[u]][m[p]].I,Ne.abilities[o[l]][j[u]][m[p]].A);console.log("Abilities Added: "+i)}t.update(r);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}var Te=function(){var e;return{getService:function(){return e||(e=this)},createUserAbilities:function(e){return new Promise((function(t){e.on("updated",t),Pe(e,null)}))},updateUserAbilities:function(e,t){return new Promise((function(a){e.on("updated",a),Pe(e,t)}))}}}(),Ee=a(898),Ie=xe.getService(),Ue=Ce.getService(),Le=we.getService(),Me=Te.getService();function ze(){var e=Object(Ee.a)(["common","urac"]).t,t=T(),a=t.isAuthenticated,s=t.userHasAuthenticated,r=t.setFirstName,c=t.ability,o=Object(n.useState)(!1),l=Object(y.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)(!1),m=Object(y.a)(u,2),p=m[0],b=m[1],h=Object(n.useState)({local:{available:!0},thirdparty:[]}),O=Object(y.a)(h,2),x=O[0],f=O[1],w=F({email:"",password:""}),k=Object(y.a)(w,2),C=k[0],N=k[1];function S(){return(S=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),j(!0),e.prev=2,e.next=5,Ue.login(C.email,C.password);case 5:return e.next=7,Le.getUser();case 7:return e.next=9,Me.createUserAbilities(c);case 9:j(!1),r(Ie.getFirstname()),s(!0),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),ie.error(e.t0.message),j(!1);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}function P(){return(P=Object(v.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),b(!0),e.prev=2,e.next=5,Ue.thirdPartyLogin(a);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),ie.error(e.t0.message);case 10:b(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a){t.next=6;break}return t.next=4,Ue.availableLogin();case 4:n=t.sent,e&&f(n);case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){return e=!1}}),[a]),Object(E.jsx)("div",{className:"URAC",children:Object(E.jsxs)(_.a,{onSubmit:function(e){return S.apply(this,arguments)},children:[Object(E.jsxs)(_.a.Group,{controlId:"email",children:[Object(E.jsx)(_.a.Label,{children:e("urac:Email or Username")}),Object(E.jsx)(_.a.Control,{autoFocus:!0,value:C.email,onChange:N})]}),Object(E.jsxs)(_.a.Group,{controlId:"password",children:[Object(E.jsx)(_.a.Label,{children:e("urac:Password")}),Object(E.jsx)(_.a.Control,{type:"password",value:C.password,onChange:N})]}),Object(E.jsx)(_.a.Text,{className:"pb-3 text-right",muted:!0,children:Object(E.jsx)(i.Link,{to:"/forgot-password",children:e("urac:Forgot Password")})}),Object(E.jsx)(z,{block:!0,type:"submit",isLoading:d,disabled:!(C.email.length>0&&C.password.length>0),children:e("urac:button.Login")}),Object(E.jsx)(Oe,{strategies:x.thirdparty,onRequest:function(e,t){return P.apply(this,arguments)},isThirdParty:p})]})})}var _e=we.getService();function Re(){var e=Object(Ee.a)(["common","urac"]).t,t=F({username:""}),a=Object(y.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(!1),i=Object(y.a)(c,2),o=i[0],l=i[1];function d(){return(d=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),l(!0),t.prev=2,t.next=5,_e.forgotPassword(s.username);case 5:ie.success(e("urac:msg.forgotPasswordSuccess")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),ie.error(t.t0.message);case 11:l(!1);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})))).apply(this,arguments)}return Object(E.jsx)("div",{className:"URAC",children:Object(E.jsxs)(_.a,{onSubmit:function(e){return d.apply(this,arguments)},children:[Object(E.jsxs)(_.a.Group,{controlId:"username",children:[Object(E.jsx)(_.a.Label,{children:e("urac:Email or Username")}),Object(E.jsx)(_.a.Control,{autoFocus:!0,type:"username",value:s.password,onChange:r})]}),Object(E.jsx)(_.a.Text,{className:"pb-3",muted:!0,children:e("urac:msg.forgotPassword")}),Object(E.jsx)(z,{block:!0,type:"submit",isLoading:o,disabled:!(s.username.length>0),children:e("urac:button.Request")})]})})}var Ge=we.getService();function De(){var e=Object(Ee.a)(["common","urac"]).t,t=F({newPassword:"",confirmNewPassword:""}),a=Object(y.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(!1),o=Object(y.a)(c,2),l=o[0],d=o[1],j=Object(w.k)();var u=new URLSearchParams(Object(w.l)().search).get("token");function m(e){return p.apply(this,arguments)}function p(){return(p=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),d(!0),t.prev=2,t.next=5,Ge.resetPassword(u,s.newPassword,s.confirmNewPassword);case 5:ie.success(e("urac:msg.resetPasswordSuccess")),d(!1),j.push("/home"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),ie.error(t.t0.message),d(!1);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))).apply(this,arguments)}return Object(E.jsx)("div",{className:"URAC",children:u?Object(E.jsxs)(_.a,{onSubmit:m,children:[Object(E.jsxs)(_.a.Group,{controlId:"newPassword",children:[Object(E.jsx)(_.a.Label,{children:e("urac:New Password")}),Object(E.jsx)(_.a.Control,{type:"password",value:s.newPassword,onChange:r})]}),Object(E.jsxs)(_.a.Group,{controlId:"confirmNewPassword",children:[Object(E.jsx)(_.a.Label,{children:e("urac:Confirm Password")}),Object(E.jsx)(_.a.Control,{type:"password",onChange:r,value:s.confirmNewPassword})]}),Object(E.jsx)(z,{block:!0,type:"submit",isLoading:l,disabled:!(s.newPassword.length>0&&s.newPassword===s.confirmNewPassword),children:e("urac:button.Change")})]}):Object(E.jsx)(_.a,{children:Object(E.jsxs)(_.a.Text,{className:"pb-3",muted:!0,children:[e("urac:msg.resetPasswordError"),"@ ",Object(E.jsx)(i.Link,{to:"/forgot-password",children:e("urac:Forgot Password")}),"."]})})})}var Fe=we.getService();function Be(){var e=Object(Ee.a)(["common","urac"]).t,t=F({password:"",newPassword:"",confirmNewPassword:""}),a=Object(y.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(!1),i=Object(y.a)(c,2),o=i[0],l=i[1];function d(){return(d=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),l(!0),t.prev=2,t.next=5,Fe.changePassword(s.password,s.newPassword,s.confirmNewPassword);case 5:ie.success(e("urac:msg.changePasswordSuccess")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),ie.error(t.t0.message);case 11:l(!1);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})))).apply(this,arguments)}return Object(E.jsx)("div",{className:"URAC",children:Object(E.jsxs)(_.a,{onSubmit:function(e){return d.apply(this,arguments)},children:[Object(E.jsxs)(_.a.Group,{controlId:"password",children:[Object(E.jsx)(_.a.Label,{children:e("urac:Existing Password")}),Object(E.jsx)(_.a.Control,{autoFocus:!0,type:"password",value:s.password,onChange:r})]}),Object(E.jsxs)(_.a.Group,{controlId:"newPassword",children:[Object(E.jsx)(_.a.Label,{children:e("urac:New Password")}),Object(E.jsx)(_.a.Control,{type:"password",value:s.newPassword,onChange:r})]}),Object(E.jsxs)(_.a.Group,{controlId:"confirmNewPassword",children:[Object(E.jsx)(_.a.Label,{children:e("urac:Confirm Password")}),Object(E.jsx)(_.a.Control,{type:"password",onChange:r,value:s.confirmNewPassword})]}),Object(E.jsx)(z,{block:!0,type:"submit",isLoading:o,disabled:!(s.password.length>0&&s.newPassword.length>0&&s.newPassword===s.confirmNewPassword),children:e("urac:button.Change")})]})})}var Ke=we.getService();function He(){var e=Object(Ee.a)(["common","urac"]).t,t=F({newEmail:"",confirmNewEmail:""}),a=Object(y.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(!1),i=Object(y.a)(c,2),o=i[0],l=i[1];function d(){return(d=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),l(!0),t.prev=2,t.next=5,Ke.changeEmail(s.newEmail);case 5:ie.success(e("urac:msg.changeEmailSuccess")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),ie.error(t.t0.message);case 11:l(!1);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})))).apply(this,arguments)}return Object(E.jsx)("div",{className:"URAC",children:Object(E.jsxs)(_.a,{onSubmit:function(e){return d.apply(this,arguments)},children:[Object(E.jsxs)(_.a.Group,{controlId:"newEmail",children:[Object(E.jsx)(_.a.Label,{children:e("urac:New Email")}),Object(E.jsx)(_.a.Control,{autoFocus:!0,type:"email",value:s.newEmail,onChange:r})]}),Object(E.jsxs)(_.a.Group,{controlId:"confirmNewEmail",children:[Object(E.jsx)(_.a.Label,{children:e("urac:Confirm New Email")}),Object(E.jsx)(_.a.Control,{autoFocus:!0,type:"email",value:s.confirmNewEmail,onChange:r})]}),Object(E.jsx)(_.a.Text,{className:"pb-3",muted:!0,children:e("urac:msg.changeEmail")}),Object(E.jsx)(z,{block:!0,type:"submit",isLoading:o,disabled:!(s.newEmail.length>0&&s.newEmail===s.confirmNewEmail),children:e("urac:button.Change")})]})})}var Je=we.getService();function We(){var e=Object(Ee.a)(["common","urac"]).t,t=Object(n.useState)(!1),a=Object(y.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(e("urac:msg.validateChangeEmailProcess")),i=Object(y.a)(c,2),o=i[0],l=i[1];var d=new URLSearchParams(Object(w.l)().search).get("token");return Object(n.useEffect)((function(){var t=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=!1,a.prev=1,!d){a.next=8;break}return a.next=5,Je.validateChangeEmail(d);case 5:n=a.sent,a.next=9;break;case 8:ie.warning(e("urac:msg.validateChangeEmailError"));case 9:a.next=15;break;case 11:a.prev=11,a.t0=a.catch(1),ie.error(a.t0.message),t&&l(e("urac:msg.validateChangeEmailError"));case 15:r(n);case 16:case"end":return a.stop()}}),a,null,[[1,11]])})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){return t=!1}}),[d,e]),Object(E.jsx)("div",{className:"URAC",children:d?s?Object(E.jsx)(_.a,{children:Object(E.jsx)(_.a.Text,{className:"pb-3",muted:!0,children:e("urac:msg.validateChangeEmailSuccess")})}):Object(E.jsx)(_.a,{children:Object(E.jsx)(_.a.Text,{className:"pb-3",muted:!0,children:o})}):Object(E.jsx)(_.a,{children:Object(E.jsx)(_.a.Text,{className:"pb-3",muted:!0,children:e("urac:msg.validateChangeEmailError2")})})})}var Ve=a(17),qe=xe.getService(),Ye=we.getService();function Xe(){var e=Object(Ee.a)(["common","urac"]).t,t=T().setFirstName,a=Object(n.useState)(!1),s=Object(y.a)(a,2),r=s[0],c=s[1],i=Object(n.useState)({firstName:"",lastName:"",email:"",username:"",profile:{}}),o=Object(y.a)(i,2),l=o[0],d=o[1],j=null;function u(e){d(Object(N.a)(Object(N.a)({},l),{},Object(Ve.a)({},e.target.id,e.target.value)))}function m(){return(m=Object(v.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),c(!0),l.profile&&!j&&(j=l.profile),e.prev=3,e.next=6,Ye.updateMyProfile(l,j);case 6:n=e.sent,t(qe.getFirstname()),ie.success(n),d(Object(N.a)(Object(N.a)({},l),{},{profile:j})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),ie.error(e.t0.message);case 15:c(!1);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ye.getUser();case 3:a=t.sent,e&&d({firstName:a.firstName,lastName:a.lastName,email:a.email,username:a.username,profile:a.profile}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ie.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){return e=!1}}),[]),Object(E.jsx)("div",{className:"URAC",children:Object(E.jsxs)(_.a,{onSubmit:function(e){return m.apply(this,arguments)},children:[Object(E.jsxs)(_.a.Group,{size:"lg",controlId:"firstName",children:[Object(E.jsx)(_.a.Label,{children:e("urac:First name")}),Object(E.jsx)(_.a.Control,{autoFocus:!0,value:l.firstName,onChange:u})]}),Object(E.jsxs)(_.a.Group,{size:"lg",controlId:"lastName",children:[Object(E.jsx)(_.a.Label,{children:e("urac:Last name")}),Object(E.jsx)(_.a.Control,{value:l.lastName,onChange:u})]}),Object(E.jsxs)(_.a.Group,{size:"lg",controlId:"email",children:[Object(E.jsx)(_.a.Label,{children:e("urac:Email")}),Object(E.jsx)(_.a.Control,{type:"email",readOnly:!0,value:l.email,onChange:u})]}),Object(E.jsxs)(_.a.Group,{size:"lg",controlId:"username",children:[Object(E.jsx)(_.a.Label,{children:e("urac:Username")}),Object(E.jsx)(_.a.Control,{value:l.username,readOnly:!0,onChange:u})]}),Object(E.jsx)(ue,{mode:"code",json:j||l.profile,onChange:function(e){e&&(j=e)}}),Object(E.jsx)(z,{block:!0,size:"lg",type:"submit",isLoading:r,disabled:!(l.firstName.length>0&&l.lastName.length>0),children:e("urac:button.Change")})]})})}var Qe=we.getService();function Ze(){var e=Object(Ee.a)(["common","urac"]).t,t=F({username:"",firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),a=Object(y.a)(t,2),s=a[0],r=a[1],c=Object(w.k)(),i=Object(n.useState)(!1),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(){return(j=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),d(!0),t.prev=2,t.next=5,Qe.signup(s);case 5:ie.success(e("urac:msg.signupSuccess")),d(!1),c.push("/home"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),ie.error(t.t0.message),d(!1);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))).apply(this,arguments)}return Object(E.jsx)("div",{className:"URAC",children:Object(E.jsxs)(_.a,{onSubmit:function(e){return j.apply(this,arguments)},children:[Object(E.jsxs)(_.a.Group,{controlId:"username",children:[Object(E.jsx)(_.a.Label,{children:e("urac:Username")}),Object(E.jsx)(_.a.Control,{autoFocus:!0,value:s.username,onChange:r})]}),Object(E.jsxs)(_.a.Group,{controlId:"firstName",children:[Object(E.jsx)(_.a.Label,{children:e("urac:First Name")}),Object(E.jsx)(_.a.Control,{value:s.firstName,onChange:r})]}),Object(E.jsxs)(_.a.Group,{controlId:"lastName",children:[Object(E.jsx)(_.a.Label,{children:e("urac:Last Name")}),Object(E.jsx)(_.a.Control,{value:s.lastName,onChange:r})]}),Object(E.jsxs)(_.a.Group,{controlId:"email",children:[Object(E.jsx)(_.a.Label,{children:e("urac:Email")}),Object(E.jsx)(_.a.Control,{type:"email",value:s.email,onChange:r})]}),Object(E.jsxs)(_.a.Group,{controlId:"password",children:[Object(E.jsx)(_.a.Label,{children:e("urac:Password")}),Object(E.jsx)(_.a.Control,{type:"password",value:s.password,onChange:r})]}),Object(E.jsxs)(_.a.Group,{controlId:"confirmPassword",children:[Object(E.jsx)(_.a.Label,{children:e("urac:Confirm Password")}),Object(E.jsx)(_.a.Control,{type:"password",onChange:r,value:s.confirmPassword})]}),Object(E.jsx)(_.a.Text,{className:"pb-3",muted:!0,children:e("urac:msg.signup")}),Object(E.jsx)(z,{block:!0,type:"submit",variant:"success",isLoading:l,disabled:!(s.username.length>4&&s.firstName.length>0&&s.lastName.length>0&&s.email.length>0&&s.password.length>0&&s.password===s.confirmPassword),children:e("urac:button.Signup")})]})})}var $e=we.getService();function et(){var e=Object(Ee.a)(["common","urac"]).t,t=Object(n.useState)(null),a=Object(y.a)(t,2),s=a[0],r=a[1],c=F({username:""}),o=Object(y.a)(c,2),l=o[0],d=o[1],j=Object(n.useState)(!1),u=Object(y.a)(j,2),m=u[0],p=u[1];var b=new URLSearchParams(Object(w.l)().search).get("token");function h(e){return O.apply(this,arguments)}function O(){return(O=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),p(!0),t.prev=2,t.next=5,$e.emailToken(l.username);case 5:ie.success(e("urac:msg.validateSignupSuccess")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),ie.error(t.t0.message);case 11:p(!1);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var t=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=!1,a.prev=1,!b){a.next=8;break}return a.next=5,$e.validateJoin(b);case 5:n=a.sent,a.next=9;break;case 8:ie.warning(e("urac:msg.validateSignupWarning"));case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),ie.error(a.t0.message);case 14:t&&r({success:n});case 15:case"end":return a.stop()}}),a,null,[[1,11]])})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){return t=!1}}),[b,e]),Object(E.jsx)("div",{className:"URAC",children:null===s?Object(E.jsx)(_.a,{children:Object(E.jsx)(_.a.Text,{className:"pb-3",muted:!0,children:e("urac:msg.validateSignupProcess")})}):s.success?Object(E.jsx)(_.a,{children:Object(E.jsxs)(_.a.Text,{className:"pb-3",muted:!0,children:[e("urac:msg.validateSignupConfirm")," ",Object(E.jsx)(i.Link,{to:"/sign-in",children:e("common:ClickHere")})]})}):Object(E.jsxs)(_.a,{onSubmit:h,children:[Object(E.jsxs)(_.a.Group,{controlId:"username",children:[Object(E.jsx)(_.a.Label,{children:"Username or Email"}),Object(E.jsx)(_.a.Control,{autoFocus:!0,value:l.username,onChange:d})]}),Object(E.jsx)(_.a.Text,{className:"pb-3",muted:!0,children:e("urac:msg.validateSignupSuccess2")}),Object(E.jsx)(z,{block:!0,type:"submit",isLoading:m,disabled:!(l.username.length>0),children:e("urac:button.Request")})]})})}var tt=xe.getService(),at=Ce.getService(),nt=we.getService(),st=Te.getService();function rt(){var e=Object(Ee.a)(["common","urac"]).t,t=Object(w.m)().strategy,a=Object(w.l)().search,s=T(),r=s.userHasAuthenticated,c=s.setFirstName,i=s.ability,o=Object(n.useState)(!1),l=Object(y.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)(t+e("urac:msg.thirdPartyLoginConfirm")),m=Object(y.a)(u,2),p=m[0],b=m[1];return Object(n.useEffect)((function(){var n=!0;function s(){return(s=Object(v.a)(g.a.mark((function s(){return g.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,at.validateThirdPartyLogin(t,a);case 3:return s.next=5,nt.getUser();case 5:return s.next=7,st.createUserAbilities(i);case 7:n&&(c(tt.getFirstname()),r(!0)),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(0),n&&b(t+e("urac:msg.thirdPartyLoginError")),ie.error(s.t0.message);case 14:case"end":return s.stop()}}),s,null,[[0,10]])})))).apply(this,arguments)}return j(!0),function(){s.apply(this,arguments)}(),function(){return n=!1}}),[t,c,r,a,i,e]),Object(E.jsx)("div",{className:"URAC",children:d?Object(E.jsx)(_.a,{children:Object(E.jsx)(_.a.Text,{className:"pb-3",muted:!0,children:p})}):Object(E.jsx)(_.a,{children:Object(E.jsxs)(_.a.Text,{className:"pb-3",muted:!0,children:[t," : ",e("urac:msg.thirdPartyLoginProcess")]})})})}var ct=a(882),it=a(883),ot=a(899),lt=a(884),dt=a(464),jt=a.p+"static/media/emmp.f4b56e1b.png";function ut(){var e=Object(Ee.a)("common").t;return Object(E.jsxs)("div",{className:"container mt-3",style:{minHeight:"500px"},children:[Object(E.jsxs)(ct.a,{variant:"primary",children:["You can start by connecting ",Object(E.jsx)("b",{children:"SOAJS"})," to your ",Object(E.jsx)(it.a,{variant:"secondary",children:"Infrastructures"})," and ",Object(E.jsx)(it.a,{variant:"secondary",children:"GIT Accounts"})," from under ",Object(E.jsx)(i.Link,{to:"/settings",children:e("soajs:menu.Manage")}),"."]}),Object(E.jsxs)(ot.a,{className:"mb-3 text-white",bg:"dark",children:[Object(E.jsx)(ot.a.Header,{children:e("welcome")}),Object(E.jsx)(ot.a.Body,{children:Object(E.jsx)(lt.a,{children:Object(E.jsxs)(dt.a,{className:"small",children:[Object(E.jsx)("img",{alt:"microservice management platform",className:"float-right",src:jt,style:{width:"50%"}}),"The only complete, end-to-end microservices management platform, SOAJS simplifies and accelerates the adoption of multitenant microservices architecture by eliminating proliferation pain.",Object(E.jsx)("hr",{}),"The SOAJS platform empowers organizations to create and operate a microservices architecture capable of supporting any framework while providing API productization, multi-tenancy, multi-layer security, cataloging, awareness, and adaptable to existing source code; to automatically catalog and release software components with multi-tenant, multi-version and multi-platform capabilities.",Object(E.jsx)("hr",{}),"SOAJS integrates and orchestrates multiple infrastructures and technologies in a simplistic and secured approach while accelerating the release cycle with custom continuous integration & a smart continuous delivery pipeline.",Object(E.jsx)("hr",{}),"The SOAJS platform is capable of creating and managing custom environments per product, per department, per team, per resource, and per technology in a simplistic approach empowering every member of the organization."]})})})]})]})}function mt(){var e=Object(Ee.a)("common").t;return Object(E.jsx)("div",{className:"container mt-3",children:Object(E.jsx)("h3",{children:e("NoAccess")})})}function pt(){var e=Object(Ee.a)("common").t;return Object(E.jsx)("div",{className:"container mt-3",children:Object(E.jsx)("h3",{children:e("NotFound")})})}var bt=a(890),ht=a(478),Ot=a(901),xt=a(886),ft=a(887),gt=a(34),vt=a(27);function yt(e){var t="";if(e.response&&e.response.data&&e.response.data.errors&&e.response.data.errors.details)for(var a=0;a<e.response.data.errors.details.length;a++)t+=e.response.data.errors.details[0].message,a+1<e.response.data.errors.details.length&&(t+=" - ");return""===t?null:t}var wt=function(){var e=null;return{getService:function(){return e||(e=this)},getGitBranch:function(e){return ge.a.get("/repositories/git/branch",{params:e}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=yt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getGitAccount:function(e){return ge.a.get("/repositories/git/account?id="+e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=yt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getGitAccounts:function(){return ge.a.get("/repositories/git/accounts").then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=yt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getRepositories:function(e){return ge.a.post("/repositories/git/repos",e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=yt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},addGitAccount:function(e){return ge.a.post("/repositories/git/account",e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=yt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},deleteGitAccount:function(e){return ge.a.delete("/repositories/git/account?id="+e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=yt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},syncGitAccount:function(e){return ge.a.put("/repositories/git/sync/account?id="+e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=yt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},upgradeGitAccount:function(e){return ge.a.put("/repositories/git/account?id="+e.id,e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=yt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},deleteRepository:function(e){var t="/repositories/git/repo";return t=(t=(t=t+"?id="+e.id)+"&owner="+e.owner)+"&provider="+e.provider,ge.a.delete(t).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=yt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},turnOnRepository:function(e){var t="/repositories/git/repo/activate";return t=(t=(t=t+"?id="+e.id)+"&owner="+e.owner)+"&provider="+e.provider,ge.a.put(t).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=yt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},turnOffRepository:function(e){var t="/repositories/git/repo/deactivate";return t=(t=(t=t+"?id="+e.id)+"&owner="+e.owner)+"&provider="+e.provider,ge.a.put(t).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=yt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},syncRepository:function(e){var t="/repositories/git/sync/repository";return t=(t=(t=t+"?id="+e.id)+"&owner="+e.owner)+"&provider="+e.provider,ge.a.put(t).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=yt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},turnOnBranch:function(e){var t="/repositories/git/branch/activate";return t=(t=(t=(t=t+"?id="+e.id)+"&owner="+e.owner)+"&provider="+e.provider)+"&branch="+e.branch,ge.a.put(t).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=yt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},turnOffBranch:function(e){var t="/repositories/git/branch/deactivate";return t=(t=(t=(t=t+"?id="+e.id)+"&owner="+e.owner)+"&provider="+e.provider)+"&branch="+e.branch,ge.a.put(t).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=yt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},syncBranch:function(e){var t="/repositories/git/sync/branch";return t=(t=(t=(t=t+"?id="+e.id)+"&owner="+e.owner)+"&provider="+e.provider)+"&branch="+e.branch,ge.a.put(t).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=yt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},turnOnTag:function(e){var t="/repositories/git/tag/activate";return t=(t=(t=(t=t+"?id="+e.id)+"&owner="+e.owner)+"&provider="+e.provider)+"&tag="+e.tag,ge.a.put(t).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=yt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},turnOffTag:function(e){var t="/repositories/git/tag/deactivate";return t=(t=(t=(t=t+"?id="+e.id)+"&owner="+e.owner)+"&provider="+e.provider)+"&tag="+e.tag,ge.a.put(t).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=yt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getTag:function(e){return ge.a.get("/repositories/git/tag?id="+e.id+"&tag="+e.tag).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=yt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getTags:function(e){return ge.a.get("/repositories/git/tags?id="+e.id+"&size="+e.count).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=yt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))}}}();function kt(e){var t="";if(e.response&&e.response.data&&e.response.data.errors&&e.response.data.errors.details)for(var a=0;a<e.response.data.errors.details.length;a++)t+=e.response.data.errors.details[0].message,a+1<e.response.data.errors.details.length&&(t+=" - ");return""===t?null:t}var Ct=function(){var e=null;return{getService:function(){return e||(e=this)},getItems:function(e){var t="/marketplace/items";return e&&(e.subType&&"soajs"===e.subType&&(t="/marketplace/soajs/items"),e.type&&(t=t+"?type="+e.type),e.limit&&(t=t+"&limit="+e.limit),e.start&&(t=t+"&start="+e.start),e.keywords&&(t=t+"&keywords="+e.keywords)),ge.a.get(t).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=kt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getItem:function(e,t){return ge.a.get("/marketplace/item/type?name="+e+"&type="+t).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=kt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getRecipes:function(e){var t="/marketplace/recipes";return e&&(t+="?count=true",e.limit&&(t=t+"&limit="+e.limit),e.start&&(t=t+"&start="+e.start),e.keywords&&(t=t+"&keywords="+e.keywords)),ge.a.get(t).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=kt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getRecipesByIds:function(e){return ge.a.get("/marketplace/recipes/ids",{params:{ids:e}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=kt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},updateSettingsGroups:function(e){var t="/marketplace/item/acl";"soajs"===e.subType&&(t="/marketplace/soajs/item/acl");var a={id:e.id,type:e.type,groups:e.groups};return ge.a.put(t,a).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=kt(e);return t&&-1!==t.indexOf("was not updated")?Promise.reject(new Error("Nothing to update!")):(t=t||"Unable to proceed please try again later",Promise.reject(new Error(t)))}))},updateSettingsRecipes:function(e){var t="/marketplace/item/recipes";"soajs"===e.subType&&(t="/marketplace/soajs/item/recipes");var a={id:e.id,recipes:e.recipes};return ge.a.put(t,a).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=kt(e);return t&&-1!==t.indexOf("was not updated")?Promise.reject(new Error("Nothing to update!")):(t=t||"Unable to proceed please try again later",Promise.reject(new Error(t)))}))},updateSettingsEnvironments:function(e){var t="/marketplace/item/environments";"soajs"===e.subType&&(t="/marketplace/soajs/item/environments");var a={id:e.id,type:e.type,environments:e.environments};return ge.a.put(t,a).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=kt(e);return t&&-1!==t.indexOf("was not updated")?Promise.reject(new Error("Nothing to update!")):(t=t||"Unable to proceed please try again later",Promise.reject(new Error(t)))}))},itemMaintenance:function(e){var t={name:e.name,env:e.env,type:e.type,version:e.version,operation:e.operation},a={port:e.port};return ge.a.put("/marketplace/item/maintenance",a,{params:t}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=kt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},addRecipe:function(e){var t={catalog:e};return ge.a.post("/marketplace/recipe",t).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=kt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},updateRecipe:function(e,t){var a="/marketplace/recipe?id="+e,n={catalog:t};return ge.a.put(a,n).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=kt(e);return t&&-1!==t.indexOf("was not updated")?Promise.reject(new Error("Nothing to update!")):(t=t||"Unable to proceed please try again later",Promise.reject(new Error(t)))}))},redeploy:function(e){var t={params:{name:e.name,type:e.type,env:e.env,version:e.version}},a={};return e.imageTag&&(a.image={tag:e.imageTag}),e.branch?(a.src={from:{branch:e.branch}},e.commit&&(a.src.from.commit=e.commit)):e.tag&&(a.src={from:{tag:e.tag}}),ge.a.put("/marketplace/item/deploy/redeploy",a,t).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=kt(e);return t&&-1!==t.indexOf("was not updated")?Promise.reject(new Error("Nothing to update!")):(t=t||"Unable to proceed please try again later",Promise.reject(new Error(t)))}))},deleteConfigure:function(){},configure:function(e,t){var a={params:e};return ge.a.put("/marketplace/item/deploy/configure",t,a).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=kt(e);return t&&-1!==t.indexOf("not updated")?Promise.reject(new Error("Nothing to update!")):(t=t||"Unable to proceed please try again later",Promise.reject(new Error(t)))}))},build:function(e,t){var a={params:e};return ge.a.put("/marketplace/item/deploy/build",t,a).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=kt(e);return t&&-1!==t.indexOf("not updated")?Promise.reject(new Error("Nothing to update!")):(t=t||"Unable to proceed please try again later",Promise.reject(new Error(t)))}))},addResource:function(e){return ge.a.put("/marketplace/item/resource",{item:e}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=kt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},deleteItem:function(e){return ge.a.delete("/marketplace/item",{params:{type:e.type,name:e.name}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=kt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))}}}();function Nt(e){var t="";if(e.response&&e.response.data&&e.response.data.errors&&e.response.data.errors.details)for(var a=0;a<e.response.data.errors.details.length;a++)t+=e.response.data.errors.details[0].message,a+1<e.response.data.errors.details.length&&(t+=" - ");return""===t?null:t}var St=function(){var e=null;return{getService:function(){return e||(e=this)},getLedger:function(e){return ge.a.get("/console/ledger",{params:{limit:e.limit,start:e.skip}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getThrottlingRegistry:function(e){return ge.a.get("/console/registry/throttling",{params:{env:e}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getCustomRegistry:function(e){return ge.a.get("/console/registry/custom",{params:{env:e}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getResourceRegistry:function(e,t){var a={params:{env:e}};return t&&(a.params.type=t),ge.a.get("/console/registry/resource",a).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getEnvironments:function(){return ge.a.get("/console/environment").then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getEnvironment:function(e){return ge.a.get("/console/environment",{params:{code:e}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getEnvironmentSettings:function(e){return ge.a.get("/console/environment/settings",{params:{code:e}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},saveEnvironmentAcl:function(e){return ge.a.put("/console/environment/acl",{code:e.code,type:e.type,groups:e.groups}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},deleteEnvironmentAcl:function(e){return ge.a.delete("/console/environment/acl",{params:{code:e}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getRegistryDeployer:function(e){return ge.a.get("/console/registry/deployer",{params:{env:e}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},updateEnvironmentNamespace:function(e){return ge.a.put("/console/environment",{code:e.code,settings:{id:e.id,namespace:e.namespace}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getRegistry:function(e){return ge.a.get("/console/registry",{params:{env:e}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},addEnvironment:function(e){return ge.a.post("/console/environment",{code:e.code,description:e.description,settings:e.settings}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},deleteEnvironment:function(e){return ge.a.delete("/console/environment",{data:{id:e}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},deleteCustomRegistry:function(e,t){return ge.a.delete("/console/registry/custom",{data:{id:e,env:t}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},saveCustomRegistryAcl:function(e){return ge.a.put("/console/registry/custom/acl",{id:e.id,type:e.type,groups:e.groups}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},deleteCustomRegistryAcl:function(e){return ge.a.delete("/console/registry/custom/acl",{params:{id:e}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},deleteResourceRegistry:function(e,t){return ge.a.delete("/console/registry/resource",{data:{id:e,env:t}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},saveResourceRegistryAcl:function(e){return ge.a.put("/console/registry/resource/acl",{id:e.id,type:e.type,groups:e.groups}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},deleteResourceRegistryAcl:function(e){return ge.a.delete("/console/registry/resource/acl",{params:{id:e}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},unplugPlugCustom:function(e){return ge.a.put("/console/registry/custom",{id:e.id,env:e.env,data:{plugged:e.plugged}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},unplugPlugResource:function(e){return ge.a.put("/console/registry/resource",{id:e.id,env:e.env,data:{plugged:e.plugged}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},addCustom:function(e,t){return ge.a.post("/console/registry/custom",{env:e,data:t}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},updateCustom:function(e,t,a){return ge.a.put("/console/registry/custom",{env:e,id:t,data:a}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},addResource:function(e,t){return ge.a.post("/console/registry/resource",{env:e,data:t}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},updateResource:function(e,t,a){return ge.a.put("/console/registry/resource",{env:e,id:t,data:a}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},updateRegistry:function(e){return ge.a.put("/console/registry",e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t&&-1!==t.indexOf("was not updated")?Promise.reject(new Error("Nothing to update!")):(t=t||"Unable to proceed please try again later",Promise.reject(new Error(t)))}))},updateDBPrefix:function(e){return ge.a.put("/console/registry/db/prefix",e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t&&-1!==t.indexOf("was not updated")?Promise.reject(new Error("Nothing to update!")):(t=t||"Unable to proceed please try again later",Promise.reject(new Error(t)))}))},addDB:function(e){return ge.a.post("/console/registry/db/custom",e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},deleteDB:function(e){return ge.a.delete("/console/registry/db/custom",{data:e}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},updateThrottling:function(e,t){return ge.a.put("/console/registry/throttling",{env:e,throttling:t}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Nt(e);return t&&-1!==t.indexOf("was not updated")?Promise.reject(new Error("Nothing to update!")):(t=t||"Unable to proceed please try again later",Promise.reject(new Error(t)))}))}}}();function Pt(e){var t="";if(e.response&&e.response.data&&e.response.data.errors&&e.response.data.errors.details)for(var a=0;a<e.response.data.errors.details.length;a++)t+=e.response.data.errors.details[0].message,a+1<e.response.data.errors.details.length&&(t+=" - ");return""===t?null:t}var At=function(){var e=null;return{getService:function(){return e||(e=this)},getMyConsoleProduct:function(){return ge.a.get("/multitenant/product/console").then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getProduct:function(e){return ge.a.get("/multitenant/product",{params:{id:e}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getProducts:function(){return ge.a.get("/multitenant/products").then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getTenants:function(e){return ge.a.get("/multitenant/tenants",{params:{limit:e.limit,start:e.skip,type:e.type,keywords:e.keywords||null}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getTenantSubTenants:function(e,t){return ge.a.get("/multitenant/tenant/tenants",{params:{limit:t.limit,start:t.skip,keywords:t.keywords||null,code:e}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},editConsolepackage:function(e){return ge.a.put("/multitenant/product/console/package",e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},addConsolepackage:function(e){return ge.a.post("/multitenant/product/console/package",e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},deleteConsolepackage:function(e){return ge.a.delete("/multitenant/product/console/package",{params:e}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},editConsolePackageAclEnv:function(e){return ge.a.put("/multitenant/product/console/package/acl/env",{acl:e.acl},{params:{code:e.code,type:e.type,env:e.env,id:e.id}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},deleteTenant:function(e){return ge.a.delete("/multitenant/tenant",{params:e}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},deleteTenantApplication:function(e){return ge.a.delete("/multitenant/tenant/application",{params:e}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},deleteTenantApplicationKey:function(e){return ge.a.delete("/multitenant/tenant/application/key",{params:e}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},deleteTenantApplicationKeyExt:function(e){return ge.a.delete("/multitenant/tenant/application/key/ext",{params:e}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},addTenant:function(e){return ge.a.post("/multitenant/tenant",e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},addTenantApplicationKey:function(e){return ge.a.post("/multitenant/admin/tenant/application/key",e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},addApplication:function(e){return ge.a.post("/multitenant/admin/tenant/application",e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},addTenantExtKey:function(e){return ge.a.post("/multitenant/admin/tenant/application/key/ext",e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},addProduct:function(e){return ge.a.post("/multitenant/product",e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},updateProduct:function(e){return ge.a.put("/multitenant/product",e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},deleteProduct:function(e){return ge.a.delete("/multitenant/product",{params:e}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},addPackage:function(e){return ge.a.post("/multitenant/product/package",e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},updatePackage:function(e){return ge.a.put("/multitenant/product/package",e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},deletePackage:function(e){return ge.a.delete("/multitenant/product/package",{params:e}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},updateTenant:function(e){return ge.a.put("/multitenant/admin/tenant",e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},updateApplication:function(e){return ge.a.put("/multitenant/admin/tenant/application",e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},updateTenantApplicationKey:function(e){return ge.a.put("/multitenant/admin/tenant/application/key/config",e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},updateTenantApplicationExtKey:function(e){return ge.a.put("/multitenant/admin/tenant/application/key/ext",e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},updateTenantOauth:function(e){return ge.a.put("/multitenant/admin/tenant/oauth",e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},updatePackageAcl:function(e){return ge.a.put("/multitenant/product/package/acl/env",e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getMyConsoleTenant:function(){return ge.a.get("/multitenant/tenant/console").then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},updateTenantConsoleApplicationKey:function(e){return ge.a.put("/multitenant/tenant/console/application/key/config",e).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Pt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))}}}();function Tt(e){var t="";if(e.response&&e.response.data&&e.response.data.errors&&e.response.data.errors.details)for(var a=0;a<e.response.data.errors.details.length;a++)t+=e.response.data.errors.details[0].message,a+1<e.response.data.errors.details.length&&(t+=" - ");return""===t?null:t}var Et=function(){var e=null;function t(e,t,a){return ge.a.get("/infra/kubernetes/"+e+"/"+a.mode,{params:{configuration:{env:t},limit:a.limit,filter:a.filter||null,continue:a.continue||null}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))}function a(e,t,a){return ge.a.put("/infra/kubernetes/"+e+"/"+a.mode,{name:a.name,body:a.body},{params:{configuration:{env:t}}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))}function n(e,t,a){return ge.a.post("/infra/kubernetes/"+e+"/"+a.mode,{body:a.body},{params:{configuration:{env:t}}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))}function s(e,t,a){return ge.a.delete("/infra/kubernetes/"+e+"/"+a.mode,{params:{configuration:{env:t},name:a.name}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))}return{getService:function(){return e||(e=this)},addSecretRegistryWizard:function(e,t,a){return ge.a.post("/infra/kubernetes/secret/registry",{content:a,name:t},{params:{configuration:{env:e}}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},addSecretWizard:function(e,t,a){return ge.a.post("/infra/kubernetes/secret",{content:a,name:t},{params:{configuration:{env:e}}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getServices:function(e,a){return t("services",e,a)},getClusters:function(e,a){return t("clusters",e,a)},getWorkloads:function(e,a){return t("workloads",e,a)},getConfigurations:function(e,a){return t("configurations",e,a)},inspect:function(e,t){return ge.a.get("/infra/kubernetes/item/inspect",{params:{configuration:{env:e},item:{env:e,name:t.name,version:t.version}}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getManualAwareness:function(e){return ge.a.get("/infra/manual/awareness",{params:{env:e}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getNamespaces:function(e){return ge.a.get("/infra/kubernetes/clusters/Namespace",{params:{configuration:{env:e}}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getInfraAccounts:function(){return ge.a.get("/infra/account/kubernetes").then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},deleteInfraAccount:function(e){return ge.a.delete("/infra/account/kubernetes",{data:{id:e}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},saveInfraAccountAcl:function(e){return ge.a.put("/infra/account/kubernetes/acl",{id:e.id,type:e.type,groups:e.groups}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},deleteInfraAccountAcl:function(e){return ge.a.delete("/infra/account/kubernetes/acl",{params:{id:e}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},addInfraAccount:function(e){var t={label:e.label,description:e.description,configuration:{type:e.type,token:e.token,url:e.url,port:e.port}};return e.ca&&(t.configuration.ca=e.ca),ge.a.post("/infra/account/kubernetes",t).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},updateInfraAccount:function(e){var t={id:e.id,label:e.label,description:e.description,configuration:{type:e.type,token:e.token,url:e.url,port:e.port}};return e.ca&&(t.configuration.ca=e.ca),ge.a.put("/infra/account/kubernetes/configuration",t).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},podExec:function(e,t){var a={name:t.name,commands:t.commands,processResult:t.processResult||!1,configuration:{env:e}};return t.ca&&(a.configuration.ca=t.ca),ge.a.put("/infra/kubernetes/pod/exec",a).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},podLog:function(e,t){return ge.a.get("/infra/kubernetes/pod/log",{params:{configuration:{env:e},name:t.name,lines:400}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},restart:function(e,t){var a={mode:t.mode,name:t.name,configuration:{env:e}};return t.ca&&(a.configuration.ca=t.ca),ge.a.put("/infra/kubernetes/resource/restart",a).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},deleteItem:function(e,t){var a={data:{mode:t.mode,name:t.name,configuration:{env:e}}};return t.ca&&(a.configuration.ca=t.ca),ge.a.delete("/infra/kubernetes/item",a).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},addWorkload:function(e,t){return n("workload",e,t)},updateWorkload:function(e,t){return a("workload",e,t)},deleteWorkload:function(e,t){return"Pod"===t.mode?function(e,t){return ge.a.delete("/infra/kubernetes/pods",{params:{configuration:{env:e}},data:{filter:{fieldSelector:"metadata.name="+t.name,includeUninitialized:!0}}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))}(e,t):s("workload",e,t)},addService:function(e,t){return n("service",e,t)},updateService:function(e,t){return a("service",e,t)},deleteService:function(e,t){return s("service",e,t)},addConfiguration:function(e,t){return n("configuration",e,t)},deleteConfiguration:function(e,t){return s("configuration",e,t)},getCDTokens:function(){return ge.a.get("/infra/cd/tokens").then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},deleteCDToken:function(e){return ge.a.delete("/infra/cd/token",{data:{token:e}}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},updateCDToken:function(e,t){return ge.a.put("/infra/cd/token/status",{token:e,status:t}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},addToken:function(e){return ge.a.post("/infra/cd/token",{label:e}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Tt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))}}}();function It(e){var t="";if(e.response&&e.response.data&&e.response.data.errors&&e.response.data.errors.details)for(var a=0;a<e.response.data.errors.details.length;a++)t+=e.response.data.errors.details[0].message,a+1<e.response.data.errors.details.length&&(t+=" - ");return""===t?null:t}var Ut=function(){var e=null;return{getService:function(){return e||(e=this)},getApis:function(e){return ge.a.get("/console/apis/v2",{params:e}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=It(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getDashboardApis:function(e){return ge.a.get("/console/dashboard/apis/v2",{params:e}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=It(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getDashboardServices:function(e){return ge.a.get("/console/dashboard/services",{params:e}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=It(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getAPIACLUsage:function(e){return ge.a.get("/console/api/acl/usage",{params:e}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=It(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getAPIACLUsageTenants:function(e){return ge.a.get("/console/api/acl/usage/tenants",{params:e}).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=It(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))}}}();function Lt(e){var t="";if(e.response&&e.response.data&&e.response.data.errors&&e.response.data.errors.details)for(var a=0;a<e.response.data.errors.details.length;a++)t+=e.response.data.errors.details[0].message,a+1<e.response.data.errors.details.length&&(t+=" - ");return""===t?null:t}var Mt=function(){var e=null;return{getService:function(){return e||(e=this)},getMonitorItems:function(e,t){var a="/soamonitor/monitor/items",n={params:e};return t.toLowerCase()!==ve.consoleEnvironment&&(n.params.proxyRoute=a,a="/soajs/proxy",n.headers={__env:t.toLowerCase()}),ge.a.get(a,n).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Lt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))},getMonitorAnalytics:function(e,t,a){var n="/soamonitor/monitor/analytics/"+e,s={params:t};return a.toLowerCase()!==ve.consoleEnvironment&&(s.params.proxyRoute=n,n="/soajs/proxy",s.headers={__env:a.toLowerCase()}),ge.a.get(n,s).then((function(e){return e&&e.data&&e.data?Promise.resolve(e.data.data):Promise.reject(new Error("Unable to proceed please try again later"))})).catch((function(e){var t=Lt(e);return t=t||"Unable to proceed please try again later",Promise.reject(new Error(t))}))}}}(),zt=a(900);var _t=function(e){var t=e.currentPage,a=e.totalItems,n=e.maxSize,s=e.itemsPerPage,r=e.onClick,c=e.className;c=c||"",t=t||1,n=n||10;var i=1;(a=a||1)>(s=s||1)&&(i=Math.ceil(a/s)),t>i&&(t=i);var o=[];i<n&&(n=i);var l=t-Math.floor(n/2);l+n>i&&(l=i-n),l<0&&(l=0);for(var d=1;d<=n;d++)o.push(d+l);function j(e){r&&r(e)}return Object(E.jsxs)(zt.a,{size:"sm",className:c,children:[Object(E.jsx)(zt.a.First,{onClick:function(e){e.preventDefault(),j(1)},disabled:1===t}),Object(E.jsx)(zt.a.Prev,{onClick:function(e){e.preventDefault(),j(t-1)},disabled:1===t}),o[0]>1&&Object(E.jsx)(zt.a.Ellipsis,{disabled:!0}),o.map((function(e,a){return Object(E.jsx)(zt.a.Item,{onClick:function(t){t.preventDefault(),j(e)},active:t===e,children:e},a)})),o[n-1]<i&&Object(E.jsx)(zt.a.Ellipsis,{disabled:!0}),Object(E.jsx)(zt.a.Next,{onClick:function(e){e.preventDefault(),j(t+1)},disabled:t===i}),Object(E.jsx)(zt.a.Last,{onClick:function(e){e.preventDefault(),j(i)},disabled:t===i})]})},Rt=a(246);function Gt(e,t){var a=e.id.substr(0,1);return a=a.toLowerCase(),1===t?["a","b","c","d","e","f","g","h"].includes(a):2===t?["i","j","k","l","m","n","o","p","q"].includes(a):3===t?["r","s","t","u","v","w","x","z"].includes(a):void 0}function Dt(e){var t=e.data;return Object(E.jsx)(Rt.a,{data:t,margin:{top:40,right:80,bottom:80,left:80},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"paired"},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",.2]]},radialLabelsSkipAngle:10,radialLabelsTextColor:"#000000",radialLabelsLinkColor:{from:"color"},sliceLabel:"value",sliceLabelsSkipAngle:10,sliceLabelsTextColor:"#000000",defs:[{id:"dots",type:"patternDots",background:"inherit",color:"rgba(255, 255, 255, 0.3)",size:2,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"rgba(255, 255, 255, 0.3)",rotation:-45,lineWidth:5,spacing:10},{id:"squares",type:"patternSquares",background:"inherit",color:"rgba(255, 255, 255, 0.3)",size:2,padding:3,stagger:!0}],fill:[{match:function(e){return Gt(e,1)},id:"dots"},{match:function(e){return Gt(e,2)},id:"lines"},{match:function(e){return Gt(e,3)},id:"squares"}],legends:[]})}var Ft={get:"#b8daff",post:"#c3e6cb",put:"#ffeeba",delete:"#f5c6cb",patch:"#bee5eb",head:"#d6d8db",other:"#c6c8ca"};function Bt(e){var t=e.data;return Object(E.jsx)(Rt.a,{data:t,margin:{top:40,right:80,bottom:80,left:80},padAngle:.7,cornerRadius:3,colors:function(e){return function(e){return Ft[e.id]}(e)},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",.3]]},radialLabelsSkipAngle:10,radialLabelsTextColor:"#000000",radialLabelsLinkColor:{from:"color"},sliceLabel:"value",sliceLabelsSkipAngle:10,sliceLabelsTextColor:"#000000",legends:[{anchor:"bottom",direction:"row",justify:!1,translateX:0,translateY:56,itemsSpacing:0,itemWidth:60,itemHeight:18,itemTextColor:"#999",itemDirection:"left-to-right",itemOpacity:1,symbolSize:15,symbolShape:"circle",effects:[{on:"hover",style:{itemTextColor:"#000"}}]}]})}var Kt=a(472);function Ht(e){var t=e.data;return Object(E.jsx)(Kt.a,{data:t,keys:["count"],indexBy:"Group",margin:{top:50,right:130,bottom:50,left:150},padding:.3,layout:"horizontal",valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"paired"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"fries"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,labelSkipWidth:12,labelSkipHeight:12,enableGridX:!0,enableGridY:!1,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[],animate:!0,motionStiffness:90,motionDamping:15})}var Jt=["get","post","put","delete","head","patch","other"];function Wt(e){var t={programs:[],groups:[],methods:[],services:[]},a={groups:{},methods:{}};return e&&e.map((function(e,n){var s={id:e.name,label:e.name,value:0};return e.groups&&e.groups.map((function(e,n){var r={Group:e.name,count:0};return a.groups.hasOwnProperty(e.name)&&(r=t.groups[a.groups[e.name]]),e.services&&e.services.map((function(a,n){return s.value=s.value+(a.APIs||0),r.count=r.count+(a.APIs||0),function(e,t){Jt.map((function(a,n){var s=0;return t&&t.methods&&t.methods[n]&&(s=t.methods[n].value),t.methods[n]={id:a,label:a,value:s+(e[a]||0)},!0}))}(a.methods,t),t.services.push({serviceName:a.name,serviceGroup:e.name,program:a.program,apis:a.APIs||0,version:a.version}),!0})),a.groups.hasOwnProperty(e.name)?t.groups[a.groups[e.name]]=r:(a.groups[e.name]=t.groups.length,t.groups.push(r)),!0})),t.programs.push(s),!0})),t.services=G.a.uniqWith(t.services,(function(e,t){return e.serviceName===t.serviceName&&e.version===t.version})),t}var Vt=function(e){var t=null;try{t=Wt(e)}catch(a){console.log(a)}return t},qt=Ut.getService();function Yt(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(E.jsx)("div",{className:"float-left",type:"button",onClick:s,children:t})}var Xt={type:"service",includeSOAJS:!1,serviceName:"",serviceGroup:"",version:"latest",tags:[],programs:[],attributes:{}};function Qt(e,t,a,n,s,r){return Zt.apply(this,arguments)}function Zt(){return(Zt=Object(v.a)(g.a.mark((function e(t,a,n,s,r,c){var i,o,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={limit:2e3,start:2e3*(n-1),type:c.type,includeSOAJS:c.includeSOAJS,version:c.version,keywords:{serviceName:c.serviceName,serviceGroup:c.serviceGroup},tags:c.tags,programs:c.programs,attributes:c.attributes},e.next=4,qt.getDashboardServices(i);case 4:o=e.sent,r&&o&&o.data&&Array.isArray(o.data)&&o.data.length>0&&(l=Vt(o.data),t(l),a({totalItems:o.data.length,maxSize:10,itemsPerPage:i.limit}),s({tags:o.tags,programs:o.programs,attributes:o.attributes})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function $t(){var e=Object(Ee.a)(["common","soajs"]).t,t=Object(n.useState)(null),a=Object(y.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(0),i=Object(y.a)(c,2),o=i[0],l=i[1],d=Object(n.useState)({tags:[],programs:[],attributes:{}}),j=Object(y.a)(d,2),u=j[0],m=j[1],p=Object(n.useState)(1),b=Object(y.a)(p,2),h=b[0],O=b[1],x=Object(n.useState)(Xt),f=Object(y.a)(x,2),w=f[0],k=f[1],C=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),S=Object(y.a)(C,2),P=S[0],A=S[1];function T(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),k(Object(N.a)(Object(N.a)({},w),{},Object(Ve.a)({},e.target.id,t)))}function I(){return(I=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qt(r,A,t||h,m,!0,w);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return M.apply(this,arguments)}function M(){return(M=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O(1),e.next=4,Qt(r,A,1,m,!0,w);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return Qt(r,A,1,m,e,Xt),function(){return e=!1}}),[]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(me.a,{className:"p-3",children:Object(E.jsxs)(_.a,{onSubmit:U,children:[Object(E.jsxs)(lt.a,{className:"small",children:[Object(E.jsx)(dt.a,{xs:3,children:Object(E.jsx)(_.a.Control,{placeholder:e("soajs:fields.ServiceName"),id:"serviceName",size:"sm",autoFocus:!0,value:w.serviceName,onChange:T})}),Object(E.jsx)(dt.a,{xs:3,children:Object(E.jsx)(_.a.Control,{placeholder:e("soajs:fields.ServiceGroup"),id:"serviceGroup",size:"sm",autoFocus:!0,value:w.serviceGroup,onChange:T})}),Object(E.jsx)(dt.a,{xs:3,children:Object(E.jsxs)(_.a.Control,{as:"select",id:"version",defaultValue:w.version,onChange:T,children:[Object(E.jsx)("option",{value:"latest",children:"Only last version"}),Object(E.jsx)("option",{value:"all",children:"All versions"})]})}),Object(E.jsx)(dt.a,{xs:3,className:"mt-2",children:Object(E.jsx)(_.a.Check,{id:"includeSOAJS",label:"Include SOAJS APIs",defaultChecked:w.includeSOAJS,onChange:T})})]}),Object(E.jsx)("hr",{}),Object(E.jsx)(lt.a,{children:Object(E.jsx)(dt.a,{children:Object(E.jsxs)(Ot.a,{activeKey:o,children:[Object(E.jsxs)(Yt,{eventKey:1,handleClick:function(){l(1===o?null:1)},children:[1===o?Object(E.jsx)(gt.b,{className:"mr-1"}):Object(E.jsx)(gt.a,{className:"mr-1"})," ",Object(E.jsx)("span",{className:"small",children:"Advanced Filters"})]}),Object(E.jsxs)(L.a,{className:"float-right",variant:"dark",size:"sm",onClick:U,children:[Object(E.jsx)(vt.c,{})," ",e("soajs:buttons.Search")]}),Object(E.jsx)("span",{className:"clearfix"}),Object(E.jsx)(Ot.a.Collapse,{eventKey:1,children:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("hr",{className:"mb-1"}),Object(E.jsxs)(lt.a,{className:"mt-1 small",children:[Object(E.jsx)(dt.a,{xs:1,children:"Programs"}),Object(E.jsx)(dt.a,{children:Object(E.jsx)(xt.a,{style:{maxHeight:"3rem",overflowY:"auto"},children:u.programs.map((function(e,t){return Object(E.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(E.jsx)(ot.a.Body,{className:"p-1",children:Object(E.jsx)(_.a.Check,{type:"checkbox",label:e,defaultChecked:w.programs.includes(e),onChange:function(t){!function(e,t){var a=w;e?a.programs.push(t):G.a.pullAll(a.programs,[t]),k(Object(N.a)({},a))}(t.target.checked,e)}},t+1)})},t)}))})})]}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsxs)(lt.a,{className:"mt-1 small",children:[Object(E.jsx)(dt.a,{xs:1,children:"Tags"}),Object(E.jsx)(dt.a,{children:Object(E.jsx)(xt.a,{style:{maxHeight:"6rem",overflowY:"auto"},children:u.tags.map((function(e,t){return Object(E.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(E.jsx)(ot.a.Body,{className:"p-1",children:Object(E.jsx)(_.a.Check,{type:"checkbox",label:e,defaultChecked:w.tags.includes(e),onChange:function(t){!function(e,t){var a=w;e?a.tags.push(t):G.a.pullAll(a.tags,[t]),k(Object(N.a)({},a))}(t.target.checked,e)}},t+1)})},t)}))})})]}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsxs)(lt.a,{className:"mt-1 small",children:[Object(E.jsx)(dt.a,{xs:1,children:"Attributes"}),Object(E.jsx)(dt.a,{children:Object.keys(u.attributes).map((function(e,t){return Object(E.jsxs)("div",{children:[Object(E.jsxs)(lt.a,{className:"mt-2",children:[Object(E.jsx)(dt.a,{xs:1,children:e}),Object(E.jsx)(dt.a,{children:Object(E.jsx)(xt.a,{style:{maxHeight:"7rem",overflowY:"auto"},children:u.attributes[e].map((function(t,a){return Object(E.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(E.jsx)(ot.a.Body,{className:"p-1",children:Object(E.jsx)(_.a.Check,{type:"checkbox",label:t,defaultChecked:w.attributes[e]&&w.attributes[e].includes(t),onChange:function(a){!function(e,t,a){var n=w;e?(n.attributes[t]||(n.attributes[t]=[]),n.attributes[t].push(a)):n.attributes[t]&&(G.a.pullAll(n.attributes[t],[a]),0===n.attributes[t].length&&delete n.attributes[t]),k(Object(N.a)({},n))}(a.target.checked,e,t)}},a+1)})},a)}))})})]},t),Object(E.jsx)("hr",{className:"mt-1 mb-1"})]},t)}))})]})]})})]})})})]})}),s?Object(E.jsxs)("div",{children:[Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{children:Object(E.jsx)("div",{style:{height:"350px"},children:Object(E.jsx)(Dt,{data:s.programs})})}),Object(E.jsx)(dt.a,{children:Object(E.jsx)("div",{style:{height:"350px"},children:Object(E.jsx)(Bt,{data:s.methods})})})]}),Object(E.jsx)(lt.a,{children:Object(E.jsx)(dt.a,{children:Object(E.jsx)("div",{style:{height:"600px"},children:Object(E.jsx)(Ht,{data:s.groups})})})}),Object(E.jsx)("hr",{}),Object(E.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(E.jsx)("thead",{className:"text-light bg-dark",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:e("soajs:fields.ServiceName")}),Object(E.jsx)("th",{children:e("soajs:fields.ServiceGroup")}),Object(E.jsx)("th",{children:e("soajs:fields.Program")}),Object(E.jsx)("th",{className:"text-center",children:e("soajs:fields.NbrApi")}),Object(E.jsx)("th",{className:"text-center",children:e("soajs:fields.Version")})]})}),Object(E.jsx)("tbody",{children:s.services.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.serviceName}),Object(E.jsx)("td",{className:"small",children:e.serviceGroup}),Object(E.jsx)("td",{className:"small",children:e.program.join(", ")}),Object(E.jsx)("td",{className:"small text-center",children:e.apis}),Object(E.jsx)("td",{className:"small text-center",children:e.version})]},t)}))})]}),Object(E.jsx)("div",{className:"float-right mt-3",children:Object(E.jsx)(_t,{currentPage:h,totalItems:P.totalItems,itemsPerPage:P.itemsPerPage,maxSize:P.maxSize,onClick:function(e){O(e),function(e){I.apply(this,arguments)}(e)}})}),Object(E.jsx)("div",{className:"clearfix"})]}):null]})}var ea={type:"service",includeSOAJS:!1,serviceName:"",serviceGroup:"",serviceVersion:"",route:"",tags:[],programs:[],attributes:{}},ta={get:"primary",post:"success",delete:"danger",put:"warning",patch:"info",head:"secondary",other:"light"},aa=Ut.getService();function na(e){return e&&ta[e]?ta[e]:ta.other}function sa(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(E.jsx)("div",{className:"float-left",type:"button",onClick:s,children:t})}function ra(e,t,a,n,s,r){return ca.apply(this,arguments)}function ca(){return(ca=Object(v.a)(g.a.mark((function e(t,a,n,s,r,c){var i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={limit:25,start:25*(n-1),type:c.type,includeSOAJS:c.includeSOAJS,keywords:{serviceName:c.serviceName,route:c.route,serviceGroup:c.serviceGroup,serviceVersion:c.serviceVersion},tags:c.tags,programs:c.programs,attributes:c.attributes},e.next=4,aa.getDashboardApis(i);case 4:o=e.sent,r&&o&&o.records&&Array.isArray(o.records)&&o.records.length>0&&(t(o.records),a({totalItems:o.count,maxSize:10,itemsPerPage:i.limit}),s({tags:o.tags,programs:o.programs,attributes:o.attributes})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function ia(){var e=Object(Ee.a)(["common","soajs"]).t,t=Object(n.useState)([]),a=Object(y.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(0),i=Object(y.a)(c,2),o=i[0],l=i[1],d=Object(n.useState)({tags:[],programs:[],attributes:{}}),j=Object(y.a)(d,2),u=j[0],m=j[1],p=Object(n.useState)(1),b=Object(y.a)(p,2),h=b[0],O=b[1],x=Object(n.useState)(ea),f=Object(y.a)(x,2),w=f[0],k=f[1],C=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),S=Object(y.a)(C,2),P=S[0],A=S[1];function T(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),k(Object(N.a)(Object(N.a)({},w),{},Object(Ve.a)({},e.target.id,t)))}function I(){return(I=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra(r,A,t||h,m,!0,w);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return M.apply(this,arguments)}function M(){return(M=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O(1),e.next=4,ra(r,A,1,m,!0,w);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return ra(r,A,1,m,e,ea),function(){return e=!1}}),[]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(me.a,{className:"p-3",children:Object(E.jsxs)(_.a,{onSubmit:U,children:[Object(E.jsxs)(lt.a,{className:"small",children:[Object(E.jsx)(dt.a,{xs:3,children:Object(E.jsx)(_.a.Control,{placeholder:e("soajs:fields.ServiceName"),id:"serviceName",size:"sm",autoFocus:!0,value:w.serviceName,onChange:T})}),Object(E.jsx)(dt.a,{xs:2,children:Object(E.jsx)(_.a.Control,{placeholder:e("soajs:fields.ServiceVersion"),id:"serviceVersion",size:"sm",autoFocus:!0,value:w.serviceVersion,onChange:T})}),Object(E.jsx)(dt.a,{xs:2,children:Object(E.jsx)(_.a.Control,{placeholder:e("soajs:fields.ServiceGroup"),id:"serviceGroup",size:"sm",autoFocus:!0,value:w.serviceGroup,onChange:T})}),Object(E.jsx)(dt.a,{xs:3,children:Object(E.jsx)(_.a.Control,{placeholder:e("soajs:fields.Route"),id:"route",size:"sm",autoFocus:!0,value:w.route,onChange:T})}),Object(E.jsx)(dt.a,{xs:2,className:"mt-2",children:Object(E.jsx)(_.a.Check,{id:"includeSOAJS",label:"Include SOAJS APIs",defaultChecked:w.includeSOAJS,onChange:T})})]}),Object(E.jsx)("hr",{}),Object(E.jsx)(lt.a,{children:Object(E.jsx)(dt.a,{children:Object(E.jsxs)(Ot.a,{activeKey:o,children:[Object(E.jsxs)(sa,{eventKey:1,handleClick:function(){l(1===o?null:1)},children:[1===o?Object(E.jsx)(gt.b,{className:"mr-1"}):Object(E.jsx)(gt.a,{className:"mr-1"})," ",Object(E.jsx)("span",{className:"small",children:"Advanced Filters"})]}),Object(E.jsxs)(L.a,{className:"float-right",variant:"dark",size:"sm",onClick:U,children:[Object(E.jsx)(vt.c,{})," ",e("soajs:buttons.Search")]}),Object(E.jsx)("span",{className:"clearfix"}),Object(E.jsx)(Ot.a.Collapse,{eventKey:1,children:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("hr",{className:"mb-1"}),Object(E.jsxs)(lt.a,{className:"mt-1 small",children:[Object(E.jsx)(dt.a,{xs:1,children:"Programs"}),Object(E.jsx)(dt.a,{children:Object(E.jsx)(xt.a,{style:{maxHeight:"3rem",overflowY:"auto"},children:u.programs.map((function(e,t){return Object(E.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(E.jsx)(ot.a.Body,{className:"p-1",children:Object(E.jsx)(_.a.Check,{type:"checkbox",label:e,defaultChecked:w.programs.includes(e),onChange:function(t){!function(e,t){var a=w;e?a.programs.push(t):G.a.pullAll(a.programs,[t]),k(Object(N.a)({},a))}(t.target.checked,e)}},t+1)})},t)}))})})]}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsxs)(lt.a,{className:"mt-1 small",children:[Object(E.jsx)(dt.a,{xs:1,children:"Tags"}),Object(E.jsx)(dt.a,{children:Object(E.jsx)(xt.a,{style:{maxHeight:"6rem",overflowY:"auto"},children:u.tags.map((function(e,t){return Object(E.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(E.jsx)(ot.a.Body,{className:"p-1",children:Object(E.jsx)(_.a.Check,{type:"checkbox",label:e,defaultChecked:w.tags.includes(e),onChange:function(t){!function(e,t){var a=w;e?a.tags.push(t):G.a.pullAll(a.tags,[t]),k(Object(N.a)({},a))}(t.target.checked,e)}},t+1)})},t)}))})})]}),Object(E.jsx)("hr",{className:"mt-1 mb-1"}),Object(E.jsxs)(lt.a,{className:"mt-1 small",children:[Object(E.jsx)(dt.a,{xs:1,children:"Attributes"}),Object(E.jsx)(dt.a,{children:Object.keys(u.attributes).map((function(e,t){return Object(E.jsxs)("div",{children:[Object(E.jsxs)(lt.a,{className:"mt-2",children:[Object(E.jsx)(dt.a,{xs:1,children:e}),Object(E.jsx)(dt.a,{children:Object(E.jsx)(xt.a,{style:{maxHeight:"7rem",overflowY:"auto"},children:u.attributes[e].map((function(t,a){return Object(E.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(E.jsx)(ot.a.Body,{className:"p-1",children:Object(E.jsx)(_.a.Check,{type:"checkbox",label:t,defaultChecked:w.attributes[e]&&w.attributes[e].includes(t),onChange:function(a){!function(e,t,a){var n=w;e?(n.attributes[t]||(n.attributes[t]=[]),n.attributes[t].push(a)):n.attributes[t]&&(G.a.pullAll(n.attributes[t],[a]),0===n.attributes[t].length&&delete n.attributes[t]),k(Object(N.a)({},n))}(a.target.checked,e,t)}},a+1)})},a)}))})})]},t),Object(E.jsx)("hr",{className:"mt-1 mb-1"})]},t)}))})]})]})})]})})})]})}),s.length>0?Object(E.jsxs)(E.Fragment,{children:[s.map((function(e,t){return e.method&&e.route&&Object(E.jsxs)(ct.a,{className:"m-1 p-2",variant:na(e.method),children:[Object(E.jsx)(lt.a,{children:Object(E.jsxs)(dt.a,{children:[Object(E.jsx)(L.a,{size:"sm",className:"mr-2 pl-1 pr-1 pt-0 pb-0 float-left",variant:na(e.method),children:Object(E.jsx)("span",{className:"small",children:e.method.toUpperCase()})}),Object(E.jsx)("span",{className:"small float-left font-weight-bold mr-1",children:e.serviceName}),Object(E.jsxs)("span",{className:"small float-left mr-2 font-weight-bold text-success",children:[" v",e.v," "]}),Object(E.jsx)("span",{className:"small float-left",children:e.route}),Object(E.jsx)("span",{className:"small float-right text-info",children:e.group})]})}),Object(E.jsx)(lt.a,{className:"mt-2",children:Object(E.jsx)(dt.a,{children:Object(E.jsx)("span",{className:"small font-italic float-left ml-3",children:e.label})})})]},t)})),Object(E.jsx)("div",{className:"float-right mt-3",children:Object(E.jsx)(_t,{currentPage:h,totalItems:P.totalItems,itemsPerPage:P.itemsPerPage,maxSize:P.maxSize,onClick:function(e){O(e),function(e){I.apply(this,arguments)}(e)}})}),Object(E.jsx)("div",{className:"clearfix"})]}):null]})}var oa={type:"service",includeSOAJS:!1,serviceName:"",serviceGroup:"",serviceVersion:"",route:"",tenant:""},la={get:"primary",post:"success",delete:"danger",put:"warning",patch:"info",head:"secondary",other:"light"},da=Ut.getService();function ja(e){return e&&la[e]?la[e]:la.other}function ua(e,t,a,n,s){return ma.apply(this,arguments)}function ma(){return(ma=Object(v.a)(g.a.mark((function e(t,a,n,s,r){var c,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={limit:6,start:6*(n-1),type:r.type,includeSOAJS:r.includeSOAJS,keywords:{serviceName:r.serviceName,serviceGroup:r.serviceGroup,serviceVersion:r.serviceVersion,route:r.route}},e.next=4,da.getApis(c);case 4:i=e.sent,s&&i&&i.records&&(t(i.records),a({totalItems:i.count,maxSize:10,itemsPerPage:i.limit})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function pa(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(E.jsx)("div",{className:"float-right",type:"button",onClick:s,children:t})}function ba(){var e=Object(Ee.a)(["common","soajs"]).t,t=Object(n.useState)([]),a=Object(y.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(1),i=Object(y.a)(c,2),o=i[0],l=i[1],d=Object(n.useState)(oa),j=Object(y.a)(d,2),u=j[0],m=j[1],p=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),b=Object(y.a)(p,2),h=b[0],O=b[1],x=Object(n.useState)(null),f=Object(y.a)(x,2),w=f[0],k=f[1],C=Object(n.useState)([]),S=Object(y.a)(C,2),P=S[0],A=S[1],T=Object(n.useState)({code:"",count:0,tenants:[]}),I=Object(y.a)(T,2),U=I[0],z=I[1],R=Object(n.useState)(0),G=Object(y.a)(R,2),D=G[0],F=G[1];function B(e){return K.apply(this,arguments)}function K(){return(K=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ua(r,O,t||o,!0,u);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),m(Object(N.a)(Object(N.a)({},u),{},Object(Ve.a)({},e.target.id,t)))}function J(){return(J=Object(v.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={productCode:t,limit:10,start:0},u.tenant.length>0&&(a.keyword=u.tenant),e.next=5,da.getAPIACLUsageTenants(a);case 5:(n=e.sent)&&n.records&&z({code:t,count:n.count,tenants:n.records}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function W(){return(W=Object(v.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k({service:t.serviceName,version:t.v,method:t.method,api:t.route,group:t.group}),e.next=4,da.getAPIACLUsage({service:t.serviceName,version:t.v,method:t.method,api:t.route});case 4:(a=e.sent)&&A(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function V(e){return q.apply(this,arguments)}function q(){return(q=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),l(1),e.next=4,B(1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return ua(r,O,1,e,oa).catch(),function(){return e=!1}}),[]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(me.a,{className:"p-3",children:Object(E.jsxs)(_.a,{onSubmit:V,children:[Object(E.jsxs)(lt.a,{className:"small",children:[Object(E.jsx)(dt.a,{xs:4,children:Object(E.jsx)(_.a.Control,{placeholder:e("soajs:fields.ServiceName"),id:"serviceName",size:"sm",autoFocus:!0,value:u.serviceName,onChange:H})}),Object(E.jsx)(dt.a,{xs:4,children:Object(E.jsx)(_.a.Control,{placeholder:e("soajs:fields.ServiceVersion"),id:"serviceVersion",size:"sm",autoFocus:!0,value:u.serviceVersion,onChange:H})}),Object(E.jsx)(dt.a,{xs:4,children:Object(E.jsx)(_.a.Control,{placeholder:e("soajs:fields.ServiceGroup"),id:"serviceGroup",size:"sm",autoFocus:!0,value:u.serviceGroup,onChange:H})})]}),Object(E.jsxs)(lt.a,{className:"small mt-4",children:[Object(E.jsx)(dt.a,{xs:6,md:7,children:Object(E.jsx)(_.a.Control,{placeholder:e("soajs:fields.Route"),id:"route",size:"sm",autoFocus:!0,value:u.route,onChange:H})}),Object(E.jsx)(dt.a,{xs:3,children:Object(E.jsx)(_.a.Check,{id:"includeSOAJS",label:"Include SOAJS APIs",defaultChecked:u.includeSOAJS,onChange:H})}),Object(E.jsx)(dt.a,{xs:3,md:2,children:Object(E.jsxs)(L.a,{className:"float-right",variant:"dark",size:"sm",onClick:V,children:[Object(E.jsx)(vt.c,{})," ",e("soajs:buttons.Search")]})})]})]})}),s.length>0?Object(E.jsxs)(E.Fragment,{children:[s.map((function(e,t){return Object(E.jsx)(ct.a,{className:"m-1 p-2",variant:ja(e.method),children:Object(E.jsx)(lt.a,{children:Object(E.jsxs)(dt.a,{children:[Object(E.jsx)(L.a,{size:"sm",className:"mr-2 pl-1 pr-1 pt-0 pb-0 float-left",variant:ja(e.method),children:Object(E.jsx)("span",{className:"small",children:e.method?e.method.toUpperCase():""})}),Object(E.jsx)("span",{className:"small float-left font-weight-bold mr-1",children:e.serviceName}),Object(E.jsxs)("span",{className:"small float-left mr-2 font-weight-bold text-success",children:[" v",e.v," "]}),Object(E.jsx)("span",{className:"small float-left",children:e.route}),Object(E.jsx)(L.a,{disabled:!e.route,variant:"light",className:"float-right ml-2 small pl-1 pr-1 pt-0 pb-0",onClick:function(){(function(e){return W.apply(this,arguments)})(e).catch()},children:Object(E.jsx)(M.c,{className:"small"})}),Object(E.jsx)("span",{className:"small float-right text-info",children:e.group})]})})},t)})),Object(E.jsx)("div",{className:"float-right mt-3",children:Object(E.jsx)(_t,{currentPage:o,totalItems:h.totalItems,itemsPerPage:h.itemsPerPage,maxSize:h.maxSize,onClick:function(e){l(e),B(e)}})}),Object(E.jsx)("div",{className:"clearfix"}),Object(E.jsx)("hr",{})]}):null,w&&Object(E.jsx)(ct.a,{className:"m-1 p-2",variant:ja(w.method),children:Object(E.jsx)(lt.a,{children:Object(E.jsxs)(dt.a,{children:[Object(E.jsx)(L.a,{size:"sm",className:"mr-2 pl-1 pr-1 pt-0 pb-0 float-left",variant:ja(w.method),children:Object(E.jsx)("span",{className:"small",children:w.method?w.method.toUpperCase():""})}),Object(E.jsx)("span",{className:"small float-left font-weight-bold mr-1",children:w.service}),Object(E.jsxs)("span",{className:"small float-left mr-2 font-weight-bold text-success",children:[" v",w.version," "]}),Object(E.jsx)("span",{className:"small float-left",children:w.api}),Object(E.jsx)("span",{className:"small float-right text-info",children:w.group})]})})}),Object(E.jsx)(Ot.a,{activeKey:D,children:P.map((function(t,a){return Object(E.jsxs)(ct.a,{variant:"light",className:"mt-2 mb-2 small",style:{borderColor:"#c6c8ca"},children:[Object(E.jsx)(lt.a,{children:Object(E.jsxs)(dt.a,{children:[Object(E.jsx)("b",{children:t.name}),Object(E.jsx)(it.a,{variant:"info ml-3",children:t.code}),Object(E.jsx)(pa,{eventKey:a+1,handleClick:function(){F(D===a+1?null:a+1)},children:D===a+1?Object(E.jsx)(gt.b,{}):Object(E.jsx)(gt.a,{})})]})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:a+1,children:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{className:"p-2",children:[t.found_in_scope&&t.found_in_scope.envs.length>0&&Object(E.jsxs)(ct.a,{variant:"secondary",className:"p-1",children:["Scope usage",Object(E.jsxs)("span",{className:"float-right",children:["Environments:",Object(E.jsx)("span",{className:" info ml-2",children:t.found_in_scope.envs.join(", ").toUpperCase()})]})]},a),t.found_in_package&&t.found_in_package.packages.length>0&&Object(E.jsxs)("div",{children:[Object(E.jsx)("b",{children:"Package usage"}),t.found_in_package.packages.map((function(e,a){return Object(E.jsxs)(ct.a,{variant:"info",className:"p-1 m-1",children:[e,Object(E.jsx)("span",{className:"float-right",children:t.found_in_package.envs&&t.found_in_package.envs[e]&&Object(E.jsxs)(E.Fragment,{children:["Environments:",Object(E.jsx)("span",{className:"info ml-2",children:t.found_in_package.envs[e].join(", ").toUpperCase()})]})})]},a)}))]}),Object(E.jsx)("hr",{}),Object(E.jsxs)(me.a,{className:"p-3 mb-2",children:[Object(E.jsx)("b",{children:"Tenants usage"})," click on search to filter and fetch usage",Object(E.jsx)(lt.a,{className:"mt-2",children:Object(E.jsx)(dt.a,{children:Object(E.jsx)(_.a,{onSubmit:V,children:Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{xs:9,md:10,children:Object(E.jsx)(_.a.Control,{id:"tenant",size:"sm",autoFocus:!0,value:u.tenant,onChange:H})}),Object(E.jsx)(dt.a,{xs:3,md:2,children:Object(E.jsxs)(L.a,{className:"float-right",variant:"dark",size:"sm",onClick:function(){(function(e){return J.apply(this,arguments)})(t.code).catch()},children:[Object(E.jsx)(vt.c,{})," ",e("soajs:buttons.Search")]})})]})})})}),U.code===t.code&&U.tenants&&Object(E.jsx)(lt.a,{children:Object(E.jsx)(dt.a,{children:Object(E.jsxs)(ct.a,{className:" mt-2 p-1 m-0",children:["Used by ",Object(E.jsx)(it.a,{variant:"secondary",children:U.count})," tenant(s)",U.count>10&&Object(E.jsxs)("span",{children:[", max ",10," are listed below use search to filter"]})]},a)})})]}),U.code===t.code&&U.tenants&&U.tenants.length>0&&Object(E.jsx)("div",{children:U.tenants.map((function(e,t){return Object(E.jsxs)(ct.a,{variant:"light",className:"p-2 m-1 border-secondary",children:[Object(E.jsx)("b",{children:e.name}),Object(E.jsx)("span",{className:"float-right",children:Object(E.jsx)(it.a,{variant:"secondary",children:e.code})}),Object(E.jsx)("hr",{}),e.applications.map((function(e,t){return Object(E.jsxs)(ct.a,{variant:"info",className:"p-1 m-1 small",children:[e.package,Object(E.jsxs)("span",{className:"float-right",children:["Environment:",Object(E.jsx)("span",{className:" info ml-2",children:e.key.env||"All environments"})]}),Object(E.jsx)("hr",{}),Object(E.jsx)("span",{style:{wordBreak:"break-all"},children:e.key.extKey})]},t)}))]},t)}))})]})]})})]},a)}))})]})}var ha=a(888),Oa=a(96),xa=a(894);var fa=function(e){var t=e.modalOpt,a=e.setModalOpt,n=Object(Ee.a)(["common","soajs"]).t,s=function(){return a({show:!1,json:{},mode:"view",title:""})};return t&&Object(E.jsxs)(xa.a,{show:t.show,onHide:s,animation:!1,size:"xl",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(E.jsxs)(xa.a.Title,{children:[n("soajs:titles.DetailedInformation")," ",t.title]})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsx)(ue,{modes:["view","preview"],mode:t.mode||"view",json:t.json||{}})}),Object(E.jsx)(xa.a.Footer,{className:"bg-light",children:Object(E.jsx)(L.a,{variant:"info",onClick:s,children:n("soajs:buttons.Ok")})})]})},ga=a(105),va=a.n(ga),ya=St.getService(),wa=Mt.getService(),ka={get:"primary",post:"success",delete:"danger",put:"warning",patch:"info",head:"secondary",other:"light"};function Ca(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(E.jsx)("div",{className:"float-right",type:"button",onClick:s,children:t})}function Na(){var e=Object(Ee.a)(["common","soajs"]).t,t=Object(n.useState)([]),a=Object(y.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)([]),i=Object(y.a)(c,2),o=i[0],l=i[1],d=Object(n.useState)(null),j=Object(y.a)(d,2),u=j[0],m=j[1],p=Object(n.useState)("-- Select an environment --"),b=Object(y.a)(p,2),h=b[0],O=b[1],x=Object(n.useState)({threshold:0,dateFrom:"",dateTo:""}),f=Object(y.a)(x,2),w=f[0],k=f[1],C=Object(n.useState)(0),S=Object(y.a)(C,2),P=S[0],A=S[1],T=Object(n.useState)(1),I=Object(y.a)(T,2),U=I[0],M=I[1],z=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),R=Object(y.a)(z,2),G=R[0],D=R[1],F=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),B=Object(y.a)(F,2),K=B[0],H=B[1];function J(e,t){var a=e;if("string"===typeof a)try{a=JSON.parse(a)}catch(n){ie.error(n.message)}!function(e,t){H({show:!0,json:e,mode:"view",title:t||""})}(a,t)}function W(e,t){return V.apply(this,arguments)}function V(){return(V=Object(v.a)(g.a.mark((function e(t,a){var n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={limit:12,start:12*(t-1)},w.threshold&&(n.threshold={above:w.threshold}),w.dateFrom&&w.dateFrom.length>0&&(n.dates||(n.dates={}),n.dates.from=new Date(w.dateFrom).getTime()),w.dateTo&&w.dateTo.length>0&&(n.dates||(n.dates={}),n.dates.to=new Date(w.dateTo).getTime()),e.next=7,wa.getMonitorItems(n,a||u);case 7:(s=e.sent)&&(D({totalItems:s.count,maxSize:10,itemsPerPage:s.limit}),r(s.items)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),ie.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function q(){return(q=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(t),O(t),e.next=4,W(1,t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return X.apply(this,arguments)}function X(){return(X=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),M(1),e.next=4,W(1,null);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ya.getEnvironments();case 3:(a=t.sent)&&e&&l(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ie.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(ct.a,{variant:"info",className:"mt-4 mb-2",children:[Object(E.jsx)("h6",{className:"float-left mr-3 mt-2",children:"Environment:"}),Object(E.jsx)(ha.a,{size:"sm",id:"dropdown-item-button",title:h,variant:"light",className:"small",children:o.map((function(e,t){return Object(E.jsx)(Oa.a.Item,{as:"button",active:u===e.code,onClick:function(){(function(e){return q.apply(this,arguments)})(e.code).catch()},children:Object(E.jsx)("small",{children:e.code})},t)}))}),Object(E.jsx)("span",{className:"clearfix"})]}),Object(E.jsx)(me.a,{className:"p-2 mb-1",children:Object(E.jsx)(_.a,{onSubmit:Y,children:Object(E.jsxs)(lt.a,{className:"small",children:[Object(E.jsxs)(dt.a,{xs:3,children:[Object(E.jsx)(_.a.Control,{style:{fontSize:"80%"},id:"threshold",size:"sm",type:"number",min:0,value:w.threshold,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),"number"===e.target.type&&(t=parseInt(t)),k(Object(N.a)(Object(N.a)({},w),{},Object(Ve.a)({},e.target.id,t)))}}),Object(E.jsx)(_.a.Text,{className:"text-muted",children:"Request above threshold"})]}),Object(E.jsxs)(dt.a,{children:[Object(E.jsx)(va.a,{selected:w.dateFrom&&""!==w.dateFrom?new Date(w.dateFrom):null,onChange:function(e){e?(w.dateFrom=e.toISOString(),k(Object(N.a)({},w))):(w.dateFrom="",k(Object(N.a)({},w)))}}),Object(E.jsx)(_.a.Text,{className:"text-muted",children:"From Date"})]}),Object(E.jsxs)(dt.a,{children:[Object(E.jsx)(va.a,{selected:w.dateTo&&""!==w.dateTo?new Date(w.dateTo):null,onChange:function(e){e?(w.dateTo=e.toISOString(),k(Object(N.a)({},w))):(w.dateTo="",k(Object(N.a)({},w)))}}),Object(E.jsx)(_.a.Text,{className:"text-muted",children:"To Date"})]}),Object(E.jsx)(dt.a,{children:Object(E.jsxs)(L.a,{disabled:!u,className:"float-right",variant:"dark",size:"sm",onClick:Y,children:[Object(E.jsx)(vt.c,{})," ",e("soajs:buttons.Search")]})})]})})}),s&&s.length>0&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(fa,{modalOpt:K,setModalOpt:H}),Object(E.jsx)(Ot.a,{activeKey:P,children:s.map((function(e,t){return Object(E.jsxs)(ct.a,{variant:"light",className:"mt-2 mb-2",style:{borderColor:"#c6c8ca"},children:[Object(E.jsx)(lt.a,{children:Object(E.jsxs)(dt.a,{children:[Object(E.jsxs)("span",{className:"float-left",children:[Object(E.jsx)(L.a,{size:"sm",className:"mr-2 pl-1 pr-1 pt-0 pb-0",variant:(a=e.method.toLowerCase(),a&&ka[a]?ka[a]:ka.other),children:Object(E.jsx)("span",{className:"small",children:e.method.toUpperCase()})}),Object(E.jsx)("span",{className:"font-weight-bold",children:e.api})," ",Object(E.jsxs)(it.a,{variant:"secondary",children:[e.time.total,"ms"]})]}),Object(E.jsxs)("span",{className:"float-right",children:[Object(E.jsxs)(it.a,{variant:"info mr-5",children:[e.name," v",e.version]}),Object(E.jsx)("span",{className:"mr-2 small",children:e.ts?new Date(e.ts).toISOString():null}),Object(E.jsx)(Ca,{eventKey:t+1,handleClick:function(){A(P===t+1?null:t+1)},children:P===t+1?Object(E.jsx)(gt.b,{}):Object(E.jsx)(gt.a,{})})]}),Object(E.jsx)("span",{className:"clearfix"})]})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:t+1,children:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("hr",{className:"mt-2 mb-1"}),Object(E.jsx)(lt.a,{className:"mt-2 small",children:Object(E.jsxs)(dt.a,{children:[Object(E.jsxs)("span",{className:"float-left",children:[e.tenant?e.tenant.id:null," [",e.tenant?e.tenant.code:null,"]"]}),Object(E.jsxs)("span",{className:"float-right",children:[e.application?e.application.product:null," [",e.application?e.application.package:null,"]"]})]})}),Object(E.jsx)(lt.a,{className:"mt-3",children:Object(E.jsxs)(dt.a,{children:[e.body&&Object(E.jsx)(L.a,{className:"float-left ml-2",variant:"link",size:"sm",style:{borderColor:"#c6c8ca"},onClick:function(){J(e.body)},children:"body"}),Object(E.jsx)(L.a,{className:"float-right ml-2",variant:"link",size:"sm",style:{borderColor:"#c6c8ca"},onClick:function(){J(e.response)},children:"response"}),Object(E.jsx)(L.a,{className:"float-right ml-5",variant:"link",size:"sm",style:{borderColor:"#c6c8ca"},onClick:function(){J(e.query)},children:"request"}),Object(E.jsx)(L.a,{className:"float-right ml-2",variant:"link",size:"sm",style:{borderColor:"#c6c8ca"},onClick:function(){J(e.headers)},children:"header"}),Object(E.jsx)(L.a,{className:"float-right ml-2",variant:"link",size:"sm",style:{borderColor:"#c6c8ca"},onClick:function(){J({tenant:e.tenant,key:e.key,user:e.urac,time:e.time,url:e.url})},children:"info"})]})})]})})]},t);var a}))}),Object(E.jsx)("div",{className:"float-right mt-3",children:Object(E.jsx)(_t,{currentPage:U,totalItems:G.totalItems,itemsPerPage:G.itemsPerPage,maxSize:G.maxSize,onClick:function(e){M(e),W(e,null).catch()}})}),Object(E.jsx)("div",{className:"clearfix"})]})]})}var Sa=St.getService(),Pa=Mt.getService(),Aa={get:"primary",post:"success",delete:"danger",put:"warning",patch:"info",head:"secondary",other:"light"};function Ta(){var e=Object(Ee.a)(["common","soajs"]).t,t=Object(n.useState)([]),a=Object(y.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)([]),i=Object(y.a)(c,2),o=i[0],l=i[1],d=Object(n.useState)([]),j=Object(y.a)(d,2),u=j[0],m=j[1],p=Object(n.useState)([]),b=Object(y.a)(p,2),h=b[0],O=b[1],x=Object(n.useState)([]),f=Object(y.a)(x,2),w=f[0],k=f[1],C=Object(n.useState)(null),S=Object(y.a)(C,2),P=S[0],A=S[1],T=Object(n.useState)("-- Select an environment --"),I=Object(y.a)(T,2),U=I[0],M=I[1],z=Object(n.useState)({type:"api",username:"",tenantCode:"",api:"",service:"",dateFrom:"",dateTo:"",year:{from:0,to:0},month:{from:0,to:0},day:{from:0,to:0}}),R=Object(y.a)(z,2),G=R[0],D=R[1],F=Object(n.useState)(1),B=Object(y.a)(F,2),K=B[0],H=B[1],J=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),W=Object(y.a)(J,2),V=W[0],q=W[1];function Y(e,t){return X.apply(this,arguments)}function X(){return(X=Object(v.a)(g.a.mark((function e(t,a){var n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={limit:15,start:15*(t-1)},"api"===G.type&&G.api&&G.api.length>0&&(n.filters={api:G.api}),"user"===G.type&&G.username&&G.username.length>0&&(n.filters={username:G.username}),"tenant"===G.type&&G.tenantCode&&G.tenantCode.length>0&&(n.filters={tenantCode:G.tenantCode}),"service"===G.type&&G.service&&G.service.length>0&&(n.filters={service:G.service}),G.dateFrom&&G.dateFrom.length>0&&(n.year||(n.year={}),n.year.from=G.year.from,n.month||(n.month={}),n.month.from=G.month.from,n.day||(n.day={}),n.day.from=G.day.from),G.dateTo&&G.dateTo.length>0&&(n.year||(n.year={}),n.year.to=G.year.to,n.month||(n.month={}),n.month.to=G.month.to,n.day||(n.day={}),n.day.to=G.day.to),e.next=10,Pa.getMonitorAnalytics(G.type,n,a||P);case 10:(s=e.sent)&&(q({totalItems:s[G.type].count,maxSize:10,itemsPerPage:s[G.type].limit}),s.api&&s.api.items?r(s.api.items):r([]),s.service&&s.service.items?l(s.service.items):l([]),s.user&&s.user.items?m(s.user.items):m([]),s.tenant&&s.tenant.items?O(s.tenant.items):O([])),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),ie.error(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function Q(){return(Q=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(t),M(t),e.next=4,Y(1,t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),D(Object(N.a)(Object(N.a)({},G),{},Object(Ve.a)({},e.target.id,t)))}function $(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),H(1),e.next=4,Y(1,null);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Sa.getEnvironments();case 3:(a=t.sent)&&e&&k(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ie.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(ct.a,{variant:"info",className:"mt-4 mb-2",children:[Object(E.jsx)("h6",{className:"float-left mr-3 mt-2",children:"Environment:"}),Object(E.jsx)(ha.a,{size:"sm",id:"dropdown-item-button",title:U,variant:"light",className:"small",children:w.map((function(e,t){return Object(E.jsx)(Oa.a.Item,{as:"button",active:P===e.code,onClick:function(){(function(e){return Q.apply(this,arguments)})(e.code).catch()},children:Object(E.jsx)("small",{children:e.code})},t)}))}),Object(E.jsx)("span",{className:"clearfix"})]}),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(me.a,{className:"p-2 mb-1",children:Object(E.jsx)(_.a,{onSubmit:$,children:Object(E.jsxs)(lt.a,{className:"small",children:[Object(E.jsxs)(dt.a,{md:3,children:[Object(E.jsxs)(_.a.Control,{style:{fontSize:"80%"},as:"select",id:"type",defaultValue:G.type,onChange:Z,children:[Object(E.jsx)("option",{value:"api",children:"API"}),Object(E.jsx)("option",{value:"user",children:"User"}),Object(E.jsx)("option",{value:"tenant",children:"Tenant"}),Object(E.jsx)("option",{value:"service",children:"Service"})]}),Object(E.jsx)(_.a.Text,{className:"text-muted",children:"View by"})]}),Object(E.jsxs)(dt.a,{md:4,children:["api"===G.type&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(_.a.Control,{style:{fontSize:"80%"},id:"api",size:"sm",value:G.api,onChange:Z}),Object(E.jsx)(_.a.Text,{className:"text-muted",children:"Filter by route"})]}),"user"===G.type&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(_.a.Control,{style:{fontSize:"80%"},id:"username",size:"sm",value:G.username,onChange:Z}),Object(E.jsx)(_.a.Text,{className:"text-muted",children:"Filter by username"})]}),"service"===G.type&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(_.a.Control,{style:{fontSize:"80%"},id:"service",size:"sm",value:G.service,onChange:Z}),Object(E.jsx)(_.a.Text,{className:"text-muted",children:"Filter by service"})]}),"tenant"===G.type&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(_.a.Control,{style:{fontSize:"80%"},id:"tenantCode",size:"sm",value:G.tenantCode,onChange:Z}),Object(E.jsx)(_.a.Text,{className:"text-muted",children:"Filter by tenant"})]})]}),Object(E.jsxs)(dt.a,{children:[Object(E.jsx)(va.a,{selected:G.dateFrom&&""!==G.dateFrom?new Date(G.dateFrom):null,onChange:function(e){if(console.log(e),e){var t=e.getFullYear(),a=e.getMonth(),n=e.getDate();G.dateFrom=e.toISOString(),G.year.from=t,G.month.from=a,G.day.from=n,D(Object(N.a)({},G))}else G.dateFrom="",G.year.from=0,G.month.from=0,G.day.from=0,D(Object(N.a)({},G))}}),Object(E.jsx)(_.a.Text,{className:"text-muted",children:"Specific Date"})]}),Object(E.jsx)(dt.a,{children:Object(E.jsxs)(L.a,{disabled:!P,className:"float-right",variant:"dark",size:"sm",onClick:$,children:[Object(E.jsx)(vt.c,{})," ",e("soajs:buttons.Search")]})})]})})}),s&&s.length>0&&Object(E.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(E.jsx)("thead",{className:"text-light bg-dark",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:e("soajs:fields.Api")}),Object(E.jsx)("th",{children:e("soajs:fields.Service")}),Object(E.jsx)("th",{className:"text-center",children:e("soajs:fields.Count")}),Object(E.jsx)("th",{className:"text-center",children:e("soajs:fields.Max")}),Object(E.jsx)("th",{className:"text-center",children:e("soajs:fields.Min")}),Object(E.jsx)("th",{children:e("soajs:fields.Date")})]})}),Object(E.jsx)("tbody",{children:s.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsxs)("td",{children:[Object(E.jsx)(L.a,{size:"sm",className:"mr-2 pl-1 pr-1 pt-0 pb-0",variant:(a=e.method.toLowerCase(),a&&Aa[a]?Aa[a]:Aa.other),children:Object(E.jsx)("span",{className:"small",children:e.method.toUpperCase()})}),Object(E.jsx)("small",{children:e.api})]}),Object(E.jsx)("td",{children:Object(E.jsxs)("small",{children:[e.name," v",e.version]})}),Object(E.jsx)("td",{className:"text-center small",children:e.count}),Object(E.jsx)("td",{className:"text-center small",children:e.max_time_total}),Object(E.jsx)("td",{className:"text-center small",children:e.min_time_total}),Object(E.jsx)("td",{children:Object(E.jsxs)("small",{children:[e.year,"-",e.month+1,"-",e.day]})})]},t);var a}))})]}),o&&o.length>0&&Object(E.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(E.jsx)("thead",{className:"text-light bg-dark",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:e("soajs:fields.Service")}),Object(E.jsx)("th",{className:"text-center",children:e("soajs:fields.Count")}),Object(E.jsx)("th",{className:"text-center",children:e("soajs:fields.Max")}),Object(E.jsx)("th",{className:"text-center",children:e("soajs:fields.Min")}),Object(E.jsx)("th",{children:e("soajs:fields.Date")})]})}),Object(E.jsx)("tbody",{children:o.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:Object(E.jsxs)("small",{children:[e.name," ",Object(E.jsxs)(it.a,{variant:"secondary",children:["v",e.version]})]})}),Object(E.jsx)("td",{className:"text-center small",children:e.count}),Object(E.jsx)("td",{className:"text-center small",children:e.max_time_total}),Object(E.jsx)("td",{className:"text-center small",children:e.min_time_total}),Object(E.jsx)("td",{children:Object(E.jsxs)("small",{children:[e.year,"-",e.month+1,"-",e.day]})})]},t)}))})]}),h&&h.length>0&&Object(E.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(E.jsx)("thead",{className:"text-light bg-dark",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:e("soajs:fields.Tenant")}),Object(E.jsx)("th",{className:"text-center",children:e("soajs:fields.Count")}),Object(E.jsx)("th",{className:"text-center",children:e("soajs:fields.Max")}),Object(E.jsx)("th",{className:"text-center",children:e("soajs:fields.Min")}),Object(E.jsx)("th",{children:e("soajs:fields.Date")})]})}),Object(E.jsx)("tbody",{children:h.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:Object(E.jsxs)("small",{children:[e.tenant_id," [",Object(E.jsx)("span",{className:"text-info",children:e.tenant_code}),"]"]})}),Object(E.jsx)("td",{className:"text-center small",children:e.count}),Object(E.jsx)("td",{className:"text-center small",children:e.max_time_total}),Object(E.jsx)("td",{className:"text-center small",children:e.min_time_total}),Object(E.jsx)("td",{children:Object(E.jsxs)("small",{children:[e.year,"-",e.month+1,"-",e.day]})})]},t)}))})]}),u&&u.length>0&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(E.jsx)("thead",{className:"text-light bg-dark",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:e("soajs:fields.ID")}),Object(E.jsx)("th",{children:e("soajs:fields.Username")}),Object(E.jsx)("th",{children:e("soajs:fields.Email")}),Object(E.jsx)("th",{className:"text-center",children:e("soajs:fields.Count")}),Object(E.jsx)("th",{className:"text-center",children:e("soajs:fields.Max")}),Object(E.jsx)("th",{className:"text-center",children:e("soajs:fields.Min")}),Object(E.jsx)("th",{children:e("soajs:fields.Date")})]})}),Object(E.jsx)("tbody",{children:u.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:Object(E.jsx)("small",{children:e.urac_id})}),Object(E.jsx)("td",{children:Object(E.jsx)("small",{children:e.urac_username})}),Object(E.jsx)("td",{children:Object(E.jsx)("small",{children:e.urac_email})}),Object(E.jsx)("td",{className:"text-center small",children:e.count}),Object(E.jsx)("td",{className:"text-center small",children:e.max_time_total}),Object(E.jsx)("td",{className:"text-center small",children:e.min_time_total}),Object(E.jsx)("td",{children:Object(E.jsxs)("small",{children:[e.year,"-",e.month+1,"-",e.day]})})]},t)}))})]}),Object(E.jsx)("div",{className:"float-right mt-3",children:Object(E.jsx)(_t,{currentPage:K,totalItems:V.totalItems,itemsPerPage:V.itemsPerPage,maxSize:V.maxSize,onClick:function(e){H(e),Y(e,null).catch()}})}),Object(E.jsx)("div",{className:"clearfix"})]})]})]})}function Ea(){return Object(E.jsxs)(w.g,{children:[Object(E.jsx)(I,{path:"/reports/api/metrics",children:Object(E.jsx)($t,{})}),Object(E.jsx)(I,{path:"/reports/api/catalog",children:Object(E.jsx)(ia,{})}),Object(E.jsx)(I,{path:"/reports/api/acl",children:Object(E.jsx)(ba,{})}),Object(E.jsx)(I,{path:"/reports/api/monitor",children:Object(E.jsx)(Na,{})}),Object(E.jsx)(I,{path:"/reports/api/analytics",children:Object(E.jsx)(Ta,{})}),Object(E.jsx)(w.d,{render:function(){return Object(E.jsx)(w.c,{to:"/reports/api/metrics"})}})]})}var Ia=a(896),Ua=a(481),La=a(889),Ma=a(24);var za=function(){var e=Object(Ee.a)(["common","soajs"]).t;return Object(E.jsxs)(Ia.a,{collapseOnSelect:!0,expand:"md",className:"pt-0 pb-0",bg:"secondary",variant:"dark",children:[Object(E.jsx)("span",{}),Object(E.jsx)(Ia.a.Toggle,{"aria-controls":"reports-navbar-nav"}),Object(E.jsx)(Ia.a.Collapse,{id:"settings-navbar-nav",className:"justify-content-end",children:Object(E.jsxs)(Ua.a,{activeKey:window.location.pathname,children:[Object(E.jsx)(Ma.LinkContainer,{to:"/reports/api/metrics",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.APIMetrics")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/reports/api/catalog",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.APICatalog")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/reports/api/acl",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.APIACL")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/reports/api/monitor",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.APIMonitor")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/reports/api/analytics",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.APIAnalytics")})})})]})})]})};function _a(){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(za,{}),Object(E.jsx)("div",{className:"bg-dark pt-1"}),Object(E.jsx)("div",{className:"main-area",children:Object(E.jsx)(bt.a,{className:"mt-3 mb-3",children:Object(E.jsx)(Ea,{})})})]})}var Ra=a(902),Ga=a(892),Da=we.getService(),Fa=Ct.getService();function Ba(e){var t=e.modalOpt,a=e.handleAction,s=e.handleClose,r=Object(Ee.a)(["common","soajs"]).t,c=T().ability,i=Object(n.useState)([]),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({groups:[],type:"whitelist"}),u=Object(y.a)(j,2),m=u[0],p=u[1];function b(e,t){var a=m;a.type=t,p(Object(N.a)({},a))}function h(e){return O.apply(this,arguments)}function O(){return(O=Object(v.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,Fa.updateSettingsGroups({id:t.item._id,groups:m.groups,type:m.type,subType:t.item.configuration&&t.item.configuration.subType||null});case 4:ie.success(r("soajs:messages.groupsItemSuccess")),a(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t.item&&t.item.settings&&t.item.settings.acl&&t.item.settings.acl.groups&&p({groups:t.item.settings.acl.groups.value,type:t.item.settings.acl.groups.type}),a.next=4,Da.getGroups();case 4:n=a.sent,e&&d(n),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),ie.error(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){return e=!1}}),[t]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(me.a,{className:"p-4 m-0 bg-light border-dark small",children:Object(E.jsxs)("fieldset",{children:[Object(E.jsx)(_.a.Check,{type:"radio",label:"whitelist",name:"groupsType",id:"groupsType1",defaultChecked:"whitelist"===m.type,onChange:function(e){b(e.target.checked,"whitelist")}}),Object(E.jsx)(_.a.Check,{type:"radio",label:"blacklist",name:"groupsType",id:"groupsType2",defaultChecked:"blacklist"===m.type,onChange:function(e){b(e.target.checked,"blacklist")}})]})}),Object(E.jsx)(xt.a,{className:"ml-2",children:l.map((function(e,a){return Object(E.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(E.jsx)(ot.a.Body,{className:"p-2",children:Object(E.jsx)(_.a.Check,{className:"small",type:"checkbox",defaultChecked:(n=t.item.settings,s=e.code,n&&n.acl&&n.acl.groups&&n.acl.groups.value&&n.acl.groups.value.includes(s)),label:e.code,onChange:function(t){!function(e,t){var a=m;e?a.groups.push(t):G.a.pullAll(a.groups,[t]),p(Object(N.a)({},a))}(t.target.checked,e.code)}},a+1)})},a);var n,s}))}),Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{children:[Object(E.jsx)(L.a,{className:"ml-1 float-right",variant:"warning",onClick:s,children:r("soajs:buttons.Close")}),c.can("market_item","settings_groups")&&"soajs"!==(t.item.configuration&&t.item.configuration.subType||null)&&Object(E.jsxs)(L.a,{className:"ml-1 float-right",variant:"success",disabled:!1,onClick:h,children:[r("soajs:buttons.Save")," - ",r("soajs:fields.Groups")]}),c.can("market_item","settings_groups")&&"soajs"===(t.item.configuration&&t.item.configuration.subType||null)&&Object(E.jsxs)(L.a,{className:"ml-1 float-right",variant:"success",disabled:!1,onClick:h,children:[r("soajs:buttons.Save")," - ",r("soajs:fields.Groups")]})]})]})}var Ka=St.getService(),Ha=Ct.getService();function Ja(e){var t=e.modalOpt,a=e.handleAction,s=e.handleClose,r=Object(Ee.a)(["common","soajs"]).t,c=T().ability,i=Object(n.useState)([]),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({environments:[],type:"whitelist"}),u=Object(y.a)(j,2),m=u[0],p=u[1];function b(e,t){var a=m;a.type=t,p(Object(N.a)({},a))}function h(e){return O.apply(this,arguments)}function O(){return(O=Object(v.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,Ha.updateSettingsEnvironments({id:t.item._id,environments:m.environments,type:m.type,subType:t.item.configuration&&t.item.configuration.subType||null});case 4:ie.success(r("soajs:messages.environmentsItemSuccess")),a(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t.item&&t.item.settings&&t.item.settings.environments&&p({environments:t.item.settings.environments.value,type:t.item.settings.environments.type}),a.next=4,Ka.getEnvironments();case 4:n=a.sent,e&&d(n),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),ie.error(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}return function(){return a.apply(this,arguments)}().catch(),function(){return e=!1}}),[t]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(me.a,{className:"p-4 m-0 bg-light border-dark small",children:Object(E.jsxs)("fieldset",{children:[Object(E.jsx)(_.a.Check,{type:"radio",label:"whitelist",name:"environmentsType",id:"environmentsType1",defaultChecked:"whitelist"===m.type,onChange:function(e){b(e.target.checked,"whitelist")}}),Object(E.jsx)(_.a.Check,{type:"radio",label:"blacklist",name:"environmentsType",id:"environmentsType2",defaultChecked:"blacklist"===m.type,onChange:function(e){b(e.target.checked,"blacklist")}})]})}),Object(E.jsx)(xt.a,{className:"ml-2",children:l.map((function(e,a){return Object(E.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(E.jsx)(ot.a.Body,{className:"p-2",children:Object(E.jsx)(_.a.Check,{className:"small",type:"checkbox",defaultChecked:(n=t.item.settings,s=e.code,n&&n.environments&&n.environments.value&&n.environments.value.includes(s)),label:e.code,onChange:function(t){!function(e,t){var a=m;e?a.environments.push(t):G.a.pullAll(a.environments,[t]),p(Object(N.a)({},a))}(t.target.checked,e.code)}},a+1)})},a);var n,s}))}),Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{children:[Object(E.jsx)(L.a,{className:"ml-1 float-right",variant:"warning",onClick:s,children:r("soajs:buttons.Close")}),c.can("market_item","settings_environments")&&"soajs"!==(t.item.configuration&&t.item.configuration.subType||null)&&Object(E.jsxs)(L.a,{className:"ml-1 float-right",variant:"success",disabled:!1,onClick:h,children:[r("soajs:buttons.Save")," - ",r("soajs:fields.Environments")]}),c.can("market_item","settings_environments")&&"soajs"===(t.item.configuration&&t.item.configuration.subType||null)&&Object(E.jsxs)(L.a,{className:"ml-1 float-right",variant:"success",disabled:!1,onClick:h,children:[r("soajs:buttons.Save")," - ",r("soajs:fields.Environments")]})]})]})}var Wa=a(95),Va=a(897),qa=a(891),Ya=a(154);function Xa(e){var t=Object.assign({},e),a=Object(Ee.a)(["common","soajs"]).t;return Object(E.jsx)(Va.a,{placement:"top",overlay:Object(E.jsx)(qa.a,{id:"tooltip-top}",children:a("soajs:buttons.Delete")}),children:Object(E.jsx)(L.a,Object(N.a)(Object(N.a)({variant:"danger",size:"sm"},t),{},{children:Object(E.jsx)(Ya.a,{})}))})}var Qa=a(30);function Za(e){var t=Object.assign({},e),a=Object(Ee.a)(["common","soajs"]).t;return Object(E.jsx)(Va.a,{placement:"top",overlay:Object(E.jsx)(qa.a,{id:"tooltip-top}",children:a("soajs:buttons.Add")}),children:Object(E.jsx)(L.a,Object(N.a)(Object(N.a)({variant:"success",size:"sm"},t),{},{children:Object(E.jsx)(Qa.a,{})}))})}var $a=Ct.getService();function en(e,t,a,n){return tn.apply(this,arguments)}function tn(){return(tn=Object(v.a)(g.a.mark((function e(t,a,n,s){var r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={limit:10,start:10*(t-1)},a&&a.keywords&&""!==a.keywords&&(r.keywords=a.keywords),e.next=5,$a.getRecipes(r);case 5:c=e.sent,n({totalItems:c.count,maxSize:10,itemsPerPage:c.limit}),s(c.records),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function an(e){var t=e.modalOpt,a=e.handleAction,s=e.handleClose,r=Object(Ee.a)(["common","soajs"]).t,c=T().ability,i=Object(n.useState)({recipes:[]}),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)([]),u=Object(y.a)(j,2),m=u[0],p=u[1],b=Object(n.useState)([]),h=Object(y.a)(b,2),O=h[0],x=h[1],f=Object(n.useState)(1),w=Object(y.a)(f,2),k=w[0],C=w[1],S=Object(n.useState)({keywords:""}),P=Object(y.a)(S,2),A=P[0],I=P[1],U=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),M=Object(y.a)(U,2),z=M[0],R=M[1];function D(){return(D=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,en(t,A,R,x);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,en(1,A,R,x);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return K.apply(this,arguments)}function K(){return(K=Object(v.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,$a.updateSettingsRecipes({id:t.item._id,recipes:l.recipes,subType:t.item.configuration&&t.item.configuration.subType||null});case 4:ie.success(r("soajs:messages.recipesItemSuccess")),a(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n,s;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,n=[],!(t.item&&t.item.settings&&t.item.settings.recipes)){a.next=15;break}if(d({recipes:t.item.settings.recipes}),!(t.item.settings.recipes.length>0)){a.next=15;break}return a.prev=5,a.next=8,$a.getRecipesByIds(t.item.settings.recipes);case 8:(s=a.sent)&&Array.isArray(s)&&(n=s),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(5),ie.error(a.t0.message);case 15:return a.next=17,en(1,{keywords:""},R,x);case 17:e&&p(n),a.next=23;break;case 20:a.prev=20,a.t1=a.catch(0),ie.error(a.t1.message);case 23:case"end":return a.stop()}}),a,null,[[0,20],[5,12]])})))).apply(this,arguments)}return function(){return a.apply(this,arguments)}().catch(),function(){return e=!1}}),[t]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(me.a,{className:"p-3",children:Object(E.jsx)(xt.a,{children:Object(E.jsx)(ot.a,{children:Object(E.jsx)(ot.a.Body,{children:Object(E.jsxs)(_.a.Row,{children:[Object(E.jsx)(_.a.Label,{column:"xs",xs:3,children:r("soajs:buttons.Search")}),Object(E.jsx)(dt.a,{xs:6,children:Object(E.jsx)(_.a.Control,{id:"keywords",size:"sm",autoFocus:!0,value:A.keywords,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),I(Object(N.a)(Object(N.a)({},A),{},Object(Ve.a)({},e.target.id,t)))}})}),Object(E.jsx)(dt.a,{xs:3,children:Object(E.jsxs)(L.a,{className:"float-right",variant:"dark",size:"sm",onClick:function(e){return F.apply(this,arguments)},children:[Object(E.jsx)(vt.c,{})," ",r("soajs:buttons.Search")]})})]})})})})}),Object(E.jsx)("hr",{}),r("soajs:titles.allowedRecipes"),Object(E.jsx)(E.Fragment,{children:m.map((function(e,t){return Object(E.jsx)(ot.a,{className:"m-1 p-1 border-success",bg:"light",children:Object(E.jsxs)(ot.a.Body,{className:"p-2",children:[e.name," - ",Object(E.jsxs)("span",{className:"font-italic small text-danger",children:["[",e.type,"/",e.subtype,"]"]}),Object(E.jsxs)("span",{className:"float-right small",children:["V ",e.v,Object(E.jsx)(Xa,{className:"ml-3",onClick:function(){!function(e){var t=l;G.a.pullAll(t.recipes,[e._id]),d(t),t=m,G.a.pullAllBy(t,[{_id:e._id}],"_id"),p(Object(Wa.a)(t))}(e)}})]})]})},t)}))}),Object(E.jsx)("hr",{}),r("soajs:titles.listRecipes"),O.map((function(e,t){return Object(E.jsx)(ot.a,{className:"m-1 p-1",bg:"light",children:Object(E.jsxs)(ot.a.Body,{className:"p-2",children:[e.name," - ",Object(E.jsxs)("span",{className:"font-italic small text-danger",children:["[",e.type,"/",e.subtype,"]"]}),Object(E.jsxs)("span",{className:"float-right small",children:["V ",e.v,Object(E.jsx)(Za,{disabled:l.recipes.includes(e._id),className:"ml-3",onClick:function(){!function(e){if(!l.recipes.includes(e._id)){var t=l;t.recipes.push(e._id),d(t),(t=m).push(e),console.log(t),p(Object(Wa.a)(t))}}(e)}})]})]})},t)})),O.length>0?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"float-right mt-3",children:Object(E.jsx)(_t,{currentPage:k,totalItems:z.totalItems,itemsPerPage:z.itemsPerPage,maxSize:z.maxSize,onClick:function(e){C(e),function(e){return D.apply(this,arguments)}(e).catch()}})}),Object(E.jsx)("div",{className:"clearfix"})]}):null,Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{children:[Object(E.jsx)(L.a,{className:"ml-1 float-right",variant:"warning",onClick:s,children:r("soajs:buttons.Close")}),c.can("market_item","settings_recipe")&&"soajs"!==(t.item.configuration&&t.item.configuration.subType||null)&&Object(E.jsxs)(L.a,{className:"ml-1 float-right",variant:"success",disabled:!1,onClick:function(e){return B(e,3)},children:[r("soajs:buttons.Save")," - ",r("soajs:catalogs.recipes")]}),c.can("market_item_soajs","settings_recipe")&&"soajs"===(t.item.configuration&&t.item.configuration.subType||null)&&Object(E.jsxs)(L.a,{className:"ml-1 float-right",variant:"success",disabled:!1,onClick:function(e){return B(e,3)},children:[r("soajs:buttons.Save")," - ",r("soajs:catalogs.recipes")]})]})]})}function nn(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAfterSubmit,s=Object(Ee.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})};return Object(E.jsx)(E.Fragment,{children:t.item&&Object(E.jsxs)(xa.a,{size:"xl",show:t.show,onHide:r,animation:!1,children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:s("soajs:catalogs.configure.title")})}),Object(E.jsxs)(xa.a.Body,{children:[Object(E.jsxs)(me.a,{className:"p-4",children:[Object(E.jsx)("span",{className:"font-weight-bold",children:t.item.name})," ",t.item.configuration&&t.item.configuration.port?[t.item.configuration.port]:"","- ",Object(E.jsx)("small",{children:t.item.configuration.group}),Object(E.jsx)("hr",{}),t.item.description]}),Object(E.jsx)(_.a,{onSubmit:function(e){e.preventDefault()},children:Object(E.jsxs)(Ra.a,{className:"mb-3",defaultActiveKey:"acl",id:"config",children:[Object(E.jsx)(Ga.a,{eventKey:"acl",title:s("soajs:fields.Groups"),children:Object(E.jsx)(Ba,{modalOpt:t,handleAction:n,handleClose:r})}),Object(E.jsx)(Ga.a,{eventKey:"environments",title:s("soajs:fields.Environments"),children:Object(E.jsx)(Ja,{modalOpt:t,handleAction:n,handleClose:r})}),(!t.settings||!t.settings.turnOffRecipesConfiguration)&&Object(E.jsx)(Ga.a,{eventKey:"recipes",title:s("soajs:fields.Recipes"),children:Object(E.jsx)(an,{modalOpt:t,handleAction:n,handleClose:r})})]})})]}),Object(E.jsx)(xa.a.Footer,{className:"bg-info",children:Object(E.jsx)("div",{className:"small font-weight-bold text-white",children:s("soajs:catalogs.configure.note")})})]})})}var sn=a(482);function rn(e){var t=Object.assign({},e),a=Object(Ee.a)(["common","soajs"]).t;return Object(E.jsx)(Va.a,{placement:"top",overlay:Object(E.jsx)(qa.a,{id:"tooltip-top}",children:a("soajs:buttons.Edit")}),children:Object(E.jsx)(L.a,Object(N.a)(Object(N.a)({size:"sm",variant:"primary"},t),{},{children:Object(E.jsx)(sn.a,{})}))})}function cn(e){var t=Object.assign({},e),a=Object(Ee.a)(["common","soajs"]).t;return Object(E.jsx)(Va.a,{placement:"top",overlay:Object(E.jsx)(qa.a,{id:"tooltip-top}",children:a("soajs:buttons.Configure")}),children:Object(E.jsx)(L.a,Object(N.a)(Object(N.a)({size:"sm",variant:"secondary"},t),{},{children:Object(E.jsx)(M.b,{})}))})}var on=a(483);function ln(e){var t=Object.assign({},e),a=Object(Ee.a)(["common","soajs"]).t;return Object(E.jsx)(Va.a,{placement:"top",overlay:Object(E.jsx)(qa.a,{id:"tooltip-top}",children:a("soajs:buttons.Details")}),children:Object(E.jsx)(L.a,Object(N.a)(Object(N.a)({size:"sm",variant:"success"},t),{},{children:Object(E.jsx)(on.a,{})}))})}var dn=Ct.getService();function jn(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(E.jsx)("div",{className:"float-left",type:"button",onClick:s,children:t})}function un(e,t,a,n,s,r,c){return mn.apply(this,arguments)}function mn(){return(mn=Object(v.a)(g.a.mark((function e(t,a,n,s,r,c,i){var o,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o={limit:50,start:50*(n-1),type:c,subType:i},s&&s.keywords&&""!==s.keywords&&(o.keywords=s.keywords),e.next=5,dn.getItems(o);case 5:l=e.sent,r&&l.records&&(t(l.records),a({totalItems:l.count,maxSize:10,itemsPerPage:l.limit})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function pn(e){var t=e.type,a=e.subType,s=e.Children,r=e.settings,c=e.addItem,i=e.editItem,o=e.deleteItem,l=Object(Ee.a)(["common","soajs"]).t,d=Object(n.useState)([]),j=Object(y.a)(d,2),u=j[0],m=j[1],p=Object(n.useState)(1),b=Object(y.a)(p,2),h=b[0],O=b[1],x=Object(n.useState)(1),f=Object(y.a)(x,2),k=f[0],C=f[1],S=Object(n.useState)({keywords:""}),P=Object(y.a)(S,2),A=P[0],T=P[1],I=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),U=Object(y.a)(I,2),M=U[0],z=U[1],R=Object(w.k)();function G(e){return D.apply(this,arguments)}function D(){return(D=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),C(1),e.next=4,F(1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return B.apply(this,arguments)}function B(){return(B=Object(v.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,un(m,z,n||k,A,!0,t,a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){var e=!0;return un(m,z,1,null,e,t,a),function(){return e=!1}}),[t,a]);var K=Object(n.useState)({show:!1,item:null,settings:r}),H=Object(y.a)(K,2),J=H[0],W=H[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(nn,{modalOpt:J,setModalOpt:W,handleAfterSubmit:F}),Object(E.jsx)(me.a,{className:"p-3 mb-2",children:Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{lg:4,xl:3,children:[Object(E.jsxs)("div",{className:"float-left",children:[Object(E.jsx)("h5",{className:"font-weight-bold m-0",children:l("soajs:titles.env_cat_"+t)}),a&&Object(E.jsx)("span",{className:"text-muted small",children:a})]}),c&&Object(E.jsx)(Za,{className:"float-right",onClick:function(){c((function(){F(1).catch()}))}})]}),Object(E.jsx)(dt.a,{children:Object(E.jsx)(_.a,{onSubmit:G,children:Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{xs:9,md:10,children:Object(E.jsx)(_.a.Control,{id:"keywords",size:"sm",autoFocus:!0,value:A.keywords,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),T(Object(N.a)(Object(N.a)({},A),{},Object(Ve.a)({},e.target.id,t)))}})}),Object(E.jsx)(dt.a,{xs:3,md:2,children:Object(E.jsxs)(L.a,{className:"float-right",variant:"dark",size:"sm",onClick:G,children:[Object(E.jsx)(vt.c,{})," ",l("soajs:buttons.Search")]})})]})})})]})}),Object(E.jsxs)(Ot.a,{activeKey:h,children:[u.map((function(e,n){return Object(E.jsxs)(ot.a,{children:[Object(E.jsxs)(ot.a.Header,{children:[Object(E.jsxs)(jn,{as:ot.a.Header,eventKey:n+1,handleClick:function(){O(h===n+1?null:n+1)},children:[h===n+1?Object(E.jsx)(gt.b,{className:"mr-1"}):Object(E.jsx)(gt.a,{className:"mr-1"})," ",Object(E.jsx)("span",{className:"font-weight-bold",children:e.name})," ",e.configuration&&e.configuration.port?[e.configuration.port]:"","- ",Object(E.jsx)("small",{children:e.configuration.group})]}),Object(E.jsx)(cn,{className:"float-right ml-3",onClick:function(){!function(e){W({show:!0,item:e,settings:r})}(e)}}),Object(E.jsx)(ln,{className:"float-right ml-3",onClick:function(){!function(e){var n="/catalogs/";"soajs"===a&&(n+="soajs/"),"service"===t?n+="api":"custom"===t?n+="custom":"resource"===t?n+="resource":"daemon"===t?n+="daemon":"static"===t?n+="frontend":"config"===t&&(n+="config"),R.push(n+"/detail/"+e.type+"/"+e.name)}(e)}}),o&&Object(E.jsx)(Xa,{className:"float-right ml-3",onClick:function(){o(e,(function(){F(1).catch()}))}})]}),Object(E.jsx)(Ot.a.Collapse,{eventKey:n+1,children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)(me.a,{className:"p-3 bg-light",children:e.description?e.description:"-"}),e.versions&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(Ra.a,{className:"mb-3",defaultActiveKey:"1",id:"repos",style:{borderBottom:"1px solid #dee2e6"},children:e.versions.map((function(t,a){return Object(E.jsxs)(Ga.a,{eventKey:a+1,title:l("soajs:catalogs.version")+" "+t.version,children:[Object(E.jsx)(me.a,{className:"p-3 bg-light",children:e.src&&"manual"===e.src.provider?Object(E.jsxs)(E.Fragment,{children:[t.lastSync?Object(E.jsxs)(E.Fragment,{children:[l("soajs:fields.lastUpdated"),Object(E.jsx)("small",{className:"m-3",children:Object(E.jsx)("span",{className:"font-italic",children:Date(t.lastSync.ts)})})]}):"-",i&&Object(E.jsx)(rn,{className:"float-right ml-3",onClick:function(){i(e,t.version,(function(){F(1).catch()}))}})]}):Object(E.jsx)(E.Fragment,{children:t.lastSync?Object(E.jsxs)(E.Fragment,{children:[l("soajs:catalogs.lastSynchronized"),Object(E.jsxs)("small",{className:"m-3",children:["from ",Object(E.jsx)("span",{className:"font-weight-bold",children:t.lastSync.branch||t.lastSync.tag})," @ ",Object(E.jsx)("span",{className:"font-italic",children:Date(t.lastSync.ts)})]}),Object(E.jsx)("hr",{}),l("soajs:catalogs.availableBranches"),Object(E.jsxs)("small",{className:"m-3",children:["[",t.branches?t.branches.join(", "):"","]"]})]}):"-"})}),s&&Object(E.jsx)(s,{item:e,version:t})]},a)}))})})]})})]},n+1)})),0===u.length?Object(E.jsx)("span",{children:l("soajs:catalogs.zeroMsg")}):null]}),u.length>0?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"float-right mt-3",children:Object(E.jsx)(_t,{currentPage:k,totalItems:M.totalItems,itemsPerPage:M.itemsPerPage,maxSize:M.maxSize,onClick:function(e){C(e),F(e).catch()}})}),Object(E.jsx)("div",{className:"clearfix"})]}):null]})}var bn={get:"primary",post:"success",delete:"danger",put:"warning",patch:"info",head:"secondary",other:"light"};function hn(e){return e&&bn[e]?bn[e]:bn.other}function On(e){var t=e.version,a={};if(t&&t.apis)for(var n=0;n<t.apis.length;n++)t.apis[n].group||(t.apis[n].group="No Group"),a[t.apis[n].group]||(a[t.apis[n].group]={}),a[t.apis[n].group][t.apis[n].m]||(a[t.apis[n].group][t.apis[n].m]=[]),a[t.apis[n].group][t.apis[n].m].push(t.apis[n]);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("hr",{}),Object.keys(a).map((function(e,t){return Object(E.jsxs)(ot.a,{className:"mb-2",children:[Object(E.jsx)(ot.a.Header,{children:Object(E.jsx)("span",{className:"font-weight-bold",children:e})}),Object(E.jsx)(ot.a.Body,{children:Object.keys(a[e]).map((function(t,n){return Object(E.jsx)("div",{children:a[e][t].map((function(e,a){return Object(E.jsx)(ct.a,{variant:hn(t),children:Object(E.jsx)(lt.a,{children:Object(E.jsxs)(dt.a,{children:[Object(E.jsx)(L.a,{size:"sm",className:"mr-2 pl-1 pr-1 pt-0 pb-0 float-left",variant:hn(t),children:Object(E.jsx)("span",{className:"small",children:t.toUpperCase()})}),Object(E.jsx)("span",{className:"small float-left",children:e.v}),Object(E.jsx)("span",{className:"small float-right text-info",children:e.l})]})})},a)}))},t+n)}))})]},e+t)}))]})}function xn(){return Object(E.jsx)(pn,{type:"service",Children:On})}function fn(){return Object(E.jsx)(pn,{type:"custom"})}function gn(e){var t=e.modalOpt,a=e.setModalOpt,n=Object(Ee.a)(["common","soajs"]).t,s=function(){return a({show:!1,item:null})};return Object(E.jsxs)(xa.a,{show:t.show,onHide:s,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsxs)(xa.a.Title,{children:[n("soajs:titles.resourceEdit")," ",Object(E.jsx)(it.a,{variant:"light",children:t.item&&t.item.record.name})," ",Object(E.jsx)(it.a,{variant:"secondary",children:t.item&&"v"+t.item.version})]})}),Object(E.jsx)(xa.a.Body,{children:"Coming soon"}),Object(E.jsx)(xa.a.Footer,{children:Object(E.jsx)(L.a,{variant:"primary",onClick:s,children:n("soajs:buttons.Close")})})]})}var vn={src:{provider:"manual"},soa:{type:"resource",name:"",group:"",description:"",version:"",subType:"",tags:[],attributes:{att1:[],att2:[]},program:[],profile:{}},readme:"",release:""},yn=null,wn=Ct.getService();function kn(e){var t=e.modalOpt,a=e.setModalOpt,s=Object(Ee.a)(["common","soajs"]).t,r=function(){return a({show:!1,reLoad:null})},c=Object(n.useState)(!1),i=Object(y.a)(c,2),o=i[0],l=i[1],d=Object(n.useState)(vn),j=Object(y.a)(d,2),u=j[0],m=j[1];function p(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),"number"===e.target.type&&(t=parseInt(t)),D(u,e.target.id,t),m(Object(N.a)({},u))}function b(){return(b=Object(v.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),l(!0),e.prev=2,e.next=5,wn.addResource({src:u.src,soa:yn,documentation:{readme:u.readme,release:u.release}});case 5:ie.success(s("soajs:messages.add_resource")),t.reLoad&&t.reLoad(),r(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),ie.error(e.t0.message);case 13:l(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){m(vn),yn=null}),[]),Object(E.jsx)(xa.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:Object(E.jsxs)(_.a,{onSubmit:function(e){return b.apply(this,arguments)},children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:s("soajs:titles.resourceAdd")})}),Object(E.jsxs)(xa.a.Body,{children:[Object(E.jsx)(lt.a,{style:{height:"350px"},children:Object(E.jsx)(dt.a,{children:Object(E.jsx)(ue,{mode:"code",modes:["code","tree"],json:yn||u.soa||null,onChange:function(e){yn=e}})})}),Object(E.jsx)("hr",{}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Readme")}),Object(E.jsx)(_.a.Control,{style:{fontSize:"80%"},id:"readme",size:"sm",as:"textarea",rows:5,value:u.readme,onChange:p}),Object(E.jsx)(_.a.Text,{className:"text-info",children:"Markdown text"})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Release")}),Object(E.jsx)(_.a.Control,{style:{fontSize:"80%"},id:"release",size:"sm",as:"textarea",rows:5,value:u.release,onChange:p}),Object(E.jsx)(_.a.Text,{className:"text-info",children:"Markdown text"})]})]}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"primary",onClick:r,children:s("soajs:buttons.Close")}),Object(E.jsx)(z,{variant:"success",type:"submit",isLoading:o,disabled:!function(){var e=!0;return e=!!yn&&((e=(e=(e=(e=e&&"resource"===yn.type)&&yn.name.length>0)&&yn.group.length>0)&&yn.description.length>0)&&yn.version.length>0)}(),children:s("soajs:buttons.Add")})]})]})})}var Cn=Ct.getService();function Nn(e){var t=e.modalOpt,a=e.setModalOpt,n=Object(Ee.a)(["common","soajs"]).t,s=function(){return a({show:!1,item:null,reload:null})};function r(){return(r=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cn.deleteItem({type:t.item.type,name:t.item.name});case 3:ie.success(n("soajs:messages.delete_"+t.item.type)),t.reLoad&&t.reLoad(),s(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(E.jsxs)(xa.a,{show:t.show,onHide:s,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsxs)(xa.a.Title,{children:[n("soajs:titles.resourceDelete")," ",Object(E.jsx)(it.a,{variant:"light",children:t.item&&t.item.name})]})}),Object(E.jsx)(xa.a.Body,{children:n("soajs:messages.deleteQuestion")}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"primary",onClick:s,children:n("soajs:buttons.Close")}),Object(E.jsx)(L.a,{variant:"danger",onClick:function(){return r.apply(this,arguments)},children:n("soajs:buttons.Delete")})]})]})}function Sn(){var e=T().ability,t=Object(n.useState)({show:!1,reLoad:null}),a=Object(y.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)({show:!1,item:null,reLoad:null}),i=Object(y.a)(c,2),o=i[0],l=i[1],d=Object(n.useState)({show:!1,item:null,reLoad:null}),j=Object(y.a)(d,2),u=j[0],m=j[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Nn,{modalOpt:u,setModalOpt:m}),Object(E.jsx)(gn,{modalOpt:o,setModalOpt:l}),Object(E.jsx)(kn,{modalOpt:s,setModalOpt:r}),Object(E.jsx)(pn,{type:"resource",editItem:e.can("market_item_resource","add")?function(e,t,a){!function(e,t){l({show:!0,item:e,reLoad:t})}({record:e,version:t},a)}:null,addItem:e.can("market_item_resource","add")?function(e){r({show:!0,reLoad:e})}:null,deleteItem:e.can("market_item","delete")?function(e,t){!function(e,t){m({show:!0,item:e,reLoad:t})}(e,t)}:null})]})}function Pn(){return Object(E.jsx)(pn,{type:"daemon"})}function An(){return Object(E.jsx)(pn,{type:"static"})}function Tn(){return Object(E.jsx)(pn,{type:"config",settings:{turnOffRecipesConfiguration:!0}})}function En(e){var t=Object.assign({},e),a=Object(Ee.a)(["common","soajs"]).t;return Object(E.jsx)(Va.a,{placement:"top",overlay:Object(E.jsx)(qa.a,{id:"tooltip-top}",children:a("soajs:buttons.View")}),children:Object(E.jsx)(L.a,Object(N.a)(Object(N.a)({size:"sm",variant:"info"},t),{},{children:Object(E.jsx)(Ya.c,{})}))})}var In=Ct.getService();function Un(){var e=Object(Ee.a)(["common","soajs"]).t,t=T().ability,a=Object(n.useState)([]),s=Object(y.a)(a,2),r=s[0],c=s[1],i=Object(n.useState)(1),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({keywords:""}),u=Object(y.a)(j,2),m=u[0],p=u[1],b=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),h=Object(y.a)(b,2),O=h[0],x=h[1],f=Object(w.k)(),k=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),C=Object(y.a)(k,2),S=C[0],P=C[1];function A(e){return I.apply(this,arguments)}function I(){return(I=Object(v.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a={limit:10,start:10*(l-1)},m&&m.keywords&&""!==m.keywords&&(a.keywords=m.keywords),e.next=6,In.getRecipes(a);case 6:n=e.sent,x({totalItems:n.count,maxSize:10,itemsPerPage:n.limit}),c(n.records),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),ie.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={limit:10,start:10*(l-1)},t.next=4,In.getRecipes(a);case 4:n=t.sent,e&&n&&n.records&&(c(n.records),x({totalItems:n.count,maxSize:10,itemsPerPage:n.limit})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),ie.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[l]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(fa,{modalOpt:S,setModalOpt:P}),Object(E.jsx)(me.a,{className:"p-3 mb-2",children:Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{lg:4,children:[Object(E.jsx)("h5",{className:"font-weight-bold m-0 float-left",children:e("soajs:titles.env_cat_recipe")}),t.can("market_recipe","add")&&Object(E.jsxs)(L.a,{variant:"success",className:"float-right",size:"sm",onClick:function(){f.push("/catalogs/recipe/add")},children:[Object(E.jsx)(Qa.a,{})," ",e("soajs:buttons.Add")]})]}),Object(E.jsx)(dt.a,{children:Object(E.jsx)(_.a,{onSubmit:A,children:Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{xs:9,md:9,children:Object(E.jsx)(_.a.Control,{id:"keywords",size:"sm",autoFocus:!0,value:m.keywords,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),p(Object(N.a)(Object(N.a)({},m),{},Object(Ve.a)({},e.target.id,t)))}})}),Object(E.jsx)(dt.a,{xs:3,md:3,children:Object(E.jsxs)(L.a,{className:"float-right",variant:"dark",size:"sm",onClick:A,children:[Object(E.jsx)(vt.c,{})," ",e("soajs:buttons.Search")]})})]})})})]})}),r.map((function(e,a){return Object(E.jsx)(ot.a,{className:"m-1 p-1",bg:"light",children:Object(E.jsxs)(ot.a.Body,{className:"p-2",children:[Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{children:[e.name," - ",Object(E.jsxs)(it.a,{variant:"dark",className:"mr-2",children:["V ",e.v]}),e.locked&&Object(E.jsx)(M.c,{className:"text-danger"})]}),Object(E.jsxs)(dt.a,{children:[Object(E.jsx)(it.a,{variant:"secondary",children:e.type})," ",Object(E.jsx)(it.a,{variant:"info",children:e.subtype}),Object(E.jsxs)("span",{className:"float-right small",children:[t.can("market_recipe","edit")&&Object(E.jsx)(rn,{disabled:e.locked,className:"ml-3",onClick:function(){f.push("/catalogs/recipe/edit/"+e._id)}}),Object(E.jsx)(En,{className:"ml-3",onClick:function(){var t,a;t=e.recipe,a=e.name,P({show:!0,json:t,mode:"view",title:a||""})}})]})]})]}),Object(E.jsx)(lt.a,{className:"small text-muted",children:Object(E.jsx)(dt.a,{children:e.description})})]})},a)})),r.length>0?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"float-right mt-3",children:Object(E.jsx)(_t,{currentPage:l,totalItems:O.totalItems,itemsPerPage:O.itemsPerPage,maxSize:O.maxSize,onClick:function(e){d(e)}})}),Object(E.jsx)("div",{className:"clearfix"})]}):null]})}var Ln={get:"primary",post:"success",delete:"danger",put:"warning",patch:"info",head:"secondary",other:"light"};function Mn(e){return e&&Ln[e]?Ln[e]:Ln.other}function zn(e){var t=e.version,a={};if(t&&t.apis)for(var n=0;n<t.apis.length;n++)t.apis[n].group||(t.apis[n].group="No Group"),a[t.apis[n].group]||(a[t.apis[n].group]={}),a[t.apis[n].group][t.apis[n].m]||(a[t.apis[n].group][t.apis[n].m]=[]),a[t.apis[n].group][t.apis[n].m].push(t.apis[n]);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("hr",{}),Object.keys(a).map((function(e,t){return Object(E.jsxs)(ot.a,{className:"mb-2",children:[Object(E.jsx)(ot.a.Header,{children:Object(E.jsx)("span",{className:"font-weight-bold",children:e})}),Object(E.jsx)(ot.a.Body,{children:Object.keys(a[e]).map((function(t,n){return Object(E.jsx)("div",{children:a[e][t].map((function(e,a){return Object(E.jsx)(ct.a,{variant:Mn(t),children:Object(E.jsx)(lt.a,{children:Object(E.jsxs)(dt.a,{children:[Object(E.jsx)(L.a,{size:"sm",className:"mr-2 pl-1 pr-1 pt-0 pb-0 float-left",variant:Mn(t),children:Object(E.jsx)("span",{className:"small",children:t.toUpperCase()})}),Object(E.jsx)("span",{className:"small float-left",children:e.v}),Object(E.jsx)("span",{className:"small float-right text-info",children:e.l})]})})},a)}))},t+n)}))})]},e+t)}))]})}function _n(){return Object(E.jsx)(pn,{type:"service",subType:"soajs",Children:zn})}function Rn(){return Object(E.jsx)(pn,{type:"static",subType:"soajs"})}var Gn=a(893),Dn=a(484),Fn=a(322),Bn=a.n(Fn),Kn=a(184),Hn=a.n(Kn),Jn=(a(836),function(e){Object(H.a)(a,e);var t=Object(J.a)(a);function a(){return Object(B.a)(this,a),t.apply(this,arguments)}return Object(K.a)(a,[{key:"componentDidMount",value:function(){Hn()({dom_id:"#swaggerContainer",url:this.props.url,spec:this.props.spec,presets:[Kn.presets.apis]})}},{key:"componentDidUpdate",value:function(e){this.props.ver!==e.ver&&Hn()({dom_id:"#swaggerContainer",url:this.props.url,spec:this.props.spec,presets:[Kn.presets.apis]})}},{key:"render",value:function(){return Object(E.jsx)("div",{id:"swaggerContainer"})}}]),a}(n.Component));Jn.defaultProps={url:"",localVer:null};var Wn=Jn,Vn=Ct.getService();function qn(e){for(var t=e.item,a=e.ver,n=null,s=0;s<t.versions.length;s++)if(t.versions[s].version===a&&t.versions[s].swagger){n=t.versions[s].swagger;break}try{n&&(n=JSON.parse(n))}catch(r){ie.error(r.message)}return Object(E.jsx)(Wn,{spec:n||{},ver:a})}function Yn(e){for(var t=e.item,a=e.ver,n=null,s=0;s<t.versions.length;s++)if(t.versions[s].version===a&&t.versions[s].documentation&&t.versions[s].documentation.readme){n=t.versions[s].documentation.readme;break}return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(Bn.a,{source:n})})}function Xn(e){for(var t=e.item,a=e.ver,n=null,s=0;s<t.versions.length;s++)if(t.versions[s].version===a&&t.versions[s].documentation&&t.versions[s].documentation.release){n=t.versions[s].documentation.release;break}return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(Bn.a,{source:n})})}function Qn(){var e=Object(Ee.a)(["common","soajs"]).t,t=Object(n.useState)(1),a=Object(y.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(null),i=Object(y.a)(c,2),o=i[0],l=i[1],d=Object(w.m)().type,j=Object(w.m)().name,u=Object(w.m)().ver,m=Object(w.k)();function p(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(E.jsx)("div",{className:"float-left",type:"button",onClick:s,children:t})}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o&&o.name===j){t.next=6;break}return t.next=4,Vn.getItem(j,d);case 4:a=t.sent,e&&l(a);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),ie.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){return e=!1}}),[o,j,d]),Object(E.jsx)(E.Fragment,{children:o&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(me.a,{className:"p-4 mb-3",children:[Object(E.jsx)("span",{className:"font-weight-bold",children:o.name})," ",o.configuration&&o.configuration.port?[o.configuration.port]:"","- ",Object(E.jsx)("small",{children:o.configuration.group}),Object(E.jsx)("hr",{}),o.description]}),Object(E.jsxs)(Ot.a,{activeKey:s,children:[Object(E.jsxs)(ot.a,{children:[Object(E.jsx)(ot.a.Header,{children:Object(E.jsxs)(p,{as:ot.a.Header,eventKey:1,handleClick:function(){r(1===s?null:1)},children:[1===s?Object(E.jsx)(gt.b,{className:"mr-1"}):Object(E.jsx)(gt.a,{className:"mr-1"}),e("soajs:catalogs.metadata.title")]})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:1,children:Object(E.jsx)(ot.a.Body,{children:o.metadata&&Object(E.jsxs)(Gn.a,{variant:"flush",children:[Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:catalogs.metadata.program"),":"]})," ",o.metadata.program]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:catalogs.metadata.tags"),":"]})," [",o.metadata.tags?o.metadata.tags.join(", "):"","]"]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsx)("span",{className:"font-weight-bold",children:e("soajs:catalogs.metadata.attributes")}),o.metadata.attributes&&Object(E.jsx)(xt.a,{children:Object.keys(o.metadata.attributes).map((function(e,t){return Object(E.jsx)(ot.a,{className:"text-white mt-2 mb-2 ml-2 mr-2",bg:"info",style:{minWidth:"20rem",maxWidth:"20rem"},children:Object(E.jsxs)(ot.a.Body,{className:"p-2",children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[e,":"]})," [",o.metadata.attributes[e].join(", "),"]"]})},t)}))})]})]})})})]},1),"service"===d&&Object(E.jsxs)(ot.a,{children:[Object(E.jsx)(ot.a.Header,{children:Object(E.jsxs)(p,{as:ot.a.Header,eventKey:2,handleClick:function(){r(2===s?null:2)},children:[2===s?Object(E.jsx)(gt.b,{className:"mr-1"}):Object(E.jsx)(gt.a,{className:"mr-1"}),e("soajs:catalogs.configuration.title")]})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:2,children:Object(E.jsx)(ot.a.Body,{children:Object(E.jsxs)(Gn.a,{variant:"flush",children:[Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:catalogs.configuration.subType"),":"]})," ",o.configuration.subType]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:catalogs.configuration.requestTimeout"),":"]})," ",o.configuration.requestTimeout]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:catalogs.configuration.requestTimeoutRenewal"),":"]})," ",o.configuration.requestTimeoutRenewal]})]})})})]},2)]}),Object(E.jsx)("hr",{}),o.versions&&Object(E.jsxs)("div",{className:"bg-light p-2",children:[Object(E.jsxs)("div",{className:"mt-3",children:[Object(E.jsx)(ha.a,{size:"sm",id:"dropdown-item-button",title:u?"Version "+u:"Select a version:",variant:"info",className:"float-right",children:o.versions.map((function(e,t){return Object(E.jsx)(Oa.a.Item,{as:"button",active:u&&u===e.version,onClick:function(){var t=window.location.pathname;t=t.substr(0,t.indexOf("/"+j)+j.length+1),m.push(t+"/"+e.version)},children:Object(E.jsxs)("small",{children:["version ",e.version]})},t)}))}),Object(E.jsx)("div",{className:"clearfix"})]}),u&&Object(E.jsxs)(Ra.a,{defaultActiveKey:"documentation",id:"uncontrolled-tab",children:[Object(E.jsx)(Ga.a,{eventKey:"documentation",title:e("soajs:titles.Documentation"),children:Object(E.jsxs)(Ot.a,{defaultActiveKey:"0",className:"mt-3 ml-3 mr-3",children:[Object(E.jsxs)(ot.a,{children:[Object(E.jsx)(ot.a.Header,{children:Object(E.jsx)(Ot.a.Toggle,{as:L.a,variant:"link",eventKey:"0",children:"Readme"})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:"0",children:Object(E.jsx)(ot.a.Body,{children:Object(E.jsx)(Yn,{item:o,ver:u})})})]}),Object(E.jsxs)(ot.a,{children:[Object(E.jsx)(ot.a.Header,{children:Object(E.jsx)(Ot.a.Toggle,{as:L.a,variant:"link",eventKey:"1",children:"Release"})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(E.jsx)(ot.a.Body,{children:Object(E.jsx)(Xn,{item:o,ver:u})})})]})]})}),"service"===o.type&&Object(E.jsx)(Ga.a,{eventKey:"swagger",title:e("soajs:titles.Swagger"),children:Object(E.jsx)(qn,{item:o,ver:u})})]})]})]})})}function Zn(e){var t=Object.assign({},e),a=Object(Ee.a)(["common","soajs"]).t;return Object(E.jsx)(Va.a,{placement:"top",overlay:Object(E.jsx)(qa.a,{id:"tooltip-top}",children:a("soajs:buttons.Sync")}),children:Object(E.jsx)(L.a,Object(N.a)(Object(N.a)({size:"sm",variant:"info"},t),{},{children:Object(E.jsx)(Qa.b,{})}))})}function $n(e){var t=Object.assign({},e),a=Object(Ee.a)(["common","soajs"]).t;return Object(E.jsx)(Va.a,{placement:"top",overlay:Object(E.jsx)(qa.a,{id:"tooltip-top}",children:a("soajs:buttons.TurnOff")}),children:Object(E.jsx)(L.a,Object(N.a)(Object(N.a)({size:"sm",variant:"warning"},t),{},{children:Object(E.jsx)(vt.b,{})}))})}function es(e){var t=Object.assign({},e),a=Object(Ee.a)(["common","soajs"]).t;return Object(E.jsx)(Va.a,{placement:"top",overlay:Object(E.jsx)(qa.a,{id:"tooltip-top}",children:a("soajs:buttons.TurnOn")}),children:Object(E.jsx)(L.a,Object(N.a)(Object(N.a)({size:"sm",variant:"light"},t),{},{children:Object(E.jsx)(vt.b,{})}))})}var ts=wt.getService();function as(e){var t=e.branches,a=(e.t,e.ability),n=e.synBranch,s=e.turnOffBranch,r=e.turnOnBranch,c=!1;return t&&Array.isArray(t)&&t.length>0&&(c=!0),c&&Object(E.jsx)("div",{className:"mt-5",children:Object(E.jsx)(xt.a,{children:t.map((function(e,t){return e.active?Object(E.jsx)(ot.a,{className:"mb-3",border:"success",style:{minWidth:"21rem",maxWidth:"21rem"},children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)("small",{children:e.name}),a.can("repo_branch","turnOff")&&Object(E.jsx)($n,{className:"float-right ml-3",onClick:function(){s(e.name)}}),a.can("repo_branch","synchronize")&&Object(E.jsx)(Zn,{className:"float-right ml-3",onClick:function(){n(e.name)}})]})},t):Object(E.jsx)(ot.a,{className:"mb-3",border:"dark",style:{minWidth:"21rem",maxWidth:"21rem"},children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)("small",{children:e.name}),a.can("repo_branch","turnOn")&&Object(E.jsx)(es,{className:"float-right ml-3",onClick:function(){r(e.name)}})]})},t)}))})})}function ns(e){var t=e.t,a=e.ability,s=e.turnOffTag,r=e.turnOnTag,c=e.repository,i=e.showTagsFor,o=e.showTagsForList,l=e.searchTag,d=Object(n.useState)({tag:""}),j=Object(y.a)(d,2),u=j[0],m=j[1];return Object(E.jsxs)("div",{className:"mt-5",children:[Object(E.jsx)(_.a,{onSubmit:function(e){e.preventDefault()},children:Object(E.jsx)(_.a.Group,{children:Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"xs",xs:2,children:t("soajs:buttons.Search")}),Object(E.jsx)(dt.a,{xs:7,children:Object(E.jsx)(_.a.Control,{id:"tag",size:"sm",autoFocus:!0,value:u.tag,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),m(Object(N.a)(Object(N.a)({},u),{},Object(Ve.a)({},e.target.id,t)))}})}),Object(E.jsx)(dt.a,{xs:3,children:Object(E.jsx)(L.a,{className:"ml-3",variant:"dark",size:"sm",onClick:function(){l(u.tag)},children:Object(E.jsx)(vt.c,{})})})]})})}),Object(E.jsx)("hr",{}),i&&i===c&&Object(E.jsx)(xt.a,{children:o&&o.map((function(e,t){return e.active?Object(E.jsx)(ot.a,{className:"mb-3",border:"success",style:{minWidth:"21rem",maxWidth:"21rem"},children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)("small",{children:e.name}),a.can("repo_tag","turnOff")&&Object(E.jsx)($n,{className:"float-right ml-3",onClick:function(){s(e.name)}})]})},t):Object(E.jsx)(ot.a,{className:"mb-3",border:"dark",style:{minWidth:"21rem",maxWidth:"21rem"},children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)("small",{children:e.name}),a.can("repo_tag","turnOn")&&Object(E.jsx)(es,{className:"float-right ml-3",onClick:function(){r(e.name)}})]})},t)}))})]})}function ss(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(E.jsx)("div",{className:"float-left",type:"button",onClick:s,children:t})}function rs(e){var t=e.t,a=e.onModalOpt,n=e.setOnModalOpt,s=function(){return n({show:!1,opts:null})};return Object(E.jsxs)(xa.a,{size:"lg",show:a.show,onHide:s,animation:!1,children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:t("soajs:development.repositories.turnOnTitle")})}),Object(E.jsxs)(xa.a.Body,{children:[t("soajs:development.repositories.turnOnMsg"),Object(E.jsx)("hr",{}),a.opts&&Object(E.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(E.jsx)("thead",{className:"text-light bg-dark",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:t("soajs:development.repositories.name")}),Object(E.jsx)("th",{children:t("soajs:development.repositories.type")}),Object(E.jsx)("th",{children:t("soajs:development.repositories.swagger")}),Object(E.jsx)("th",{})]})}),Object(E.jsx)("tbody",{children:a.opts&&a.opts.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.name}),Object(E.jsx)("td",{className:"small",children:e.type}),Object(E.jsx)("td",{className:"small",children:e.swagger?"true":"false"}),Object(E.jsx)("td",{className:"small text-danger",children:e.error})]},t)}))})]})]}),Object(E.jsx)(xa.a.Footer,{children:Object(E.jsx)(L.a,{variant:"info",onClick:s,children:t("soajs:buttons.Ok")})})]})}function cs(e,t,a,n,s){return is.apply(this,arguments)}function is(){return(is=Object(v.a)(g.a.mark((function e(t,a,n,s,r){var c,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={limit:50,skip:50*(n-1)},r&&(r.textSearch&&""!==r.textSearch&&(c.textSearch=r.textSearch),r.active&&(c.active=!0),r.leaf&&(c.leaf=!0)),e.next=5,ts.getRepositories(c);case 5:i=e.sent,s&&i.repositories&&(t(i.repositories),a({totalItems:i.count,maxSize:10,itemsPerPage:i.limit})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function os(){var e=Object(Ee.a)(["common","soajs"]).t,t=T().ability,a=Object(n.useState)([]),s=Object(y.a)(a,2),r=s[0],c=s[1],i=Object(n.useState)(null),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)(null),u=Object(y.a)(j,2),m=u[0],p=u[1],b=Object(n.useState)(1),h=Object(y.a)(b,2),O=h[0],x=h[1],f=Object(n.useState)(1),w=Object(y.a)(f,2),k=w[0],C=w[1],S=Object(n.useState)({textSearch:"",active:!1,leaf:!1}),P=Object(y.a)(S,2),A=P[0],I=P[1],U=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),M=Object(y.a)(U,2),z=M[0],R=M[1];function D(e){return F.apply(this,arguments)}function F(){return(F=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),C(1),e.next=4,cs(c,R,1,!0,A);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),I(Object(N.a)(Object(N.a)({},A),{},Object(Ve.a)({},e.target.id,t)))}function K(e){return H.apply(this,arguments)}function H(){return(H=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cs(c,R,t||k,!0,A);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(v.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ts.turnOnTag({id:t._id,owner:t.source[0].name,provider:t.provider,tag:a});case 3:return se(e.sent),e.next=7,K();case 7:return t.tags||(t.tags=[]),t.tags.push({name:a,active:!0}),e.next=11,ce(t);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),ie.error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function W(){return(W=Object(v.a)(g.a.mark((function t(a,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ts.turnOffTag({id:a._id,owner:a.source[0].name,provider:a.provider,tag:n});case 3:return ie.success(e("soajs:development.repositories.turnOffTagMsg")),t.next=6,K();case 6:return a.tags||(a.tags=[]),G.a.pullAllBy(a.tags,[{name:n}],"name"),t.next=10,ce(a);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),ie.error(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}function V(){return(V=Object(v.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ts.turnOnBranch({id:t._id,owner:t.source[0].name,provider:t.provider,branch:a});case 3:return se(e.sent),e.next=7,K();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function q(){return(q=Object(v.a)(g.a.mark((function t(a,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ts.turnOffBranch({id:a._id,owner:a.source[0].name,provider:a.provider,branch:n});case 3:return ie.success(e("soajs:development.repositories.turnOffBranchMsg")),t.next=6,K();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),ie.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function Y(){return(Y=Object(v.a)(g.a.mark((function t(a,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ts.syncBranch({id:a._id,owner:a.source[0].name,provider:a.provider,branch:n});case 3:ie.success(e("soajs:development.repositories.syncMsg")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),ie.error(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function X(){return(X=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ts.syncRepository({id:a._id,owner:a.source[0].name,provider:a.provider});case 3:return ie.success(e("soajs:development.repositories.syncMsg")),t.next=6,K();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),ie.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function Q(){return(Q=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ts.turnOffRepository({id:a._id,owner:a.source[0].name,provider:a.provider});case 3:return ie.success(e("soajs:development.repositories.turnOffRepo")),t.next=6,K();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),ie.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function Z(){return(Z=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(a),t.next=4,ts.turnOnRepository({id:a._id,owner:a.source[0].name,provider:a.provider});case 4:return ie.success(e("soajs:development.repositories.turnOnRepo")),t.next=7,K();case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),ie.error(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function $(){return($=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ts.deleteRepository({id:a._id});case 3:return ie.success(e("soajs:development.repositories.deleteRepo")),t.next=6,K();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),ie.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}Object(n.useEffect)((function(){var e=!0;return cs(c,R,1,e,null),function(){return e=!1}}),[]);var ee=Object(n.useState)({show:!1,opts:null}),te=Object(y.a)(ee,2),ae=te[0],ne=te[1];function se(e){e&&!Array.isArray(e)&&(e=[e]),ne({show:!0,opts:e})}function re(){return(re=Object(v.a)(g.a.mark((function e(t,a){var n,s,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ts.getTag({id:t._id,tag:a});case 3:n=e.sent,s=[],n&&n.name&&(t.tags&&Array.isArray(t.tags)&&t.tags.length>0?(r=G.a.findIndex(t.tags,["name",n.name]),s=-1!==r?[t.tags[r]]:[n]):s=[n]),p(s),d(t.repository),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ce(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(v.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ts.getTags({id:t._id,count:10});case 3:a=e.sent,n=[],a&&a.tags&&Array.isArray(a.tags)&&a.tags.length>0&&(t.tags&&Array.isArray(t.tags)&&t.tags.length>0?(G.a.pullAllBy(a.tags,t.tags,"name"),n=G.a.concat(t.tags,a.tags)):n=a.tags),p(n),d(t.repository),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(rs,{t:e,onModalOpt:ae,setOnModalOpt:ne}),Object(E.jsx)(me.a,{className:"p-3",children:Object(E.jsxs)(_.a,{onSubmit:D,children:[Object(E.jsxs)(xt.a,{children:[Object(E.jsx)(ot.a,{children:Object(E.jsx)(ot.a.Body,{children:Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{children:e("soajs:buttons.Search")}),Object(E.jsx)(_.a.Control,{id:"textSearch",size:"sm",autoFocus:!0,value:A.textSearch,onChange:B})]})})}),Object(E.jsx)(ot.a,{children:Object(E.jsx)(ot.a.Body,{children:Object(E.jsxs)(Gn.a,{variant:"flush",children:[Object(E.jsx)(Dn.a,{children:Object(E.jsx)(_.a.Check,{id:"active",className:"small",label:"Only Activated Repositories",defaultChecked:A.active,onChange:B})}),Object(E.jsx)(Dn.a,{children:Object(E.jsx)(_.a.Check,{id:"leaf",className:"small",label:"Only Leaf Repositories",defaultChecked:A.leaf,onChange:B})})]})})})]}),Object(E.jsxs)(L.a,{className:"mt-3 float-right",variant:"dark",size:"sm",onClick:D,children:[Object(E.jsx)(vt.c,{})," ",e("soajs:buttons.Search")]}),Object(E.jsx)("span",{className:"clearfix"})]})}),Object(E.jsxs)(Ot.a,{activeKey:O,children:[r.map((function(a,n){return Object(E.jsxs)(ot.a,{children:[Object(E.jsxs)(ot.a.Header,{children:[Object(E.jsxs)(ss,{as:ot.a.Header,eventKey:n+1,handleClick:function(){x(O===n+1?null:n+1)},children:[O===n+1?Object(E.jsx)(gt.b,{className:"mr-1"}):Object(E.jsx)(gt.a,{className:"mr-1"})," ",Object(E.jsx)("span",{className:"font-weight-bold",children:a.repository})]}),!a.source||a.source.length<1?Object(E.jsx)(E.Fragment,{children:t.can("repo","delete")&&Object(E.jsx)(Xa,{className:"float-right ml-3",onClick:function(){!function(e){$.apply(this,arguments)}(a)}})}):Object(E.jsx)(E.Fragment,{children:a.active?Object(E.jsxs)(E.Fragment,{children:[t.can("repo","turnOff")&&Object(E.jsx)($n,{className:"float-right ml-3",onClick:function(){!function(e){Q.apply(this,arguments)}(a)}}),t.can("repo","synchronize")&&Object(E.jsx)(Zn,{className:"float-right ml-3",onClick:function(){!function(e){X.apply(this,arguments)}(a)}})]}):Object(E.jsx)(E.Fragment,{children:t.can("repo","turnOn")&&Object(E.jsx)(es,{className:"float-right ml-3",onClick:function(){!function(e){Z.apply(this,arguments)}(a)}})})})]}),Object(E.jsx)(Ot.a.Collapse,{eventKey:n+1,children:Object(E.jsx)(ot.a.Body,{children:a.active&&Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(Ra.a,{defaultActiveKey:"branch",id:"repos",style:{borderBottom:"1px solid #dee2e6"},onSelect:function(e){"tag"===e&&ce(a)},children:[Object(E.jsx)(Ga.a,{eventKey:"branch",title:e("soajs:development.repositories.Branches"),children:Object(E.jsx)(as,{branches:a.branches,t:e,ability:t,synBranch:function(e){!function(e,t){Y.apply(this,arguments)}(a,e)},turnOffBranch:function(e){!function(e,t){q.apply(this,arguments)}(a,e)},turnOnBranch:function(e){!function(e,t){V.apply(this,arguments)}(a,e)}})}),Object(E.jsx)(Ga.a,{eventKey:"tag",title:e("soajs:development.repositories.Tags"),children:Object(E.jsx)(ns,{t:e,ability:t,turnOffTag:function(e){!function(e,t){W.apply(this,arguments)}(a,e)},turnOnTag:function(e){!function(e,t){J.apply(this,arguments)}(a,e)},repository:a.repository,showTagsFor:l,showTagsForList:m,searchTag:function(e){!function(e,t){re.apply(this,arguments)}(a,e)}})})]})})})})]},n+1)})),0===r.length?Object(E.jsx)("span",{children:e("soajs:development.repositories.zeroMsg")}):null]}),r.length>0?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"float-right mt-3",children:Object(E.jsx)(_t,{currentPage:k,totalItems:z.totalItems,itemsPerPage:z.itemsPerPage,maxSize:z.maxSize,onClick:function(e){C(e),K(e)}})}),Object(E.jsx)("div",{className:"clearfix"})]}):null]})}var ls=a(155),ds=a(244),js=a(163),us=a(485),ms=null,ps=null,bs=null,hs=[],Os=[],xs=null,fs=null,gs=Ct.getService();function vs(e){var t=e.starterFields,a=e.mode,s=e.itemId,r=Object(Ee.a)(["common","soajs"]).t,c=Object(n.useState)(ls),i=Object(y.a)(c,2),o=i[0],l=i[1],d=Object(w.k)();function j(){return(j=Object(v.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o.recipe.deployOptions.readinessProbe=ps,o.recipe.deployOptions.liveinessProbe=ms,o.recipe.deployOptions.securityContext=bs,o.recipe.deployOptions.voluming=hs,o.recipe.deployOptions.ports=Os,o.recipe.deployOptions.labels=xs,o.recipe.deployOptions.execCommands=fs,o.envs.length>0)for(t=0;t<o.envs.length;t++)o.recipe.buildOptions.env[o.envs[t].name]={type:o.envs[t].type},"static"!==o.envs[t].type&&"computed"!==o.envs[t].type||(o.recipe.buildOptions.env[o.envs[t].name].value=o.envs[t].value),"userInput"===o.envs[t].type&&(o.recipe.buildOptions.env[o.envs[t].name].label=o.envs[t].label,o.recipe.buildOptions.env[o.envs[t].name].default=o.envs[t].default,o.recipe.buildOptions.env[o.envs[t].name].fieldMsg=o.envs[t].fieldMsg),"secret"===o.envs[t].type&&(o.recipe.buildOptions.env[o.envs[t].name].key=o.envs[t].key,o.recipe.buildOptions.env[o.envs[t].name].secret=o.envs[t].secret);if(n={name:o.name,type:o.type,description:o.description,subtype:o.subtype,recipe:o.recipe},"add"!==a){e.next=14;break}return e.next=13,gs.addRecipe(n);case 13:ie.success(r("soajs:messages.addRecipe"));case 14:if("edit"!==a){e.next=18;break}return e.next=17,gs.updateRecipe(s,n);case 17:ie.success(r("soajs:messages.editRecipe"));case 18:d.push("/catalogs/recipe"),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),ie.error(e.t0.message);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})))).apply(this,arguments)}function u(e,t){var a=e.target.value,n=e.target.id;o.envs[t][n]=a,l(Object(N.a)({},o))}function m(e){var t=e.target.value,a=e.target.id;e.target.hasOwnProperty("checked")&&(t=e.target.checked),"number"===e.target.type&&(t=parseInt(t)),D(o,a,t),l(Object(N.a)({},o))}function p(e){return hs[e]&&hs[e].kubernetes?hs[e].kubernetes:o.recipe.deployOptions.voluming[e]&&o.recipe.deployOptions.voluming[e].kubernetes?o.recipe.deployOptions.voluming[e].kubernetes:null}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e&&(ps=t.recipe.deployOptions.readinessProbe,ms=t.recipe.deployOptions.liveinessProbe,Os=t.recipe.deployOptions.ports,hs=t.recipe.deployOptions.voluming,xs=t.recipe.deployOptions.labels,fs=t.recipe.deployOptions.execCommands,bs=t.recipe.deployOptions.securityContext,n=G.a.merge({},t),l(Object(N.a)({},n)));case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return function(){return a.apply(this,arguments)}().catch(),function(){return e=!1}}),[t]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h5",{className:"font-weight-bold",children:r("soajs:titles."+a+"Recipe")}),Object(E.jsxs)(_.a,{children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Name")}),Object(E.jsx)(_.a.Control,{id:"name",size:"sm",value:o.name,onChange:m})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Description")}),Object(E.jsx)(_.a.Control,{id:"description",size:"sm",as:"textarea",rows:2,value:o.description,onChange:m})]}),Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Type")}),Object(E.jsx)(_.a.Control,{id:"type",size:"sm",value:o.type,onChange:m})]})}),Object(E.jsx)(dt.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Category")}),Object(E.jsx)(_.a.Control,{id:"subtype",size:"sm",value:o.subtype,onChange:m})]})})]}),Object(E.jsx)("hr",{className:"mt-1"}),Object(E.jsx)(lt.a,{children:Object(E.jsx)(dt.a,{children:Object(E.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(E.jsxs)(ot.a,{className:"mb-3",children:[Object(E.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:Object(E.jsx)(Ot.a.Toggle,{as:L.a,variant:"link",eventKey:"1",children:Object(E.jsx)("h6",{children:"Image Information"})})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(E.jsxs)(ot.a.Body,{className:"pb-0",children:[Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Prefix")}),Object(E.jsx)(_.a.Control,{id:"recipe.deployOptions.image.prefix",size:"sm",value:o.recipe.deployOptions.image.prefix,onChange:m})]})}),Object(E.jsx)(dt.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Name")}),Object(E.jsx)(_.a.Control,{id:"recipe.deployOptions.image.name",size:"sm",value:o.recipe.deployOptions.image.name,onChange:m})]})}),Object(E.jsx)(dt.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Tag")}),Object(E.jsx)(_.a.Control,{id:"recipe.deployOptions.image.tag",size:"sm",value:o.recipe.deployOptions.image.tag,onChange:m})]})})]}),Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Type")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"recipe.deployOptions.image.repositoryType",defaultValue:o.recipe.deployOptions.image.repositoryType,onChange:m,children:[Object(E.jsx)("option",{value:"public",children:"Public"}),Object(E.jsx)("option",{value:"private",children:"Private"})]})]})}),Object(E.jsx)(dt.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.PullPolicy")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"recipe.deployOptions.image.pullPolicy",defaultValue:o.recipe.deployOptions.image.pullPolicy,onChange:m,children:[Object(E.jsx)("option",{value:"IfNotPresent",children:"IfNotPresent"}),Object(E.jsx)("option",{value:"Always",children:"Always"}),Object(E.jsx)("option",{value:"Never",children:"Never"})]})]})}),Object(E.jsx)(dt.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Shell")}),Object(E.jsx)(_.a.Control,{id:"recipe.deployOptions.image.shell",size:"sm",value:o.recipe.deployOptions.image.shell,onChange:m})]})})]}),Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{className:"float-left",children:r("soajs:fields.Override")}),Object(E.jsx)(_.a.Check,{className:"float-right",id:"recipe.deployOptions.image.override",size:"sm",type:"switch",checked:o.recipe.deployOptions.image.override,onChange:m})]})}),Object(E.jsx)(dt.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{className:"float-left",children:r("soajs:fields.Binary")}),Object(E.jsx)(_.a.Check,{className:"float-right",id:"recipe.deployOptions.image.binary",size:"sm",type:"switch",checked:o.recipe.deployOptions.image.binary,onChange:m})]})})]})]})})]})})})}),Object(E.jsx)(lt.a,{children:Object(E.jsx)(dt.a,{children:Object(E.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(E.jsxs)(ot.a,{className:"mb-3",children:[Object(E.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:Object(E.jsx)(Ot.a.Toggle,{as:L.a,variant:"link",eventKey:"1",children:"Commands"})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(E.jsxs)(ot.a.Body,{className:"pb-0",children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.ContainerCommand")}),Object(E.jsx)(_.a.Control,{id:"recipe.buildOptions.cmd.deploy.command",size:"sm",value:o.recipe.buildOptions.cmd.deploy.command,onChange:m})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.CommandArguments")}),Object(E.jsx)(_.a.Control,{id:"recipe.buildOptions.cmd.deploy.args",size:"sm",as:"textarea",rows:5,value:o.recipe.buildOptions.cmd.deploy.args.join("\n"),onChange:function(e){var t=e.target.value,a=e.target.id;"recipe.buildOptions.cmd.deploy.args"===a&&(t=t.split("\n"),D(o,a,t),l(Object(N.a)({},o)))}}),Object(E.jsx)(_.a.Text,{className:"text-muted",children:"Make sure each command is on a separate line."})]})]})})]})})})}),Object(E.jsx)(lt.a,{children:Object(E.jsx)(dt.a,{children:Object(E.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(E.jsxs)(ot.a,{className:"mb-3",children:[Object(E.jsxs)(ot.a.Header,{className:"pt-1 pb-0",children:[Object(E.jsx)(Ot.a.Toggle,{as:L.a,variant:"link",eventKey:"1",children:"Environment Variables"}),Object(E.jsx)(Za,{className:"float-right",onClick:function(){o.envs.push(ds),l(Object(N.a)({},o))}})]}),Object(E.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(E.jsx)(ot.a.Body,{className:"pb-0",children:o.envs.map((function(e,t){return Object(E.jsxs)(ct.a,{variant:"secondary",children:[Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{children:Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{md:2,lg:2,xl:1,children:r("soajs:fields.Name")}),Object(E.jsx)(dt.a,{children:Object(E.jsx)(_.a.Control,{id:"name",size:"sm",value:e.name,onChange:function(e){return u(e,t)}})}),Object(E.jsx)(dt.a,{md:2,lg:1,children:r("soajs:fields.Type")}),Object(E.jsx)(dt.a,{md:3,lg:3,xl:2,children:Object(E.jsxs)(_.a.Control,{as:"select",id:"type",size:"sm",value:e.type,onChange:function(e){return u(e,t)},children:[Object(E.jsx)("option",{value:"userInput",children:"userInput"}),Object(E.jsx)("option",{value:"computed",children:"computed"}),Object(E.jsx)("option",{value:"static",children:"static"}),Object(E.jsx)("option",{value:"secret",children:"secret"})]})})]})}),Object(E.jsx)(dt.a,{xs:1,children:Object(E.jsx)(Xa,{className:"float-right pl-1 pr-1 pt-0 pb-0",onClick:function(){!function(e){o.envs.splice(e,1),l(Object(N.a)({},o))}(t)}})})]}),Object(E.jsx)(lt.a,{children:Object(E.jsxs)(dt.a,{children:[Object(E.jsx)("hr",{}),"static"===e.type&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Value")}),Object(E.jsx)(_.a.Control,{id:"value",size:"sm",value:e.value,onChange:function(e){return u(e,t)}})]}),"computed"===e.type&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Value")}),Object(E.jsx)(_.a.Control,{as:"select",id:"value",size:"sm",value:e.value,onChange:function(e){return u(e,t)},children:us.map((function(e,t){return Object(E.jsx)("option",{disabled:e.disabled,value:e.l,children:e.l},t)}))})]}),"userInput"===e.type&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Label")}),Object(E.jsx)(_.a.Control,{id:"label",size:"sm",value:e.label,onChange:function(e){return u(e,t)}}),Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Default")}),Object(E.jsx)(_.a.Control,{id:"default",size:"sm",value:e.default,onChange:function(e){return u(e,t)}}),Object(E.jsx)(_.a.Label,{children:r("soajs:fields.FieldMsg")}),Object(E.jsx)(_.a.Control,{id:"fieldMsg",size:"sm",value:e.fieldMsg,onChange:function(e){return u(e,t)}})]}),"secret"===e.type&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Secret")}),Object(E.jsx)(_.a.Control,{id:"secret",size:"sm",value:e.secret,onChange:function(e){return u(e,t)}}),Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Key")}),Object(E.jsx)(_.a.Control,{id:"key",size:"sm",value:e.key,onChange:function(e){return u(e,t)}})]})]})})]},t)}))})})]})})})}),Object(E.jsx)(lt.a,{children:Object(E.jsx)(dt.a,{children:Object(E.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(E.jsxs)(ot.a,{className:"mb-3",children:[Object(E.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:Object(E.jsx)(Ot.a.Toggle,{as:L.a,variant:"link",eventKey:"1",children:"Readiness Information"})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(E.jsx)(ot.a.Body,{className:"pb-0",children:Object(E.jsxs)(lt.a,{style:{height:"250px"},children:[Object(E.jsx)(dt.a,{children:Object(E.jsx)(ue,{modes:["code","tree"],mode:"code",json:ms||o.recipe.deployOptions.readinessProbe||null,onChange:function(e){ms=e}})}),Object(E.jsx)(dt.a,{xs:4,className:"small",children:Object(E.jsxs)("div",{children:[Object(E.jsx)(ct.a,{variant:"dark",className:"m-0 pb-0 pt-1",children:Object(E.jsx)("h6",{children:"Example"})}),Object(E.jsx)(ct.a,{variant:"info",className:"m-0 pb-0 pt-1",children:Object(E.jsx)("pre",{className:"small, text-muted",children:JSON.stringify(js.readinessProbe,null,2)})})]})})]})})})]})})})}),Object(E.jsx)(lt.a,{children:Object(E.jsx)(dt.a,{children:Object(E.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(E.jsxs)(ot.a,{className:"mb-3",children:[Object(E.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:Object(E.jsx)(Ot.a.Toggle,{as:L.a,variant:"link",eventKey:"1",children:"Liveness Information"})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(E.jsx)(ot.a.Body,{className:"pb-0",children:Object(E.jsxs)(lt.a,{style:{height:"250px"},children:[Object(E.jsx)(dt.a,{children:Object(E.jsx)(ue,{mode:"code",modes:["code","tree"],json:ps||o.recipe.deployOptions.liveinessProbe||null,onChange:function(e){ps=e}})}),Object(E.jsx)(dt.a,{xs:4,className:"small",children:Object(E.jsxs)("div",{children:[Object(E.jsx)(ct.a,{variant:"dark",className:"m-0 pb-0 pt-1",children:Object(E.jsx)("h6",{children:"Example"})}),Object(E.jsx)(ct.a,{variant:"info",className:"m-0 pb-0 pt-1",children:Object(E.jsx)("pre",{className:"small, text-muted",children:JSON.stringify(js.livenessProbe,null,2)})})]})})]})})})]})})})}),Object(E.jsx)(lt.a,{children:Object(E.jsx)(dt.a,{children:Object(E.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(E.jsxs)(ot.a,{className:"mb-3",children:[Object(E.jsxs)(ot.a.Header,{className:"pt-1 pb-0",children:[Object(E.jsx)(Ot.a.Toggle,{as:L.a,variant:"link",eventKey:"1",children:"Ports"}),Object(E.jsx)(Za,{className:"float-right",onClick:function(){Os.push({name:"http",target:80,isPublished:!0,published:31080,preserveClientIP:!0}),o.recipe.deployOptions.ports=Os,l(Object(N.a)({},o))}})]}),Object(E.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(E.jsx)(ot.a.Body,{className:"pb-0",children:o.recipe.deployOptions.ports.map((function(e,t){return Object(E.jsx)("div",{className:"p-1",style:{backgroundColor:"#ebebeb"},children:Object(E.jsxs)(ot.a,{children:[Object(E.jsx)(ot.a.Header,{className:"p-0",children:Object(E.jsx)(Xa,{className:"float-right pl-1 pr-1 pt-0 pb-0",onClick:function(){!function(e){Os.splice(e,1),o.recipe.deployOptions.ports=Os,l(Object(N.a)({},o))}(t)}})}),Object(E.jsx)(ot.a.Body,{className:"pt-1 pb-1",children:Object(E.jsx)(ue,{mode:"code",modes:["code","tree"],json:Os[t]||o.recipe.deployOptions.ports[t]||null,onChange:function(e){return function(e,t){Os[t]=e}(e,t)}})})]})},t)}))})})]})})})}),Object(E.jsx)(lt.a,{children:Object(E.jsx)(dt.a,{children:Object(E.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(E.jsxs)(ot.a,{className:"mb-3",children:[Object(E.jsxs)(ot.a.Header,{className:"pt-1 pb-0",children:[Object(E.jsx)(Ot.a.Toggle,{as:L.a,variant:"link",eventKey:"1",children:"Volumes"}),Object(E.jsx)(Za,{className:"float-right",onClick:function(){hs.push({kubernetes:{volume:{},volumeMount:{}}}),o.recipe.deployOptions.voluming=hs,l(Object(N.a)({},o))}})]}),Object(E.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(E.jsx)(ot.a.Body,{className:"pb-0",children:o.recipe.deployOptions.voluming.map((function(e,t){return Object(E.jsx)("div",{className:"p-1",style:{backgroundColor:"#ebebeb"},children:Object(E.jsxs)(ot.a,{children:[Object(E.jsx)(ot.a.Header,{className:"p-0",children:Object(E.jsx)(Xa,{className:"float-right pl-1 pr-1 pt-0 pb-0",onClick:function(){!function(e){hs.splice(e,1),o.recipe.deployOptions.voluming=hs,l(Object(N.a)({},o))}(t)}})}),Object(E.jsx)(ot.a.Body,{className:"pt-1 pb-1",children:Object(E.jsx)(ue,{mode:"code",modes:["code","tree"],json:p(t),onChange:function(e){return function(e,t){hs[t]={kubernetes:e}}(e,t)}})})]})},t)}))})})]})})})}),Object(E.jsx)(lt.a,{children:Object(E.jsx)(dt.a,{children:Object(E.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(E.jsxs)(ot.a,{className:"mb-3",children:[Object(E.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:Object(E.jsx)(Ot.a.Toggle,{as:L.a,variant:"link",eventKey:"1",children:"Security Context Information"})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(E.jsx)(ot.a.Body,{className:"pb-0",children:Object(E.jsx)(ue,{mode:"code",modes:["code","tree"],json:bs||o.recipe.deployOptions.securityContext||null,onChange:function(e){bs=e}})})})]})})})}),Object(E.jsx)(lt.a,{children:Object(E.jsx)(dt.a,{children:Object(E.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(E.jsxs)(ot.a,{className:"mb-3",children:[Object(E.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:Object(E.jsx)(Ot.a.Toggle,{as:L.a,variant:"link",eventKey:"1",children:"Preset Pod Execute Commands"})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(E.jsx)(ot.a.Body,{className:"pb-0",children:Object(E.jsx)(ue,{mode:"code",modes:["code","tree"],json:fs||o.recipe.deployOptions.execCommands||null,onChange:function(e){fs=e}})})})]})})})}),Object(E.jsx)(lt.a,{children:Object(E.jsx)(dt.a,{children:Object(E.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(E.jsxs)(ot.a,{className:"mb-3",children:[Object(E.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:Object(E.jsx)(Ot.a.Toggle,{as:L.a,variant:"link",eventKey:"1",children:"Additional Labels"})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(E.jsx)(ot.a.Body,{className:"pb-0",children:Object(E.jsx)(ue,{mode:"code",modes:["code","tree"],json:xs||o.recipe.deployOptions.labels||null,onChange:function(e){xs=e}})})})]})})})}),Object(E.jsxs)(L.a,{className:"float-right",variant:"success",onClick:function(){return j.apply(this,arguments)},disabled:!(o.name.length>0&&o.description.length>0&&o.type.length>0&&o.subtype.length>0&&o.recipe.deployOptions.image.name.length>0),children:["add"===a&&r("soajs:buttons.Add"),"edit"===a&&r("soajs:buttons.Update")]}),Object(E.jsx)("span",{className:"clearfix"})]})]})}function ys(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(vs,{starterFields:ls,mode:"add"})})}var ws=Ct.getService();function ks(){var e=Object(n.useState)(null),t=Object(y.a)(e,2),a=t[0],s=t[1],r=Object(w.m)().id;return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a,n,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=G.a.merge({},ls),t.next=4,ws.getRecipesByIds([r]);case 4:if(n=t.sent,e&&n&&n[0]){if(a={envs:a.envs,name:n[0].name||a.name,type:n[0].type||a.type,description:n[0].description||a.description,subtype:n[0].subtype||a.subtype,recipe:{deployOptions:{image:a.recipe.deployOptions.image,readinessProbe:n[0].recipe.deployOptions.readinessProbe||a.recipe.deployOptions.readinessProbe,liveinessProbe:n[0].recipe.deployOptions.liveinessProbe||a.recipe.deployOptions.liveinessProbe,ports:n[0].recipe.deployOptions.ports||a.recipe.deployOptions.ports,voluming:a.recipe.deployOptions.voluming,labels:n[0].recipe.deployOptions.labels||a.recipe.deployOptions.labels,execCommands:n[0].recipe.deployOptions.execCommands||a.recipe.deployOptions.execCommands,securityContext:n[0].recipe.deployOptions.securityContext||a.recipe.deployOptions.securityContext},buildOptions:{cmd:n[0].recipe.buildOptions.cmd||a.recipe.buildOptions.cmd,env:a.recipe.buildOptions.env,settings:n[0].recipe.buildOptions.settings||a.recipe.buildOptions.settings}}},n[0].recipe.deployOptions.voluming)for(c=0;c<n[0].recipe.deployOptions.voluming.length;c++)a.recipe.deployOptions.voluming.push({kubernetes:n[0].recipe.deployOptions.voluming[c].kubernetes});n[0].recipe.buildOptions.cmd&&(a.recipe.buildOptions.cmd.deploy={command:n[0].recipe.buildOptions.cmd.deploy.command||a.recipe.buildOptions.cmd.deploy.command,args:n[0].recipe.buildOptions.cmd.deploy.args||a.recipe.buildOptions.cmd.deploy.args}),n[0].recipe.deployOptions.securityContext&&(a.recipe.deployOptions.securityContext={pod:n[0].recipe.deployOptions.securityContext.pod||a.recipe.deployOptions.securityContext.pod,container:n[0].recipe.deployOptions.securityContext.container||a.recipe.deployOptions.securityContext.container}),n[0].recipe.deployOptions.image&&(a.recipe.deployOptions.image={name:n[0].recipe.deployOptions.image.name||a.recipe.deployOptions.image.name,tag:n[0].recipe.deployOptions.image.tag||a.recipe.deployOptions.image.tag,prefix:n[0].recipe.deployOptions.image.prefix||a.recipe.deployOptions.image.prefix,repositoryType:n[0].recipe.deployOptions.image.repositoryType||a.recipe.deployOptions.image.repositoryType,pullPolicy:n[0].recipe.deployOptions.image.pullPolicy||a.recipe.deployOptions.image.pullPolicy,shell:n[0].recipe.deployOptions.image.shell||a.recipe.deployOptions.image.shell,override:n[0].recipe.deployOptions.image.override||a.recipe.deployOptions.image.override,binary:n[0].recipe.deployOptions.image.binary||a.recipe.deployOptions.image.binary}),n[0].recipe.buildOptions.env&&Object.keys(n[0].recipe.buildOptions.env).map((function(e){var t=G.a.merge({},ds,n[0].recipe.buildOptions.env[e]);return t.name=e,a.envs.push(t),!0}))}s(a),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),ie.error(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[r]),Object(E.jsx)(E.Fragment,{children:a&&Object(E.jsx)(vs,{starterFields:a,itemId:r,mode:"edit"})})}function Cs(){return Object(E.jsxs)(w.g,{children:[Object(E.jsx)(I,{path:"/catalogs/git/repositories",children:Object(E.jsx)(os,{})}),Object(E.jsx)(I,{path:"/catalogs/api/detail/:type/:name/:ver",children:Object(E.jsx)(Qn,{})}),Object(E.jsx)(I,{path:"/catalogs/custom/detail/:type/:name/:ver",children:Object(E.jsx)(Qn,{})}),Object(E.jsx)(I,{path:"/catalogs/resource/detail/:type/:name/:ver",children:Object(E.jsx)(Qn,{})}),Object(E.jsx)(I,{path:"/catalogs/daemon/detail/:type/:name/:ver",children:Object(E.jsx)(Qn,{})}),Object(E.jsx)(I,{path:"/catalogs/frontend/detail/:type/:name/:ver",children:Object(E.jsx)(Qn,{})}),Object(E.jsx)(I,{path:"/catalogs/config/detail/:type/:name/:ver",children:Object(E.jsx)(Qn,{})}),Object(E.jsx)(I,{path:"/catalogs/soajs/api/detail/:type/:name/:ver",children:Object(E.jsx)(Qn,{})}),Object(E.jsx)(I,{path:"/catalogs/soajs/frontend/detail/:type/:name/:ver",children:Object(E.jsx)(Qn,{})}),Object(E.jsx)(I,{path:"/catalogs/api/detail/:type/:name",children:Object(E.jsx)(Qn,{})}),Object(E.jsx)(I,{path:"/catalogs/custom/detail/:type/:name",children:Object(E.jsx)(Qn,{})}),Object(E.jsx)(I,{path:"/catalogs/resource/detail/:type/:name",children:Object(E.jsx)(Qn,{})}),Object(E.jsx)(I,{path:"/catalogs/daemon/detail/:type/:name",children:Object(E.jsx)(Qn,{})}),Object(E.jsx)(I,{path:"/catalogs/frontend/detail/:type/:name",children:Object(E.jsx)(Qn,{})}),Object(E.jsx)(I,{path:"/catalogs/config/detail/:type/:name",children:Object(E.jsx)(Qn,{})}),Object(E.jsx)(I,{path:"/catalogs/soajs/api/detail/:type/:name",children:Object(E.jsx)(Qn,{})}),Object(E.jsx)(I,{path:"/catalogs/soajs/frontend/detail/:type/:name",children:Object(E.jsx)(Qn,{})}),Object(E.jsx)(I,{path:"/catalogs/recipe/add",children:Object(E.jsx)(ys,{})}),Object(E.jsx)(I,{path:"/catalogs/recipe/edit/:id",children:Object(E.jsx)(ks,{})}),Object(E.jsx)(I,{path:"/catalogs/api",children:Object(E.jsx)(xn,{})}),Object(E.jsx)(I,{path:"/catalogs/custom",children:Object(E.jsx)(fn,{})}),Object(E.jsx)(I,{path:"/catalogs/resource",children:Object(E.jsx)(Sn,{})}),Object(E.jsx)(I,{path:"/catalogs/daemon",children:Object(E.jsx)(Pn,{})}),Object(E.jsx)(I,{path:"/catalogs/frontend",children:Object(E.jsx)(An,{})}),Object(E.jsx)(I,{path:"/catalogs/config",children:Object(E.jsx)(Tn,{})}),Object(E.jsx)(I,{path:"/catalogs/recipe",children:Object(E.jsx)(Un,{})}),Object(E.jsx)(I,{path:"/catalogs/soajs/api",children:Object(E.jsx)(_n,{})}),Object(E.jsx)(I,{path:"/catalogs/soajs/frontend",children:Object(E.jsx)(Rn,{})}),Object(E.jsx)(w.d,{render:function(){return Object(E.jsx)(w.c,{to:"/catalogs/api"})}})]})}var Ns=function(){var e=Object(Ee.a)(["common","soajs"]).t;return Object(E.jsxs)(Ia.a,{collapseOnSelect:!0,expand:"md",className:"pt-0 pb-0",bg:"secondary",variant:"light",children:[Object(E.jsx)("span",{}),Object(E.jsx)(Ia.a.Toggle,{"aria-controls":"catalog-navbar-nav"}),Object(E.jsx)(Ia.a.Collapse,{id:"catalog-navbar-nav",className:"justify-content-end",children:Object(E.jsxs)(Ua.a,{activeKey:window.location.pathname,children:[Object(E.jsx)(Ma.LinkContainer,{to:"/catalogs/api",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.API")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/catalogs/daemon",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.Daemon")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/catalogs/frontend",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.Frontend")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/catalogs/custom",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.Custom")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/catalogs/resource",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.Resource")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/catalogs/git/repositories",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.GitRepositories")})})}),Object(E.jsxs)(La.a,{className:"small",alignRight:!0,title:e("soajs:menu.Deployment"),id:"collasible-nav1-dropdown",children:[Object(E.jsx)(Ma.LinkContainer,{to:"/catalogs/config",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.Config")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/catalogs/recipe",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.Recipe")})})})]}),Object(E.jsxs)(La.a,{className:"small",alignRight:!0,title:e("soajs:menu.SOAJS"),id:"collasible-nav1-dropdown",children:[Object(E.jsx)(Ma.LinkContainer,{to:"/catalogs/soajs/api",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.API")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/catalogs/soajs/frontend",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.Frontend")})})})]})]})})]})};function Ss(){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ns,{}),Object(E.jsx)("div",{className:"bg-dark pt-1"}),Object(E.jsx)("div",{className:"main-area",children:Object(E.jsx)(bt.a,{className:"mt-3 mb-3",children:Object(E.jsx)(Cs,{})})})]})}var Ps=we.getService();function As(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ee.a)(["common","soajs"]).t,r=function(){return a({show:!1,opts:null})};function c(){return(c=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ps.deleteUser(t.opts._id);case 3:ie.success(s("soajs:messages.deleteUser")),n(),r(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(E.jsxs)(xa.a,{show:t.show,onHide:r,animation:!1,children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:s("soajs:buttons.Delete")})}),Object(E.jsx)(xa.a.Body,{children:s("soajs:messages.deleteQuestion")}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:r,children:s("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"danger",onClick:function(){return c.apply(this,arguments)},children:s("soajs:buttons.Delete")})]})]})}function Ts(e){var t="";if(e){var a=new Date(e);t=t+a.getDate()+"/"+(a.getMonth()+1)+"/"+a.getFullYear()}return t}function Es(e){var t=e.modalOpt,a=e.setModalOpt,n=Object(Ee.a)(["common","soajs","organization"]).t,s=function(){return a({show:!1,opts:null})};return t.opts&&Object(E.jsxs)(xa.a,{show:t.show,onHide:s,animation:!1,children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(E.jsx)(xa.a.Title,{children:n("soajs:titles.userInfo")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsxs)(Gn.a,{variant:"flush",children:[Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[n("soajs:fields.Username"),":"]})," ",t.opts.username]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[n("soajs:fields.LastLogin"),":"]})," ",Ts(t.opts.lastLogin)]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[n("soajs:fields.JoinedOn"),":"]})," ",Ts(t.opts.ts)]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[n("soajs:fields.FirstName"),":"]})," ",t.opts.firstName]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[n("soajs:fields.LastName"),":"]})," ",t.opts.lastName]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[n("soajs:fields.Email"),":"]})," ",t.opts.email]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[n("soajs:fields.Groups"),":"]})," ",t.opts.groups&&t.opts.groups.join(", ")]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[n("soajs:fields.Status"),":"]})," ",t.opts.status]})]})}),Object(E.jsx)(xa.a.Footer,{className:"bg-light",children:Object(E.jsx)(L.a,{variant:"info",onClick:s,children:n("soajs:buttons.Ok")})})]})}var Is=we.getService();function Us(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=Object(Ee.a)(["common","soajs"]).t,c=Object(n.useState)({id:"",username:"",email:"",firstName:"",lastName:"",status:""}),i=Object(y.a)(c,2),o=i[0],l=i[1],d=Object(n.useState)([]),j=Object(y.a)(d,2),u=j[0],m=j[1],p=Object(n.useState)(null),b=Object(y.a)(p,2),h=b[0],O=b[1],x=function(){return a({show:!1,opts:null})};function f(){return(f=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Is.updateUser({id:t.opts._id,username:o.username,email:o.email,firstName:o.firstName,lastName:o.lastName,status:o.status,groups:h||t.opts.groups||null});case 3:ie.success(r("soajs:messages.editUser")),s(),x(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function w(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),l(Object(N.a)(Object(N.a)({},o),{},Object(Ve.a)({},e.target.id,t)))}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n,s,r,c;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!t.opts){a.next=10;break}return a.next=4,Is.getGroups();case 4:if(n=a.sent,s=null,n){for(s=[],r=0;r<n.length;r++)c={code:n[r].code,name:n[r].name,selected:!1},t.opts.groups&&t.opts.groups.includes(c.code)&&(c.selected=!0),s.push(c);e&&(m(s),O(t.opts.groups))}e&&l({id:t.opts._id,username:t.opts.username,email:t.opts.email,firstName:t.opts.firstName,lastName:t.opts.lastName,status:t.opts.status}),a.next=11;break;case 10:e&&(m([]),O(null));case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),ie.error(a.t0.message);case 16:case"end":return a.stop()}}),a,null,[[0,13]])})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){return e=!1}}),[t]),Object(E.jsxs)(xa.a,{show:t.show,onHide:x,animation:!1,children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:r("soajs:titles.editUser")})}),Object(E.jsxs)(xa.a.Body,{children:[o&&Object(E.jsxs)(_.a,{onSubmit:function(e){e.preventDefault()},children:[Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:r("soajs:fields.Username")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"username",size:"sm",value:o.username,onChange:w})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:r("soajs:fields.Email")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"email",size:"sm",value:o.email,onChange:w})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:r("soajs:fields.FirstName")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"firstName",size:"sm",value:o.firstName,onChange:w})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:r("soajs:fields.LastName")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"lastName",size:"sm",value:o.lastName,onChange:w})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:r("soajs:fields.Status")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsxs)(_.a.Control,{as:"select",id:"status",defaultValue:o.status,onChange:w,children:[Object(E.jsx)("option",{value:"active",children:"active"}),Object(E.jsx)("option",{value:"inactive",children:"inactive"}),Object(E.jsx)("option",{value:"pendingNew",children:"pendingNew"}),Object(E.jsx)("option",{value:"pendingJoin",children:"pendingJoin"})]})})]})]}),Object(E.jsx)("hr",{}),u.map((function(e,t){return Object(E.jsx)(_.a.Check,{type:"switch",label:e.code+" - "+e.name,id:e.code,checked:e.selected,onChange:function(t){!function(e,t){if(e){var a=h;a||(a=[]),a.push(t),O(a)}else{var n=h;n&&(G.a.pull(n,t),O(n))}}(t.target.checked,e.code)}},t+1)}))]}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:x,children:r("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",disabled:!(o.email.length>0&&o.username.length>4&&o.firstName.length>0&&o.lastName.length>0),onClick:function(){return f.apply(this,arguments)},children:r("soajs:buttons.Update")})]})]})}var Ls=we.getService(),Ms={user:"",email:"",username:"",firstName:"",lastName:"",groups:[]};function zs(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=Object(Ee.a)(["common","soajs"]).t,c=function(){return a({show:!1,opts:null})},i=Object(n.useState)(Ms),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)([]),u=Object(y.a)(j,2),m=u[0],p=u[1];function b(e){d(Object(N.a)(Object(N.a)({},l),{},Object(Ve.a)({},e.target.id,e.target.value)))}function h(){return(h=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ls.addUser(l);case 3:ie.success(r("soajs:messages.addUser")),s(),c(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a,n,s,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ls.getGroups();case 3:if(a=t.sent,n=null,a){for(n=[],s=0;s<a.length;s++)r={code:a[s].code,name:a[s].name,selected:!1},n.push(r);e&&p(n)}e&&d(Ms),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),ie.error(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){return e=!1}}),[]),Object(E.jsxs)(xa.a,{show:t.show,onHide:c,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:r("soajs:titles.userAdd")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsx)(_.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:r("soajs:fields.Username")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"username",size:"sm",value:l.username,onChange:b})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:r("soajs:fields.Email")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"email",size:"sm",value:l.email,onChange:b})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:r("soajs:fields.FirstName")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"firstName",size:"sm",value:l.firstName,onChange:b})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:r("soajs:fields.LastName")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"lastName",size:"sm",value:l.lastName,onChange:b})})]}),m.map((function(e,t){return Object(E.jsx)(_.a.Check,{type:"checkbox",label:e.code+" - "+e.name,onChange:function(t){var a,n;a=t.target.checked,n=e.code,a?l.groups.push(n):G.a.pull(l.groups,n),d(Object(N.a)({},l))}},t+1)}))]})})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:c,children:r("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return h.apply(this,arguments)},disabled:!(l.email.length>0&&l.username.length>4&&l.firstName.length>0&&l.lastName.length>0&&l.groups.length>0),children:r("soajs:buttons.Add")})]})]})}var _s=we.getService();function Rs(e,t,a,n,s){return Gs.apply(this,arguments)}function Gs(){return(Gs=Object(v.a)(g.a.mark((function e(t,a,n,s,r){var c,i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={limit:50,start:50*(s-1)},r&&r.keywords&&""!==r.keywords&&(c.keywords=r.keywords),e.next=5,_s.getUsers(null,null,c);case 5:return i=e.sent,e.next=8,_s.getUsersCount(null,null,c);case 8:o=e.sent,i&&Array.isArray(i)&&i.length>0?a&&(t(i),n({totalItems:o,maxSize:10,itemsPerPage:c.limit})):a&&t(null),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),ie.error(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function Ds(){var e=T().ability,t=Object(Ee.a)(["common","soajs","organization"]).t,a=Object(n.useState)([]),s=Object(y.a)(a,2),r=s[0],c=s[1],i=Object(n.useState)({show:!1,opts:null}),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({show:!1,opts:null}),u=Object(y.a)(j,2),m=u[0],p=u[1],b=Object(n.useState)({show:!1,opts:null}),h=Object(y.a)(b,2),O=h[0],x=h[1],f=Object(n.useState)({show:!1,opts:null}),w=Object(y.a)(f,2),k=w[0],C=w[1],S=Object(n.useState)(1),P=Object(y.a)(S,2),A=P[0],I=P[1],U=Object(n.useState)({keywords:""}),M=Object(y.a)(U,2),z=M[0],R=M[1],G=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),D=Object(y.a)(G,2),F=D[0],B=D[1];function K(e){return H.apply(this,arguments)}function H(){return(H=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),I(1),e.next=4,Rs(c,!0,B,1,z);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return W.apply(this,arguments)}function W(){return(W=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rs(c,!0,B,t||A,z);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return Rs(c,e,B,1,null),function(){return e=!1}}),[]),r&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(zs,{modalOpt:k,setModalOpt:C,handleAction:J}),Object(E.jsx)(Us,{modalOpt:O,setModalOpt:x,handleAction:J}),Object(E.jsx)(As,{modalOpt:m,setModalOpt:p,handleAction:J}),Object(E.jsx)(Es,{modalOpt:l,setModalOpt:d}),Object(E.jsxs)("div",{children:[Object(E.jsx)("h4",{className:"float-left",children:t("soajs:titles.users")}),e.can("user","add")&&Object(E.jsxs)(L.a,{variant:"success",className:"float-right",size:"sm",onClick:function(){return C({show:!0,opts:null})},children:[Object(E.jsx)(Qa.a,{})," ",t("soajs:buttons.Add")]}),Object(E.jsx)("span",{className:"clearfix"})]}),Object(E.jsx)("hr",{}),Object(E.jsx)(me.a,{className:"p-3",children:Object(E.jsx)(_.a,{onSubmit:K,children:Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{xs:9,md:10,children:Object(E.jsx)(_.a.Control,{id:"keywords",size:"sm",autoFocus:!0,value:z.keywords,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),R(Object(N.a)(Object(N.a)({},z),{},Object(Ve.a)({},e.target.id,t)))}})}),Object(E.jsx)(dt.a,{xs:3,md:2,children:Object(E.jsxs)(L.a,{className:"float-right",variant:"dark",size:"sm",onClick:K,children:[Object(E.jsx)(vt.c,{})," ",t("soajs:buttons.Search")]})})]})})}),Object(E.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(E.jsx)("thead",{className:"text-light bg-dark",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:t("soajs:buttons.Actions")}),Object(E.jsx)("th",{children:t("soajs:fields.FirstName")}),Object(E.jsx)("th",{children:t("soajs:fields.LastName")}),Object(E.jsx)("th",{children:t("soajs:fields.Email")}),Object(E.jsx)("th",{children:t("soajs:fields.Groups")}),Object(E.jsx)("th",{children:t("soajs:fields.Status")})]})}),Object(E.jsx)("tbody",{children:r.map((function(t,a){return Object(E.jsxs)("tr",{children:[Object(E.jsxs)("td",{nowrap:"true",children:[Object(E.jsx)(En,{className:"mr-1",onClick:function(){d({show:!0,opts:t})}}),e.can("user","delete")&&Object(E.jsx)(Xa,{className:"mr-1",onClick:function(){p({show:!0,opts:t})}}),e.can("user","edit")&&Object(E.jsx)(rn,{className:"mr-1",onClick:function(){x({show:!0,opts:t})}})]}),Object(E.jsx)("td",{children:t.firstName}),Object(E.jsx)("td",{children:t.lastName}),Object(E.jsx)("td",{children:t.email}),Object(E.jsx)("td",{children:t.groups&&t.groups.join(", ")}),Object(E.jsx)("td",{children:t.status})]},a)}))})]}),r.length>0?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"float-right mt-3",children:Object(E.jsx)(_t,{currentPage:A,totalItems:F.totalItems,itemsPerPage:F.itemsPerPage,maxSize:F.maxSize,onClick:function(e){I(e),J(e)}})}),Object(E.jsx)("div",{className:"clearfix"})]}):null]})}var Fs=we.getService();function Bs(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ee.a)(["common","soajs"]).t,r=function(){return a({show:!1,opts:null})};function c(){return(c=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fs.deleteGroup(t.opts._id);case 3:ie.success(s("soajs:messages.deleteGroup")),n(),r(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(E.jsxs)(xa.a,{show:t.show,onHide:r,animation:!1,children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:s("soajs:buttons.Delete")})}),Object(E.jsx)(xa.a.Body,{children:s("soajs:messages.deleteQuestion")}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:r,children:s("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"danger",onClick:function(){return c.apply(this,arguments)},children:s("soajs:buttons.Delete")})]})]})}function Ks(e){var t=e.modalOpt,a=e.setModalOpt,s=e.product,r=Object(Ee.a)(["common","soajs"]).t,c=Object(n.useState)([]),i=Object(y.a)(c,2),o=i[0],l=i[1],d=function(){return a({show:!1,opts:null})};return Object(n.useEffect)((function(){var e=!0;if(s&&t.opts){var a={};a.code=s.code,a.name=s.name,a.description=s.description,a.packages=[];for(var n=0;n<s.packages.length;n++)a.packages.push({code:s.packages[n].code,name:s.packages[n].name,selected:t.opts&&t.opts.config&&t.opts.config.allowedPackages&&t.opts.config.allowedPackages[s.code]&&t.opts.config.allowedPackages[s.code].includes(s.packages[n].code)});e&&l([a])}else e&&l(null);return function(){return e=!1}}),[s,t]),t.opts&&Object(E.jsxs)(xa.a,{show:t.show,onHide:d,animation:!1,children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(E.jsx)(xa.a.Title,{children:r("soajs:titles.groupInfo")})}),Object(E.jsxs)(xa.a.Body,{children:[Object(E.jsxs)(Gn.a,{variant:"flush",children:[Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[r("soajs:fields.Code"),":"]})," ",t.opts.code]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[r("soajs:fields.Name"),":"]})," ",t.opts.name]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[r("soajs:fields.Description"),":"]})," ",t.opts.description]})]}),Object(E.jsx)("hr",{}),Object(E.jsx)(Ot.a,{defaultActiveKey:1,children:o&&o.map((function(e,t){return Object(E.jsxs)(ot.a,{children:[Object(E.jsxs)(ot.a.Header,{children:[Object(E.jsx)("div",{children:Object(E.jsxs)(Ot.a.Toggle,{className:"p-0",as:L.a,variant:"link",eventKey:t+1,children:[e.code," - ",e.name]})}),Object(E.jsx)("small",{className:"font-italic",children:e.description})]}),Object(E.jsx)(Ot.a.Collapse,{eventKey:t+1,children:Object(E.jsx)(ot.a.Body,{children:e.packages.map((function(e,t){return Object(E.jsx)(_.a.Check,{type:"switch",disabled:!0,label:e.code+" - "+e.name,checked:e.selected},t+1)}))})})]},t+1)}))})]}),Object(E.jsx)(xa.a.Footer,{className:"bg-light",children:Object(E.jsx)(L.a,{variant:"info",onClick:d,children:r("soajs:buttons.Ok")})})]})}var Hs=we.getService();function Js(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=e.product,c=Object(Ee.a)(["common","soajs"]).t,i=function(){return a({show:!1,opts:null})},o=Object(n.useState)({code:"",name:"",description:"",id:""}),l=Object(y.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)([]),m=Object(y.a)(u,2),p=m[0],b=m[1];function h(){return(h=Object(v.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=null,d.config&&d.config.allowedPackages)for(a in t=[],d.config.allowedPackages)t.push({product:a,packages:d.config.allowedPackages[a]});return e.next=5,Hs.editGroup({id:d.id,name:d.name,description:d.description,packages:t});case 5:ie.success(c("soajs:messages.editGroup")),s(),i(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function O(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),j(Object(N.a)(Object(N.a)({},d),{},Object(Ve.a)({},e.target.id,t)))}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n,s;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{if(t.opts){if(e){for(j({code:t.opts.code,name:t.opts.name,description:t.opts.description,id:t.opts._id,config:t.opts.config}),(n={}).code=r.code,n.name=r.name,n.description=r.description,n.packages=[],s=0;s<r.packages.length;s++)n.packages.push({code:r.packages[s].code,name:r.packages[s].name,selected:t.opts&&t.opts.config&&t.opts.config.allowedPackages&&t.opts.config.allowedPackages[r.code]&&t.opts.config.allowedPackages[r.code].includes(r.packages[s].code)});e&&b([n])}}else e&&b(null)}catch(c){ie.error(c.message)}case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){return e=!1}}),[t,r]),t.opts&&Object(E.jsxs)(xa.a,{show:t.show,onHide:i,animation:!1,children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(E.jsx)(xa.a.Title,{children:c("soajs:titles.groupEdit")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsx)(_.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:2,children:c("organization:groups.code")}),Object(E.jsx)(dt.a,{sm:10,children:d.code})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:2,children:c("organization:groups.name")}),Object(E.jsx)(dt.a,{sm:10,children:Object(E.jsx)(_.a.Control,{id:"name",size:"sm",autoFocus:!0,value:d.name,onChange:O})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:2,children:c("organization:groups.description")}),Object(E.jsx)(dt.a,{sm:10,children:Object(E.jsx)(_.a.Control,{id:"description",as:"textarea",rows:3,size:"sm",value:d.description,onChange:O})})]}),Object(E.jsx)(Ot.a,{defaultActiveKey:1,children:p&&p.map((function(e,t){return Object(E.jsxs)(ot.a,{children:[Object(E.jsxs)(ot.a.Header,{children:[Object(E.jsx)("div",{children:Object(E.jsxs)(Ot.a.Toggle,{className:"p-0",as:L.a,variant:"link",eventKey:t+1,children:[e.code," - ",e.name]})}),Object(E.jsx)("small",{className:"font-italic",children:e.description})]}),Object(E.jsx)(Ot.a.Collapse,{eventKey:t+1,children:Object(E.jsx)(ot.a.Body,{children:e.packages.map((function(t,a){return Object(E.jsx)(_.a.Check,{type:"switch",label:t.code+" - "+t.name,defaultChecked:t.selected,id:t.code,onChange:function(a){var n,s,r;n=a.target.checked,s=t.code,r=e.code,d.config&&(d.config.allowedPackages||(d.config.allowedPackages={}),n?(d.config.allowedPackages[r]||(d.config.allowedPackages[r]=[]),d.config.allowedPackages[r].push(s)):d.config.allowedPackages[r]&&d.config.allowedPackages[r]&&G.a.pull(d.config.allowedPackages[r],s))}},a+1)}))})})]},t+1)}))})]})})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:i,children:c("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",disabled:!(d.name.length>0&&d.description.length>0),onClick:function(){return h.apply(this,arguments)},children:c("soajs:buttons.Update")})]})]})}var Ws=we.getService(),Vs=At.getService(),qs={code:"",name:"",description:"",config:{}};function Ys(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=Object(Ee.a)(["common","soajs"]).t,c=function(){return a({show:!1,opts:null})},i=Object(n.useState)(qs),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({code:"",name:"",description:"",packages:[]}),u=Object(y.a)(j,2),m=u[0],p=u[1];function b(e){d(Object(N.a)(Object(N.a)({},l),{},Object(Ve.a)({},e.target.id,e.target.value)))}function h(){return(h=Object(v.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=null,l.config&&l.config.allowedPackages)for(a in t=[],l.config.allowedPackages)t.push({product:a,packages:l.config.allowedPackages[a]});return e.next=5,Ws.addGroup({code:l.code,name:l.name,description:l.description,packages:t});case 5:ie.success(r("soajs:messages.addGroup")),s(),c(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a,n,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Vs.getMyConsoleProduct();case 3:if(a=t.sent,e){for((n={}).code=a.code,n.name=a.name,n.description=a.description,n.packages=[],s=0;s<a.packages.length;s++)n.packages.push({code:a.packages[s].code,name:a.packages[s].name});p(n),d(qs)}t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ie.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){return e=!1}}),[]),Object(E.jsxs)(xa.a,{show:t.show,onHide:c,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:r("soajs:titles.groupAdd")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsx)(_.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:2,children:r("soajs:fields.Code")}),Object(E.jsx)(dt.a,{sm:10,children:Object(E.jsx)(_.a.Control,{id:"code",size:"sm",autoFocus:!0,value:l.code,onChange:b})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:2,children:r("soajs:fields.Name")}),Object(E.jsx)(dt.a,{sm:10,children:Object(E.jsx)(_.a.Control,{id:"name",size:"sm",value:l.name,onChange:b})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:2,children:r("soajs:fields.Description")}),Object(E.jsx)(dt.a,{sm:10,children:Object(E.jsx)(_.a.Control,{id:"description",as:"textarea",rows:3,size:"sm",value:l.description,onChange:b})})]}),Object(E.jsxs)(ot.a,{children:[Object(E.jsxs)(ot.a.Header,{children:[Object(E.jsxs)("div",{children:[m.code," - ",m.name]}),Object(E.jsx)("small",{className:"font-italic",children:m.description})]}),Object(E.jsx)(ot.a.Body,{children:m.packages.map((function(e,t){return Object(E.jsx)(_.a.Check,{type:"checkbox",label:e.code+" - "+e.name,onChange:function(t){var a,n,s;a=t.target.checked,n=e.code,s=m.code,l.config&&(l.config.allowedPackages||(l.config.allowedPackages={}),a?(l.config.allowedPackages[s]||(l.config.allowedPackages[s]=[]),l.config.allowedPackages[s].push(n)):l.config.allowedPackages[s]&&l.config.allowedPackages[s]&&G.a.pull(l.config.allowedPackages[s],n),d(Object(N.a)({},l)))}},t+1)}))})]})]})})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:c,children:r("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return h.apply(this,arguments)},disabled:!(l.code.length>0&&l.name.length>0&&l.description.length>0),children:r("soajs:buttons.Add")})]})]})}var Xs=we.getService(),Qs=At.getService();function Zs(e,t,a){return $s.apply(this,arguments)}function $s(){return($s=Object(v.a)(g.a.mark((function e(t,a,n){var s,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xs.getGroups();case 3:return s=e.sent,e.next=6,Qs.getMyConsoleProduct();case 6:r=e.sent,s&&Array.isArray(s)&&s.length>0?a&&t(s):a&&t(null),a&&n(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),ie.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function er(){var e=T().ability,t=Object(Ee.a)(["common","soajs","organization"]).t,a=Object(n.useState)([]),s=Object(y.a)(a,2),r=s[0],c=s[1],i=Object(n.useState)(null),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({show:!1,opts:null}),u=Object(y.a)(j,2),m=u[0],p=u[1],b=Object(n.useState)({show:!1,opts:null}),h=Object(y.a)(b,2),O=h[0],x=h[1],f=Object(n.useState)({show:!1,opts:null}),w=Object(y.a)(f,2),k=w[0],C=w[1],N=Object(n.useState)({show:!1,opts:null}),S=Object(y.a)(N,2),P=S[0],A=S[1];function I(){return U.apply(this,arguments)}function U(){return(U=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zs(c,!0,d);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return Zs(c,e,d),function(){return e=!1}}),[]),r&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ys,{modalOpt:P,setModalOpt:A,handleAction:I}),Object(E.jsx)(Bs,{modalOpt:k,setModalOpt:C,handleAction:I}),Object(E.jsx)(Js,{modalOpt:O,setModalOpt:x,handleAction:I,product:l}),Object(E.jsx)(Ks,{modalOpt:m,setModalOpt:p,product:l}),Object(E.jsxs)("div",{children:[Object(E.jsx)("h4",{className:"float-left",children:t("soajs:titles.groups")}),e.can("group","add")&&Object(E.jsxs)(L.a,{variant:"success",className:"float-right",size:"sm",onClick:function(){return A({show:!0,opts:null})},children:[Object(E.jsx)(Qa.a,{})," ",t("soajs:buttons.Add")]})]}),Object(E.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(E.jsx)("thead",{className:"text-light bg-dark",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:t("soajs:buttons.Actions")}),Object(E.jsx)("th",{children:t("soajs:fields.Code")}),Object(E.jsx)("th",{children:t("soajs:fields.Name")}),Object(E.jsx)("th",{children:t("soajs:fields.Description")})]})}),Object(E.jsx)("tbody",{children:r.map((function(t,a){return Object(E.jsxs)("tr",{children:[Object(E.jsxs)("td",{nowrap:"true",children:[Object(E.jsx)(En,{className:"mr-1",onClick:function(){p({show:!0,opts:t})}}),e.can("group","delete")&&Object(E.jsx)(Xa,{className:"mr-1",onClick:function(){C({show:!0,opts:t})}}),e.can("group","edit")&&Object(E.jsx)(rn,{className:"mr-1",onClick:function(){x({show:!0,opts:t})}})]}),Object(E.jsx)("td",{children:t.code}),Object(E.jsx)("td",{children:t.name}),Object(E.jsx)("td",{children:t.description})]},a)}))})]})]})}var tr=At.getService();function ar(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ee.a)(["common","soajs"]).t,r=function(){return a({show:!1,opts:null})};function c(){return(c=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tr.deleteConsolepackage({code:t.opts.code,id:t.opts._id});case 3:ie.success(s("soajs:messages.deletePackage")),n(),r(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(E.jsxs)(xa.a,{show:t.show,onHide:r,animation:!1,children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:s("soajs:buttons.Delete")})}),Object(E.jsx)(xa.a.Body,{children:s("soajs:messages.deleteQuestion")}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:r,children:s("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"danger",onClick:function(){return c.apply(this,arguments)},children:s("soajs:buttons.Delete")})]})]})}var nr={get:"primary",post:"success",delete:"danger",put:"warning",patch:"info",head:"secondary",other:"light"};function sr(e){return e&&nr[e]?nr[e]:nr.other}function rr(e){var t=e.method,a=e.service,n=e.api,s=e.version,r=e.name,c=e.apiAbility,i=!1;return a&&"restricted"===a[s].apisPermission?a&&a[s]&&a[s][t]&&a[s][t].apis&&a[s][t].apis[n]&&(i=!0):a&&(i=!0),c&&Object(E.jsx)("div",{children:i?Object(E.jsx)(ct.a,{variant:sr(t),children:Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{className:"font-weight-bold small",children:[c.M,Object(E.jsx)("br",{}),c.isPublic&&Object(E.jsxs)("span",{className:"font-weight-bold text-info small",children:[Object(E.jsx)(M.d,{className:"mb-1"})," Public"]})]}),Object(E.jsx)(dt.a,{className:"small",lg:2,children:Object(E.jsx)("span",{className:"font-weight-bold small",children:"Available"})}),Object(E.jsxs)(dt.a,{className:"small",children:[Object(E.jsx)(L.a,{size:"sm",className:"mr-2 p-1 float-left",variant:sr(t),children:Object(E.jsx)("small",{children:t.toUpperCase()})}),Object(E.jsxs)("span",{className:"float-left mt-1",children:[Object(E.jsx)(it.a,{variant:"info",className:"mr-1",children:r}),n]})]})]})}):Object(E.jsx)(ct.a,{variant:"light",className:"border-dark",children:Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{className:"small",children:[c.M,Object(E.jsx)("br",{}),c.isPublic&&Object(E.jsxs)("span",{className:"font-weight-bold text-info small",children:[Object(E.jsx)(M.d,{className:"mb-1"})," Public"]})]}),Object(E.jsx)(dt.a,{className:"small",lg:2,children:Object(E.jsx)("span",{className:"font-weight-bold small",children:"Not available"})}),Object(E.jsxs)(dt.a,{className:"small",children:[Object(E.jsx)(L.a,{size:"sm",className:"mr-2 p-1 float-left",variant:sr(t),children:Object(E.jsx)("small",{children:t.toUpperCase()})}),Object(E.jsxs)("span",{className:"float-left mt-1",children:[Object(E.jsx)(it.a,{variant:"info",className:"mr-1",children:r}),n]})]})]})})})}function cr(e){var t=e.service,a=e.name,n=e.abilityPath;return t?Object.keys(t).map((function(e,s){return Object(E.jsx)("div",{children:Ne.versions[a]===e?Object(E.jsx)("div",{children:Object.keys(nr).map((function(s,r){return Ne[n][a]&&Ne[n][a][s]&&Object.keys(Ne[n][a][s]).map((function(r,c){return Object(E.jsx)(rr,{method:s,service:t,api:r,version:e,name:a,apiAbility:Ne[n][a][s][r]},c)}))}))}):Object(E.jsxs)("span",{children:[" wrong version for ",a," @ ",e]})},s)})):Object(E.jsx)("div",{children:Object.keys(nr).map((function(e,s){return Ne[n][a]&&Ne[n][a][e]&&Object.keys(Ne[n][a][e]).map((function(s,r){return Object(E.jsx)(rr,{method:e,service:t,api:s,version:null,name:a,apiAbility:Ne[n][a][e][s]},r)}))}))})}function ir(e,t,a,n){if(e[t][a].hasOwnProperty("apis"))for(var s in n[t].apis||(n[t].apis={}),e[t][a].apis)e[t][a].apis.hasOwnProperty(s)&&(n[t].apis[s]=e[t][a].apis[s],n[t].apis[s].group=e[t][a].group);if(e[t][a].hasOwnProperty("apisRegExp"))for(var r in n[t].apisRegExp||(n[t].apisRegExp={}),e[t][a].apisRegExp)e[t][a].apisRegExp.hasOwnProperty(r)&&(n[t].apisRegExp[r]=e[t][a].apisRegExp[r],n[t].apisRegExp[r].group=e[t][a].apisRegExp.group)}var or=function(e,t){var a=JSON.parse(JSON.stringify(e)),n=JSON.parse(JSON.stringify(t)),s={};a.hasOwnProperty("access")&&(s.access=a.access);var r=0;for(var c in n)if("version"!==c&&a[c]&&n.hasOwnProperty(c)){s[c]||(s[c]={});for(var i=0;i<n[c].length;i++){r++;for(var o=n[c][i],l=0;l<a[c].length;l++)if(a[c][l].group===o){ir(a,c,l,s);break}}}if(0===r)for(var d in a)if(a.hasOwnProperty(d)&&"access"!==d&&"apisPermission"!==d&&"packagesPermission"!==d){s[d]={};for(var j=0;j<a[d].length;j++)ir(a,d,j,s)}return a.hasOwnProperty("apisPermission")?s.apisPermission=a.apisPermission:a.hasOwnProperty("packagesPermission")&&r>0&&(s.apisPermission="restricted"),s};function lr(e){var t=e.service,a=e.scope,s=e.name,r=e.abilityPath,c=Object(n.useState)(null),i=Object(y.a)(c,2),o=i[0],l=i[1];return Object(n.useEffect)((function(){var e=!0;if(t&&a){for(var n={},s=0;s<t.length;s++)if(t[s].version){var r=t[s].version;a[r]&&(n[r]=or(a[r],t[s]))}e&&l(n)}return function(){return e=!1}}),[t,a]),o&&Object(E.jsx)(cr,{service:o,name:s,abilityPath:r})}var dr=a(164);function jr(e){var t=e.modalOpt,a=Object(Ee.a)(["common","soajs"]).t;return t.opts&&Object(E.jsxs)(Ra.a,{className:"mb-3",defaultActiveKey:"main",id:"abilities",children:[Object(E.jsx)(Ga.a,{eventKey:"main",title:a("soajs:titles.MainAbilities"),children:t.opts.acl&&Object.keys(t.opts.acl).map((function(e,a){return e===ve.consoleEnvironment&&Object(E.jsx)("div",{children:Object.keys(Ne.abilities).map((function(a,n){return Object(E.jsx)("div",{children:Object(E.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(E.jsxs)(ot.a,{children:[Object(E.jsx)(ot.a.Header,{className:"p-1",children:Object(E.jsx)(Ot.a.Toggle,{as:L.a,variant:"link",eventKey:"0",children:dr[a]})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:"0",children:Object(E.jsx)(ot.a.Body,{children:!t.opts.acl[e][a]||t.opts.aclTypeByEnv&&t.opts.aclTypeByEnv[e]&&"granular"===t.opts.aclTypeByEnv[e]?Object(E.jsx)(cr,{service:t.opts.acl[e][a],name:a,abilityPath:"abilities"}):Object(E.jsx)(lr,{service:t.opts.acl[e][a],scope:t.scope.acl[e][a],name:a,abilityPath:"abilities"})})})]})})},n)}))},a)}))}),Object(E.jsx)(Ga.a,{eventKey:"default",title:a("soajs:titles.DefaultAbilities"),children:t.opts.acl&&Object.keys(t.opts.acl).map((function(e,a){return e===ve.consoleEnvironment&&Object(E.jsx)("div",{children:Object.keys(Ne.default).map((function(a,n){return Object(E.jsx)("div",{children:Object(E.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(E.jsxs)(ot.a,{children:[Object(E.jsx)(ot.a.Header,{className:"p-1",children:Object(E.jsx)(Ot.a.Toggle,{as:L.a,variant:"link",eventKey:"0",children:dr[a]})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:"0",children:Object(E.jsx)(ot.a.Body,{children:!t.opts.acl[e][a]||t.opts.aclTypeByEnv&&t.opts.aclTypeByEnv[e]&&"granular"===t.opts.aclTypeByEnv[e]?Object(E.jsx)(cr,{service:t.opts.acl[e][a],name:a,abilityPath:"default"}):Object(E.jsx)(lr,{service:t.opts.acl[e][a],scope:t.scope.acl[e][a],name:a,abilityPath:"default"})})})]})})},n)}))},a)}))})]})}var ur={get:"primary",post:"success",delete:"danger",put:"warning",patch:"info",head:"secondary",other:"light"};function mr(e){return e&&ur[e]?ur[e]:ur.other}function pr(e){return e.hasOwnProperty("access")?e.access?Object(E.jsxs)("span",{className:"font-weight-bold",children:[Object(E.jsx)(M.c,{className:"mb-1"})," Private"]}):Object(E.jsxs)("span",{className:"font-weight-bold",children:[Object(E.jsx)(M.d,{className:"mb-1"})," Public"]}):"Inherit from service"}function br(e){var t=e.service,a=Object(Ee.a)(["common","soajs"]).t;return Object(E.jsx)(Ra.a,{defaultActiveKey:"1",style:{borderBottom:"1px solid #dee2e6"},children:Object.keys(t).map((function(e,n){return Object(E.jsxs)(Ga.a,{eventKey:n+1,title:a("soajs:fields.Version")+" "+e,children:[Object(E.jsxs)(Gn.a,{variant:"flush",className:"small mt-3",children:[Object(E.jsx)(Dn.a,{children:(s=t[e].access,Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"font-weight-bold mr-3",children:"Service's APIs default access is:"}),s?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("span",{className:"font-weight-bold text-success",children:[Object(E.jsx)(M.c,{className:"mb-1"})," Private"]})," - ",Object(E.jsx)("span",{className:"font-italic",children:"requires logged in user"})]}):Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("span",{className:"font-weight-bold text-info",children:[Object(E.jsx)(M.d,{className:"mb-1"})," Public"]})})]}))}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsx)("span",{className:"font-weight-bold mr-3",children:"Access is restricted to the selected APIs:"})," ","restricted"===t[e].apisPermission?"Yes - only the selected APIs are accessible":"No - all APIs are accessible"]})]}),Object(E.jsx)("hr",{}),Object.keys(ur).map((function(a,n){return t[e][a]&&t[e][a].apis&&Object.keys(t[e][a].apis).map((function(n,s){return Object(E.jsx)(ct.a,{variant:mr(a),className:"m-1 p-2",children:Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{className:"small",children:[Object(E.jsx)(L.a,{size:"sm",className:"mr-2 pl-1 pr-1 pt-0 pb-0 float-left",variant:mr(a),children:a.toUpperCase()}),Object(E.jsx)("span",{className:"float-left mt-1",children:n})]}),Object(E.jsx)(dt.a,{className:"small",children:Object(E.jsx)("span",{className:"small",children:pr(t[e][a].apis[n])})}),Object(E.jsx)(dt.a,{className:"small",children:Object(E.jsx)("div",{className:"font-italic small",children:t[e][a].apis[n].group})})]})},s)}))}))]},n+1);var s}))})}function hr(e){var t=e.service,a=e.scope,s=Object(n.useState)(null),r=Object(y.a)(s,2),c=r[0],i=r[1];return Object(n.useEffect)((function(){var e=!0;if(t&&a){for(var n={},s=0;s<t.length;s++)if(t[s].version){var r=t[s].version;a[r]&&(n[r]=or(a[r],t[s]))}e&&i(n)}return function(){return e=!1}}),[t,a]),c&&Object(E.jsx)(br,{service:c})}var Or=St.getService();function xr(e){var t=e.modalOpt,a=Object(Ee.a)(["common","soajs"]).t,s=Object(n.useState)([]),r=Object(y.a)(s,2),c=r[0],i=r[1],o=Object(n.useState)(null),l=Object(y.a)(o,2),d=l[0],j=l[1];return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a,n,s,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Or.getEnvironments();case 3:if((a=t.sent)&&e){for(n=[],s=0;s<a.length;s++)n.push(a[s].code.toLowerCase());i(n),r=ve.consoleEnvironment,n.includes(r)||(r=n[0]||null),j(r)}t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ie.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[t]),t.opts&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ct.a,{variant:"info",children:Object(E.jsxs)(_.a.Control,{as:"select",id:"env",value:d||"",onChange:function(e){j(e.target.value)},children:[Object(E.jsxs)("option",{value:"",children:["--- ",a("soajs:titles.selectEnvironment")]}),c.map((function(e,t){return Object(E.jsxs)("option",{value:e,children:[a("soajs:titles.environment"),": ",e]},t)}))]})}),Object(E.jsx)("hr",{}),d&&t.opts.acl&&t.opts.acl[d]&&Object(E.jsx)(Ot.a,{defaultActiveKey:1,children:Object.keys(t.opts.acl[d]).map((function(e,a){return Object(E.jsxs)(ot.a,{children:[Object(E.jsx)(ot.a.Header,{className:"pt-1 pb-1 pr-2 pl-2",children:Object(E.jsx)(Ot.a.Toggle,{className:"p-0",as:L.a,variant:"link",eventKey:a+1,children:e})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:a+1,children:Object(E.jsx)(ot.a.Body,{children:t.opts.aclTypeByEnv&&t.opts.aclTypeByEnv[d]&&"granular"===t.opts.aclTypeByEnv[d]?Object(E.jsx)(br,{service:t.opts.acl[d][e]}):Object(E.jsx)(hr,{service:t.opts.acl[d][e],scope:t.scope.acl[d][e]})})})]},a+1)}))})]})}function fr(e){var t=e.modalOpt,a=e.setModalOpt,s=Object(Ee.a)(["common","soajs"]).t,r=Object(n.useState)({viewMode:"ability"}),c=Object(y.a)(r,2),i=c[0],o=c[1],l=function(){return a({show:!1,opts:null,scope:null})};return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.opts&&t.opts.turnOffAbilityView&&o({viewMode:"api"}),function(){return e=!1}}),[t]),t.opts&&Object(E.jsxs)(xa.a,{show:t.show,onHide:l,animation:!1,size:"xl",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(E.jsx)(xa.a.Title,{children:s("soajs:titles.packageInfo")})}),Object(E.jsxs)(xa.a.Body,{children:[Object(E.jsxs)(Gn.a,{variant:"flush",children:[Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[s("soajs:fields.Code"),":"]})," ",t.opts.code]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[s("soajs:fields.Name"),":"]})," ",t.opts.name]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[s("soajs:fields.Description"),":"]})," ",t.opts.description]})]}),Object(E.jsx)("hr",{}),!t.opts.turnOffAbilityView&&Object(E.jsx)(ct.a,{variant:"dark",children:Object(E.jsxs)(_.a.Control,{as:"select",id:"viewMode",defaultValue:i.viewMode,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),o(Object(N.a)(Object(N.a)({},i),{},Object(Ve.a)({},e.target.id,t)))},children:[Object(E.jsx)("option",{value:"ability",children:"Basic Abilities view"}),Object(E.jsx)("option",{value:"api",children:"Advanced API view"})]})}),"ability"===i.viewMode&&Object(E.jsx)(jr,{modalOpt:t}),"api"===i.viewMode&&Object(E.jsx)(xr,{modalOpt:t})]}),Object(E.jsx)(xa.a.Footer,{className:"bg-light",children:Object(E.jsx)(L.a,{variant:"info",onClick:l,children:s("soajs:buttons.Close")})})]})}var gr=At.getService();function vr(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=Object(Ee.a)(["common","soajs"]).t,c=function(){return a({show:!1,opts:null})},i=Object(n.useState)({code:"",name:"",description:"",_TTL:"168"}),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){d(Object(N.a)(Object(N.a)({},l),{},Object(Ve.a)({},e.target.id,e.target.value)))}function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gr.addConsolepackage({id:t.opts._id,code:l.code,name:l.name,description:l.description,_TTL:l._TTL});case 3:ie.success(r("soajs:messages.addPackage")),s(),c(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(E.jsxs)(xa.a,{show:t.show,onHide:c,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:r("soajs:titles.packageAdd")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsx)(_.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:2,children:r("soajs:fields.Code")}),Object(E.jsx)(dt.a,{sm:10,children:Object(E.jsx)(_.a.Control,{placeholder:"5 characters code only",id:"code",size:"sm",autoFocus:!0,value:l.code,onChange:j})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:2,children:r("soajs:fields.Name")}),Object(E.jsx)(dt.a,{sm:10,children:Object(E.jsx)(_.a.Control,{id:"name",size:"sm",value:l.name,onChange:j})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:2,children:r("soajs:fields.Description")}),Object(E.jsx)(dt.a,{sm:10,children:Object(E.jsx)(_.a.Control,{id:"description",as:"textarea",rows:3,size:"sm",value:l.description,onChange:j})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:2,children:r("soajs:fields.TTL")}),Object(E.jsx)(dt.a,{sm:10,children:Object(E.jsxs)(_.a.Control,{as:"select",id:"_TTL",value:l._TTL,onChange:j,children:[Object(E.jsx)("option",{value:"12",children:"12 hours"}),Object(E.jsx)("option",{value:"24",children:"24 hours"}),Object(E.jsx)("option",{value:"48",children:"2 days"}),Object(E.jsx)("option",{value:"72",children:"3 days"}),Object(E.jsx)("option",{value:"96",children:"4 days"}),Object(E.jsx)("option",{value:"120",children:"5 days"}),Object(E.jsx)("option",{value:"144",children:"6 days"}),Object(E.jsx)("option",{value:"168",children:"7 days"})]})})]})]})})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:c,children:r("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(5===l.code.length&&l.name.length>0&&l.description.length>0),children:r("soajs:buttons.Add")})]})]})}var yr=At.getService();function wr(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=Object(Ee.a)(["common","soajs"]).t,c=function(){return a({show:!1,opts:null})},i=Object(n.useState)({code:"",name:"",description:"",_TTL:""}),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){d(Object(N.a)(Object(N.a)({},l),{},Object(Ve.a)({},e.target.id,e.target.value)))}function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yr.editConsolepackage({id:t.opts._id,code:l.code,name:l.name,description:l.description,_TTL:l._TTL});case 3:ie.success(r("soajs:messages.editPackage")),s(),c(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t.opts&&d({code:t.opts.code,name:t.opts.name,description:t.opts.description,_TTL:""+t.opts._TTL/36e5}),function(){return e=!1}}),[t]),Object(E.jsxs)(xa.a,{show:t.show,onHide:c,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:r("soajs:titles.packageEdit")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsx)(_.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:2,children:r("soajs:fields.Code")}),Object(E.jsx)(dt.a,{sm:10,children:Object(E.jsx)(_.a.Control,{id:"code",size:"sm",autoFocus:!0,disabled:!0,value:l.code,onChange:j})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:2,children:r("soajs:fields.Name")}),Object(E.jsx)(dt.a,{sm:10,children:Object(E.jsx)(_.a.Control,{id:"name",size:"sm",value:l.name,onChange:j})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:2,children:r("soajs:fields.Description")}),Object(E.jsx)(dt.a,{sm:10,children:Object(E.jsx)(_.a.Control,{id:"description",as:"textarea",rows:3,size:"sm",value:l.description,onChange:j})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:2,children:r("soajs:fields.TTL")}),Object(E.jsx)(dt.a,{sm:10,children:Object(E.jsxs)(_.a.Control,{as:"select",id:"_TTL",value:l._TTL,onChange:j,children:[Object(E.jsx)("option",{value:"12",children:"12 hours"}),Object(E.jsx)("option",{value:"24",children:"24 hours"}),Object(E.jsx)("option",{value:"48",children:"2 days"}),Object(E.jsx)("option",{value:"72",children:"3 days"}),Object(E.jsx)("option",{value:"96",children:"4 days"}),Object(E.jsx)("option",{value:"120",children:"5 days"}),Object(E.jsx)("option",{value:"144",children:"6 days"}),Object(E.jsx)("option",{value:"168",children:"7 days"})]})})]})]})})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:c,children:r("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(l.code.length>0&&l.name.length>0&&l.description.length>0),children:r("soajs:buttons.Update")})]})]})}var kr={get:"primary",post:"success",delete:"danger",put:"warning",patch:"info",head:"secondary",other:"light"};function Cr(e){return e&&kr[e]?kr[e]:kr.other}function Nr(e){var t=e.method,a=e.service,n=e.api,s=e.version,r=e.name,c=e.apiAbility,i=e.index,o=e.addAbility,l=e.removeAbility,d=e.env,j=e.abilityPath,u=!1;return a&&"restricted"===a[s].apisPermission?a&&a[s]&&a[s][t]&&a[s][t].apis&&a[s][t].apis[n]&&(u=!0):a&&(u=!0),c&&Object(E.jsx)("div",{children:u?Object(E.jsx)(ct.a,{variant:Cr(t),children:Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{className:"font-weight-bold small",children:[Object(E.jsx)(_.a.Check,{type:"switch",id:r+"/"+t+"/"+i+"_"+j,checked:u,label:c.M,onChange:function(){return l(r,t,s,n,d)}}),c.isPublic&&Object(E.jsxs)("span",{className:"font-weight-bold text-info small",children:[Object(E.jsx)(M.d,{className:"mb-1"})," Public"]})]}),Object(E.jsx)(dt.a,{className:"small",lg:2,children:Object(E.jsx)("span",{className:"font-weight-bold small",children:"Available"})}),Object(E.jsxs)(dt.a,{children:[Object(E.jsx)(L.a,{size:"sm",className:"mr-2 float-left p-1",variant:Cr(t),children:Object(E.jsx)("small",{children:t.toUpperCase()})}),Object(E.jsxs)("span",{className:"float-left small mt-1",children:[Object(E.jsx)(it.a,{variant:"info",className:"mr-1",children:r}),n]})]})]})}):Object(E.jsx)(ct.a,{variant:"light",className:"border-dark",children:Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{className:"font-weight-bold small",children:[Object(E.jsx)(_.a.Check,{type:"switch",id:r+"/"+t+"/"+i+"_"+j,checked:u,label:c.M,onChange:function(){return o(r,t,s,n,d,c.isPublic)}}),c.isPublic&&Object(E.jsxs)("span",{className:"font-weight-bold text-info small",children:[Object(E.jsx)(M.d,{className:"mb-1"})," Public"]})]}),Object(E.jsx)(dt.a,{className:"small",lg:2,children:Object(E.jsx)("span",{className:"font-weight-bold small",children:"Not available"})}),Object(E.jsxs)(dt.a,{children:[Object(E.jsx)(L.a,{size:"sm",className:"mr-2 float-left p-1",variant:Cr(t),children:Object(E.jsx)("small",{children:t.toUpperCase()})}),Object(E.jsxs)("span",{className:"float-left small mt-1",children:[Object(E.jsx)(it.a,{variant:"info",className:"mr-1",children:r}),n]})]})]})})})}function Sr(e){var t=e.service,a=e.name,n=e.addAbility,s=e.removeAbility,r=e.env,c=e.abilityPath;return t?Object.keys(t).map((function(e,i){return Object(E.jsx)("div",{children:Ne.versions[a]===e?Object(E.jsx)("div",{children:Object.keys(kr).map((function(i,o){return Ne[c][a]&&Ne[c][a][i]&&Object.keys(Ne[c][a][i]).map((function(o,l){return Object(E.jsx)(Nr,{method:i,service:t,api:o,version:e,name:a,env:r,apiAbility:Ne[c][a][i][o],index:l,addAbility:n,removeAbility:s,abilityPath:c},l)}))}))}):Object(E.jsxs)("span",{children:[" wrong version for ",a," @ ",e]})},i)})):Object(E.jsx)("div",{children:Object.keys(kr).map((function(e,i){return Ne[c][a]&&Ne[c][a][e]&&Object.keys(Ne[c][a][e]).map((function(i,o){return Object(E.jsx)(Nr,{method:e,service:t,api:i,env:r,version:Ne.versions[a],name:a,apiAbility:Ne[c][a][e][i],index:o,addAbility:n,removeAbility:s,abilityPath:c},o)}))}))})}var Pr=At.getService();function Ar(e,t){return Ne.abilities[e]||Ne.default[e]?(t.apisPermission="restricted",Ne.abilities[e]&&Object.keys(Ne.abilities[e]).map((function(a,n){return t[a]={apis:{}},Object.keys(Ne.abilities[e][a]).map((function(e,n){return t[a].apis[e]={access:!0},!0})),!0})),Ne.default[e]&&Object.keys(Ne.default[e]).map((function(a,n){return t[a]={apis:{}},Object.keys(Ne.default[e][a]).map((function(n,s){return Ne.default[e][a][n].isPublic?t[a].apis[n]={access:!1}:t[a].apis[n]={access:!0},!0})),!0})),t):t}function Tr(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=Object(Ee.a)(["common","soajs"]).t,c=Object(n.useState)(!1),i=Object(y.a)(c,2),o=i[0],l=i[1],d=function(){l(!1),a({show:!1,opts:null,scope:null})};function j(e,n,s,r,c){t.opts.acl[c][e]&&t.opts.acl[c][e][s]&&t.opts.acl[c][e][s][n]&&t.opts.acl[c][e][s][n].apis&&t.opts.acl[c][e][s][n].apis[r]&&(delete t.opts.acl[c][e][s][n].apis[r],a(Object(N.a)({},t)))}function u(e,n,s,r,c,i){t.opts.acl[c][e]||(t.opts.acl[c][e]={}),t.opts.acl[c][e][s]||(t.opts.acl[c][e][s]={}),t.opts.acl[c][e][s].access=!0,t.opts.acl[c][e][s].apisPermission="restricted",t.opts.acl[c][e][s][n]||(t.opts.acl[c][e][s][n]={apis:{}}),t.opts.acl[c][e][s][n].apis[r]={access:!i},a(Object(N.a)({},t))}function m(){return(m=Object(v.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={id:t.opts._id,code:t.opts.code,type:"granular",env:ve.consoleEnvironment,acl:t.opts.acl[ve.consoleEnvironment]},e.next=4,Pr.editConsolePackageAclEnv(a);case 4:ie.success(r("soajs:messages.editPackage")),s(),d(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){t.opts&&t.opts.acl&&l(!0)}),[t,a]),t.opts&&o&&Object(E.jsxs)(xa.a,{show:t.show,onHide:d,animation:!1,size:"xl",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(E.jsx)(xa.a.Title,{children:r("soajs:titles.packageInfo")})}),Object(E.jsxs)(xa.a.Body,{children:[Object(E.jsxs)(Gn.a,{variant:"flush",children:[Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[r("soajs:fields.Code"),":"]})," ",t.opts.code]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[r("soajs:fields.Name"),":"]})," ",t.opts.name]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[r("soajs:fields.Description"),":"]})," ",t.opts.description]})]}),Object(E.jsx)("hr",{}),Object(E.jsxs)(Ra.a,{className:"mb-3",defaultActiveKey:"main",id:"abilities",children:[Object(E.jsx)(Ga.a,{eventKey:"main",title:r("soajs:titles.MainAbilities"),children:t.opts.acl&&Object.keys(t.opts.acl).map((function(e,a){return e===ve.consoleEnvironment&&Object(E.jsx)("div",{children:Object.keys(Ne.abilities).map((function(a,n){return Object(E.jsx)("div",{children:Object(E.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(E.jsxs)(ot.a,{children:[Object(E.jsx)(ot.a.Header,{className:"p-1",children:Object(E.jsx)(Ot.a.Toggle,{as:L.a,variant:"link",eventKey:"0",children:dr[a]})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:"0",children:Object(E.jsx)(ot.a.Body,{children:Object(E.jsx)(Sr,{service:t.opts.acl[e][a],name:a,env:e,addAbility:u,removeAbility:j,abilityPath:"abilities"})})})]})})},n)}))},a)}))}),Object(E.jsx)(Ga.a,{eventKey:"default",title:r("soajs:titles.DefaultAbilities"),children:t.opts.acl&&Object.keys(t.opts.acl).map((function(e,a){return e===ve.consoleEnvironment&&Object(E.jsx)("div",{children:Object.keys(Ne.default).map((function(a,n){return Object(E.jsx)("div",{children:Object(E.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(E.jsxs)(ot.a,{children:[Object(E.jsx)(ot.a.Header,{className:"p-1",children:Object(E.jsx)(Ot.a.Toggle,{as:L.a,variant:"link",eventKey:"0",children:dr[a]})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:"0",children:Object(E.jsx)(ot.a.Body,{children:Object(E.jsx)(Sr,{service:t.opts.acl[e][a],name:a,env:e,addAbility:u,removeAbility:j,abilityPath:"default"})})})]})})},n)}))},a)}))})]})]}),Object(E.jsxs)(xa.a.Footer,{className:"bg-light",children:[Object(E.jsx)(L.a,{variant:"warning",onClick:d,children:r("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return m.apply(this,arguments)},disabled:!1,children:r("soajs:buttons.Update")})]})]})}var Er=a(486);function Ir(e){var t=Object.assign({},e),a=Object(Ee.a)(["common","soajs"]).t;return Object(E.jsx)(Va.a,{placement:"top",overlay:Object(E.jsx)(qa.a,{id:"tooltip-top}",children:a("soajs:buttons.Acl")}),children:Object(E.jsx)(L.a,Object(N.a)(Object(N.a)({size:"sm",variant:"dark"},t),{},{children:Object(E.jsx)(Er.a,{})}))})}var Ur=At.getService();function Lr(e,t){return Mr.apply(this,arguments)}function Mr(){return(Mr=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ur.getMyConsoleProduct();case 3:n=e.sent,a&&t(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function zr(){var e=T().ability,t=Object(Ee.a)(["common","soajs","organization"]).t,a=Object(n.useState)(null),s=Object(y.a)(a,2),r=s[0],c=s[1],i=Object(n.useState)({show:!1,opts:null,scope:null}),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({show:!1,opts:null}),u=Object(y.a)(j,2),m=u[0],p=u[1],b=Object(n.useState)({show:!1,opts:null}),h=Object(y.a)(b,2),O=h[0],x=h[1],f=Object(n.useState)({show:!1,opts:null,scope:null}),w=Object(y.a)(f,2),k=w[0],C=w[1],N=Object(n.useState)({show:!1,opts:null}),S=Object(y.a)(N,2),P=S[0],A=S[1];function I(){return U.apply(this,arguments)}function U(){return(U=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lr(c,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return Lr(c,e),function(){return e=!1}}),[]),r&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(vr,{modalOpt:P,setModalOpt:A,handleAction:I}),Object(E.jsx)(wr,{modalOpt:O,setModalOpt:x,handleAction:I}),Object(E.jsx)(ar,{modalOpt:m,setModalOpt:p,handleAction:I}),Object(E.jsx)(fr,{modalOpt:l,setModalOpt:d}),Object(E.jsx)(Tr,{modalOpt:k,setModalOpt:C,handleAction:I}),Object(E.jsxs)(me.a,{className:"p-4 mb-3",children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[r.code,":"]})," ",r.name,Object(E.jsx)("hr",{}),r.description]}),Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{children:[Object(E.jsx)("h5",{className:"float-left",children:t("soajs:titles.packages")}),e.can("console_package","add")&&Object(E.jsxs)(L.a,{variant:"success",className:"float-right",size:"sm",onClick:function(){return e={_id:r._id},A({show:!0,opts:e});var e},children:[Object(E.jsx)(Qa.a,{})," ",t("soajs:buttons.Add")]})]}),Object(E.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(E.jsx)("thead",{className:"text-light bg-dark",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:t("soajs:buttons.Actions")}),Object(E.jsx)("th",{children:t("soajs:fields.Code")}),Object(E.jsx)("th",{children:t("soajs:fields.Name")}),Object(E.jsx)("th",{children:t("soajs:fields.Description")})]})}),Object(E.jsx)("tbody",{children:r.packages.map((function(t,a){return Object(E.jsxs)("tr",{className:"small",children:[Object(E.jsxs)("td",{nowrap:"true",children:[Object(E.jsx)(En,{className:"mr-1",onClick:function(){t.acl||(t.acl={}),t.acl[ve.consoleEnvironment]||(t.acl[ve.consoleEnvironment]={}),function(e,t){d({show:!0,opts:e,scope:t})}(t,r.scope)}}),e.can("console_package","delete")&&Object(E.jsx)(Xa,{className:"mr-1",onClick:function(){t._id=r._id,p({show:!0,opts:t})}}),e.can("console_package","edit")&&Object(E.jsx)(rn,{className:"mr-1",onClick:function(){t._id=r._id,x({show:!0,opts:t})}}),e.can("console_package","acl")&&Object(E.jsx)(Ir,{className:"mr-1",onClick:function(){t._id=r._id;var e,a,n=function(e,t){var a=G.a.merge({},e);return Object.keys(a.acl).map((function(e,n){return e===ve.consoleEnvironment&&(a.aclTypeByEnv&&a.aclTypeByEnv[e]&&"granular"===a.aclTypeByEnv[e]?Object.keys(a.acl[e]).map((function(t,n){return Object.keys(a.acl[e][t]).map((function(n,s){return a.acl[e][t][n].apisPermission&&"restricted"===a.acl[e][t][n].apisPermission||(a.acl[e][t][n]=Ar(t,a.acl[e][t][n])),!0})),!0})):(a.aclTypeByEnv||(a.aclTypeByEnv={}),a.aclTypeByEnv[e]="granular",Object.keys(a.acl[e]).map((function(n,s){for(var r=a.acl[e][n],c={},i=0;i<r.length;i++)if(r[i].version){var o=r[i].version;t.acl[e][n][o]&&(c[o]=or(t.acl[e][n][o],r[i])),c[o].apisPermission&&"restricted"===c[o].apisPermission||(c[o]=Ar(n,c[o]))}return a.acl[e][n]=c,!0})))),!0})),a}(t,r.scope);n.acl||(n.acl={}),n.acl[ve.consoleEnvironment]||(n.acl[ve.consoleEnvironment]={}),e=n,a=r.scope,C({show:!0,opts:e,scope:a})}})]}),Object(E.jsx)("td",{children:t.code}),Object(E.jsx)("td",{nowrap:"true",children:t.name}),Object(E.jsx)("td",{children:t.description})]},a)}))})]})]})}var _r=At.getService();function Rr(){return(Rr=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_r.getMyConsoleTenant();case 3:n=e.sent,a&&n&&n.applications&&n.applications[0]&&n.applications[0].keys&&n.applications[0].keys[0]&&t({key:n.applications[0].keys[0].key,appId:n.applications[0].appId,id:n._id,envCode:ve.consoleEnvironment,config:n.applications[0].keys[0].config[ve.consoleEnvironment]||{}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Gr(){var e=T().ability,t=Object(Ee.a)(["common","soajs"]).t,a=Object(n.useState)({key:null,appId:null,id:null,envCode:null,config:{}}),s=Object(y.a)(a,2),r=s[0],c=s[1];function i(){return(i=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_r.updateTenantConsoleApplicationKey(r);case 3:ie.success(t("soajs:messages.consoleConfigurationUpdate")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),ie.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return function(e,t){Rr.apply(this,arguments)}(c,e),function(){return e=!1}}),[]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h5",{children:t("soajs:titles.consoleConfiguration")}),Object(E.jsx)("small",{className:"text-muted",children:"Make sure you know what your are doing or ask SOAJS Team for support!"}),Object(E.jsx)("div",{className:"mt-3",style:{height:"700px"},children:Object(E.jsx)(ue,{mode:"code",modes:["code","tree"],json:r.config||{},onChange:function(e){r.config=e}})}),Object(E.jsx)(L.a,{className:"float-right",variant:"success",onClick:function(){return i.apply(this,arguments)},disabled:!e.can("tenant_console_application_key","configure"),children:t("soajs:buttons.Update")}),Object(E.jsx)("span",{className:"clearfix"})]})}function Dr(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(ct.a,{variant:"info",className:"mt-4 mb-4",children:[Object(E.jsx)("b",{children:"coming soon"}),Object(E.jsx)("hr",{}),"To turn on IaC integration to SOAJS API"]})})}function Fr(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(ot.a,{children:[Object(E.jsx)(ot.a.Header,{children:"This Section will provide you some of the information you need for Continuous Delivery."}),Object(E.jsxs)(ot.a.Body,{children:["Here is some of the Environment Variables you would need :",Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)("b",{children:"SOAJS_URL:"})," The url to the your console api.",Object(E.jsx)("br",{}),Object(E.jsx)("b",{children:"SOAJS_key:"})," The external key to your console tenant application.",Object(E.jsx)("br",{}),Object(E.jsx)("b",{children:"SOAJS_cd_auth:"})," A valid continuous delivery token.",Object(E.jsx)("br",{}),Object(E.jsx)("hr",{}),Object(E.jsx)("a",{href:"https://soajsorg.atlassian.net/wiki/x/ZYBBa",children:" Click here "}),"to Learn more about Continuous Delivery"]})]})})}var Br=Et.getService();function Kr(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=Object(Ee.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})},i=Object(n.useState)({label:""}),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(){return(j=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Br.addToken(l.label);case 3:ie.success(r("soajs:messages.addToken")),s(),c(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&d({label:""}),function(){return e=!1}}),[t]),Object(E.jsxs)(xa.a,{show:t.show,onHide:c,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:r("soajs:titles.tokenAdd")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsx)(_.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Label")}),Object(E.jsx)(_.a.Control,{id:"label",size:"sm",value:l.label,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),d(Object(N.a)(Object(N.a)({},l),{},Object(Ve.a)({},e.target.id,t)))}})]})})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:c,children:r("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return j.apply(this,arguments)},disabled:!function(){var e=!0;return e=e&&l.label.length>0}(),children:r("soajs:buttons.Add")})]})]})}var Hr=Et.getService();function Jr(e,t){return Wr.apply(this,arguments)}function Wr(){return(Wr=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hr.getCDTokens();case 3:n=e.sent,a&&n&&t(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Vr(){var e=Object(Ee.a)(["common","soajs"]).t,t=T().ability,a=Object(n.useState)([]),s=Object(y.a)(a,2),r=s[0],c=s[1],i=Object(n.useState)({show:!1}),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(){return u.apply(this,arguments)}function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jr(c,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Hr.deleteCDToken(a.token);case 3:return ie.success(e("soajs:messages.deleteToken")),t.next=6,j();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),ie.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function p(e,t){return b.apply(this,arguments)}function b(){return(b=Object(v.a)(g.a.mark((function t(a,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Hr.updateCDToken(a.token,n);case 3:return ie.success(e("soajs:messages.updateToken")),t.next=6,j();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),ie.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return Jr(c,e).catch(),function(){return e=!1}}),[]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Kr,{modalOpt:l,setModalOpt:d,handleAction:j}),Object(E.jsxs)("div",{children:[Object(E.jsx)("h4",{className:"float-left",children:e("soajs:titles.CDToken")}),t.can("registry_custom","add")&&Object(E.jsxs)(L.a,{variant:"success",className:"float-right",size:"sm",onClick:function(){d({show:!0})},children:[Object(E.jsx)(Qa.a,{})," ",e("soajs:buttons.Add")]}),Object(E.jsx)("span",{className:"clearfix"})]}),Object(E.jsx)("hr",{}),r.map((function(e,a){return Object(E.jsxs)(ct.a,{variant:"light",className:"mt-2 mb-2",style:{borderColor:"#c6c8ca"},children:[t.can("infra_cd_token","delete")&&Object(E.jsx)(Xa,{className:"float-left mr-2",onClick:function(){(function(e){return m.apply(this,arguments)})(e).catch()}}),"active"===e.status&&Object(E.jsx)(L.a,{variant:"warning",className:"float-left mr-2",size:"sm",disabled:!t.can("infra_cd_token","update"),onClick:function(){p(e,"inactive").catch()},children:"Deactivate"}),"inactive"===e.status&&Object(E.jsx)(L.a,{variant:"success",className:"float-left mr-2",size:"sm",disabled:!t.can("infra_cd_token","update"),onClick:function(){p(e,"active").catch()},children:"Activate"}),e.label&&Object(E.jsx)(it.a,{variant:"dark",className:" float-right mt-2 ml-2",children:e.label}),Object(E.jsx)("small",{style:{wordBreak:"break-all"},children:Object(E.jsx)("span",{className:"small float-left mt-2",children:e.token})}),Object(E.jsx)("span",{className:"clearfix"})]},a)}))]})}function qr(e){var t="";if(e){var a=new Date(e);t=t+a.getDate()+"/"+(a.getMonth()+1)+"/"+a.getFullYear()+" - "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()}return t}function Yr(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(E.jsx)("div",{className:"float-right",type:"button",onClick:s,children:t})}var Xr=St.getService();function Qr(e,t,a,n){return Zr.apply(this,arguments)}function Zr(){return(Zr=Object(v.a)(g.a.mark((function e(t,a,n,s){var r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={limit:12,skip:12*(n-1)},e.next=4,Xr.getLedger(r);case 4:c=e.sent,s&&c&&c.items&&(t(c.items),a({totalItems:c.count,maxSize:10,itemsPerPage:c.limit})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function $r(){var e=Object(n.useState)([]),t=Object(y.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(0),c=Object(y.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)(1),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),p=Object(y.a)(m,2),b=p[0],h=p[1],O=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),x=Object(y.a)(O,2),f=x[0],w=x[1];function k(e,t){var a=e;if("string"===typeof a)try{a=JSON.parse(a)}catch(n){ie.error(n.message)}!function(e,t){w({show:!0,json:e,mode:"view",title:t||""})}(a,t)}function C(){return(C=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qr(s,h,t||j,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return Qr(s,h,1,e),function(){return e=!1}}),[]),a.length>0&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(fa,{modalOpt:f,setModalOpt:w}),Object(E.jsx)(Ot.a,{activeKey:i,children:a.map((function(e,t){return Object(E.jsxs)(ct.a,{variant:"light",className:"mt-2 mb-2",style:{borderColor:"#c6c8ca"},children:[Object(E.jsx)(lt.a,{children:Object(E.jsxs)(dt.a,{children:[Object(E.jsxs)("span",{className:"float-left",children:[Object(E.jsxs)("span",{className:"font-weight-bold mr-5",children:[e.type," > ",e.section]}),"[",Object(E.jsxs)("span",{className:"small text-info mr-2",children:[e.env,":"]}),Object(E.jsx)("span",{className:"small",children:qr(e.time)}),"]"]}),Object(E.jsx)(Yr,{eventKey:t+1,handleClick:function(){o(i===t+1?null:t+1)},children:i===t+1?Object(E.jsx)(gt.b,{}):Object(E.jsx)(gt.a,{})}),Object(E.jsxs)("span",{className:"float-right mr-2",children:[e.action,": ",e.status]}),Object(E.jsx)("span",{className:"clearfix"})]})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:t+1,children:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("hr",{className:"mt-2 mb-1"}),Object(E.jsx)(lt.a,{className:"mt-2 small",children:Object(E.jsxs)(dt.a,{children:[Object(E.jsx)("span",{className:"float-left",children:e.locator.join("- ")}),Object(E.jsx)(L.a,{className:"float-right",variant:"link",size:"sm",style:{borderColor:"#c6c8ca"},onClick:function(){k(e.input)},children:"request"}),Object(E.jsx)(L.a,{className:"float-right mr-2",variant:"link",size:"sm",style:{borderColor:"#c6c8ca"},onClick:function(){k(e.output)},children:"response"}),Object(E.jsx)(L.a,{className:"float-right mr-4",variant:"link",size:"sm",style:{borderColor:"#c6c8ca"},onClick:function(){k(e.who)},children:e.who.username})]})})]})})]},t)}))}),Object(E.jsx)("div",{className:"float-right mt-3",children:Object(E.jsx)(_t,{currentPage:j,totalItems:b.totalItems,itemsPerPage:b.itemsPerPage,maxSize:b.maxSize,onClick:function(e){u(e),function(e){C.apply(this,arguments)}(e)}})}),Object(E.jsx)("div",{className:"clearfix"})]})}var ec=we.getService(),tc=Et.getService();function ac(e,t){return e&&e.acl&&e.acl.groups&&e.acl.groups.value&&e.acl.groups.value.includes(t)}function nc(e){var t=e.settings,a=e.id,s=e.handleAction,r=e.handleClose,c=Object(Ee.a)(["common","soajs"]).t,i=T().ability,o=Object(n.useState)([]),l=Object(y.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)({groups:[],type:"whitelist"}),m=Object(y.a)(u,2),p=m[0],b=m[1];function h(e,t){var a=p;a.type=t,b(Object(N.a)({},a))}function O(){return(O=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,tc.deleteInfraAccountAcl(a);case 4:ie.success(c("soajs:messages.envGroupDeleteSuccess")),s(),r(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function x(){return(x=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,tc.saveInfraAccountAcl({id:a,groups:p.groups,type:p.type});case 4:ie.success(c("soajs:messages.envGroupSaveSuccess")),s(),r(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t&&t.acl&&t.acl.groups&&b({groups:t.acl.groups.value,type:t.acl.groups.type}),a.next=4,ec.getGroups();case 4:n=a.sent,e&&j(n),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),ie.error(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){return e=!1}}),[t]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(me.a,{className:"p-4 m-0 bg-light border-dark small",children:Object(E.jsxs)("fieldset",{children:[Object(E.jsx)(_.a.Check,{type:"radio",label:"whitelist",name:"groupsType",id:"groupsType1",defaultChecked:"whitelist"===p.type,onChange:function(e){h(e.target.checked,"whitelist")}}),Object(E.jsx)(_.a.Check,{type:"radio",label:"blacklist",name:"groupsType",id:"groupsType2",defaultChecked:"blacklist"===p.type,onChange:function(e){h(e.target.checked,"blacklist")}})]})}),Object(E.jsx)(xt.a,{className:"ml-2",children:d.map((function(e,a){return Object(E.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(E.jsx)(ot.a.Body,{className:"p-2",children:Object(E.jsx)(_.a.Check,{className:"small",type:"checkbox",defaultChecked:ac(t,e.code),label:e.code,onChange:function(t){!function(e,t){var a=p;e?a.groups.push(t):G.a.pullAll(a.groups,[t]),b(Object(N.a)({},a))}(t.target.checked,e.code)}},a+1)})},a)}))}),Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{children:[Object(E.jsx)(L.a,{className:"ml-1 float-right",variant:"warning",onClick:r,children:c("soajs:buttons.Close")}),i.can("env_aclGroups","update")&&Object(E.jsx)(L.a,{className:"ml-1 float-right",variant:"success",disabled:!1,onClick:function(e){return x.apply(this,arguments)},children:c("soajs:buttons.Save")}),i.can("env_aclGroups","delete")&&Object(E.jsx)(L.a,{className:"ml-1 float-right",variant:"danger",disabled:!1,onClick:function(e){return O.apply(this,arguments)},children:c("soajs:buttons.Delete")})]})]})}function sc(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAfterSubmit,s=Object(Ee.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})};return Object(E.jsx)(E.Fragment,{children:t.item&&Object(E.jsxs)(xa.a,{size:"lg",show:t.show,onHide:r,animation:!1,children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:s("soajs:titles.clusterConfiguration")})}),Object(E.jsxs)(xa.a.Body,{children:[Object(E.jsxs)(me.a,{className:"p-4",children:[Object(E.jsx)("span",{className:"font-weight-bold",children:t.item.label}),Object(E.jsx)("hr",{}),t.item.description]}),Object(E.jsx)(_.a,{onSubmit:function(e){e.preventDefault()},children:Object(E.jsx)(Ra.a,{className:"mb-3",defaultActiveKey:"acl",id:"config",children:Object(E.jsx)(Ga.a,{eventKey:"acl",title:s("soajs:fields.Groups"),children:Object(E.jsx)(nc,{settings:t.item.settings,handleAction:function(){n()},handleClose:r,id:t.item._id})})})})]})]})})}var rc=Et.getService();function cc(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ee.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})};function c(){return(c=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rc.deleteInfraAccount(t.item._id);case 3:ie.success(s("soajs:messages.deleteCluster")),n(),r(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(E.jsxs)(xa.a,{show:t.show,onHide:r,animation:!1,children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:s("soajs:buttons.Delete")})}),Object(E.jsx)(xa.a.Body,{children:s("soajs:messages.deleteQuestion")}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:r,children:s("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"danger",onClick:function(){return c.apply(this,arguments)},children:s("soajs:buttons.Delete")})]})]})}var ic=Et.getService(),oc=null;function lc(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=Object(Ee.a)(["common","soajs"]).t,c=function(){return a({show:!1,opts:null})},i=Object(n.useState)({label:"",description:"",url:"",port:0,token:"",type:"secret"}),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){d(Object(N.a)(Object(N.a)({},l),{},Object(Ve.a)({},e.target.id,e.target.value)))}function u(){return(u=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={label:l.label,description:l.description,url:l.url,port:parseInt(l.port),token:l.token,type:l.type,ca:oc},e.next=4,ic.addInfraAccount(t);case 4:ie.success(r("soajs:messages.addInfraAccount")),s(),c(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(E.jsxs)(xa.a,{show:t.show,onHide:c,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:r("soajs:titles.clusterAdd")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsx)(_.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:r("soajs:fields.Label")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"label",size:"sm",value:l.label,onChange:j})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:r("soajs:fields.Description")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:l.description,onChange:j})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:r("soajs:fields.Url")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"url",size:"sm",value:l.url,onChange:j})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:r("soajs:fields.Port")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"port",size:"sm",type:"number",value:l.port,onChange:j})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:r("soajs:fields.Token")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"token",size:"sm",as:"textarea",rows:3,value:l.token,onChange:j})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:r("soajs:fields.Certificate")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(ue,{mode:"code",json:oc,onChange:function(e){e&&(oc=e)}})})]})]})})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:c,children:r("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(l.label.length>0&&l.description.length>0&&l.token.length>0&&l.url.length>0&&l.port>0),children:r("soajs:buttons.Add")})]})]})}var dc=Et.getService();function jc(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=Object(Ee.a)(["common","soajs"]).t,c=function(){return a({show:!1,opts:null})},i=Object(n.useState)({id:"",label:"",description:"",url:"",port:0,token:"",type:"secret",ca:null}),o=Object(y.a)(i,2),l=o[0],d=o[1],j=null;function u(e){d(Object(N.a)(Object(N.a)({},l),{},Object(Ve.a)({},e.target.id,e.target.value)))}function m(){return(m=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l.port=parseInt(l.port),l.ca=j||l.ca,e.next=5,dc.updateInfraAccount(l);case 5:ie.success(r("soajs:messages.updateInfraAccount")),s(),c(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.item&&d({id:t.item._id,label:t.item.label,description:t.item.description,url:t.item.configuration.url,port:t.item.configuration.port,token:"",type:"secret",ca:null}),function(){return e=!1}}),[t]),Object(E.jsxs)(xa.a,{show:t.show,onHide:c,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:r("soajs:titles.clusterUpdate")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsx)(_.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:r("soajs:fields.Label")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"label",size:"sm",value:l.label,onChange:u})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:r("soajs:fields.Description")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:l.description,onChange:u})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:r("soajs:fields.Url")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"url",size:"sm",value:l.url,onChange:u})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:r("soajs:fields.Port")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"port",size:"sm",type:"number",value:l.port,onChange:u})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:r("soajs:fields.Token")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"token",size:"sm",as:"textarea",rows:3,value:l.token,onChange:u})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:r("soajs:fields.Certificate")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(ue,{mode:"code",json:l.ca,onChange:function(e){e&&(j=e)}})})]})]})})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:c,children:r("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return m.apply(this,arguments)},disabled:!(l.label.length>0&&l.description.length>4&&l.token.length>0&&l.url.length>0&&l.port>0),children:r("soajs:buttons.Update")})]})]})}var uc=Et.getService();function mc(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(E.jsx)("div",{className:"float-left",type:"button",onClick:s,children:t})}function pc(e,t){return bc.apply(this,arguments)}function bc(){return(bc=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,uc.getInfraAccounts();case 3:n=e.sent,a&&n&&t(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function hc(){var e=Object(Ee.a)(["common","soajs"]).t,t=T().ability,a=Object(n.useState)([]),s=Object(y.a)(a,2),r=s[0],c=s[1],i=Object(n.useState)(1),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({show:!1,item:null}),u=Object(y.a)(j,2),m=u[0],p=u[1],b=Object(n.useState)({show:!1,item:null}),h=Object(y.a)(b,2),O=h[0],x=h[1],f=Object(n.useState)({show:!1}),w=Object(y.a)(f,2),k=w[0],C=w[1],N=Object(n.useState)({show:!1,item:null}),S=Object(y.a)(N,2),P=S[0],A=S[1];function I(){return U.apply(this,arguments)}function U(){return(U=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pc(c,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return pc(c,e),function(){return e=!1}}),[]),r.length>0&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(jc,{modalOpt:P,setModalOpt:A,handleAction:I}),Object(E.jsx)(lc,{modalOpt:k,setModalOpt:C,handleAction:I}),Object(E.jsx)(cc,{modalOpt:O,setModalOpt:x,handleAction:I}),Object(E.jsx)(sc,{modalOpt:m,setModalOpt:p,handleAfterSubmit:I}),Object(E.jsxs)("div",{children:[Object(E.jsx)("h4",{className:"float-left",children:e("soajs:titles.infrastructure")}),t.can("infra_account","add")&&Object(E.jsxs)(L.a,{variant:"success",className:"float-right",size:"sm",onClick:function(){C({show:!0})},children:[Object(E.jsx)(Qa.a,{})," ",e("soajs:buttons.Add")]}),Object(E.jsx)("span",{className:"clearfix"})]}),Object(E.jsx)("hr",{}),Object(E.jsx)(Ot.a,{activeKey:l,children:r.map((function(a,n){return Object(E.jsxs)(ot.a,{children:[Object(E.jsxs)(ot.a.Header,{children:[Object(E.jsxs)(mc,{as:ot.a.Header,eventKey:n+1,handleClick:function(){d(l===n+1?null:n+1)},children:[l===n+1?Object(E.jsx)(gt.b,{className:"mr-1"}):Object(E.jsx)(gt.a,{className:"mr-1"})," ",Object(E.jsx)("span",{className:"font-weight-bold",children:a.label})]}),t.can("infra_account","delete")&&Object(E.jsx)(Xa,{className:"float-right ml-3",onClick:function(){x({show:!0,item:a})}}),t.can("infra_account","updateAcl")&&Object(E.jsx)(Ir,{className:"float-right ml-3",onClick:function(){p({show:!0,item:a})}}),t.can("infra_account","edit")&&Object(E.jsx)(rn,{className:"float-right ml-3",onClick:function(){A({show:!0,item:a})}})]}),Object(E.jsx)(Ot.a.Collapse,{eventKey:n+1,children:Object(E.jsxs)(ot.a.Body,{children:[a.description,Object(E.jsx)(ct.a,{variant:"info",className:"small mt-3 mb-3",children:Object(E.jsxs)(Gn.a,{variant:"flush",children:[Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:fields.MasterNode"),":"]})," ",a.configuration.url]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:fields.Port"),":"]})," ",a.configuration.port]}),a.deployments&&a.deployments.length>0&&Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:fields.Environment")," / ",e("soajs:fields.Namespace"),":"]}),Object(E.jsx)(xt.a,{className:"mt-2",children:a.deployments.map((function(e,t){return Object(E.jsx)(ot.a,{className:"text-center text-white mb-2 mt-2 ml-2 mr-2",bg:"secondary",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(E.jsxs)(ot.a.Body,{className:"p-2",children:[e.env," / ",e.namespace]})},t)}))})]})]})})]})})]},n+1)}))})]})}var Oc=wt.getService(),xc="1",fc="2",gc="3",vc="1",yc="1",wc="2";function kc(e){var t=e.rootPath,a=Object(n.useState)({label:"",accountType:vc,username:"",email:"",token:"",consumerKey:"",consumerSecret:""}),s=Object(y.a)(a,2),r=s[0],c=s[1],i=Object(Ee.a)(["common","soajs"]).t,o=T().ability,l=Object(n.useState)(xc),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)(yc),p=Object(y.a)(m,2),b=p[0],h=p[1],O=Object(n.useState)("github.com"),x=Object(y.a)(O,2),f=x[0],k=x[1],C=Object(w.k)(),S=Object(n.useState)(!1),P=Object(y.a)(S,2),A=P[0],I=P[1];function U(){return(U=Object(v.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),I(!0),n={label:r.label,domain:f,username:r.username,email:r.email,token:r.token,oauthKey:r.consumerKey,oauthSecret:r.consumerSecret},r.accountType===vc?n.type="personal":"2"===r.accountType&&(n.type="organization"),b===yc?n.access="public":b===wc&&(n.access="private"),j===xc?n.provider="github":j===fc?(n.provider="bitbucket",n.username=n.email):j===gc&&(n.provider="bitbucket_enterprise"),e.prev=6,e.next=9,Oc.addGitAccount(n);case 9:ie.success(i("soajs:development.accounts.addMsg")),C.push(t),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),ie.error(e.t0.message);case 16:I(!1);case 17:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}function L(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),c(Object(N.a)(Object(N.a)({},r),{},Object(Ve.a)({},e.target.id,t)))}return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"clearfix mb-3",children:Object(E.jsx)("h3",{className:"float-left",children:i("soajs:development.accounts.addTitle")})}),Object(E.jsxs)(_.a,{onSubmit:function(e){return U.apply(this,arguments)},children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:i("soajs:development.accounts.provider")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsxs)(_.a.Control,{as:"select",id:"provider",size:"sm",value:j,onChange:function(e){u(e.target.value),e.target.value===xc?k("github.com"):e.target.value===fc?k("bitbucket.org"):k("")},children:[Object(E.jsx)("option",{value:xc,children:"Github"}),Object(E.jsx)("option",{value:fc,children:"Bitbucket"}),Object(E.jsx)("option",{value:gc,children:"Bitbucket Enterprise"})]})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:i("soajs:development.accounts.accountType")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsxs)(_.a.Control,{as:"select",id:"accountType",size:"sm",value:r.accountType,onChange:L,children:[Object(E.jsx)("option",{value:vc,children:"Personal Account"}),Object(E.jsx)("option",{value:"2",children:"Organization Account"})]})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:i("soajs:development.accounts.accessType")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsxs)(_.a.Control,{as:"select",id:"accessType",size:"sm",value:b,onChange:function(e){h(e.target.value)},children:[Object(E.jsx)("option",{value:yc,children:"Only Public Repositories"}),Object(E.jsx)("option",{value:wc,children:"Both Public and Private Repositories"})]})})]}),Object(E.jsx)("hr",{}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:i("soajs:development.accounts.label")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"label",size:"sm",value:r.label,onChange:L})})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:i("soajs:development.accounts.domain")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{disabled:j===fc||j===xc,id:"domain",size:"sm",value:f,onChange:function(e){k(e.target.value)}})})]}),Object(E.jsx)("hr",{}),(j===xc||j===gc)&&Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:i("soajs:development.accounts.username")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"username",size:"sm",value:r.username,onChange:L})})]}),j===fc&&Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:i("soajs:development.accounts.email")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"email",size:"sm",type:"email",value:r.email,onChange:L})})]}),b===wc&&Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:i("soajs:development.accounts.token")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"token",size:"sm",value:r.token,onChange:L})})]}),j===fc&&b===wc&&Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:i("soajs:development.accounts.consumerKey")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"consumerKey",size:"sm",value:r.consumerKey,onChange:L})})]}),j===fc&&b===wc&&Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:3,children:i("soajs:development.accounts.consumerSecret")}),Object(E.jsx)(dt.a,{sm:9,children:Object(E.jsx)(_.a.Control,{id:"consumerSecret",size:"sm",value:r.consumerSecret,onChange:L})})]}),Object(E.jsx)("hr",{})]}),o.can("repo_account","add")&&Object(E.jsx)(z,{className:"mb-3",block:!0,type:"submit",variant:"success",isLoading:A,disabled:!function(){var e=!0;return j!==xc&&j!==gc||(e=e&&r.username.length>0),j===fc&&(e=e&&r.email.length>0),b===wc&&(e=e&&r.token.length>0,j===fc&&(e=(e=e&&r.consumerSecret.length>0)&&r.consumerKey.length>0)),r.label.length>0&&f.length>0&&e}(),children:i("soajs:buttons.Add")})]})]})}var Cc=a(165),Nc=wt.getService();function Sc(e){var t=e.provider,a=Object(E.jsx)(vt.a,{});return"github"===t?a=Object(E.jsx)(C.c,{}):("bitbucket_enterprise"===t||"bitbucket"===t)&&(a=Object(E.jsx)(Cc.a,{})),a}function Pc(e){var t=e.modalOpt,a=e.setModalOpt,n=e.modalFields,s=e.setModalFields,r=e.handleAfterSubmit,c=Object(Ee.a)(["common","soajs"]).t,i=T().ability;function o(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),s(Object(N.a)(Object(N.a)({},n),{},Object(Ve.a)({},e.target.id,t)))}function l(){return(l=Object(v.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a={id:n.id,username:n.username,token:n.token,oauthKey:n.consumerKey,oauthSecret:n.consumerSecret},e.next=5,Nc.upgradeGitAccount(a);case 5:ie.success(c("soajs:development.accounts.upgradeMsg")),r(),d(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}var d=function(){return a({show:!1,item:null})};return Object(E.jsx)(E.Fragment,{children:n&&Object(E.jsxs)(xa.a,{size:"lg",show:t.show,onHide:d,animation:!1,children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:c("soajs:development.accounts.upgrade")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsxs)(ot.a,{children:[Object(E.jsxs)(ot.a.Header,{children:[Object(E.jsx)(Sc,{provider:n.provider})," ",Object(E.jsx)("span",{className:"font-weight-bold",children:n.label})," [",n.username,"]"]}),Object(E.jsx)(ot.a.Body,{children:Object(E.jsx)(_.a,{onSubmit:function(e){e.preventDefault()},children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:4,children:c("soajs:development.accounts.token")}),Object(E.jsx)(dt.a,{sm:8,children:Object(E.jsx)(_.a.Control,{id:"token",size:"sm",value:n.token,onChange:o})})]}),"bitbucket"===n.provider&&Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:4,children:c("soajs:development.accounts.consumerKey")}),Object(E.jsx)(dt.a,{sm:8,children:Object(E.jsx)(_.a.Control,{id:"consumerKey",size:"sm",value:n.consumerKey,onChange:o})})]}),"bitbucket"===n.provider&&Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{column:"sm",sm:4,children:c("soajs:development.accounts.consumerSecret")}),Object(E.jsx)(dt.a,{sm:8,children:Object(E.jsx)(_.a.Control,{id:"consumerSecret",size:"sm",value:n.consumerSecret,onChange:o})})]})]})})})]})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:d,children:c("soajs:buttons.Cancel")}),i.can("repo_account","upgrade")&&Object(E.jsx)(L.a,{variant:"success",disabled:!function(){var e=!0;return e=e&&n.token.length>0,"bitbucket"===n.provider&&(e=(e=e&&n.consumerSecret.length>0)&&n.consumerKey.length>0),e}(),onClick:function(e){return l.apply(this,arguments)},children:c("soajs:buttons.Upgrade")})]})]})})}var Ac=wt.getService();function Tc(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ee.a)(["common","soajs"]).t,r=function(){return a({show:!1,opts:null})};function c(){return(c=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ac.deleteGitAccount(t.opts.id);case 3:ie.success(s("soajs:development.accounts.deleteMsg")),n(),r(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(E.jsxs)(xa.a,{show:t.show,onHide:r,animation:!1,children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:s("soajs:buttons.Delete")})}),Object(E.jsx)(xa.a.Body,{children:s("soajs:messages.deleteQuestion")}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:r,children:s("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"danger",onClick:function(){return c.apply(this,arguments)},children:s("soajs:buttons.Delete")})]})]})}var Ec=a(156);function Ic(e){var t=Object.assign({},e),a=Object(Ee.a)(["common","soajs"]).t;return Object(E.jsx)(Va.a,{placement:"top",overlay:Object(E.jsx)(qa.a,{id:"tooltip-top}",children:a("soajs:buttons.Upgrade")}),children:Object(E.jsx)(L.a,Object(N.a)(Object(N.a)({size:"sm",variant:"secondary"},t),{},{children:Object(E.jsx)(Ec.c,{})}))})}var Uc=wt.getService();function Lc(e){var t=e.metadata,a=e.t,n=!1;return t&&t.organizations&&Array.isArray(t.organizations)&&t.organizations.length>0&&(n=!0),n&&Object(E.jsxs)(me.a,{className:"p-3 mt-3 bg-light",children:[Object(E.jsx)("h6",{className:"mb-4 font-weight-bold",children:a("soajs:development.accounts.organizations")}),Object(E.jsx)(xt.a,{children:t.organizations.map((function(e,t){return Object(E.jsx)(ot.a,{className:"text-center text-white",bg:"secondary",style:{minWidth:"21rem",maxWidth:"21rem"},children:Object(E.jsx)(ot.a.Body,{className:"p-2",children:e})},t)}))})]})}function Mc(e){var t=e.provider,a=Object(E.jsx)(vt.a,{});return"github"===t?a=Object(E.jsx)(C.c,{}):("bitbucket_enterprise"===t||"bitbucket"===t)&&(a=Object(E.jsx)(Cc.a,{})),a}function zc(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(E.jsx)("div",{className:"float-left",type:"button",onClick:s,children:t})}function _c(e,t){return Rc.apply(this,arguments)}function Rc(){return(Rc=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Uc.getGitAccounts();case 3:n=e.sent,a&&t(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Gc(e){var t=e.rootPath,a=Object(Ee.a)(["common","soajs"]).t,s=Object(n.useState)([]),r=Object(y.a)(s,2),c=r[0],o=r[1],l=Object(n.useState)(1),d=Object(y.a)(l,2),j=d[0],u=d[1],m=T().ability,p=Object(n.useState)({id:"",provider:"",label:"",username:"",token:"",consumerKey:"",consumerSecret:""}),b=Object(y.a)(p,2),h=b[0],O=b[1],x=Object(n.useState)({show:!1,opts:null}),f=Object(y.a)(x,2),w=f[0],k=f[1],C=Object(n.useState)({show:!1,item:null}),N=Object(y.a)(C,2),S=N[0],P=N[1];function A(){return(A=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Uc.syncGitAccount(t);case 3:return ie.success(a("soajs:development.accounts.syncMsg")),e.next=6,_c(o,!0);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function I(){return U.apply(this,arguments)}function U(){return(U=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_c(o,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return _c(o,e),function(){return e=!1}}),[]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Tc,{modalOpt:w,setModalOpt:k,handleAction:I}),Object(E.jsx)(Pc,{modalOpt:S,setModalOpt:P,setModalFields:O,modalFields:h,handleAfterSubmit:I}),Object(E.jsxs)("div",{className:"clearfix float-none mb-3",children:[Object(E.jsx)("h3",{className:"float-left",children:a("soajs:development.accounts.title")}),m.can("repo_account","add")&&Object(E.jsx)(i.Link,{to:t+"/add",children:Object(E.jsxs)(L.a,{variant:"success",className:"float-right",size:"sm",children:[Object(E.jsx)(Qa.a,{})," ",a("soajs:buttons.Add")]})})]}),Object(E.jsxs)(Ot.a,{activeKey:j,children:[c.map((function(e,t){return Object(E.jsxs)(ot.a,{children:[Object(E.jsxs)(ot.a.Header,{children:[Object(E.jsxs)(zc,{as:ot.a.Header,eventKey:t+1,handleClick:function(){u(j===t+1?null:t+1)},children:[j===t+1?Object(E.jsx)(gt.b,{className:"mr-1"}):Object(E.jsx)(gt.a,{className:"mr-1"})," ",Object(E.jsx)(Mc,{provider:e.provider})," ",Object(E.jsx)("span",{className:"font-weight-bold",children:e.label})," [",e.owner,"]"]}),m.can("repo_account","delete")&&Object(E.jsx)(Xa,{className:"float-right ml-3",onClick:function(){var t;t={id:e._id},k({show:!0,opts:t})}}),m.can("repo_account","synchronize")&&Object(E.jsx)(Zn,{className:"float-right ml-3",onClick:function(){!function(e){A.apply(this,arguments)}(e._id)}}),m.can("repo_account","upgrade")&&"public"===e.access&&Object(E.jsx)(Ic,{className:"float-right ml-3",onClick:function(){!function(e){O({id:e._id,provider:e.provider,label:e.label,username:e.owner,token:"",consumerKey:"",consumerSecret:""}),P({show:!0,item:e})}(e)}})]}),Object(E.jsx)(Ot.a.Collapse,{eventKey:t+1,children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsxs)(Gn.a,{variant:"flush",children:[Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[a("soajs:development.accounts.accountType"),":"]})," ",e.accountType]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[a("soajs:development.accounts.domain"),":"]})," ",e.domain]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[a("soajs:development.accounts.accessType"),":"]})," ",e.access]})]}),Object(E.jsx)(Lc,{metadata:e.metadata,t:a})]})})]},t+1)})),0===c.length?Object(E.jsx)("span",{children:a("soajs:development.accounts.zeroMsg")}):null]})]})}function Dc(){return Object(E.jsxs)(w.g,{children:[Object(E.jsx)(I,{path:"/settings/users",children:Object(E.jsx)(Ds,{})}),Object(E.jsx)(I,{path:"/settings/groups",children:Object(E.jsx)(er,{})}),Object(E.jsx)(I,{path:"/settings/packages",children:Object(E.jsx)(zr,{})}),Object(E.jsx)(I,{path:"/settings/configuration",children:Object(E.jsx)(Gr,{})}),Object(E.jsx)(I,{path:"/settings/infrastructure",children:Object(E.jsx)(hc,{})}),Object(E.jsx)(I,{path:"/settings/notifications",children:Object(E.jsx)($r,{})}),Object(E.jsx)(I,{path:"/settings/integration",children:Object(E.jsx)(Dr,{})}),Object(E.jsx)(I,{path:"/settings/cd/configuration",children:Object(E.jsx)(Fr,{})}),Object(E.jsx)(I,{path:"/settings/tokens",children:Object(E.jsx)(Vr,{})}),Object(E.jsx)(I,{path:"/settings/git/accounts/add",children:Object(E.jsx)(kc,{rootPath:"/settings/git/accounts"})}),Object(E.jsx)(I,{path:"/settings/git/accounts",children:Object(E.jsx)(Gc,{rootPath:"/settings/git/accounts"})}),Object(E.jsx)(w.d,{render:function(){return Object(E.jsx)(w.c,{to:"/settings/infrastructure"})}})]})}var Fc=function(){var e=Object(Ee.a)(["common","soajs"]).t;return Object(E.jsxs)(Ia.a,{collapseOnSelect:!0,expand:"lg",className:"pt-0 pb-0",bg:"secondary",variant:"light",children:[Object(E.jsx)("span",{}),Object(E.jsx)(Ia.a.Toggle,{"aria-controls":"settings-navbar-nav"}),Object(E.jsx)(Ia.a.Collapse,{id:"settings-navbar-nav",className:"justify-content-end",children:Object(E.jsxs)(Ua.a,{activeKey:window.location.pathname,children:[Object(E.jsx)(Ma.LinkContainer,{to:"/settings/infrastructure",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.Infrastructure")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/settings/git/accounts",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.GitAccounts")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/settings/notifications",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.Notifications")})})}),Object(E.jsxs)(La.a,{className:"small",alignRight:!0,title:e("soajs:menu.settings"),id:"collasible-nav1-dropdown",children:[Object(E.jsx)(Ma.LinkContainer,{to:"/settings/configuration",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.configuration")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/settings/integration",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.integration")})})})]}),Object(E.jsxs)(La.a,{className:"small",alignRight:!0,title:e("soajs:menu.AccessRights"),id:"collasible-nav1-dropdown",children:[Object(E.jsx)(Ma.LinkContainer,{to:"/settings/users",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.users")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/settings/groups",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.groups")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/settings/packages",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.packages")})})})]}),Object(E.jsxs)(La.a,{className:"small",alignRight:!0,title:e("soajs:menu.ContinuousDelivery"),id:"collasible-nav1-dropdown",children:[Object(E.jsx)(Ma.LinkContainer,{to:"/settings/cd/configuration",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.Configuration")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/settings/tokens",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.Tokens")})})})]})]})})]})};function Bc(){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Fc,{}),Object(E.jsx)("div",{className:"bg-dark pt-1"}),Object(E.jsx)("div",{className:"main-area",children:Object(E.jsx)(bt.a,{className:"mt-3 mb-3",children:Object(E.jsx)(Dc,{})})})]})}function Kc(){return Object(E.jsxs)(w.g,{children:[Object(E.jsx)(I,{path:"/development/git/accounts/add",children:Object(E.jsx)(kc,{rootPath:"/development/git/accounts"})}),Object(E.jsx)(I,{path:"/development/git/accounts",children:Object(E.jsx)(Gc,{rootPath:"/development/git/accounts"})}),Object(E.jsx)(I,{path:"/development/git/repositories",children:Object(E.jsx)(os,{})}),Object(E.jsx)(w.d,{render:function(){return Object(E.jsx)(w.c,{to:"/development/git/repositories"})}})]})}var Hc=function(){var e=Object(Ee.a)(["common","soajs"]).t,t="/development";return Object(E.jsxs)(Ia.a,{collapseOnSelect:!0,expand:"sm",className:"pt-0 pb-0",bg:"secondary",variant:"dark",children:[Object(E.jsx)("span",{}),Object(E.jsx)(Ia.a.Toggle,{"aria-controls":"development-navbar-nav"}),Object(E.jsx)(Ia.a.Collapse,{id:"development-navbar-nav",className:"justify-content-end",children:Object(E.jsxs)(Ua.a,{children:[Object(E.jsx)(Ma.LinkContainer,{to:t+"/git/repositories",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.GitRepositories")})})}),Object(E.jsx)(Ma.LinkContainer,{to:t+"/git/accounts",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.GitAccounts")})})})]})})]})};function Jc(){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Hc,{}),Object(E.jsx)("div",{className:"bg-dark pt-1"}),Object(E.jsx)("div",{className:"main-area",children:Object(E.jsx)(bt.a,{className:"mt-3 mb-3",children:Object(E.jsx)(Kc,{})})})]})}function Wc(e){var t=e.environment;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("hr",{}),Object(E.jsxs)(ct.a,{variant:"secondary",children:["This environment only operates on your Local Machine with this IP Address ",Object(E.jsxs)("b",{className:"text-success",children:["( ",t.deployer.manual.nodes," )"]}),". It requires you deploy Microservices and Daemons manually in order to be able to operate them form under the appropriate catalogs."]})]})}var Vc=St.getService(),qc=Et.getService();function Yc(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=e.environment,c=e.settings,i=Object(Ee.a)(["common","soajs"]).t,o=T().ability,l=Object(n.useState)({id:"",namespace:"",code:"",type:"existing"}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)([]),p=Object(y.a)(m,2),b=p[0],h=p[1],O=function(){return a({show:!1})};function x(){return(x=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vc.updateEnvironmentNamespace(j);case 3:ie.success(i("soajs:messages.envNamespace")),s(),O(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function f(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),u(Object(N.a)(Object(N.a)({},j),{},Object(Ve.a)({},e.target.id,t)))}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!r){t.next=9;break}return t.next=4,qc.getNamespaces(r.code);case 4:a=t.sent,e&&a&&a.items&&a.items.length>0&&h(a.items),e&&c&&u({id:c.container.kubernetes.id,code:r.code,namespace:c.container.kubernetes.namespace,type:"existing"}),t.next=10;break;case 9:e&&h([]);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),ie.error(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){return e=!1}}),[r,c]),Object(E.jsxs)(xa.a,{show:t.show,onHide:O,animation:!1,children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:i("soajs:titles.envNamespace")})}),Object(E.jsx)(xa.a.Body,{children:j&&Object(E.jsxs)(_.a,{onSubmit:function(e){e.preventDefault()},children:[Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{children:i("soajs:fields.NamespaceSelection")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"type",defaultValue:j.type,onChange:f,children:[Object(E.jsx)("option",{value:"existing",children:"Choose exiting namespace"}),Object(E.jsx)("option",{value:"new",children:"Create new namespace"})]})]}),"existing"===j.type&&Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{children:i("soajs:fields.ExistingNamespace")}),Object(E.jsx)(_.a.Control,{as:"select",id:"namespace",defaultValue:j.namespace,onChange:f,children:b.map((function(e,t){return Object(E.jsx)("option",{value:e.metadata.name,children:e.metadata.name},t)}))})]}),"new"===j.type&&Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{children:i("soajs:fields.CreateNamespace")}),Object(E.jsx)(_.a.Control,{id:"namespace",size:"sm",value:j.namespace,onChange:f})]})]})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:O,children:i("soajs:buttons.Cancel")}),o.can("env","update")&&Object(E.jsx)(L.a,{variant:"success",disabled:!(j.namespace.length>0),onClick:function(){return x.apply(this,arguments)},children:i("soajs:buttons.Update")})]})]})}var Xc=St.getService();function Qc(e,t,a){return Zc.apply(this,arguments)}function Zc(){return(Zc=Object(v.a)(g.a.mark((function e(t,a,n){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xc.getRegistryDeployer(a.code);case 3:s=e.sent,t(s&&n?s:null),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function $c(e){var t=e.environment,a=Object(Ee.a)(["common","soajs"]).t,s=Object(n.useState)(null),r=Object(y.a)(s,2),c=r[0],i=r[1],o=Object(n.useState)({show:!1}),l=Object(y.a)(o,2),d=l[0],j=l[1];return Object(n.useEffect)((function(){var e=!0;return Qc(i,t,e).catch(),function(){return e=!1}}),[t]),c&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Yc,{modalOpt:d,setModalOpt:j,handleAction:function(){Qc(i,t,!0).catch()},environment:t,settings:c}),Object(E.jsx)("hr",{}),Object(E.jsx)(ct.a,{variant:"secondary",children:Object(E.jsxs)(Gn.a,{variant:"flush",children:[Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[a("soajs:fields.MasterNode"),":"]})," ",c.container.kubernetes.configuration.url]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[a("soajs:fields.Namespace"),":"]})," ",c.container.kubernetes.namespace,Object(E.jsx)(cn,{className:"float-right ml-3",onClick:function(){j({show:!0})}})]})]})})]})}var ei=we.getService(),ti=St.getService();function ai(e,t){return e&&e.acl&&e.acl.groups&&e.acl.groups.value&&e.acl.groups.value.includes(t)}function ni(e){var t=e.settings,a=e.code,s=e.handleAction,r=e.handleClose,c=e.setSettings,i=Object(Ee.a)(["common","soajs"]).t,o=T().ability,l=Object(n.useState)([]),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({groups:[],type:"whitelist"}),p=Object(y.a)(m,2),b=p[0],h=p[1];function O(e,t){var a=b;a.type=t,h(Object(N.a)({},a))}function x(){return(x=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,ti.deleteEnvironmentAcl(a);case 4:ie.success(i("soajs:messages.envGroupDeleteSuccess")),c(null),s(),r(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function f(){return(f=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,ti.saveEnvironmentAcl({code:a,groups:b.groups,type:b.type});case 4:ie.success(i("soajs:messages.envGroupSaveSuccess")),s(),r(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t&&t.acl&&t.acl.groups&&h({groups:t.acl.groups.value,type:t.acl.groups.type}),a.next=4,ei.getGroups();case 4:n=a.sent,e&&u(n),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),ie.error(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){return e=!1}}),[t]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(me.a,{className:"p-4 m-0 bg-light border-dark small",children:Object(E.jsxs)("fieldset",{children:[Object(E.jsx)(_.a.Check,{type:"radio",label:"whitelist",name:"groupsType",id:"groupsType1",defaultChecked:"whitelist"===b.type,onChange:function(e){O(e.target.checked,"whitelist")}}),Object(E.jsx)(_.a.Check,{type:"radio",label:"blacklist",name:"groupsType",id:"groupsType2",defaultChecked:"blacklist"===b.type,onChange:function(e){O(e.target.checked,"blacklist")}})]})}),Object(E.jsx)(xt.a,{className:"ml-2",children:j.map((function(e,a){return Object(E.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(E.jsx)(ot.a.Body,{className:"p-2",children:Object(E.jsx)(_.a.Check,{className:"small",type:"checkbox",defaultChecked:ai(t,e.code),label:e.code,onChange:function(t){!function(e,t){var a=b;e?a.groups.push(t):G.a.pullAll(a.groups,[t]),h(Object(N.a)({},a))}(t.target.checked,e.code)}},a+1)})},a)}))}),Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{children:[Object(E.jsx)(L.a,{className:"ml-1 float-right",variant:"warning",onClick:r,children:i("soajs:buttons.Close")}),o.can("env_aclGroups","update")&&Object(E.jsx)(L.a,{className:"ml-1 float-right",variant:"success",disabled:!1,onClick:function(e){return f.apply(this,arguments)},children:i("soajs:buttons.Save")}),o.can("env_aclGroups","delete")&&Object(E.jsx)(L.a,{className:"ml-1 float-right",variant:"danger",disabled:!1,onClick:function(e){return x.apply(this,arguments)},children:i("soajs:buttons.Delete")})]})]})}var si=St.getService();function ri(e,t,a){return ci.apply(this,arguments)}function ci(){return(ci=Object(v.a)(g.a.mark((function e(t,a,n){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,si.getEnvironmentSettings(a.code);case 3:(s=e.sent)&&s.settings&&n?t(s.settings):t(null),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ii(e){var t=e.modalOpt,a=e.setModalOpt,s=e.environment,r=Object(Ee.a)(["common","soajs"]).t,c=Object(n.useState)(null),i=Object(y.a)(c,2),o=i[0],l=i[1],d=function(){return a({show:!1})};function j(){return(j=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ri(l,s,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return ri(l,s,e).catch(),function(){return e=!1}}),[s]),Object(E.jsx)(E.Fragment,{children:s&&Object(E.jsxs)(xa.a,{size:"lg",show:t.show,onHide:d,animation:!1,children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:r("soajs:titles.environmentConfiguration")})}),Object(E.jsxs)(xa.a.Body,{children:[Object(E.jsxs)(me.a,{className:"p-4",children:[Object(E.jsx)("span",{className:"font-weight-bold",children:s.code})," - ",s.deployer.type,Object(E.jsx)("hr",{}),s.description]}),Object(E.jsx)(_.a,{onSubmit:function(e){e.preventDefault()},children:Object(E.jsx)(Ra.a,{className:"mb-3",defaultActiveKey:"acl",id:"config",children:Object(E.jsx)(Ga.a,{eventKey:"acl",title:r("soajs:fields.Groups"),children:Object(E.jsx)(ni,{settings:o,setSettings:l,handleAction:function(){!function(){j.apply(this,arguments)}()},handleClose:d,code:s.code})})})})]})]})})}var oi=St.getService();function li(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ee.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})};function c(){return(c=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oi.deleteEnvironment(t.item._id);case 3:ie.success(s("soajs:messages.deleteEnvironment")),n(),r(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(E.jsxs)(xa.a,{show:t.show,onHide:r,animation:!1,children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:s("soajs:buttons.Delete")})}),Object(E.jsx)(xa.a.Body,{children:s("soajs:messages.deleteQuestion")}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:r,children:s("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"danger",onClick:function(){return c.apply(this,arguments)},children:s("soajs:buttons.Delete")})]})]})}function di(e){var t=e.environment,a=Object(Ee.a)(["common","soajs"]).t,s=T().ability,r=Object(n.useState)({show:!1}),c=Object(y.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)({show:!1,item:null}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(w.k)();function p(){return(p=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.push("/environments/manage");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(li,{modalOpt:j,setModalOpt:u,handleAction:function(){return p.apply(this,arguments)}}),Object(E.jsx)(ii,{environment:t,modalOpt:i,setModalOpt:o}),Object(E.jsxs)(Gn.a,{variant:"flush",children:[Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[a("soajs:fields.Code"),":"]})," ",t.code,!t.locked&&s.can("env","delete")&&Object(E.jsx)(Xa,{className:"float-right ml-3",onClick:function(){u({show:!0,item:t})}}),Object(E.jsx)(Ir,{className:"float-right ml-3",onClick:function(){o({show:!0})}})]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[a("soajs:fields.Type"),":"]})," ",t.deployer.type]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[a("soajs:fields.Description"),":"]})," ",t.description]})]}),"manual"===t.deployer.type&&Object(E.jsx)("div",{children:Object(E.jsx)(Wc,{environment:t})}),"container"===t.deployer.type&&Object(E.jsx)("div",{children:Object(E.jsx)($c,{environment:t})})]})}function ji(e){e.environment;return Object(E.jsx)(ct.a,{variant:"info",className:"mt-4 mb-4",children:"RBAC: coming soon"})}function ui(e){var t=e.modalOpt,a=e.setModalOpt,n=Object(Ee.a)(["common","soajs"]).t,s=function(){return a({show:!1,json:{},mode:"preview",title:""})};return t&&Object(E.jsxs)(xa.a,{show:t.show,onHide:s,animation:!1,size:"xl",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(E.jsx)(xa.a.Title,{children:t.title})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsx)(ue,{mode:t.mode||"view",modes:["view","preview"],json:t.json||{}})}),Object(E.jsx)(xa.a.Footer,{className:"bg-light",children:Object(E.jsx)(L.a,{variant:"info",onClick:s,children:n("soajs:buttons.Ok")})})]})}function mi(e){var t=e.items,a=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),s=Object(y.a)(a,2),r=s[0],c=s[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ui,{modalOpt:r,setModalOpt:c}),t.map((function(e,t){return Object(E.jsx)(ct.a,{variant:"info",className:"p-1 m-1",children:Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{children:[Object(E.jsx)(it.a,{variant:"light",className:"float-left mr-3 small mt-1",children:"node"}),Object(E.jsx)("span",{className:"small",children:e.metadata.name})]}),Object(E.jsxs)(dt.a,{children:[Object(E.jsx)("span",{className:"small float-left mr-2",children:e.metadata.creationTimestamp}),Object(E.jsx)(L.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1",children:Object(E.jsx)(C.e,{className:"text-primary",onClick:function(){var t,a;t=e,a=e.metadata.name,c({show:!0,json:t,mode:"view",title:a||""})}})})]})]})},t)}))]})}var pi=Et.getService(),bi={name:"",mode:"Node",continue:null,remainingItemCount:0};function hi(e,t,a,n,s,r){return Oi.apply(this,arguments)}function Oi(){return(Oi=Object(v.a)(g.a.mark((function e(t,a,n,s,r,c){var i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={mode:a.mode,limit:100},a.name&&a.name.length>0&&(i.filter={fieldSelector:"metadata.name="+a.name}),e.next=5,pi.getClusters(n,i);case 5:o=e.sent,c&&o&&o.items&&(t(o.items),s(a.mode),o.metadata&&o.metadata.continue?(a.continue=o.metadata.continue,a.remainingItemCount=o.metadata.remainingItemCount,r(Object(N.a)({},a))):(a.continue=null,a.remainingItemCount=0,r(Object(N.a)({},a)))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function xi(e){var t=e.environment,a=Object(Ee.a)(["common","soajs"]).t,s=Object(n.useState)([]),r=Object(y.a)(s,2),c=r[0],i=r[1],o=Object(n.useState)("Pod"),l=Object(y.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)(bi),m=Object(y.a)(u,2),p=m[0],b=m[1];function h(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),b(Object(N.a)(Object(N.a)({},p),{},Object(Ve.a)({},e.target.id,t)))}function O(e){return x.apply(this,arguments)}function x(){return(x=Object(v.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hi(i,p,t.code,j,b,a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(v.a)(g.a.mark((function e(){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={mode:p.mode,limit:3},p.name&&p.name.length>0&&(a.filter={fieldSelector:"metadata.name="+p.name}),p.continue&&(a.continue=p.continue),e.next=6,pi.getClusters(t.code,a);case 6:(n=e.sent)&&n.items&&(i(c.concat(n.items)),n.metadata&&n.metadata.continue?(p.continue=n.metadata.continue,p.remainingItemCount=n.metadata.remainingItemCount,b(Object(N.a)({},p))):(p.continue=null,p.remainingItemCount=0,b(Object(N.a)({},p)))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function w(e){return k.apply(this,arguments)}function k(){return(k=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,O(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&(b(bi),hi(i,bi,t.code,j,b,e).catch()),function(){return e=!1}}),[t]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(me.a,{className:"p-3 m-0",children:Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{md:2,lg:2,children:Object(E.jsx)("h5",{className:"font-weight-bold m-0",children:a("soajs:titles.nodes")})}),Object(E.jsx)(dt.a,{md:3,lg:2,children:Object(E.jsx)(_.a.Control,{style:{fontSize:"80%"},as:"select",id:"mode",value:p.mode,onChange:h,children:Object(E.jsx)("option",{value:"Node",children:"Node"})})}),Object(E.jsx)(dt.a,{children:Object(E.jsx)(_.a,{onSubmit:w,children:Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{xs:8,lg:9,children:Object(E.jsx)(_.a.Control,{id:"name",size:"sm",autoFocus:!0,value:p.name,onChange:h})}),Object(E.jsx)(dt.a,{xs:4,lg:3,children:Object(E.jsxs)(L.a,{className:"float-right",variant:"dark",size:"sm",onClick:w,children:[Object(E.jsx)(vt.c,{})," ",a("soajs:buttons.Search")]})})]})})})]})}),Object(E.jsx)("hr",{}),c.length>0&&"Node"===d&&Object(E.jsx)(mi,{items:c,env:t.code.toLowerCase()}),p.continue&&Object(E.jsxs)(L.a,{size:"sm",className:"mt-3",block:!0,variant:"light",onClick:function(){return f.apply(this,arguments)},children:[Object(E.jsxs)(it.a,{variant:"light",className:"text-muted",children:["(",p.remainingItemCount," remaining)"]})," Click here to load more ..."]})]})}var fi=a(487),gi=Et.getService();function vi(e){var t=e.modalOpt,a=e.setModalOpt,s=Object(Ee.a)(["common","soajs"]).t,r=Object(n.useState)(""),c=Object(y.a)(r,2),i=c[0],o=c[1],l=function(){return a({show:!1,data:{},mode:"preview",title:""})};function d(e,t,a){return j.apply(this,arguments)}function j(){return(j=Object(v.a)(g.a.mark((function e(t,a,n){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gi.podLog(a,{name:n});case 3:s=e.sent,t&&s&&o(s),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.data&&t.data.env&&t.data.name)){e.next=3;break}return e.next=3,d(!0,t.data.env,t.data.name);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){return t&&t.data&&t.data.env&&t.data.name&&d(!0,t.data.env,t.data.name).catch(),function(e){return!1}}),[t]),t&&Object(E.jsxs)(xa.a,{show:t.show,onHide:l,animation:!1,size:"xl",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(E.jsx)(xa.a.Title,{children:t.title})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsx)("div",{className:"small",style:{backgroundColor:"black",color:"white",minHeight:300,maxHeight:600,overflow:"auto"},children:Object(E.jsx)("pre",{children:Object(E.jsx)("code",{className:"text-light",children:i})})})}),Object(E.jsxs)(xa.a.Footer,{className:"bg-light",children:[Object(E.jsx)(L.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},children:s("soajs:buttons.Refresh")}),Object(E.jsx)(L.a,{variant:"info",onClick:l,children:s("soajs:buttons.Close")})]})]})}var yi=Et.getService();function wi(e){var t=e.modalOpt,a=e.setModalOpt,s=Object(Ee.a)(["common","soajs"]).t,r=Object(n.useState)({commands:""}),c=Object(y.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)(""),d=Object(y.a)(l,2),j=d[0],u=d[1],m=function(){return a({show:!1,data:{},mode:"preview",title:""})};function p(){return(p=Object(v.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yi.podExec(t.data.env,{name:t.data.name,commands:i.commands.split("\n")});case 3:(a=e.sent)&&a.response&&(ie.success(s("soajs:messages.execCommand")),u(a.response)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return t&&Object(E.jsxs)(xa.a,{show:t.show,onHide:m,animation:!1,size:"xl",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(E.jsx)(xa.a.Title,{children:t.title})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsxs)(_.a,{children:[Object(E.jsxs)(ct.a,{variant:"info",children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Commands")}),Object(E.jsx)(_.a.Control,{className:"mb-3",id:"commands",size:"sm",as:"textarea",rows:3,value:i.commands,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),"number"!==e.target.type&&"type"!==e.target.id||(t=parseInt(t)),o(Object(N.a)(Object(N.a)({},i),{},Object(Ve.a)({},e.target.id,t)))}}),Object(E.jsx)(L.a,{className:"float-right",variant:"info",onClick:m,children:s("soajs:buttons.Close")}),Object(E.jsx)(L.a,{className:"float-right mr-3",variant:"success",onClick:function(){return p.apply(this,arguments)},disabled:!(i.commands.length>0),children:s("soajs:buttons.Execute")}),Object(E.jsx)("span",{className:"clearfix"})]}),Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Response")}),Object(E.jsx)(_.a.Control,{style:{fontSize:"70%"},id:"response",size:"sm",as:"textarea",rows:6,value:j,readOnly:!0})]})}),Object(E.jsx)(xa.a.Footer,{className:"bg-light"})]})}function ki(e){var t=e.modalOpt,a=e.setModalOpt,n=Object(Ee.a)(["common","soajs"]).t,s=function(){return a({show:!1,json:{},mode:"preview",title:""})};return t&&Object(E.jsxs)(xa.a,{show:t.show,onHide:s,animation:!1,size:"xl",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(E.jsx)(xa.a.Title,{children:t.title})}),Object(E.jsx)(xa.a.Body,{children:"Coming soon!"}),Object(E.jsx)(xa.a.Footer,{className:"bg-light",children:Object(E.jsx)(L.a,{variant:"info",onClick:s,children:n("soajs:buttons.Ok")})})]})}function Ci(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ee.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:{}})};return Object(E.jsxs)(xa.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:s("soajs:buttons.Delete")})}),Object(E.jsxs)(xa.a.Body,{style:{wordBreak:"break-all"},children:[s("soajs:messages.deleteQuestion"),Object(E.jsx)("span",{className:"ml-3 font-weight-bold",children:t.item?t.item.title:""})]}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:r,children:s("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"danger",onClick:function(){n(t.item.name),r()},children:s("soajs:buttons.Delete")})]})]})}var Ni=null;function Si(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ee.a)(["common","soajs"]).t,r=function(){Ni=null,a({show:!1,json:null,mode:"code",item:{}})};return t&&Object(E.jsxs)(xa.a,{show:t.show,onHide:r,animation:!1,size:"xl",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(E.jsx)(xa.a.Title,{children:t.item.title})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsx)("div",{style:{height:"600px"},children:Object(E.jsx)(ue,{mode:t.mode||"code",modes:["tree","code"],json:Ni||t.json||null,onChange:function(e){Ni=e}})})}),Object(E.jsxs)(xa.a.Footer,{className:"bg-light",children:[Object(E.jsx)(L.a,{variant:"info",onClick:r,children:s("soajs:buttons.Close")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){n(t.item.name,Ni||t.json),r()},children:s("soajs:buttons.Update")})]})]})}function Pi(e){var t={t:null,l:"-"};if(e.conditions&&Array.isArray(e.conditions))for(var a=0;a<e.conditions.length;a++){var n=e.conditions[a];if("True"===n.status)if(t.t){var s=new Date(t.t);new Date(n.lastTransitionTime)>s&&(t={t:n.lastTransitionTime,l:n.type})}else t={t:n.lastTransitionTime,l:n.type}}return t.l}function Ai(e){var t=e.items,a=e.env,s=e.deleteItem,r=e.editItem,c=T().ability,i=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({show:!1,data:{},title:""}),u=Object(y.a)(j,2),m=u[0],p=u[1],b=Object(n.useState)({show:!1,data:{},title:""}),h=Object(y.a)(b,2),O=h[0],x=h[1],f=Object(n.useState)({show:!1,data:"",title:""}),g=Object(y.a)(f,2),v=g[0],w=g[1],k=Object(n.useState)({show:!1,item:{}}),N=Object(y.a)(k,2),S=N[0],P=N[1],A=Object(n.useState)({show:!1,item:{},json:null}),I=Object(y.a)(A,2),U=I[0],M=I[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ui,{modalOpt:l,setModalOpt:d}),Object(E.jsx)(vi,{modalOpt:m,setModalOpt:p}),Object(E.jsx)(wi,{modalOpt:O,setModalOpt:x}),Object(E.jsx)(ki,{modalOpt:v,setModalOpt:w}),s&&Object(E.jsx)(Ci,{modalOpt:S,setModalOpt:P,handleAction:function(e){s("Pod",e)}}),r&&Object(E.jsx)(Si,{modalOpt:U,setModalOpt:M,handleAction:function(e,t){t.kind="Pod",r(t.kind,t.metadata.name,t)}}),t.map((function(e,t){return Object(E.jsxs)(ct.a,{variant:"info",className:"p-1 m-1",children:[Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{children:[Object(E.jsx)(it.a,{variant:"primary",className:"float-left mr-3 small mt-1",children:"pod"}),Object(E.jsx)("span",{className:"small",children:e.metadata.name})]}),Object(E.jsxs)(dt.a,{children:[Object(E.jsx)("span",{className:"small float-left mr-2 mt-1",children:e.metadata.creationTimestamp}),Object(E.jsx)(it.a,{variant:(n=e.status.phase,"Running"===n?"success":"danger"),className:"float-left small mt-1 mr-1",children:e.status.phase}),Object(E.jsx)(it.a,{variant:"light",className:"float-left small mt-1",children:Pi(e.status)})]})]}),Object(E.jsx)(lt.a,{className:"mt-1",children:Object(E.jsxs)(dt.a,{children:[Object(E.jsx)(L.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1",children:Object(E.jsx)(C.e,{className:"text-primary",onClick:function(){var t,a;t=e,a=e.metadata.name,d({show:!0,json:t,mode:"view",title:a||""})}})}),c.can("infra_pod","log")&&Object(E.jsx)(L.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1 mr-2",children:Object(E.jsx)(pe.g,{className:"text-secondary",onClick:function(){var t,n;t={env:a,name:e.metadata.name},n=e.metadata.name,p({show:!0,data:t,title:n||""})}})}),c.can("infra_pod","exec")&&Object(E.jsx)(L.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1 mr-2",children:Object(E.jsx)(Ec.b,{className:"text-danger",onClick:function(){var t,n;t={env:a,name:e.metadata.name},n=e.metadata.name,x({show:!0,data:t,title:n||""})}})}),Object(E.jsx)(L.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1 mr-2 ml-2",children:Object(E.jsx)(fi.a,{className:"text-info",onClick:function(){var t,a;t="",a=e.metadata.name,w({show:!0,data:t,title:a||""})}})}),r&&Object(E.jsx)(rn,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t,a;t={title:e.metadata.name,name:e.metadata.name},a=G.a.merge({},e),M({show:!0,item:t,json:a})}}),s&&Object(E.jsx)(Xa,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t;t={title:e.metadata.name,name:e.metadata.name},P({show:!0,item:t})}})]})})]},t);var n}))]})}function Ti(e){var t=e.items,a=e.deleteItem,s=e.editItem,r=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),c=Object(y.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)({show:!1,item:{}}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({show:!1,item:{},json:null}),p=Object(y.a)(m,2),b=p[0],h=p[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ui,{modalOpt:i,setModalOpt:o}),a&&Object(E.jsx)(Ci,{modalOpt:j,setModalOpt:u,handleAction:function(e){a("Deployment",e)}}),s&&Object(E.jsx)(Si,{modalOpt:b,setModalOpt:h,handleAction:function(e,t){t.kind="Deployment",s(t.kind,t.metadata.name,t)}}),t.map((function(e,t){return Object(E.jsx)(ct.a,{variant:"info",className:"p-1 m-1",children:Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{children:[Object(E.jsx)(it.a,{variant:"info",className:"float-left mr-3 small mt-1",children:"deployment"}),Object(E.jsx)("span",{className:"small",children:e.metadata.name})]}),Object(E.jsxs)(dt.a,{children:[Object(E.jsx)("span",{className:"small float-left mr-2",children:e.metadata.creationTimestamp}),Object(E.jsx)(L.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",children:Object(E.jsx)(C.e,{className:"text-primary",onClick:function(){var t,a;t=e,a=e.metadata.name,o({show:!0,json:t,mode:"view",title:a||""})}})}),s&&Object(E.jsx)(rn,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t,a;t={title:e.metadata.name,name:e.metadata.name},a=G.a.merge({},e),h({show:!0,item:t,json:a})}}),a&&Object(E.jsx)(Xa,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t;t={title:e.metadata.name,name:e.metadata.name},u({show:!0,item:t})}})]})]})},t)}))]})}function Ei(e){var t=e.items,a=e.deleteItem,s=e.editItem,r=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),c=Object(y.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)({show:!1,item:{}}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({show:!1,item:{},json:null}),p=Object(y.a)(m,2),b=p[0],h=p[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ui,{modalOpt:i,setModalOpt:o}),a&&Object(E.jsx)(Ci,{modalOpt:j,setModalOpt:u,handleAction:function(e){a("DaemonSet",e)}}),s&&Object(E.jsx)(Si,{modalOpt:b,setModalOpt:h,handleAction:function(e,t){t.kind="DaemonSet",s(t.kind,t.metadata.name,t)}}),t.map((function(e,t){return Object(E.jsx)(ct.a,{variant:"info",className:"p-1 m-1",children:Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{children:[Object(E.jsx)(it.a,{variant:"dark",className:"float-left mr-3 small mt-1",children:"daemonset"}),Object(E.jsx)("span",{className:"small",children:e.metadata.name})]}),Object(E.jsxs)(dt.a,{children:[Object(E.jsx)("span",{className:"small float-left mr-2",children:e.metadata.creationTimestamp}),Object(E.jsx)(L.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",children:Object(E.jsx)(C.e,{className:"text-primary",onClick:function(){var t,a;t=e,a=e.metadata.name,o({show:!0,json:t,mode:"view",title:a||""})}})}),s&&Object(E.jsx)(rn,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t,a;t={title:e.metadata.name,name:e.metadata.name},a=G.a.merge({},e),h({show:!0,item:t,json:a})}}),a&&Object(E.jsx)(Xa,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t;t={title:e.metadata.name,name:e.metadata.name},u({show:!0,item:t})}})]})]})},t)}))]})}function Ii(e){var t=e.items,a=e.deleteItem,s=e.editItem,r=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),c=Object(y.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)({show:!1,item:{}}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({show:!1,item:{},json:null}),p=Object(y.a)(m,2),b=p[0],h=p[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ui,{modalOpt:i,setModalOpt:o}),a&&Object(E.jsx)(Ci,{modalOpt:j,setModalOpt:u,handleAction:function(e){a("CronJob",e)}}),s&&Object(E.jsx)(Si,{modalOpt:b,setModalOpt:h,handleAction:function(e,t){t.kind="CronJob",s(t.kind,t.metadata.name,t)}}),t.map((function(e,t){return Object(E.jsx)(ct.a,{variant:"info",className:"p-1 m-1",children:Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{children:[Object(E.jsx)(it.a,{variant:"secondary",className:"float-left mr-3 small mt-1",children:"cronjob"}),Object(E.jsx)("span",{className:"small",children:e.metadata.name})]}),Object(E.jsxs)(dt.a,{children:[Object(E.jsx)("span",{className:"small float-left mr-2",children:e.metadata.creationTimestamp}),Object(E.jsx)(L.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",children:Object(E.jsx)(C.e,{className:"text-primary",onClick:function(){var t,a;t=e,a=e.metadata.name,o({show:!0,json:t,mode:"view",title:a||""})}})}),s&&Object(E.jsx)(rn,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t,a;t={title:e.metadata.name,name:e.metadata.name},a=G.a.merge({},e),h({show:!0,item:t,json:a})}}),a&&Object(E.jsx)(Xa,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t;t={title:e.metadata.name,name:e.metadata.name},u({show:!0,item:t})}})]})]})},t)}))]})}function Ui(e){var t=e.items,a=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),s=Object(y.a)(a,2),r=s[0],c=s[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ui,{modalOpt:r,setModalOpt:c}),t.map((function(e,t){return Object(E.jsx)(ct.a,{variant:"info",className:"p-1 m-1",children:Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{children:[Object(E.jsx)(it.a,{variant:"danger",className:"float-left mr-3 small mt-1",children:"hpa"}),Object(E.jsx)("span",{className:"small",children:e.metadata.name})]}),Object(E.jsxs)(dt.a,{children:[Object(E.jsx)("span",{className:"small float-left mr-2",children:e.metadata.creationTimestamp}),Object(E.jsx)(L.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1",children:Object(E.jsx)(C.e,{className:"text-primary",onClick:function(){var t,a;t=e,a=e.metadata.name,c({show:!0,json:t,mode:"view",title:a||""})}})})]})]})},t)}))]})}var Li=null;function Mi(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ee.a)(["common","soajs"]).t,r=function(){Li=null,a({show:!1,json:null,mode:"code",item:{}})};return t&&Object(E.jsxs)(xa.a,{show:t.show,onHide:r,animation:!1,size:"xl",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(E.jsx)(xa.a.Title,{children:t.item.title})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsx)("div",{style:{height:"600px"},children:Object(E.jsx)(ue,{mode:t.mode||"code",modes:["tree","code"],json:Li||t.json||null,onChange:function(e){Li=e}})})}),Object(E.jsxs)(xa.a.Footer,{className:"bg-light",children:[Object(E.jsx)(L.a,{variant:"info",onClick:r,children:s("soajs:buttons.Close")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){n(Li||t.json),r()},children:s("soajs:buttons.Add")})]})]})}var zi=Et.getService(),_i={name:"",mode:"Pod",continue:null,remainingItemCount:0};function Ri(e,t,a,n,s,r){return Gi.apply(this,arguments)}function Gi(){return(Gi=Object(v.a)(g.a.mark((function e(t,a,n,s,r,c){var i,o,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={mode:a.mode,limit:100},a.name&&a.name.length>0&&(i.filter={fieldSelector:"metadata.name="+a.name}),e.next=5,zi.getWorkloads(n,i);case 5:o=e.sent,c&&o&&o.items&&(l=o.items,t(Object(Wa.a)(l)),s(a.mode),o.metadata&&o.metadata.continue?(a.continue=o.metadata.continue,a.remainingItemCount=o.metadata.remainingItemCount,r(Object(N.a)({},a))):(a.continue=null,a.remainingItemCount=0,r(Object(N.a)({},a)))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Di(e){var t=e.environment,a=T().ability,s=Object(Ee.a)(["common","soajs"]).t,r=Object(n.useState)([]),c=Object(y.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)("Pod"),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)(_i),p=Object(y.a)(m,2),b=p[0],h=p[1],O=Object(n.useState)({show:!1,item:{},json:null}),x=Object(y.a)(O,2),f=x[0],w=x[1];function k(){return(k=Object(v.a)(g.a.mark((function e(a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zi.addWorkload(t.code,{body:n,mode:a});case 3:return e.next=5,U(!0);case 5:ie.success(s("soajs:messages.add_"+a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function C(e,t){return S.apply(this,arguments)}function S(){return(S=Object(v.a)(g.a.mark((function e(a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zi.deleteWorkload(t.code,{name:n,mode:a});case 3:return e.next=5,U(!0);case 5:ie.success(s("soajs:messages.delete_"+a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function P(e,t,a){return A.apply(this,arguments)}function A(){return(A=Object(v.a)(g.a.mark((function e(a,n,r){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zi.updateWorkload(t.code,{name:n,body:r,mode:a});case 3:return e.next=5,U(!0);case 5:ie.success(s("soajs:messages.update_"+a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function I(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),h(Object(N.a)(Object(N.a)({},b),{},Object(Ve.a)({},e.target.id,t)))}function U(e){return M.apply(this,arguments)}function M(){return(M=Object(v.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ri(o,b,t.code,u,h,a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(v.a)(g.a.mark((function e(){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={mode:b.mode,limit:3},b.name&&b.name.length>0&&(a.filter={fieldSelector:"metadata.name="+b.name}),b.continue&&(a.continue=b.continue),e.next=6,zi.getWorkloads(t.code,a);case 6:(n=e.sent)&&n.items&&(o(i.concat(n.items)),n.metadata&&n.metadata.continue?(b.continue=n.metadata.continue,b.remainingItemCount=n.metadata.remainingItemCount,h(Object(N.a)({},b))):(b.continue=null,b.remainingItemCount=0,h(Object(N.a)({},b)))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function R(e){return G.apply(this,arguments)}function G(){return(G=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,U(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&(h(_i),Ri(o,_i,t.code,u,h,e).catch()),function(){return e=!1}}),[t]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Mi,{modalOpt:f,setModalOpt:w,handleAction:function(e){e.kind=b.mode,function(e,t){return k.apply(this,arguments)}(e.kind,e).catch()}}),Object(E.jsx)(me.a,{className:"p-3 m-0",children:Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{md:3,lg:3,xl:2,children:[Object(E.jsx)("h5",{className:"font-weight-bold m-0 float-left",children:s("soajs:titles.workloads")}),a.can("infra_workload","add")&&Object(E.jsx)(Za,{className:"float-right pt-0 pb-1 pl-1 pr-1 ",onClick:function(){var e;e={title:"Workload "+b.mode},w({show:!0,item:e,json:null})}})]}),Object(E.jsx)(dt.a,{md:3,lg:2,children:Object(E.jsxs)(_.a.Control,{style:{fontSize:"80%"},as:"select",id:"mode",value:b.mode,onChange:I,children:[Object(E.jsx)("option",{value:"Deployment",children:"Deployment"}),Object(E.jsx)("option",{value:"DaemonSet",children:"DaemonSet"}),Object(E.jsx)("option",{value:"CronJob",children:"CronJob"}),Object(E.jsx)("option",{value:"Pod",children:"Pod"}),Object(E.jsx)("option",{value:"HPA",children:"HPA"})]})}),Object(E.jsx)(dt.a,{children:Object(E.jsx)(_.a,{onSubmit:R,children:Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{xs:8,lg:9,children:Object(E.jsx)(_.a.Control,{id:"name",size:"sm",autoFocus:!0,value:b.name,onChange:I})}),Object(E.jsx)(dt.a,{xs:4,lg:3,children:Object(E.jsxs)(L.a,{className:"float-right",variant:"dark",size:"sm",onClick:R,children:[Object(E.jsx)(vt.c,{})," ",s("soajs:buttons.Search")]})})]})})})]})}),Object(E.jsx)("hr",{}),i.length>0&&"Pod"===j&&Object(E.jsx)(Ai,{items:i,env:t.code.toLowerCase(),deleteItem:a.can("infra_pod","delete")?C:null,editItem:a.can("infra_workload","edit")?P:null}),i.length>0&&"Deployment"===j&&Object(E.jsx)(Ti,{items:i,env:t.code.toLowerCase(),deleteItem:a.can("infra_workload","delete")?C:null,editItem:a.can("infra_workload","edit")?P:null}),i.length>0&&"DaemonSet"===j&&Object(E.jsx)(Ei,{items:i,env:t.code.toLowerCase(),deleteItem:a.can("infra_workload","delete")?C:null,editItem:a.can("infra_workload","edit")?P:null}),i.length>0&&"CronJob"===j&&Object(E.jsx)(Ii,{items:i,env:t.code.toLowerCase(),deleteItem:a.can("infra_workload","delete")?C:null,editItem:a.can("infra_workload","edit")?P:null}),i.length>0&&"HPA"===j&&Object(E.jsx)(Ui,{items:i,env:t.code.toLowerCase()}),b.continue&&Object(E.jsxs)(L.a,{size:"sm",className:"mt-3",block:!0,variant:"light",onClick:function(){return z.apply(this,arguments)},children:[Object(E.jsxs)(it.a,{variant:"light",className:"text-muted",children:["(",b.remainingItemCount," remaining)"]})," Click here to load more ..."]})]})}function Fi(e){var t=e.items,a=e.deleteItem,s=e.editItem,r=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),c=Object(y.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)({show:!1,item:{}}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({show:!1,item:{},json:null}),p=Object(y.a)(m,2),b=p[0],h=p[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ui,{modalOpt:i,setModalOpt:o}),a&&Object(E.jsx)(Ci,{modalOpt:j,setModalOpt:u,handleAction:function(e){a("Service",e)}}),s&&Object(E.jsx)(Si,{modalOpt:b,setModalOpt:h,handleAction:function(e,t){t.kind="Service",s(t.kind,t.metadata.name,t)}}),t.map((function(e,t){return Object(E.jsx)(ct.a,{variant:"info",className:"p-1 m-1",children:Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{children:[Object(E.jsx)(it.a,{variant:"light",className:"float-left mr-3 small mt-1",children:"service"}),Object(E.jsx)("span",{className:"small",children:e.metadata.name})]}),Object(E.jsxs)(dt.a,{children:[Object(E.jsx)("span",{className:"small float-left mr-2",children:e.metadata.creationTimestamp}),Object(E.jsx)(L.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",children:Object(E.jsx)(C.e,{className:"text-primary",onClick:function(){var t,a;t=e,a=e.metadata.name,o({show:!0,json:t,mode:"view",title:a||""})}})}),s&&Object(E.jsx)(rn,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t,a;t={title:e.metadata.name,name:e.metadata.name},a=G.a.merge({},e),h({show:!0,item:t,json:a})}}),a&&Object(E.jsx)(Xa,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t;t={title:e.metadata.name,name:e.metadata.name},u({show:!0,item:t})}})]})]})},t)}))]})}var Bi=Et.getService(),Ki={name:"",mode:"Service",continue:null,remainingItemCount:0};function Hi(e,t,a,n,s,r){return Ji.apply(this,arguments)}function Ji(){return(Ji=Object(v.a)(g.a.mark((function e(t,a,n,s,r,c){var i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={mode:a.mode,limit:100},a.name&&a.name.length>0&&(i.filter={fieldSelector:"metadata.name="+a.name}),e.next=5,Bi.getServices(n,i);case 5:o=e.sent,c&&o&&o.items&&(t(o.items),s(a.mode),o.metadata&&o.metadata.continue?(a.continue=o.metadata.continue,a.remainingItemCount=o.metadata.remainingItemCount,r(Object(N.a)({},a))):(a.continue=null,a.remainingItemCount=0,r(Object(N.a)({},a)))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Wi(e){var t=e.environment,a=T().ability,s=Object(Ee.a)(["common","soajs"]).t,r=Object(n.useState)([]),c=Object(y.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)("Pod"),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)(Ki),p=Object(y.a)(m,2),b=p[0],h=p[1],O=Object(n.useState)({show:!1,item:{},json:null}),x=Object(y.a)(O,2),f=x[0],w=x[1];function k(){return(k=Object(v.a)(g.a.mark((function e(a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bi.addService(t.code,{body:n,mode:a});case 3:return e.next=5,A(!0);case 5:ie.success(s("soajs:messages.add_"+a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function C(){return(C=Object(v.a)(g.a.mark((function e(a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bi.deleteService(t.code,{name:n,mode:a});case 3:return e.next=5,A(!0);case 5:ie.success(s("soajs:messages.delete_"+a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function S(){return(S=Object(v.a)(g.a.mark((function e(a,n,r){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bi.updateService(t.code,{name:n,body:r,mode:a});case 3:return e.next=5,A(!0);case 5:ie.success(s("soajs:messages.update_"+a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function P(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),h(Object(N.a)(Object(N.a)({},b),{},Object(Ve.a)({},e.target.id,t)))}function A(e){return I.apply(this,arguments)}function I(){return(I=Object(v.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hi(o,b,t.code,u,h,a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(v.a)(g.a.mark((function e(){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={mode:b.mode,limit:3},b.name&&b.name.length>0&&(a.filter={fieldSelector:"metadata.name="+b.name}),b.continue&&(a.continue=b.continue),e.next=6,Bi.getServices(t.code,a);case 6:(n=e.sent)&&n.items&&(o(i.concat(n.items)),n.metadata&&n.metadata.continue?(b.continue=n.metadata.continue,b.remainingItemCount=n.metadata.remainingItemCount,h(Object(N.a)({},b))):(b.continue=null,b.remainingItemCount=0,h(Object(N.a)({},b)))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function M(e){return z.apply(this,arguments)}function z(){return(z=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,A(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&(h(Ki),Hi(o,Ki,t.code,u,h,e).catch()),function(){return e=!1}}),[t]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Mi,{modalOpt:f,setModalOpt:w,handleAction:function(e){e.kind=b.mode,function(e,t){return k.apply(this,arguments)}(e.kind,e).catch()}}),Object(E.jsx)(me.a,{className:"p-3 m-0",children:Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{md:3,lg:2,children:[Object(E.jsx)("h5",{className:"font-weight-bold m-0 float-left",children:s("soajs:titles.services")}),a.can("infra_service","add")&&Object(E.jsx)(Za,{className:"float-right pt-0 pb-1 pl-1 pr-1 ",onClick:function(){w({show:!0,item:{title:"Service"},json:null})}})]}),Object(E.jsx)(dt.a,{md:3,lg:2,children:Object(E.jsx)(_.a.Control,{style:{fontSize:"80%"},as:"select",id:"mode",value:b.mode,onChange:P,children:Object(E.jsx)("option",{value:"Service",children:"Service"})})}),Object(E.jsx)(dt.a,{children:Object(E.jsx)(_.a,{onSubmit:M,children:Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{xs:8,lg:9,children:Object(E.jsx)(_.a.Control,{id:"name",size:"sm",autoFocus:!0,value:b.name,onChange:P})}),Object(E.jsx)(dt.a,{xs:4,lg:3,children:Object(E.jsxs)(L.a,{className:"float-right",variant:"dark",size:"sm",onClick:M,children:[Object(E.jsx)(vt.c,{})," ",s("soajs:buttons.Search")]})})]})})})]})}),Object(E.jsx)("hr",{}),i.length>0&&"Service"===j&&Object(E.jsx)(Fi,{items:i,env:t.code.toLowerCase(),deleteItem:a.can("infra_service","delete")?function(e,t){return C.apply(this,arguments)}:null,editItem:a.can("infra_service","edit")?function(e,t,a){return S.apply(this,arguments)}:null}),b.continue&&Object(E.jsxs)(L.a,{size:"sm",className:"mt-3",block:!0,variant:"light",onClick:function(){return U.apply(this,arguments)},children:[Object(E.jsxs)(it.a,{variant:"light",className:"text-muted",children:["(",b.remainingItemCount," remaining)"]})," Click here to load more ..."]})]})}function Vi(e){e.environment;return Object(E.jsx)(ct.a,{variant:"info",className:"mt-4 mb-4",children:"Storage: coming soon"})}function qi(e){var t=e.items,a=e.deleteItem,s=e.editItem,r=Object(n.useState)({show:!1,json:{},mode:"view",title:""}),c=Object(y.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)({show:!1,item:{}}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({show:!1,item:{},json:null}),p=Object(y.a)(m,2),b=p[0],h=p[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ui,{modalOpt:i,setModalOpt:o}),a&&Object(E.jsx)(Ci,{modalOpt:j,setModalOpt:u,handleAction:function(e){a("Secret",e)}}),s&&Object(E.jsx)(Si,{modalOpt:b,setModalOpt:h,handleAction:function(e,t){t.kind="Secret",s(t.kind,t.metadata.name,t)}}),t.map((function(e,t){return Object(E.jsx)(ct.a,{variant:"info",className:"p-1 m-1",children:Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{children:[Object(E.jsx)(it.a,{variant:"danger",className:"float-left mr-3 small mt-1",children:"secret"}),Object(E.jsx)("span",{className:"small",children:e.metadata.name})]}),Object(E.jsxs)(dt.a,{children:[Object(E.jsx)("span",{className:"small float-left mr-2",children:e.metadata.creationTimestamp}),Object(E.jsx)(L.a,{size:"sm",variant:"light",className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",children:Object(E.jsx)(C.e,{className:"text-primary",onClick:function(){var t,a;t=e,a=e.metadata.name,o({show:!0,json:t,mode:"view",title:a||""})}})}),s&&Object(E.jsx)(rn,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t,a;t={title:e.metadata.name,name:e.metadata.name},a=G.a.merge({},e),h({show:!0,item:t,json:a})}}),a&&Object(E.jsx)(Xa,{className:"float-right pt-0 pb-1 pl-1 pr-1 ml-2",onClick:function(){var t;t={title:e.metadata.name,name:e.metadata.name},u({show:!0,item:t})}})]})]})},t)}))]})}var Yi={type:"",name:"",label:"",server:"",email:"",username:"",password:"",text:"",file:null,json:null},Xi=Et.getService(),Qi=null;function Zi(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=T().ability,c=Object(Ee.a)(["common","soajs"]).t,i=Object(n.useState)(!1),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)(Yi),u=Object(y.a)(j,2),m=u[0],p=u[1];function b(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),"number"===e.target.type&&(t=parseInt(t)),p(Object(N.a)(Object(N.a)({},m),{},Object(Ve.a)({},e.target.id,t)))}var h=function(){Qi={},a({show:!1,json:{},mode:"code",item:{}})};function O(){return(O=Object(v.a)(g.a.mark((function e(a){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),d(!0),"Registry"!==m.type){e.next=17;break}return e.prev=3,n={username:m.username,password:m.password,email:m.email,server:m.server},e.next=7,Xi.addSecretRegistryWizard(t.item.env,m.name,[n]);case 7:s(),ie.success(c("soajs:messages.add_Secret")),h(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),ie.error(e.t0.message);case 15:e.next=32;break;case 17:return e.prev=17,r={name:m.label},"Text"===m.type&&(r.content=m.text),"Json"===m.type&&(r.content=JSON.stringify(m.json)),"File"===m.type&&(r.content=m.file),e.next=24,Xi.addSecretWizard(t.item.env,m.name,[r]);case 24:s(),ie.success(c("soajs:messages.add_Secret")),h(),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(17),ie.error(e.t1.message);case 32:d(!1);case 33:case"end":return e.stop()}}),e,null,[[3,12],[17,29]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){Qi={},p(Object(N.a)({},Yi))}),[t]),t&&Object(E.jsx)(xa.a,{show:t.show,onHide:h,animation:!1,size:"xl",children:Object(E.jsxs)(_.a,{onSubmit:function(e){return O.apply(this,arguments)},children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(E.jsx)(xa.a.Title,{children:t.item.title})}),Object(E.jsxs)(xa.a.Body,{children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:c("soajs:fields.Type")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"type",size:"sm",defaultValue:m.type,onChange:b,children:[Object(E.jsx)("option",{value:"---",children:" --- Select a type ---"}),r.can("infra_secret","add_wizard")&&Object(E.jsx)("option",{value:"Text",children:"Text Content"}),r.can("infra_secret","add_wizard")&&Object(E.jsx)("option",{value:"Json",children:"Json Content"}),r.can("infra_secret","add_wizard")&&Object(E.jsx)("option",{value:"File",children:"File Content"}),r.can("infra_secret","add_wizard_registry")&&Object(E.jsx)("option",{value:"Registry",children:"Private Registry"})]})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:c("soajs:fields.Name")}),Object(E.jsx)(_.a.Control,{required:!0,id:"name",size:"sm",value:m.name,onChange:b})]}),Object(E.jsx)("hr",{}),Object(E.jsxs)(ct.a,{variant:"light",children:["Text"===m.type&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:c("soajs:fields.Label")}),Object(E.jsx)(_.a.Control,{id:"label",size:"sm",value:m.label,onChange:b})]}),Object(E.jsx)(_.a.Group,{children:Object(E.jsx)(_.a.Control,{id:"text",as:"textarea",rows:15,size:"sm",value:m.text,onChange:b})})]}),"Json"===m.type&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:c("soajs:fields.Label")}),Object(E.jsx)(_.a.Control,{id:"label",size:"sm",value:m.label,onChange:b})]}),Object(E.jsx)("div",{style:{height:"400px"},children:Object(E.jsx)(ue,{mode:t.mode||"code",modes:["tree","code"],json:Qi||t.json||null,onChange:function(e){Qi=e,m.json=Qi}})})]}),"File"===m.type&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:c("soajs:fields.Label")}),Object(E.jsx)(_.a.Control,{id:"label",size:"sm",value:m.label,onChange:b})]}),Object(E.jsx)(_.a.Group,{children:Object(E.jsx)(_.a.File,{className:"position-relative",required:!0,name:"file",label:"File",onChange:function(e){var t=e.target.files[0];if(t)if(t.size>2048e3)ie.error("File size cannot exceed more than 2MB"),e.target.value=null,m[e.target.id]=null,p(Object(N.a)({},m));else{var a=new FileReader;a.onloadend=function(){var t=a.result;m[e.target.id]=t,p(Object(N.a)({},m))},a.readAsText(t)}else m[e.target.id]=null,p(Object(N.a)({},m))},id:"file"})})]}),"Registry"===m.type&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:c("soajs:fields.Server")}),Object(E.jsx)(_.a.Control,{id:"server",size:"sm",value:m.server,onChange:b}),Object(E.jsx)(_.a.Text,{className:"text-muted",children:"Enter the Registry Server: https://index.docker.io/v1/"})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:c("soajs:fields.Email")}),Object(E.jsx)(_.a.Control,{id:"email",size:"sm",value:m.email,onChange:b})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:c("soajs:fields.Username")}),Object(E.jsx)(_.a.Control,{id:"username",size:"sm",value:m.username,onChange:b})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:c("soajs:fields.Password")}),Object(E.jsx)(_.a.Control,{id:"password",size:"sm",value:m.password,onChange:b})]})]})]})]}),Object(E.jsxs)(xa.a.Footer,{className:"bg-light",children:[Object(E.jsx)(L.a,{variant:"info",onClick:h,children:c("soajs:buttons.Close")}),Object(E.jsx)(z,{variant:"success",type:"submit",isLoading:l,disabled:!function(){var e=!0;return"Text"===m.type&&(e=e&&m.label.length>0&&m.text.length>0),"Json"===m.type&&(e=e&&m.label.length>0&&Qi),"File"===m.type&&(e=e&&m.label.length>0&&m.file),"Registry"===m.type&&(e=e&&m.server.length>0&&m.email.length>0&&m.username.length>0&&m.password.length>0),e&&m.name.length>0}(),children:c("soajs:buttons.Add")})]})]})})}function $i(e){var t=Object.assign({},e),a=Object(Ee.a)(["common","soajs"]).t;return Object(E.jsx)(Va.a,{placement:"top",overlay:Object(E.jsx)(qa.a,{id:"tooltip-top}",children:a("soajs:buttons.AddWizard")}),children:Object(E.jsx)(L.a,Object(N.a)(Object(N.a)({variant:"success",size:"sm"},t),{},{children:Object(E.jsx)(pe.d,{})}))})}var eo=Et.getService(),to={name:"",mode:"Secret",continue:null,remainingItemCount:0};function ao(e,t,a,n,s,r){return no.apply(this,arguments)}function no(){return(no=Object(v.a)(g.a.mark((function e(t,a,n,s,r,c){var i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={mode:a.mode,limit:100},a.name&&a.name.length>0&&(i.filter={fieldSelector:"metadata.name="+a.name}),e.next=5,eo.getConfigurations(n,i);case 5:o=e.sent,c&&o&&o.items&&(t(o.items),s(a.mode),o.metadata&&o.metadata.continue?(a.continue=o.metadata.continue,a.remainingItemCount=o.metadata.remainingItemCount,r(Object(N.a)({},a))):(a.continue=null,a.remainingItemCount=0,r(Object(N.a)({},a)))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function so(e){var t=e.environment,a=T().ability,s=Object(Ee.a)(["common","soajs"]).t,r=Object(n.useState)([]),c=Object(y.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)("Pod"),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)(to),p=Object(y.a)(m,2),b=p[0],h=p[1],O=Object(n.useState)({show:!1,item:{},json:null}),x=Object(y.a)(O,2),f=x[0],w=x[1],k=Object(n.useState)({show:!1,item:{},json:null}),C=Object(y.a)(k,2),S=C[0],P=C[1];function A(){return(A=Object(v.a)(g.a.mark((function e(a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,eo.addConfiguration(t.code,{body:n,mode:a});case 3:return e.next=5,M(!0);case 5:ie.success(s("soajs:messages.add_"+a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function I(){return(I=Object(v.a)(g.a.mark((function e(a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,eo.deleteConfiguration(t.code,{name:n,mode:a});case 3:return e.next=5,M(!0);case 5:ie.success(s("soajs:messages.delete_"+a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function U(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),h(Object(N.a)(Object(N.a)({},b),{},Object(Ve.a)({},e.target.id,t)))}function M(e){return z.apply(this,arguments)}function z(){return(z=Object(v.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ao(o,b,t.code,u,h,a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(v.a)(g.a.mark((function e(){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={mode:b.mode,limit:3},b.name&&b.name.length>0&&(a.filter={fieldSelector:"metadata.name="+b.name}),b.continue&&(a.continue=b.continue),e.next=6,eo.getConfigurations(t.code,a);case 6:(n=e.sent)&&n.items&&(o(i.concat(n.items)),n.metadata&&n.metadata.continue?(b.continue=n.metadata.continue,b.remainingItemCount=n.metadata.remainingItemCount,h(Object(N.a)({},b))):(b.continue=null,b.remainingItemCount=0,h(Object(N.a)({},b)))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function G(e){return D.apply(this,arguments)}function D(){return(D=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,M(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&(h(to),ao(o,to,t.code,u,h,e).catch()),function(){return e=!1}}),[t]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Zi,{modalOpt:S,setModalOpt:P,handleAction:function(){M(!0).catch()}}),Object(E.jsx)(Mi,{modalOpt:f,setModalOpt:w,handleAction:function(e){e.kind=b.mode,function(e,t){return A.apply(this,arguments)}(e.kind,e).catch()}}),Object(E.jsx)(me.a,{className:"p-3 m-0",children:Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{md:3,lg:3,xl:2,children:[Object(E.jsx)("h5",{className:"font-weight-bold m-0 float-left",children:s("soajs:titles.secrets")}),a.can("infra_configuration","add")&&Object(E.jsx)(Za,{className:"float-right pt-0 pb-1 pl-1 pr-1",onClick:function(){var e;e={title:"Configuration "+b.mode},w({show:!0,item:e,json:null})}}),(a.can("infra_secret","add_wizard")||a.can("infra_secret","add_wizard_registry"))&&Object(E.jsx)($i,{className:"float-right pt-0 pb-1 pl-1 pr-1 mr-2 ml-1",onClick:function(){var e;e={title:b.mode+" Wizard",env:t.code},P({show:!0,item:e,json:{}})}})]}),Object(E.jsx)(dt.a,{md:3,lg:2,children:Object(E.jsx)(_.a.Control,{style:{fontSize:"80%"},as:"select",id:"mode",value:b.mode,onChange:U,children:Object(E.jsx)("option",{value:"Secret",children:"Secret"})})}),Object(E.jsx)(dt.a,{children:Object(E.jsx)(_.a,{onSubmit:G,children:Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{xs:8,lg:9,children:Object(E.jsx)(_.a.Control,{id:"name",size:"sm",autoFocus:!0,value:b.name,onChange:U})}),Object(E.jsx)(dt.a,{xs:4,lg:3,children:Object(E.jsxs)(L.a,{className:"float-right",variant:"dark",size:"sm",onClick:G,children:[Object(E.jsx)(vt.c,{})," ",s("soajs:buttons.Search")]})})]})})})]})}),Object(E.jsx)("hr",{}),i.length>0&&"Secret"===j&&Object(E.jsx)(qi,{items:i,env:t.code.toLowerCase(),deleteItem:a.can("infra_configuration","delete")?function(e,t){return I.apply(this,arguments)}:null}),b.continue&&Object(E.jsxs)(L.a,{size:"sm",className:"mt-3",block:!0,variant:"light",onClick:function(){return R.apply(this,arguments)},children:[Object(E.jsxs)(it.a,{variant:"light",className:"text-muted",children:["(",b.remainingItemCount," remaining)"]})," Click here to load more ..."]})]})}function ro(e){var t=e.environment;return Object(E.jsxs)(w.g,{children:[Object(E.jsx)(I,{path:"/environments/manage/:env/cluster/nodes",children:Object(E.jsx)(xi,{environment:t})}),Object(E.jsx)(I,{path:"/environments/manage/:env/cluster/workloads",children:Object(E.jsx)(Di,{environment:t})}),Object(E.jsx)(I,{path:"/environments/manage/:env/cluster/services",children:Object(E.jsx)(Wi,{environment:t})}),Object(E.jsx)(I,{path:"/environments/manage/:env/cluster/storage",children:Object(E.jsx)(Vi,{environment:t})}),Object(E.jsx)(I,{path:"/environments/manage/:env/cluster/configuration",children:Object(E.jsx)(so,{environment:t})}),Object(E.jsx)(I,{path:"/environments/manage/:env/cluster/rbac",children:Object(E.jsx)(ji,{environment:t})})]})}function co(e){var t=e.environment;return t&&Object(E.jsx)(E.Fragment,{children:t.deployer&&"container"===t.deployer.type?Object(E.jsx)(ro,{environment:t}):Object(E.jsxs)(ct.a,{variant:"info",className:"mt-4 mb-4",children:["This environment is of type ",Object(E.jsx)("span",{className:"text-success",children:"manual"}),", Cluster is only available for environments of type ",Object(E.jsx)("span",{className:"text-info",children:"container"})]})})}function io(e){var t=e.registry,a=Object(Ee.a)(["common","soajs"]).t;return t&&Object(E.jsxs)("div",{children:[Object(E.jsx)(ot.a,{bg:"light",children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)(lt.a,{children:Object(E.jsx)(dt.a,{children:Object(E.jsxs)("span",{className:"small",children:[t.protocol,"://",t.apiPrefix?t.apiPrefix+".":"",t.domain,":",t.port]})})}),Object(E.jsx)(lt.a,{className:"mt-3 small",children:Object(E.jsx)(dt.a,{children:t.description})})]})}),Object(E.jsxs)(xt.a,{className:"mb-4 small mt-4",children:[Object(E.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)(ot.a.Title,{children:a("soajs:fields.Awareness")}),Object(E.jsxs)(Gn.a,{variant:"flush",children:[Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.CacheTTL"),":"]})," ",t.services.config.awareness.cacheTTL]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Healthcheckinterval"),":"]})," ",t.services.config.awareness.healthCheckInterval]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Autoreloadregistry"),":"]})," ",t.services.config.awareness.autoRelaodRegistry]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Maxlogcount"),":"]})," ",t.services.config.awareness.maxLogCount]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Automaticregisterservice"),":"]})," ",""+t.services.config.awareness.autoRegisterService]})]})]})}),Object(E.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)(ot.a.Title,{children:a("soajs:fields.Cors")}),Object(E.jsxs)(Gn.a,{variant:"flush",children:[Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Enabled"),":"]})," ",""+t.services.config.cors.enabled]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Credentials"),":"]})," ",""+t.services.config.cors.credentials]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Origin"),":"]})," ",t.services.config.cors.origin]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Maxage"),":"]})," ",""+t.services.config.cors.maxage]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Methods"),":"]})," ",t.services.config.cors.methods]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Headers"),":"]})," ",""+t.services.config.cors.headers]})]})]})})]}),Object(E.jsxs)(xt.a,{className:"mb-4 small",children:[Object(E.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)(ot.a.Title,{children:a("soajs:fields.Requests")}),Object(E.jsxs)(Gn.a,{variant:"flush",children:[Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Authorization"),":"]})," ",""+t.services.controller.authorization]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Timeout"),":"]})," ",t.services.controller.requestTimeout]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Timeoutrenewal"),":"]})," ",t.services.controller.requestTimeoutRenewal]})]})]})}),Object(E.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)(ot.a.Title,{children:a("soajs:fields.Ports")}),Object(E.jsxs)(Gn.a,{variant:"flush",children:[Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Gatewayport"),":"]})," ",t.services.config.ports.controller]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Gatewaymaintenanceport"),":"]})," ",t.services.config.ports.controller+t.services.config.ports.maintenanceInc]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Randomizedportincrement"),":"]})," ",t.services.config.ports.randomInc]})]})]})})]}),Object(E.jsxs)(xt.a,{className:"mb-4 small",children:[Object(E.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)(ot.a.Title,{children:a("soajs:fields.Logger")}),Object(E.jsx)(ue,{mode:"preview",json:t.services.config.logger||{}})]})}),Object(E.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)(ot.a.Title,{children:a("soajs:fields.Oauth")}),Object(E.jsxs)(Gn.a,{variant:"flush",children:[Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Grants"),":"]})," ",t.services.config.oauth.grants.join(", ")]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Debug"),":"]})," ",""+t.services.config.oauth.debug]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Getuserinformationfromtoken"),":"]})," ",""+t.services.config.oauth.getUserFromToken]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Accesstokenlifetime"),":"]})," ",t.services.config.oauth.accessTokenLifetime]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold mr-3",children:[a("soajs:fields.Refreshtokenlifetime"),":"]})," ",t.services.config.oauth.refreshTokenLifetime]})]})]})})]})]})}function oo(e){var t=e.registry,a=e.fields,n=e.setFields,s=Object(Ee.a)(["common","soajs"]).t;function r(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var s=a;D(s,e.target.id,t),n(Object(N.a)({},s))}return t&&Object(E.jsxs)(_.a,{children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Description")}),Object(E.jsx)(_.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:a.description,onChange:r})]}),Object(E.jsxs)(ct.a,{variant:"light",style:{border:"1px solid rgba(0,0,0,.125)"},children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Domain")}),Object(E.jsx)(_.a.Control,{id:"domain",size:"sm",value:a.domain,onChange:r})]}),Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Protocol")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"protocol",size:"sm",defaultValue:a.protocol,onChange:r,children:[Object(E.jsx)("option",{value:"https",children:"https"}),Object(E.jsx)("option",{value:"http",children:"http"})]})]})}),Object(E.jsx)(dt.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Port")}),Object(E.jsx)(_.a.Control,{id:"port",size:"sm",type:"number",value:a.port,onChange:r})]})})]}),Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.apiPrefix")}),Object(E.jsx)(_.a.Control,{id:"apiPrefix",size:"sm",value:a.apiPrefix,onChange:r})]})}),Object(E.jsx)(dt.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.sitePrefix")}),Object(E.jsx)(_.a.Control,{id:"sitePrefix",size:"sm",value:a.sitePrefix,onChange:r})]})})]}),Object(E.jsx)(lt.a,{children:Object(E.jsx)(dt.a,{className:"small text-muted text-center",children:s("soajs:messages.prefixMsg")})})]}),Object(E.jsx)("hr",{}),Object(E.jsxs)(xt.a,{className:"mb-4 small mt-4",children:[Object(E.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)(ot.a.Title,{children:s("soajs:fields.Awareness")}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.CacheTTL")}),Object(E.jsx)(_.a.Control,{id:"services.config.awareness.cacheTTL",size:"sm",type:"number",value:a.services.config.awareness.cacheTTL,onChange:r})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Healthcheckinterval")}),Object(E.jsx)(_.a.Control,{id:"services.config.awareness.healthCheckInterval",size:"sm",type:"number",value:a.services.config.awareness.healthCheckInterval,onChange:r})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Autoreloadregistry")}),Object(E.jsx)(_.a.Control,{id:"services.config.awareness.autoRelaodRegistry",size:"sm",type:"number",value:a.services.config.awareness.autoRelaodRegistry,onChange:r})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Maxlogcount")}),Object(E.jsx)(_.a.Control,{id:"services.config.awareness.maxLogCount",size:"sm",type:"number",value:a.services.config.awareness.maxLogCount,onChange:r})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Automaticregisterservice")}),Object(E.jsxs)(_.a.Control,{id:"services.config.awareness.autoRegisterService",as:"select",size:"sm",defaultValue:a.services.config.awareness.autoRegisterService,onChange:r,children:[Object(E.jsx)("option",{value:"true",children:"True"}),Object(E.jsx)("option",{value:"false",children:"False"})]})]})]})}),Object(E.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)(ot.a.Title,{children:s("soajs:fields.Cors")}),Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Enabled")}),Object(E.jsxs)(_.a.Control,{id:"services.config.cors.enabled",as:"select",size:"sm",defaultValue:a.services.config.cors.enabled,onChange:r,children:[Object(E.jsx)("option",{value:"true",children:"True"}),Object(E.jsx)("option",{value:"false",children:"False"})]})]})}),Object(E.jsx)(dt.a,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Credentials")}),Object(E.jsxs)(_.a.Control,{id:"services.config.cors.credentials",as:"select",size:"sm",defaultValue:a.services.config.cors.credentials,onChange:r,children:[Object(E.jsx)("option",{value:"true",children:"True"}),Object(E.jsx)("option",{value:"false",children:"False"})]})]})})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Origin")}),Object(E.jsx)(_.a.Control,{id:"services.config.cors.origin",size:"sm",value:a.services.config.cors.origin,onChange:r})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Maxage")}),Object(E.jsx)(_.a.Control,{id:"services.config.cors.maxage",size:"sm",type:"number",value:a.services.config.cors.maxage,onChange:r})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Methods")}),Object(E.jsx)(_.a.Control,{id:"services.config.cors.methods",size:"sm",value:a.services.config.cors.methods,onChange:r})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Headers")}),Object(E.jsx)(_.a.Control,{id:"services.config.cors.headers",size:"sm",as:"textarea",rows:3,value:a.services.config.cors.headers,onChange:r})]})]})})]}),Object(E.jsxs)(xt.a,{className:"mb-4 small mt-4",children:[Object(E.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)(ot.a.Title,{children:s("soajs:fields.Requests")}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Authorization")}),Object(E.jsxs)(_.a.Control,{id:"services.controller.authorization",size:"sm",as:"select",defaultValue:a.services.controller.authorization,onChange:r,children:[Object(E.jsx)("option",{value:"true",children:"True"}),Object(E.jsx)("option",{value:"false",children:"False"})]})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Timeout")}),Object(E.jsx)(_.a.Control,{id:"services.controller.requestTimeout",size:"sm",type:"number",value:a.services.controller.requestTimeout,onChange:r})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Timeoutrenewal")}),Object(E.jsx)(_.a.Control,{id:"services.controller.requestTimeoutRenewal",size:"sm",type:"number",value:a.services.controller.requestTimeoutRenewal,onChange:r})]})]})}),Object(E.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)(ot.a.Title,{children:s("soajs:fields.Ports")}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Controller")}),Object(E.jsx)(_.a.Control,{id:"services.config.ports.controller",size:"sm",type:"number",value:a.services.config.ports.controller,onChange:r})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.MaintenanceInc")}),Object(E.jsx)(_.a.Control,{id:"services.config.ports.maintenanceInc",size:"sm",type:"number",value:a.services.config.ports.maintenanceInc,onChange:r})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.RandomInc")}),Object(E.jsx)(_.a.Control,{id:"services.config.ports.randomInc",size:"sm",type:"number",value:a.services.config.ports.randomInc,onChange:r})]})]})})]}),Object(E.jsxs)(xt.a,{className:"mb-4 small mt-4",children:[Object(E.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)(ot.a.Title,{children:s("soajs:fields.Logger")}),Object(E.jsx)(ue,{mode:"code",json:a.services.config.logger||{},onChange:function(e){a.services.config.logger=e}})]})}),Object(E.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)(ot.a.Title,{children:s("soajs:fields.Oauth")}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Debug")}),Object(E.jsxs)(_.a.Control,{id:"services.config.oauth.debug",as:"select",size:"sm",defaultValue:a.services.config.oauth.debug,onChange:r,children:[Object(E.jsx)("option",{value:"true",children:"True"}),Object(E.jsx)("option",{value:"false",children:"False"})]})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Getuserinformationfromtoken")}),Object(E.jsxs)(_.a.Control,{id:"services.config.oauth.getUserFromToken",as:"select",size:"sm",defaultValue:a.services.config.oauth.getUserFromToken,onChange:r,children:[Object(E.jsx)("option",{value:"true",children:"True"}),Object(E.jsx)("option",{value:"false",children:"False"})]})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Accesstokenlifetime")}),Object(E.jsx)(_.a.Control,{id:"services.config.oauth.accessTokenLifetime",size:"sm",type:"number",value:a.services.config.oauth.accessTokenLifetime,onChange:r})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:s("soajs:fields.Refreshtokenlifetime")}),Object(E.jsx)(_.a.Control,{id:"services.config.oauth.refreshTokenLifetime",size:"sm",type:"number",value:a.services.config.oauth.refreshTokenLifetime,onChange:r})]})]})})]})]})}function lo(e){var t=e.registry,a=Object(Ee.a)(["common","soajs"]).t;return t&&Object(E.jsx)("div",{children:t.deployer&&"container"===t.deployer.type?Object(E.jsxs)(ot.a,{children:[Object(E.jsxs)(ot.a.Header,{children:[a("soajs:titles.Containerdeploymentdetect"),":"]}),Object(E.jsx)(ot.a.Body,{className:"mt-3 mb-3",children:a("soajs:messages.containerMsg1")}),Object(E.jsx)(ot.a.Footer,{children:Object(E.jsxs)("small",{className:"text-muted",children:[a("soajs:messages.manualMsg2")," ",Object(E.jsx)("a",{href:"https://soajsorg.atlassian.net/wiki/spaces/CON/pages/1914142723/Awareness",children:a("common:ClickHere")})]})})]}):Object(E.jsxs)(ot.a,{children:[Object(E.jsxs)(ot.a.Header,{children:[a("soajs:titles.Manualdeploymentdetect"),":"]}),Object(E.jsxs)(ot.a.Body,{className:"mt-3 mb-3",children:[a("soajs:messages.manualMsg1"),Object(E.jsx)("hr",{}),Object(E.jsxs)(Gn.a,{variant:"flush",children:[Object(E.jsxs)(Dn.a,{children:[Object(E.jsx)("span",{className:"font-weight-bold mr-3",children:"SOAJS_ENV:"})," ",t.code]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsx)("span",{className:"font-weight-bold mr-3",children:"SOAJS_DEPLOY_MANUAL:"})," 1"]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsx)("span",{className:"font-weight-bold mr-3",children:"SOAJS_REGISTRY_API:"})," ",t.deployer.manual.nodes,":",t.services.config.ports.controller+t.services.config.ports.maintenanceInc]})]})]}),Object(E.jsx)(ot.a.Footer,{children:Object(E.jsxs)("small",{className:"text-muted",children:[a("soajs:messages.manualMsg2")," ",Object(E.jsx)("a",{href:"https://soajsorg.atlassian.net/wiki/spaces/CON/pages/1914142723/Awareness",children:a("common:ClickHere")})]})})]})})}var jo=we.getService(),uo=St.getService();function mo(e,t){return e&&e.acl&&e.acl.groups&&e.acl.groups.value&&e.acl.groups.value.includes(t)}function po(e){var t=e.settings,a=e.id,s=e.handleAction,r=e.handleClose,c=Object(Ee.a)(["common","soajs"]).t,i=T().ability,o=Object(n.useState)([]),l=Object(y.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)({groups:[],type:"whitelist"}),m=Object(y.a)(u,2),p=m[0],b=m[1];function h(e,t){var a=p;a.type=t,b(Object(N.a)({},a))}function O(){return(O=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,uo.deleteResourceRegistryAcl(a);case 4:ie.success(c("soajs:messages.resourceGroupDeleteSuccess")),s(),r(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function x(){return(x=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,uo.saveResourceRegistryAcl({id:a,groups:p.groups,type:p.type});case 4:ie.success(c("soajs:messages.resourceGroupSaveSuccess")),s(),r(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t&&t.acl&&t.acl.groups&&b({groups:t.acl.groups.value,type:t.acl.groups.type}),a.next=4,jo.getGroups();case 4:n=a.sent,e&&j(n),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),ie.error(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){return e=!1}}),[t]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(me.a,{className:"p-4 m-0 bg-light border-dark small",children:Object(E.jsxs)("fieldset",{children:[Object(E.jsx)(_.a.Check,{type:"radio",label:"whitelist",name:"groupsType",id:"groupsType1",defaultChecked:"whitelist"===p.type,onChange:function(e){h(e.target.checked,"whitelist")}}),Object(E.jsx)(_.a.Check,{type:"radio",label:"blacklist",name:"groupsType",id:"groupsType2",defaultChecked:"blacklist"===p.type,onChange:function(e){h(e.target.checked,"blacklist")}})]})}),Object(E.jsx)(xt.a,{className:"ml-2",children:d.map((function(e,a){return Object(E.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(E.jsx)(ot.a.Body,{className:"p-2",children:Object(E.jsx)(_.a.Check,{className:"small",type:"checkbox",defaultChecked:mo(t,e.code),label:e.code,onChange:function(t){!function(e,t){var a=p;e?a.groups.push(t):G.a.pullAll(a.groups,[t]),b(Object(N.a)({},a))}(t.target.checked,e.code)}},a+1)})},a)}))}),Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{children:[Object(E.jsx)(L.a,{className:"ml-1 float-right",variant:"warning",onClick:r,children:c("soajs:buttons.Close")}),i.can("registry_custom","update_acl")&&Object(E.jsx)(L.a,{className:"ml-1 float-right",variant:"success",disabled:!1,onClick:function(e){return x.apply(this,arguments)},children:c("soajs:buttons.Save")}),i.can("registry_custom","delete_acl")&&Object(E.jsx)(L.a,{className:"ml-1 float-right",variant:"danger",disabled:!1,onClick:function(e){return O.apply(this,arguments)},children:c("soajs:buttons.Delete")})]})]})}function bo(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAfterSubmit,s=Object(Ee.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})};return Object(E.jsx)(E.Fragment,{children:t.item&&Object(E.jsxs)(xa.a,{size:"lg",show:t.show,onHide:r,animation:!1,children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:s("soajs:titles.ResourceRegistry")})}),Object(E.jsxs)(xa.a.Body,{children:[Object(E.jsx)(me.a,{className:"p-4",children:Object(E.jsx)("span",{className:"font-weight-bold",children:t.item.name})}),Object(E.jsx)(_.a,{onSubmit:function(e){e.preventDefault()},children:Object(E.jsx)(Ra.a,{className:"mb-3",defaultActiveKey:"acl",id:"config",children:Object(E.jsx)(Ga.a,{eventKey:"acl",title:s("soajs:fields.Groups"),children:Object(E.jsx)(po,{settings:t.item.settings,handleAction:function(){n()},handleClose:r,id:t.item._id})})})})]})]})})}var ho=St.getService();function Oo(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ee.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})};function c(){return(c=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ho.deleteResourceRegistry(t.item._id,t.item.created);case 3:ie.success(s("soajs:messages.deleteResource")),n(),r(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(E.jsxs)(xa.a,{show:t.show,onHide:r,animation:!1,children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:s("soajs:buttons.Delete")})}),Object(E.jsx)(xa.a.Body,{children:s("soajs:messages.deleteQuestion")}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:r,children:s("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"danger",onClick:function(){return c.apply(this,arguments)},children:s("soajs:buttons.Delete")})]})]})}var xo=a(98),fo=St.getService(),go={};function vo(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=e.environments,c=e.environment,i=Object(Ee.a)(["common","soajs"]).t,o=function(){return a({show:!1,opts:null})},l=Object(n.useState)({}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({name:"",plugged:!1,shared:!1,type:"",category:""}),p=Object(y.a)(m,2),b=p[0],h=p[1],O=Object(n.useState)({}),x=Object(y.a)(O,2),f=x[0],w=x[1];function k(e){var t=!1;if(e.target.hasOwnProperty("checked")&&(t=e.target.checked),t)w(Object(N.a)(Object(N.a)({},f),{},Object(Ve.a)({},e.target.id,t)));else{var a=f;delete a[e.target.id],w(Object(N.a)({},a))}}function C(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),h(Object(N.a)(Object(N.a)({},b),{},Object(Ve.a)({},e.target.id,t)))}function S(){return(S=Object(v.a)(g.a.mark((function e(){var t,a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,t={},a=Object.keys(f),n=0;n<a.length;n++)f[a[n]]&&(t[a[n]]=f[a[n]]);return(r={name:b.name,plugged:b.plugged,shared:b.shared,sharedEnvs:t,type:b.type,category:b.category}).config=go,e.next=8,fo.addResource(c.code,r);case 8:ie.success(i("soajs:messages.addResource")),s(),o(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),ie.error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;if(e&&t){h({name:"",plugged:!1,shared:!1,type:"",category:""});for(var a={},n=0;n<r.length;n++)a[r[n].code]=!1;w(Object(N.a)({},a)),go={}}return function(){return e=!1}}),[t,r]),Object(E.jsxs)(xa.a,{show:t.show,onHide:o,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:i("soajs:titles.resourceRegistryAdd")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsx)(_.a,{children:Object(E.jsxs)(Ra.a,{className:"mb-3",defaultActiveKey:"value",id:"config",children:[Object(E.jsxs)(Ga.a,{eventKey:"value",title:i("soajs:fields.Configuration"),children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:i("soajs:fields.Name")}),Object(E.jsx)(_.a.Control,{id:"name",size:"sm",value:b.name,onChange:C})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:i("soajs:fields.Type")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"type",defaultValue:b.type,onChange:C,children:[Object(E.jsx)("option",{value:"",children:i("soajs:fields.SelectType")}),xo.type.map((function(e,t){return Object(E.jsx)("option",{value:e.v,children:e.l},t)}))]})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:i("soajs:fields.Category")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"category",defaultValue:b.category,onChange:function(e){C(e),function(e){var t=e.target.value;if(xo.category[b.type])for(var a=0;a<xo.category[b.type].length;a++)xo.category[b.type][a].v===t&&(xo.category[b.type][a].schema?(go=xo.category[b.type][a].schema,u(xo.category[b.type][a].schema)):(go={},u({})))}(e)},children:[Object(E.jsx)("option",{value:"",children:i("soajs:fields.SelectCategory")}),b.type&&xo.category[b.type]&&xo.category[b.type].map((function(e,t){return Object(E.jsx)("option",{value:e.v,children:e.l},t)}))]})]}),Object(E.jsxs)(_.a.Group,{style:{height:"400px"},children:[Object(E.jsx)(_.a.Label,{children:i("soajs:fields.Value")}),Object(E.jsx)(ue,{mode:"code",json:go||j,onChange:function(e){go=e}})]})]}),Object(E.jsxs)(Ga.a,{eventKey:"settings",title:i("soajs:fields.Settings"),children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{className:"float-left",children:i("soajs:fields.PlugConfiguration")}),Object(E.jsx)(_.a.Check,{className:"float-right",id:"plugged",size:"sm",type:"switch",checked:b.plugged,onChange:C}),Object(E.jsx)("span",{className:"clearfix"})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{className:"float-left",children:i("soajs:fields.ShareConfiguration")}),Object(E.jsx)(_.a.Check,{className:"float-right",id:"shared",size:"sm",type:"switch",checked:b.shared,onChange:C}),Object(E.jsx)("span",{className:"clearfix"})]}),b.shared&&Object(E.jsx)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:Object(E.jsx)("tbody",{children:r.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:(!c||c.code!==e.code)&&Object(E.jsx)(_.a.Check,{id:e.code,size:"sm",type:"switch",checked:f[e.code],onChange:k})}),Object(E.jsx)("td",{children:e.code}),Object(E.jsx)("td",{children:e.description})]},t)}))})})]})]})})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:o,children:i("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return S.apply(this,arguments)},disabled:!(b.name.length>0&&b.type.length>0&&b.category.length>0),children:i("soajs:buttons.Add")})]})]})}var yo=St.getService(),wo={};function ko(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=e.environments,c=e.environment,i=Object(Ee.a)(["common","soajs"]).t,o=function(){return a({show:!1,item:null})},l=Object(n.useState)({id:"",name:"",plugged:!1,shared:!1,type:"",category:""}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({}),p=Object(y.a)(m,2),b=p[0],h=p[1];function O(e){var t=!1;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=b;t?(a[e.target.id]=t,h(Object(N.a)({},a))):(delete a[e.target.id],h(Object(N.a)({},a)))}function x(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),u(Object(N.a)(Object(N.a)({},j),{},Object(Ve.a)({},e.target.id,t)))}function f(){return(f=Object(v.a)(g.a.mark((function e(){var t,a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,t={},a=Object.keys(b),n=0;n<a.length;n++)b[a[n]]&&(t[a[n]]=b[a[n]]);return(r={name:j.name,plugged:j.plugged,shared:j.shared,sharedEnvs:t,type:j.type,category:j.category}).config=wo,e.next=8,yo.updateResource(c.code,j.id,r);case 8:ie.success(i("soajs:messages.updateResource")),s(),o(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),ie.error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;if(e&&t&&t.item){u({id:t.item._id,name:t.item.name,plugged:t.item.plugged,shared:t.item.shared,type:t.item.type,category:t.item.category}),t.item.sharedEnvs||(t.item.sharedEnvs={});for(var a={},n=0;n<r.length;n++)a[r[n].code]=!!t.item.sharedEnvs[r[n].code];h(Object(N.a)({},a)),wo=t.item.config||{}}return function(){return e=!1}}),[t,r]),t&&t.item?Object(E.jsxs)(xa.a,{show:t.show,onHide:o,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:i("soajs:titles.resourceRegistryUpdate")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsx)(_.a,{children:Object(E.jsxs)(Ra.a,{className:"mb-3",defaultActiveKey:"value",id:"config",children:[Object(E.jsxs)(Ga.a,{eventKey:"value",title:i("soajs:fields.Configuration"),children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:i("soajs:fields.Name")}),Object(E.jsx)(_.a.Control,{id:"name",size:"sm",value:j.name,onChange:x})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:i("soajs:fields.Type")}),Object(E.jsx)(_.a.Control,{id:"type",size:"sm",value:j.type,disabled:!0})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:i("soajs:fields.Category")}),Object(E.jsx)(_.a.Control,{id:"category",size:"sm",value:j.category,disabled:!0})]}),Object(E.jsxs)(_.a.Group,{style:{height:"400px"},children:[Object(E.jsx)(_.a.Label,{children:i("soajs:fields.Value")}),Object(E.jsx)(ue,{mode:"code",json:wo,onChange:function(e){wo=e}})]})]}),Object(E.jsxs)(Ga.a,{eventKey:"settings",title:i("soajs:fields.Settings"),children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{className:"float-left",children:i("soajs:fields.PlugConfiguration")}),Object(E.jsx)(_.a.Check,{className:"float-right",id:"plugged",size:"sm",type:"switch",checked:j.plugged,onChange:x}),Object(E.jsx)("span",{className:"clearfix"})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{className:"float-left",children:i("soajs:fields.ShareConfiguration")}),Object(E.jsx)(_.a.Check,{className:"float-right",id:"shared",size:"sm",type:"switch",checked:j.shared,onChange:x}),Object(E.jsx)("span",{className:"clearfix"})]}),j.shared&&Object(E.jsx)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:Object(E.jsx)("tbody",{children:r.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:(!c||c.code!==e.code)&&Object(E.jsx)(_.a.Check,{id:e.code,size:"sm",type:"switch",checked:b[e.code],onChange:O})}),Object(E.jsx)("td",{children:e.code}),Object(E.jsx)("td",{children:e.description})]},t)}))})})]})]})})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:o,children:i("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return f.apply(this,arguments)},disabled:!(j.name.length>0&&j.type.length>0&&j.category.length>0),children:i("soajs:buttons.Update")})]})]}):null}var Co=St.getService();function No(e,t,a){return So.apply(this,arguments)}function So(){return(So=Object(v.a)(g.a.mark((function e(t,a,n){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Co.getResourceRegistry(t.code);case 3:s=e.sent,n&&s&&a(s),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Po(e){var t=e.environment,a=e.environments,s=e.reloadClusters,r=Object(Ee.a)(["common","soajs"]).t,c=T().ability,i=Object(n.useState)([]),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({show:!1,item:null}),u=Object(y.a)(j,2),m=u[0],p=u[1],b=Object(n.useState)({show:!1,item:null}),h=Object(y.a)(b,2),O=h[0],x=h[1],f=Object(n.useState)({show:!1}),w=Object(y.a)(f,2),k=w[0],C=w[1],N=Object(n.useState)({show:!1,item:null}),S=Object(y.a)(N,2),P=S[0],A=S[1];function I(){return U.apply(this,arguments)}function U(){return(U=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,No(t,d,!0);case 2:s();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return z.apply(this,arguments)}function z(){return(z=Object(v.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Co.unplugPlugResource({id:t._id,env:t.created,plugged:a});case 3:return a?ie.success(r("soajs:messages.pluggedResource")):ie.success(r("soajs:messages.unpluggedResource")),e.next=6,I();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return t&&No(t,d,e),function(){return e=!1}}),[t]),t&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ko,{modalOpt:P,setModalOpt:A,handleAction:I,environments:a,environment:t}),Object(E.jsx)(vo,{modalOpt:k,setModalOpt:C,handleAction:I,environments:a,environment:t}),Object(E.jsx)(Oo,{modalOpt:O,setModalOpt:x,handleAction:I}),Object(E.jsx)(bo,{modalOpt:m,setModalOpt:p,handleAfterSubmit:I}),Object(E.jsxs)("div",{children:[Object(E.jsx)("h4",{className:"float-left",children:r("soajs:titles.resourceRegistry")}),c.can("registry_resource","add")&&Object(E.jsxs)(L.a,{variant:"success",className:"float-right",size:"sm",onClick:function(){C({show:!0})},children:[Object(E.jsx)(Qa.a,{})," ",r("soajs:buttons.Add")]}),Object(E.jsx)("span",{className:"clearfix"})]}),Object(E.jsx)("hr",{}),l.length>0?Object(E.jsx)(E.Fragment,{children:l.map((function(e,a){return Object(E.jsxs)(ct.a,{variant:"light",className:"mt-4 mb-4",style:{borderColor:"#c6c8ca"},children:[Object(E.jsxs)("span",{className:"float-left",children:[Object(E.jsx)(vt.d,{className:e.shared?"text-success":""})," ",Object(E.jsx)("span",{className:" ml-2 font-weight-bold",children:e.name})]}),t.code.toLowerCase()!==e.created.toLowerCase()?Object(E.jsxs)("div",{children:[Object(E.jsxs)("span",{className:"float-right",children:[" from: ",e.created]}),Object(E.jsx)("span",{className:"clearfix"})]}):Object(E.jsxs)("div",{children:[c.can("registry_resource","delete")&&Object(E.jsx)(Xa,{className:"float-right ml-2",onClick:function(){x({show:!0,item:e})}}),Object(E.jsx)(Ir,{className:"float-right ml-5",onClick:function(){p({show:!0,item:e})}}),Object(E.jsx)(L.a,{variant:"primary",className:"float-right ml-2",size:"sm",disabled:!c.can("registry_resource","edit"),onClick:function(){A({show:!0,item:e})},children:"Configure"}),e.plugged&&Object(E.jsx)(L.a,{variant:"warning",className:"float-right ml-2",size:"sm",disabled:!c.can("registry_resource","edit"),onClick:function(){M(e,!1)},children:"Unplug"}),!e.plugged&&Object(E.jsx)(L.a,{variant:"success",className:"float-right ml-2",size:"sm",disabled:!c.can("registry_resource","edit"),onClick:function(){M(e,!0)},children:"Plug"}),Object(E.jsx)("span",{className:"clearfix"})]})]},a)}))}):Object(E.jsx)(ct.a,{variant:"secondary",className:"mt-4 mb-4",children:r("soajs:messages.empty")})]})}var Ao=we.getService(),To=St.getService();function Eo(e,t){return e&&e.acl&&e.acl.groups&&e.acl.groups.value&&e.acl.groups.value.includes(t)}function Io(e){var t=e.settings,a=e.id,s=e.handleAction,r=e.handleClose,c=Object(Ee.a)(["common","soajs"]).t,i=T().ability,o=Object(n.useState)([]),l=Object(y.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)({groups:[],type:"whitelist"}),m=Object(y.a)(u,2),p=m[0],b=m[1];function h(e,t){var a=p;a.type=t,b(Object(N.a)({},a))}function O(){return(O=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,To.deleteCustomRegistryAcl(a);case 4:ie.success(c("soajs:messages.customGroupDeleteSuccess")),s(),r(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function x(){return(x=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,To.saveCustomRegistryAcl({id:a,groups:p.groups,type:p.type});case 4:ie.success(c("soajs:messages.customGroupSaveSuccess")),s(),r(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t&&t.acl&&t.acl.groups&&b({groups:t.acl.groups.value,type:t.acl.groups.type}),a.next=4,Ao.getGroups();case 4:n=a.sent,e&&j(n),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),ie.error(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){return e=!1}}),[t]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(me.a,{className:"p-4 m-0 bg-light border-dark small",children:Object(E.jsxs)("fieldset",{children:[Object(E.jsx)(_.a.Check,{type:"radio",label:"whitelist",name:"groupsType",id:"groupsType1",defaultChecked:"whitelist"===p.type,onChange:function(e){h(e.target.checked,"whitelist")}}),Object(E.jsx)(_.a.Check,{type:"radio",label:"blacklist",name:"groupsType",id:"groupsType2",defaultChecked:"blacklist"===p.type,onChange:function(e){h(e.target.checked,"blacklist")}})]})}),Object(E.jsx)(xt.a,{className:"ml-2",children:d.map((function(e,a){return Object(E.jsx)(ot.a,{className:"m-1 p-1",bg:"light",style:{minWidth:"11rem",maxWidth:"11rem"},children:Object(E.jsx)(ot.a.Body,{className:"p-2",children:Object(E.jsx)(_.a.Check,{className:"small",type:"checkbox",defaultChecked:Eo(t,e.code),label:e.code,onChange:function(t){!function(e,t){var a=p;e?a.groups.push(t):G.a.pullAll(a.groups,[t]),b(Object(N.a)({},a))}(t.target.checked,e.code)}},a+1)})},a)}))}),Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{children:[Object(E.jsx)(L.a,{className:"ml-1 float-right",variant:"warning",onClick:r,children:c("soajs:buttons.Close")}),i.can("registry_custom","update_acl")&&Object(E.jsx)(L.a,{className:"ml-1 float-right",variant:"success",disabled:!1,onClick:function(e){return x.apply(this,arguments)},children:c("soajs:buttons.Save")}),i.can("registry_custom","delete_acl")&&Object(E.jsx)(L.a,{className:"ml-1 float-right",variant:"danger",disabled:!1,onClick:function(e){return O.apply(this,arguments)},children:c("soajs:buttons.Delete")})]})]})}function Uo(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAfterSubmit,s=Object(Ee.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})};return Object(E.jsx)(E.Fragment,{children:t.item&&Object(E.jsxs)(xa.a,{size:"lg",show:t.show,onHide:r,animation:!1,children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:s("soajs:titles.CustomRegistry")})}),Object(E.jsxs)(xa.a.Body,{children:[Object(E.jsx)(me.a,{className:"p-4",children:Object(E.jsx)("span",{className:"font-weight-bold",children:t.item.name})}),Object(E.jsx)(_.a,{onSubmit:function(e){e.preventDefault()},children:Object(E.jsx)(Ra.a,{className:"mb-3",defaultActiveKey:"acl",id:"config",children:Object(E.jsx)(Ga.a,{eventKey:"acl",title:s("soajs:fields.Groups"),children:Object(E.jsx)(Io,{settings:t.item.settings,handleAction:function(){n()},handleClose:r,id:t.item._id})})})})]})]})})}var Lo=St.getService();function Mo(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ee.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})};function c(){return(c=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Lo.deleteCustomRegistry(t.item._id,t.item.created);case 3:ie.success(s("soajs:messages.deleteCustom")),n(),r(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(E.jsxs)(xa.a,{show:t.show,onHide:r,animation:!1,children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:s("soajs:buttons.Delete")})}),Object(E.jsx)(xa.a.Body,{children:s("soajs:messages.deleteQuestion")}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:r,children:s("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"danger",onClick:function(){return c.apply(this,arguments)},children:s("soajs:buttons.Delete")})]})]})}var zo=St.getService(),_o={};function Ro(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=e.environments,c=e.environment,i=Object(Ee.a)(["common","soajs"]).t,o=function(){return a({show:!1,item:null})},l=Object(n.useState)({name:"",valueText:"",text:!0,plugged:!1,shared:!1}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({}),p=Object(y.a)(m,2),b=p[0],h=p[1];function O(e){var t=!1;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=b;t?(a[e.target.id]=t,h(Object(N.a)({},a))):(delete a[e.target.id],h(Object(N.a)({},a)))}function x(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),u(Object(N.a)(Object(N.a)({},j),{},Object(Ve.a)({},e.target.id,t)))}function f(){return(f=Object(v.a)(g.a.mark((function e(){var t,a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,t={},a=Object.keys(b),n=0;n<a.length;n++)b[a[n]]&&(t[a[n]]=b[a[n]]);return r={name:j.name,plugged:j.plugged,shared:j.shared,sharedEnvs:t},j.text?r.value=j.valueText:r.value=_o,e.next=8,zo.addCustom(c.code,r);case 8:ie.success(i("soajs:messages.addCustom")),s(),o(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),ie.error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;if(e&&t){u({name:"",valueText:"",text:!0,plugged:!1,shared:!1});for(var a={},n=0;n<r.length;n++)a[r[n].code]=!1;h(Object(N.a)({},a)),_o={}}return function(){return e=!1}}),[t,r]),Object(E.jsxs)(xa.a,{show:t.show,onHide:o,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:i("soajs:titles.customRegistryAdd")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsx)(_.a,{children:Object(E.jsxs)(Ra.a,{className:"mb-3",defaultActiveKey:"value",id:"config",children:[Object(E.jsxs)(Ga.a,{eventKey:"value",title:i("soajs:fields.Configuration"),children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:i("soajs:fields.Name")}),Object(E.jsx)(_.a.Control,{id:"name",size:"sm",value:j.name,onChange:x})]}),Object(E.jsxs)(_.a.Group,{style:{height:"400px"},children:[Object(E.jsxs)("div",{children:[Object(E.jsx)(_.a.Label,{className:"float-left",children:i("soajs:fields.Value")}),Object(E.jsx)(_.a.Check,{className:"float-right",id:"text",size:"sm",type:"switch",label:"Only text",checked:j.text,onChange:x}),Object(E.jsx)("span",{className:"clearfix"})]}),!j.text&&Object(E.jsx)(ue,{mode:"code",json:_o,onChange:function(e){_o=e}}),j.text&&Object(E.jsx)(_.a.Control,{id:"valueText",size:"sm",as:"textarea",rows:15,value:j.valueText,onChange:x})]})]}),Object(E.jsxs)(Ga.a,{eventKey:"settings",title:i("soajs:fields.Settings"),children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{className:"float-left",children:i("soajs:fields.PlugConfiguration")}),Object(E.jsx)(_.a.Check,{className:"float-right",id:"plugged",size:"sm",type:"switch",checked:j.plugged,onChange:x}),Object(E.jsx)("span",{className:"clearfix"})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{className:"float-left",children:i("soajs:fields.ShareConfiguration")}),Object(E.jsx)(_.a.Check,{className:"float-right",id:"shared",size:"sm",type:"switch",checked:j.shared,onChange:x}),Object(E.jsx)("span",{className:"clearfix"})]}),j.shared&&Object(E.jsx)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:Object(E.jsx)("tbody",{children:r.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:(!c||c.code!==e.code)&&Object(E.jsx)(_.a.Check,{id:e.code,size:"sm",type:"switch",checked:b[e.code],onChange:O})}),Object(E.jsx)("td",{children:e.code}),Object(E.jsx)("td",{children:e.description})]},t)}))})})]})]})})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:o,children:i("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return f.apply(this,arguments)},disabled:!function(){var e=!0;return e=e&&j.name.length>0,j.text&&(e=e&&j.valueText.length>0),e}(),children:i("soajs:buttons.Add")})]})]})}var Go=St.getService(),Do={};function Fo(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=e.environments,c=e.environment,i=Object(Ee.a)(["common","soajs"]).t,o=function(){a({show:!1,item:null})},l=Object(n.useState)({id:"",name:"",valueText:"",text:!0,plugged:!1,shared:!1}),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(n.useState)({}),p=Object(y.a)(m,2),b=p[0],h=p[1];function O(e){var t=!1;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=b;t?(a[e.target.id]=t,h(Object(N.a)({},a))):(delete a[e.target.id],h(Object(N.a)({},a)))}function x(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),u(Object(N.a)(Object(N.a)({},j),{},Object(Ve.a)({},e.target.id,t)))}function f(){return(f=Object(v.a)(g.a.mark((function e(){var t,a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,t={},a=Object.keys(b),n=0;n<a.length;n++)b[a[n]]&&(t[a[n]]=b[a[n]]);return r={name:j.name,plugged:j.plugged,shared:j.shared,sharedEnvs:t},j.text?r.value=j.valueText:r.value=Do,e.next=8,Go.updateCustom(c.code,j.id,r);case 8:ie.success(i("soajs:messages.updateCustom")),s(),o(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),ie.error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;if(e&&t&&t.item){u({id:t.item._id,name:t.item.name,plugged:t.item.plugged,shared:t.item.shared,valueText:t.item.value,text:"object"!==typeof t.item.value}),t.item.sharedEnvs||(t.item.sharedEnvs={});for(var a={},n=0;n<r.length;n++)a[r[n].code]=!!t.item.sharedEnvs[r[n].code];h(Object(N.a)({},a)),Do="object"===typeof t.item.value?t.item.value:{}}return function(){return e=!1}}),[t,r]),Object(E.jsxs)(xa.a,{show:t.show,onHide:o,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:i("soajs:titles.customRegistryUpdate")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsx)(_.a,{children:Object(E.jsxs)(Ra.a,{className:"mb-3",defaultActiveKey:"value",id:"config",children:[Object(E.jsxs)(Ga.a,{eventKey:"value",title:i("soajs:fields.Configuration"),children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:i("soajs:fields.Name")}),Object(E.jsx)(_.a.Control,{id:"name",size:"sm",value:j.name,onChange:x})]}),Object(E.jsxs)(_.a.Group,{style:{height:"400px"},children:[Object(E.jsxs)("div",{children:[Object(E.jsx)(_.a.Label,{className:"float-left",children:i("soajs:fields.Value")}),Object(E.jsx)(_.a.Check,{className:"float-right",id:"text",size:"sm",type:"switch",label:"Only text",checked:j.text,onChange:x}),Object(E.jsx)("span",{className:"clearfix"})]}),!j.text&&Object(E.jsx)(ue,{mode:"code",json:Do,onChange:function(e){Do=e}}),j.text&&Object(E.jsx)(_.a.Control,{id:"valueText",size:"sm",as:"textarea",rows:15,value:j.valueText,onChange:x})]})]}),Object(E.jsxs)(Ga.a,{eventKey:"settings",title:i("soajs:fields.Settings"),children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{className:"float-left",children:i("soajs:fields.PlugConfiguration")}),Object(E.jsx)(_.a.Check,{className:"float-right",id:"plugged",size:"sm",type:"switch",checked:j.plugged,onChange:x}),Object(E.jsx)("span",{className:"clearfix"})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{className:"float-left",children:i("soajs:fields.ShareConfiguration")}),Object(E.jsx)(_.a.Check,{className:"float-right",id:"shared",size:"sm",type:"switch",checked:j.shared,onChange:x}),Object(E.jsx)("span",{className:"clearfix"})]}),j.shared&&Object(E.jsx)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:Object(E.jsx)("tbody",{children:r.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:(!c||c.code!==e.code)&&Object(E.jsx)(_.a.Check,{id:e.code,size:"sm",type:"switch",checked:!!b[e.code],onChange:O})}),Object(E.jsx)("td",{children:e.code}),Object(E.jsx)("td",{children:e.description})]},t)}))})})]})]})})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:o,children:i("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return f.apply(this,arguments)},disabled:!function(){var e=!0;return e=e&&j.name.length>0,j.text&&(e=e&&j.valueText.length>0),e}(),children:i("soajs:buttons.Update")})]})]})}var Bo=St.getService();function Ko(e,t,a){return Ho.apply(this,arguments)}function Ho(){return(Ho=Object(v.a)(g.a.mark((function e(t,a,n){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bo.getCustomRegistry(t.code);case 3:s=e.sent,n&&s&&a(s),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Jo(e){var t=e.environment,a=e.environments,s=Object(Ee.a)(["common","soajs"]).t,r=T().ability,c=Object(n.useState)([]),i=Object(y.a)(c,2),o=i[0],l=i[1],d=Object(n.useState)({show:!1,item:null}),j=Object(y.a)(d,2),u=j[0],m=j[1],p=Object(n.useState)({show:!1,item:null}),b=Object(y.a)(p,2),h=b[0],O=b[1],x=Object(n.useState)({show:!1}),f=Object(y.a)(x,2),w=f[0],k=f[1],C=Object(n.useState)({show:!1,item:null}),N=Object(y.a)(C,2),S=N[0],P=N[1];function A(){return I.apply(this,arguments)}function I(){return(I=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ko(t,l,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t){return M.apply(this,arguments)}function M(){return(M=Object(v.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bo.unplugPlugCustom({id:t._id,env:t.created,plugged:a});case 3:return a?ie.success(s("soajs:messages.pluggedCustom")):ie.success(s("soajs:messages.unpluggedCustom")),e.next=6,A();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return t&&Ko(t,l,e),function(){return e=!1}}),[t]),t&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Fo,{modalOpt:S,setModalOpt:P,handleAction:A,environments:a,environment:t}),Object(E.jsx)(Ro,{modalOpt:w,setModalOpt:k,handleAction:A,environments:a,environment:t}),Object(E.jsx)(Mo,{modalOpt:h,setModalOpt:O,handleAction:A}),Object(E.jsx)(Uo,{modalOpt:u,setModalOpt:m,handleAfterSubmit:A}),Object(E.jsxs)("div",{children:[Object(E.jsx)("h4",{className:"float-left",children:s("soajs:titles.customRegistry")}),r.can("registry_custom","add")&&Object(E.jsxs)(L.a,{variant:"success",className:"float-right",size:"sm",onClick:function(){k({show:!0})},children:[Object(E.jsx)(Qa.a,{})," ",s("soajs:buttons.Add")]}),Object(E.jsx)("span",{className:"clearfix"})]}),Object(E.jsx)("hr",{}),o.length>0?Object(E.jsx)(E.Fragment,{children:o.map((function(e,a){return Object(E.jsxs)(ct.a,{variant:"light",className:"mt-4 mb-4",style:{borderColor:"#c6c8ca"},children:[Object(E.jsxs)("span",{className:"float-left",children:[Object(E.jsx)(vt.d,{className:e.shared?"text-success":""})," ",Object(E.jsx)("span",{className:" ml-2 font-weight-bold",children:e.name})]}),t.code.toLowerCase()!==e.created.toLowerCase()?Object(E.jsxs)("div",{children:[Object(E.jsxs)("span",{className:"float-right",children:[" from: ",e.created]}),Object(E.jsx)("span",{className:"clearfix"})]}):Object(E.jsxs)("div",{children:[r.can("registry_custom","delete")&&Object(E.jsx)(Xa,{className:"float-right ml-2",onClick:function(){O({show:!0,item:e})}}),Object(E.jsx)(Ir,{className:"float-right ml-5",onClick:function(){m({show:!0,item:e})}}),Object(E.jsx)(L.a,{variant:"primary",className:"float-right ml-2",size:"sm",disabled:!r.can("registry_custom","edit"),onClick:function(){P({show:!0,item:e})},children:"Configure"}),e.plugged&&Object(E.jsx)(L.a,{variant:"warning",className:"float-right ml-2",size:"sm",disabled:!r.can("registry_custom","edit"),onClick:function(){U(e,!1)},children:"Unplug"}),!e.plugged&&Object(E.jsx)(L.a,{variant:"success",className:"float-right ml-2",size:"sm",disabled:!r.can("registry_custom","edit"),onClick:function(){U(e,!0)},children:"Plug"}),Object(E.jsx)("span",{className:"clearfix"})]})]},a)}))}):Object(E.jsx)(ct.a,{variant:"secondary",className:"mt-4 mb-4",children:s("soajs:messages.empty")})]})}var Wo=St.getService();function Vo(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ee.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})};function c(){return(c=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wo.deleteDB({env:t.item.env,name:t.item.name});case 3:ie.success(s("soajs:messages.deleteDB")),n(),r(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(E.jsxs)(xa.a,{show:t.show,onHide:r,animation:!1,children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:s("soajs:buttons.Delete")})}),Object(E.jsx)(xa.a.Body,{children:s("soajs:messages.deleteQuestion")}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:r,children:s("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"danger",onClick:function(){return c.apply(this,arguments)},children:s("soajs:buttons.Delete")})]})]})}var qo=St.getService();function Yo(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=e.environment,c=e.clusters,i=Object(Ee.a)(["common","soajs"]).t,o=function(){return a({show:!1,opts:null})},l=Object(n.useState)({name:"",cluster:"",prefix:"",tenantSpecific:"false"}),d=Object(y.a)(l,2),j=d[0],u=d[1];function m(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),u(Object(N.a)(Object(N.a)({},j),{},Object(Ve.a)({},e.target.id,t)))}function p(){return(p=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={env:r.code,name:j.name,cluster:j.cluster,prefix:j.prefix,tenantSpecific:"true"===j.tenantSpecific},e.next=4,qo.addDB(t);case 4:ie.success(i("soajs:messages.addDB")),s(),o(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(E.jsxs)(xa.a,{show:t.show,onHide:o,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:i("soajs:titles.addDB")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsxs)(_.a,{children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:i("soajs:fields.Name")}),Object(E.jsx)(_.a.Control,{id:"name",size:"sm",value:j.name,onChange:m})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:i("soajs:fields.Prefix")}),Object(E.jsx)(_.a.Control,{id:"prefix",size:"sm",value:j.prefix,onChange:m})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:i("soajs:fields.Multitenant")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"tenantSpecific",value:j.tenantSpecific,onChange:function(e){m(e)},children:[Object(E.jsx)("option",{value:"false",children:"False"}),Object(E.jsx)("option",{value:"true",children:"True"})]})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:i("soajs:fields.Cluster")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"cluster",value:j.cluster,onChange:function(e){m(e)},children:[Object(E.jsx)("option",{value:"",children:"---"}),c.map((function(e,t){return Object(E.jsx)("option",{value:e.name,children:e.name},t)}))]})]})]})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:o,children:i("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return p.apply(this,arguments)},disabled:!(j.name.length>0&&j.cluster.length>0),children:i("soajs:buttons.Add")})]})]})}var Xo={prefix:""},Qo=St.getService();function Zo(e){var t=e.registry,a=e.environment,s=e.clusters,r=e.reload,c=Object(Ee.a)(["common","soajs"]).t,i=T().ability,o=Object(n.useState)(Xo),l=Object(y.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)({show:!1,item:null}),m=Object(y.a)(u,2),p=m[0],b=m[1],h=Object(n.useState)({show:!1,item:null}),O=Object(y.a)(h,2),x=O[0],f=O[1];function w(){return(w=Object(v.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={env:t.code,prefix:d.prefix},e.next=4,Qo.updateDBPrefix(a);case 4:ie.success(c("soajs:messages.updatePrefix")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&j(Object.assign({},Xo,{prefix:t.dbs.config.prefix||""})),function(){return e=!1}}),[t]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Vo,{modalOpt:p,setModalOpt:b,handleAction:r}),Object(E.jsx)(Yo,{modalOpt:x,setModalOpt:f,handleAction:r,clusters:s,environment:a}),Object(E.jsxs)(ot.a,{className:"mb-3",children:[Object(E.jsxs)(ot.a.Header,{children:[c("soajs:titles.GlobalPrefix"),":"]}),Object(E.jsx)(ot.a.Body,{className:"mt-3 mb-3",children:Object(E.jsx)(_.a,{children:Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{xs:9,md:10,children:Object(E.jsx)(_.a.Control,{className:"float-left",id:"prefix",size:"sm",value:d.prefix,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=d;D(a,e.target.id,t),j(Object(N.a)({},a))}})}),Object(E.jsx)(dt.a,{xs:3,md:2,children:i.can("registry_db","prefix")&&Object(E.jsx)(L.a,{className:"float-right",variant:"success",onClick:function(){return w.apply(this,arguments)},disabled:!(d.prefix.length>=0),children:c("soajs:buttons.Update")})})]})})}),Object(E.jsx)(ot.a.Footer,{children:Object(E.jsx)("small",{className:"text-muted",children:c("soajs:messages.GlobalPrefix")})})]}),Object(E.jsxs)(ot.a,{children:[Object(E.jsxs)(ot.a.Header,{children:[c("soajs:titles.Databases"),i.can("registry_db","add")&&Object(E.jsx)(Za,{className:"float-right ml-1",onClick:function(){var e;e={env:t.code},f({show:!0,item:e})}})]}),Object(E.jsx)(ot.a.Body,{className:"mt-3 mb-3",children:Object(E.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(E.jsx)("thead",{className:"text-light bg-dark",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:c("soajs:buttons.Actions")}),Object(E.jsx)("th",{children:c("soajs:fields.Name")}),Object(E.jsx)("th",{children:c("soajs:fields.Cluster")}),Object(E.jsx)("th",{children:c("soajs:fields.Multitenant")}),Object(E.jsx)("th",{children:c("soajs:fields.Prefix")})]})}),Object(E.jsx)("tbody",{children:t&&t.dbs&&t.dbs.databases&&Object.keys(t.dbs.databases).map((function(e,a){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:i.can("registry_db","delete")&&Object(E.jsx)(Xa,{className:"float-left mr-1",onClick:function(){var a;a={env:t.code,name:e},b({show:!0,item:a})}})}),Object(E.jsx)("td",{children:e}),Object(E.jsx)("td",{children:t.dbs.databases[e].cluster}),Object(E.jsx)("td",{children:""+t.dbs.databases[e].tenantSpecific}),Object(E.jsx)("td",{children:t.dbs.databases[e].prefix})]},a)}))})]})})]})]})}function $o(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=Object(Ee.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})},i=Object(n.useState)({name:"",type:0,window:0,limit:0,retries:0,delay:0}),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),"number"!==e.target.type&&"type"!==e.target.id||(t=parseInt(t)),d(Object(N.a)(Object(N.a)({},l),{},Object(Ve.a)({},e.target.id,t)))}return Object(E.jsxs)(xa.a,{show:t.show,onHide:c,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:r("soajs:titles.addThrottling")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsxs)(_.a,{children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Name")}),Object(E.jsx)(_.a.Control,{id:"name",size:"sm",value:l.name,onChange:j})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Type")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"type",type:"number",value:l.type,onChange:j,children:[Object(E.jsx)("option",{value:"0",children:"Per Tenant"}),Object(E.jsx)("option",{value:"1",children:"Per Tenant & Per IP Address"})]})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Window")}),Object(E.jsx)(_.a.Control,{id:"window",size:"sm",type:"number",min:"1",value:l.window,onChange:j})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Limit")}),Object(E.jsx)(_.a.Control,{id:"limit",size:"sm",type:"number",min:"1",value:l.limit,onChange:j})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Retries")}),Object(E.jsx)(_.a.Control,{id:"retries",size:"sm",type:"number",min:"1",value:l.retries,onChange:j})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Delay")}),Object(E.jsx)(_.a.Control,{id:"delay",size:"sm",type:"number",min:"1",value:l.delay,onChange:j})]})]})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:c,children:r("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){s(l),c()},disabled:!(l.name.length>0&&(0===l.type||1===l.type)&&l.window>0&&l.limit>0&&l.retries>0&&l.delay>0),children:r("soajs:buttons.Add")})]})]})}var el=St.getService();function tl(e){var t=e.environment,a=T().ability,s=Object(Ee.a)(["common","soajs"]).t,r=Object(n.useState)({}),c=Object(y.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)({show:!1,item:null}),d=Object(y.a)(l,2),j=d[0],u=d[1];function m(){return p.apply(this,arguments)}function p(){return(p=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,el.updateThrottling(t.code,i);case 3:ie.success(s("soajs:messages.updateThrottling")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),ie.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function b(){return(b=Object(v.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i[a.name]={type:a.type,window:a.window,limit:a.limit,retries:a.retries,delay:a.delay},o(Object(N.a)({},i)),e.prev=2,e.next=5,el.updateThrottling(t.code,i);case 5:ie.success(s("soajs:messages.addThrottling")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function h(){return(h=Object(v.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete i[a],i.publicAPIStrategy===a&&(i.publicAPIStrategy=""),i.privateAPIStrategy===a&&(i.privateAPIStrategy=""),o(Object(N.a)({},i)),e.prev=4,e.next=7,el.updateThrottling(t.code,i);case 7:ie.success(s("soajs:messages.deleteThrottling")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}function O(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),o(Object(N.a)(Object(N.a)({},i),{},Object(Ve.a)({},e.target.id,t)))}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,el.getThrottlingRegistry(t.code);case 3:n=a.sent,e&&n&&o(n),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),ie.error(a.t0.message);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))).apply(this,arguments)}return t&&function(){a.apply(this,arguments)}(),function(){return e=!1}}),[t]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($o,{modalOpt:j,setModalOpt:u,handleAction:function(e){return b.apply(this,arguments)}}),Object(E.jsxs)(xt.a,{children:[Object(E.jsxs)(ot.a,{className:"small",children:[Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)(ot.a.Title,{children:s("soajs:titles.ThrottlingPublic")}),Object(E.jsxs)(ot.a.Text,{className:"mt-4",children:[s("soajs.title.throttlingStrategy"),":",Object(E.jsxs)(_.a.Control,{className:"mt-2",as:"select",id:"publicAPIStrategy",value:i.publicAPIStrategy,onChange:O,children:[Object(E.jsx)("option",{value:"",children:"---"}),Object.keys(i).map((function(e,t){return"publicAPIStrategy"!==e&&"privateAPIStrategy"!==e&&Object(E.jsx)("option",{value:e,children:e},t)}))]}),a.can("registry","throttling")&&Object(E.jsx)(L.a,{variant:"success",className:"float-right mt-3",onClick:m,children:s("soajs:buttons.Update")})]})]}),Object(E.jsxs)(ot.a.Footer,{className:"small text-muted",children:["Select the default throttling strategy you would like to apply to all APIs deployed in this environment that are not protected by oAuth ",Object(E.jsx)("a",{href:"https://soajsorg.atlassian.net/wiki/spaces/SOAJ/pages/679641089/API+Traffic+Throttling",children:"Learn More"})]})]}),Object(E.jsxs)(ot.a,{className:"small",children:[Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)(ot.a.Title,{children:s("soajs:titles.ThrottlingPrivate")}),Object(E.jsxs)(ot.a.Text,{className:"mt-4",children:[s("soajs.title.throttlingStrategy"),":",Object(E.jsxs)(_.a.Control,{className:"mt-2",as:"select",id:"privateAPIStrategy",value:i.privateAPIStrategy,onChange:O,children:[Object(E.jsx)("option",{value:"",children:"---"}),Object.keys(i).map((function(e,t){return"publicAPIStrategy"!==e&&"privateAPIStrategy"!==e&&Object(E.jsx)("option",{value:e,children:e},t)}))]}),a.can("registry","throttling")&&Object(E.jsx)(L.a,{variant:"success",className:"float-right mt-3",onClick:m,children:s("soajs:buttons.Update")})]})]}),Object(E.jsxs)(ot.a.Footer,{className:"small text-muted",children:["Select the default throttling strategy you would like to apply to all APIs deployed in this environment that are protected by oAuth and require the access token of a logged in user. ",Object(E.jsx)("a",{href:"https://soajsorg.atlassian.net/wiki/spaces/SOAJ/pages/679641089/API+Traffic+Throttling",children:"Learn More"})]})]})]}),Object(E.jsx)("hr",{className:"mb-4 mt-4"}),Object(E.jsxs)(ct.a,{variant:"info",className:"text-muted small mt-3",children:["If you are not familiar with how API Traffic Throttling works, ",Object(E.jsx)("a",{href:"https://soajsorg.atlassian.net/wiki/spaces/SOAJ/pages/679641089/API+Traffic+Throttling",children:"Click Here"})]}),Object(E.jsx)("hr",{className:"mb-4 mt-4"}),Object(E.jsx)("h5",{className:"float-left",children:s("soajs:titles.ManageThrottling")}),a.can("registry","throttling")&&Object(E.jsx)(Za,{className:"float-right mr-1",onClick:function(){u({show:!0,item:{}})}}),Object(E.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",className:"mt-3",children:[Object(E.jsx)("thead",{className:"text-light bg-dark",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:s("soajs:buttons.Actions")}),Object(E.jsx)("th",{children:s("soajs:fields.Name")}),Object(E.jsx)("th",{children:s("soajs:fields.Type")}),Object(E.jsxs)("th",{className:"text-center",children:[s("soajs:fields.Window")," [ms]"]}),Object(E.jsx)("th",{className:"text-center",children:s("soajs:fields.Limit")}),Object(E.jsx)("th",{className:"text-center",children:s("soajs:fields.Retries")}),Object(E.jsxs)("th",{className:"text-center",children:[s("soajs:fields.Delay")," [ms]"]})]})}),Object(E.jsx)("tbody",{children:Object.keys(i).map((function(e,t){return"publicAPIStrategy"!==e&&"privateAPIStrategy"!==e&&Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:a.can("registry","throttling")&&Object(E.jsx)(Xa,{className:"float-left mr-1",onClick:function(){(function(e){return h.apply(this,arguments)})(e).catch()}})}),Object(E.jsx)("td",{children:e}),Object(E.jsx)("td",{children:0===i[e].type?"Per Tenant":"Per Tenant & Per IP Address"}),Object(E.jsx)("td",{className:"text-center",children:i[e].window}),Object(E.jsx)("td",{className:"text-center",children:i[e].limit}),Object(E.jsx)("td",{className:"text-center",children:i[e].retries}),Object(E.jsx)("td",{className:"text-center",children:i[e].delay})]},t)}))})]})]})}function al(e){var t=Object.assign({},e),a=Object(Ee.a)(["common","soajs"]).t;return Object(E.jsx)(Va.a,{placement:"top",overlay:Object(E.jsx)(qa.a,{id:"tooltip-top}",children:a("soajs:buttons.Close")}),children:Object(E.jsx)(L.a,Object(N.a)(Object(N.a)({variant:"danger",size:"sm"},t),{},{children:Object(E.jsx)(C.b,{})}))})}var nl=St.getService();function sl(e,t,a){return rl.apply(this,arguments)}function rl(){return(rl=Object(v.a)(g.a.mark((function e(t,a,n){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=6;break}return e.next=4,nl.getRegistry(t.code);case 4:(s=e.sent)&&n&&a(s);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function cl(e){var t=e.environment,a=e.environments,s=e.clusters,r=e.reloadClusters,c=Object(Ee.a)(["common","soajs"]).t,i=T().ability,o=Object(n.useState)(null),l=Object(y.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)(!1),m=Object(y.a)(u,2),p=m[0],b=m[1],h=Object(n.useState)({env:"",domain:"",sitePrefix:"",apiPrefix:"",port:0,protocol:"https",description:"",services:{controller:{authorization:!1,requestTimeout:60,requestTimeoutRenewal:5},config:{awareness:{cacheTTL:36e5,healthCheckInterval:5e3,autoRelaodRegistry:864e5,maxLogCount:5,autoRegisterService:!0},logger:{},ports:{controller:4e3,maintenanceInc:1e3,randomInc:100},oauth:{debug:!1,getUserFromToken:!1,accessTokenLifetime:7200,refreshTokenLifetime:1209600},cors:{credentials:!0,enabled:!0,headers:"key,soajsauth,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,__env,access_token",maxage:1728e3,methods:"GET,HEAD,PUT,PATCH,POST,DELETE",origin:"*"}}}}),O=Object(y.a)(h,2),x=O[0],f=O[1];function w(){return k.apply(this,arguments)}function k(){return(k=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sl(t,j,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nl.updateRegistry(x);case 3:return e.next=5,w();case 5:b(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return sl(t,j,e).catch(),function(){return e=!1}}),[t]),t&&d&&Object(E.jsxs)(Ra.a,{className:"mb-3",defaultActiveKey:"default",id:"config",children:[Object(E.jsxs)(Ga.a,{eventKey:"default",title:c("soajs:titles.DefaultRegistry"),children:[Object(E.jsx)(ct.a,{variant:"secondary",className:"mt-4",children:Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{className:"font-weight-bold",children:d.code}),Object(E.jsxs)(dt.a,{xs:4,md:3,children:[!p&&i.can("registry","edit")&&Object(E.jsx)(rn,{className:"float-right",onClick:function(){var e={env:d.code,domain:d.domain||x.domain,sitePrefix:d.sitePrefix||x.sitePrefix,apiPrefix:d.apiPrefix||x.apiPrefix,port:d.port||x.port,protocol:d.protocol||x.protocol,description:d.description||x.description,services:{controller:{authorization:d.services.controller.authorization||x.services.controller.authorization,requestTimeout:d.services.controller.requestTimeout||x.services.controller.requestTimeout,requestTimeoutRenewal:d.services.controller.requestTimeoutRenewal||x.services.controller.requestTimeoutRenewal},config:{awareness:{cacheTTL:d.services.config.awareness.cacheTTL||x.services.config.awareness.cacheTTL,healthCheckInterval:d.services.config.awareness.healthCheckInterval||x.services.config.awareness.healthCheckInterval,autoRelaodRegistry:d.services.config.awareness.autoRelaodRegistry||x.services.config.awareness.autoRelaodRegistry,maxLogCount:d.services.config.awareness.maxLogCount||x.services.config.awareness.maxLogCount,autoRegisterService:d.services.config.awareness.autoRegisterService||x.services.config.awareness.autoRegisterService},logger:d.services.config.logger||x.services.config.logger,ports:{controller:d.services.config.ports.controller||x.services.config.ports.controller,maintenanceInc:d.services.config.ports.maintenanceInc||x.services.config.ports.maintenanceInc,randomInc:d.services.config.ports.randomInc||x.services.config.ports.randomInc},oauth:{debug:d.services.config.oauth.debug||x.services.config.oauth.debug,getUserFromToken:d.services.config.oauth.getUserFromToken||x.services.config.oauth.getUserFromToken,accessTokenLifetime:d.services.config.oauth.accessTokenLifetime||x.services.config.oauth.accessTokenLifetime,refreshTokenLifetime:d.services.config.oauth.refreshTokenLifetime||x.services.config.oauth.refreshTokenLifetime},cors:{credentials:d.services.config.cors.credentials||x.services.config.cors.credentials,enabled:d.services.config.cors.enabled||x.services.config.cors.enabled,headers:d.services.config.cors.headers||x.services.config.cors.headers,maxage:d.services.config.cors.maxage||x.services.config.cors.maxage,methods:d.services.config.cors.methods||x.services.config.cors.methods,origin:d.services.config.cors.origin||x.services.config.cors.origin}}}};f(e),b(!0)}}),p&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(al,{className:"float-right ml-3",onClick:function(){b(!1)}}),Object(E.jsx)(L.a,{size:"sm",className:"float-right ml-3",variant:"success",onClick:function(){return C.apply(this,arguments)},children:"Save"})]})]})]})}),!p&&Object(E.jsx)(io,{registry:d}),p&&Object(E.jsx)(oo,{registry:d,fields:x,setFields:f})]}),Object(E.jsx)(Ga.a,{eventKey:"awareness",title:c("soajs:titles.Awareness"),children:Object(E.jsx)(lo,{registry:d})}),Object(E.jsx)(Ga.a,{eventKey:"throttling",title:c("soajs:titles.Throttling"),children:Object(E.jsx)(tl,{environment:t})}),Object(E.jsx)(Ga.a,{eventKey:"databases",title:c("soajs:titles.Databases"),children:Object(E.jsx)(Zo,{environment:t,registry:d,clusters:s,reload:w})}),Object(E.jsx)(Ga.a,{eventKey:"custom",title:c("soajs:titles.CustomRegistry"),children:Object(E.jsx)(Jo,{environment:t,environments:a})}),Object(E.jsx)(Ga.a,{eventKey:"resource",title:c("soajs:titles.ResourceConfiguration"),children:Object(E.jsx)(Po,{environment:t,environments:a,reloadClusters:r})})]})}var il=Et.getService(),ol=St.getService();function ll(){var e=T().ability,t=Object(Ee.a)(["common","soajs"]).t,a=Object(n.useState)(!1),s=Object(y.a)(a,2),r=s[0],c=s[1],i=Object(n.useState)({code:"",type:"manual",description:"",ip:"127.0.0.1",port:"10000",cluster:null,namespace:""}),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)([]),u=Object(y.a)(j,2),m=u[0],p=u[1],b=Object(w.k)();function h(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),d(Object(N.a)(Object(N.a)({},l),{},Object(Ve.a)({},e.target.id,t)))}function O(){return(O=Object(v.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c(!0),e.prev=2,a={code:l.code,description:l.description,settings:{type:l.type}},"manual"===l.type&&(a.settings.port=parseInt(l.port)),"kubernetes"===l.type&&(a.settings.namespace=l.namespace,a.settings.id=m[l.cluster]._id),e.next=8,ol.addEnvironment(a);case 8:b.push("/environments/manage/"+l.code.toUpperCase()+"/settings"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),ie.error(e.t0.message);case 14:c(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,il.getInfraAccounts();case 3:(a=t.sent)&&e&&p(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ie.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h5",{children:"Add an environment"}),Object(E.jsx)(ot.a,{bg:"light",style:{minWidth:"22rem"},children:Object(E.jsx)(ot.a.Body,{children:Object(E.jsxs)(_.a,{onSubmit:function(e){return O.apply(this,arguments)},children:[Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{children:"Environment Type"}),Object(E.jsxs)(_.a.Control,{as:"select",id:"type",defaultValue:l.type,onChange:h,children:[Object(E.jsx)("option",{value:"manual",children:"Manual deployment"}),Object(E.jsx)("option",{value:"kubernetes",children:"Containerized development"})]})]}),Object(E.jsxs)(ct.a,{variant:"info",className:"small mt-3 mb-3",children:["manual"===l.type&&Object(E.jsx)(E.Fragment,{children:"Manual: Build, manage, operate and test APIs on a local machine with complete awareness and interconnect mesh among microservices"}),"kubernetes"===l.type&&Object(E.jsx)(E.Fragment,{children:"Container: Build, manage, operate and test APIs on a containerized cluster as infrastructure enabling kubernetes deployment & orchestration."})]}),Object(E.jsx)("hr",{}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{children:t("soajs:fields.Code")}),Object(E.jsx)(_.a.Control,{id:"code",value:l.code,onChange:h})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{children:t("soajs:fields.Description")}),Object(E.jsx)(_.a.Control,{id:"description",as:"textarea",rows:3,value:l.description,onChange:h})]}),Object(E.jsx)("hr",{}),"manual"===l.type&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{children:"Machine IP Address"}),Object(E.jsx)(_.a.Control,{id:"ip",value:l.ip,disabled:!0})]}),Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{children:"Gateway port"}),Object(E.jsx)(_.a.Control,{id:"port",type:"number",value:l.port,onChange:h})]})]}),"kubernetes"===l.type&&Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{children:"Select a kubernetes cluster"}),Object(E.jsxs)(_.a.Control,{as:"select",id:"cluster",defaultValue:l.cluster,onChange:h,children:[Object(E.jsx)("option",{value:null,children:"--- Select an infrastructure ---"}),m.map((function(e,t){return Object(E.jsx)("option",{value:t,children:e.label},t)}))]})]}),"kubernetes"===l.type&&null!==l.cluster&&Object(E.jsx)(ct.a,{variant:"info",className:"small mt-3 mb-3",children:Object(E.jsxs)(Gn.a,{variant:"flush",children:[Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[t("soajs:fields.MasterNode"),":"]})," ",m[l.cluster].configuration.url]}),Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[t("soajs:fields.Port"),":"]})," ",m[l.cluster].configuration.port]}),m[l.cluster].deployments&&m[l.cluster].deployments.length>0&&Object(E.jsxs)(Dn.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[t("soajs:fields.Environments"),":"]}),m[l.cluster].deployments.map((function(e,t){return Object(E.jsxs)("span",{children:["[ ",e.env," ]"]},t)}))]})]})}),"kubernetes"===l.type&&l.cluster&&Object(E.jsxs)(_.a.Row,{className:"mb-2",children:[Object(E.jsx)(_.a.Label,{children:t("soajs:fields.Namespace")}),Object(E.jsx)(_.a.Control,{id:"namespace",value:l.namespace,onChange:h})]}),Object(E.jsx)("hr",{className:"mt-4"}),e.can("env","add")&&Object(E.jsx)(z,{block:!0,size:"lg",type:"submit",isLoading:r,disabled:!function(){var e=l.code.length>0&&l.type.length>4&&l.description.length>0;return"manual"===l.type&&(e=e&&l.ip.length>0&&l.port>0),"kubernetes"===l.type&&(e=e&&l.cluster>=0&&l.namespace.length>0),e}(),children:t("soajs:buttons.Add")})]})})})]})}var dl=Ct.getService();function jl(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(E.jsx)("div",{className:"float-left",type:"button",onClick:s,children:t})}function ul(e,t,a,n,s,r,c){return ml.apply(this,arguments)}function ml(){return(ml=Object(v.a)(g.a.mark((function e(t,a,n,s,r,c,i){var o,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o={limit:15,start:15*(n-1),type:c,subType:i},s&&s.keywords&&""!==s.keywords&&(o.keywords=s.keywords),e.next=5,dl.getItems(o);case 5:l=e.sent,r&&l.records&&(t(l.records),a({totalItems:l.count,maxSize:10,itemsPerPage:l.limit})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function pl(e){var t=e.type,a=e.subType,s=e.Children,r=e.Header,c=Object(Ee.a)(["common","soajs"]).t,i=Object(n.useState)([]),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)(0),u=Object(y.a)(j,2),m=u[0],p=u[1],b=Object(n.useState)(1),h=Object(y.a)(b,2),O=h[0],x=h[1],f=Object(n.useState)({keywords:""}),w=Object(y.a)(f,2),k=w[0],C=w[1],S=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),P=Object(y.a)(S,2),A=P[0],T=P[1];function I(e){return U.apply(this,arguments)}function U(){return(U=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),x(1),e.next=4,M(1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return z.apply(this,arguments)}function z(){return(z=Object(v.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ul(d,T,n||O,k,!0,t,a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&ul(d,T,1,null,e,t,a).catch(),function(){return e=!1}}),[t,a]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(me.a,{className:"p-3 m-0",children:Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{lg:3,children:[Object(E.jsx)("h5",{className:"font-weight-bold m-0",children:c("soajs:titles.env_cat_"+t)}),a&&Object(E.jsx)("span",{className:"text-muted small",children:a})]}),Object(E.jsx)(dt.a,{children:Object(E.jsx)(_.a,{onSubmit:I,children:Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{xs:9,md:10,children:Object(E.jsx)(_.a.Control,{id:"keywords",size:"sm",autoFocus:!0,value:k.keywords,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),C(Object(N.a)(Object(N.a)({},k),{},Object(Ve.a)({},e.target.id,t)))}})}),Object(E.jsx)(dt.a,{xs:3,md:2,children:Object(E.jsxs)(L.a,{className:"float-right",variant:"dark",size:"sm",onClick:I,children:[Object(E.jsx)(vt.c,{})," ",c("soajs:buttons.Search")]})})]})})})]})}),Object(E.jsx)("hr",{}),Object(E.jsxs)(Ot.a,{activeKey:m,children:[l.map((function(e,t){return Object(E.jsxs)(ot.a,{children:[Object(E.jsxs)(ot.a.Header,{children:[Object(E.jsxs)(jl,{as:ot.a.Header,eventKey:t+1,handleClick:function(){p(m===t+1?null:t+1)},children:[m===t+1?Object(E.jsx)(gt.b,{className:"mr-1"}):Object(E.jsx)(gt.a,{className:"mr-1"}),Object(E.jsx)("span",{className:"font-weight-bold mr-2",children:e.name}),e.configuration&&e.configuration.port?Object(E.jsxs)("span",{className:"mr-2 text-primary",children:["[",e.configuration.port,"]"]}):"",Object(E.jsx)("small",{children:e.configuration.group})]}),Object(E.jsx)("span",{className:"float-right",children:r&&Object(E.jsx)(r,{item:e})})]}),Object(E.jsx)(Ot.a.Collapse,{eventKey:t+1,children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)(me.a,{className:"p-3 bg-light small",children:e.description?e.description:"-"}),e.versions&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(Ra.a,{className:"mb-3",defaultActiveKey:"1",id:"repos",style:{borderBottom:"1px solid #dee2e6"},children:e.versions.map((function(a,n){return Object(E.jsxs)(Ga.a,{eventKey:n+1,title:c("soajs:catalogs.version")+" "+a.version,children:[Object(E.jsx)(me.a,{className:"p-3 bg-light",children:a.lastSync?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("small",{children:c("soajs:catalogs.lastSynchronized")}),Object(E.jsxs)("small",{className:"m-3",children:["from ",Object(E.jsx)("span",{className:"font-weight-bold",children:a.lastSync.branch})," @ ",Object(E.jsx)("span",{className:"font-italic",children:Date(a.lastSync.ts)})]}),Object(E.jsx)("hr",{}),Object(E.jsx)("small",{children:c("soajs:catalogs.availableBranches")}),Object(E.jsxs)("small",{className:"m-3",children:["[",a.branches?a.branches.join(", "):"","]"]})]}):"-"}),s&&Object(E.jsx)(s,{reloadItem:M,item:e,version:a,active:m===t+1,deactivate:function(){p(0)}})]},n)}))})})]})})]},t+1)})),0===l.length?Object(E.jsx)("span",{children:c("soajs:catalogs.zeroMsg")}):null]}),l.length>0?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"float-right mt-3",children:Object(E.jsx)(_t,{currentPage:O,totalItems:A.totalItems,itemsPerPage:A.itemsPerPage,maxSize:A.maxSize,onClick:function(e){x(e),M(e)}})}),Object(E.jsx)("div",{className:"clearfix"})]}):null]})}function bl(e){var t=e.manualAwareness,a=e.item,n=!1;return t[a.name]&&t[a.name].healthy&&(n=!0),Object(E.jsx)(E.Fragment,{children:n&&Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("span",{className:"text-success",children:[Object(E.jsx)(C.a,{})," ",Object(E.jsx)("span",{className:"small",children:"Deployed"})]})})})}function hl(e){var t=e.modalOpt,a=e.setModalOpt,s=Object(Ee.a)(["common","soajs"]).t,r=Object(n.useState)(0),c=Object(y.a)(r,2),i=c[0],o=c[1],l=function(){return a({show:!1,data:[],mode:"view",title:""})};return t&&Object(E.jsxs)(xa.a,{show:t.show,onHide:l,animation:!1,size:"xl",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(E.jsx)(xa.a.Title,{children:t.title})}),Object(E.jsxs)(xa.a.Body,{children:[Object(E.jsx)(_.a.Control,{as:"select",id:"pod",defaultValue:i,onChange:function(e){o(e.target.value)},children:t.data.map((function(e,t){return Object(E.jsx)("option",{value:t,children:e.id},t)}))}),Object(E.jsx)("hr",{}),i>=0&&t&&t.data&&t.data[i]&&Object(E.jsx)(ue,{mode:t.mode||"view",modes:["view","preview"],json:t.data[i].response||{}})]}),Object(E.jsx)(xa.a.Footer,{className:"bg-light",children:Object(E.jsx)(L.a,{variant:"info",onClick:l,children:s("soajs:buttons.Ok")})})]})}var Ol=Ct.getService();function xl(e){var t=e.version,a=e.env,s=e.itemName,r=e.itemType,c=Object(n.useState)({show:!1,data:[],mode:"preview",title:""}),i=Object(y.a)(c,2),o=i[0],l=i[1],d=function(e,t){return l({show:!0,data:e,mode:"view",title:t||""})};function j(e){return u.apply(this,arguments)}function u(){return(u=Object(v.a)(g.a.mark((function e(n){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ol.itemMaintenance({env:a,name:s,type:r,version:t.version,operation:n,port:{portType:t.maintenance.port.type,portValue:t.maintenance.port.value||null}});case 3:(c=e.sent)&&d(c,s),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(hl,{modalOpt:o,setModalOpt:l}),t.maintenance&&Object(E.jsxs)(ha.a,{size:"sm",id:"dropdown-item-button",title:"Maintenance Operations",variant:"info",className:"float-right",children:[t.maintenance&&t.maintenance.readiness&&Object(E.jsx)(Oa.a.Item,{onClick:function(){j(t.maintenance.readiness).catch()},children:Object(E.jsx)("small",{children:"Heartbeat"})}),t.maintenance&&t.maintenance.commands&&t.maintenance.commands.map((function(e,t){return Object(E.jsx)(Oa.a.Item,{onClick:function(){j(e.path).catch()},children:Object(E.jsx)("small",{children:e.label})},t)}))]})]})}function fl(e){var t=e.manualAwareness,a=e.version,n=e.itemName,s=e.itemType,r=e.env;return Object(E.jsx)(E.Fragment,{children:t&&t.version===a.version&&t.healthy&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("hr",{}),Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{}),Object(E.jsx)(dt.a,{children:Object(E.jsx)(xl,{version:a,env:r,itemName:n,itemType:s})})]}),Object(E.jsx)("hr",{}),Object(E.jsx)(ct.a,{variant:"info p-1",children:t.host})]})})}function gl(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ee.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})};return Object(E.jsxs)(xa.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:s("soajs:buttons.Delete")})}),Object(E.jsxs)(xa.a.Body,{style:{wordBreak:"break-all"},children:[s("soajs:messages.deleteQuestion"),Object(E.jsx)("span",{className:"ml-3 font-weight-bold",children:t.item?t.item.title:""})]}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:r,children:s("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"danger",onClick:function(){n(t.item.what),r()},children:s("soajs:buttons.Delete")})]})]})}function vl(e){var t={};return e.src&&(e.src.tag&&(t.tag=e.src.tag),e.src.branch&&(t.branch=e.src.branch),e.src.commit&&(t.commit=e.src.commit)),e.recipe&&(e.recipe.image&&e.recipe.image.tag&&(t.imageTag=e.recipe.image.tag),e.recipe.image&&e.recipe.image.prefix&&(t.imagePrefix=e.recipe.image.prefix),e.recipe.image&&e.recipe.image.name&&(t.imageName=e.recipe.image.name)),t}function yl(e){var t={},a=e.spec.containers[0];return t.imageTag=a.image.substr(a.image.indexOf(":")+1,a.image.length),a.image.indexOf("/")?(t.imagePrefix=a.image.substr(0,a.image.indexOf("/")),t.imageName=a.image.substr(a.image.indexOf("/")+1,a.image.indexOf(":")-(a.image.indexOf("/")+1))):t.imageName=a.image.substr(0,a.image.indexOf(":")),a.env&&a.env.map((function(a,n){return"SOAJS_GIT_BRANCH"===a.name&&(e.metadata.labels["service.tag"]&&e.metadata.labels["service.tag"]===a.value?t.tag=a.value:t.branch=a.value),"SOAJS_GIT_COMMIT"===a.name&&(t.commit=a.value),!0})),t}function wl(e,t){var a=null;return"Deployment"===t&&e.deployments&&e.deployments.items&&e.deployments.items[0]&&e.deployments.items[0].spec&&e.deployments.items[0].spec.template&&(a=e.deployments.items[0].spec.template),"DaemonSet"===t&&e.daemonsets&&e.daemonsets.items&&e.daemonsets.items[0]&&e.daemonsets.items[0].spec&&e.daemonsets.items[0].spec.template&&(a=e.daemonsets.items[0].spec.template),"CronJob"===t&&e.cronjobs&&e.cronjobs.items&&e.cronjobs.items[0]&&e.cronjobs.items[0].spec&&e.cronjobs.items[0].jobTemplate&&e.cronjobs.items[0].jobTemplate.spec&&e.cronjobs.items[0].jobTemplate.spec.template&&(a=e.cronjobs.items[0].jobTemplate.spec.template),a}var kl=Ct.getService(),Cl=wt.getService();function Nl(e,t){return Sl.apply(this,arguments)}function Sl(){return(Sl=Object(v.a)(g.a.mark((function e(t,a){var n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={repo:t.item.itemSrc.repo,owner:t.item.itemSrc.owner,provider:t.item.itemSrc.provider,branch:a},e.prev=1,e.next=4,Cl.getGitBranch(n);case 4:if(!(s=e.sent)||!s.commit){e.next=7;break}return e.abrupt("return",Promise.resolve(s.commit));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ie.error(e.t0.message);case 12:return e.abrupt("return",Promise.resolve(null));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function Pl(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=Object(Ee.a)(["common","soajs"]).t,c=Object(n.useState)({srcType:"",branch:"",commit:"",tag:"",imageTag:"",config:{},inspect:{}}),i=Object(y.a)(c,2),o=i[0],l=i[1],d=function(){return a({show:!1,item:null,title:""})};function j(){return(j=Object(v.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nl(t,o.branch);case 2:(a=e.sent)&&(o.commit=a,l(Object(N.a)({},o)));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=Object(v.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={name:t.item.name,type:t.item.type,env:t.item.env,version:t.item.version,branch:o.branch.length>0?o.branch:null,commit:o.commit.length>0?o.commit:null,tag:o.tag.length>0?o.tag:null,imageTag:o.imageTag.length>0?o.imageTag:null},e.next=4,kl.redeploy(a);case 4:ie.success(r("soajs:messages.redeploySuccess")),s(),d(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function m(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),"number"===e.target.type&&(t=parseInt(t)),D(o,e.target.id,t),l(Object(N.a)({},o))}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(n,s,r){var c;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!s.branch&&!r.branch){a.next=5;break}return a.next=3,Nl(t,s.branch||r.branch);case 3:c=a.sent,n.commit=c;case 5:e&&l(n);case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}if(t&&t.item){var n={};if(t.item.inspect){var s=wl(t.item.inspect,t.item.kind);s&&(n=yl(s))}var r={};t.item.deployConfiguration&&(r=vl(t.item.deployConfiguration));var c={branch:n.branch||r.branch||"",commit:n.commit||r.commit||"",tag:n.tag||r.tag||"",imageTag:n.imageTag||r.imageTag||"",config:r,inspect:n,srcType:""};(n.branch||r.branch)&&(c.srcType="branch"),(n.tag||r.tag)&&(c.srcType="tag"),function(e,t,n){return a.apply(this,arguments)}(c,n,r).catch()}return function(){return e=!1}}),[t]),t&&Object(E.jsxs)(xa.a,{show:t.show,onHide:d,animation:!1,size:"xl",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(E.jsxs)(xa.a.Title,{children:["Redeploy: ",t.title]})}),Object(E.jsx)(xa.a.Body,{children:t.item&&Object(E.jsxs)(_.a,{children:["branch"===o.srcType&&Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Branch")}),Object(E.jsx)(_.a.Control,{as:"select",id:"branch",value:o.branch,onChange:m,children:t.item&&t.item.availableSrc&&t.item.availableSrc.branches&&t.item.availableSrc.branches.map((function(e,t){return Object(E.jsx)("option",{value:e,children:e},t)}))}),o.config.branch&&o.branch!==o.config.branch&&Object(E.jsxs)(_.a.Text,{className:"text-danger",children:["Mismatch with configuration: ",Object(E.jsx)("b",{children:o.config.branch})]}),o.inspect.branch&&o.branch!==o.inspect.branch&&Object(E.jsxs)(_.a.Text,{className:"text-danger",children:["Mismatch with deployment: ",Object(E.jsx)("b",{children:o.inspect.branch})]})]}),"branch"===o.srcType&&Object(E.jsxs)(_.a.Group,{children:[Object(E.jsxs)(_.a.Label,{children:[r("soajs:fields.Commit"),Object(E.jsx)(L.a,{className:"pt-0 pl-1 pr-1 ml-2",variant:"info",onClick:function(){return j.apply(this,arguments)},children:Object(E.jsx)(Qa.b,{})})]}),Object(E.jsx)(_.a.Control,{id:"commit",size:"sm",value:o.commit,onChange:m}),o.config.commit&&o.commit!==o.config.commit&&Object(E.jsxs)(_.a.Text,{className:"text-danger",children:["Mismatch with configuration: ",Object(E.jsx)("b",{children:o.config.commit})]}),o.inspect.commit&&o.commit!==o.inspect.commit&&Object(E.jsxs)(_.a.Text,{className:"text-danger",children:["Mismatch with deployment: ",Object(E.jsx)("b",{children:o.inspect.commit})]})]}),"tag"===o.srcType&&Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Tag")}),Object(E.jsx)(_.a.Control,{as:"select",id:"tag",value:o.tag,onChange:m,children:t.item&&t.item.availableSrc&&t.item.availableSrc.tags&&t.item.availableSrc.tags.map((function(e,t){return Object(E.jsx)("option",{value:e,children:e},t)}))}),o.tag!==o.config.tag&&Object(E.jsxs)(_.a.Text,{className:"text-danger",children:["Mismatch with configuration: ",Object(E.jsx)("b",{children:o.config.tag})]}),o.tag!==o.inspect.tag&&Object(E.jsxs)(_.a.Text,{className:"text-danger",children:["Mismatch with deployment: ",Object(E.jsx)("b",{children:o.inspect.tag})]})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.ImageTag")}),Object(E.jsx)(_.a.Control,{id:"imageTag",size:"sm",value:o.imageTag,onChange:m}),o.config.imageTag&&o.imageTag!==o.config.imageTag&&Object(E.jsxs)(_.a.Text,{className:"text-danger",children:["Mismatch with configuration: ",Object(E.jsx)("b",{children:o.config.imageTag})]}),o.inspect.imageTag&&o.imageTag!==o.inspect.imageTag&&Object(E.jsxs)(_.a.Text,{className:"text-danger",children:["Mismatch with deployment: ",Object(E.jsx)("b",{children:o.inspect.imageTag})]})]})]})}),Object(E.jsxs)(xa.a.Footer,{className:"bg-light",children:[t.item&&Object(E.jsx)(L.a,{disabled:!function(){var e=!0;return"branch"===o.srcType&&(e=o.branch.length>0&&o.commit.length>0),"tag"===o.srcType&&(e=o.tag.length>0),o.imageTag.length>0&&e}(),variant:"success",onClick:function(){return u.apply(this,arguments)},children:r("soajs:buttons.Redeploy")}),Object(E.jsx)(L.a,{variant:"info",onClick:d,children:r("soajs:buttons.Close")})]})]})}var Al=Ct.getService(),Tl=wt.getService();function El(e,t,a,n,s){return Il.apply(this,arguments)}function Il(){return(Il=Object(v.a)(g.a.mark((function e(t,a,n,s,r){var c,i,o,l,d,j,u,m,p,b;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c={},t.item.inspect&&(i=wl(t.item.inspect,t.item.kind))&&(c=yl(i)),o={},t.item.deployConfiguration&&(o=vl(t.item.deployConfiguration)),!r||!a){e.next=35;break}if((l=Ml(a,n))||0!==n.length||console.log("No restriction"),!l){e.next=34;break}if(d="",j=c.commit||o.commit||"",e.prev=10,!t.item.itemSrc){e.next=26;break}if(!c.branch&&!o.branch){e.next=21;break}return u={repo:t.item.itemSrc.repo,owner:t.item.itemSrc.owner,provider:t.item.itemSrc.provider,branch:c.branch||o.branch},e.next=16,Tl.getGitBranch(u);case 16:(m=e.sent)&&m.commit&&(j=m.commit),m&&m.repo&&m.repo.id&&(d=m.repo.id),e.next=26;break;case 21:return p={name:t.item.itemSrc.repo,owner:[t.item.itemSrc.owner],provider:[t.item.itemSrc.provider],active:!0},e.next=24,Tl.getRepositories(p);case 24:(b=e.sent)&&b.repositories&&b.repositories.length>0&&(d=b.repositories[0]._id);case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(10),ie.error(e.t0.message);case 31:s((function(e){if((e=G.a.merge({},_l)).recipeId=a,e.image.name=l.recipe.deployOptions.image.name||o.imageName||c.imageName||"",e.image.tag=l.recipe.deployOptions.image.tag||o.imageTag||c.imageTag||"",e.image.prefix=l.recipe.deployOptions.image.prefix||o.imagePrefix||c.imagePrefix||"",e.binary=!!l.recipe.deployOptions.image.binary,e.binary||t.item.itemSrc||(e.warning="This item does not have a repository source and can only be deployed with recipes that do not require source. (binary only)"),e.binary||((c.branch||o.branch)&&(e.srcType="branch"),(c.tag||o.tag)&&(e.srcType="tag"),t.item.availableSrc&&(e.branchOrTag=[],t.item.availableSrc.branches&&e.branchOrTag.push("branch"),t.item.availableSrc.tags&&e.branchOrTag.push("tag"),""===e.srcType&&(e.srcType=e.branchOrTag[0])),e.repoId=d,e.branch=c.branch||o.branch||t.item.availableSrc&&t.item.availableSrc.branches&&t.item.availableSrc.branches[0]||"",e.commit=j,e.tag=c.tag||o.tag||t.item.availableSrc.tags||""),e.config=o,e.inspect=c,e.settings.mode=t.item.kind||e.settings.mode,e.readinessProbe=l.recipe.deployOptions.readinessProbe||e.readinessProbe,e.livenessProbe=l.recipe.deployOptions.livenessProbe||e.livenessProbe,t.item.deployConfiguration&&(t.item.deployConfiguration.cd&&t.item.deployConfiguration.cd.strategy&&(e.cd.strategy=t.item.deployConfiguration.cd.strategy),t.item.deployConfiguration.settings&&(e.settings.memory=t.item.deployConfiguration.settings.memory||e.settings.memory,e.settings.mode=t.item.deployConfiguration.settings.mode||e.settings.mode,e.settings.replicas=t.item.deployConfiguration.settings.replicas||e.settings.replicas,e.settings.concurrencyPolicy=t.item.deployConfiguration.settings.concurrencyPolicy||e.settings.concurrencyPolicy,e.settings.schedule=t.item.deployConfiguration.settings.schedule||e.settings.schedule,e.settings.restartPolicy=t.item.deployConfiguration.settings.restartPolicy||e.settings.restartPolicy),t.item.deployConfiguration.recipe&&(e.readinessProbe=t.item.deployConfiguration.recipe.readinessProbe||e.readinessProbe,e.livenessProbe=t.item.deployConfiguration.recipe.livenessProbe||e.livenessProbe)),l.recipe.deployOptions.ports){t.item.deployConfiguration&&t.item.deployConfiguration.recipe.ports&&t.item.deployConfiguration.recipe.ports.portType&&(e.ports.portType=t.item.deployConfiguration.recipe.ports.portType),e.ports.ports=[],e.showPortType=!1;for(var n=0;n<l.recipe.deployOptions.ports.length;n++){var s={name:l.recipe.deployOptions.ports[n].name,target:l.recipe.deployOptions.ports[n].target,isPublished:l.recipe.deployOptions.ports[n].isPublished,published:0};if(e.showPortType=e.showPortType||s.isPublished,t.item.deployConfiguration&&t.item.deployConfiguration.recipe.ports&&t.item.deployConfiguration.recipe.ports.values)for(var r=0;r<t.item.deployConfiguration.recipe.ports.values.length;r++)t.item.deployConfiguration.recipe.ports.values[r].name===s.name&&t.item.deployConfiguration.recipe.ports.values[r].published&&(s.published=t.item.deployConfiguration.recipe.ports.values[r].published);e.ports.ports.push(s)}}if(l.recipe.buildOptions.env){var i=Object.keys(l.recipe.buildOptions.env);e.env=l.recipe.buildOptions.env;for(var u=0;u<i.length;u++)"userInput"===l.recipe.buildOptions.env[i[u]].type&&t.item.deployConfiguration&&t.item.deployConfiguration.recipe&&t.item.deployConfiguration.recipe.env&&t.item.deployConfiguration.recipe.env.hasOwnProperty([i[u]])&&(e.env[i[u]].value=t.item.deployConfiguration.recipe.env[i[u]]),"secret"===l.recipe.buildOptions.env[i[u]].type&&t.item.deployConfiguration&&t.item.deployConfiguration.recipe&&t.item.deployConfiguration.recipe.env&&t.item.deployConfiguration.recipe.env.hasOwnProperty([i[u]])&&(e.env[i[u]].name=t.item.deployConfiguration.recipe.env[i[u]].name)}return Object(N.a)({},e)})),e.next=35;break;case 34:ie.error("The used recipe is not in the allowed recipe list or not available anymore.");case 35:case"end":return e.stop()}}),e,null,[[10,28]])})))).apply(this,arguments)}function Ul(e,t,a,n){return Ll.apply(this,arguments)}function Ll(){return(Ll=Object(v.a)(g.a.mark((function e(t,a,n,s){var r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={limit:10,start:10*(t-1)},a&&a._keywords&&""!==a._keywords&&(r.keywords=a._keywords),e.next=5,Al.getRecipes(r);case 5:c=e.sent,n({totalItems:c.count,maxSize:10,itemsPerPage:c.limit}),s(c.records),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Ml(e,t){for(var a=0;a<t.length;a++)if(t[a]._id===e)return t[a];return null}function zl(e){return e.metadata&&e.metadata.labels&&e.metadata.labels["soajs.catalog.id"]||null}var _l={cd:{strategy:"notify"},settings:{memory:"0",mode:"Deployment",replicas:1,concurrencyPolicy:"Allow",schedule:"",restartPolicy:"OnFailure"},image:{name:"",prefix:"",tag:""},showPortType:!1,ports:{type:"kubernetes",portType:"NodePort",ports:[{name:"",target:0,published:0,isPublished:!1}]},env:null,readinessProbe:null,livenessProbe:null,binary:!1,srcType:"",recipeId:"",repoId:"",tag:"",branch:"",commit:"",config:{},inspect:{},branchOrTag:[],warning:null},Rl=null,Gl=null;function Dl(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=Object(Ee.a)(["common","soajs"]).t,c=T().ability,i=Object(n.useState)(_l),o=Object(y.a)(i,2),l=o[0],d=o[1],j=function(){return a({show:!1,item:null,title:""})},u=Object(n.useState)(1),m=Object(y.a)(u,2),p=m[0],b=m[1],h=Object(n.useState)([]),O=Object(y.a)(h,2),x=O[0],f=O[1],w=Object(n.useState)([]),k=Object(y.a)(w,2),C=k[0],S=k[1],P=Object(n.useState)(1),A=Object(y.a)(P,2),I=A[0],U=A[1],M=Object(n.useState)({_keywords:""}),z=Object(y.a)(M,2),R=z[0],F=z[1],B=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),K=Object(y.a)(B,2),H=K[0],J=K[1];function W(){return(W=Object(v.a)(g.a.mark((function e(){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={repo:t.item.itemSrc.repo,owner:t.item.itemSrc.owner,provider:t.item.itemSrc.provider,branch:l.branch},e.prev=1,e.next=4,Tl.getGitBranch(a);case 4:(n=e.sent)&&n.commit&&(l.commit=n.commit,n.repo&&n.repo.id&&(l.repoId=n.repo.id),d(Object(N.a)({},l))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function V(e){return q.apply(this,arguments)}function q(){return(q=Object(v.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.target.value,a.target.hasOwnProperty("checked")&&(n=a.target.checked),"number"===a.target.type&&(n=parseInt(n)),"recipeId"!==a.target.id){e.next=8;break}return e.next=6,El(t,a.target.value,C,d,!0);case 6:e.next=10;break;case 8:D(l,a.target.id,n),d(Object(N.a)({},l));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){var t=e.target.value,a=e.target.id;l.ports.ports[a].published=parseInt(t),d(Object(N.a)({},l))}function X(){return(X=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ul(t,R,J,f);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Ul(1,R,J,f);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(v.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S([a]),b(2),e.next=4,El(t,a._id,[a],d,!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){var e={name:t.item.name,type:t.item.type},a={config:{env:t.item.env,version:t.item.version,cd:{strategy:l.cd.strategy},settings:{memory:l.settings.memory,mode:l.settings.mode,replicas:l.settings.replicas,concurrencyPolicy:l.settings.concurrencyPolicy,schedule:l.settings.schedule,restartPolicy:l.settings.restartPolicy},src:{id:l.repoId,from:{tag:l.tag,branch:l.branch,commit:l.commit}},recipe:{id:l.recipeId,image:{name:l.image.name,prefix:l.image.prefix,tag:l.image.tag},readinessProbe:Rl||l.readinessProbe||null,livenessProbe:Gl||l.livenessProbe||null}}};if(a.config.recipe.readinessProbe&&0!==Object.keys(a.config.recipe.readinessProbe).length||delete a.config.recipe.readinessProbe,a.config.recipe.livenessProbe&&0!==Object.keys(a.config.recipe.livenessProbe).length||delete a.config.recipe.livenessProbe,l.binary||!t.item.itemSrc?delete a.config.src:"branch"===l.srcType?delete a.config.src.from.tag:(delete a.config.src.from.branch,delete a.config.src.from.commit),"DaemonSet"===a.config.settings.mode&&(delete a.config.settings.replicas,delete a.config.settings.concurrencyPolicy,delete a.config.settings.schedule,delete a.config.settings.restartPolicy),"Deployment"===a.config.settings.mode&&(delete a.config.settings.concurrencyPolicy,delete a.config.settings.schedule,delete a.config.settings.restartPolicy),"CronJob"===a.config.settings.mode&&delete a.config.settings.replicas,l.env)for(var n=Object.keys(l.env),s=0;s<n.length;s++)"userInput"===l.env[n[s]].type&&(a.config.recipe.env||(a.config.recipe.env={}),a.config.recipe.env[n[s]]=l.env[n[s]].value||l.env[n[s]].default),"secret"===l.env[n[s]].type&&(a.config.recipe.env[n[s]]={name:l.env[n[s]].name||l.env[n[s]].secret,key:l.env[n[s]].key});if(l.ports.ports.length>0){a.config.recipe.ports={type:l.ports.type,portType:l.ports.portType,values:[]};for(var r=0;r<l.ports.ports.length;r++)if(l.ports.ports[r].isPublished){var c={name:l.ports.ports[r].name,target:l.ports.ports[r].target};"NodePort"===l.ports.portType&&(c.published=l.ports.ports[r].published),a.config.recipe.ports.values.push(c)}}return{data:a,params:e}}function ee(){return(ee=Object(v.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=$(),a=t.data,n=t.params,e.next=4,Al.configure(n,a);case 4:s(),j(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function te(){return(te=Object(v.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=$(),a=t.data,n=t.params,e.next=4,Al.build(n,a);case 4:s(),j(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n,s,r,c,i,o;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t||!t.item){a.next=25;break}if(n=null,s=[],r=[],c=null,t.item.deployConfiguration&&t.item.deployConfiguration.recipe&&t.item.deployConfiguration.recipe.id&&(c=t.item.deployConfiguration.recipe.id,r.push(c),n=c),i=null,t.item.inspect&&(o=wl(t.item.inspect,t.item.kind))&&(i=zl(o),r.push(i),n=i),t.item.itemSettings&&t.item.itemSettings.recipes&&Array.isArray(t.item.itemSettings.recipes)&&0!==t.item.itemSettings.recipes.length){a.next=11;break}return a.next=11,Ul(1,{_keywords:""},J,f);case 11:if(t.item.itemSettings&&t.item.itemSettings.recipes&&Array.isArray(t.item.itemSettings.recipes)&&t.item.itemSettings.recipes.length>0&&(r=G.a.union(r,t.item.itemSettings.recipes)),!(r.length>0)){a.next=23;break}return a.prev=13,a.next=16,Al.getRecipesByIds(r);case 16:(s=a.sent)&&Array.isArray(s)&&(n||(n=s[0]._id),e&&(S(s),b(2))),a.next=23;break;case 20:a.prev=20,a.t0=a.catch(13),ie.error(a.t0.message);case 23:return a.next=25,El(t,n,s,d,e);case 25:case"end":return a.stop()}}),a,null,[[13,20]])})))).apply(this,arguments)}return function(){return a.apply(this,arguments)}().catch(),function(){return e=!1}}),[t]),t&&Object(E.jsxs)(xa.a,{show:t.show,onHide:j,animation:!1,size:"xl",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,className:"bg-secondary text-white",children:Object(E.jsxs)(xa.a.Title,{children:[t.item&&t.item.deployConfiguration?"reConfigure Deployment":"Configure Deployment",": ",t.title]})}),Object(E.jsxs)(xa.a.Body,{children:[1===p&&t.item&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ct.a,{variant:"secondary",className:"p-3",children:Object(E.jsxs)(_.a.Row,{children:[Object(E.jsx)(_.a.Label,{column:"xs",xs:3,children:r("soajs:buttons.Search")}),Object(E.jsx)(dt.a,{xs:6,children:Object(E.jsx)(_.a.Control,{id:"_keywords",size:"sm",autoFocus:!0,value:R._keywords,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),F(Object(N.a)(Object(N.a)({},R),{},Object(Ve.a)({},e.target.id,t)))}})}),Object(E.jsx)(dt.a,{xs:3,children:Object(E.jsxs)(L.a,{className:"float-right",variant:"dark",size:"sm",onClick:function(e){return Q.apply(this,arguments)},children:[Object(E.jsx)(vt.c,{})," ",r("soajs:buttons.Search")]})})]})}),Object(E.jsx)("hr",{}),x.map((function(e,t){return Object(E.jsx)(ot.a,{className:"m-1 p-1",bg:"light",children:Object(E.jsxs)(ot.a.Body,{className:"p-2",children:[e.name," - ",Object(E.jsxs)("span",{className:"font-italic small text-danger",children:["[",e.type,"/",e.subtype,"]"]}),Object(E.jsxs)("span",{className:"float-right small",children:[Object(E.jsxs)(it.a,{variant:"dark",children:["V ",e.v]}),Object(E.jsx)(L.a,{className:"float-right ml-2",variant:"success",size:"sm",onClick:function(){(function(e){return Z.apply(this,arguments)})(e).catch()},children:r("soajs:buttons.Select")})]})]})},t)})),x.length>0&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"float-right mt-3",children:Object(E.jsx)(_t,{currentPage:I,totalItems:H.totalItems,itemsPerPage:H.itemsPerPage,maxSize:H.maxSize,onClick:function(e){U(e),function(e){return X.apply(this,arguments)}(e).catch()}})}),Object(E.jsx)("div",{className:"clearfix"})]})]}),2===p&&t.item&&Object(E.jsxs)(_.a,{children:[Object(E.jsx)(ct.a,{variant:"secondary",children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.SelectRecipe")}),!(t.item&&t.item.itemSettings&&t.item.itemSettings.recipes&&Array.isArray(t.item.itemSettings.recipes)&&t.item.itemSettings.recipes.length>0)&&Object(E.jsx)(L.a,{className:"pt-0 pl-1 pr-1 ml-2 float-right",variant:"warning",size:"sm",onClick:function(){b(1)},children:r("soajs:buttons.Change")}),Object(E.jsx)(_.a.Control,{as:"select",id:"recipeId",value:l.recipeId,onChange:V,children:C.map((function(e,t){return Object(E.jsx)("option",{value:e._id,children:e.name},t)}))})]})}),l.warning&&Object(E.jsx)(ct.a,{variant:"danger",className:"small",children:l.warning}),Object(E.jsxs)(ot.a,{border:"success",className:"mb-3",children:[Object(E.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:"Image Settings"}),Object(E.jsxs)(ot.a.Body,{className:"pb-0",children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Prefix")}),Object(E.jsx)(_.a.Control,{id:"image.prefix",size:"sm",value:l.image.prefix,onChange:V}),t.item&&t.item.deployConfiguration&&l.config.imagePrefix&&l.image.prefix!==l.config.imagePrefix&&Object(E.jsxs)(_.a.Text,{className:"text-danger",children:["Mismatch with configuration: ",Object(E.jsx)("b",{children:l.config.imagePrefix})]}),t.item&&t.item.deployed&&l.inspect.imagePrefix&&l.image.prefix!==l.inspect.imagePrefix&&Object(E.jsxs)(_.a.Text,{className:"text-danger",children:["Mismatch with deployment: ",Object(E.jsx)("b",{children:l.inspect.imagePrefix})]})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Name")}),Object(E.jsx)(_.a.Control,{id:"image.name",size:"sm",value:l.image.name,onChange:V}),t.item&&t.item.deployConfiguration&&l.config.imageName&&l.image.name!==l.config.imageName&&Object(E.jsxs)(_.a.Text,{className:"text-danger",children:["Mismatch with configuration: ",Object(E.jsx)("b",{children:l.config.imageName})]}),t.item&&t.item.deployed&&l.inspect.imageName&&l.image.name!==l.inspect.imageName&&Object(E.jsxs)(_.a.Text,{className:"text-danger",children:["Mismatch with deployment: ",Object(E.jsx)("b",{children:l.inspect.imageName})]})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.tag")}),Object(E.jsx)(_.a.Control,{id:"image.tag",size:"sm",value:l.image.tag,onChange:V}),t.item&&t.item.deployConfiguration&&l.config.imageTag&&l.image.tag!==l.config.imageTag&&Object(E.jsxs)(_.a.Text,{className:"text-danger",children:["Mismatch with configuration: ",Object(E.jsx)("b",{children:l.config.imageTag})]}),t.item&&t.item.deployed&&l.inspect.imageTag&&l.image.tag!==l.inspect.imageTag&&Object(E.jsxs)(_.a.Text,{className:"text-danger",children:["Mismatch with deployment: ",Object(E.jsx)("b",{children:l.inspect.imageTag})]})]})]})]}),!l.binary&&l.branchOrTag&&l.branchOrTag.length>0&&Object(E.jsxs)(ot.a,{border:"success",className:"mb-3",children:[Object(E.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:"Repository Settings"}),Object(E.jsxs)(ot.a.Body,{className:"pb-0",children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.BranchOrTag")}),Object(E.jsx)(_.a.Control,{as:"select",id:"srcType",value:l.srcType,onChange:V,children:l.branchOrTag.map((function(e,t){return Object(E.jsx)("option",{value:e,children:e},t)}))})]}),"branch"===l.srcType&&Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Branch")}),Object(E.jsx)(_.a.Control,{as:"select",id:"branch",value:l.branch,onChange:V,children:t.item&&t.item.availableSrc&&t.item.availableSrc.branches&&t.item.availableSrc.branches.map((function(e,t){return Object(E.jsx)("option",{value:e,children:e},t)}))}),t.item&&t.item.deployConfiguration&&l.config.branch&&l.branch!==l.config.branch&&Object(E.jsxs)(_.a.Text,{className:"text-danger",children:["Mismatch with configuration: ",Object(E.jsx)("b",{children:l.config.branch})]}),t.item&&t.item.deployed&&l.inspect.branch&&l.branch!==l.inspect.branch&&Object(E.jsxs)(_.a.Text,{className:"text-danger",children:["Mismatch with configuration: ",Object(E.jsx)("b",{children:l.inspect.branch})]})]}),"branch"===l.srcType&&Object(E.jsxs)(_.a.Group,{children:[Object(E.jsxs)(_.a.Label,{children:[r("soajs:fields.Commit"),Object(E.jsx)(L.a,{className:"pt-0 pl-1 pr-1 ml-2",variant:"info",onClick:function(){return W.apply(this,arguments)},children:Object(E.jsx)(Qa.b,{})})]}),Object(E.jsx)(_.a.Control,{id:"commit",size:"sm",value:l.commit,onChange:V}),t.item&&t.item.deployConfiguration&&l.config.commit&&l.commit!==l.config.commit&&Object(E.jsxs)(_.a.Text,{className:"text-danger",children:["Mismatch with configuration: ",Object(E.jsx)("b",{children:l.config.commit})]}),t.item&&t.item.deployed&&l.inspect.commit&&l.commit!==l.inspect.commit&&Object(E.jsxs)(_.a.Text,{className:"text-danger",children:["Mismatch with deployment: ",Object(E.jsx)("b",{children:l.inspect.commit})]})]}),"tag"===l.srcType&&Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Tag")}),Object(E.jsx)(_.a.Control,{as:"select",id:"tag",value:l.tag,onChange:V,children:t.item&&t.item.availableSrc&&t.item.availableSrc.tags&&t.item.availableSrc.tags.map((function(e,t){return Object(E.jsx)("option",{value:e,children:e},t)}))}),t.item&&t.item.deployConfiguration&&l.config.tag&&l.tag!==l.config.tag&&Object(E.jsxs)(_.a.Text,{className:"text-danger",children:["Mismatch with configuration: ",Object(E.jsx)("b",{children:l.config.tag})]}),t.item&&t.item.deployed&&l.inspect.tag&&l.tag!==l.inspect.tag&&Object(E.jsxs)(_.a.Text,{className:"text-danger",children:["Mismatch with deployment: ",Object(E.jsx)("b",{children:l.inspect.tag})]})]})]})]}),Object(E.jsxs)(ot.a,{border:"primary",className:"mb-3",children:[Object(E.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:"Deployment Settings"}),Object(E.jsxs)(ot.a.Body,{className:"pb-0",children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.CDStrategy")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"cd.strategy",value:l.cd.strategy,onChange:V,children:[Object(E.jsx)("option",{value:"notify",children:"Notify"}),Object(E.jsx)("option",{value:"update",children:"Update"})]})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Memory")}),Object(E.jsx)(_.a.Control,{id:"settings.memory",size:"sm",value:l.settings.memory,onChange:V}),Object(E.jsxs)(_.a.Text,{className:"text-muted",children:["Specify the Maximum memory limit that should be provided for this deployment. Example: You can set it to 1024Mi or 1Gi. ",Object(E.jsx)("a",{href:"https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#meaning-of-memory%22",children:"Click here"})," for more information. You can use 0 if you want the memory limits (minimum and maximum) to be elastic."]})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.DeploymentType")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"settings.mode",value:l.settings.mode,onChange:V,children:[Object(E.jsx)("option",{value:"Deployment",children:"Deployment"}),Object(E.jsx)("option",{value:"DaemonSet",children:"DaemonSet"}),Object(E.jsx)("option",{value:"CronJob",children:"CronJob"})]})]}),Object(E.jsx)("hr",{}),"CronJob"===l.settings.mode&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Schedule")}),Object(E.jsx)(_.a.Control,{id:"settings.schedule",size:"sm",value:l.settings.schedule,onChange:V}),Object(E.jsxs)(_.a.Text,{className:"text-muted",children:["A CronJob takes a ",Object(E.jsx)("a",{href:"https://en.wikipedia.org/wiki/Cron",children:"Cron"})," format string, such as 0 * * * * or @hourly, as schedule time of its jobs to be created and executed."]})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.ConcurrencyPolicy")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"settings.concurrencyPolicy",value:l.settings.concurrencyPolicy,onChange:V,children:[Object(E.jsx)("option",{value:"Allow",children:"Allow"}),Object(E.jsx)("option",{value:"Forbid",children:"Forbid"}),Object(E.jsx)("option",{value:"Replace",children:"Replace"})]})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.RestartPolicy")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"settings.restartPolicy",value:l.settings.restartPolicy,onChange:V,children:[Object(E.jsx)("option",{value:"OnFailure",children:"OnFailure"}),Object(E.jsx)("option",{value:"Never",children:"Never"})]})]})]}),"Deployment"===l.settings.mode&&Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Replicas")}),Object(E.jsx)(_.a.Control,{id:"settings.replicas",size:"sm",type:"number",min:"1",value:l.settings.replicas,onChange:V})]})})]})]}),l.ports.ports&&l.ports.ports.length>0&&Object(E.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(E.jsxs)(ot.a,{border:"secondary",className:"mb-3",children:[Object(E.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:Object(E.jsx)(Ot.a.Toggle,{className:"p-0",as:L.a,variant:"link",eventKey:"1",children:"Ports"})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(E.jsxs)(ot.a.Body,{className:"pb-0 small",children:[l.showPortType&&Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.PortType")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"ports.portType",value:l.ports.portType,onChange:V,children:[Object(E.jsx)("option",{value:"LoadBalancer",children:"LoadBalancer"}),Object(E.jsx)("option",{value:"NodePort",children:"NodePort"}),Object(E.jsx)("option",{value:"Internal",children:"Internal"})]})]}),Object(E.jsx)("hr",{}),l.ports.ports.map((function(e,t){return Object(E.jsx)(ct.a,{className:"p-2",variant:e.isPublished?"info":"secondary",children:Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{children:[e.name," ",Object(E.jsx)(it.a,{className:"ml-3 mr-3",variant:"secondary",children:e.target})]}),Object(E.jsx)(dt.a,{children:e.isPublished&&"NodePort"===l.ports.portType&&Object(E.jsx)(_.a.Control,{id:t,size:"sm",min:0,type:"number",value:e.published,onChange:Y})})]})},t)}))]})})]})}),l.env&&Object(E.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(E.jsxs)(ot.a,{border:"secondary",className:"mb-3",children:[Object(E.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:Object(E.jsx)(Ot.a.Toggle,{className:"p-0",as:L.a,variant:"link",eventKey:"1",children:"Environment Variables"})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(E.jsx)(ot.a.Body,{className:"pb-0 small",children:l.env&&Object.keys(l.env).map((function(e,t){return Object(E.jsxs)(ct.a,{className:"p-2",variant:"userInput"===l.env[e].type?"info":"secondary",children:[Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{children:[e," ",Object(E.jsx)(it.a,{className:"ml-3 mr-3",variant:"userInput"===l.env[e].type?"success":"computed"===l.env[e].type?"secondary":"info",children:l.env[e].type})]}),Object(E.jsx)(dt.a,{children:"userInput"!==l.env[e].type&&Object(E.jsx)(E.Fragment,{children:l.env[e].value})})]}),"userInput"===l.env[e].type&&Object(E.jsx)(lt.a,{className:"mt-2",children:Object(E.jsx)(dt.a,{children:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(_.a.Control,{id:"env."+e+".value",size:"sm",value:l.env[e].value||l.env[e].default,onChange:V}),Object(E.jsxs)(_.a.Text,{className:"text-muted",children:[Object(E.jsxs)("b",{children:[l.env[e].label,": "]}),l.env[e].fieldMsg]})]})})}),"secret"===l.env[e].type&&Object(E.jsxs)(lt.a,{className:"mt-2",children:[Object(E.jsx)(dt.a,{children:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(_.a.Control,{id:"env."+e+".secret",size:"sm",value:l.env[e].secret,onChange:V}),Object(E.jsx)(_.a.Text,{className:"text-muted",children:"Secret name"})]})}),Object(E.jsx)(dt.a,{children:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(_.a.Control,{id:"env."+e+".key",size:"sm",value:l.env[e].key,onChange:V}),Object(E.jsx)(_.a.Text,{className:"text-muted",children:"Secret label"})]})})]})]},t)}))})})]})}),Object(E.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(E.jsxs)(ot.a,{border:"warning",className:"mb-3",children:[Object(E.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:Object(E.jsx)(Ot.a.Toggle,{className:"p-0",as:L.a,variant:"link",eventKey:"1",children:"Readiness Information"})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(E.jsx)(ot.a.Body,{className:"pb-0",children:Object(E.jsxs)(lt.a,{style:{height:"250px"},children:[Object(E.jsx)(dt.a,{children:Object(E.jsx)(ue,{modes:["code","tree"],mode:"code",json:Rl||l.readinessProbe||null,onChange:function(e){Rl=e}})}),Object(E.jsx)(dt.a,{xs:4,className:"small",children:Object(E.jsxs)("div",{children:[Object(E.jsx)(ct.a,{variant:"dark",className:"m-0 pb-0 pt-1",children:Object(E.jsx)("h6",{children:"Example"})}),Object(E.jsx)(ct.a,{variant:"info",className:"m-0 pb-0 pt-1",children:Object(E.jsx)("pre",{className:"small, text-muted",children:JSON.stringify(js.readinessProbe,null,2)})})]})})]})})})]})}),Object(E.jsx)(Ot.a,{defaultActiveKey:"0",children:Object(E.jsxs)(ot.a,{border:"warning",className:"mb-3",children:[Object(E.jsx)(ot.a.Header,{className:"pt-1 pb-0",children:Object(E.jsx)(Ot.a.Toggle,{className:"p-0",as:L.a,variant:"link",eventKey:"1",children:"Liveness Information"})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:"1",children:Object(E.jsx)(ot.a.Body,{className:"pb-0",children:Object(E.jsxs)(lt.a,{style:{height:"250px"},children:[Object(E.jsx)(dt.a,{children:Object(E.jsx)(ue,{mode:"code",modes:["code","tree"],json:Gl||l.livenessProbe||null,onChange:function(e){Gl=e}})}),Object(E.jsx)(dt.a,{xs:4,className:"small",children:Object(E.jsxs)("div",{children:[Object(E.jsx)(ct.a,{variant:"dark",className:"m-0 pb-0 pt-1",children:Object(E.jsx)("h6",{children:"Example"})}),Object(E.jsx)(ct.a,{variant:"info",className:"m-0 pb-0 pt-1",children:Object(E.jsx)("pre",{className:"small, text-muted",children:JSON.stringify(js.livenessProbe,null,2)})})]})})]})})})]})})]})]}),Object(E.jsxs)(xa.a.Footer,{className:"bg-light",children:[2===p&&t.item&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(L.a,{variant:"success",onClick:function(){return ee.apply(this,arguments)},children:t.item&&t.item.deployConfiguration?r("soajs:buttons.Update"):r("soajs:buttons.Save")}),c.can("market_item","build")&&Object(E.jsxs)(L.a,{variant:"dark",onClick:function(){return te.apply(this,arguments)},children:[t.item&&t.item.deployConfiguration?r("soajs:buttons.Update"):r("soajs:buttons.Save")," & ",t.item&&t.item.deployed?r("soajs:buttons.reDeploy"):r("soajs:buttons.Deploy")]})]}),Object(E.jsx)(L.a,{variant:"info",onClick:j,children:r("soajs:buttons.Close")})]})]})}var Fl=Et.getService();function Bl(e){var t=e.version,a=e.env,s=e.itemName,r=e.itemType,c=e.itemSettings,i=e.itemSrc,o=e.deployed,l=e.reload,d=e.name,j=e.kind,u=e.active,m=e.deployConfiguration,p=e.inspect,b=Object(Ee.a)(["common","soajs"]).t,h=T().ability,O=Object(n.useState)({show:!1,item:null}),x=Object(y.a)(O,2),f=x[0],w=x[1],k=function(e){return w({show:!0,item:e})},C=Object(n.useState)({show:!1,item:null,title:""}),N=Object(y.a)(C,2),S=N[0],P=N[1],A=Object(n.useState)({show:!1,item:null,title:""}),I=Object(y.a)(A,2),U=I[0],L=I[1],M=function(e){return L({show:!0,item:e,title:e.name})};function z(){return(z=Object(v.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j||!d||"deploy"!==t){e.next=12;break}if(e.prev=1,!u){e.next=7;break}return e.next=5,Fl.deleteItem(a,{name:d,mode:j});case 5:ie.success(b("soajs:messages.deleteItem")),l();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ie.error(e.t0.message);case 12:"config"===t&&(n={type:r,name:s,env:a},console.log(t,n));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function _(){return(_=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j||!d){e.next=11;break}if(e.prev=1,!u){e.next=6;break}return e.next=5,Fl.restart(a,{name:d,mode:j});case 5:ie.success(b("soajs:messages.restartItem"));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(gl,{modalOpt:f,setModalOpt:w,handleAction:function(e){return z.apply(this,arguments)}}),Object(E.jsx)(Pl,{modalOpt:S,setModalOpt:P,handleAction:l}),Object(E.jsx)(Dl,{modalOpt:U,setModalOpt:L,handleAction:l}),Object(E.jsxs)(ha.a,{size:"sm",id:"dropdown-item-button",title:"Service Operations",variant:"secondary",className:"float-left small",children:[o&&Object(E.jsxs)(E.Fragment,{children:[h.can("market_item","configure")&&Object(E.jsx)(Oa.a.Item,{onClick:function(){M({deployed:o,itemSettings:c,name:s,type:r,itemSrc:i,availableSrc:{branches:t.branches||null,tags:t.tags||null},deployConfiguration:m||null,version:t.version,env:a,inspect:p||null,kind:j})},children:Object(E.jsx)("small",{children:"Configure"})}),h.can("market_item","redeploy")&&Object(E.jsx)(Oa.a.Item,{onClick:function(){var e;e={name:s,type:r,itemSrc:i,availableSrc:{branches:t.branches||null,tags:t.tags||null},deployConfiguration:m||null,version:t.version,env:a,inspect:p||null,kind:j},P({show:!0,item:e,title:e.name})},children:Object(E.jsx)("small",{children:"Redeploy"})}),h.can("infra_item","restart")&&Object(E.jsx)(Oa.a.Item,{onClick:function(){(function(){return _.apply(this,arguments)})().catch()},children:Object(E.jsx)("small",{children:"Restart"})}),Object(E.jsx)(Oa.a.Divider,{className:"m-0"}),Object(E.jsx)(Oa.a.Item,{onClick:function(){l()},children:Object(E.jsx)("small",{children:"Refresh"})}),Object(E.jsx)(Oa.a.Divider,{className:"m-0"}),h.can("infra_item","delete")&&Object(E.jsx)(Oa.a.Item,{onClick:function(){k({title:s+" v"+t.version,what:"deploy"})},children:Object(E.jsx)("small",{children:"Delete Deployment"})})]}),!o&&Object(E.jsxs)(E.Fragment,{children:[h.can("market_item","configure")&&Object(E.jsx)(Oa.a.Item,{onClick:function(){M({deployed:o,itemSettings:c,name:s,type:r,itemSrc:i,availableSrc:{branches:t.branches||null,tags:t.tags||null},deployConfiguration:m||null,version:t.version,env:a,inspect:p||null,kind:j})},children:Object(E.jsx)("small",{children:"Configure"})}),Object(E.jsx)(Oa.a.Divider,{className:"m-0"}),Object(E.jsx)(Oa.a.Item,{onClick:function(){l()},children:Object(E.jsx)("small",{children:"Refresh"})}),Object(E.jsx)(Oa.a.Divider,{className:"m-0"}),m&&h.can("market_item_configure","delete")&&Object(E.jsx)(Oa.a.Item,{onClick:function(){k({title:s+" v"+t.version+" configuration",what:"config"})},children:Object(E.jsx)("small",{children:"Delete Configuration"})})]})]})]})}var Kl=Et.getService();function Hl(){return(Hl=Object(v.a)(g.a.mark((function e(t,a,n,s,r,c,i,o,l){var d,j;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!r){e.next=6;break}return e.next=4,Kl.inspect(t,{name:a,version:c.version});case 4:d=e.sent,l&&d&&(n(d),d.cronjobs&&d.cronjobs.items&&d.cronjobs.items.length>0?(i("CronJob"),o(d.cronjobs.items[0].metadata.name)):d.daemonsets&&d.daemonsets.items&&d.daemonsets.items.length>0?(i("DaemonSet"),o(d.daemonsets.items[0].metadata.name)):d.deployments&&d.deployments.items&&d.deployments.items.length>0&&(i("Deployment"),o(d.deployments.items[0].metadata.name)),j=0,Object.keys(d).map((function(e,t){return j+=d[e].items.length,!0})),j>0&&s(!0));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Jl(e){var t=e.reloadItem,a=e.version,s=e.itemName,r=e.itemType,c=e.itemSettings,i=e.itemSrc,o=e.env,l=e.active,d=e.deactivate,j=e.deployConfiguration,u=Object(n.useState)(null),m=Object(y.a)(u,2),p=m[0],b=m[1],h=Object(n.useState)({env:"",itemName:"",version:"",active:""}),O=Object(y.a)(h,2),x=(O[0],O[1]),f=Object(n.useState)(!1),w=Object(y.a)(f,2),k=w[0],C=w[1],N=Object(n.useState)(null),S=Object(y.a)(N,2),P=S[0],A=S[1],T=Object(n.useState)(null),I=Object(y.a)(T,2),U=I[0],L=I[1];function M(){return(M=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&x((function(t){return t.itemName===s?function(e,t,a,n,s,r,c,i,o){return Hl.apply(this,arguments)}(o,s,b,C,l,a,A,L,e).catch():l&&d(),{env:o,itemName:s,version:a.version,active:l}})),function(){return e=!1}}),[o,s,a,l,d]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("hr",{}),Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{children:Object(E.jsx)(Bl,{version:a,env:o,itemName:s,itemType:r,itemSettings:c,itemSrc:i,deployed:k,name:U,kind:P,reload:function(){return M.apply(this,arguments)},active:l,deployConfiguration:j,inspect:p})}),Object(E.jsx)(dt.a,{children:p&&k&&Object(E.jsx)(xl,{version:a,env:o,itemName:s,itemType:r})})]}),Object(E.jsx)("hr",{}),p&&p.services&&p.services.items&&p.services.items.length>0&&Object(E.jsx)(Fi,{items:p.services.items}),p&&p.cronjobs&&p.cronjobs.items&&p.cronjobs.items.length>0&&Object(E.jsx)(Ii,{items:p.cronjobs.items}),p&&p.daemonsets&&p.daemonsets.items&&p.daemonsets.items.length>0&&Object(E.jsx)(Ei,{items:p.daemonsets.items}),p&&p.deployments&&p.deployments.items&&p.deployments.items.length>0&&Object(E.jsx)(Ti,{items:p.deployments.items}),p&&p.hpas&&p.hpas.items&&p.hpas.items.length>0&&Object(E.jsx)(Ui,{items:p.hpas.items}),p&&p.pods&&p.pods.items&&p.pods.items.length>0&&Object(E.jsx)(Ai,{items:p.pods.items,env:o})]})}var Wl=Et.getService();function Vl(e,t,a){if(e&&e[a])for(var n=0;n<e[a].length;n++)if(e[a][n].version===t)return e[a][n];return null}function ql(e){var t=e.environment,a=Object(n.useState)({}),s=Object(y.a)(a,2),r=s[0],c=s[1];return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!t||!t.deployer||"manual"!==t.deployer.type){a.next=6;break}return a.next=4,Wl.getManualAwareness(t.code.toLowerCase());case 4:n=a.sent,e&&c(n);case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),ie.error(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}return function(){return a.apply(this,arguments)}().catch(),function(){return e=!1}}),[t]),t&&Object(E.jsx)(pl,{type:"service",subType:"soajs",Children:function(e){var a=e.version,n=e.item,s=e.active,c=e.deactivate,i=e.reloadItem;return Object(E.jsxs)(E.Fragment,{children:[t.deployer&&"manual"===t.deployer.type&&Object(E.jsx)(fl,{manualAwareness:r[n.name],version:a,itemName:n.name,itemType:n.type,env:t.code.toLowerCase()}),t.deployer&&"container"===t.deployer.type&&Object(E.jsx)(Jl,{reloadItem:i,version:a,itemName:n.name,itemType:n.type,itemSettings:n.settings||null,itemSrc:n.src||null,env:t.code.toLowerCase(),active:s,deactivate:c,deployConfiguration:Vl(n.deploy,a.version,t.code.toLowerCase())})]})},Header:function(e){var a=e.item;return t.deployer&&"manual"===t.deployer.type&&Object(E.jsx)(bl,{manualAwareness:r,item:a})}})}function Yl(e,t,a){if(e&&e[a])for(var n=0;n<e[a].length;n++)if(e[a][n].version===t)return e[a][n];return null}function Xl(e){var t=e.environment;return t&&Object(E.jsx)(E.Fragment,{children:t.deployer&&"container"===t.deployer.type?Object(E.jsx)(pl,{type:"static",subType:"soajs",Children:function(e){var a=e.version,n=e.item,s=e.active,r=e.deactivate,c=e.reloadItem;return Object(E.jsx)(E.Fragment,{children:t.deployer&&"container"===t.deployer.type&&Object(E.jsx)(Jl,{reloadItem:c,version:a,itemName:n.name,itemType:n.type,itemSettings:n.settings||null,itemSrc:n.src||null,env:t.code.toLowerCase(),active:s,deactivate:r,deployConfiguration:Yl(n.deploy,a.version,t.code.toLowerCase())})})}}):Object(E.jsxs)(ct.a,{variant:"info",className:"mt-4 mb-4",children:["This environment is of type ",Object(E.jsx)("span",{className:"text-success",children:"manual"}),", ",Object(E.jsx)("span",{className:"font-weight-bold",children:"SOAJS Frontend Catalog"})," is only available for environments of type ",Object(E.jsx)("span",{className:"text-info",children:"container"})]})})}var Ql=Et.getService();function Zl(e,t,a){if(e&&e[a])for(var n=0;n<e[a].length;n++)if(e[a][n].version===t)return e[a][n];return null}function $l(e){var t=e.environment,a=Object(n.useState)({}),s=Object(y.a)(a,2),r=s[0],c=s[1];return Object(n.useEffect)((function(){var e=!0;function a(){return(a=Object(v.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!t||!t.deployer||"manual"!==t.deployer.type){a.next=6;break}return a.next=4,Ql.getManualAwareness(t.code.toLowerCase());case 4:n=a.sent,e&&c(n);case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),ie.error(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}return function(){return a.apply(this,arguments)}().catch(),function(){return e=!1}}),[t]),t&&Object(E.jsx)(pl,{type:"service",Children:function(e){var a=e.version,n=e.item,s=e.active,c=e.deactivate,i=e.reloadItem;return Object(E.jsxs)(E.Fragment,{children:[t.deployer&&"manual"===t.deployer.type&&Object(E.jsx)(fl,{manualAwareness:r[n.name],version:a,itemName:n.name,itemType:n.type,env:t.code.toLowerCase()}),t.deployer&&"container"===t.deployer.type&&Object(E.jsx)(Jl,{reloadItem:i,version:a,itemName:n.name,itemType:n.type,itemSettings:n.settings||null,itemSrc:n.src||null,env:t.code.toLowerCase(),active:s,deactivate:c,deployConfiguration:Zl(n.deploy,a.version,t.code.toLowerCase())})]})},Header:function(e){var a=e.item;return t.deployer&&"manual"===t.deployer.type&&Object(E.jsx)(bl,{manualAwareness:r,item:a})}})}function ed(e,t,a){if(e&&e[a])for(var n=0;n<e[a].length;n++)if(e[a][n].version===t)return e[a][n];return null}function td(e){var t=e.environment;return t&&Object(E.jsx)(E.Fragment,{children:t.deployer&&"container"===t.deployer.type?Object(E.jsx)(pl,{type:"daemon",Children:function(e){var a=e.version,n=e.item,s=e.active,r=e.deactivate,c=e.reloadItem;return Object(E.jsx)(E.Fragment,{children:t.deployer&&"container"===t.deployer.type&&Object(E.jsx)(Jl,{reloadItem:c,version:a,itemName:n.name,itemType:n.type,itemSettings:n.settings||null,itemSrc:n.src||null,env:t.code.toLowerCase(),active:s,deactivate:r,deployConfiguration:ed(n.deploy,a.version,t.code.toLowerCase())})})}}):Object(E.jsxs)(ct.a,{variant:"info",className:"mt-4 mb-4",children:["This environment is of type ",Object(E.jsx)("span",{className:"text-success",children:"manual"}),", ",Object(E.jsx)("span",{className:"font-weight-bold",children:"Daemon Catalog"})," is only available for environments of type ",Object(E.jsx)("span",{className:"text-info",children:"container"})]})})}function ad(e,t,a){if(e&&e[a])for(var n=0;n<e[a].length;n++)if(e[a][n].version===t)return e[a][n];return null}function nd(e){var t=e.environment;return t&&Object(E.jsx)(E.Fragment,{children:t.deployer&&"container"===t.deployer.type?Object(E.jsx)(pl,{type:"static",Children:function(e){var a=e.version,n=e.item,s=e.active,r=e.deactivate,c=e.reloadItem;return Object(E.jsx)(E.Fragment,{children:t.deployer&&"container"===t.deployer.type&&Object(E.jsx)(Jl,{reloadItem:c,version:a,itemName:n.name,itemType:n.type,itemSettings:n.settings||null,itemSrc:n.src||null,env:t.code.toLowerCase(),active:s,deactivate:r,deployConfiguration:ad(n.deploy,a.version,t.code.toLowerCase())})})}}):Object(E.jsxs)(ct.a,{variant:"info",className:"mt-4 mb-4",children:["This environment is of type ",Object(E.jsx)("span",{className:"text-success",children:"manual"}),", ",Object(E.jsx)("span",{className:"font-weight-bold",children:"Frontend Catalog"})," is only available for environments of type ",Object(E.jsx)("span",{className:"text-info",children:"container"})]})})}function sd(e,t,a){if(e&&e[a])for(var n=0;n<e[a].length;n++)if(e[a][n].version===t)return e[a][n];return null}function rd(e){var t=e.environment;return t&&Object(E.jsx)(E.Fragment,{children:t.deployer&&"container"===t.deployer.type?Object(E.jsx)(pl,{type:"custom",Children:function(e){var a=e.version,n=e.item,s=e.active,r=e.deactivate,c=e.reloadItem;return Object(E.jsx)(E.Fragment,{children:t.deployer&&"container"===t.deployer.type&&Object(E.jsx)(Jl,{reloadItem:c,version:a,itemName:n.name,itemType:n.type,itemSettings:n.settings||null,itemSrc:n.src||null,env:t.code.toLowerCase(),active:s,deactivate:r,deployConfiguration:sd(n.deploy,a.version,t.code.toLowerCase())})})}}):Object(E.jsxs)(ct.a,{variant:"info",className:"mt-4 mb-4",children:["This environment is of type ",Object(E.jsx)("span",{className:"text-success",children:"manual"}),", ",Object(E.jsx)("span",{className:"font-weight-bold",children:"Custom Catalog"})," is only available for environments of type ",Object(E.jsx)("span",{className:"text-info",children:"container"})]})})}function cd(e,t,a){if(e&&e[a])for(var n=0;n<e[a].length;n++)if(e[a][n].version===t)return e[a][n];return null}function id(e){var t=e.environment;return t&&Object(E.jsx)(E.Fragment,{children:t.deployer&&"container"===t.deployer.type?Object(E.jsx)(pl,{type:"resource",Children:function(e){var a=e.version,n=e.item,s=e.active,r=e.deactivate,c=e.reloadItem;return Object(E.jsx)(E.Fragment,{children:t.deployer&&"container"===t.deployer.type&&Object(E.jsx)(Jl,{reloadItem:c,version:a,itemName:n.name,itemType:n.type,itemSettings:n.settings||null,itemSrc:n.src||null,env:t.code.toLowerCase(),active:s,deactivate:r,deployConfiguration:cd(n.deploy,a.version,t.code.toLowerCase())})})}}):Object(E.jsxs)(ct.a,{variant:"info",className:"mt-4 mb-4",children:["This environment is of type ",Object(E.jsx)("span",{className:"text-success",children:"manual"}),", ",Object(E.jsx)("span",{className:"font-weight-bold",children:"Resource Catalog"})," is only available for environments of type ",Object(E.jsx)("span",{className:"text-info",children:"container"})]})})}function od(e){var t=e.environment,a=e.environments,n=e.clusters,s=e.reloadClusters,r=Object(Ee.a)(["common","soajs"]).t,c=Object(w.k)();return Object(E.jsxs)(w.g,{children:[Object(E.jsx)(I,{path:"/environments/add",children:Object(E.jsx)(ll,{})}),Object(E.jsx)(I,{path:"/environments/manage/:env/settings",children:Object(E.jsx)(di,{environment:t})}),Object(E.jsx)(I,{path:"/environments/manage/:env/registry",children:Object(E.jsx)(cl,{environment:t,environments:a,clusters:n,reloadClusters:s})}),Object(E.jsx)(I,{path:"/environments/manage/:env/cluster",children:Object(E.jsx)(co,{environment:t})}),Object(E.jsx)(I,{path:"/environments/manage/:env/catalog/soajs/api",children:Object(E.jsx)(ql,{environment:t})}),Object(E.jsx)(I,{path:"/environments/manage/:env/catalog/soajs/frontend",children:Object(E.jsx)(Xl,{environment:t})}),Object(E.jsx)(I,{path:"/environments/manage/:env/catalog/api",children:Object(E.jsx)($l,{environment:t})}),Object(E.jsx)(I,{path:"/environments/manage/:env/catalog/daemon",children:Object(E.jsx)(td,{environment:t})}),Object(E.jsx)(I,{path:"/environments/manage/:env/catalog/frontend",children:Object(E.jsx)(nd,{environment:t})}),Object(E.jsx)(I,{path:"/environments/manage/:env/catalog/custom",children:Object(E.jsx)(rd,{environment:t})}),Object(E.jsx)(I,{path:"/environments/manage/:env/catalog/resource",children:Object(E.jsx)(id,{environment:t})}),Object(E.jsxs)(w.d,{children:[a.length>0&&Object(E.jsx)("div",{children:Object(E.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(E.jsx)("thead",{className:"text-light bg-dark",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:r("soajs:fields.Code")}),Object(E.jsx)("th",{children:r("soajs:fields.Description")}),Object(E.jsx)("th",{className:"text-center",children:r("soajs:fields.Type")}),Object(E.jsx)("th",{})]})}),Object(E.jsx)("tbody",{children:a.map((function(e,t){return Object(E.jsxs)("tr",{className:"small",children:[Object(E.jsx)("td",{children:e.code}),Object(E.jsx)("td",{children:e.description}),Object(E.jsx)("td",{className:"text-center",children:Object(E.jsx)(it.a,{variant:"container"===e.deployer.type?"info":"primary",children:e.deployer.type})}),Object(E.jsx)("td",{className:"small",children:Object(E.jsxs)(L.a,{size:"sm",variant:"light",className:"small p-1 border-secondary",onClick:function(){c.push("/environments/manage/"+e.code+"/settings")},children:[Object(E.jsx)(be.a,{className:"mr-2 text-success"}),"Manage"]})})]},t)}))})]})}),0===a.length&&Object(E.jsx)(ct.a,{variant:"info",children:"You do not have any environment, try to add one!"})]})]})}var ld=function(e){var t=e.environments,a=e.setEnvironment,s=e.environment,r=T().ability,c=Object(Ee.a)(["common","soajs"]).t,i=Object(n.useState)(null),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)("settings"),u=Object(y.a)(j,2),m=u[0],p=u[1],b=Object(n.useState)("-- Select an environment --"),h=Object(y.a)(b,2),O=h[0],x=h[1],f=Object(w.k)(),k=Object(w.m)().env,C=Object(w.l)();return Object(n.useEffect)((function(){var e=!0;function n(){return(n=Object(v.a)(g.a.mark((function n(){var r,c;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(k&&t.length>0){if(!s||s.code!==k)for(r=0;r<t.length;r++)t[r].code===k&&a(Object(N.a)({},t[r]));e&&(x(k),d(k),c=C.pathname.substr(C.pathname.indexOf(k+"/")+k.length+1),p(c))}else x("-- Select an environment --"),d(null);case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return function(){return n.apply(this,arguments)}().catch(),function(){return e=!1}}),[k,s,t,a,C]),Object(E.jsxs)(Ia.a,{collapseOnSelect:!0,expand:"sm",className:"pt-0 pb-0",bg:"secondary",variant:"light",children:[Object(E.jsx)(Ia.a.Brand,{children:Object(E.jsxs)(ha.a,{size:"sm",id:"dropdown-item-button",title:O,variant:"light",className:"small",children:[t.map((function(e,t){return Object(E.jsx)(Oa.a.Item,{as:"button",active:l===e.code,onClick:function(){f.push("/environments/manage/"+e.code+"/"+m)},children:Object(E.jsx)("small",{children:e.code})},t)})),Object(E.jsx)(Oa.a.Divider,{}),r.can("env","add")&&Object(E.jsxs)(Oa.a.Item,{className:"small",onClick:function(){f.push("/environments/add")},children:[Object(E.jsx)(Qa.a,{})," Add an environment"]})]})}),k?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ia.a.Toggle,{"aria-controls":"environment-navbar-nav"}),Object(E.jsx)(Ia.a.Collapse,{id:"environment-navbar-nav",className:"justify-content-end",children:Object(E.jsxs)(Ua.a,{activeKey:window.location.pathname,children:[Object(E.jsx)(Ma.LinkContainer,{to:"/environments/manage/"+k+"/settings",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:c("soajs:menu.settings")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/environments/manage/"+k+"/registry",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:c("soajs:menu.registry")})})}),Object(E.jsxs)(La.a,{className:"small",alignRight:!0,title:c("soajs:menu.cluster"),id:"collasible-nav1-dropdown",children:[Object(E.jsx)(Ma.LinkContainer,{to:"/environments/manage/"+k+"/cluster/workloads",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:c("soajs:menu.workloads")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/environments/manage/"+k+"/cluster/services",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:c("soajs:menu.services")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/environments/manage/"+k+"/cluster/configuration",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:c("soajs:menu.configuration")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/environments/manage/"+k+"/cluster/nodes",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:c("soajs:menu.nodes")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/environments/manage/"+k+"/cluster/storage",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:c("soajs:menu.storage")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/environments/manage/"+k+"/cluster/rbac",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:c("soajs:menu.RBAC")})})})]}),Object(E.jsxs)(La.a,{className:"small",alignRight:!0,title:c("soajs:menu.catalogs"),id:"collasible-nav2-dropdown",children:[Object(E.jsx)(Ma.LinkContainer,{to:"/environments/manage/"+k+"/catalog/api",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:c("soajs:menu.API")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/environments/manage/"+k+"/catalog/daemon",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:c("soajs:menu.Daemon")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/environments/manage/"+k+"/catalog/frontend",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:c("soajs:menu.Frontend")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/environments/manage/"+k+"/catalog/custom",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:c("soajs:menu.Custom")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/environments/manage/"+k+"/catalog/resource",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:c("soajs:menu.Resource")})})})]}),Object(E.jsxs)(La.a,{className:"small",alignRight:!0,title:c("soajs:menu.SOAJS"),id:"collasible-nav1-dropdown",children:[Object(E.jsx)(Ma.LinkContainer,{to:"/environments/manage/"+k+"/catalog/soajs/api",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:c("soajs:menu.API")})})}),Object(E.jsx)(Ma.LinkContainer,{to:"/environments/manage/"+k+"/catalog/soajs/frontend",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:c("soajs:menu.Frontend")})})})]})]})})]}):null]})},dd=St.getService();function jd(e,t,a){return ud.apply(this,arguments)}function ud(){return(ud=Object(v.a)(g.a.mark((function e(t,a,n){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=6;break}return e.next=4,dd.getResourceRegistry(t,"cluster");case 4:s=e.sent,n&&s&&a(s);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function md(){var e=Object(n.useState)([]),t=Object(y.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(null),c=Object(y.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)([]),d=Object(y.a)(l,2),j=d[0],u=d[1],m=Object(w.m)().env;function p(){return(p=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jd(m,u,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,jd(m,u,e);case 3:return t.next=5,dd.getEnvironments();case 5:(a=t.sent)&&e&&s(a),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),ie.error(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[m]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ld,{environment:i,environments:a,setEnvironment:o}),Object(E.jsx)("div",{className:"bg-dark pt-1"}),Object(E.jsx)("div",{className:"main-area",children:Object(E.jsx)(bt.a,{className:"mt-3 mb-3",children:Object(E.jsx)(od,{environment:i,environments:a,clusters:j,reloadClusters:function(){return p.apply(this,arguments)}})})})]})}var pd=a(245);function bd(e){var t=Object.assign({},e),a=Object(Ee.a)(["common","soajs"]).t;return Object(E.jsx)(Va.a,{placement:"top",overlay:Object(E.jsx)(qa.a,{id:"tooltip-top}",children:a("soajs:buttons.Uninvite")}),children:Object(E.jsx)(L.a,Object(N.a)(Object(N.a)({variant:"danger",size:"sm"},t),{},{children:Object(E.jsx)(Ya.b,{})}))})}var hd=we.getService();function Od(e){var t=function(e){var t=e.user,a=e.tenantId,n=null;if(t.config&&t.config.allowedTenants&&t.config.allowedTenants.length>0)for(var s=0;s<t.config.allowedTenants.length;s++)if(t.config.allowedTenants[s].tenant&&t.config.allowedTenants[s].tenant.id===a){n=t.config.allowedTenants[s].groups?t.config.allowedTenants[s].groups:null;break}return n}({user:e.user,tenantId:e.tenantId});return Object(E.jsx)(E.Fragment,{children:t?t.join(", "):""})}function xd(e,t,a,n,s,r,c,i){return fd.apply(this,arguments)}function fd(){return(fd=Object(v.a)(g.a.mark((function e(t,a,n,s,r,c,i,o){var l,d,j;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l={limit:50,start:50*(c-1)},r&&r.keywords&&(l.keywords=r.keywords),e.next=5,hd.getUsersProxy(a,n,l,s);case 5:return d=e.sent,e.next=8,hd.getUsersCountProxy(a,n,l,s);case 8:j=e.sent,o&&i({totalItems:j,maxSize:10,itemsPerPage:l.limit}),d&&Array.isArray(d)?o&&t(d):o&&t([]),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),ie.error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function gd(e){var t=e.extKey,a=e.tenantId,s=e.scope,r=e.env,c=Object(Ee.a)(["common","soajs"]).t,i=Object(n.useState)([]),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({keywords:""}),u=Object(y.a)(j,2),m=u[0],p=u[1],b=Object(n.useState)(1),h=Object(y.a)(b,2),O=h[0],x=h[1],f=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),w=Object(y.a)(f,2),k=w[0],C=w[1];function S(e){return P.apply(this,arguments)}function P(){return(P=Object(v.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!r){e.next=3;break}return e.next=3,xd(d,t,s,r,m,a||O,C,!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),x(1),e.next=4,S(1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return t&&r&&xd(d,t,s,r,null,1,C,e).catch(),function(){return e=!1}}),[t,s,r]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(ct.a,{variant:"light",children:[Object(E.jsx)("div",{className:"float-left",children:Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{children:Object(E.jsx)(_.a.Control,{id:"keywords",size:"sm",value:m.keywords,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),"number"===e.target.type&&(t=parseInt(t)),p(Object(N.a)(Object(N.a)({},m),{},Object(Ve.a)({},e.target.id,t)))}})}),Object(E.jsx)(dt.a,{children:Object(E.jsxs)(L.a,{className:"float-left",variant:"dark",size:"sm",onClick:function(e){return A.apply(this,arguments)},children:[Object(E.jsx)(vt.c,{})," ",c("soajs:buttons.Search")]})})]})}),Object(E.jsxs)(L.a,{className:"float-right ml-1",variant:"primary",size:"sm",onClick:S,children:[Object(E.jsx)(pd.a,{})," ",c("soajs:buttons.Fetch")]}),"myTenancy"===s&&Object(E.jsxs)(L.a,{className:"float-right",variant:"success",size:"sm",disabled:!0,children:[Object(E.jsx)(Qa.a,{})," ",c("soajs:buttons.Add")]}),"myTenancy"!==s&&Object(E.jsxs)(L.a,{className:"float-right",variant:"success",size:"sm",disabled:!0,children:[Object(E.jsx)(Ec.a,{})," ",c("soajs:buttons.Invite")]}),Object(E.jsx)("div",{className:"clearfix"})]}),Object(E.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(E.jsx)("thead",{className:"text-light bg-dark",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:c("soajs:buttons.Actions")}),Object(E.jsx)("th",{children:c("soajs:fields.FirstName")}),Object(E.jsx)("th",{children:c("soajs:fields.LastName")}),Object(E.jsx)("th",{children:c("soajs:fields.Email")}),Object(E.jsx)("th",{children:c("soajs:fields.Email")}),Object(E.jsx)("th",{children:c("soajs:fields.Username")}),Object(E.jsx)("th",{children:c("soajs:fields.Status")})]})}),Object(E.jsx)("tbody",{children:l&&l.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsxs)("td",{children:[Object(E.jsx)(rn,{className:"mr-1 p-1",disabled:!0}),"myTenancy"===s&&Object(E.jsx)(Xa,{className:"mr-1 p-1",disabled:!0}),"myTenancy"!==s&&Object(E.jsx)(bd,{className:"mr-1 p-1",disabled:!0})]}),Object(E.jsx)("td",{children:e.firstName}),Object(E.jsx)("td",{children:e.lastName}),Object(E.jsx)("td",{children:e.email}),Object(E.jsx)("td",{children:e.username}),Object(E.jsx)("td",{children:Object(E.jsx)(Od,{user:e,tenantId:a})}),Object(E.jsx)("td",{children:e.status})]},t)}))})]}),Object(E.jsx)("div",{className:"float-right mt-3",children:Object(E.jsx)(_t,{currentPage:O,totalItems:k.totalItems,itemsPerPage:k.itemsPerPage,maxSize:k.maxSize,onClick:function(e){x(e),S(e,null).catch()}})}),Object(E.jsx)("div",{className:"clearfix"})]})}var vd=we.getService();function yd(e,t,a,n){return wd.apply(this,arguments)}function wd(){return(wd=Object(v.a)(g.a.mark((function e(t,a,n,s){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vd.getGroupsProxy(a,n);case 3:(r=e.sent)&&Array.isArray(r)?s&&t(r):s&&t([]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function kd(e){var t=e.extKey,a=e.env,s=Object(Ee.a)(["common","soajs"]).t,r=Object(n.useState)([]),c=Object(y.a)(r,2),i=c[0],o=c[1];function l(){return(l=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!a){e.next=3;break}return e.next=3,yd(o,t,a,!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return t&&a&&yd(o,t,a,e).catch(),function(){return e=!1}}),[t,a]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(ct.a,{variant:"light",children:[Object(E.jsxs)(L.a,{className:"float-right ml-1",variant:"primary",size:"sm",onClick:function(){return l.apply(this,arguments)},children:[Object(E.jsx)(pd.a,{})," ",s("soajs:buttons.Fetch")]}),Object(E.jsxs)(L.a,{className:"float-right",variant:"success",size:"sm",disabled:!0,children:[Object(E.jsx)(Qa.a,{})," ",s("soajs:buttons.Add")]}),Object(E.jsx)("div",{className:"clearfix"})]}),Object(E.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",children:[Object(E.jsx)("thead",{className:"text-light bg-dark",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:s("soajs:buttons.Actions")}),Object(E.jsx)("th",{children:s("soajs:fields.Code")}),Object(E.jsx)("th",{children:s("soajs:fields.Name")}),Object(E.jsx)("th",{children:s("soajs:fields.Description")})]})}),Object(E.jsx)("tbody",{children:i&&i.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsxs)("td",{children:[Object(E.jsx)(rn,{className:"mr-1 p-1",disabled:!0}),Object(E.jsx)(Xa,{className:"mr-1 p-1",disabled:!0})]}),Object(E.jsx)("td",{children:e.code}),Object(E.jsx)("td",{children:e.name}),Object(E.jsx)("td",{children:e.description})]},t)}))})]})]})}var Cd=At.getService(),Nd=St.getService(),Sd={keywords_mainTenant:"",keywords_subTenant:"",mainTenant:-1,subTenant:-1,mainTenantExtKey:"",subTenantExtKey:"",tenantType:"Product"};function Pd(e,t){var a=[];return t&&e&&e.applications&&e.applications.length>0&&e.applications.forEach((function(e){e&&e.keys&&e.keys.length>0&&e.keys.forEach((function(n){n&&n.extKeys&&n.extKeys.length>0&&n.extKeys.forEach((function(n){!n||!n.extKey||n.env.toUpperCase()!==t.toUpperCase()&&null!==n.env&&n.env||a.push({v:n.extKey,l:e.product+" "+e.package+" "+(n.label?n.label:n.extKey.substring(0,10)+"..."+n.extKey.substring(n.extKey.length-10,n.extKey.length))})}))}))})),a}function Ad(){var e=Object(Ee.a)(["common","soajs"]).t,t=Object(n.useState)([]),a=Object(y.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(null),i=Object(y.a)(c,2),o=i[0],l=i[1],d=Object(n.useState)("-- Select an environment --"),j=Object(y.a)(d,2),u=j[0],m=j[1],p=Object(n.useState)([]),b=Object(y.a)(p,2),h=b[0],O=b[1],x=Object(n.useState)([]),f=Object(y.a)(x,2),w=f[0],k=f[1],C=Object(n.useState)([]),S=Object(y.a)(C,2),P=S[0],A=S[1],T=Object(n.useState)([]),I=Object(y.a)(T,2),U=I[0],M=I[1],z=Object(n.useState)(Sd),R=Object(y.a)(z,2),G=R[0],D=R[1];function F(){return B.apply(this,arguments)}function B(){return(B=Object(v.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={limit:50,start:0,type:"product"},G.keywords_mainTenant&&(t.keywords=G.keywords_mainTenant),e.next=5,Cd.getTenants(t);case 5:(a=e.sent)&&(O(a.items),A([]),M([])),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function K(){return H.apply(this,arguments)}function H(){return(H=Object(v.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(G.mainTenant>=0)){e.next=9;break}return t={limit:50,start:0},G.keywords_mainTenant&&(t.keywords=G.keywords_subTenant),a=h[G.mainTenant].code,e.next=7,Cd.getTenantSubTenants(a,t);case 7:(n=e.sent)&&(k(n.items),M([]));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),ie.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function J(){return(J=Object(v.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(t),m(t),a={keywords_mainTenant:G.keywords_mainTenant,keywords_subTenant:G.keywords_subTenant,mainTenant:Sd.mainTenant,subTenant:Sd.subTenant,mainTenantExtKey:Sd.mainTenantExtKey,subTenantExtKey:Sd.subTenantExtKey,tenantType:Sd.tenantType},D(a),A([]),M([]),e.next=8,F();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return V.apply(this,arguments)}function V(){return(V=Object(v.a)(g.a.mark((function e(t){var a,n,s,r,c,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.value,n=t.target.id,t.target.hasOwnProperty("checked")&&(a=t.target.checked),"number"===t.target.type&&(a=parseInt(a)),"mainTenant"!==n){e.next=16;break}if(!(a>=0)){e.next=12;break}return s=Pd(h[a],o),A(s),M([]),G.mainTenant=a,e.next=12,K();case 12:r={keywords_mainTenant:G.keywords_mainTenant,keywords_subTenant:G.keywords_subTenant,mainTenant:a,mainTenantExtKey:Sd.mainTenantExtKey,subTenant:Sd.subTenant,subTenantExtKey:Sd.subTenantExtKey,tenantType:G.tenantType},D(Object(N.a)({},r)),e.next=17;break;case 16:"subTenant"===n?(a>=0&&(c=Pd(w[a],o),M(c)),i={keywords_mainTenant:G.keywords_mainTenant,keywords_subTenant:G.keywords_subTenant,mainTenant:G.mainTenant,mainTenantExtKey:G.mainTenantExtKey,subTenant:a,subTenantExtKey:Sd.subTenantExtKey,tenantType:G.tenantType},D(Object(N.a)({},i))):D(Object(N.a)(Object(N.a)({},G),{},Object(Ve.a)({},n,a)));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,F();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Nd.getEnvironments();case 3:(a=t.sent)&&e&&r(a),e&&(l(null),m("-- Select an environment --"),D(Sd),O([]),A([]),k([]),M([])),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),ie.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(ct.a,{variant:"info",className:"mt-4 mb-2 p-2 pl-3 pr-3",children:[Object(E.jsx)("h6",{className:"float-left mr-3 mt-2",children:"Environment:"}),Object(E.jsx)(ha.a,{size:"sm",id:"dropdown-item-button",title:u,variant:"light",className:"small",children:s.map((function(e,t){return e.code.toLowerCase()!==ve.consoleEnvironment&&Object(E.jsx)(Oa.a.Item,{as:"button",active:o===e.code,onClick:function(){(function(e){return J.apply(this,arguments)})(e.code).catch()},children:Object(E.jsx)("small",{children:e.code})},t)}))}),Object(E.jsx)("span",{className:"clearfix"})]}),o&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(ct.a,{variant:"secondary",className:"mt-4 mb-2 p-2 pl-3 pr-3",children:[Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{md:4,children:Object(E.jsxs)(_.a.Control,{style:{fontSize:"80%"},as:"select",id:"mainTenant",value:G.mainTenant,onChange:W,children:[Object(E.jsx)("option",{value:-1,children:" ---"}),h.map((function(e,t){return Object(E.jsxs)("option",{value:t,children:[e.code," - ",e.name]},t)}))]})}),Object(E.jsx)(dt.a,{md:4,children:Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{xs:6,md:7,children:Object(E.jsx)(_.a.Control,{style:{fontSize:"80%"},id:"keywords_mainTenant",size:"sm",value:G.keywords_mainTenant,onChange:W})}),Object(E.jsx)(dt.a,{xs:6,md:5,children:Object(E.jsxs)(L.a,{className:"float-left",variant:"info",size:"sm",onClick:q,children:[Object(E.jsx)(vt.c,{})," ",e("soajs:buttons.Filter")]})})]})}),Object(E.jsx)(dt.a,{md:4,children:Object(E.jsxs)(_.a.Control,{style:{fontSize:"80%"},as:"select",id:"mainTenantExtKey",value:G.mainTenantExtKey,onChange:W,children:[Object(E.jsx)("option",{value:"",children:" ---"}),P.map((function(e,t){return Object(E.jsx)("option",{value:e.v,children:e.l},t)}))]})})]}),Object(E.jsx)(lt.a,{children:Object(E.jsx)(dt.a,{children:Object(E.jsx)(_.a.Text,{className:"text-muted",children:"Only 50 tenant appears in this list, you can filter by name and code"})})}),""!==G.mainTenantExtKey&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("hr",{}),Object(E.jsxs)(_.a.Control,{as:"select",id:"tenantType",value:G.tenantType,onChange:W,children:[Object(E.jsx)("option",{value:"Product",children:"Main Tenant Users and Groups"}),Object(E.jsx)("option",{value:"Client",children:"Sub Tenant Users and Groups"})]}),"Client"===G.tenantType&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("hr",{}),Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{md:4,children:Object(E.jsxs)(_.a.Control,{style:{fontSize:"80%"},as:"select",id:"subTenant",value:G.subTenant,onChange:W,children:[Object(E.jsx)("option",{value:-1,children:" ---"}),w.map((function(e,t){return Object(E.jsxs)("option",{value:t,children:[e.code," - ",e.name]},t)}))]})}),Object(E.jsx)(dt.a,{md:4,children:Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{xs:6,md:7,children:Object(E.jsx)(_.a.Control,{style:{fontSize:"80%"},id:"keywords_subTenant",size:"sm",value:G.keywords_subTenant,onChange:W})}),Object(E.jsx)(dt.a,{xs:6,md:5,children:Object(E.jsxs)(L.a,{className:"float-left",variant:"info",size:"sm",onClick:q,children:[Object(E.jsx)(vt.c,{})," ",e("soajs:buttons.Filter")]})})]})}),Object(E.jsx)(dt.a,{md:4,children:Object(E.jsxs)(_.a.Control,{style:{fontSize:"80%"},as:"select",id:"subTenantExtKey",value:G.subTenantExtKey,onChange:W,children:[Object(E.jsx)("option",{value:"",children:" ---"}),U.map((function(e,t){return Object(E.jsx)("option",{value:e.v,children:e.l},t)}))]})})]}),Object(E.jsx)(lt.a,{children:Object(E.jsx)(dt.a,{children:Object(E.jsx)(_.a.Text,{className:"text-muted",children:"Only 50 tenant appears in this list, you can filter by name and code"})})})]})]})]}),"Product"===G.tenantType&&""!==G.mainTenantExtKey&&Object(E.jsxs)(Ra.a,{className:"mt-4",children:[Object(E.jsx)(Ga.a,{eventKey:"Users",title:e("soajs:fields.Users"),children:Object(E.jsx)(gd,{scope:"myTenancy",tenantId:h[G.mainTenant]._id,extKey:G.mainTenantExtKey,env:o})}),Object(E.jsx)(Ga.a,{eventKey:"InvitedUsers",title:e("soajs:fields.InvitedUsers"),children:Object(E.jsx)(gd,{scope:"otherTenancy",tenantId:h[G.mainTenant]._id,extKey:G.mainTenantExtKey,env:o})}),Object(E.jsx)(Ga.a,{eventKey:"Groups",title:e("soajs:fields.Groups"),children:Object(E.jsx)(kd,{extKey:G.mainTenantExtKey,env:o})})]}),"Client"===G.tenantType&&""!==G.subTenantExtKey&&Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(Ra.a,{className:"mt-4",children:[Object(E.jsx)(Ga.a,{eventKey:"Users",title:e("soajs:fields.Users"),children:Object(E.jsx)(gd,{scope:null,tenantId:w[G.subTenant]._id,extKey:G.subTenantExtKey,env:o})}),Object(E.jsx)(Ga.a,{eventKey:"Groups",title:e("soajs:fields.Groups"),children:Object(E.jsx)(kd,{extKey:G.subTenantExtKey,env:o})})]})})]})]})}var Td=At.getService();function Ed(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ee.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})};function c(){return(c=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"product"!==t.item.type){e.next=7;break}return e.next=4,Td.deleteProduct({id:t.item.id});case 4:ie.success(s("soajs:messages.delete_"+t.item.type)),n(),r();case 7:if("package"!==t.item.type){e.next=13;break}return e.next=10,Td.deletePackage({id:t.item.id,code:t.item.code});case 10:ie.success(s("soajs:messages.delete_"+t.item.type)),n(),r();case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),ie.error(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}return Object(E.jsxs)(xa.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:s("soajs:buttons.Delete")})}),Object(E.jsxs)(xa.a.Body,{style:{wordBreak:"break-all"},children:[s("soajs:messages.deleteQuestion"),Object(E.jsxs)("span",{className:"ml-3 font-weight-bold",children:[t.item?t.item.type:"",": [",Object(E.jsx)("span",{className:"text-danger",children:t.item?t.item.name:""}),"]"]})]}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:r,children:s("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"danger",onClick:function(){return c.apply(this,arguments)},children:s("soajs:buttons.Delete")})]})]})}var Id=At.getService(),Ud={name:"",description:"",code:""};function Ld(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=Object(Ee.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})},i=Object(n.useState)(Ud),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=l;D(a,e.target.id,t),d(Object(N.a)({},a))}function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Id.addProduct(l);case 3:ie.success(r("soajs:messages.productAdd")),s(),c(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(E.jsxs)(xa.a,{show:t.show,onHide:c,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:r("soajs:titles.productAdd")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsxs)(_.a,{children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Code")}),Object(E.jsx)(_.a.Control,{placeholder:"5 alphanumeric characters only",id:"code",size:"sm",value:l.code,onChange:j})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Name")}),Object(E.jsx)(_.a.Control,{id:"name",size:"sm",value:l.name,onChange:j})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Description")}),Object(E.jsx)(_.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:l.description,onChange:j})]})]})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:c,children:r("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(l.name.length>0&&l.description.length>0&&5===l.code.length),children:r("soajs:buttons.Add")})]})]})}var Md=At.getService(),zd={id:"",name:"",description:"",code:""};function _d(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=Object(Ee.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})},i=Object(n.useState)(zd),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=l;D(a,e.target.id,t),d(Object(N.a)({},a))}function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Md.updateProduct(l);case 3:ie.success(r("soajs:messages.productUpdate")),s(),c(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.item&&d(Object.assign({},zd,t.item)),function(){return e=!1}}),[t]),Object(E.jsxs)(xa.a,{show:t.show,onHide:c,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:r("soajs:titles.productUpdate")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsxs)(_.a,{children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Code")}),Object(E.jsx)(_.a.Control,{id:"code",size:"sm",value:l.code,disabled:!0})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Name")}),Object(E.jsx)(_.a.Control,{id:"name",size:"sm",value:l.name,onChange:j})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Description")}),Object(E.jsx)(_.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:l.description,onChange:j})]})]})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:c,children:r("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(l.name.length>0&&l.description.length>0),children:r("soajs:buttons.Update")})]})]})}var Rd=At.getService(),Gd={id:"",name:"",description:"",code:"",_TTL:"168"};function Dd(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=Object(Ee.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})},i=Object(n.useState)(Gd),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=l;D(a,e.target.id,t),d(Object(N.a)({},a))}function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l.id=t.item.id,e.next=4,Rd.addPackage(l);case 4:ie.success(r("soajs:messages.packageAdd")),s(),c(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(E.jsxs)(xa.a,{show:t.show,onHide:c,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:r("soajs:titles.packageAdd")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsxs)(_.a,{children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Code")}),Object(E.jsx)(_.a.Control,{placeholder:"5 alphanumeric characters only",id:"code",size:"sm",value:l.code,onChange:j})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Name")}),Object(E.jsx)(_.a.Control,{id:"name",size:"sm",value:l.name,onChange:j})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Description")}),Object(E.jsx)(_.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:l.description,onChange:j})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.TTL")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"_TTL",defaultValue:l._TTL,onChange:j,children:[Object(E.jsx)("option",{value:"6",children:"6 hours"}),Object(E.jsx)("option",{value:"12",children:"12 hours"}),Object(E.jsx)("option",{value:"24",children:"24 hours"}),Object(E.jsx)("option",{value:"48",children:"2 days"}),Object(E.jsx)("option",{value:"72",children:"3 days"}),Object(E.jsx)("option",{value:"96",children:"4 days"}),Object(E.jsx)("option",{value:"120",children:"5 days"}),Object(E.jsx)("option",{value:"144",children:"6 days"}),Object(E.jsx)("option",{value:"168",children:"7 days"})]})]})]})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:c,children:r("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(l.name.length>0&&l.description.length>0&&5===l.code.length),children:r("soajs:buttons.Add")})]})]})}var Fd=At.getService(),Bd={id:"",code:"",name:"",description:"",_TTL:"168"};function Kd(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=Object(Ee.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})},i=Object(n.useState)(Bd),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=l;D(a,e.target.id,t),d(Object(N.a)({},a))}function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fd.updatePackage(l);case 3:ie.success(r("soajs:messages.packageUpdate")),s(),c(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.item&&d(Object.assign({},Bd,t.item)),function(){return e=!1}}),[t]),Object(E.jsxs)(xa.a,{show:t.show,onHide:c,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:r("soajs:titles.packageUpdate")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsxs)(_.a,{children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Code")}),Object(E.jsx)(_.a.Control,{id:"code",size:"sm",value:l.code,disabled:!0})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Name")}),Object(E.jsx)(_.a.Control,{id:"name",size:"sm",value:l.name,onChange:j})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Description")}),Object(E.jsx)(_.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:l.description,onChange:j})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.TTL")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"_TTL",value:l._TTL,onChange:j,children:[Object(E.jsx)("option",{value:"6",children:"6 hours"}),Object(E.jsx)("option",{value:"12",children:"12 hours"}),Object(E.jsx)("option",{value:"24",children:"24 hours"}),Object(E.jsx)("option",{value:"48",children:"2 days"}),Object(E.jsx)("option",{value:"72",children:"3 days"}),Object(E.jsx)("option",{value:"96",children:"4 days"}),Object(E.jsx)("option",{value:"120",children:"5 days"}),Object(E.jsx)("option",{value:"144",children:"6 days"}),Object(E.jsx)("option",{value:"168",children:"7 days"})]})]})]})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:c,children:r("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(l.name.length>0&&l.description.length>0),children:r("soajs:buttons.Update")})]})]})}function Hd(e,t){return Jd.apply(this,arguments)}function Jd(){return(Jd=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wd.getProducts();case 3:n=e.sent,a&&n&&t(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var Wd=At.getService();function Vd(){var e=T().ability,t=Object(Ee.a)(["common","soajs"]).t,a=Object(n.useState)([]),s=Object(y.a)(a,2),r=s[0],c=s[1],i=Object(w.k)(),o=Object(n.useState)({show:!1,item:null}),l=Object(y.a)(o,2),d=l[0],j=l[1],u=function(e){return j({show:!0,item:e})},m=Object(n.useState)({show:!1,item:null}),p=Object(y.a)(m,2),b=p[0],h=p[1],O=Object(n.useState)({show:!1,item:null}),x=Object(y.a)(O,2),f=x[0],k=x[1],C=Object(n.useState)({show:!1,item:null}),N=Object(y.a)(C,2),S=N[0],P=N[1],A=Object(n.useState)({show:!1,item:null}),I=Object(y.a)(A,2),U=I[0],M=I[1],z=Object(n.useState)({show:!1,opts:null,scope:null}),_=Object(y.a)(z,2),R=_[0],G=_[1];function D(){return F.apply(this,arguments)}function F(){return(F=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hd(c,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return Hd(c,e).catch(),function(){return e=!1}}),[]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ed,{modalOpt:d,setModalOpt:j,handleAction:D}),Object(E.jsx)(_d,{modalOpt:b,setModalOpt:h,handleAction:D}),Object(E.jsx)(Ld,{modalOpt:f,setModalOpt:k,handleAction:D}),Object(E.jsx)(Kd,{modalOpt:S,setModalOpt:P,handleAction:D}),Object(E.jsx)(Dd,{modalOpt:U,setModalOpt:M,handleAction:D}),Object(E.jsx)(fr,{modalOpt:R,setModalOpt:G}),Object(E.jsxs)("div",{className:"mb-1",children:[Object(E.jsx)("h5",{className:"float-left font-weight-bold",children:"Available products"}),e.can("product","add")&&Object(E.jsxs)(L.a,{className:"float-right mb-1",variant:"success",size:"sm",onClick:function(){k({show:!0,item:{}})},children:[Object(E.jsx)(Qa.a,{})," ",t("soajs:buttons.Add")]}),Object(E.jsx)("span",{className:"clearfix"})]}),r.map((function(a,n){return Object(E.jsx)(Ot.a,{className:"mb-2",defaultActiveKey:1,children:Object(E.jsxs)(ot.a,{children:[Object(E.jsxs)(ot.a.Header,{style:{backgroundColor:"#DEF1F7"},children:[Object(E.jsxs)(Ot.a.Toggle,{className:"p-0",as:L.a,variant:"link",eventKey:n+1,children:[Object(E.jsx)("span",{className:"font-weight-bold",children:a.name})," [",a.code,"]"]}),e.can("product","delete")&&Object(E.jsx)(Xa,{className:"float-right ml-1",onClick:function(){u({type:"product",id:a._id,name:a.name})}}),e.can("product","edit")&&Object(E.jsx)(rn,{className:"float-right ml-1",onClick:function(){var e;e={id:a._id,code:a.code,name:a.name||"",description:a.description||""},h({show:!0,item:e})}})]}),Object(E.jsx)(Ot.a.Collapse,{eventKey:n+1,children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)("span",{className:"small",children:a.description}),Object(E.jsx)("hr",{className:"mt-4"}),Object(E.jsxs)("div",{className:"mb-1",children:[Object(E.jsx)("h6",{className:"float-left font-weight-bold",children:"Available packages"}),e.can("package","add")&&Object(E.jsxs)(L.a,{className:"float-right mb-1",variant:"success",size:"sm",onClick:function(){var e;e={id:a._id},M({show:!0,item:e})},children:[Object(E.jsx)(Qa.a,{})," ",t("soajs:buttons.Add")]}),Object(E.jsx)("span",{className:"clearfix"})]}),Object(E.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",className:"small",children:[Object(E.jsx)("thead",{className:"text-light bg-dark",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:t("soajs:buttons.Actions")}),Object(E.jsx)("th",{children:t("soajs:fields.Code")}),Object(E.jsx)("th",{children:t("soajs:fields.Name")}),Object(E.jsx)("th",{children:t("soajs:fields.Description")})]})}),Object(E.jsx)("tbody",{children:a.packages.map((function(t,n){return Object(E.jsxs)("tr",{children:[Object(E.jsxs)("td",{nowrap:"true",children:[Object(E.jsx)(En,{className:"mr-1",onClick:function(){t.turnOffAbilityView=!0,function(e,t){G({show:!0,opts:e,scope:t})}(t,a.scope)}}),e.can("package","delete")&&Object(E.jsx)(Xa,{className:"mr-1",onClick:function(){u({type:"package",id:a._id,code:t.code,name:t.name})}}),e.can("package","edit")&&Object(E.jsx)(rn,{className:"mr-1",onClick:function(){var e;e={id:a._id,code:t.code,name:t.name||"",description:t.description||"",_TTL:t._TTL?t._TTL/36e5:168},P({show:!0,item:e})}}),e.can("package","acl")&&Object(E.jsx)(Ir,{className:"mr-1",onClick:function(){i.push("/multitenancy/products/"+a._id+"/acl/"+t.code)}})]}),Object(E.jsx)("td",{children:t.code}),Object(E.jsx)("td",{nowrap:"true",children:t.name}),Object(E.jsx)("td",{children:t.description})]},n)}))})]})]})})]})},n+1)}))]})}var qd=St.getService(),Yd=At.getService(),Xd=Ut.getService(),Qd={type:"service",includeSOAJS:!1,serviceName:"",serviceGroup:"",serviceVersion:"",route:""},Zd={get:"primary",post:"success",delete:"danger",put:"warning",patch:"info",head:"secondary",other:"light"};function $d(e){var t=e.children,a=e.eventKey,n=e.handleClick,s=Object(ht.b)(a,(function(){n()}));return Object(E.jsx)("div",{className:"float-left",type:"button",onClick:s,children:t})}function ej(e){return e&&Zd[e]?Zd[e]:Zd.other}function tj(e){return e.hasOwnProperty("access")?e.access:"inherit"}function aj(e,t,a,n,s,r){return!!(e&&e.acl&&e.acl[t]&&e.acl[t][a]&&e.acl[t][a][n]&&e.acl[t][a][n][s]&&e.acl[t][a][n][s].apis&&e.acl[t][a][n][s].apis[r])}function nj(e,t,a,n,s){return sj.apply(this,arguments)}function sj(){return(sj=Object(v.a)(g.a.mark((function e(t,a,n,s,r){var c,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={limit:6,start:6*(n-1),type:r.type,includeSOAJS:r.includeSOAJS,keywords:{serviceName:r.serviceName,serviceGroup:r.serviceGroup,serviceVersion:r.serviceVersion,route:r.route}},e.next=4,Xd.getApis(c);case 4:i=e.sent,s&&i&&i.records&&(t(i.records),a({totalItems:i.count,maxSize:10,itemsPerPage:i.limit})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function rj(){return(rj=Object(v.a)(g.a.mark((function e(t,a,n,s,r,c,i){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(g.a.mark((function e(){var o,l,d,j;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yd.getProduct(r);case 2:return o=e.sent,e.next=5,qd.getEnvironments();case 5:if((l=e.sent)&&i){for(d=[],j=0;j<l.length;j++)d.push(l[j].code.toLowerCase());n(d),s(d[0]||null)}i&&o&&(t(o),o.packages&&o.packages.length>0&&function(){var e=o.packages.filter((function(e){return e.code===c}));e&&function(){e=e[0];for(var t=Object.keys(e.acl),n={acl:{},code:e.code,name:e.name,aclTypeByEnv:e.aclTypeByEnv||{}},s=function(a){e.aclTypeByEnv&&e.aclTypeByEnv[t[a]]&&"granular"===e.aclTypeByEnv[t[a]]?n.acl[t[a]]=e.acl[t[a]]:o.scope&&Object.keys(e.acl[t[a]]).map((function(s,r){for(var c={},i=0;i<e.acl[t[a]][s].length;i++)if(e.acl[t[a]][s][i].version){var l=e.acl[t[a]][s][i].version;o.scope.acl[t[a]][s][l]&&(c[l]=or(o.scope.acl[t[a]][s][l],e.acl[t[a]][s][i]))}return n.acl[t[a]]||(n.acl[t[a]]={}),n.acl[t[a]][s]=c,n.aclTypeByEnv[t[a]]="granular",!0}))},r=0;r<t.length;r++)s(r);a(n)}()}());case 8:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=7;break;case 4:e.prev=4,e.t1=e.catch(0),ie.error(e.t1.message);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function cj(){var e=Object(Ee.a)(["common","soajs"]).t,t=Object(n.useState)(0),a=Object(y.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(null),i=Object(y.a)(c,2),o=i[0],l=i[1],d=Object(n.useState)({}),j=Object(y.a)(d,2),u=j[0],m=j[1],p=Object(n.useState)([]),b=Object(y.a)(p,2),h=b[0],O=b[1],x=Object(n.useState)(null),f=Object(y.a)(x,2),k=f[0],C=f[1],S=Object(n.useState)([]),P=Object(y.a)(S,2),A=P[0],T=P[1],I=Object(n.useState)(1),U=Object(y.a)(I,2),M=U[0],z=U[1],R=Object(n.useState)(Qd),G=Object(y.a)(R,2),D=G[0],F=G[1],B=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),K=Object(y.a)(B,2),H=K[0],J=K[1];function W(e){return V.apply(this,arguments)}function V(){return(V=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nj(T,J,t||M,!0,D);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),F(Object(N.a)(Object(N.a)({},D),{},Object(Ve.a)({},e.target.id,t)))}function Y(e){return X.apply(this,arguments)}function X(){return(X=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),z(1),e.next=4,W(1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=Object(w.m)().id,Z=Object(w.m)().code;function $(e,t,a,n){if("apisPermission"===e.target.id){var s=u;"restricted"===e.target.value?s.acl[t][a][n].apisPermission=e.target.value:delete s.acl[t][a][n].apisPermission,m(Object(N.a)({},s))}else if("access"===e.target.id){var r=u;r.acl[t][a][n].access=e.target.value,m(Object(N.a)({},r))}}function ee(){return(ee=Object(v.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Yd.updatePackageAcl({id:o._id,code:u.code,env:k,type:u.aclTypeByEnv[k],acl:u.acl[k]});case 3:ie.success(e("soajs:messages.updatePackageAcl")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),ie.error(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return Q&&function(e,t,a,n,s,r,c){return rj.apply(this,arguments)}(l,m,O,C,Q,Z,e).catch(),nj(T,J,1,e,Qd).catch(),function(){return e=!1}}),[Q,Z]),Q&&o&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(Gn.a,{variant:"flush",children:[Object(E.jsx)(Dn.a,{children:Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:fields.ProductCode"),":"]})," ",o.code]}),Object(E.jsxs)(dt.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:fields.ProductName"),":"]})," ",o.name]})]})}),Object(E.jsx)(Dn.a,{children:Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:fields.PackageCode"),":"]})," ",u.code]}),Object(E.jsxs)(dt.a,{children:[Object(E.jsxs)("span",{className:"font-weight-bold",children:[e("soajs:fields.PackageName"),":"]})," ",u.name]})]})})]}),Object(E.jsx)("hr",{}),Object(E.jsx)(ct.a,{variant:"info",children:Object(E.jsx)(_.a.Control,{as:"select",id:"env",value:k||"",onChange:function(e){C(e.target.value)},children:h.map((function(t,a){return Object(E.jsxs)("option",{value:t,children:[e("soajs:titles.environment"),": ",t]},a)}))})}),Object(E.jsx)("hr",{}),k&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(Ot.a,{activeKey:s,children:[Object(E.jsxs)($d,{eventKey:1,handleClick:function(){r(1===s?null:1)},children:[1===s?Object(E.jsx)(gt.b,{className:"mr-1"}):Object(E.jsx)(gt.a,{className:"mr-1"})," ",Object(E.jsx)("span",{className:"small font-weight-bold text-secondary",children:"Click here to Find more APIs and Add them to the package ACL"})]}),Object(E.jsx)("div",{className:"clearfix"}),Object(E.jsx)(Ot.a.Collapse,{eventKey:1,children:Object(E.jsxs)(me.a,{className:"p-3",children:[Object(E.jsxs)(_.a,{onSubmit:Y,children:[Object(E.jsxs)(lt.a,{className:"small",children:[Object(E.jsx)(dt.a,{xs:4,children:Object(E.jsx)(_.a.Control,{placeholder:e("soajs:fields.ServiceName"),id:"serviceName",size:"sm",autoFocus:!0,value:D.serviceName,onChange:q})}),Object(E.jsx)(dt.a,{xs:4,children:Object(E.jsx)(_.a.Control,{placeholder:e("soajs:fields.ServiceVersion"),id:"serviceVersion",size:"sm",autoFocus:!0,value:D.serviceVersion,onChange:q})}),Object(E.jsx)(dt.a,{xs:4,children:Object(E.jsx)(_.a.Control,{placeholder:e("soajs:fields.ServiceGroup"),id:"serviceGroup",size:"sm",autoFocus:!0,value:D.serviceGroup,onChange:q})})]}),Object(E.jsxs)(lt.a,{className:"small mt-4",children:[Object(E.jsx)(dt.a,{xs:6,md:7,children:Object(E.jsx)(_.a.Control,{placeholder:e("soajs:fields.Route"),id:"route",size:"sm",autoFocus:!0,value:D.route,onChange:q})}),Object(E.jsx)(dt.a,{xs:3,children:Object(E.jsx)(_.a.Check,{id:"includeSOAJS",label:"Include SOAJS APIs",defaultChecked:D.includeSOAJS,onChange:q})}),Object(E.jsx)(dt.a,{xs:3,md:2,children:Object(E.jsxs)(L.a,{className:"float-right",variant:"dark",size:"sm",onClick:Y,children:[Object(E.jsx)(vt.c,{})," ",e("soajs:buttons.Search")]})})]})]}),Object(E.jsx)("hr",{}),A.map((function(e,t){return e.method&&e.route&&Object(E.jsx)(ct.a,{className:"m-1 p-2",variant:ej(e.method),children:Object(E.jsx)(lt.a,{children:Object(E.jsxs)(dt.a,{children:[Object(E.jsx)(Za,{disabled:aj(u,k,e.serviceName,e.v,e.method,e.route),className:"float-left pl-1 pr-1 pt-0 pb-0 mr-2",onClick:function(){!function(e,t,a,n,s){u.acl||(u.acl={}),u.acl[k]||(u.acl[k]={}),u.acl[k][e]||(u.acl[k][e]={}),u.acl[k][e][t]?u.acl[k][e][t].apisPermission="restricted":u.acl[k][e][t]={access:!0,apisPermission:"restricted"},u.acl[k][e][t][a]||(u.acl[k][e][t][a]={}),u.acl[k][e][t][a].apis||(u.acl[k][e][t][a].apis={}),u.acl[k][e][t][a].apis[n]||(u.acl[k][e][t][a].apis[n]={access:!0,group:s}),u.aclTypeByEnv[k]="granular",m(Object(N.a)({},u))}(e.serviceName,e.v,e.method,e.route,e.apiGroup)}}),Object(E.jsx)(L.a,{size:"sm",className:"mr-2 pl-1 pr-1 pt-0 pb-0 float-left",variant:ej(e.method),children:Object(E.jsx)("span",{className:"small",children:e.method.toUpperCase()})}),Object(E.jsx)("span",{className:"small float-left font-weight-bold mr-1",children:e.serviceName}),Object(E.jsxs)("span",{className:"small float-left mr-2 font-weight-bold text-success",children:[" v",e.v," "]}),Object(E.jsx)("span",{className:"small float-left",children:e.route}),Object(E.jsx)("span",{className:"small float-right text-info",children:e.group})]})})},t)})),Object(E.jsx)("div",{className:"float-right mt-3",children:Object(E.jsx)(_t,{className:"mb-0",currentPage:M,totalItems:H.totalItems,itemsPerPage:H.itemsPerPage,maxSize:H.maxSize,onClick:function(e){z(e),W(e)}})}),Object(E.jsx)("div",{className:"clearfix"})]})})]}),Object(E.jsx)("hr",{}),u&&u.acl&&u.acl[k]&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(ct.a,{variant:"warning",children:[Object(E.jsx)("h6",{className:"float-left text-dark font-weight-bold mt-3",children:"If you change the ACL, make sure you update for each environment"}),Object(E.jsxs)(L.a,{className:"mt-2 float-right",variant:"success",onClick:function(){return ee.apply(this,arguments)},children:[e("soajs:buttons.Update")," ACL for [",Object(E.jsx)("span",{className:"text-dark font-weight-bold",children:k}),"]"]}),Object(E.jsx)("div",{className:"clearfix"})]}),Object(E.jsx)(Ot.a,{defaultActiveKey:1,children:Object.keys(u.acl[k]).map((function(t,a){return Object(E.jsxs)(ot.a,{children:[Object(E.jsx)(ot.a.Header,{className:"pt-1 pb-1 pr-2 pl-2",children:Object(E.jsx)(Ot.a.Toggle,{className:"p-0",as:L.a,variant:"link",eventKey:a+1,children:t})}),Object(E.jsx)(Ot.a.Collapse,{eventKey:a+1,children:Object(E.jsx)(ot.a.Body,{children:Object(E.jsx)(Ra.a,{defaultActiveKey:"1",style:{borderBottom:"1px solid #dee2e6"},children:Object.keys(u.acl[k][t]).map((function(a,n){return Object(E.jsxs)(Ga.a,{eventKey:n+1,title:e("soajs:fields.Version")+" "+a,tabClassName:"small",children:[Object(E.jsxs)(Gn.a,{variant:"flush",className:"small mt-3",children:[Object(E.jsx)(Dn.a,{children:Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{children:Object(E.jsx)(_.a.Label,{className:"font-weight-bold mr-3 mt-1",children:"Service's APIs default access is: "})}),Object(E.jsx)(dt.a,{children:Object(E.jsxs)(_.a.Control,{size:"sm",as:"select",id:"access",value:u.acl[k][t][a].access||!1,onChange:function(e){$(e,k,t,a)},children:[Object(E.jsx)("option",{value:!0,children:"Private - requires logged in user"}),Object(E.jsx)("option",{value:!1,children:"Public - anyone can access"})]})})]})}),Object(E.jsx)(Dn.a,{children:Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{children:Object(E.jsx)(_.a.Label,{className:"font-weight-bold mr-3 mt-1",children:"Access is restricted to the selected APIs: "})}),Object(E.jsx)(dt.a,{children:Object(E.jsxs)(_.a.Control,{size:"sm",as:"select",id:"apisPermission",value:u.acl[k][t][a].apisPermission||"notRestricted",onChange:function(e){$(e,k,t,a)},children:[Object(E.jsx)("option",{value:"restricted",children:"Yes - only the selected APIs are accessible"}),Object(E.jsx)("option",{value:"notRestricted",children:"No - all APIs are accessible"})]})})]})})]}),Object(E.jsx)("hr",{}),u.acl[k][t][a].apisPermission&&"restricted"===u.acl[k][t][a].apisPermission&&Object.keys(Zd).map((function(e,n){return u.acl[k][t][a][e]&&u.acl[k][t][a][e].apis&&Object.keys(u.acl[k][t][a][e].apis).map((function(n,s){return Object(E.jsx)(ct.a,{className:"m-1 p-2",variant:ej(e),children:Object(E.jsxs)(lt.a,{children:[Object(E.jsxs)(dt.a,{className:"small",children:[Object(E.jsx)(Xa,{className:"float-left pl-1 pr-1 pt-0 pb-0 mr-2",onClick:function(){!function(e,t,a,n){u.acl&&u.acl[k]&&u.acl[k][e]&&u.acl[k][e][t]&&u.acl[k][e][t][a]&&u.acl[k][e][t][a].apis&&u.acl[k][e][t][a].apis[n]&&(delete u.acl[k][e][t][a].apis[n],m(Object(N.a)({},u)))}(t,a,e,n)}}),Object(E.jsx)(L.a,{size:"sm",className:"mr-2 pl-1 pr-1 pt-0 pb-0 float-left",variant:ej(e),children:Object(E.jsx)("span",{className:"small",children:e.toUpperCase()})}),Object(E.jsx)("span",{className:"float-left mt-1",children:n})]}),Object(E.jsx)(dt.a,{className:"small",xs:3,sm:3,md:2,children:Object(E.jsxs)(_.a.Control,{style:{fontSize:"80%"},size:"sm",as:"select",id:"access",value:tj(u.acl[k][t][a][e].apis[n]),onChange:function(s){!function(e,t,a,n,s,r){if("access"===e.target.id){var c=u;"true"===e.target.value?c.acl[t][a][n][s].apis[r].access=!0:"false"===e.target.value?c.acl[t][a][n][s].apis[r].access=!1:delete c.acl[t][a][n][s].apis[r].access,m(Object(N.a)({},c))}}(s,k,t,a,e,n)},children:[Object(E.jsx)("option",{value:"true",children:"Private"}),Object(E.jsx)("option",{value:"false",children:"Public"}),Object(E.jsx)("option",{value:"inherit",children:"Inherit from service"})]})})]})},s)}))}))]},n+1)}))})})})]},a+1)}))})]})]})]})}var ij=At.getService();function oj(e){var t=e.modalOpt,a=e.setModalOpt,n=e.handleAction,s=Object(Ee.a)(["common","soajs"]).t,r=function(){return a({show:!1,item:null})};function c(){return(c=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"tenant"!==t.item.type){e.next=7;break}return e.next=4,ij.deleteTenant({id:t.item.id});case 4:ie.success(s("soajs:messages.delete_"+t.item.type)),n(),r();case 7:if("application"!==t.item.type){e.next=13;break}return e.next=10,ij.deleteTenantApplication({id:t.item.id,appId:t.item.appId});case 10:ie.success(s("soajs:messages.delete_"+t.item.type)),n(),r();case 13:if("key"!==t.item.type){e.next=19;break}return e.next=16,ij.deleteTenantApplicationKey({id:t.item.id,appId:t.item.appId,key:t.item.key});case 16:ie.success(s("soajs:messages.delete_"+t.item.type)),n(),r();case 19:if("extKey"!==t.item.type){e.next=25;break}return e.next=22,ij.deleteTenantApplicationKeyExt({id:t.item.id,appId:t.item.appId,key:t.item.key,extKey:t.item.extKey});case 22:ie.success(s("soajs:messages.delete_"+t.item.type)),n(),r();case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),ie.error(e.t0.message);case 30:case"end":return e.stop()}}),e,null,[[0,27]])})))).apply(this,arguments)}return Object(E.jsxs)(xa.a,{show:t.show,onHide:r,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:s("soajs:buttons.Delete")})}),Object(E.jsxs)(xa.a.Body,{style:{wordBreak:"break-all"},children:[s("soajs:messages.deleteQuestion"),Object(E.jsxs)("span",{className:"ml-3 font-weight-bold",children:[t.item?t.item.type:"",": [",Object(E.jsx)("span",{className:"text-danger",children:t.item?t.item.label:""}),"]"]})]}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:r,children:s("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"danger",onClick:function(){return c.apply(this,arguments)},children:s("soajs:buttons.Delete")})]})]})}var lj=At.getService(),dj={id:"",appId:"",key:"",envCode:"",config:{},configAllEnv:{}};function jj(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=e.environments,c=Object(Ee.a)(["common","soajs"]).t,i=function(){return a({show:!1,item:null})},o=Object(n.useState)(dj),l=Object(y.a)(o,2),d=l[0],j=l[1];function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lj.updateTenantApplicationKey({id:d.id,appId:d.appId,key:d.key,envCode:d.envCode,config:d.config});case 3:ie.success(c("soajs:messages.tenantApplicationKey")),s(),i(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.item&&j(Object.assign({},dj,t.item)),function(){return e=!1}}),[t]),Object(E.jsxs)(xa.a,{show:t.show,onHide:i,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:c("soajs:titles.tenantApplicationKey")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsxs)(_.a,{children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:c("soajs:fields.Env")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"envCode",size:"sm",value:d.envCode,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=d;D(a,e.target.id,t),"envCode"===e.target.id&&(d.configAllEnv[t.toLowerCase()]?D(a,"config",d.configAllEnv[t.toLowerCase()]):D(a,"config",{})),j(Object(N.a)({},a))},children:[Object(E.jsx)("option",{value:"",children:"---"}),r.map((function(e,t){return Object(E.jsx)("option",{value:e.code,children:e.code},t)}))]})]}),d.envCode&&""!==d.envCode&&Object(E.jsxs)(_.a.Group,{style:{height:"400px"},children:[Object(E.jsx)(_.a.Label,{children:c("soajs:fields.Configuration")}),Object(E.jsx)(ue,{mode:"code",json:d.config||{},onChange:function(e){d.config=e}})]})]})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:i,children:c("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(d.envCode.length>0),children:c("soajs:buttons.Update")})]})]})}a(446);var uj=At.getService(),mj={id:"",appId:"",key:"",extKey:"",label:"",extKeyEnv:"",expDate:null,device:{},geo:{}};function pj(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=e.environments,c=Object(Ee.a)(["common","soajs"]).t,i=function(){return a({show:!1,item:null})},o=Object(n.useState)(mj),l=Object(y.a)(o,2),d=l[0],j=l[1];function u(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=d;D(a,e.target.id,t),j(Object(N.a)({},a))}function m(){return(m=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d.expDate&&(t=new Date(d.expDate),d.expDate=t.toISOString()),e.next=4,uj.updateTenantApplicationExtKey(d);case 4:ie.success(c("soajs:messages.tenantApplicationExtKey")),s(),i(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.item&&j(Object.assign({},mj,t.item)),function(){return e=!1}}),[t]),Object(E.jsxs)(xa.a,{show:t.show,onHide:i,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:c("soajs:titles.tenantApplicationExtKey")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsxs)(_.a,{children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:c("soajs:fields.Label")}),Object(E.jsx)(_.a.Control,{id:"label",size:"sm",value:d.label,onChange:u})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:c("soajs:fields.Env")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"extKeyEnv",size:"sm",value:d.extKeyEnv,onChange:u,children:[Object(E.jsx)("option",{value:"",children:"---"}),r.map((function(e,t){return Object(E.jsx)("option",{value:e.code,children:e.code},t)}))]})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{className:"mr-5",children:c("soajs:fields.ExpDate")}),Object(E.jsx)(va.a,{selected:d.expDate&&""!==d.expDate?new Date(d.expDate):null,onChange:function(e){var t=d;D(t,"expDate",e?e.toISOString():null),j(Object(N.a)({},t))}})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:c("soajs:fields.Device")}),Object(E.jsx)(ue,{mode:"code",json:d.device||{},onChange:function(e){d.device=e}})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:c("soajs:fields.Geo")}),Object(E.jsx)(ue,{mode:"code",json:d.geo||{},onChange:function(e){d.geo=e}})]})]})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:i,children:c("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return m.apply(this,arguments)},disabled:!(d.label.length>0&&d.extKeyEnv.length>0),children:c("soajs:buttons.Update")})]})]})}var bj=At.getService(),hj={id:"",type:2,oauthType:"urac",disabled:0,pin:{},secret:""};function Oj(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=Object(Ee.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})},i=Object(n.useState)(hj),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),"number"!==e.target.type&&"type"!==e.target.id||(t=parseInt(t)),"disabled"===e.target.id&&(t=t?0:1);var a=l;D(a,e.target.id,t),d(Object(N.a)({},a))}function u(){return(u=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={},t=1===l.disabled?{id:l.id,oauthType:"off",secret:l.secret}:{id:l.id,type:l.type,oauthType:l.oauthType,secret:l.secret},e.next=5,bj.updateTenantOauth(t);case 5:ie.success(r("soajs:messages.tenantOauth")),s(),c(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ie.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.item&&d(Object.assign({},hj,t.item)),function(){return e=!1}}),[t]),Object(E.jsxs)(xa.a,{show:t.show,onHide:c,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:r("soajs:titles.tenantOauth")})}),Object(E.jsxs)(xa.a.Body,{children:[Object(E.jsx)(ct.a,{variant:"warning",children:Object(E.jsxs)("p",{children:["Be advised that when turning ON and OFF or modifying the oAuth Security of a tenant, all the keys configuration for all the applications belonging to this tenant will be modified based on the option you select. ",Object(E.jsx)("a",{href:"https://soajsorg.atlassian.net/wiki/spaces/DSBRD/pages/61979922/Multitenancy#Multitenancy-oauth",children:"Learn More"})]})}),Object(E.jsx)("hr",{}),t.item&&Object(E.jsxs)(_.a,{children:[Object(E.jsx)(_.a.Group,{children:Object(E.jsx)(_.a.Check,{id:"disabled",type:"switch",label:"Turn ON oAuth",checked:0===l.disabled,onChange:j})}),0===l.disabled&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Type")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"type",value:l.type,onChange:j,children:[Object(E.jsx)("option",{value:"2",children:"oAuth 2.0"}),Object(E.jsx)("option",{value:"0",children:"oAuth 0"})]})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Secret")}),Object(E.jsx)(_.a.Control,{id:"secret",size:"sm",value:l.secret,onChange:j})]}),2===l.type&&Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.OauthType")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"oauthType",value:l.oauthType,onChange:j,children:[Object(E.jsx)("option",{value:"urac",children:"URAC - Complete user management"}),Object(E.jsx)("option",{value:"oauth",children:"Integration - Basic user management"})]})]})})]})]})]}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:c,children:r("soajs:buttons.Cancel")}),t.item&&Object(E.jsx)(L.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(1===l.disabled||0===l.disabled&&l.secret.length>0),children:r("soajs:buttons.Update")})]})]})}var xj=At.getService(),fj={name:"",description:"",type:"product",tag:"",profile:{},mainTenant:null,mainTenantName:""};function gj(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=Object(Ee.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})},i=Object(n.useState)(fj),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=l;D(a,e.target.id,t),d(Object(N.a)({},a))}function u(){return(u=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={},"product"===l.type&&(t={name:l.name,description:l.description,type:"product",tag:l.tag,profile:l.profile}),"client"===l.type&&(t={name:l.name,description:l.description,type:"product",tag:l.tag,profile:l.profile,mainTenant:l.mainTenant}),e.next=6,xj.addTenant(t);case 6:ie.success(r("soajs:messages.tenantAdd")),s(),c(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),ie.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.item&&("client"===t.item.type&&(t.item.mainTenant||ie.error("You can only add a sub tenant under a main tenant.")),d(Object.assign({},fj,t.item))),function(){return e=!1}}),[t]),Object(E.jsxs)(xa.a,{show:t.show,onHide:c,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:r("soajs:titles.tenantAdd_"+l.type)})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsxs)(_.a,{children:["client"===l.type&&Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.MainTenant")}),Object(E.jsx)(_.a.Control,{id:"mainTenantName",size:"sm",value:l.mainTenantName,disabled:!0})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Name")}),Object(E.jsx)(_.a.Control,{id:"name",size:"sm",value:l.name,onChange:j})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Description")}),Object(E.jsx)(_.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:l.description,onChange:j})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Tag")}),Object(E.jsx)(_.a.Control,{id:"tag",size:"sm",value:l.tag,onChange:j})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Profile")}),Object(E.jsx)(ue,{mode:"code",json:l.profile||{},onChange:function(e){l.profile=e}})]})]})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:c,children:r("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!function(){var e=!0;return"client"!==l.type||l.mainTenant||(e=!1),l.name.length>0&&l.description.length>0&&e}(),children:r("soajs:buttons.Add")})]})]})}var vj=At.getService();function yj(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=Object(Ee.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})},i=Object(n.useState)([]),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)([]),u=Object(y.a)(j,2),m=u[0],p=u[1],b=Object(n.useState)({id:null,productCode:"",packageCode:"",description:"",_TTL:"168"}),h=Object(y.a)(b,2),O=h[0],x=h[1];function f(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=O;if(D(a,e.target.id,t),x(Object(N.a)({},a)),"productCode"===e.target.id){var n=m.filter((function(e){return t===e.code}));n&&n[0]&&n[0].packages&&d(n[0].packages)}}function w(){return(w=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O.id=t.item.id,e.next=4,vj.addApplication(O);case 4:ie.success(r("soajs:messages.tenantApplicationAdd")),s(),c(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,vj.getProducts();case 3:a=t.sent,e&&a&&p(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ie.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[]),Object(E.jsxs)(xa.a,{show:t.show,onHide:c,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:r("soajs:titles.tenantApplicationAdd")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsxs)(_.a,{children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.ProductCode")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"productCode",size:"sm",defaultValue:O.productCode,onChange:f,children:[Object(E.jsx)("option",{value:"",children:"---"}),m.map((function(e,t){return Object(E.jsx)("option",{value:e.code,children:e.code},t)}))]})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.PackageCode")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"packageCode",size:"sm",defaultValue:O.packageCode,onChange:f,children:[Object(E.jsx)("option",{value:"",children:"---"}),l.map((function(e,t){return Object(E.jsx)("option",{value:e.code,children:e.code},t)}))]})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.TTL")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"_TTL",defaultValue:O._TTL,onChange:f,children:[Object(E.jsx)("option",{value:"6",children:"6 hours"}),Object(E.jsx)("option",{value:"12",children:"12 hours"}),Object(E.jsx)("option",{value:"24",children:"24 hours"}),Object(E.jsx)("option",{value:"48",children:"2 days"}),Object(E.jsx)("option",{value:"72",children:"3 days"}),Object(E.jsx)("option",{value:"96",children:"4 days"}),Object(E.jsx)("option",{value:"120",children:"5 days"}),Object(E.jsx)("option",{value:"144",children:"6 days"}),Object(E.jsx)("option",{value:"168",children:"7 days"})]})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Description")}),Object(E.jsx)(_.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:O.description,onChange:f})]})]})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:c,children:r("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return w.apply(this,arguments)},disabled:!(O.productCode.length>0&&O.packageCode.length>0&&O.description.length>0),children:r("soajs:buttons.Add")})]})]})}var wj=At.getService();function kj(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=e.environments,c=Object(Ee.a)(["common","soajs"]).t,i=function(){return a({show:!1,item:null})},o=Object(n.useState)({id:"",appId:"",key:"",label:"",env:"",expDate:null,device:{},geo:{}}),l=Object(y.a)(o,2),d=l[0],j=l[1];function u(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=d;D(a,e.target.id,t),j(Object(N.a)({},a))}function m(){return(m=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d.id=t.item.id,d.appId=t.item.appId,d.key=t.item.key,e.next=6,wj.addTenantExtKey(d);case 6:ie.success(c("soajs:messages.tenantExtKeyAdd")),s(),i(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),ie.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return Object(E.jsxs)(xa.a,{show:t.show,onHide:i,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:c("soajs:titles.tenantExtKeyAdd")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsxs)(_.a,{children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:c("soajs:fields.Label")}),Object(E.jsx)(_.a.Control,{id:"label",size:"sm",value:d.label,onChange:u})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:c("soajs:fields.Env")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"env",size:"sm",defaultValue:d.env,onChange:u,children:[Object(E.jsx)("option",{value:"",children:"---"}),r.map((function(e,t){return Object(E.jsx)("option",{value:e.code,children:e.code},t)}))]})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{className:"mr-5",children:c("soajs:fields.ExpDate")}),Object(E.jsx)(va.a,{selected:d.expDate&&""!==d.expDate?new Date(d.expDate):null,onChange:function(e){var t=d;D(t,"expDate",e?e.toISOString():null),j(Object(N.a)({},t))}})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:c("soajs:fields.Device")}),Object(E.jsx)(ue,{mode:"code",json:d.device||{},onChange:function(e){d.device=e}})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:c("soajs:fields.Geo")}),Object(E.jsx)(ue,{mode:"code",json:d.geo||{},onChange:function(e){d.geo=e}})]})]})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:i,children:c("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return m.apply(this,arguments)},disabled:!(d.label.length>0&&d.env.length>0),children:c("soajs:buttons.Add")})]})]})}var Cj=At.getService(),Nj={id:"",name:"",description:"",tag:"",profile:{}};function Sj(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=Object(Ee.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})},i=Object(n.useState)(Nj),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=l;D(a,e.target.id,t),d(Object(N.a)({},a))}function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cj.updateTenant(l);case 3:ie.success(r("soajs:messages.tenantUpdate")),s(),c(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ie.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.item&&d(Object.assign({},Nj,t.item)),function(){return e=!1}}),[t]),Object(E.jsxs)(xa.a,{show:t.show,onHide:c,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:r("soajs:titles.tenantUpdate")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsxs)(_.a,{children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Name")}),Object(E.jsx)(_.a.Control,{id:"name",size:"sm",value:l.name,onChange:j})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Description")}),Object(E.jsx)(_.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:l.description,onChange:j})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Tag")}),Object(E.jsx)(_.a.Control,{id:"tag",size:"sm",value:l.tag,onChange:j})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Profile")}),Object(E.jsx)(ue,{mode:"code",json:l.profile||{},onChange:function(e){l.profile=e}})]})]})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:c,children:r("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(l.name.length>0&&l.description.length>0),children:r("soajs:buttons.Update")})]})]})}var Pj=At.getService(),Aj={package:"",id:"",appId:"",description:"",_TTL:"168"};function Tj(e){var t=e.modalOpt,a=e.setModalOpt,s=e.handleAction,r=Object(Ee.a)(["common","soajs"]).t,c=function(){return a({show:!1,item:null})},i=Object(n.useState)(Aj),o=Object(y.a)(i,2),l=o[0],d=o[1];function j(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked);var a=l;D(a,e.target.id,t),d(Object(N.a)({},a))}function u(){return(u=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l._TTL=""+l._TTL,e.next=4,Pj.updateApplication(l);case 4:ie.success(r("soajs:messages.tenantApplicationUpdate")),s(),c(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;return e&&t&&t.item&&d(Object.assign({},Aj,t.item)),function(){return e=!1}}),[t]),Object(E.jsxs)(xa.a,{show:t.show,onHide:c,animation:!1,size:"lg",children:[Object(E.jsx)(xa.a.Header,{closeButton:!0,children:Object(E.jsx)(xa.a.Title,{children:r("soajs:titles.tenantApplicationUpdate")})}),Object(E.jsx)(xa.a.Body,{children:Object(E.jsxs)(_.a,{children:[Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.PackageCode")}),Object(E.jsx)(_.a.Control,{id:"package",size:"sm",value:l.package,disabled:!0})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.TTL")}),Object(E.jsxs)(_.a.Control,{as:"select",id:"_TTL",value:l._TTL,onChange:j,children:[Object(E.jsx)("option",{value:"6",children:"6 hours"}),Object(E.jsx)("option",{value:"12",children:"12 hours"}),Object(E.jsx)("option",{value:"24",children:"24 hours"}),Object(E.jsx)("option",{value:"48",children:"2 days"}),Object(E.jsx)("option",{value:"72",children:"3 days"}),Object(E.jsx)("option",{value:"96",children:"4 days"}),Object(E.jsx)("option",{value:"120",children:"5 days"}),Object(E.jsx)("option",{value:"144",children:"6 days"}),Object(E.jsx)("option",{value:"168",children:"7 days"})]})]}),Object(E.jsxs)(_.a.Group,{children:[Object(E.jsx)(_.a.Label,{children:r("soajs:fields.Description")}),Object(E.jsx)(_.a.Control,{id:"description",size:"sm",as:"textarea",rows:3,value:l.description,onChange:j})]})]})}),Object(E.jsxs)(xa.a.Footer,{children:[Object(E.jsx)(L.a,{variant:"warning",onClick:c,children:r("soajs:buttons.Cancel")}),Object(E.jsx)(L.a,{variant:"success",onClick:function(){return u.apply(this,arguments)},disabled:!(l.description.length>0),children:r("soajs:buttons.Update")})]})]})}var Ej=At.getService(),Ij=St.getService(),Uj="product";function Lj(e){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"font-weight-bold mr-3",children:e.name}),Object(E.jsxs)("span",{className:"small text-muted",children:["[",e.code," - ",e._id,"]"]})]})}function Mj(e,t,a,n,s){return zj.apply(this,arguments)}function zj(){return(zj=Object(v.a)(g.a.mark((function e(t,a,n,s,r){var c,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={limit:50,skip:50*(n-1),type:Uj},s&&s.keywords&&""!==s.keywords&&(c.keywords=s.keywords),e.next=5,Ej.getTenants(c);case 5:i=e.sent,r&&i&&i.items&&(t(i.items),a({totalItems:i.count,maxSize:10,itemsPerPage:i.limit})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function _j(){var e=T().ability,t=Object(Ee.a)(["common","soajs"]).t,a=Object(n.useState)([]),s=Object(y.a)(a,2),r=s[0],c=s[1],i=Object(n.useState)([]),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)(1),u=Object(y.a)(j,2),m=u[0],p=u[1],b=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),h=Object(y.a)(b,2),O=h[0],x=h[1],f=Object(n.useState)({keywords:""}),w=Object(y.a)(f,2),k=w[0],C=w[1];function S(e){return P.apply(this,arguments)}function P(){return(P=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),p(1),e.next=4,ge(1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=Object(n.useState)({show:!1,item:null}),I=Object(y.a)(A,2),U=I[0],M=I[1],z=function(e){return M({show:!0,item:e})},R=Object(n.useState)({show:!1,item:null}),G=Object(y.a)(R,2),D=G[0],F=G[1],B=Object(n.useState)({show:!1,item:null}),K=Object(y.a)(B,2),H=K[0],J=K[1],W=Object(n.useState)({show:!1,item:null}),V=Object(y.a)(W,2),q=V[0],Y=V[1],X=Object(n.useState)({show:!1,item:null}),Q=Object(y.a)(X,2),Z=Q[0],$=Q[1],ee=function(e){return $({show:!0,item:e})},te=Object(n.useState)({show:!1,item:null}),ae=Object(y.a)(te,2),ne=ae[0],se=ae[1],re=Object(n.useState)({show:!1,item:null}),ce=Object(y.a)(re,2),oe=ce[0],le=ce[1],de=Object(n.useState)({show:!1,item:null}),je=Object(y.a)(de,2),ue=je[0],me=je[1],be=Object(n.useState)({show:!1,item:null}),he=Object(y.a)(be,2),Oe=he[0],xe=he[1];function fe(){return(fe=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ej.addTenantApplicationKey(t);case 3:return e.next=5,ge();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ge(e){return ve.apply(this,arguments)}function ve(){return(ve=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mj(c,x,t||m,k,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ij.getEnvironments();case 3:(a=t.sent)&&e&&d(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ie.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return Mj(c,x,1,null,e).catch(),function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Sj,{modalOpt:ue,setModalOpt:me,handleAction:ge}),Object(E.jsx)(Tj,{modalOpt:Oe,setModalOpt:xe,handleAction:ge}),Object(E.jsx)(kj,{modalOpt:oe,setModalOpt:le,handleAction:ge,environments:l}),Object(E.jsx)(yj,{modalOpt:ne,setModalOpt:se,handleAction:ge}),Object(E.jsx)(gj,{modalOpt:Z,setModalOpt:$,handleAction:ge}),Object(E.jsx)(Oj,{modalOpt:q,setModalOpt:Y,handleAction:ge}),Object(E.jsx)(pj,{modalOpt:H,setModalOpt:J,handleAction:ge,environments:l}),Object(E.jsx)(jj,{modalOpt:D,setModalOpt:F,handleAction:ge,environments:l}),Object(E.jsx)(oj,{modalOpt:U,setModalOpt:M,handleAction:ge})]}),Object(E.jsxs)("div",{className:"mb-1",children:[Object(E.jsx)("h5",{className:"float-left font-weight-bold",children:"Available main tenants"}),e.can("tenant","add")&&Object(E.jsxs)(L.a,{className:"float-right mb-1",variant:"success",size:"sm",onClick:function(){ee({type:Uj})},children:[Object(E.jsx)(Qa.a,{})," ",t("soajs:buttons.Add")]}),Object(E.jsx)("span",{className:"clearfix"}),Object(E.jsx)(ct.a,{variant:"secondary mt-2",children:Object(E.jsx)(_.a,{onSubmit:S,children:Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{xs:9,md:10,children:Object(E.jsx)(_.a.Control,{id:"keywords",size:"sm",autoFocus:!0,value:k.keywords,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),C(Object(N.a)(Object(N.a)({},k),{},Object(Ve.a)({},e.target.id,t)))}})}),Object(E.jsx)(dt.a,{xs:3,md:2,children:Object(E.jsxs)(L.a,{className:"float-right",variant:"dark",size:"sm",onClick:S,children:[Object(E.jsx)(vt.c,{})," ",t("soajs:buttons.Search")]})})]})})}),Object(E.jsx)("hr",{})]}),r.map((function(a,n){return Object(E.jsx)(Ot.a,{className:"mb-2",defaultActiveKey:1,children:Object(E.jsxs)(ot.a,{children:[Object(E.jsxs)(ot.a.Header,{style:{backgroundColor:"#DEF1F7"},children:[Object(E.jsx)(Ot.a.Toggle,{className:"p-0",as:L.a,variant:"link",eventKey:n+1,children:Lj(a)}),e.can("tenant","delete")&&Object(E.jsx)(Xa,{className:"float-right ml-1",onClick:function(){z({type:"tenant",label:a.name,id:a._id})}}),e.can("tenant","configure")&&Object(E.jsx)(cn,{className:"float-right ml-1",onClick:function(){var e;e={id:a._id,secret:a.oauth.secret,type:a.oauth.type,disabled:a.oauth.disabled,oauthType:a.oauth.loginMode},Y({show:!0,item:e})}}),e.can("tenant","edit")&&Object(E.jsx)(rn,{className:"float-right ml-1",onClick:function(){var e;e={id:a._id,name:a.name,tag:a.tag||"",description:a.description||"",profile:a.profile||{}},me({show:!0,item:e})}}),e.can("tenant","add")&&Object(E.jsx)(Za,{className:"float-right ml-1",onClick:function(){ee({type:"client",mainTenant:a._id,mainTenantName:a.name})}})]}),Object(E.jsx)(Ot.a.Collapse,{eventKey:n+1,children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)("span",{className:"small",children:a.description}),Object(E.jsx)("hr",{className:"mt-4"}),Object(E.jsxs)("div",{className:"mb-1",children:[Object(E.jsx)("h6",{className:"float-left font-weight-bold",children:"Available applications"}),e.can("tenant_application","add")&&Object(E.jsxs)(L.a,{className:"float-right mb-1",variant:"success",size:"sm",onClick:function(){var e;e={id:a._id},se({show:!0,item:e})},children:[Object(E.jsx)(Qa.a,{})," ",t("soajs:buttons.Add")]}),Object(E.jsx)("span",{className:"clearfix"})]}),a.applications&&a.applications.map((function(n,s){return Object(E.jsx)(Ot.a,{className:"mb-2",defaultActiveKey:1,children:Object(E.jsxs)(ot.a,{children:[Object(E.jsxs)(ot.a.Header,{children:[Object(E.jsxs)(Ot.a.Toggle,{className:"p-0",as:L.a,variant:"link",eventKey:s+1,children:[Object(E.jsx)("span",{className:"font-weight-bold mr-3 small",children:n.package}),Object(E.jsxs)("span",{className:"small text-muted",children:["[",n.appId,"]"]}),Object(E.jsx)("span",{className:"text-success small ml-3",children:[n.product]})]}),e.can("tenant_application","delete")&&Object(E.jsx)(Xa,{className:"float-right ml-1",onClick:function(){z({type:"application",label:n.package,id:a._id,appId:n.appId})}}),e.can("tenant_application","edit")&&Object(E.jsx)(rn,{className:"float-right ml-1",onClick:function(){var e;e={id:a._id,appId:n.appId,description:n.description||"",_TTL:n._TTL?n._TTL/36e5:168,package:n.package},xe({show:!0,item:e})}})]}),Object(E.jsx)(Ot.a.Collapse,{eventKey:s+1,children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)("span",{className:"small",children:n.description}),Object(E.jsx)("hr",{className:"mt-4"}),Object(E.jsxs)("div",{className:"mb-1",children:[Object(E.jsx)("h6",{className:"float-left font-weight-bold",children:"Available internal keys"}),e.can("tenant_application_key","add")&&Object(E.jsxs)(L.a,{className:"float-right mb-1",variant:"success",size:"sm",onClick:function(){!function(e){fe.apply(this,arguments)}({id:a._id,appId:n.appId})},children:[Object(E.jsx)(Qa.a,{})," ",t("soajs:buttons.Add")]}),Object(E.jsx)("span",{className:"clearfix"})]}),n.keys&&n.keys.map((function(s,r){return Object(E.jsx)(Ot.a,{className:"mb-2",defaultActiveKey:1,children:Object(E.jsxs)(ot.a,{children:[Object(E.jsxs)(ot.a.Header,{className:"p-1 pl-2 pr-2",style:{backgroundColor:"#dee2e6"},children:[Object(E.jsx)(Ot.a.Toggle,{className:"p-0",as:L.a,variant:"link",eventKey:r+1,children:Object(E.jsxs)("span",{className:"font-weight-bold mr-3 small",children:[Object(E.jsx)(pe.e,{className:"mr-2"}),s.key]})}),e.can("tenant_application_key","delete")&&Object(E.jsx)(Xa,{className:"float-right ml-2",onClick:function(){z({type:"key",label:s.key,id:a._id,appId:n.appId,key:s.key})}}),e.can("tenant_application_key","configure")&&Object(E.jsx)(cn,{className:"float-right ml-2",onClick:function(){var e;e={id:a._id,appId:n.appId,key:s.key,configAllEnv:s.config},F({show:!0,item:e})}})]}),Object(E.jsx)(Ot.a.Collapse,{eventKey:r+1,children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)("h6",{className:"float-left font-weight-bold",children:"Available external keys"}),e.can("tenant_application_ekey","add")&&Object(E.jsxs)(L.a,{className:"float-right mb-1",variant:"success",size:"sm",onClick:function(){var e;e={id:a._id,appId:n.appId,key:s.key},le({show:!0,item:e})},children:[Object(E.jsx)(Qa.a,{})," ",t("soajs:buttons.Add")]}),Object(E.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",className:"small",children:[Object(E.jsx)("thead",{className:"text-light bg-dark",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:t("soajs:buttons.Actions")}),Object(E.jsx)("th",{children:t("soajs:fields.ExternalKey")}),Object(E.jsx)("th",{className:"text-center",children:t("soajs:fields.Environments")}),Object(E.jsx)("th",{className:"text-right",children:t("soajs:fields.ExpDate")})]})}),Object(E.jsx)("tbody",{children:s.extKeys&&s.extKeys.map((function(t,r){return Object(E.jsxs)("tr",{children:[Object(E.jsxs)("td",{children:[e.can("tenant_application_ekey","delete")&&Object(E.jsx)(Xa,{className:"mr-2",onClick:function(){z({type:"extKey",label:t.extKey,id:a._id,appId:n.appId,key:s.key,extKey:t.extKey})}}),e.can("tenant_application_ekey","configure")&&Object(E.jsx)(cn,{onClick:function(){var e;e={id:a._id,appId:n.appId,key:s.key,extKey:t.extKey,expDate:t.expDate||null,device:t.device||{},geo:t.geo||{},label:t.label,extKeyEnv:t.env||""},J({show:!0,item:e})}})]}),Object(E.jsx)("td",{style:{wordBreak:"break-all",maxWidth:"400px"},children:t.extKey}),Object(E.jsx)("td",{className:"text-center",children:t.env}),Object(E.jsx)("td",{className:"text-right",children:t.expDate?new Date(t.expDate).toISOString():null})]},r)}))})]})]})})]})},r+1)}))]})})]})},s+1)}))]})})]})},n+1)})),Object(E.jsx)("div",{className:"float-right mt-3",children:Object(E.jsx)(_t,{currentPage:m,totalItems:O.totalItems,itemsPerPage:O.itemsPerPage,maxSize:O.maxSize,onClick:function(e){p(e),ge(e).catch()}})}),Object(E.jsx)("div",{className:"clearfix"})]})}var Rj=At.getService(),Gj=St.getService(),Dj="client";function Fj(e){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"font-weight-bold mr-3",children:e.name}),Object(E.jsxs)("span",{className:"small text-muted",children:["[",e.code," - ",e._id,"]"]}),Object(E.jsx)("span",{className:"text-dark small ml-3",children:[e.tenant.code]})]})}function Bj(e,t,a,n,s){return Kj.apply(this,arguments)}function Kj(){return(Kj=Object(v.a)(g.a.mark((function e(t,a,n,s,r){var c,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={limit:50,skip:50*(n-1),type:Dj},s&&s.keywords&&""!==s.keywords&&(c.keywords=s.keywords),e.next=5,Rj.getTenants(c);case 5:i=e.sent,r&&i&&i.items&&(t(i.items),a({totalItems:i.count,maxSize:10,itemsPerPage:i.limit})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Hj(){var e=T().ability,t=Object(Ee.a)(["common","soajs"]).t,a=Object(n.useState)([]),s=Object(y.a)(a,2),r=s[0],c=s[1],i=Object(n.useState)([]),o=Object(y.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)(1),u=Object(y.a)(j,2),m=u[0],p=u[1],b=Object(n.useState)({totalItems:1,maxSize:1,itemsPerPage:1}),h=Object(y.a)(b,2),O=h[0],x=h[1],f=Object(n.useState)({keywords:""}),w=Object(y.a)(f,2),k=w[0],C=w[1];function S(e){return P.apply(this,arguments)}function P(){return(P=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),p(1),e.next=4,be(1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=Object(n.useState)({show:!1,item:null}),I=Object(y.a)(A,2),U=I[0],M=I[1],z=function(e){return M({show:!0,item:e})},R=Object(n.useState)({show:!1,item:null}),G=Object(y.a)(R,2),D=G[0],F=G[1],B=Object(n.useState)({show:!1,item:null}),K=Object(y.a)(B,2),H=K[0],J=K[1],W=Object(n.useState)({show:!1,item:null}),V=Object(y.a)(W,2),q=V[0],Y=V[1],X=Object(n.useState)({show:!1,item:null}),Q=Object(y.a)(X,2),Z=Q[0],$=Q[1],ee=Object(n.useState)({show:!1,item:null}),te=Object(y.a)(ee,2),ae=te[0],ne=te[1],se=Object(n.useState)({show:!1,item:null}),re=Object(y.a)(se,2),ce=re[0],oe=re[1],le=Object(n.useState)({show:!1,item:null}),de=Object(y.a)(le,2),je=de[0],ue=de[1];function me(){return(me=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rj.addTenantApplicationKey(t);case 3:return e.next=5,be();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ie.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function be(e){return he.apply(this,arguments)}function he(){return(he=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bj(c,x,t||m,k,!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Gj.getEnvironments();case 3:(a=t.sent)&&e&&d(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ie.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return Bj(c,x,1,null,e).catch(),function(){return t.apply(this,arguments)}().catch(),function(){return e=!1}}),[]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Sj,{modalOpt:ce,setModalOpt:oe,handleAction:be}),Object(E.jsx)(Tj,{modalOpt:je,setModalOpt:ue,handleAction:be}),Object(E.jsx)(kj,{modalOpt:ae,setModalOpt:ne,handleAction:be,environments:l}),Object(E.jsx)(yj,{modalOpt:Z,setModalOpt:$,handleAction:be}),Object(E.jsx)(Oj,{modalOpt:q,setModalOpt:Y,handleAction:be}),Object(E.jsx)(pj,{modalOpt:H,setModalOpt:J,handleAction:be,environments:l}),Object(E.jsx)(jj,{modalOpt:D,setModalOpt:F,handleAction:be,environments:l}),Object(E.jsx)(oj,{modalOpt:U,setModalOpt:M,handleAction:be})]}),Object(E.jsxs)("div",{className:"mb-1",children:[Object(E.jsx)("h5",{className:"float-left font-weight-bold",children:"Available main tenants"}),Object(E.jsx)("span",{className:"clearfix"}),Object(E.jsx)(ct.a,{variant:"secondary mt-2",children:Object(E.jsx)(_.a,{onSubmit:S,children:Object(E.jsxs)(lt.a,{children:[Object(E.jsx)(dt.a,{xs:9,md:10,children:Object(E.jsx)(_.a.Control,{id:"keywords",size:"sm",autoFocus:!0,value:k.keywords,onChange:function(e){var t=e.target.value;e.target.hasOwnProperty("checked")&&(t=e.target.checked),C(Object(N.a)(Object(N.a)({},k),{},Object(Ve.a)({},e.target.id,t)))}})}),Object(E.jsx)(dt.a,{xs:3,md:2,children:Object(E.jsxs)(L.a,{className:"float-right",variant:"dark",size:"sm",onClick:S,children:[Object(E.jsx)(vt.c,{})," ",t("soajs:buttons.Search")]})})]})})}),Object(E.jsx)("hr",{})]}),r.map((function(a,n){return Object(E.jsx)(Ot.a,{className:"mb-2",defaultActiveKey:1,children:Object(E.jsxs)(ot.a,{children:[Object(E.jsxs)(ot.a.Header,{style:{backgroundColor:"#DEF1F7"},children:[Object(E.jsx)(Ot.a.Toggle,{className:"p-0",as:L.a,variant:"link",eventKey:n+1,children:Fj(a)}),e.can("tenant","delete")&&Object(E.jsx)(Xa,{className:"float-right ml-1",onClick:function(){z({type:"tenant",label:a.name,id:a._id})}}),e.can("tenant","configure")&&Object(E.jsx)(cn,{className:"float-right ml-1",onClick:function(){var e;e={id:a._id,secret:a.oauth.secret,type:a.oauth.type,disabled:a.oauth.disabled,oauthType:a.oauth.loginMode},Y({show:!0,item:e})}}),e.can("tenant","edit")&&Object(E.jsx)(rn,{className:"float-right ml-1",onClick:function(){var e;e={id:a._id,name:a.name,tag:a.tag||"",description:a.description||"",profile:a.profile||{}},oe({show:!0,item:e})}})]}),Object(E.jsx)(Ot.a.Collapse,{eventKey:n+1,children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)("span",{className:"small",children:a.description}),Object(E.jsx)("hr",{className:"mt-4"}),Object(E.jsxs)("div",{className:"mb-1",children:[Object(E.jsx)("h6",{className:"float-left font-weight-bold",children:"Available applications"}),e.can("tenant_application","add")&&Object(E.jsxs)(L.a,{className:"float-right mb-1",variant:"success",size:"sm",onClick:function(){var e;e={id:a._id},$({show:!0,item:e})},children:[Object(E.jsx)(Qa.a,{})," ",t("soajs:buttons.Add")]}),Object(E.jsx)("span",{className:"clearfix"})]}),a.applications&&a.applications.map((function(n,s){return Object(E.jsx)(Ot.a,{className:"mb-2",defaultActiveKey:1,children:Object(E.jsxs)(ot.a,{children:[Object(E.jsxs)(ot.a.Header,{children:[Object(E.jsxs)(Ot.a.Toggle,{className:"p-0",as:L.a,variant:"link",eventKey:s+1,children:[Object(E.jsx)("span",{className:"font-weight-bold mr-3 small",children:n.package}),Object(E.jsxs)("span",{className:"small text-muted",children:["[",n.appId,"]"]}),Object(E.jsx)("span",{className:"text-success small ml-3",children:[n.product]})]}),e.can("tenant_application","delete")&&Object(E.jsx)(Xa,{className:"float-right ml-1",onClick:function(){z({type:"application",label:n.package,id:a._id,appId:n.appId})}}),e.can("tenant_application","edit")&&Object(E.jsx)(rn,{className:"float-right ml-1",onClick:function(){var e;e={id:a._id,appId:n.appId,description:n.description||"",_TTL:n._TTL?n._TTL/36e5:168,package:n.package},ue({show:!0,item:e})}})]}),Object(E.jsx)(Ot.a.Collapse,{eventKey:s+1,children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)("span",{className:"small",children:n.description}),Object(E.jsx)("hr",{className:"mt-4"}),Object(E.jsxs)("div",{className:"mb-1",children:[Object(E.jsx)("h6",{className:"float-left font-weight-bold",children:"Available internal keys"}),e.can("tenant_application_key","add")&&Object(E.jsxs)(L.a,{className:"float-right mb-1",variant:"success",size:"sm",onClick:function(){!function(e){me.apply(this,arguments)}({id:a._id,appId:n.appId})},children:[Object(E.jsx)(Qa.a,{})," ",t("soajs:buttons.Add")]}),Object(E.jsx)("span",{className:"clearfix"})]}),n.keys&&n.keys.map((function(s,r){return Object(E.jsx)(Ot.a,{className:"mb-2",defaultActiveKey:1,children:Object(E.jsxs)(ot.a,{children:[Object(E.jsxs)(ot.a.Header,{className:"p-1 pl-2 pr-2",style:{backgroundColor:"#dee2e6"},children:[Object(E.jsx)(Ot.a.Toggle,{className:"p-0",as:L.a,variant:"link",eventKey:r+1,children:Object(E.jsxs)("span",{className:"font-weight-bold mr-3 small",children:[Object(E.jsx)(pe.e,{className:"mr-2"}),s.key]})}),e.can("tenant_application_key","delete")&&Object(E.jsx)(Xa,{className:"float-right ml-2",onClick:function(){z({type:"key",label:s.key,id:a._id,appId:n.appId,key:s.key})}}),e.can("tenant_application_key","configure")&&Object(E.jsx)(cn,{className:"float-right ml-2",onClick:function(){var e;e={id:a._id,appId:n.appId,key:s.key,configAllEnv:s.config},F({show:!0,item:e})}})]}),Object(E.jsx)(Ot.a.Collapse,{eventKey:r+1,children:Object(E.jsxs)(ot.a.Body,{children:[Object(E.jsx)("h6",{className:"float-left font-weight-bold",children:"Available external keys"}),e.can("tenant_application_ekey","add")&&Object(E.jsxs)(L.a,{className:"float-right mb-1",variant:"success",size:"sm",onClick:function(){var e;e={id:a._id,appId:n.appId,key:s.key},ne({show:!0,item:e})},children:[Object(E.jsx)(Qa.a,{})," ",t("soajs:buttons.Add")]}),Object(E.jsxs)(ft.a,{responsive:!0,striped:!0,hover:!0,size:"sm",className:"small",children:[Object(E.jsx)("thead",{className:"text-light bg-dark",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:t("soajs:buttons.Actions")}),Object(E.jsx)("th",{children:t("soajs:fields.ExternalKey")}),Object(E.jsx)("th",{className:"text-center",children:t("soajs:fields.Environments")}),Object(E.jsx)("th",{className:"text-right",children:t("soajs:fields.ExpDate")})]})}),Object(E.jsx)("tbody",{children:s.extKeys&&s.extKeys.map((function(t,r){return Object(E.jsxs)("tr",{children:[Object(E.jsxs)("td",{children:[e.can("tenant_application_ekey","delete")&&Object(E.jsx)(Xa,{className:"mr-2",onClick:function(){z({type:"extKey",label:t.extKey,id:a._id,appId:n.appId,key:s.key,extKey:t.extKey})}}),e.can("tenant_application_ekey","configure")&&Object(E.jsx)(cn,{onClick:function(){var e;e={id:a._id,appId:n.appId,key:s.key,extKey:t.extKey,expDate:t.expDate||null,device:t.device||{},geo:t.geo||{},label:t.label,extKeyEnv:t.env||""},J({show:!0,item:e})}})]}),Object(E.jsx)("td",{style:{wordBreak:"break-all",maxWidth:"400px"},children:t.extKey}),Object(E.jsx)("td",{className:"text-center",children:t.env}),Object(E.jsx)("td",{className:"text-right",children:t.expDate?new Date(t.expDate).toISOString():null})]},r)}))})]})]})})]})},r+1)}))]})})]})},s+1)}))]})})]})},n+1)})),Object(E.jsx)("div",{className:"float-right mt-3",children:Object(E.jsx)(_t,{currentPage:m,totalItems:O.totalItems,itemsPerPage:O.itemsPerPage,maxSize:O.maxSize,onClick:function(e){p(e),be(e).catch()}})}),Object(E.jsx)("div",{className:"clearfix"})]})}function Jj(){return Object(E.jsxs)(w.g,{children:[Object(E.jsx)(I,{path:"/multitenancy/products/:id/acl/:code",children:Object(E.jsx)(cj,{})}),Object(E.jsx)(I,{path:"/multitenancy/products",children:Object(E.jsx)(Vd,{})}),Object(E.jsx)(I,{path:"/multitenancy/tenants/main",children:Object(E.jsx)(_j,{})}),Object(E.jsx)(I,{path:"/multitenancy/tenants/sub",children:Object(E.jsx)(Hj,{})}),Object(E.jsx)(I,{path:"/multitenancy/users",children:Object(E.jsx)(Ad,{})}),Object(E.jsx)(w.d,{render:function(){return Object(E.jsx)(w.c,{to:"/multitenancy/products"})}})]})}var Wj=function(){var e=Object(Ee.a)(["common","soajs"]).t,t="/multitenancy";return Object(E.jsxs)(Ia.a,{collapseOnSelect:!0,expand:"sm",className:"pt-0 pb-0",bg:"secondary",variant:"dark",children:[Object(E.jsx)("span",{}),Object(E.jsx)(Ia.a.Toggle,{"aria-controls":"settings-navbar-nav"}),Object(E.jsx)(Ia.a.Collapse,{id:"settings-navbar-nav",className:"justify-content-end",children:Object(E.jsxs)(Ua.a,{activeKey:window.location.pathname,children:[Object(E.jsx)(Ma.LinkContainer,{to:t+"/products",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.products")})})}),Object(E.jsx)(Ma.LinkContainer,{to:t+"/tenants/main",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.maintenants")})})}),Object(E.jsx)(Ma.LinkContainer,{to:t+"/tenants/sub",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.subtenants")})})}),Object(E.jsx)(Ma.LinkContainer,{to:t+"/users",children:Object(E.jsx)(La.a.Item,{children:Object(E.jsx)("small",{children:e("soajs:menu.tenantusers")})})})]})})]})};function Vj(){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Wj,{}),Object(E.jsx)("div",{className:"bg-dark pt-1"}),Object(E.jsx)("div",{className:"main-area",children:Object(E.jsx)(bt.a,{className:"mt-3 mb-3",children:Object(E.jsx)(Jj,{})})})]})}function qj(){return Object(E.jsxs)(w.g,{children:[Object(E.jsx)(U,{exact:!0,path:"/",children:Object(E.jsx)(ze,{})}),Object(E.jsx)(U,{path:"/sign-in",children:Object(E.jsx)(ze,{})}),Object(E.jsx)(U,{path:"/sign-up",children:Object(E.jsx)(Ze,{})}),Object(E.jsx)(U,{path:"/validate-signup",children:Object(E.jsx)(et,{})}),Object(E.jsx)(U,{path:"/forgot-password",children:Object(E.jsx)(Re,{})}),Object(E.jsx)(U,{path:"/reset-password",children:Object(E.jsx)(De,{})}),Object(E.jsx)(U,{path:"/third-party-login/:strategy",children:Object(E.jsx)(rt,{})}),Object(E.jsx)(I,{path:"/change-password",children:Object(E.jsx)(Be,{})}),Object(E.jsx)(I,{path:"/change-email",children:Object(E.jsx)(He,{})}),Object(E.jsx)(I,{path:"/validate-change-email",children:Object(E.jsx)(We,{})}),Object(E.jsx)(I,{path:"/myProfile",children:Object(E.jsx)(Xe,{})}),Object(E.jsx)(I,{path:"/home",children:Object(E.jsx)(ut,{})}),Object(E.jsx)(I,{path:"/no-access",children:Object(E.jsx)(mt,{})}),Object(E.jsx)(I,{path:"/development",children:Object(E.jsx)(Jc,{})}),Object(E.jsx)(I,{path:"/catalogs",children:Object(E.jsx)(Ss,{})}),Object(E.jsx)(I,{path:"/environments/manage/:env",children:Object(E.jsx)(md,{})}),Object(E.jsx)(I,{path:"/environments",children:Object(E.jsx)(md,{})}),Object(E.jsx)(I,{path:"/multitenancy",children:Object(E.jsx)(Vj,{})}),Object(E.jsx)(I,{path:"/reports",children:Object(E.jsx)(_a,{})}),Object(E.jsx)(I,{path:"/settings",children:Object(E.jsx)(Bc,{})}),Object(E.jsx)(w.d,{children:Object(E.jsx)(pt,{})})]})}a(837);var Yj=xe.getService();ge.a.interceptors.request.use((function(e){var t=ve.tenant;window.apiSettings&&window.apiSettings.key&&(t=window.apiSettings.key);var a=ve.apiEndpoint;window.apiSettings&&window.apiSettings.api&&(a=window.apiSettings.api);var n=Yj.getAccessToken(),s=e.url;return-1!==s.indexOf("?")&&(s=s.substr(0,s.indexOf("?"))),-1!==s.indexOf("://")?s=(s=s.substr(s.indexOf("://")+3)).substr(s.indexOf("/")):e.url=a+e.url,""===s||!ve.noToken.includes(s)&&n?(n&&(e.headers.access_token=n),e.headers.key||(e.headers.key=t)):e.headers.key||(e.headers.key=t),e}),(function(e){Promise.reject(e)})),ge.a.interceptors.response.use((function(e){return e}),(function(e){if(e&&e.response&&e.config){var t=ve.apiEndpoint;window.apiSettings&&window.apiSettings.api&&(t=window.apiSettings.api);var a=e.config;if(401===e.response.status&&!a._retry&&e.response.data&&e.response.data.errors&&e.response.data.errors.codes&&401===e.response.data.errors.codes[0]&&ve.badTokenMessages.includes(e.response.data.errors.details[0].message)){a._retry=!0;var n=Yj.getRefreshToken();return ge.a.post(t+"/oauth/token",{refresh_token:n,grant_type:"refresh_token"}).then((function(e){if(e&&e.data&&e.data.access_token)return Yj.setToken(e.data),ge()(a)}))}}return Promise.reject(e)}));a(838),a(839);var Xj=Object(E.jsx)(vt.e,{});var Qj=function(e){var t=e.isAuthenticated,a=e.firstName,n=e.handleLogout,s=Object(Ee.a)(["common","soajs"]).t;return Object(E.jsxs)(Ia.a,{collapseOnSelect:!0,expand:"md",className:"pt-0 pb-0",bg:"dark",variant:"dark",children:[Object(E.jsx)(Ma.LinkContainer,{to:"/home",children:Object(E.jsxs)(Ia.a.Brand,{className:"font-weight-bold text-muted",children:[Object(E.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAACnCAYAAACB6MdcAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3QTJGMzRGOTAxMjUxMUU1OTlDNjk3RTlDRjc0MUExMiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3QTJGMzRGQTAxMjUxMUU1OTlDNjk3RTlDRjc0MUExMiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjdBMkYzNEY3MDEyNTExRTU5OUM2OTdFOUNGNzQxQTEyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjdBMkYzNEY4MDEyNTExRTU5OUM2OTdFOUNGNzQxQTEyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+zk00bgAAEL1JREFUeNrsnXuMXFUdx8+dnX10d9ltu93utl1L5VGlFKggEBCaGmlCkYcIKEiNEBIh4h8qiImiRhD+QIzGWBUjARUBRUSgPLQkNi2BQLHljRRa29LHlu223Xbf3e54v6d7x9l7z71zZ+aeO+fOfL/JJu3s7MydM5/7Pb9zzu/8jpXJZARVkKJqMItNGV5pNoFWGIt9D0JMUMsGZinXYxFUgpnE67UIKuFM2mexCCrhJLQElYBq/NwWQSWcBJagElACW3mgEtAqAjZFSKsO2ES2XZqA0mEJKgElsFXU9RNStrHRjkpA6a7GOyohZdsb7agElO5qvKMSUrqr8aASUsJqNKgZQkpYTQeVgCYP1ky1gUpI6a7Gg0pICavxoBJSwmo8qISUsBoPKiElrMaDSkgJq/GgElLCajyohJQyHlRCSldN7KifIqxGgUo3pTKmg0pIKS0spAgpVc2DKYqK1LxSpl0QRVh1gUpIKe2MpAgpxRiVoiIytVS53pgirHRUquKUjvvOoIrX8K5/i8ODPcrf1TS2i4ZZpyXFVa04QCWkMenAa/eL/ncfF2MHd4jxQ4PhusjaRlE34wTROO/TouWUayqmLawijpgkqJpdc+/aH4vRve9F8np1048XraddL5qOPd849nSCSkg1aWDTs6LXBnR8eL+W1081TBVt595qErAENWna+ZdLI3PQMMDOvuJRkW7qSBSshYBKSDW4aM+qm4MHEUfNOQJYXZOoaeoU6eYOkW49WtRNO2YiVFgvxkf6xKF9/xXjowfsnwH5OOLaIDV//FIxY8ntBJUK1ofPfF0Mbl0dCGi6eZaYMm+JaC1wUNRnD8KGtqwWY/27AoHF63ctX5UIWMOCSkhj6uoBaO20Y223u03UNM4o6X0OD+4Re1b/wHbbTb7AYpZg9pVPljMUIKhJghSA1tjx48xlK0oGVAUsQowgh+285PflnIe1CKpB6n78K3L6SQVp03HLxLQzv6H1/fv/85jYv/4eMXZgu4KElJh3/euJBpWQRqB9L/1M9G241wtpS5doO+e7YsrcxbFcB9x191NflYMut7siDJh73ctGwsq1/hg0NrDbF9L2pT+NDVIIYcXsK/4mZxGcGQVHWP1CaGKi8oFKN40iLn3kMmV3D0jr208syzX5wYr4GUu3SQOViqDLd682AY6jFl5VNkjdsLq198W7y3E5GYJaRvW9ep8HUsxfthqSMNK25HYZgqgGfklxVHb7EbipyIy7hgyW6LzEnK4Vro71f3cIgNkJxNamuCodNWY3ndJ1lnHXiWkxzOG69eFTNzBGrXTJ+VKFm7Yt/qGR1zv19BuVAyvTQWW3X6L2v/wLz2Mmumn22uYuVrqqDF/oqBXsqN0bPN3+1E/eaPQ117UvMOEyMgQ1JslBiKvbl2l6Ea/hR37d/d7BE7a1mOqo7PZL1IjLTSFkRJmuQ/s3ex4zZUcAHVWDBjauVMSnZxt9zfte+rltUZM9CvO9pnT/BFWDxkcPeuLT2rb5Zt9cm571JKk0HX+BMdeXJlalf8Fw0NHed8X42JDv5rxyL5cGadejX/S4KdL+pp35TYKaZGHKZuC9p2UictK1++mvicP2zeV209ZF1xp1nWkOpMKP5Pc8d4sy8TlJQj5q/3srxVjfVjGy+zVlXqpJo/2swbsSpwmqQn6Z+aHdwI5Ru67+R1nh3P/KCjG8Y53IjB/Ku0PVPaBCrFqmMMAiqCG7eFXCsx+MUO7qTu4EejmWTsNs7guPTEqGAzEDS1DzafsDSwNjUAmmZYl0U6fc0tww+3SjBky9a34khj54oXRAXcJ2lZkX/DqujYAE1U/o4oNyMQEoVpma5l9sTE6p20X99kSpegBlPB4C7pgKWBDUQrt6Zzszsozi3ONUiEZ63hI9q25S7zKd+AxWqtYOSU4QzfMvUn4OvMbwznXZAhZB4KIA2+wvPBY7qITUD9KWLrmUqHs7sy5IS7nJsGKFuWLMsypnB/TCSlDDQKqzKETkMfWD53sgdRx0+qduKbkX6Hnu22Jk9+tKWBGvooAFQS1DTOqU1um44FfGfwasLLkn7Z29WVFuexnatkb0Pn+n0rWnn3WzrsLBFkG1teU3C5WQYpdoawIqNsuu+f1nPJDqusmCQox5N7xJUHVo2/3n+G5lbk1IWXF3l1+Ik2KGYHTP25MeCxMiSFj/+S1PGNB49BI7TPqlFlCrdq1/z+rvKyGFEyUFUsyVupNJEJPmgxRlKQc2PuGZwjoyN3ynqJ16TGA1Qblz9bhlHicPKqNZqqo2zQ8Fw1QDpyTEpNn4esc6D2jNCy7PG88efPMhMdq70eOI+D/cGbHorr8vl0D7CTMgquIVMACCGpGUE/qWJWZd9ufYrwXdKMDI/Ql7o2Hd3u2mQb3Bzkc+r8yUUgnAAuggWFtO+rJn4WBwk56chqrr+pEF5U4wkXHpiVeW5Xr2rrlNwpp7LV1X548Th7a/UJCbdj9+Td7VKk9b2c8FrH7Lw1idck/rhT1mKNGgojjX4JZ/idF9m/xPB7FSIlXfIho6FomWRdcWvOaMVD230OW3JuxMprG+bZ7H/D4DbgR3EV8nV6F+5klym8yhvq1iePuLHsfFv3Ez+fU2WOU61Ldl0mNYIIh6r1XZQS34XKXMuIQYgbsM3m1wG+2RatjRpspNsWKjS7kj67oZCzwDFCs9Rfk3+RYYDrtuZHT7ftq/boW3FqodX6JI2iTZcSe6erho7vPxXn7XBMgxqJoE6saVlQMqumCUYyz5XCUbXACL+dB8KySqYgpwU51r98gDPfj2I/93sYn3bOg6y47xlovaaR+1b55XJjnY0La1slstaLChGNhkQRvo9tycHZ/9rfK5cOXhHS97XBXJ1irHrmlsk68XdZaWEYMpnAiy/Y+fifzwL7glgPWr74ntI+4vrPG4ZfHdnBhV2z/oivs2/E588IclWYjd8WfBjtM61/d3zpE+uVAHOXbLwisVocZW5XPjStCJ3VG33XtGYMDtuA66MjQouka4zmjPke7z8Eifb4JEdoDy4t3yDFF3soQnv9SO0UyMTUd73in4b9wwlhau9BrXJrGBGibPM+y5SoiXDrzxgBjc/Jzv1grEvFh5mnvN89kA3y1MbJsofCZMUxXiVuND/nAh1MhtI0Ad9PoH33rY893UzzxZPfsQcjotEaAGQVrMuUp4Hiac8YOGwmBBNT+I0AIOjgMUVEUhGuacof2z45RnRzhdbwzxYp4eAb/DZwoE1bJCOyrCgtwpMLw+kkval7Z5pp2cXamqqSil++/brD0+jQ3U7ieuVQIaRQoa/hY/Tt6kO1nCOUBhfLTf8/7Nx1+o/bM71+eeLgKIsoSOD7SAJcj1aupbxZjYPsmF/Ubm08/+jidFD+2E9Xr0Ygit0D4IOVQ9VFA5Igy83GqaH327ah9Moft1FwxzlivnXLUysmAc7orDG5DkrKrzqdr/VK4cU7gYlmq7vvSshEC1LQSwyDI7PnJX3sPzEQ759UBTPnK2533wN5hxwIAOU0yYD3VDivZEb+enuOpVaQU1KPFDx3IlAMCXHzRVkxu3mSAA23bu95Q3GLpzdMUqNZ9wuXf50o7Z/YRdsH43hW93O3EGlt8NLZdX9darsrSDinlSVeIHINKd+OF3gIKpQq/i3GC5IMHdsNVZtd6Om9I9yY9uO8iF0e71HSfnhVWaSeu8vGdg9b/919jqVaVU9EYhZf13ewDgWQ3R1LXCCYK+kKB5x3IJbeOGT66326Pw3MFQ1lUXXO4BG3E6YlU/tZ/3EzHr0j9JAHNdXM662D91bfNlPi7CsqDt39ia4k6KORKC6dn3r2UwBTd1L4nKpcpTr4/Vpeo7nsx+gZ47tK7ZSHfF4LJ37R3egc+qm2TiTO7UHf4NV5vU9vZzsV06yBDQlTu9Wu4Sb9jxAhxetX+q0NW0sseoe9fcrowJdX4QP/dwT+MkIQxAUrJn4DORdieTpXPU+onrlLEtUvrCTvWpZiaCIHXnAkiQahu17vPXAuqgaxJYd+JH4Bdv8AEPQTMYqsGezAP44AWZ/OyEArj53QMYPM+BNSgMKFSIf1WQQqieolORg6qqX4+4q1xFG3DAQyEjXVOkOk7HgdDZsyQn520QVVtP8Dxk8efL1A8jvAduDvfWk1xX113iJ/IY9eCbD3oeQ85iuYSuLcx0lYkhgJW6y98QJhJckNgSaBwTIQNiWQy+CsltyC5MBBRZA6SaBlBWEKj4ZUm7UUe6X/V0+ygfU07Vd5wi3SVpaphzuicpuahebgIyAIsZBBR2q+9cZLvgqdmbwhlUISEF2VuAM9+OAI2Q6ndUZOer3KGsoM48WZlOZ7qQJxBlRT7ndeCyWJHq2+Bkq93hOzviOzuhr+BEfNNTpimu5F4d3b8DUU7AL7fiRJXLW2ibYODWtXxV7G0R/aj/8OhkSAxYqjS1+l6oQM21AJBKN8jURexkQIGy2ECxv8f2pXeXBdKqcdQkyz0QdJLOMcp2EsOxowGJ4jLsch8UXMp71zbKWv4zzrvLjms7Yr0/w4Ba2oCqpk6InAx+mZFPaRVixdx4US6j9neL4Z2vFPV6SNMz5cS++Bw1w2rrpciz38l2ubygTUDWkrAt4LHGqOnGds9jqoQKKuR97k78QI9V2bIKAbXoBfK6mQs9o8rBzatIXBFS7UdSGUFVxOpRv2Dzxz7neQwVOKjCNbxrvWf6yG0EBLVIqdZ8nUobVOmOqjKCage1+O7fNb8HV8DBXFRhkHp2llqpuM53Mio+1eKo0PRzb/U8hrVjDqrCS1UvqjHBCxfGdf1O959yrUjJveSairxWmrDXTLW3fvriim4/qxRQi+7+2xSuiq4Me20of8kDdtff4x1E2eFUzKtDle+oECadVbEq9tqUmshbycJ+J9WJI5pPyKsIUIt2Vdm4VsoDK/Iig7b1VquwdURVmifuvWamdftaHdVR58X3eR6T23rff0aW66aOrNzteOhCZaIy0upiOBy3erv+3IEVMsFVsKLMDs5JquZQADE79j+pyulgXb9caXUmuam8YQt4saKzS5ztCu6DCXK3SGBPT+Mx58kqzKafOxqFgyI1b+TDN3yLpAFSVCGkJgDMhM9uKjkNCl8OiuwG3jkTZX9QJwlFIrCNBBn6pcpd1AHJ1KrKyjokSzP2bbV7kN3ykAi/mq65wlaPmubOvK9d09ie5EUASweokcAqa/c/fJG2Y16qLnZrmJotVlzJoMZewx9zgejSqmAkS0UEaTGgRlYfByNZnEaMg17dU1gUVexgSpuc86Gyh6HteYdhAd205Bg1slg1n1SHQ1AVM5iKDdRYYKXopmUbTFFU3KBabD4qLmboqJTxkEYBKl2VMr7rJ6xUbIykTLkQipAyRqUSDWnUoNJVKaNj1Emwus+XoqpPQ9vWRm5cpaxMBYmrVuzyjXZUitISAqaSdLFUdUKq21EJK5WYrp+w0k0TE6MSVkKamMEUYSWkiRn1E1ZCmghQCSshTQyohJWQJgZUwkpIEwMqYU0moGX7zlLV/OGp5JhKig1BJeG7SbFBqCR8J2lDG4ZpggTUWEelu7LtE+OodFcCmihHpbuyjRPjqHRXApo4UAlslfdSKTZ01QGayLZLJ7zR6a5VcmOnK+hLILAV3POkK/RLyRDQylK6wr+oDAElqHRZwklQCS3hrFZQg77oDMEkqASXYBLUMoCSIYwElfEhpdT/BBgAuAPVwuJ0PIEAAAAASUVORK5CYII=",alt:"soajs",width:"35px"})," SOAJS"]})}),Object(E.jsx)(Ia.a.Toggle,{"aria-controls":"main-navbar-nav"}),Object(E.jsx)(Ia.a.Collapse,{id:"main-navbar-nav",className:"justify-content-end",children:Object(E.jsx)(Ua.a,{activeKey:window.location.pathname,children:t?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ma.LinkContainer,{to:"/catalogs",children:Object(E.jsx)(Ua.a.Link,{children:s("soajs:menu.catalogs")})}),Object(E.jsx)(Ma.LinkContainer,{to:"/environments",children:Object(E.jsx)(Ua.a.Link,{children:s("soajs:menu.environments")})}),Object(E.jsx)(Ma.LinkContainer,{to:"/multitenancy",children:Object(E.jsx)(Ua.a.Link,{children:s("soajs:menu.multitenancy")})}),Object(E.jsx)(Ma.LinkContainer,{to:"/reports",children:Object(E.jsx)(Ua.a.Link,{children:s("soajs:menu.reports")})}),Object(E.jsx)(Ma.LinkContainer,{to:"/settings",children:Object(E.jsx)(Ua.a.Link,{children:s("soajs:menu.Manage")})}),Object(E.jsxs)(La.a,{alignRight:!0,title:Xj,id:"collasible-nav2-dropdown",children:[Object(E.jsx)("span",{className:"ml-4 font-weight-bold",children:a}),Object(E.jsx)(La.a.Divider,{}),Object(E.jsx)(Ma.LinkContainer,{to:"/myProfile",children:Object(E.jsx)(La.a.Item,{children:s("menu.profile")})}),Object(E.jsx)(Ma.LinkContainer,{to:"/change-password",children:Object(E.jsx)(La.a.Item,{children:s("menu.changePassword")})}),Object(E.jsx)(Ma.LinkContainer,{to:"/change-email",children:Object(E.jsx)(La.a.Item,{children:s("menu.changeEmail")})}),Object(E.jsx)(La.a.Divider,{}),Object(E.jsx)(La.a.Item,{onClick:n,children:s("menu.logout")})]})]}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(Ma.LinkContainer,{to:"/sign-in",children:Object(E.jsx)(Ua.a.Link,{children:s("menu.login")})})})})})]})},Zj=xe.getService(),$j=Ce.getService(),eu=we.getService(),tu=Te.getService(),au=new k.a,nu=function(){return Object(E.jsx)("div",{className:"App",children:Object(E.jsx)("div",{children:"loading..."})})};var su=function(){var e=Object(w.k)(),t=Object(n.useState)(!0),a=Object(y.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(!1),i=Object(y.a)(c,2),o=i[0],l=i[1],d=Object(n.useState)(),j=Object(y.a)(d,2),u=j[0],m=j[1];function p(){return(p=Object(v.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!1),t.prev=1,t.next=4,$j.logout();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),ie.error(t.t0.message);case 9:Zj.clearToken(),Zj.clearUser(),e.push("/sign-in");case 12:case"end":return t.stop()}}),t,null,[[1,6]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Zj.getAccessToken()){e.next=18;break}return e.prev=2,e.next=5,eu.getUser();case 5:return e.next=7,tu.createUserAbilities(au);case 7:m(Zj.getFirstname()),r(!1),l(!0),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),r(!1),ie.info(e.t0.message);case 16:e.next=19;break;case 18:r(!1);case 19:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),!s&&Object(E.jsxs)(n.Suspense,{fallback:Object(E.jsx)(nu,{}),children:[Object(E.jsx)("div",{className:"pt-1",style:{backgroundColor:"#DE962E"}}),Object(E.jsxs)("div",{className:"App",children:[Object(E.jsx)(Qj,{isAuthenticated:o,firstName:u,handleLogout:function(){return p.apply(this,arguments)}}),Object(E.jsx)("div",{className:"bg-secondary pt-1"}),Object(E.jsxs)(A.Provider,{value:{isAuthenticated:o,userHasAuthenticated:l,setFirstName:m,ability:au},children:[Object(E.jsx)(le,{}),Object(E.jsx)(qj,{})]})]}),Object(E.jsx)("div",{className:"bg-secondary p-1"}),Object(E.jsx)("div",{className:"bg-dark p-2 text-white text-center",children:Object(E.jsxs)("small",{children:[Object(E.jsxs)("a",{className:"text-white",href:"https://www.soajs.org/",children:[Object(E.jsx)(C.d,{})," copyright SOAJS"]})," an ",Object(E.jsx)("a",{className:"text-white",href:"https://lfaidata.foundation/projects/",children:"LFAI project"})]})})]})},ru=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,904)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),r(e),c(e)}))};c.a.render(Object(E.jsx)(i.BrowserRouter,{children:Object(E.jsx)(su,{})}),document.getElementById("root")),ru()},98:function(e){e.exports=JSON.parse('{"type":[{"v":"cluster","l":"Cluster"},{"v":"cdn","l":"CDN"},{"v":"system","l":"System"},{"v":"authorization","l":"Authorization"},{"v":"other","l":"Other"}],"category":{"cluster":[{"v":"mongodb srv","l":"Local/External MongoDB+srv","schema":{"servers":[{"host":""}],"credentials":{"username":"","password":""},"protocol":"mongodb+srv://","URLParam":{"retryWrites":true,"w":"majority","useUnifiedTopology":true}}},{"v":"mongodb","l":"Local/External MongoDB","schema":{"servers":[{"host":"","port":27017},{"host":"","port":27017},{"host":"","port":27017}],"credentials":{"username":"","password":""},"URLParam":{"readPreference":"secondaryPreferred","replicaSet":"console-shard-0","w":"majority","ha":true,"ssl":true,"authSource":"admin","useUnifiedTopology":true},"extraParam":{},"streaming":{}}},{"v":"elasticsearch","l":"Local/External ElasticSearch","schema":{"servers":[{"host":"","port":9200}],"credentials":{"username":"","password":""},"URLParam":{},"extraParam":{}}},{"v":"objectrocket_mongo","l":"Object Rocket - Mongo SAAS","schema":{"servers":[{"host":"","port":27017},{"host":"","port":27017},{"host":"","port":27017}],"credentials":{"username":"","password":""},"URLParam":{"readPreference":"secondaryPreferred","replicaSet":"console-shard-0","w":"majority","ha":true,"ssl":true,"authSource":"admin","useUnifiedTopology":true},"extraParam":{},"streaming":{}}},{"v":"objectrocket_elasticsearch","l":"Object Rocket - ElasticSearch SAAS","schema":{"servers":[{"host":"","port":9200}],"credentials":{"username":"","password":""},"URLParam":{},"extraParam":{}}},{"v":"mysql","l":"MySQL","schema":{"servers":[{"host":"","port":3306}],"credentials":{"username":"","password":""},"properties":{}}},{"v":"sql","l":"SQL","schema":{"servers":[{"host":"","port":1434}],"credentials":{"username":"","password":""},"properties":{}}},{"v":"oracle","l":"Oracle","schema":{"servers":[{"host":"","port":1521}],"credentials":{"username":"","password":""},"properties":{}}},{"v":"other","l":"Other"}],"cdn":[{"v":"amazons3","l":"Amazon S3","schema":{"host":"http://files.parse.com/...","bucket":"my.unique.bucket.name","key":"My Key...","expires":"60","acl":"public-read"}},{"v":"rackspace","l":"Rackspace","schema":{"servers":{"host":"127.0.0.1","port":4000},"credentials":{"username":"Username ...","apiKey":"My API Key..."},"servicenet":true}},{"v":"other","l":"Other"}],"system":[{"v":"other","l":"Other"}],"authorization":[{"v":"basicauth","l":"Basic Auth","schema":{"username":"","password":""}},{"v":"soapbasicauth","l":"SOAP Basic Auth","schema":{"SOAPApi":"","username":"","password":""}},{"v":"digestauth","l":"Digest Auth","schema":{"username":"","password":"","realm":"","nonce":"","algorithm":"","qop":"","noncecount":"","clientnonce":"","opaque":""}},{"v":"oauth1","l":"Oauth 1","schema":{"consumerKey":"","consumerSecret":"","token":"","tokenSecret":"","signatureMethod":"","timestamp":"","nonce":"","version":"","realm":""}},{"v":"oauth2","l":"Oauth 2","schema":{"callbackUrl":"","tokenName":"","authUrl":"","accessTokenUrl":"","clientId":"","clientSecret":"","scope":"","grantType":""}},{"v":"hawkauth","l":"Hawk Auth","schema":{"hawkAuthId":"","hawkAuthKey":"","algorithm":"","user":"","nonce":"","extraData":"","appId":"","delegation":"","timestamp":""}},{"v":"awssignature","l":"AWS Signature","schema":{"username":"","password":""}},{"v":"custom","l":"Custom"}],"other":[{"v":"custom","l":"Custom"}]}}')}},[[840,1,2]]]);
//# sourceMappingURL=main.68ad7beb.chunk.js.map