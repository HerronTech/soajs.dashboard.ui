{"version":3,"sources":["i18n.js","soajs/libs/contextLib.js","soajs/helpers/AuthenticatedRoute.js","soajs/helpers/UnauthenticatedRoute.js","soajs/helpers/LoaderButton.js","soajs/helpers/index.js","soajs/libs/deepSetLib.js","soajs/libs/hooksLib.js","soajs/urac/components/Notifications/Notification.js","soajs/urac/components/Notifications/Notifications.js","soajs/urac/components/Notifications/NotificationManager.js","soajs/urac/components/Notifications/NotificationContainer.js","soajs/urac/components/JsonEditor/index.js","soajs/urac/components/JsonEditor/JsonEditor.js","soajs/urac/components/ThirdPartyLogin/ThirdPartyLogin.js","soajs/urac/components/ThirdPartyLogin/index.js","soajs/urac/services/LocalStorageService.js","config.js","soajs/urac/services/UracService.js","soajs/urac/services/OauthService.js","availableAbilities.js","soajs/urac/services/AbilitiesService.js","soajs/urac/containers/Login.js","soajs/urac/containers/ForgotPassword.js","soajs/urac/containers/ResetPassword.js","soajs/urac/containers/ChangePassword.js","soajs/urac/containers/ChangeEmail.js","soajs/urac/containers/ValidateChangeEmail.js","soajs/urac/containers/MyProfile.js","soajs/urac/containers/Signup.js","soajs/urac/containers/ValidateSignup.js","soajs/urac/containers/ThirdPartyLogin.js","soajs/urac/containers/index.js","images/emmp.png","components/Home/Home.js","components/NoAccess/NoAccess.js","components/NotFound/NotFound.js","services/commonResponse.js","services/Repositories.js","services/Marketplace.js","services/Console.js","services/Multitenant.js","services/Infra.js","services/Soaanalytics.js","services/Soamonitor.js","lib/AutoPagination.js","components/Reports/containers/ApiMetrics/charts/Programs.js","components/Reports/containers/ApiMetrics/charts/Methods.js","components/Reports/containers/ApiMetrics/charts/Groups.js","components/Reports/containers/ApiMetrics/lib/process.js","components/Reports/containers/ApiMetrics/ApiMetrics.js","components/Reports/containers/ApiCatalog/ApiCatalog.js","components/Reports/containers/ApiAcl/ApiAcl.js","soajs/urac/components/JsonModal/index.js","soajs/urac/components/JsonModal/JsonModal.js","components/Reports/containers/ApiMonitor/ApiMonitor.js","components/Reports/containers/ApiAnalytics/ApiAnalytics.js","components/Reports/Routes.js","components/Reports/Navigation.js","components/Reports/Reports.js","components/Catalogs/containers/Template/ConfigureModalGroups.js","components/Catalogs/containers/Template/ConfigureModalEnvironments.js","components/buttons/Delete.js","components/buttons/Add.js","components/Catalogs/containers/Template/ConfigureModalRecipes.js","components/Catalogs/containers/Template/ConfigureModal.js","components/buttons/Edit.js","components/buttons/Gear.js","components/buttons/Detail.js","components/Catalogs/containers/Template/Template.js","components/Catalogs/containers/Template/DeleteModal.js","components/Catalogs/containers/Api/Api.js","components/Catalogs/containers/Custom/Custom.js","components/Catalogs/containers/Resource/EditModal.js","components/Catalogs/containers/Resource/AddModal.js","components/Catalogs/containers/Resource/Resource.js","components/Catalogs/containers/Daemon/Daemon.js","components/Catalogs/containers/Frontend/Frontend.js","components/Catalogs/containers/Config/Config.js","components/buttons/View.js","components/Catalogs/containers/Recipe/Recipe.js","components/Catalogs/containers/SoajsApi/SoajsApi.js","components/Catalogs/containers/SoajsFrontend/SoajsFrontend.js","components/Catalogs/containers/Template/SwaggerUI.js","components/Catalogs/containers/Template/Detail.js","components/buttons/Synchronise.js","components/buttons/TurnOff.js","components/buttons/TurnOn.js","components/Development/containers/Repositories/Repositories.js","components/Catalogs/containers/Recipe/RecipeRW.js","components/Catalogs/containers/Recipe/AddRecipe.js","components/Catalogs/containers/Recipe/EditRecipe.js","components/Catalogs/Routes.js","components/Catalogs/Navigation.js","components/Catalogs/Catalogs.js","components/Settings/containers/Users/DeleteModal.js","components/Settings/containers/Users/InfoModal.js","components/Settings/containers/Users/EditModal.js","components/Settings/containers/Users/AddModal.js","components/Settings/containers/Users/Users.js","components/Settings/containers/Groups/DeleteModal.js","components/Settings/containers/Groups/InfoModal.js","components/Settings/containers/Groups/EditModal.js","components/Settings/containers/Groups/AddModal.js","components/Settings/containers/Groups/Groups.js","components/Settings/containers/Packages/DeleteModal.js","components/Settings/containers/Packages/InfoModal/Ability/Granular.js","components/Settings/containers/Packages/lib/scopeAclLib.js","components/Settings/containers/Packages/InfoModal/Ability/Scope.js","components/Settings/containers/Packages/InfoModal/Ability/InfoModal.js","components/Settings/containers/Packages/InfoModal/API/Granular.js","components/Settings/containers/Packages/InfoModal/API/Scope.js","components/Settings/containers/Packages/InfoModal/API/InfoModal.js","components/Settings/containers/Packages/InfoModal/InfoModal.js","components/Settings/containers/Packages/AddModal.js","components/Settings/containers/Packages/EditModal.js","components/Settings/containers/Packages/AclModal/Granular.js","components/Settings/containers/Packages/AclModal/AclModal.js","components/buttons/Acl.js","components/Settings/containers/Packages/Packages.js","components/Settings/containers/Configuration/Configuration.js","components/Settings/containers/Integration/common/UpdateApplicationModal.js","components/Settings/containers/Integration/common/AddExtKeyModal.js","components/Settings/containers/Integration/common/AddApplicationModal.js","components/Settings/containers/Integration/common/ConfigureExtKeyModal.js","components/Settings/containers/Integration/common/ConfigureKeyModal.js","components/Settings/containers/Integration/common/DeleteModal.js","components/Settings/containers/Integration/common/AddUserModal.js","components/Settings/containers/Integration/common/AddConsoleTenantModal.js","components/Settings/containers/Integration/common/UpdateTenantModal.js","components/Settings/containers/Integration/Integration.js","components/Settings/containers/ContinousDelivery/Configuration.js","components/Settings/containers/ContinousDelivery/AddModal.js","components/Settings/containers/ContinousDelivery/Tokens.js","components/Settings/containers/Notifications/Notifications.js","components/Settings/containers/Infrastructure/ConfigureModalGroups.js","components/Settings/containers/Infrastructure/ConfigureModal.js","components/Settings/containers/Infrastructure/DeleteModal.js","components/Settings/containers/Infrastructure/AddModal.js","components/Settings/containers/Infrastructure/UpdateModal.js","components/Settings/containers/Infrastructure/Infrastructure.js","components/Development/containers/Accounts/AddAccount.js","components/Development/containers/Accounts/UpgradeModal.js","components/Development/containers/Accounts/DeleteModal.js","components/buttons/Upgrade.js","components/Development/containers/Accounts/Accounts.js","components/Settings/Routes.js","components/Settings/Navigation.js","components/Settings/Settings.js","components/Development/Routes.js","components/Development/Navigation.js","components/Development/Development.js","components/Environments/containers/Settings/Manual.js","components/Environments/containers/Settings/NamespaceModal.js","components/Environments/containers/Settings/Container.js","components/Environments/containers/Settings/ConfigureModalGroups.js","components/Environments/containers/Settings/ConfigureModal.js","components/Environments/containers/Settings/DeleteModal.js","components/Environments/containers/Settings/Settings.js","components/Environments/containers/Cluster/Rbac/Rbac.js","components/Environments/containers/catalog/common/container/modals/JsonModal.js","components/Environments/containers/catalog/common/container/Nodes.js","components/Environments/containers/Cluster/Nodes/Nodes.js","components/Environments/containers/catalog/common/container/modals/LogModal.js","components/Environments/containers/catalog/common/container/modals/ExecModal.js","components/Environments/containers/catalog/common/container/modals/MetricsModal.js","components/Environments/containers/catalog/common/container/modals/DeleteModal.js","components/Environments/containers/catalog/common/container/modals/EditModal.js","components/Environments/containers/catalog/common/container/Pods.js","components/Environments/containers/catalog/common/container/Deployments.js","components/Environments/containers/catalog/common/container/Daemonsets.js","components/Environments/containers/catalog/common/container/Cronjobs.js","components/Environments/containers/catalog/common/container/Hpas.js","components/Environments/containers/catalog/common/container/modals/AddModal.js","components/Environments/containers/Cluster/Workloads/Workloads.js","components/Environments/containers/catalog/common/container/Services.js","components/Environments/containers/Cluster/Services/Services.js","components/Environments/containers/catalog/common/container/PVC.js","components/Environments/containers/catalog/common/container/PV.js","components/Environments/containers/catalog/common/container/StorageClass.js","components/Environments/containers/Cluster/Storage/Storage.js","components/Environments/containers/catalog/common/container/ConfigMaps.js","components/Environments/containers/catalog/common/container/Secrets.js","components/Environments/containers/catalog/common/container/modals/AddSecretWizardModal.js","components/buttons/AddWizard.js","components/Environments/containers/Cluster/Configuration/Configuration.js","components/Environments/containers/Cluster/Routes.js","components/Environments/containers/Cluster/Cluster.js","components/Environments/containers/Registry/DefaultView.js","components/Environments/containers/Registry/DefaultEdit.js","components/Environments/containers/Registry/Awareness.js","components/Environments/containers/Registry/Resource/ConfigureModalGroups.js","components/Environments/containers/Registry/Resource/ConfigureModal.js","components/Environments/containers/Registry/Resource/DeleteModal.js","components/Environments/containers/Registry/Resource/AddModal.js","components/Environments/containers/Registry/Resource/UpdateModal.js","components/Environments/containers/Registry/Resource/Resource.js","components/Environments/containers/Registry/Custom/ConfigureModalGroups.js","components/Environments/containers/Registry/Custom/ConfigureModal.js","components/Environments/containers/Registry/Custom/DeleteModal.js","components/Environments/containers/Registry/Custom/AddModal.js","components/Environments/containers/Registry/Custom/UpdateModal.js","components/Environments/containers/Registry/Custom/Custom.js","components/Environments/containers/Registry/DatabasesDeleteModal.js","components/Environments/containers/Registry/DatabasesAddModal.js","components/Environments/containers/Registry/Databases.js","components/Environments/containers/Registry/ThrottlingAddModal.js","components/Environments/containers/Registry/Throttling.js","components/buttons/Close.js","components/Environments/containers/Registry/Registry.js","components/Environments/containers/Workspace/AddModal.js","components/Environments/containers/Workspace/DeleteModal.js","components/Environments/containers/Workspace/UpdateModal.js","components/Environments/containers/Workspace/Workspace.js","components/Environments/containers/Add/Add.js","components/Environments/containers/catalog/Template/Template.js","components/Environments/containers/catalog/common/ManualHeader.js","components/Environments/containers/catalog/common/modal/JsonModal.js","components/Environments/containers/catalog/common/MaintenanceOperation.js","components/Environments/containers/catalog/common/ManualDetails.js","components/Environments/containers/catalog/common/modal/DeleteModal.js","components/Environments/containers/catalog/common/modal/getTemplate.js","components/Environments/containers/catalog/common/modal/RedeployModal.js","components/Environments/containers/catalog/common/modal/ConfigureModal.js","components/Environments/containers/catalog/common/ServiceOperation.js","components/Environments/containers/catalog/common/ContainerDetails.js","components/Environments/containers/catalog/soajs/Api/Api.js","components/Environments/containers/catalog/soajs/Frontend/Frontend.js","components/Environments/containers/catalog/Api/Api.js","components/Environments/containers/catalog/Daemon/Daemon.js","components/Environments/containers/catalog/Frontend/Frontend.js","components/Environments/containers/catalog/Custom/Custom.js","components/Environments/containers/catalog/Resource/Resource.js","components/Environments/Routes.js","components/Environments/Navigation.js","components/Environments/Environments.js","components/buttons/Uninvite.js","components/buttons/Password.js","components/Multitenancy/containers/Users/containers/User/InfoModal.js","components/Multitenancy/containers/Users/containers/User/AddModal.js","components/Multitenancy/containers/Users/containers/User/UninviteModal.js","components/Multitenancy/containers/Users/containers/User/DeleteModal.js","components/Multitenancy/containers/Users/containers/User/InviteModal.js","components/Multitenancy/containers/Users/containers/User/PasswordModal.js","components/Multitenancy/containers/Users/containers/User/EditModal.js","components/Multitenancy/containers/Users/containers/TenantUsers.js","components/Multitenancy/containers/Users/containers/Group/InfoModal.js","components/Multitenancy/containers/Users/containers/Group/DeleteModal.js","components/Multitenancy/containers/Users/containers/TenantGroups.js","components/Multitenancy/containers/Users/Users.js","components/Multitenancy/containers/Products/DeleteModal.js","components/Multitenancy/containers/Products/AddModal.js","components/Multitenancy/containers/Products/UpdateModal.js","components/Multitenancy/containers/Products/AddPackageModal.js","components/Multitenancy/containers/Products/UpdatePackageModal.js","components/Multitenancy/containers/Products/Products.js","components/Multitenancy/containers/Products/PackageAcl.js","components/Multitenancy/containers/tenants/common/DeleteModal.js","components/Multitenancy/containers/tenants/common/ConfigureKeyModal.js","components/Multitenancy/containers/tenants/common/ConfigureExtKeyModal.js","components/Multitenancy/containers/tenants/common/OauthModal.js","components/Multitenancy/containers/tenants/common/AddTenantModal.js","components/Multitenancy/containers/tenants/common/AddApplicationModal.js","components/Multitenancy/containers/tenants/common/AddExtKeyModal.js","components/Multitenancy/containers/tenants/common/UpdateTenantModal.js","components/Multitenancy/containers/tenants/common/UpdateApplicationModal.js","components/Multitenancy/containers/tenants/Main/Main.js","components/Multitenancy/containers/tenants/Sub/Sub.js","components/Multitenancy/Routes.js","components/Multitenancy/Navigation.js","components/Multitenancy/Multitenancy.js","Routes.js","soajs/libs/Interceptors.js","lib/getGravatarUrl.js","Navigation.js","favicon.png","App.js","reportWebVitals.js","index.js"],"names":["i18n","use","LanguageDetector","initReactI18next","init","fallbackLng","debug","interpolation","escapeValue","resources","EN","common","common_en","urac","urac_en","organization","organization_en","soajs","soajs_en","FR","common_fr","urac_fr","organization_fr","soajs_fr","AppContext","createContext","createContextualCan","Consumer","useAppContext","useContext","AuthenticatedRoute","children","rest","useLocation","pathname","search","isAuthenticated","allowed","ability","cannot","path","to","UnauthenticatedRoute","redirect","name","url","window","location","href","replace","results","RegExp","exec","decodeURIComponent","querystring","LoaderButton","isLoading","className","disabled","props","Button","deepSet","obj","is","value","split","length","undefined","slice","useFormFields","initialState","useState","fields","setValues","event","target","id","newState","result","_","merge","Notification","componentDidMount","timeOut","timer","setTimeout","requestHide","componentWillUnmount","clearTimeout","handleClick","onClick","onRequestHide","this","type","message","title","classnames","role","React","Component","defaultProps","EntryContainer","nodeRef","useRef","CSSTransition","ref","Notifications","handleRequestHide","notification","notifications","enterTimeout","leaveTimeout","items","map","i","key","Date","getTime","classNames","timeout","enter","exit","TransitionGroup","Constants","listNotify","notify","defaultNotify","c","r","Math","random","toString","priority","unshift","Object","assign","push","emitChange","create","filter","n","emit","callback","addListener","removeListener","EventEmitter","NotificationContainer","state","NotificationManager","addChangeListener","handleStoreChange","removeChangeListener","setState","remove","JsonEditor","options","templates","mode","modes","onChangeJSON","onChange","jeditor","get","e","_jsoneditor","container","set","json","destroy","update","elem","ThirdPartyLogin","strategies","isThirdParty","onRequest","strategy","block","size","variant","Jumbotron","LocalStorageService","_service","getService","setUserKeyACL","acl","index","acl_cached","localStorage","getItem","JSON","parse","setItem","stringify","getUserKeyACL","setToken","tokenObj","access_token","refresh_token","getAccessToken","getRefreshToken","clearToken","removeItem","clearUser","setUsername","username","getUsername","setUserid","getUserid","setFirstrname","firstname","getFirstname","setEmail","getEmail","config","localStorageService","UracService","changePassword","password","newPassword","confirmNewPassword","userid","axios","put","then","res","data","Promise","resolve","reject","Error","catch","forgotPassword","changeEmail","email","signup","post","firstName","lastName","error","response","errors","codes","includes","updateMyProfile","profile","record","getUser","user","gravatar","_id","getUserId","extKey","opt","getUsersId","ids","validateJoin","token","emailToken","resetPassword","validateChangeEmail","getUserACL","forceLoad","cacheIndex","substr","getUsers","scope","criteria","headers","params","keywords","limit","start","getUsersCount","getGroup","getGroups","deleteGroup","delete","deleteUser","addUser","groups","editUser","updateUser","status","editGroup","group","description","packages","addGroup","code","checkIfUserExist","uninviteUserProxy","tenant","env","toLowerCase","failed","Array","isArray","reason","inviteUserProxy","indexOf","Config","alreadyInvited","addUserTenantProxy","phone","deleteUserProxy","editUseProxy","changeUserPasswordProxy","deleteGroupProxy","getUsersProxy","getGroupsProxy","getUsersCountProxy","getUsersProxy_v2","tenantId","getGroupsProxy_v2","OauthService","login","logout","availableLogin","thirdPartyLogin","validateThirdPartyLogin","access","APIs","uracService","updateAbility","a","AbilityBuilder","can","rules","userACL","finalACL","abilityAdded","abilities","services","keys","allAPiAvailable","versions","apisPermission","methods","j","apis","k","enableThisAbility","l","I","A","console","log","M","AbilitiesService","createUserAbilities","on","updateUserAbilities","oauthService","abilitiesService","Login","t","useTranslation","userHasAuthenticated","setFirstName","setIsLoading","setIsThirdParty","loginOptions","setLoginOptions","handleFieldChange","preventDefault","apiSettings","apiEndpoint","api","useEffect","isSubscribed","onLoad","Form","onSubmit","Group","controlId","Label","Control","autoFocus","Text","muted","thirdparty","ForgotPassword","success","ResetPassword","history","useHistory","URLSearchParams","handleSubmit","ChangePassword","ChangeEmail","newEmail","confirmNewEmail","ValidateChangeEmail","validating","setValidating","validatingMsg","setValidatingMsg","valid","warning","MyProfile","setFields","readOnly","Signup","confirmPassword","ValidateSignup","useParams","thirdPartyParams","confirmationMsg","setConfirmationMsg","Home","style","Alert","Badge","Card","bg","Header","Body","Row","Col","alt","src","Emmp","NoAccess","NotFound","response_then","errorMsg","response_catch","msg","details","resolveErrorResponse","RepositoriesService","getGitBranch","getGitAccount","getGitAccounts","getRepositories","addGitAccount","deleteGitAccount","syncGitAccount","upgradeGitAccount","deleteRepository","owner","provider","turnOnRepository","turnOffRepository","syncRepository","turnOnBranch","branch","turnOffBranch","syncBranch","turnOnTag","tag","turnOffTag","getTag","getTags","count","MarketplaceService","getItems","subType","getRecipes","getRecipesByIds","updateSettingsGroups","updateSettingsRecipes","recipes","updateSettingsEnvironments","environments","itemMaintenance","qs","version","operation","port","addRecipe","updateRecipe","redeploy","imageTag","image","commit","from","deleteConfigure","configure","build","addResource","deleteItem","ConsoleService","userId","uid","getLedger","skip","getThrottlingRegistry","getCustomRegistry","getResourceRegistry","getEnvironments","getEnvironment","getEnvironmentSettings","saveEnvironmentAcl","deleteEnvironmentAcl","getRegistryDeployer","updateEnvironmentNamespace","namespace","getRegistry","addEnvironment","settings","deleteEnvironment","deleteCustomRegistry","saveCustomRegistryAcl","deleteCustomRegistryAcl","deleteResourceRegistry","saveResourceRegistryAcl","deleteResourceRegistryAcl","unplugPlugCustom","plugged","unplugPlugResource","addCustom","updateCustom","updateResource","updateRegistry","updateDBPrefix","addDB","deleteDB","updateThrottling","getCollections","addCollection","updateCollectionApis","addCollectionApi","updateCollectionApi","apiId","deleteCollection","updateCollection","deleteCollectionApi","fetchProxy","MultitenantService","getMyConsoleProduct","getProduct","getProducts","getTenants","category","getTenantSubTenants","editConsolepackage","addConsolepackage","deleteConsolepackage","editConsolePackageAclEnv","deleteTenant","deleteTenantApplication","deleteTenantApplicationKey","deleteTenantApplicationKeyExt","addTenant","addTenantApplicationKey","addApplication","addTenantExtKey","addProduct","updateProduct","deleteProduct","addPackage","updatePackage","deletePackage","updateTenant","updateApplication","updateTenantApplicationKey","updateTenantApplicationExtKey","updateTenantOauth","updatePackageAcl","getMyConsoleTenant","updateTenantConsoleApplicationKey","getConsoleTenants","getConsoleProducts","updateConsoleTenant","deleteConsoleTenant","addConsoleTenant","updateConsoleApplication","updateTenantConsoleApplicationExtKey","addTenantConsoleApplicationKey","addConsoleApplication","addTenantConsoleExtKey","deleteTenantConsoleApplication","deleteTenantConsoleApplicationKey","deleteTenantConsoleApplicationKeyExt","_getByType","continue","_updateByType","body","_addByType","_deleteByType","addSecretRegistryWizard","content","addSecretWizard","getStorage","getServices","getClusters","getWorkloads","getConfigurations","inspect","item","getManualAwareness","getNamespaces","getInfraAccounts","deleteInfraAccount","saveInfraAccountAcl","deleteInfraAccountAcl","addInfraAccount","label","ca","configuration","updateInfraAccount","podExec","commands","processResult","podLog","restart","keepService","addWorkload","updateWorkload","deleteWorkload","_deletePod","addService","updateService","deleteService","addConfiguration","deleteConfiguration","updateConfiguration","addStorage","updateStorage","deleteStorage","getCDTokens","deleteCDToken","updateCDToken","addToken","SoaanalyticsService","getApis","getDashboardApis","getDashboardServices","getAPIACLUsage","getAPIACLUsageTenants","SoamonitorService","getMonitorItems","consoleEnvironment","proxyRoute","getMonitorAnalytics","AutoPagination","currentPage","totalItems","maxSize","itemsPerPage","numberOfPages","ceil","pages","floor","clicked","p","Pagination","First","Prev","Ellipsis","_o","_i","Item","active","Next","Last","myPatterns","datum","ProgramsChart","margin","top","right","bottom","left","innerRadius","padAngle","cornerRadius","colors","scheme","borderWidth","borderColor","modifiers","radialLabelsSkipAngle","radialLabelsTextColor","radialLabelsLinkColor","sliceLabel","sliceLabelsSkipAngle","arcLinkLabelsSkipAngle","sliceLabelsTextColor","defs","background","color","padding","stagger","rotation","lineWidth","spacing","fill","match","d","legends","myColors","MethodsChart","myColor","anchor","direction","justify","translateX","translateY","itemsSpacing","itemWidth","itemHeight","itemTextColor","itemDirection","itemOpacity","symbolSize","symbolShape","effects","GroupsChart","indexBy","layout","valueScale","indexScale","round","axisTop","axisRight","labelSkipWidth","labelSkipHeight","enableGridX","enableGridY","labelTextColor","animate","motionStiffness","motionDamping","_methods","process","holder","_d1","_d2","g","hasOwnProperty","_d3","m","v","sumMethods","program","programs","uniqWith","arrVal","othVal","serviceName","_process","soaanalyticsService","CustomToggle","eventKey","decoratedOnClick","useAccordionToggle","initCriteria","setPagination","setFacets","includeSOAJS","serviceGroup","tags","attributes","dataProcessed","ApiMetrics","activeKey","setActiveKey","facets","setCurrentPage","setCriteria","pagination","handleCriteriaChange","checked","page","handleSearch","xs","placeholder","as","defaultValue","Check","defaultChecked","Accordion","Collapse","CardDeck","pullAll","onChangeProgram","onChangeTag","attribute","onChangeAttribute","Table","responsive","striped","hover","srv","join","reLoad","methodVariant","getMethodVariant","method","route","serviceVersion","records","ApiCatalog","toUpperCase","ApiAcl","selectedAPI","setSelectedAPI","usage","setUsage","usageTenants","setUsageTenants","keyword","md","getACLUsage","service","rec","found_in_scope","envs","found_in_package","pack","getACLUsageTenants","tenants","ten","applications","app","package","JsonModal","modalOpt","setModalOpt","handleClose","Modal","show","onHide","animation","closeButton","Title","Footer","consoleService","soamonitorService","multitenantService","getTenantsExtKey","extKeys","_extKeys","getTenantExtKey","forEach","oneApp","oneKey","oneExt","product","substring","ApiMonitor","setItems","setEnvironments","selectedEnv","setSelectedEnv","selectedMsg","setSelected","tenantKeys","setTenantKeys","tenantKey","setTenantKey","showJson","input","modalOptShow","extkey","threshold","dateFrom","dates","dateTo","_environments","DropdownButton","Dropdown","handleSelectEnv","tenantExtKey","min","parseInt","selected","dp","toISOString","time","total","ts","application","query","ApiAnalytics","itemsApi","setItemsApi","itemsService","setItemsService","itemsUser","setItemsUser","itemsTenant","setItemsTenant","filters","tenantCode","year","month","day","y","getFullYear","getMonth","getDate","max_time_total","min_time_total","tenant_id","tenant_code","urac_id","urac_username","urac_email","Routes","rootPath","render","Navigation","Navbar","collapseOnSelect","expand","Toggle","aria-controls","Nav","NavDropdown","Reports","Container","marketplaceService","ConfigureModalGroups","handleAction","setGroups","whitelistBlacklist","what","_groups","oo","onChangeGroup","ConfigureModalEnvironments","onChangeEnvironment","Delete","OverlayTrigger","placement","overlay","Tooltip","Add","setRecipes","_recipes","ConfigureModalRecipes","recipesAllowed","setRecipesAllowed","_recipesAllowed","_res","column","subtype","recipe","pullAllBy","removeRecipeFromAllow","addRecipeToAllow","reload","ConfigureModal","handleAfterSubmit","Tabs","defaultActiveKey","Tab","turnOffRecipesConfiguration","Edit","Gear","Detail","Template","Children","addItem","editItem","lg","xl","handleModalShow","uri","handleDetailShow","borderBottom","_O","_I","lastSync","branches","DeleteModal","Details","Api","deleteModalOpt","setDeleteModalOpt","cb","handleDeleteShow","Custom","EditResourceModal","fieldsInit","_json_soa","AddResourceModal","readme","release","soa","rows","validateForm","Resource","addModalOpt","setAddModalOpt","updateModalOpt","setUpdateModalOpt","handleUpdateShow","Daemon","Frontend","View","Recipe","locked","SoajsApi","SoajsFrontend","SwaggerUI","SwaggerUi","dom_id","spec","presets","prevProps","ver","localVer","Swagger","swagger","Readme","documentation","Release","metadata","ListGroup","ListGroupItem","requestTimeout","requestTimeoutRenewal","_ver","Synchronise","TurnOff","TurnOn","repositoriesService","Branches","synBranch","border","Tags","repository","showTagsFor","showTagsForList","searchTag","OnMsgModal","onModalOpt","setOnModalOpt","opts","textSearch","leaf","repositories","Repositories","setShowTagsFor","setShowTagsForList","source","showOnMsgModal","onTabSelect","tagList","findIndex","concat","onSelect","T","_json_readiness","_json_liveness","_json_securityContext","_json_voluming","_json_ports","_json_labels","_json_execCommands","RecipeRW","starterFields","itemId","itemModel","deployOptions","readinessProbe","liveinessProbe","securityContext","voluming","ports","labels","execCommands","buildOptions","default","fieldMsg","secret","cmd","deploy","args","command","handleFieldEnvChange","getVolume","kubernetes","prefix","repositoryType","pullPolicy","shell","override","binary","trim","envModel","splice","deleteEnvEntry","computeVaribales","_examples","livenessProbe","deletePortEntry","port_onChange","deleteVolumeEntry","voluming_onChange","AddRecipe","EditRecipe","pod","o","alignRight","Catalogs","timestamp","dateStr","date","InfoModal","lastLogin","EditModal","groupsFields","setGroupsFields","_g","_item","sm","pull","initFields","AddModal","groupFields","setGroupFields","users","usersCount","Users","modalInfoOpt","setModalInfoOpt","modalDeleteOpt","setModalDeleteOpt","modalEditOpt","setModalEditOpt","modalAddOpt","setModalAddOpt","nowrap","productFields","setProductFields","allowedPackages","packCode","prodCode","setMyProduct","Groups","myProduct","DisplayAbility","apiAbility","available","isPublic","Granular","abilityPath","convert_scope_method_acl","tempScopeCursor","ACL","apisRegExp","getACL","tempScope","tempPack","tempPackCursor","found_methods_in_package","apigroup","Scope","AbilitiesLabels","aclTypeByEnv","getApiAccess","setFSelectedEnv","selected_env","_config","turnOffAbilityView","viewMode","_TTL","addAbility","removeAbility","getAllServiceAbilitiesAcl","AclModal","initialized","setInitialized","Acl","Packages","modalAclOpt","setModalAclOpt","modalInfoOptShow","convertedPack","initializeACL","appId","Configuration","UpdateApplicationModal","AddExtKeyModal","expDate","device","geo","AddApplicationModal","setPackages","products","setProducts","response_console","allProducts","productCode","packageCode","ConfigureExtKeyModal","extKeyEnv","ConfigureKeyModal","envCode","configAllEnv","AddUserModal","AddConsoleTenantModal","UpdateTenantModal","getTenantLabel","Integration","setUsers","modalAddUserOpt","setModalAddUserOpt","modalDeleteOptShow","modalKeyConfigurationOpt","setModalKeyConfigurationOpt","modalExtKeyConfigurationOpt","setModalExtKeyConfigurationOpt","modalAddApplicationOpt","setModalAddApplicationOpt","modalAddExtKeyOpt","setModalAddExtKeyOpt","modalUpdateApplicationOpt","setModalUpdateApplicationOpt","modalUpdateTenantOpt","setModalUpdateTenantOpt","modalAddConsoleTenantOpt","setModalAddConsoleTenantOpt","fetchUsers","appRec","keyRec","extKeyRec","oauth","loginMode","infraService","InfraService","Tokens","updateToken","deleteToken","getHours","getMinutes","getSeconds","section","action","locator","output","who","isGroupSelected","_json","UpdateModal","_ca","Infrastructure","deployments","_GITHUB_","_BITBUCKET_","_BITBUCKET_ENT_","_PERSONAL_","_PUBLIC_","_PRIVATE_","AddAccount","fieldProvider","setFieldProvider","fieldAccessType","setFieldAccessType","fieldDomain","setFieldDomain","consumerKey","consumerSecret","accountType","Provider","icon","UpgradeModal","modalFields","setModalFields","Upgrade","Organizations","organizations","gitAccounts","Accounts","syncAccount","domain","Settings","Development","Manual","environment","deployer","manual","nodes","NamespaceModal","namespaces","setNamespaces","ns","setSettings","Rbac","Nodes","creationTimestamp","setMode","remainingItemCount","LogModal","logResponse","setLogResponse","ExecModal","execResponse","setExecResponse","MetricsModal","getLastValidStatus","lastValidStatus","conditions","oneCond","d_set","lastTransitionTime","Pods","logModalOpt","setLogModalOpt","execModalOpt","setExecModalOpt","metricsModalOpt","setMetricsModalOpt","kind","phase","Deployments","Daemonsets","Cronjobs","Hpas","Workloads","Services","PVC","PV","StorageClass","Storage","ConfigMaps","Secrets","initModel","AddSecretWizardModal","server","text","file","required","File","files","fileReader","FileReader","onloadend","readAsText","AddWizard","modalAddWizardOpt","setModalAddWizardOpt","Cluster","DefaultViewRegistry","registry","protocol","apiPrefix","minWidth","awareness","cacheTTL","healthCheckInterval","autoRelaodRegistry","maxLogCount","autoRegisterService","cors","enabled","credentials","origin","maxage","controller","authorization","maintenanceInc","randomInc","logger","grants","getUserFromToken","accessTokenLifetime","refreshTokenLifetime","DefaultEditRegistry","handleFieldChangeBoolean","sitePrefix","Awareness","created","jsonFields","setJsonFields","sharedEnvs","setSharedEnvs","handleSharedEnvsChange","_sharedEnvs","shared","_sharedEns","_data","schema","handleCategoryChange","reloadClusters","plugUnplug","valueText","DatabasesDeleteModal","DatabasesAddModal","clusters","cluster","tenantSpecific","prefixFieldInit","Databases","prefixField","setPrefixField","dbs","databases","db","ThrottlingAddModal","retries","delay","Throttling","publicAPIStrategy","privateAPIStrategy","deleteThrottling","Close","setRegistry","Registry","registryDefaultEdit","setRegistryDefaultEdit","itemInit","setCollections","collections","temp","find","element","collection","Workspace","modalUpdateOpt","setModalUpdateOpt","JsonEditor_onChange","doNotSetItem","onSortEnd","oldIndex","newIndex","tempItems","arrayMoveImmutable","selectItem","entries","responseType","itemIndex","DragHandle","sortableHandle","SortableItem","sortableElement","SortableContainer","sortableContainer","reloadAPI","modalUpdateOptShow","useDragHandle","accounts","setAccounts","ip","acc","reloadItem","deactivate","ManualHeader","manualAwareness","add2Header","healthy","selectedPod","setSelectedPod","MaintenanceOperation","itemName","itemType","handleMaintenance","maintenance","readiness","ManualDetails","host","getSourcesFromConfiguration","imagePrefix","imageName","registrySecret","imageRegistrySecret","getSourcesFromContainer","template","containers","getTemplate","daemonsets","cronjobs","jobTemplate","getLastCommit","itemSrc","repo","RedeployModal","inspectInfo","configInfo","deployConfiguration","srcType","availableSrc","processAndAutoFill","recipeID","allowedRecipies","getRecipeFromAllowed","repoId","recipeId","branchOrTag","cd","memory","replicas","concurrencyPolicy","schedule","restartPolicy","portType","showPortType","isPublished","values","published","_keywords","getRecipeIDFromTemplate","wizardStep","setWizardStep","handleFieldPortChange","castedValue","buildConfigureData","recipeIDs","configRecipeID","deployRecipeID","itemSettings","union","selectRecipe","deployed","ServiceOperation","modalRedeployOpt","setModalRedeployOpt","modalDeployOpt","setModalDeployOpt","modalDeployOptShow","Divider","setInspect","setDeployed","setKind","setName","ContainerDetails","setInspected","hpas","pods","getDeployConfiguration","deployment","setManualAwareness","setEnvironment","setUri","Brand","setClusters","_clusters","Environments","Uninvite","Password","allowedTenants","_fields","UninviteModal","InviteModal","PasswordModal","PrintGroups","getTenantGroups","userv2","TenantUsers","modalUninviteOpt","setModalUninviteOpt","modalInviteOpt","setModalInviteOpt","modalPasswordOpt","setModalPasswordOpt","fetch","_products","groupId","TenantGroups","criteriaModel","mainTenantItems","setMainTenantItems","subTenantItems","setSubTenantItems","keywords_mainTenant","reLoad_SubTenant","mainTenant","keywords_subTenant","reset","subTenant","tenantType","_type","AddPackageModal","UpdatePackageModal","Products","modalUpdateProductOpt","setModalUpdateProductOpt","modalAddProductOpt","setModalAddProductOpt","modalUpdatePackageOpt","setModalUpdatePackageOpt","modalAddPackageOpt","setModalAddPackageOpt","isApiAdded","fieldsPackage","onLoadApi","setFieldsApi","setFieldsPackage","setFieldsEnvironments","PackageAcl","fieldsEnvironments","fieldsApi","reLoadApi","addAPI","apiGroup","tabClassName","removeAPI","updateAPI","OauthModal","oauthType","AddTenantModal","mainTenantName","Main","modalOauthOpt","setModalOauthOpt","modalAddTenantOpt","setModalAddTenantOpt","modalAddTenantOptShow","Sub","Multitenancy","exact","interceptors","request","noToken","originalRequest","_retry","badTokenMessages","refreshToken","getGravatarUrl","emailHash","md5","getIcon","width","height","handleLogout","gravatar_url","Link","Ability","Loader","App","isAuthenticating","setIsAuthenticating","info","fallback","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.079481c3.chunk.js","sourcesContent":["import i18n from 'i18next';\nimport {initReactI18next} from 'react-i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\nimport common_fr from \"./translations/fr/common.json\";\nimport common_en from \"./translations/en/common.json\";\nimport urac_en from \"./translations/en/urac.json\";\nimport urac_fr from \"./translations/fr/urac.json\";\nimport organization_en from \"./translations/en/organization.json\";\nimport organization_fr from \"./translations/fr/organization.json\";\nimport soajs_en from \"./translations/en/soajs.json\";\nimport soajs_fr from \"./translations/fr/soajs.json\";\n\ni18n\n\t.use(LanguageDetector)\n\t.use(initReactI18next)\n\t.init({\n\t\tfallbackLng: 'EN',\n\t\tdebug: false,\n\t\tinterpolation: {\n\t\t\tescapeValue: false,\n\t\t},\n\t\tresources: {\n\t\t\tEN: {\n\t\t\t\tcommon: common_en,\n\t\t\t\turac: urac_en,\n\t\t\t\torganization: organization_en,\n\t\t\t\tsoajs: soajs_en,\n\t\t\t},\n\t\t\tFR: {\n\t\t\t\tcommon: common_fr,\n\t\t\t\turac: urac_fr,\n\t\t\t\torganization: organization_fr,\n\t\t\t\tsoajs: soajs_fr,\n\t\t\t}\n\t\t}\n\t});\n\n\nexport default i18n;","import { useContext, createContext } from \"react\";\nimport {createContextualCan} from '@casl/react';\n\nexport const AppContext = createContext(null);\nexport const Can = createContextualCan(AppContext.Consumer);\nexport function useAppContext() {\n\treturn useContext(AppContext);\n}","import React from \"react\";\nimport {Redirect, Route, useLocation} from \"react-router-dom\";\nimport {useAppContext} from \"../libs/contextLib\";\n\nexport default function AuthenticatedRoute({children, ...rest}) {\n\tconst {pathname, search} = useLocation();\n\tconst {isAuthenticated} = useAppContext();\n\tlet allowed = true;\n\tif (rest.ability) {\n\t\tif (rest.ability.cannot('route', rest.path)) {\n\t\t\tallowed = false;\n\t\t}\n\t}\n\treturn (\n\t\t<Route {...rest}>\n\t\t\t{isAuthenticated ? (allowed ? (\n\t\t\t\tchildren\n\t\t\t) : (\n\t\t\t\t<Redirect to={\n\t\t\t\t\t`/no-access`\n\t\t\t\t}/>\n\t\t\t)) : (\n\t\t\t\t<Redirect to={\n\t\t\t\t\t`/sign-in?redirect=${pathname}${search}`\n\t\t\t\t}/>\n\t\t\t)}\n\t\t</Route>\n\t);\n}","import React from \"react\";\nimport {Redirect, Route} from \"react-router-dom\";\nimport {useAppContext} from \"../libs/contextLib\";\n\nfunction querystring(name, url = window.location.href) {\n\tname = name.replace(/[[]]/g, \"\\\\$&\");\n\t\n\tconst regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\", \"i\");\n\tconst results = regex.exec(url);\n\t\n\tif (!results) {\n\t\treturn null;\n\t}\n\tif (!results[2]) {\n\t\treturn \"\";\n\t}\n\t\n\treturn decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\nexport default function UnauthenticatedRoute({ children, ...rest }) {\n\tconst { isAuthenticated } = useAppContext();\n\tconst redirect = querystring(\"redirect\");\n\treturn (\n\t\t<Route {...rest}>\n\t\t\t{!isAuthenticated ? (\n\t\t\t\tchildren\n\t\t\t) : (\n\t\t\t\t<Redirect to={redirect === \"\" || redirect === null ? \"/home\" : redirect} />\n\t\t\t)}\n\t\t</Route>\n\t);\n}","import React from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport {BsArrowRepeat} from \"react-icons/bs\";\nimport \"./css/LoaderButton.css\";\n\nexport default function LoaderButton(\n\t{\n\t\tisLoading,\n\t\tclassName = \"\",\n\t\tdisabled = false,\n\t\t...props\n\t}) {\n\treturn (\n\t\t<Button\n\t\t\tdisabled={disabled || isLoading}\n\t\t\tclassName={`LoaderButton ${className}`}\n\t\t\t{...props}\n\t\t>\n\t\t\t{isLoading && <BsArrowRepeat className=\"spinning\"/>}\n\t\t\t{props.children}\n\t\t</Button>\n\t);\n}","import AuthenticatedRoute from \"./AuthenticatedRoute\";\nimport UnauthenticatedRoute from \"./UnauthenticatedRoute\";\nimport LoaderButton from \"./LoaderButton\";\n\nexport {AuthenticatedRoute, UnauthenticatedRoute, LoaderButton};\nexport default LoaderButton;","export default function deepSet(obj, is, value) {\n\tif (typeof is === 'string')\n\t\treturn deepSet(obj, is.split('.'), value);\n\telse if (is.length === 1 && value !== undefined)\n\t\treturn obj[is[0]] = value;\n\telse if (is.length === 0)\n\t\treturn obj;\n\telse\n\t\treturn deepSet(obj[is[0]], is.slice(1), value);\n}","import {useState} from \"react\";\nimport _ from \"lodash\";\n\nimport deepSet from \"./deepSetLib\";\n\nexport function useFormFields(initialState) {\n\tconst [fields, setValues] = useState(initialState);\n\t\n\treturn [\n\t\tfields,\n\t\tfunction (event) {\n\t\t\tlet obj = fields;\n\t\t\tdeepSet(obj, event.target.id, event.target.value);\n\t\t\tsetValues({...obj});\n\t\t},\n\t\tfunction (newState) {\n\t\t\tlet result = _.merge(fields, newState)\n\t\t\tsetValues(result);\n\t\t}\n\t];\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nclass Notification extends React.Component {\n\tstatic propTypes = {\n\t\ttype: PropTypes.oneOf(['info', 'success', 'warning', 'error']),\n\t\ttitle: PropTypes.node,\n\t\tmessage: PropTypes.node,\n\t\ttimeOut: PropTypes.number,\n\t\tonClick: PropTypes.func,\n\t\tonRequestHide: PropTypes.func\n\t};\n\t\n\tstatic defaultProps = {\n\t\ttype: 'info',\n\t\ttitle: null,\n\t\tmessage: null,\n\t\ttimeOut: 5000,\n\t\tonClick: () => {\n\t\t},\n\t\tonRequestHide: () => {\n\t\t}\n\t};\n\t\n\tcomponentDidMount = () => {\n\t\tconst {timeOut} = this.props;\n\t\tif (timeOut !== 0) {\n\t\t\tthis.timer = setTimeout(this.requestHide, timeOut);\n\t\t}\n\t};\n\t\n\tcomponentWillUnmount = () => {\n\t\tif (this.timer) {\n\t\t\tclearTimeout(this.timer);\n\t\t}\n\t};\n\t\n\thandleClick = () => {\n\t\tconst {onClick} = this.props;\n\t\tif (onClick) {\n\t\t\tonClick();\n\t\t}\n\t\tthis.requestHide();\n\t};\n\t\n\trequestHide = () => {\n\t\tconst {onRequestHide} = this.props;\n\t\tif (onRequestHide) {\n\t\t\tonRequestHide();\n\t\t}\n\t};\n\t\n\trender() {\n\t\tconst {type, message} = this.props;\n\t\tlet {title} = this.props;\n\t\tconst className = classnames(['notification', `notification-${type}`]);\n\t\ttitle = title ? (<h4 className=\"title\">{title}</h4>) : null;\n\t\treturn (\n\t\t\t<div className={className} onClick={this.handleClick}>\n\t\t\t\t<div className=\"notification-message\" role=\"alert\">\n\t\t\t\t\t{title}\n\t\t\t\t\t<div className=\"message\">{message}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Notification;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {CSSTransition, TransitionGroup} from 'react-transition-group';\nimport classnames from 'classnames';\nimport Notification from './Notification';\n\nconst EntryContainer = ({children, ...props}) => {\n\tconst nodeRef = React.useRef(null);\n\treturn (\n\t\t<CSSTransition\n\t\t\tnodeRef={nodeRef}\n\t\t\t{...props}\n\t\t>\n\t\t\t<div ref={nodeRef}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</CSSTransition>\n\t);\n};\n\nclass Notifications extends React.Component {\n\tstatic propTypes = {\n\t\tnotifications: PropTypes.array,\n\t\tonRequestHide: PropTypes.func,\n\t\tenterTimeout: PropTypes.number,\n\t\tleaveTimeout: PropTypes.number\n\t};\n\t\n\tstatic defaultProps = {\n\t\tnotifications: [],\n\t\tonRequestHide: () => {\n\t\t},\n\t\tenterTimeout: 400,\n\t\tleaveTimeout: 400\n\t};\n\t\n\thandleRequestHide = (notification) => () => {\n\t\tconst {onRequestHide} = this.props;\n\t\tif (onRequestHide) {\n\t\t\tonRequestHide(notification);\n\t\t}\n\t};\n\t\n\trender() {\n\t\tconst {notifications, enterTimeout, leaveTimeout} = this.props;\n\t\tconst className = classnames('notification-container', {\n\t\t\t'notification-container-empty': notifications.length === 0\n\t\t});\n\t\tconst items = notifications.map((notification, i) => {\n\t\t\tconst key = notification.id || new Date().getTime();\n\t\t\treturn (\n\t\t\t\t<EntryContainer\n\t\t\t\t\tkey={i}\n\t\t\t\t\tclassNames=\"notification\"\n\t\t\t\t\ttimeout={{enter: enterTimeout, exit: leaveTimeout}}\n\t\t\t\t>\n\t\t\t\t\t<Notification\n\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\ttype={notification.type}\n\t\t\t\t\t\ttitle={notification.title}\n\t\t\t\t\t\tmessage={notification.message}\n\t\t\t\t\t\ttimeOut={notification.timeOut}\n\t\t\t\t\t\tonClick={notification.onClick}\n\t\t\t\t\t\tonRequestHide={this.handleRequestHide(notification)}\n\t\t\t\t\t/>\n\t\t\t\t</EntryContainer>\n\t\t\t);\n\t\t});\n\t\treturn (\n\t\t\t<div className={className}>\n\t\t\t\t<TransitionGroup>\n\t\t\t\t\t{items}\n\t\t\t\t</TransitionGroup>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Notifications;\n","import {EventEmitter} from 'events';\n\nconst createUUID = () => {\n\tconst pattern = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx';\n\treturn pattern.replace(/[xy]/g, (c) => {\n\t\tconst r = (Math.random() * 16) | 0;\n\t\tconst v = c === 'x' ? r : ((r & 0x3) | 0x8);\n\t\treturn v.toString(16);\n\t});\n};\n\nconst Constants = {\n\tCHANGE: 'change',\n\tINFO: 'info',\n\tSUCCESS: 'success',\n\tWARNING: 'warning',\n\tERROR: 'error'\n};\n\nclass NotificationManager extends EventEmitter {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.listNotify = [];\n\t}\n\t\n\tcreate(notify) {\n\t\tconst defaultNotify = {\n\t\t\tid: createUUID(),\n\t\t\ttype: 'info',\n\t\t\ttitle: null,\n\t\t\tmessage: null,\n\t\t\ttimeOut: 5000\n\t\t};\n\t\tif (notify.priority) {\n\t\t\tthis.listNotify.unshift(Object.assign(defaultNotify, notify));\n\t\t} else {\n\t\t\tthis.listNotify.push(Object.assign(defaultNotify, notify));\n\t\t}\n\t\tthis.emitChange();\n\t}\n\t\n\tinfo(message, title, timeOut, onClick, priority) {\n\t\tthis.create({\n\t\t\ttype: Constants.INFO,\n\t\t\tmessage,\n\t\t\ttitle,\n\t\t\ttimeOut,\n\t\t\tonClick,\n\t\t\tpriority\n\t\t});\n\t}\n\t\n\tsuccess(message, title, timeOut, onClick, priority) {\n\t\tthis.create({\n\t\t\ttype: Constants.SUCCESS,\n\t\t\tmessage,\n\t\t\ttitle,\n\t\t\ttimeOut,\n\t\t\tonClick,\n\t\t\tpriority\n\t\t});\n\t}\n\t\n\twarning(message, title, timeOut, onClick, priority) {\n\t\tthis.create({\n\t\t\ttype: Constants.WARNING,\n\t\t\tmessage,\n\t\t\ttitle,\n\t\t\ttimeOut,\n\t\t\tonClick,\n\t\t\tpriority\n\t\t});\n\t}\n\t\n\terror(message, title, timeOut, onClick, priority) {\n\t\tthis.create({\n\t\t\ttype: Constants.ERROR,\n\t\t\tmessage,\n\t\t\ttitle,\n\t\t\ttimeOut,\n\t\t\tonClick,\n\t\t\tpriority\n\t\t});\n\t}\n\t\n\tremove(notification) {\n\t\tthis.listNotify = this.listNotify.filter((n) => notification.id !== n.id);\n\t\tthis.emitChange();\n\t}\n\t\n\temitChange() {\n\t\tthis.emit(Constants.CHANGE, this.listNotify);\n\t}\n\t\n\taddChangeListener(callback) {\n\t\tthis.addListener(Constants.CHANGE, callback);\n\t}\n\t\n\tremoveChangeListener(callback) {\n\t\tthis.removeListener(Constants.CHANGE, callback);\n\t}\n}\n\nexport default new NotificationManager();\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport NotificationManager from './NotificationManager';\nimport Notifications from './Notifications';\n\nclass NotificationContainer extends React.Component {\n  static propTypes = {\n    enterTimeout: PropTypes.number,\n    leaveTimeout: PropTypes.number\n  };\n\n  static defaultProps = {\n    enterTimeout: 400,\n    leaveTimeout: 400\n  };\n\n  state = {\n    notifications: []\n  };\n\n  componentDidMount = () => {\n    NotificationManager.addChangeListener(this.handleStoreChange);\n  };\n\n  componentWillUnmount = () => {\n    NotificationManager.removeChangeListener(this.handleStoreChange);\n  };\n\n  handleStoreChange = (notifications) => {\n    this.setState({\n      notifications\n    });\n  };\n\n  handleRequestHide = (notification) => {\n    NotificationManager.remove(notification);\n  };\n\n  render() {\n    const { notifications } = this.state;\n    const { enterTimeout, leaveTimeout } = this.props;\n    return (\n      <Notifications\n        enterTimeout={enterTimeout}\n        leaveTimeout={leaveTimeout}\n        notifications={notifications}\n        onRequestHide={this.handleRequestHide}\n      />\n    );\n  }\n}\n\nexport default NotificationContainer;\n","import JsonEditor from './JsonEditor.js';\n\nexport default JsonEditor;\n","import React, {Component} from 'react';\n\nimport _jsoneditor from 'jsoneditor';\nimport 'jsoneditor/dist/jsoneditor.css';\nimport './JsonEditor.css';\n\nexport default class JsonEditor extends Component {\n\tcomponentDidMount() {\n\t\tconst options = {\n\t\t\ttemplates: this.props.templates,\n\t\t\tmode: this.props.mode,\n\t\t\tmodes: this.props.modes,\n\t\t\tonChangeJSON: this.props.onChangeJSON,\n\t\t\tonChange: () => {\n\t\t\t\tif (this.props.onChange) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tthis.props.onChange(this.jeditor.get());\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tthis.props.onChange(null);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t\n\t\tthis.jeditor = new _jsoneditor (this.container, options);\n\t\tthis.jeditor.set(this.props.json);\n\t}\n\t\n\tcomponentWillUnmount() {\n\t\tif (this.jeditor) {\n\t\t\tthis.jeditor.destroy();\n\t\t}\n\t}\n\t\n\tcomponentDidUpdate() {\n\t\tthis.jeditor.update(this.props.json);\n\t}\n\t\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"jsoneditor-react-container\" ref={elem => this.container = elem}/>\n\t\t);\n\t}\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from \"react-bootstrap/Button\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\n\nimport {FaApple, FaFacebook, FaGoogle, FaTwitter, FaLinkedinIn} from \"react-icons/fa\";\nimport {SiMicrosoftazure} from \"react-icons/si\";\n\nclass ThirdPartyLogin extends React.Component {\n\tstatic propTypes = {\n\t\tstrategies: PropTypes.array,\n\t\tonRequest: PropTypes.func,\n\t\tisThirdParty: PropTypes.bool\n\t};\n\t\n\tstatic defaultProps = {\n\t\tstrategies: [],\n\t\tonRequest: () => {\n\t\t},\n\t\tisThirdParty: false\n\t};\n\t\n\trender() {\n\t\tconst {strategies, isThirdParty, onRequest} = this.props;\n\t\tconst items = strategies.map((strategy, i) => {\n\t\t\tif (strategy === \"facebook\") {\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tblock\n\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\tclassName=\"mt-2 mb-2\"\n\t\t\t\t\t\tvariant=\"outline-info\"\n\t\t\t\t\t\tdisabled={isThirdParty}\n\t\t\t\t\t\tonClick={(event) => onRequest(event, strategy)}>\n\t\t\t\t\t\t<FaFacebook/> Login in with {strategy}\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\t} else if (strategy === \"twitter\") {\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tblock\n\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\tclassName=\"mt-2 mb-2\"\n\t\t\t\t\t\tvariant=\"outline-info\"\n\t\t\t\t\t\tdisabled={isThirdParty}\n\t\t\t\t\t\tonClick={(event) => onRequest(event, strategy)}>\n\t\t\t\t\t\t<FaTwitter/> Login in with {strategy}\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\t} else if (strategy === \"apple\") {\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tblock\n\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\tclassName=\"mt-2 mb-2\"\n\t\t\t\t\t\tvariant=\"outline-info\"\n\t\t\t\t\t\tdisabled={isThirdParty}\n\t\t\t\t\t\tonClick={(event) => onRequest(event, strategy)}>\n\t\t\t\t\t\t<FaApple/> Login in with {strategy}\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\t} else if (strategy === \"google\") {\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tblock\n\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\tclassName=\"mt-2 mb-2\"\n\t\t\t\t\t\tvariant=\"outline-info\"\n\t\t\t\t\t\tdisabled={isThirdParty}\n\t\t\t\t\t\tonClick={(event) => onRequest(event, strategy)}>\n\t\t\t\t\t\t<FaGoogle/> Login in with {strategy}\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\t} else if (strategy === \"linkedin\") {\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tblock\n\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\tclassName=\"mt-2 mb-2\"\n\t\t\t\t\t\tvariant=\"outline-info\"\n\t\t\t\t\t\tdisabled={isThirdParty}\n\t\t\t\t\t\tonClick={(event) => onRequest(event, strategy)}>\n\t\t\t\t\t\t<FaLinkedinIn/> Login in with {strategy}\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\t} else if (strategy === \"azure\") {\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tblock\n\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\tclassName=\"mt-2 mb-2\"\n\t\t\t\t\t\tvariant=\"outline-info\"\n\t\t\t\t\t\tdisabled={isThirdParty}\n\t\t\t\t\t\tonClick={(event) => onRequest(event, strategy)}>\n\t\t\t\t\t\t<SiMicrosoftazure/> Login in with {strategy}\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn (null);\n\t\t\t}\n\t\t});\n\t\treturn (\n\t\t\titems &&\n\t\t\titems.length > 0 &&\n\t\t\t(\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"mt-4\">\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Jumbotron\n\t\t\t\t\t\tclassName=\"thirdPartyLogin mt-4 p-3\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</Jumbotron>\n\t\t\t\t</div>\n\t\t\t)\n\t\t);\n\t}\n}\n\nexport default ThirdPartyLogin;\n","import ThirdPartyLogin from './ThirdPartyLogin.js';\n\nexport default ThirdPartyLogin;\n","const LocalStorageService = (function () {\n\tlet _service;\n\t\n\tfunction _getService() {\n\t\tif (!_service) {\n\t\t\t_service = this;\n\t\t\treturn _service\n\t\t}\n\t\treturn _service\n\t}\n\t\n\tfunction _setToken(tokenObj) {\n\t\tlocalStorage.setItem('access_token', tokenObj.access_token);\n\t\tlocalStorage.setItem('refresh_token', tokenObj.refresh_token);\n\t}\n\t\n\tfunction _setUsername(username) {\n\t\tlocalStorage.setItem('username', username);\n\t}\n\t\n\tfunction _getUsername() {\n\t\treturn localStorage.getItem('username');\n\t}\n\t\n\tfunction _setUserid(id) {\n\t\tlocalStorage.setItem('userid', id);\n\t}\n\t\n\tfunction _getUserid() {\n\t\treturn localStorage.getItem('userid');\n\t}\n\t\n\tfunction _setFirstrname(firstname) {\n\t\tlocalStorage.setItem('firstname', firstname);\n\t}\n\t\n\tfunction _getFirstname() {\n\t\treturn localStorage.getItem('firstname');\n\t}\n\t\n\tfunction _setEmail(firstname) {\n\t\tlocalStorage.setItem('email', firstname);\n\t}\n\t\n\tfunction _getEmail() {\n\t\treturn localStorage.getItem('email');\n\t}\n\t\n\tfunction _getAccessToken() {\n\t\treturn localStorage.getItem('access_token');\n\t}\n\t\n\tfunction _getRefreshToken() {\n\t\treturn localStorage.getItem('refresh_token');\n\t}\n\t\n\tfunction _clearToken() {\n\t\tlocalStorage.removeItem('access_token');\n\t\tlocalStorage.removeItem('refresh_token');\n\t}\n\t\n\tfunction _setUserKeyACL(acl, index) {\n\t\tlet acl_cached = localStorage.getItem('userACL');\n\t\tif (!acl_cached) {\n\t\t\tacl_cached = {};\n\t\t} else {\n\t\t\tacl_cached = JSON.parse(acl_cached);\n\t\t}\n\t\tacl_cached[index] = acl;\n\t\tlocalStorage.setItem('userACL', JSON.stringify(acl_cached));\n\t}\n\t\n\tfunction _getUserKeyACL(index) {\n\t\tlet acl_cached = localStorage.getItem('userACL');\n\t\tif (acl_cached) {\n\t\t\tacl_cached = JSON.parse(acl_cached)\n\t\t\tif (acl_cached[index]) {\n\t\t\t\treturn acl_cached[index];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\t\n\tfunction _clearUser() {\n\t\tlocalStorage.removeItem('username');\n\t\tlocalStorage.removeItem('firstname');\n\t\tlocalStorage.removeItem('userid');\n\t\tlocalStorage.removeItem('userACL');\n\t}\n\t\n\treturn {\n\t\tgetService: _getService,\n\t\t\n\t\tsetUserKeyACL: _setUserKeyACL,\n\t\tgetUserKeyACL: _getUserKeyACL,\n\t\t\n\t\tsetToken: _setToken,\n\t\tgetAccessToken: _getAccessToken,\n\t\tgetRefreshToken: _getRefreshToken,\n\t\tclearToken: _clearToken,\n\t\tclearUser: _clearUser,\n\t\t\n\t\tsetUsername: _setUsername,\n\t\tgetUsername: _getUsername,\n\t\t\n\t\tsetUserid: _setUserid,\n\t\tgetUserid: _getUserid,\n\t\t\n\t\tsetFirstrname: _setFirstrname,\n\t\tgetFirstname: _getFirstname,\n\t\t\n\t\tsetEmail: _setEmail,\n\t\tgetEmail: _getEmail\n\t}\n})();\nexport default LocalStorageService;","const config = {\n\t\"consoleEnvironment\": \"dashboard\",\n\t\"badTokenMessages\": [\n\t\t\"The access token provided has expired.\", \"The access token provided is invalid.\"\n\t],\n\t\"alreadyInvited\": [\n\t\t\"User is already in the tenant tenancy.\", \"User has already been invited.\"\n\t],\n\t\"noToken\": [\n\t\t\"/oauth/token\"\n\t]\n};\n\nexport default config;","import axios from \"axios\";\nimport LocalStorageService from \"./LocalStorageService.js\";\n\nimport Config from \"../../../config.js\";\n\nconst localStorageService = LocalStorageService.getService();\n\nconst UracService = (function () {\n\tlet _service = null;\n\n\tfunction _getService() {\n\t\tif (!_service) {\n\t\t\t_service = this;\n\t\t\treturn _service\n\t\t}\n\t\treturn _service\n\t}\n\n\tfunction _updateMyProfile(fields, profile) {\n\t\tconst userid = localStorageService.getUserid();\n\t\tif (userid) {\n\t\t\tlet record = {\n\t\t\t\t\"id\": userid,\n\t\t\t\t\"firstName\": fields.firstName,\n\t\t\t\t\"lastName\": fields.lastName\n\t\t\t};\n\t\t\tif (profile) {\n\t\t\t\trecord.profile = profile;\n\t\t\t}\n\t\t\treturn axios.put(\"/urac/account\", record)\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\t\tlocalStorageService.setFirstrname(fields.firstName);\n\t\t\t\t\t\treturn Promise.resolve(\"Profile has been updated.\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn Promise.reject(new Error(\"Unable to update profile information\"));\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tif (error.response && error.response.data && error.response.data.errors && error.response.data.errors.codes && error.response.data.errors.codes.includes(533)) {\n\t\t\t\t\t\treturn Promise.resolve(\"Nothing to update!\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn Promise.reject(new Error(\"Unable to update profile information\"));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t} else {\n\t\t\treturn Promise.reject(new Error(\"Unable to update profile information\"));\n\t\t}\n\t}\n\n\tfunction _changeEmail(email) {\n\t\tconst userid = localStorageService.getUserid();\n\t\tif (userid) {\n\t\t\treturn axios.put(\"/urac/account/email\",\n\t\t\t\t{\n\t\t\t\t\t\"id\": userid,\n\t\t\t\t\t\"email\": email\n\t\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn Promise.reject(new Error(\"Unable to change email\"));\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to change email\"));\n\t\t\t\t});\n\t\t} else {\n\t\t\treturn Promise.reject(new Error(\"Unable to change email\"));\n\t\t}\n\t}\n\n\tfunction _changePassword(password, newPassword, confirmNewPassword) {\n\t\tconst userid = localStorageService.getUserid();\n\t\tif (userid) {\n\t\t\treturn axios.put(\"/urac/account/password\",\n\t\t\t\t{\n\t\t\t\t\t\"id\": userid,\n\t\t\t\t\t\"oldPassword\": password,\n\t\t\t\t\t\"password\": newPassword,\n\t\t\t\t\t\"confirmation\": confirmNewPassword\n\t\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn Promise.reject(new Error(\"Unable to change password\"));\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to change password\"));\n\t\t\t\t});\n\t\t} else {\n\t\t\treturn Promise.reject(new Error(\"Unable to change password\"));\n\t\t}\n\t}\n\n\tfunction _forgotPassword(username) {\n\t\treturn axios.get(\"/urac/password/forgot/?username=\" + username)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\n\tfunction _signup(fields) {\n\t\treturn axios.post(\"/urac/join\",\n\t\t\t{\n\t\t\t\t\"username\": fields.username,\n\t\t\t\t\"firstName\": fields.firstName,\n\t\t\t\t\"lastName\": fields.lastName,\n\t\t\t\t\"email\": fields.email,\n\t\t\t\t\"password\": fields.password\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to sign up\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tif (error.response && error.response.data && error.response.data.errors && error.response.data.errors.codes && error.response.data.errors.codes.includes(402)) {\n\t\t\t\t\treturn Promise.reject(new Error(\"Username and/or Email already exist.\"));\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to sign up\"));\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tfunction _getUser() {\n\t\tconst user = localStorageService.getUsername();\n\t\tif (user) {\n\t\t\treturn axios.get(\"/urac/user?username=\" + user)\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\t\tlocalStorageService.setFirstrname(res.data.data.firstName);\n\t\t\t\t\t\tif (res.data.data.profile && res.data.data.profile.gravatar) {\n\n\t\t\t\t\t\t\tlocalStorageService.setEmail(res.data.data.profile.gravatar);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlocalStorageService.setEmail(res.data.data.email);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlocalStorageService.setUserid(res.data.data._id);\n\t\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn Promise.reject(new Error(\"Unable to get user information\"));\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to get user information\"));\n\t\t\t\t});\n\t\t} else {\n\t\t\treturn Promise.reject(new Error(\"Unable to get user information\"));\n\t\t}\n\t}\n\n\tfunction _validateJoin(token) {\n\t\treturn axios.get(\"/urac/validate/join?token=\" + token)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(true);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\n\tfunction _emailToken(username) {\n\t\treturn axios.get(\"/urac/emailToken?username=\" + username)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(true);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\n\tfunction _resetPassword(token, newPassword, confirmNewPassword) {\n\t\treturn axios.put(\"/urac/password/reset\",\n\t\t\t{\n\t\t\t\t\"token\": token,\n\t\t\t\t\"confirmation\": confirmNewPassword,\n\t\t\t\t\"password\": newPassword\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(true);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to reset password\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to reset password\"));\n\t\t\t});\n\t}\n\n\tfunction _validateChangeEmail(token) {\n\t\treturn axios.get(\"/urac/validate/changeEmail?token=\" + token)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(true);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\n\tfunction _getUserId(id, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": { \"key\": extKey }\n\t\t\t}\n\t\t}\n\t\treturn axios.get(\"/urac/admin/user?id=\" + id, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to get user information\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to get user information\"));\n\t\t\t});\n\t}\n\n\tfunction _getUsersId(ids, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": { \"key\": extKey }\n\t\t\t}\n\t\t}\n\t\treturn axios.post(\"/urac/admin/users/ids\", { \"ids\": ids }, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to get users\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to get users\"));\n\t\t\t});\n\t}\n\n\tfunction _getUserACL(extKey, forceLoad) {\n\t\t//TODO: check cache\n\t\tlet cacheIndex = \"0000000000000000\";\n\t\tif (extKey) {\n\t\t\tcacheIndex = extKey.substr(extKey.length - 16);\n\t\t}\n\t\tif (!forceLoad) {\n\t\t\tlet acl_cached = localStorageService.getUserKeyACL(cacheIndex);\n\t\t\tif (acl_cached) {\n\t\t\t\treturn Promise.resolve(acl_cached);\n\t\t\t}\n\t\t}\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": { \"key\": extKey }\n\t\t\t}\n\t\t}\n\t\treturn axios.get(\"/soajs/acl\", opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data) {\n\t\t\t\t\t//TODO: cache\n\t\t\t\t\tlocalStorageService.setUserKeyACL(res.data, cacheIndex);\n\t\t\t\t\treturn Promise.resolve(res.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to get ACL please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to get ACL please try again later\"));\n\t\t\t});\n\t}\n\n\tfunction _getUsers(extKey, scope, criteria) {\n\t\tlet opt = {\n\t\t\t\"params\": {\n\t\t\t\t\"config\": true\n\t\t\t}\n\t\t};\n\t\tif (extKey) {\n\t\t\topt.headers = { \"key\": extKey };\n\t\t}\n\t\tlet url = \"/urac/admin/users\";\n\t\tif (scope) {\n\t\t\topt.params.scope = scope;\n\t\t}\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords) {\n\t\t\t\topt.params.keywords = criteria.keywords;\n\t\t\t}\n\t\t\tif (criteria.limit) {\n\t\t\t\topt.params.limit = criteria.limit;\n\t\t\t}\n\t\t\tif (criteria.start) {\n\t\t\t\topt.params.start = criteria.start;\n\t\t\t}\n\t\t}\n\t\treturn axios.get(url, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\n\tfunction _getUsersCount(extKey, scope, criteria) {\n\t\tlet opt = {\n\t\t\t\"params\": {}\n\t\t};\n\t\tif (extKey) {\n\t\t\topt.headers = { \"key\": extKey };\n\t\t}\n\t\tlet url = \"/urac/admin/users/count\";\n\t\tif (scope) {\n\t\t\topt.params.scope = scope;\n\t\t}\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords) {\n\t\t\t\topt.params.keywords = criteria.keywords;\n\t\t\t}\n\t\t}\n\t\treturn axios.get(url, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\n\tfunction _getGroups(extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": { \"key\": extKey }\n\t\t\t}\n\t\t}\n\t\treturn axios.get(\"/urac/admin/groups\", opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\n\tfunction _getGroup(id, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": { \"key\": extKey }\n\t\t\t}\n\t\t}\n\t\treturn axios.get(\"/urac/admin/group?id=\" + id, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\n\tfunction _deleteGroup(id, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": { \"key\": extKey }\n\t\t\t}\n\t\t}\n\t\treturn axios.delete(\"/urac/admin/group?id=\" + id, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(\"Group has been deleted.\");\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to delete group\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to delete group\"));\n\t\t\t});\n\t}\n\n\tfunction _deleteUser(id, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": { \"key\": extKey }\n\t\t\t}\n\t\t}\n\t\treturn axios.delete(\"/urac/admin/user?id=\" + id, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(\"User has been deleted.\");\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to delete user\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to delete user\"));\n\t\t\t});\n\t}\n\n\tfunction _addUser(user, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": { \"key\": extKey }\n\t\t\t}\n\t\t}\n\t\tlet data = {\n\t\t\t\"email\": user.email,\n\t\t\t\"username\": user.username,\n\t\t\t\"firstName\": user.firstName,\n\t\t\t\"lastName\": user.lastName\n\t\t};\n\t\tif (user.groups) {\n\t\t\tdata.groups = user.groups;\n\t\t}\n\t\treturn axios.post(\"/urac/admin/user\", data, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to add user\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tif (error.response && error.response.data && error.response.data.errors && error.response.data.errors.codes && error.response.data.errors.codes.includes(402)) {\n\t\t\t\t\treturn Promise.reject(new Error(\"Username and/or Email already exist.\"));\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to add user\"));\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tfunction _checkIfUserExist(user, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": { \"key\": extKey }\n\t\t\t}\n\t\t}\n\t\treturn axios.get(\"/urac/checkUsername?username=\" + user, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to check if user exists\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to check if user exists\"));\n\t\t\t});\n\t}\n\n\tfunction _updateUser(user, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": { \"key\": extKey }\n\t\t\t}\n\t\t}\n\t\tlet data = {\n\t\t\t\"id\": user.id,\n\t\t\t\"username\": user.username,\n\t\t\t\"firstName\": user.firstName,\n\t\t\t\"lastName\": user.lastName,\n\t\t\t\"email\": user.email,\n\t\t\t\"status\": user.status,\n\t\t\t\"groups\": user.groups\n\t\t};\n\t\treturn axios.put(\"/urac/admin/user\", data, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(\"User has been updated.\");\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to updated user\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to updated user\"));\n\t\t\t});\n\t}\n\n\tfunction _editUser(user, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": { \"key\": extKey }\n\t\t\t}\n\t\t}\n\t\tlet data = {\n\t\t\t\"user\": { \"id\": user.id },\n\t\t\t\"groups\": user.groups\n\t\t};\n\t\treturn axios.put(\"/urac/admin/user/groups\", data, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(\"User has been updated.\");\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to updated user\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to updated user\"));\n\t\t\t});\n\t}\n\n\tfunction _addGroup(group, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": { \"key\": extKey }\n\t\t\t}\n\t\t}\n\t\tlet data = {\n\t\t\t\"code\": group.code,\n\t\t\t\"name\": group.name,\n\t\t\t\"description\": group.description,\n\t\t\t\"packages\": group.packages\n\t\t};\n\t\treturn axios.post(\"/urac/admin/group\", data, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(\"Group has been added.\");\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to added group\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to added group\"));\n\t\t\t});\n\t}\n\n\tfunction _editGroup(group, extKey) {\n\t\tlet opt = null\n\t\tif (extKey) {\n\t\t\topt = {\n\t\t\t\t\"headers\": { \"key\": extKey },\n\t\t\t};\n\t\t}\n\t\tlet data = {\n\t\t\t\"id\": group.id,\n\t\t\t\"name\": group.name,\n\t\t\t\"description\": group.description,\n\t\t\t\"packages\": group.packages\n\t\t};\n\t\treturn axios.put(\"/urac/admin/group\", data, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(\"Group has been updated.\");\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to updated group\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to updated group\"));\n\t\t\t});\n\t}\n\n\n\tfunction _uninviteUserProxy(user, extKey, tenant, env) {\n\t\tlet opt = {\n\t\t\t\"params\": {\n\t\t\t\t\"proxyRoute\": \"/urac/admin/users/uninvite/tenant\",\n\t\t\t\t\"extKey\": extKey\n\t\t\t},\n\t\t\t\"headers\": {\n\t\t\t\t\"__env\": env.toLowerCase()\n\t\t\t}\n\t\t};\n\t\tlet data = [{\n\t\t\t\"user\": {\n\t\t\t\t\"id\": user.id\n\t\t\t}\n\t\t}];\n\t\tlet url = \"/soajs/proxy\";\n\t\treturn axios.put(url, { \"users\": data, \"tenant\": tenant }, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\tif (res.data.data && res.data.data.failed && Array.isArray(res.data.data.failed) && res.data.data.failed.length > 0) {\n\t\t\t\t\t\tif (res.data.data.failed[0].reason) {\n\t\t\t\t\t\t\treturn Promise.reject(new Error(res.data.data.failed[0].reason));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn Promise.resolve(\"User has been un-invited.\");\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to un-invite user\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tif (e.message) {\n\t\t\t\t\treturn Promise.reject(e);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to un-invite user\"));\n\t\t\t\t}\n\t\t\t});\n\t}\n\tfunction _inviteUserProxy(user, extKey, tenant, env) {\n\t\tlet opt = {\n\t\t\t\"params\": {\n\t\t\t\t\"proxyRoute\": \"/urac/admin/users/invite/tenant\",\n\t\t\t\t\"extKey\": extKey\n\t\t\t},\n\t\t\t\"headers\": {\n\t\t\t\t\"__env\": env.toLowerCase()\n\t\t\t}\n\t\t};\n\t\tlet data = [{\n\t\t\t\"user\": {},\n\t\t\t\"groups\": user.groups || null\n\t\t}];\n\t\tif (user.user.indexOf(\"@\") !== -1) {\n\t\t\tdata[0].user.email = user.user;\n\t\t} else {\n\t\t\tdata[0].user.username = user.user;\n\t\t}\n\t\tlet url = \"/soajs/proxy\";\n\t\treturn axios.put(url, { \"users\": data, \"tenant\": tenant }, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\tif (res.data.data && res.data.data.failed && Array.isArray(res.data.data.failed) && res.data.data.failed.length > 0) {\n\t\t\t\t\t\tif (res.data.data.failed[0].reason) {\n\t\t\t\t\t\t\tif (Config.alreadyInvited.includes(res.data.data.failed[0].reason)) {\n\t\t\t\t\t\t\t\treturn Promise.resolve(res.data.data.failed[0]);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn Promise.reject(new Error(res.data.data.failed[0].reason));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn Promise.resolve(\"User has been invited.\");\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to invite user\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tif (e.message) {\n\t\t\t\t\treturn Promise.reject(e);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to invite user\"));\n\t\t\t\t}\n\t\t\t});\n\t}\n\tfunction _addUserTenantProxy(user, extKey, tenant, env) {\n\t\tlet opt = {\n\t\t\t\"params\": {\n\t\t\t\t\"proxyRoute\": \"/urac/admin/user/tenant\",\n\t\t\t\t\"extKey\": extKey\n\t\t\t},\n\t\t\t\"headers\": {\n\t\t\t\t\"__env\": env.toLowerCase()\n\t\t\t}\n\t\t};\n\t\tlet data = {\n\t\t\t\"username\": user.username,\n\t\t\t\"firstName\": user.firstName,\n\t\t\t\"lastName\": user.lastName,\n\t\t\t\"email\": user.email,\n\t\t\t\"phone\": user.phone || null,\n\t\t\t\"status\": user.status,\n\t\t\t\"tenant\": tenant,\n\t\t\t\"password\": user.password\n\t\t};\n\t\tif (user.groups) {\n\t\t\tdata.groups = user.groups;\n\t\t}\n\t\tlet url = \"/soajs/proxy\";\n\t\treturn axios.post(url, data, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to add user\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tif (error.response && error.response.data && error.response.data.errors && error.response.data.errors.codes && error.response.data.errors.codes.includes(402)) {\n\t\t\t\t\treturn Promise.reject(new Error(\"Username and/or Email already exist.\"));\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to add user\"));\n\t\t\t\t}\n\t\t\t});\n\t}\n\tfunction _deleteUserProxy(id, extKey, env) {\n\t\tlet opt = {\n\t\t\t\"params\": {\n\t\t\t\t\"proxyRoute\": \"/urac/admin/user\",\n\t\t\t\t\"extKey\": extKey\n\t\t\t},\n\t\t\t\"headers\": {\n\t\t\t\t\"__env\": env.toLowerCase()\n\t\t\t}\n\t\t};\n\t\tlet url = \"/soajs/proxy\";\n\t\treturn axios.delete(url + \"?id=\" + id, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(\"User has been deleted.\");\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to delete user\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to delete user\"));\n\t\t\t});\n\t}\n\tfunction _editUseProxy(user, extKey, env) {\n\t\tlet opt = {\n\t\t\t\"params\": {\n\t\t\t\t\"proxyRoute\": \"/urac/admin/user\",\n\t\t\t\t\"extKey\": extKey\n\t\t\t},\n\t\t\t\"headers\": {\n\t\t\t\t\"__env\": env.toLowerCase()\n\t\t\t}\n\t\t};\n\t\tlet data = {\n\t\t\t\"id\": user.id,\n\t\t\t\"username\": user.username,\n\t\t\t\"firstName\": user.firstName,\n\t\t\t\"lastName\": user.lastName,\n\t\t\t\"email\": user.email,\n\t\t\t\"phone\": user.phone || null,\n\t\t\t\"status\": user.status\n\t\t};\n\t\tif (user.groups) {\n\t\t\tdata.groups = user.groups;\n\t\t}\n\t\tlet url = \"/soajs/proxy\";\n\t\treturn axios.put(url, data, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(\"User has been updated.\");\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to edit user\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to edit user\"));\n\t\t\t});\n\t}\n\tfunction _changeUserPasswordProxy(user, extKey, env) {\n\t\tlet opt = {\n\t\t\t\"params\": {\n\t\t\t\t\"proxyRoute\": \"/urac/admin/account/password\",\n\t\t\t\t\"extKey\": extKey\n\t\t\t},\n\t\t\t\"headers\": {\n\t\t\t\t\"__env\": env.toLowerCase()\n\t\t\t}\n\t\t};\n\t\tlet data = {\n\t\t\t\"id\": user.id,\n\t\t\t\"password\": user.password\n\t\t};\n\t\tlet url = \"/soajs/proxy\";\n\t\treturn axios.put(url, data, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(\"Password has been updated.\");\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to change password\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to change password\"));\n\t\t\t});\n\t}\n\tfunction _deleteGroupProxy(id, extKey, env) {\n\t\tlet opt = {\n\t\t\t\"params\": {\n\t\t\t\t\"proxyRoute\": \"/urac/admin/group\",\n\t\t\t\t\"extKey\": extKey\n\t\t\t},\n\t\t\t\"headers\": {\n\t\t\t\t\"__env\": env.toLowerCase()\n\t\t\t}\n\t\t};\n\t\tlet url = \"/soajs/proxy\";\n\t\treturn axios.delete(url + \"?id=\" + id, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(\"Group has been deleted.\");\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to delete group\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to delete group\"));\n\t\t\t});\n\t}\n\n\tfunction _getUsersProxy_v2(extKey, tenantId, scope, criteria, env) {\n\t\tlet opt = {\n\t\t\t\"params\": {\n\t\t\t\t\"proxyRoute\": \"/urac/api-v2/admin/users\",\n\t\t\t\t\"config\": true,\n\t\t\t\t\"extKey\": extKey,\n\t\t\t\t\"tenant\": { \"id\": tenantId, \"code\": \"NNNNN\" },\n\t\t\t},\n\t\t\t\"headers\": {\n\t\t\t\t\"__env\": env.toLowerCase()\n\t\t\t}\n\t\t};\n\t\tlet url = \"/soajs/proxy\";\n\t\tif (scope) {\n\t\t\topt.params.scope = scope;\n\t\t}\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords) {\n\t\t\t\topt.params.keywords = criteria.keywords;\n\t\t\t}\n\t\t\tif (criteria.limit) {\n\t\t\t\topt.params.limit = criteria.limit;\n\t\t\t}\n\t\t\tif (criteria.start) {\n\t\t\t\topt.params.start = criteria.start;\n\t\t\t}\n\t\t}\n\t\treturn axios.get(url, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\tfunction _getGroupsProxy_v2(extKey, tenantId, env) {\n\t\tlet opt = {\n\t\t\t\"params\": {\n\t\t\t\t\"proxyRoute\": \"/urac/admin/groups/tenant\",\n\t\t\t\t\"extKey\": extKey,\n\t\t\t\t\"tenantId\": tenantId\n\t\t\t},\n\t\t\t\"headers\": {\n\t\t\t\t\"__env\": env.toLowerCase()\n\t\t\t}\n\t\t};\n\t\tlet url = \"/soajs/proxy\";\n\t\treturn axios.get(url, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\tfunction _getUsersProxy(extKey, scope, criteria, env) {\n\t\tlet opt = {\n\t\t\t\"params\": {\n\t\t\t\t\"proxyRoute\": \"/urac/admin/users\",\n\t\t\t\t\"config\": true,\n\t\t\t\t\"extKey\": extKey\n\t\t\t},\n\t\t\t\"headers\": {\n\t\t\t\t\"__env\": env.toLowerCase()\n\t\t\t}\n\t\t};\n\t\tlet url = \"/soajs/proxy\";\n\t\tif (scope) {\n\t\t\topt.params.scope = scope;\n\t\t}\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords) {\n\t\t\t\topt.params.keywords = criteria.keywords;\n\t\t\t}\n\t\t\tif (criteria.limit) {\n\t\t\t\topt.params.limit = criteria.limit;\n\t\t\t}\n\t\t\tif (criteria.start) {\n\t\t\t\topt.params.start = criteria.start;\n\t\t\t}\n\t\t}\n\t\treturn axios.get(url, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\tfunction _getUsersCountProxy(extKey, scope, criteria, env) {\n\t\tlet opt = {\n\t\t\t\"params\": {\n\t\t\t\t\"proxyRoute\": \"/urac/admin/users/count\",\n\t\t\t\t\"config\": true,\n\t\t\t\t\"extKey\": extKey\n\t\t\t},\n\t\t\t\"headers\": {\n\t\t\t\t\"__env\": env.toLowerCase()\n\t\t\t}\n\t\t};\n\t\tlet url = \"/soajs/proxy\";\n\t\tif (scope) {\n\t\t\topt.params.scope = scope;\n\t\t}\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords) {\n\t\t\t\topt.params.keywords = criteria.keywords;\n\t\t\t}\n\t\t}\n\t\treturn axios.get(url, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\tfunction _getGroupsProxy(extKey, env) {\n\t\tlet opt = {\n\t\t\t\"params\": {\n\t\t\t\t\"proxyRoute\": \"/urac/admin/groups\",\n\t\t\t\t\"extKey\": extKey\n\t\t\t},\n\t\t\t\"headers\": {\n\t\t\t\t\"__env\": env.toLowerCase()\n\t\t\t}\n\t\t};\n\t\tlet url = \"/soajs/proxy\";\n\t\treturn axios.get(url, opt)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to proceed please try again later\"));\n\t\t\t});\n\t}\n\n\n\treturn {\n\t\tgetService: _getService,\n\t\tchangePassword: _changePassword,\n\t\tforgotPassword: _forgotPassword,\n\t\tchangeEmail: _changeEmail,\n\t\tsignup: _signup,\n\t\tupdateMyProfile: _updateMyProfile,\n\t\tgetUser: _getUser,\n\t\tgetUserId: _getUserId,\n\t\tgetUsersId: _getUsersId,\n\t\tvalidateJoin: _validateJoin,\n\t\temailToken: _emailToken,\n\t\tresetPassword: _resetPassword,\n\t\tvalidateChangeEmail: _validateChangeEmail,\n\t\tgetUserACL: _getUserACL,\n\t\tgetUsers: _getUsers,\n\t\tgetUsersCount: _getUsersCount,\n\t\tgetGroup: _getGroup,\n\t\tgetGroups: _getGroups,\n\t\tdeleteGroup: _deleteGroup,\n\t\tdeleteUser: _deleteUser,\n\t\taddUser: _addUser,\n\t\teditUser: _editUser,\n\t\tupdateUser: _updateUser,\n\t\teditGroup: _editGroup,\n\t\taddGroup: _addGroup,\n\t\tcheckIfUserExist: _checkIfUserExist,\n\n\t\tuninviteUserProxy: _uninviteUserProxy,\n\t\tinviteUserProxy: _inviteUserProxy,\n\t\taddUserTenantProxy: _addUserTenantProxy,\n\t\tdeleteUserProxy: _deleteUserProxy,\n\t\teditUseProxy: _editUseProxy,\n\t\tchangeUserPasswordProxy: _changeUserPasswordProxy,\n\n\t\tdeleteGroupProxy: _deleteGroupProxy,\n\n\t\tgetUsersProxy: _getUsersProxy,\n\t\tgetGroupsProxy: _getGroupsProxy,\n\t\tgetUsersCountProxy: _getUsersCountProxy,\n\t\tgetUsersProxy_v2: _getUsersProxy_v2,\n\t\tgetGroupsProxy_v2: _getGroupsProxy_v2\n\t}\n})();\nexport default UracService;\n","import axios from \"axios\";\nimport LocalStorageService from \"./LocalStorageService.js\";\n\nconst localStorageService = LocalStorageService.getService();\n\nconst OauthService = (function () {\n\tlet _service = null;\n\t\n\tfunction _getService() {\n\t\tif (!_service) {\n\t\t\t_service = this;\n\t\t\treturn _service\n\t\t}\n\t\treturn _service\n\t}\n\t\n\tfunction _login(email, password) {\n\t\treturn axios.post(\"/oauth/token\",\n\t\t\t{\n\t\t\t\t\"username\": email,\n\t\t\t\t\"password\": password,\n\t\t\t\t\"grant_type\": \"password\"\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.access_token) {\n\t\t\t\t\tlocalStorageService.setToken(res.data);\n\t\t\t\t\tlocalStorageService.setUsername(email);\n\t\t\t\t\treturn Promise.resolve(res.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to login\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to login\"));\n\t\t\t});\n\t}\n\t\n\tfunction _logout() {\n\t\tconst refresh_token = localStorageService.getRefreshToken();\n\t\tconst access_token = localStorageService.getAccessToken();\n\t\t\n\t\tif (refresh_token) {\n\t\t\treturn axios.delete(\"/oauth/refreshToken/\" + refresh_token)\n\t\t\t\t.then(() => {\n\t\t\t\t\tif (access_token) {\n\t\t\t\t\t\treturn axios.delete(\"/oauth/accessToken/\" + access_token);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tif (access_token) {\n\t\t\t\t\t\treturn axios.delete(\"/oauth/accessToken/\" + access_token);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t} else {\n\t\t\tif (access_token) {\n\t\t\t\treturn axios.delete(\"/oauth/accessToken/\" + access_token);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction _availableLogin() {\n\t\treturn axios.get(\"/oauth/available/login\", {\n\t\t\t\"headers\": {\"skip_access_token\": true}\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\t//res.data.data.thirdparty = [\"facebook\", \"google\", \"twitter\", \"apple\"];\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to retrieve 3rd party login!\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to retrieve 3rd party login!\"));\n\t\t\t});\n\t}\n\t\n\tfunction _thirdPartyLogin(strategy) {\n\t\treturn axios.get(\"/oauth/passport/login/\" + strategy)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to continue with 3rd party login!\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to continue with 3rd party login!\"));\n\t\t\t});\n\t}\n\t\n\tfunction _validateThirdPartyLogin(strategy, params) {\n\t\treturn axios.get(\"/oauth/passport/validate/\" + strategy + params)\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data && res.data.result) {\n\t\t\t\t\tif (res && res.data && res.data.data && res.data.data.access) {\n\t\t\t\t\t\tlocalStorageService.setToken(res.data.data.access);\n\t\t\t\t\t\tlocalStorageService.setUsername(res.data.data.email);\n\t\t\t\t\t}\n\t\t\t\t\treturn Promise.resolve(res.data.data);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(new Error(\"Unable to validate your \" + strategy + \" login!\"));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treturn Promise.reject(new Error(\"Unable to validate your \" + strategy + \" login!\"));\n\t\t\t});\n\t}\n\t\n\treturn {\n\t\tgetService: _getService,\n\t\tlogin: _login,\n\t\tlogout: _logout,\n\t\tavailableLogin: _availableLogin,\n\t\tthirdPartyLogin: _thirdPartyLogin,\n\t\tvalidateThirdPartyLogin: _validateThirdPartyLogin\n\t}\n})();\nexport default OauthService;","const APIs = {\n\t\"abilities\": {\n\t\t\"infra\": {\n\t\t\t\"get\": {\n\t\t\t\t\"/kubernetes/pod/log\": {\n\t\t\t\t\t\"I\": 'infra_pod',\n\t\t\t\t\t\"A\": 'log',\n\t\t\t\t\t\"M\": \"View the log of a pod\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"post\": {\n\t\t\t\t\"/kubernetes/workload/:mode\": {\n\t\t\t\t\t\"I\": 'infra_workload',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a Workload (Deployment, DaemonSet, CronJob, Pod, HPA)\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/secret\": {\n\t\t\t\t\t\"I\": 'infra_secret',\n\t\t\t\t\t\"A\": 'add_wizard',\n\t\t\t\t\t\"M\": \"Add a text, file, or json secret via the wizard\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/secret/registry\": {\n\t\t\t\t\t\"I\": 'infra_secret',\n\t\t\t\t\t\"A\": 'add_wizard_registry',\n\t\t\t\t\t\"M\": \"Add a private registry account information as a secret via the wizard\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/configuration/:mode\": {\n\t\t\t\t\t\"I\": 'infra_configuration',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a Configuration (secret)\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/service/:mode\": {\n\t\t\t\t\t\"I\": 'infra_service',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a new Service\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/storage/:mode\": {\n\t\t\t\t\t\"I\": 'infra_storage',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a new Storage (PVC, PV, StorageClass)\"\n\t\t\t\t},\n\t\t\t\t\"/account/kubernetes\": {\n\t\t\t\t\t\"I\": 'infra_account',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a new cluster\"\n\t\t\t\t},\n\t\t\t\t\"/cd/token\": {\n\t\t\t\t\t\"I\": 'infra_cd_token',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a a continuous delivery token\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"put\": {\n\t\t\t\t\"/cd/token/status\": {\n\t\t\t\t\t\"I\": 'infra_cd_token',\n\t\t\t\t\t\"A\": 'update',\n\t\t\t\t\t\"M\": \"Update the status of a continuous delivery token\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/workload/:mode\": {\n\t\t\t\t\t\"I\": 'infra_workload',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Update a Workload (Deployment, DaemonSet, CronJob, Pod, HPA)\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/service/:mode\": {\n\t\t\t\t\t\"I\": 'infra_service',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Update a Service\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/configuration/:mode\": {\n\t\t\t\t\t\"I\": 'infra_configuration',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Update a Configuration (ConfigMap)\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/storage/:mode\": {\n\t\t\t\t\t\"I\": 'infra_storage',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Update a Storage (PV, StorageClass)\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/resource/restart\": {\n\t\t\t\t\t\"I\": 'infra_item',\n\t\t\t\t\t\"A\": 'restart',\n\t\t\t\t\t\"M\": \"Restart all pods of a deployed item\"\n\t\t\t\t},\n\t\t\t\t\"/account/kubernetes/configuration\": {\n\t\t\t\t\t\"I\": 'infra_account',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Edit the cluster configuration\"\n\t\t\t\t},\n\t\t\t\t\"/account/kubernetes/acl\": {\n\t\t\t\t\t\"I\": 'infra_account',\n\t\t\t\t\t\"A\": 'updateAcl',\n\t\t\t\t\t\"M\": \"Update the cluster group configuration\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/pod/exec\": {\n\t\t\t\t\t\"I\": 'infra_pod',\n\t\t\t\t\t\"A\": 'exec',\n\t\t\t\t\t\"M\": \"Execute commands inside a pod\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"delete\": {\n\t\t\t\t\"/cd/token\": {\n\t\t\t\t\t\"I\": 'infra_cd_token',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a continuous delivery token\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/workload/:mode\": {\n\t\t\t\t\t\"I\": 'infra_workload',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a Workload (Deployment, DaemonSet, CronJob, HPA)\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/pods\": {\n\t\t\t\t\t\"I\": 'infra_pod',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a Pod\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/configuration/:mode\": {\n\t\t\t\t\t\"I\": 'infra_configuration',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a Configuration (secret)\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/service/:mode\": {\n\t\t\t\t\t\"I\": 'infra_service',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a Service\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/storage/:mode\": {\n\t\t\t\t\t\"I\": 'infra_storage',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a Storage (PVC, PV, StorageClass)\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/item\": {\n\t\t\t\t\t\"I\": 'infra_item',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete an item deployment\"\n\t\t\t\t},\n\t\t\t\t\"/account/kubernetes\": {\n\t\t\t\t\t\"I\": 'infra_account',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a cluster\"\n\t\t\t\t},\n\t\t\t\t\"/account/kubernetes/acl\": {\n\t\t\t\t\t\"I\": 'infra_account',\n\t\t\t\t\t\"A\": 'deleteAcl',\n\t\t\t\t\t\"M\": \"Delete the cluster group configuration\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"console\": {\n\t\t\t\"post\": {\n\t\t\t\t\"/environment\": {\n\t\t\t\t\t\"I\": 'env',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add an environment\"\n\t\t\t\t},\n\t\t\t\t\"/registry/custom\": {\n\t\t\t\t\t\"I\": 'registry_custom',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a custom registry\"\n\t\t\t\t},\n\t\t\t\t\"/registry/resource\": {\n\t\t\t\t\t\"I\": 'registry_resource',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a resource registry\"\n\t\t\t\t},\n\t\t\t\t\"/registry/db/custom\": {\n\t\t\t\t\t\"I\": 'registry_db',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a database\"\n\t\t\t\t},\n\t\t\t\t\"/tenant/oauth/user\": {\n\t\t\t\t\t\"I\": 'integration_user',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add an integration user\"\n\t\t\t\t},\n\t\t\t\t\"/collection\": {\n\t\t\t\t\t\"I\": 'collection',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a workspace collection\"\n\t\t\t\t},\n\t\t\t\t\"/collection/:id/api\": {\n\t\t\t\t\t\"I\": 'collection',\n\t\t\t\t\t\"A\": 'add_api',\n\t\t\t\t\t\"M\": \"Add an API to a workspace collection\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"put\": {\n\t\t\t\t\"/registry/throttling\": {\n\t\t\t\t\t\"I\": 'registry',\n\t\t\t\t\t\"A\": 'throttling',\n\t\t\t\t\t\"M\": \"Add, Update and delete throttling\"\n\t\t\t\t},\n\t\t\t\t\"/registry/db/prefix\": {\n\t\t\t\t\t\"I\": 'registry_db',\n\t\t\t\t\t\"A\": 'prefix',\n\t\t\t\t\t\"M\": \"Update global databases prefix for an environment\"\n\t\t\t\t},\n\t\t\t\t\"/environment/acl\": {\n\t\t\t\t\t\"I\": 'env_aclGroups',\n\t\t\t\t\t\"A\": 'update',\n\t\t\t\t\t\"M\": \"Update the environment group configuration\"\n\t\t\t\t},\n\t\t\t\t\"/environment\": {\n\t\t\t\t\t\"I\": 'env',\n\t\t\t\t\t\"A\": 'update',\n\t\t\t\t\t\"M\": \"Update the environment\"\n\t\t\t\t},\n\t\t\t\t\"/registry/custom/acl\": {\n\t\t\t\t\t\"I\": 'registry_custom',\n\t\t\t\t\t\"A\": 'update_acl',\n\t\t\t\t\t\"M\": \"Update the custom registry group configuration\"\n\t\t\t\t},\n\t\t\t\t\"/registry/resource/acl\": {\n\t\t\t\t\t\"I\": 'registry_resource',\n\t\t\t\t\t\"A\": 'update_acl',\n\t\t\t\t\t\"M\": \"Update the resource registry group configuration\"\n\t\t\t\t},\n\t\t\t\t\"/registry/custom\": {\n\t\t\t\t\t\"I\": 'registry_custom',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Edit and plug/unplug a custom registry\"\n\t\t\t\t},\n\t\t\t\t\"/registry/resource\": {\n\t\t\t\t\t\"I\": 'registry_resource',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Edit and plug/unplug a resource registry\"\n\t\t\t\t},\n\t\t\t\t\"/registry\": {\n\t\t\t\t\t\"I\": 'registry',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Edit registry\"\n\t\t\t\t},\n\t\t\t\t\"/tenant/oauth/user\": {\n\t\t\t\t\t\"I\": 'integration_user',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Edit an integration user\"\n\t\t\t\t},\n\t\t\t\t\"/collection/:id/apis\": {\n\t\t\t\t\t\"I\": 'collection',\n\t\t\t\t\t\"A\": 'update_apis',\n\t\t\t\t\t\"M\": \"Update the APIs list of a  workspace collection\"\n\t\t\t\t},\n\t\t\t\t\"/collection/:id/api/:apiId\": {\n\t\t\t\t\t\"I\": 'collection',\n\t\t\t\t\t\"A\": 'update_api',\n\t\t\t\t\t\"M\": \"Update the API of in workspace collection\"\n\t\t\t\t},\n\t\t\t\t\"/collection/:id\": {\n\t\t\t\t\t\"I\": 'collection',\n\t\t\t\t\t\"A\": 'update',\n\t\t\t\t\t\"M\": \"Update a workspace collection\"\n\t\t\t\t},\n\t\t\t\t\"/collection/proxy\": {\n\t\t\t\t\t\"I\": 'collection',\n\t\t\t\t\t\"A\": 'proxy',\n\t\t\t\t\t\"M\": \"Fetch a workspace collection request\"\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"delete\": {\n\t\t\t\t\"/registry/db/custom\": {\n\t\t\t\t\t\"I\": 'registry_db',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a database\"\n\t\t\t\t},\n\t\t\t\t\"/registry/custom/acl\": {\n\t\t\t\t\t\"I\": 'registry_custom',\n\t\t\t\t\t\"A\": 'delete_acl',\n\t\t\t\t\t\"M\": \"Delete the custom registry group configuration\"\n\t\t\t\t},\n\t\t\t\t\"/registry/custom\": {\n\t\t\t\t\t\"I\": 'registry_custom',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a custom registry\"\n\t\t\t\t},\n\t\t\t\t\"/registry/resource/acl\": {\n\t\t\t\t\t\"I\": 'registry_resource',\n\t\t\t\t\t\"A\": 'delete_acl',\n\t\t\t\t\t\"M\": \"Delete the resource registry group configuration\"\n\t\t\t\t},\n\t\t\t\t\"/registry/resource\": {\n\t\t\t\t\t\"I\": 'registry_resource',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a resource registry configuration\"\n\t\t\t\t},\n\t\t\t\t\"/environment/acl\": {\n\t\t\t\t\t\"I\": 'env_aclGroups',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete the environment group configuration\"\n\t\t\t\t},\n\t\t\t\t\"/environment\": {\n\t\t\t\t\t\"I\": 'env',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete an environment\"\n\t\t\t\t},\n\t\t\t\t\"/tenant/oauth/user\": {\n\t\t\t\t\t\"I\": 'integration_user',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete an integration user\"\n\t\t\t\t},\n\t\t\t\t\"/collection/:id\": {\n\t\t\t\t\t\"I\": 'collection',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a workspace collection\"\n\t\t\t\t},\n\t\t\t\t\"/collection/:id/api/:apiId\": {\n\t\t\t\t\t\"I\": 'collection',\n\t\t\t\t\t\"A\": 'delete_api',\n\t\t\t\t\t\"M\": \"Delete an API from a workspace collection\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"marketplace\": {\n\t\t\t\"post\": {\n\t\t\t\t\"/recipe\": {\n\t\t\t\t\t\"I\": 'market_recipe',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a recipe\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"put\": {\n\t\t\t\t\"/item/resource\": {\n\t\t\t\t\t\"I\": 'market_item_resource',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add/Update a resource item\"\n\t\t\t\t},\n\t\t\t\t\"/item/deploy/build\": {\n\t\t\t\t\t\"I\": 'market_item',\n\t\t\t\t\t\"A\": 'build',\n\t\t\t\t\t\"M\": \"Save deployment configuration and deploy\"\n\t\t\t\t},\n\t\t\t\t\"/item/deploy/configure\": {\n\t\t\t\t\t\"I\": 'market_item',\n\t\t\t\t\t\"A\": 'configure',\n\t\t\t\t\t\"M\": \"Configure a deployment for an item\"\n\t\t\t\t},\n\t\t\t\t\"/item/deploy/redeploy\": {\n\t\t\t\t\t\"I\": 'market_item',\n\t\t\t\t\t\"A\": 'redeploy',\n\t\t\t\t\t\"M\": \"Redeploy an item\"\n\t\t\t\t},\n\t\t\t\t\"/recipe\": {\n\t\t\t\t\t\"I\": 'market_recipe',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Edit a recipe\"\n\t\t\t\t},\n\t\t\t\t\"/item/acl\": {\n\t\t\t\t\t\"I\": 'market_item',\n\t\t\t\t\t\"A\": 'settings_groups',\n\t\t\t\t\t\"M\": \"Update the item group configuration\"\n\t\t\t\t},\n\t\t\t\t\"/item/environments\": {\n\t\t\t\t\t\"I\": 'market_item',\n\t\t\t\t\t\"A\": 'settings_environments',\n\t\t\t\t\t\"M\": \"Update the item environment configuration\"\n\t\t\t\t},\n\t\t\t\t\"/item/recipes\": {\n\t\t\t\t\t\"I\": 'market_item',\n\t\t\t\t\t\"A\": 'settings_recipe',\n\t\t\t\t\t\"M\": \"Update the item recipe configuration\"\n\t\t\t\t},\n\t\t\t\t\"/soajs/item/acl\": {\n\t\t\t\t\t\"I\": 'market_item_soajs',\n\t\t\t\t\t\"A\": 'settings_groups',\n\t\t\t\t\t\"M\": \"Update a soajs item group configuration\"\n\t\t\t\t},\n\t\t\t\t\"/soajs/item/environments\": {\n\t\t\t\t\t\"I\": 'market_item_soajs',\n\t\t\t\t\t\"A\": 'settings_environments',\n\t\t\t\t\t\"M\": \"Update a soajs item environment configuration\"\n\t\t\t\t},\n\t\t\t\t\"/soajs/item/recipes\": {\n\t\t\t\t\t\"I\": 'market_item_soajs',\n\t\t\t\t\t\"A\": 'settings_recipe',\n\t\t\t\t\t\"M\": \"Update a soajs item recipe configuration\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"delete\": {\n\t\t\t\t\"/item\": {\n\t\t\t\t\t\"I\": 'market_item',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete an item from a catalog (Resource)\"\n\t\t\t\t},\n\t\t\t\t\"/item/configure/deploy\": {\n\t\t\t\t\t\"I\": 'market_item_configure',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete the deployment configuration of an item\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"repositories\": {\n\t\t\t\"post\": {\n\t\t\t\t\"/git/account\": {\n\t\t\t\t\t\"I\": 'repo_account',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a git account\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"put\": {\n\t\t\t\t\"/git/sync/account\": {\n\t\t\t\t\t\"I\": 'repo_account',\n\t\t\t\t\t\"A\": 'synchronize',\n\t\t\t\t\t\"M\": \"Synchronize a git account\"\n\t\t\t\t},\n\t\t\t\t\"/git/account\": {\n\t\t\t\t\t\"I\": 'repo_account',\n\t\t\t\t\t\"A\": 'upgrade',\n\t\t\t\t\t\"M\": \"Upgrade a git account from public to private\"\n\t\t\t\t},\n\t\t\t\t\"/git/repo/activate\": {\n\t\t\t\t\t\"I\": 'repo',\n\t\t\t\t\t\"A\": 'turnOn',\n\t\t\t\t\t\"M\": \"Turn on a repository\"\n\t\t\t\t},\n\t\t\t\t\"/git/repo/deactivate\": {\n\t\t\t\t\t\"I\": 'repo',\n\t\t\t\t\t\"A\": 'turnOff',\n\t\t\t\t\t\"M\": \"Turn off a repository\"\n\t\t\t\t},\n\t\t\t\t\"/git/sync/repository\": {\n\t\t\t\t\t\"I\": 'repo',\n\t\t\t\t\t\"A\": 'synchronize',\n\t\t\t\t\t\"M\": \"Synchronise a repository\"\n\t\t\t\t},\n\t\t\t\t\"/git/branch/activate\": {\n\t\t\t\t\t\"I\": 'repo_branch',\n\t\t\t\t\t\"A\": 'turnOn',\n\t\t\t\t\t\"M\": \"Turn on a branch\"\n\t\t\t\t},\n\t\t\t\t\"/git/branch/deactivate\": {\n\t\t\t\t\t\"I\": 'repo_branch',\n\t\t\t\t\t\"A\": 'turnOff',\n\t\t\t\t\t\"M\": \"Turn off a branch\"\n\t\t\t\t},\n\t\t\t\t\"/git/sync/branch\": {\n\t\t\t\t\t\"I\": 'repo_branch',\n\t\t\t\t\t\"A\": 'synchronize',\n\t\t\t\t\t\"M\": \"Synchronise a branch\"\n\t\t\t\t},\n\t\t\t\t\"/git/tag/activate\": {\n\t\t\t\t\t\"I\": 'repo_tag',\n\t\t\t\t\t\"A\": 'turnOn',\n\t\t\t\t\t\"M\": \"Turn on a tag\"\n\t\t\t\t},\n\t\t\t\t\"/git/tag/deactivate\": {\n\t\t\t\t\t\"I\": 'repo_tag',\n\t\t\t\t\t\"A\": 'turnOff',\n\t\t\t\t\t\"M\": \"Turn off a tag\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"delete\": {\n\t\t\t\t\"/git/account\": {\n\t\t\t\t\t\"I\": 'repo_account',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a git account\"\n\t\t\t\t},\n\t\t\t\t\"/git/repo\": {\n\t\t\t\t\t\"I\": 'repo',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a repository\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"multitenant\": {\n\t\t\t\"put\": {\n\t\t\t\t\"/product\": {\n\t\t\t\t\t\"I\": 'product',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Edit a product\"\n\t\t\t\t},\n\t\t\t\t\"/product/package\": {\n\t\t\t\t\t\"I\": 'package',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Edit a product package\"\n\t\t\t\t},\n\t\t\t\t\"/product/package/acl/env\": {\n\t\t\t\t\t\"I\": 'package',\n\t\t\t\t\t\"A\": 'acl',\n\t\t\t\t\t\"M\": \"Edit a product package ACL\"\n\t\t\t\t},\n\t\t\t\t\"/product/console/package\": {\n\t\t\t\t\t\"I\": 'console_package',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Edit the information of a console package\"\n\t\t\t\t},\n\t\t\t\t\"/product/console/package/acl/env\": {\n\t\t\t\t\t\"I\": 'console_package',\n\t\t\t\t\t\"A\": 'acl',\n\t\t\t\t\t\"M\": \"Edit the ACL of a console package\"\n\t\t\t\t},\n\t\t\t\t\"/admin/tenant/application/key/config\": {\n\t\t\t\t\t\"I\": 'tenant_application_key',\n\t\t\t\t\t\"A\": 'configure',\n\t\t\t\t\t\"M\": \"Configure tenant application key by environment\"\n\t\t\t\t},\n\t\t\t\t\"/tenant/console/application/key/config\": {\n\t\t\t\t\t\"I\": 'tenant_console_application_key',\n\t\t\t\t\t\"A\": 'configure',\n\t\t\t\t\t\"M\": \"Update console configuration\"\n\t\t\t\t},\n\t\t\t\t\"/admin/tenant/application/key/ext\": {\n\t\t\t\t\t\"I\": 'tenant_application_ekey',\n\t\t\t\t\t\"A\": 'configure',\n\t\t\t\t\t\"M\": \"Configure tenant application external key by environment\"\n\t\t\t\t},\n\t\t\t\t\"/admin/tenant/oauth\": {\n\t\t\t\t\t\"I\": 'tenant',\n\t\t\t\t\t\"A\": 'configure',\n\t\t\t\t\t\"M\": \"Configure tenant oauth\"\n\t\t\t\t},\n\t\t\t\t\"/admin/tenant\": {\n\t\t\t\t\t\"I\": 'tenant',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Update tenant\"\n\t\t\t\t},\n\t\t\t\t\"/admin/tenant/application\": {\n\t\t\t\t\t\"I\": 'tenant_application',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Update tenant application\"\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t\"/tenant/console\": {\n\t\t\t\t\t\"I\": 'console_tenant',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Update console integration tenant\"\n\t\t\t\t},\n\t\t\t\t\"/tenant/console/application\": {\n\t\t\t\t\t\"I\": 'console_tenant_application',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Update console tenant application\"\n\t\t\t\t},\n\t\t\t\t\"/tenant/console/application/key/ext\": {\n\t\t\t\t\t\"I\": 'console_tenant_application_ekey',\n\t\t\t\t\t\"A\": 'configure',\n\t\t\t\t\t\"M\": \"Configure console tenant application external key by environment\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"post\": {\n\t\t\t\t\"/product\": {\n\t\t\t\t\t\"I\": 'product',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a product\"\n\t\t\t\t},\n\t\t\t\t\"/product/package\": {\n\t\t\t\t\t\"I\": 'package',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a product package\"\n\t\t\t\t},\n\t\t\t\t\"/product/console/package\": {\n\t\t\t\t\t\"I\": 'console_package',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a console package\"\n\t\t\t\t},\n\t\t\t\t\"/admin/tenant/application/key\": {\n\t\t\t\t\t\"I\": 'tenant_application_key',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a tenant application key\"\n\t\t\t\t},\n\t\t\t\t\"/tenant\": {\n\t\t\t\t\t\"I\": 'tenant',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a tenant\"\n\t\t\t\t},\n\t\t\t\t\"/admin/tenant/application\": {\n\t\t\t\t\t\"I\": 'tenant_application',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a tenant application\"\n\t\t\t\t},\n\t\t\t\t\"/admin/tenant/application/key/ext\": {\n\t\t\t\t\t\"I\": 'tenant_application_ekey',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a tenant application external key\"\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t\"/tenant/console\": {\n\t\t\t\t\t\"I\": 'console_tenant',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a console integration tenant\"\n\t\t\t\t},\n\t\t\t\t\"/tenant/console/application\": {\n\t\t\t\t\t\"I\": 'console_tenant_application',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a console tenant application\"\n\t\t\t\t},\n\t\t\t\t\"/tenant/console/application/key\": {\n\t\t\t\t\t\"I\": 'console_tenant_application_key',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a console tenant application key\"\n\t\t\t\t},\n\t\t\t\t\"/tenant/console/application/key/ext\": {\n\t\t\t\t\t\"I\": 'console_tenant_application_ekey',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a console tenant application external key\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"delete\": {\n\t\t\t\t\"/product\": {\n\t\t\t\t\t\"I\": 'product',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a product\"\n\t\t\t\t},\n\t\t\t\t\"/product/package\": {\n\t\t\t\t\t\"I\": 'package',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a product package\"\n\t\t\t\t},\n\t\t\t\t\"/product/console/package\": {\n\t\t\t\t\t\"I\": 'console_package',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a console package\"\n\t\t\t\t},\n\t\t\t\t\"/tenant\": {\n\t\t\t\t\t\"I\": 'tenant',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a tenant\"\n\t\t\t\t},\n\t\t\t\t\"/tenant/console\": {\n\t\t\t\t\t\"I\": 'console_tenant',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a console integration tenant\"\n\t\t\t\t},\n\t\t\t\t\"/tenant/application\": {\n\t\t\t\t\t\"I\": 'tenant_application',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a tenant application\"\n\t\t\t\t},\n\t\t\t\t\"/tenant/application/key\": {\n\t\t\t\t\t\"I\": 'tenant_application_key',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a tenant application key\"\n\t\t\t\t},\n\t\t\t\t\"/tenant/application/key/ext\": {\n\t\t\t\t\t\"I\": 'tenant_application_ekey',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a tenant application external key\"\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t\"/tenant/console/application\": {\n\t\t\t\t\t\"I\": 'console_tenant_application',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a console tenant application\"\n\t\t\t\t},\n\t\t\t\t\"/tenant/console/application/key\": {\n\t\t\t\t\t\"I\": 'console_tenant_application_key',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a console tenant application key\"\n\t\t\t\t},\n\t\t\t\t\"/tenant/console/application/key/ext\": {\n\t\t\t\t\t\"I\": 'console_tenant_application_ekey',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a console tenant application external key\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"urac\": {\n\t\t\t\"put\": {\n\t\t\t\t\"/admin/group\": {\n\t\t\t\t\t\"I\": 'group',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Edit a group\"\n\t\t\t\t},\n\t\t\t\t\"/admin/user\": {\n\t\t\t\t\t\"I\": 'user',\n\t\t\t\t\t\"A\": 'edit',\n\t\t\t\t\t\"M\": \"Edit a user\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"post\": {\n\t\t\t\t\"/admin/group\": {\n\t\t\t\t\t\"I\": 'group',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a group\"\n\t\t\t\t},\n\t\t\t\t\"/admin/user\": {\n\t\t\t\t\t\"I\": 'user',\n\t\t\t\t\t\"A\": 'add',\n\t\t\t\t\t\"M\": \"Add a user\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"delete\": {\n\t\t\t\t\"/admin/group\": {\n\t\t\t\t\t\"I\": 'group',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a group\"\n\t\t\t\t},\n\t\t\t\t\"/admin/user\": {\n\t\t\t\t\t\"I\": 'user',\n\t\t\t\t\t\"A\": 'delete',\n\t\t\t\t\t\"M\": \"Delete a user\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"default\": {\n\t\t\"infra\": {\n\t\t\t\"get\": {\n\t\t\t\t\"/cd/tokens\": {\n\t\t\t\t\t\"M\": \"Get the list of continuous delivery tokens\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/clusters/Namespace\": {\n\t\t\t\t\t\"M\": \"Get the list of available namespaces\"\n\t\t\t\t},\n\t\t\t\t\"/account/kubernetes\": {\n\t\t\t\t\t\"M\": \"Get the list of available infrastructure accounts\"\n\t\t\t\t},\n\t\t\t\t\"/manual/awareness\": {\n\t\t\t\t\t\"M\": \"Trigger manual awareness\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/workloads/:mode\": {\n\t\t\t\t\t\"M\": \"Get the list of available workload by mode\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/clusters/:mode\": {\n\t\t\t\t\t\"M\": \"Get the list of available cluster by mode\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/configurations/:mode\": {\n\t\t\t\t\t\"M\": \"Get the list of available configurations by mode\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/services/:mode\": {\n\t\t\t\t\t\"M\": \"Get the list of available services by mode\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/item/inspect\": {\n\t\t\t\t\t\"M\": \"Inspect an item\"\n\t\t\t\t},\n\t\t\t\t\"/kubernetes/storages/:mode\": {\n\t\t\t\t\t\"M\": \"Get the list of available storage by mode\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"console\": {\n\t\t\t\"get\": {\n\t\t\t\t\"/api/acl/usage/tenants\": {\n\t\t\t\t\t\"M\": \"Get the API usage information by tenant and environment\"\n\t\t\t\t},\n\t\t\t\t\"/api/acl/usage\": {\n\t\t\t\t\t\"M\": \"Get the API usage information by product and environment\"\n\t\t\t\t},\n\t\t\t\t\"/dashboard/services\": {\n\t\t\t\t\t\"M\": \"Get the list of available Services\"\n\t\t\t\t},\n\t\t\t\t\"/dashboard/apis/v2\": {\n\t\t\t\t\t\"M\": \"Get the list of available APIs as well as the related metadata\"\n\t\t\t\t},\n\t\t\t\t\"/apis/v2\": {\n\t\t\t\t\t\"M\": \"Get the list of available APIs\"\n\t\t\t\t},\n\t\t\t\t\"/tenant/oauth/users\": {\n\t\t\t\t\t\"M\": \"Get the list of integration users\"\n\t\t\t\t},\n\t\t\t\t\"/ledger\": {\n\t\t\t\t\t\"M\": \"Get the list of available notifications\"\n\t\t\t\t},\n\t\t\t\t\"/registry/throttling\": {\n\t\t\t\t\t\"M\": \"Get the list of available throttling by environment\"\n\t\t\t\t},\n\t\t\t\t\"/registry/custom\": {\n\t\t\t\t\t\"M\": \"Get the list of available custom registry by environment\"\n\t\t\t\t},\n\t\t\t\t\"/registry/resource\": {\n\t\t\t\t\t\"M\": \"Get the list of available resource configuration by environment\"\n\t\t\t\t},\n\t\t\t\t\"/environment\": {\n\t\t\t\t\t\"M\": \"Get the list of available environment\"\n\t\t\t\t},\n\t\t\t\t\"/environment/settings\": {\n\t\t\t\t\t\"M\": \"Get the environment settings\"\n\t\t\t\t},\n\t\t\t\t\"/registry/deployer\": {\n\t\t\t\t\t\"M\": \"Get the environment infrastructure deployment information\"\n\t\t\t\t},\n\t\t\t\t\"/registry\": {\n\t\t\t\t\t\"M\": \"Get the registry information by environment\"\n\t\t\t\t},\n\t\t\t\t\"/collections\": {\n\t\t\t\t\t\"M\": \"Get the list of workspace collections\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"marketplace\": {\n\t\t\t\"get\": {\n\t\t\t\t\"/recipes/ids\": {\n\t\t\t\t\t\"M\": \"Get the list of specific recipes by IDs\"\n\t\t\t\t},\n\t\t\t\t\"/recipes\": {\n\t\t\t\t\t\"M\": \"Get the list of available recipes\"\n\t\t\t\t},\n\t\t\t\t\"/soajs/items\": {\n\t\t\t\t\t\"M\": \"Get the list of available soajs items\"\n\t\t\t\t},\n\t\t\t\t\"/items\": {\n\t\t\t\t\t\"M\": \"Get the list of available items\"\n\t\t\t\t},\n\t\t\t\t\"/item/type\": {\n\t\t\t\t\t\"M\": \"Get an item by type\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"put\": {\n\t\t\t\t\"/item/maintenance\": {\n\t\t\t\t\t\"M\": \"Trigger maintenance command on an item\"\n\t\t\t\t},\n\t\t\t\t\"/item/deploy/cd\": {\n\t\t\t\t\t\"isPublic\": true,\n\t\t\t\t\t\"M\": \"To deploy an item from an integration tool programmatically\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"multitenant\": {\n\t\t\t\"get\": {\n\t\t\t\t\"/tenant/console\": {\n\t\t\t\t\t\"M\": \"Get the information of the console tenant\"\n\t\t\t\t},\n\t\t\t\t\"/tenants/console\": {\n\t\t\t\t\t\"M\": \"Get the list of the console tenants\"\n\t\t\t\t},\n\t\t\t\t\"/product/console\": {\n\t\t\t\t\t\"M\": \"Get the information of the console product\"\n\t\t\t\t},\n\t\t\t\t\"/products/console\": {\n\t\t\t\t\t\"M\": \"Get the list of the console products\"\n\t\t\t\t},\n\t\t\t\t\"/products\": {\n\t\t\t\t\t\"M\": \"Get the list of available products\"\n\t\t\t\t},\n\t\t\t\t\"/product\": {\n\t\t\t\t\t\"M\": \"Get the information of a specific product\"\n\t\t\t\t},\n\t\t\t\t\"/tenants\": {\n\t\t\t\t\t\"M\": \"Get the list of available tenants\"\n\t\t\t\t},\n\t\t\t\t\"/tenant/tenants\": {\n\t\t\t\t\t\"M\": \"Get the list of available sub tenants for a specific main tenant\"\n\t\t\t\t},\n\t\t\t\t\"/admin/tenant\": {\n\t\t\t\t\t\"M\": \"Get the information of a specific tenant by id\"\n\t\t\t\t},\n\t\t\t\t\"/admin/tenant/name\": {\n\t\t\t\t\t\"M\": \"Get the information of a specific tenant by name\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"repositories\": {\n\t\t\t\"get\": {\n\t\t\t\t\"/git/account\": {\n\t\t\t\t\t\"M\": \"Get the infromation of a specific git account\"\n\t\t\t\t},\n\t\t\t\t\"/git/accounts\": {\n\t\t\t\t\t\"M\": \"Get the list of available git accounts\"\n\t\t\t\t},\n\t\t\t\t\"/git/tag\": {\n\t\t\t\t\t\"M\": \"Get a specific tag by repository\"\n\t\t\t\t},\n\t\t\t\t\"/git/tags\": {\n\t\t\t\t\t\"M\": \"Get the list of available tags by repository\"\n\t\t\t\t},\n\t\t\t\t\"/git/branch\": {\n\t\t\t\t\t\"M\": \"Get the list of available branches by repository\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"post\": {\n\t\t\t\t\"/git/repos\": {\n\t\t\t\t\t\"M\": \"List repositories with advance search capabilities\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"urac\": {\n\t\t\t\"get\": {\n\t\t\t\t\"/admin/groups\": {\n\t\t\t\t\t\"M\": \"List of groups\"\n\t\t\t\t},\n\t\t\t\t\"/admin/users\": {\n\t\t\t\t\t\"M\": \"List of users\"\n\t\t\t\t},\n\t\t\t\t\"/admin/users/count\": {\n\t\t\t\t\t\"M\": \"Count of users\"\n\t\t\t\t},\n\t\t\t\t\"/password/forgot\": {\n\t\t\t\t\t\"isPublic\": true,\n\t\t\t\t\t\"M\": \"Request a forgot password email\"\n\t\t\t\t},\n\t\t\t\t\"/user\": {\n\t\t\t\t\t\"M\": \"Get the logged in user information\"\n\t\t\t\t},\n\t\t\t\t\"/emailToken\": {\n\t\t\t\t\t\"isPublic\": true,\n\t\t\t\t\t\"M\": \"Email a token if the previous one expired\"\n\t\t\t\t},\n\t\t\t\t\"/validate/changeEmail\": {\n\t\t\t\t\t\"isPublic\": true,\n\t\t\t\t\t\"M\": \"Validate the email of changed email\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"put\": {\n\t\t\t\t\"/account\": {\n\t\t\t\t\t\"M\": \"Update account information\"\n\t\t\t\t},\n\t\t\t\t\"/account/email\": {\n\t\t\t\t\t\"M\": \"Update the email\"\n\t\t\t\t},\n\t\t\t\t\"/account/password\": {\n\t\t\t\t\t\"M\": \"Update the password\"\n\t\t\t\t},\n\t\t\t\t\"/pasword/reset\": {\n\t\t\t\t\t\"isPublic\": true,\n\t\t\t\t\t\"M\": \"Reset the password\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"oauth\": {\n\t\t\t\"get\": {\n\t\t\t\t\"/available/login\": {\n\t\t\t\t\t\"isPublic\": true,\n\t\t\t\t\t\"M\": \"Available third party login\"\n\t\t\t\t},\n\t\t\t\t\"/passport/login/:strategy\": {\n\t\t\t\t\t\"isPublic\": true,\n\t\t\t\t\t\"M\": \"Login with third party\"\n\t\t\t\t},\n\t\t\t\t\"/passport/validate/:strategy\": {\n\t\t\t\t\t\"isPublic\": true,\n\t\t\t\t\t\"M\": \"Validate a third party login\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"post\": {\n\t\t\t\t\"/token\": {\n\t\t\t\t\t\"isPublic\": true,\n\t\t\t\t\t\"M\": \"Login and get a valid access token\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"delete\": {\n\t\t\t\t\"/accessToken/:token\": {\n\t\t\t\t\t\"isPublic\": true,\n\t\t\t\t\t\"M\": \"Delete the access token\"\n\t\t\t\t},\n\t\t\t\t\"/refreshToken/:token\": {\n\t\t\t\t\t\"isPublic\": true,\n\t\t\t\t\t\"M\": \"Delete the refresh token\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"soaanalytics\": {\n\t\t\t\"get\": {\n\t\t\t\t\"/api/acl/usage\": {\n\t\t\t\t\t\"M\": \"Get the API usage information by tenant, product and environment\"\n\t\t\t\t},\n\t\t\t\t\"/dashboard/services\": {\n\t\t\t\t\t\"M\": \"Get the list of available Services\"\n\t\t\t\t},\n\t\t\t\t\"/dashboard/apis/v2\": {\n\t\t\t\t\t\"M\": \"Get the list of available APIs as well as the related metadata\"\n\t\t\t\t},\n\t\t\t\t\"/apis/v2\": {\n\t\t\t\t\t\"M\": \"Get the list of available APIs\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"soamonitor\": {\n\t\t\t\"get\": {\n\t\t\t\t\"/monitor/analytics/:type\": {\n\t\t\t\t\t\"M\": \"Get the analytic information per type (API, Service, tenant, User)\"\n\t\t\t\t},\n\t\t\t\t\"/monitor/items\": {\n\t\t\t\t\t\"M\": \"Get the list of daily API requests\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"versions\": {\n\t\t\"console\": \"1\",\n\t\t\"marketplace\": \"1\",\n\t\t\"repositories\": \"1\",\n\t\t\"multitenant\": \"1\",\n\t\t\"urac\": \"3\",\n\t\t\"oauth\": \"1\",\n\t\t\"infra\": \"1\",\n\t\t\"soaanalytics\": \"1\",\n\t\t\"soamonitor\": \"1\"\n\t}\n};\n\nexport default APIs;\n","import {AbilityBuilder} from '@casl/ability';\nimport {UracService} from \"./index\";\nimport {NotificationManager} from \"../components\";\n\nimport APIs from \"../../../availableAbilities\";\n\nconst uracService = UracService.getService();\n\n\nasync function updateAbility(ability, extKey, forceLoad) {\n\tconst {can, rules} = new AbilityBuilder();\n\tlet userACL = null;\n\ttry {\n\t\tuserACL = await uracService.getUserACL(extKey, forceLoad);\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n\tif (userACL && userACL.finalACL) {\n\t\tlet abilityAdded = 0;\n\t\tif (APIs && APIs.abilities) {\n\t\t\tlet services = Object.keys(APIs.abilities);\n\t\t\tfor (let i = 0; i < services.length; i++) {\n\t\t\t\tif (userACL.finalACL[services[i]]) {\n\t\t\t\t\tlet allAPiAvailable = false;\n\t\t\t\t\tif (userACL.acl[services[i]] &&\n\t\t\t\t\t\tuserACL.acl[services[i]][APIs.versions[services[i]]] &&\n\t\t\t\t\t\t(!userACL.acl[services[i]][APIs.versions[services[i]]].apisPermission ||\n\t\t\t\t\t\t\tuserACL.acl[services[i]][APIs.versions[services[i]]].apisPermission !== \"restricted\")) {\n\t\t\t\t\t\tallAPiAvailable = true;\n\t\t\t\t\t}\n\t\t\t\t\tlet methods = Object.keys(APIs.abilities[services[i]]);\n\t\t\t\t\tfor (let j = 0; j < methods.length; j++) {\n\t\t\t\t\t\tlet apis = Object.keys(APIs.abilities[services[i]][methods[j]]);\n\t\t\t\t\t\tfor (let k = 0; k < apis.length; k++) {\n\t\t\t\t\t\t\tlet enableThisAbility = false;\n\t\t\t\t\t\t\tif (!allAPiAvailable) {\n\t\t\t\t\t\t\t\tif (userACL.finalACL[services[i]][methods[j]] &&\n\t\t\t\t\t\t\t\t\tuserACL.finalACL[services[i]][methods[j]].includes(apis[k])) {\n\t\t\t\t\t\t\t\t\tenableThisAbility = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tenableThisAbility = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (enableThisAbility) {\n\t\t\t\t\t\t\t\tif (Array.isArray(APIs.abilities[services[i]][methods[j]][apis[k]])) {\n\t\t\t\t\t\t\t\t\tfor (let l = 0; l < APIs.abilities[services[i]][methods[j]][apis[k]].length; l++) {\n\t\t\t\t\t\t\t\t\t\tif (APIs.abilities[services[i]][methods[j]][apis[k]][l].I &&\n\t\t\t\t\t\t\t\t\t\t\tAPIs.abilities[services[i]][methods[j]][apis[k]][l].A) {\n\t\t\t\t\t\t\t\t\t\t\tcan(APIs.abilities[services[i]][methods[j]][apis[k]][l].I, APIs.abilities[services[i]][methods[j]][apis[k]][l].A);\n\t\t\t\t\t\t\t\t\t\t\tabilityAdded++;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"Skipping: \", APIs.abilities[services[i]][methods[j]][apis[k]][l].M);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (APIs.abilities[services[i]][methods[j]][apis[k]].I &&\n\t\t\t\t\t\t\t\t\t\tAPIs.abilities[services[i]][methods[j]][apis[k]].A) {\n\t\t\t\t\t\t\t\t\t\tcan(APIs.abilities[services[i]][methods[j]][apis[k]].I, APIs.abilities[services[i]][methods[j]][apis[k]].A);\n\t\t\t\t\t\t\t\t\t\tabilityAdded++\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"Skipping: \", APIs.abilities[services[i]][methods[j]][apis[k]].M);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (Array.isArray(APIs.abilities[services[i]][methods[j]][apis[k]])) {\n\t\t\t\t\t\t\t\t\tfor (let l = 0; l < APIs.abilities[services[i]][methods[j]][apis[k]].length; l++) {\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"Disabled: \", APIs.abilities[services[i]][methods[j]][apis[k]][l].I, APIs.abilities[services[i]][methods[j]][apis[k]][l].A);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tconsole.log(\"Disabled: \", APIs.abilities[services[i]][methods[j]][apis[k]].I, APIs.abilities[services[i]][methods[j]][apis[k]].A);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconsole.log(\"Abilities Added: \" + abilityAdded);\n\t}\n\tability.update(rules);\n}\n\nconst AbilitiesService = (function () {\n\tlet _service;\n\t\n\tfunction _getService() {\n\t\tif (!_service) {\n\t\t\t_service = this;\n\t\t\treturn _service\n\t\t}\n\t\treturn _service\n\t}\n\t\n\tfunction _createUserAbilities(ability, forceLoad) {\n\t\treturn new Promise((resolve) => {\n\t\t\tability.on('updated', resolve);\n\t\t\tupdateAbility(ability, null, forceLoad);\n\t\t});\n\t}\n\t\n\tfunction _updateUserAbilities(ability, extKey) {\n\t\treturn new Promise((resolve) => {\n\t\t\tability.on('updated', resolve);\n\t\t\tupdateAbility(ability, extKey, false);\n\t\t});\n\t}\n\t\n\treturn {\n\t\tgetService: _getService,\n\t\tcreateUserAbilities: _createUserAbilities,\n\t\tupdateUserAbilities: _updateUserAbilities\n\t}\n})();\nexport default AbilitiesService;\n","import React, {useEffect, useState} from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport {Link} from 'react-router-dom';\nimport {useAppContext} from \"../../libs/contextLib\";\nimport {useFormFields} from \"../../libs/hooksLib\";\nimport {LoaderButton} from \"../../helpers\";\n\nimport {NotificationManager, ThirdPartyLogin} from '../components';\nimport {AbilitiesService, LocalStorageService, OauthService, UracService} from \"../services\";\nimport {useTranslation} from \"react-i18next\";\n\nconst localStorageService = LocalStorageService.getService();\nconst oauthService = OauthService.getService();\nconst uracService = UracService.getService();\nconst abilitiesService = AbilitiesService.getService();\n\nexport default function Login() {\n\tconst {t} = useTranslation([\"common\", \"urac\"]);\n\tconst {isAuthenticated, userHasAuthenticated, setFirstName, ability} = useAppContext();\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [isThirdParty, setIsThirdParty] = useState(false);\n\tconst [loginOptions, setLoginOptions] = useState({\n\t\t\"local\": {\"available\": true},\n\t\t\"thirdparty\": []\n\t});\n\tconst [fields, handleFieldChange] = useFormFields({\n\t\temail: \"\",\n\t\tpassword: \"\"\n\t});\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (!isAuthenticated) {\n\t\t\t\t\tconst res = await oauthService.availableLogin();\n\t\t\t\t\t// let res = {\n\t\t\t\t\t// \t\"local\": {\"available\": true},\n\t\t\t\t\t// \t\"thirdparty\": [\"facebook\", \"google\", \"twitter\", \"apple\"]\n\t\t\t\t\t// };\n\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\tsetLoginOptions(res);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t//NotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, [isAuthenticated]);\n\t\n\tfunction validateForm() {\n\t\treturn fields.email.length > 0 && fields.password.length > 0;\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\t\n\t\tsetIsLoading(true);\n\t\t\n\t\ttry {\n\t\t\tawait oauthService.login(fields.email, fields.password);\n\t\t\tawait uracService.getUser();\n\t\t\tawait abilitiesService.createUserAbilities(ability, true);\n\t\t\tsetIsLoading(false);\n\t\t\tsetFirstName(localStorageService.getFirstname());\n\t\t\tuserHasAuthenticated(true);\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t\tsetIsLoading(false);\n\t\t}\n\t\t\n\t}\n\t\n\tasync function handleThirdParty(event, strategy) {\n\t\tevent.preventDefault();\n\t\t\n\t\tsetIsThirdParty(true);\n\t\t\n\t\tlet key = null;\n\t\tif (window.apiSettings && window.apiSettings.key) {\n\t\t\tkey = window.apiSettings.key;\n\t\t}\n\t\tlet apiEndpoint = null;\n\t\tif (window.apiSettings && window.apiSettings.api) {\n\t\t\tapiEndpoint = window.apiSettings.api;\n\t\t}\n\t\tif (key && apiEndpoint) {\n\t\t\twindow.location = apiEndpoint + \"/oauth/passport/login/\" + strategy + \"?key=\" + key;\n\t\t} else {\n\t\t\tNotificationManager.error(strategy + \" login is not available at this time\");\n\t\t}\n\t\t\n\t\tsetIsThirdParty(false);\n\t}\n\t\n\treturn (\n\t\t<div className=\"URAC\">\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group controlId=\"email\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Email or Username\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tvalue={fields.email}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"password\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Password\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={fields.password}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Text className=\"pb-3 text-right\" muted>\n\t\t\t\t\t<Link to=\"/forgot-password\">{t(\"urac:Forgot Password\")}</Link>\n\t\t\t\t</Form.Text>\n\t\t\t\t<LoaderButton\n\t\t\t\t\tblock\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"urac:button.Login\")}\n\t\t\t\t</LoaderButton>\n\t\t\t\t<ThirdPartyLogin\n\t\t\t\t\tstrategies={loginOptions.thirdparty}\n\t\t\t\t\tonRequest={handleThirdParty}\n\t\t\t\t\tisThirdParty={isThirdParty}\n\t\t\t\t/>\n\t\t\t</Form>\n\t\t</div>\n\t);\n}\n","import React, {useState} from \"react\";\nimport Form from \"react-bootstrap/Form\";\n\nimport {useFormFields} from \"../../libs/hooksLib\";\nimport {LoaderButton} from \"../../helpers\";\n\nimport {NotificationManager} from '../components';\nimport {UracService} from \"../services\";\nimport {useTranslation} from \"react-i18next\";\n\nconst uracService = UracService.getService();\n\nexport default function ForgotPassword() {\n\tconst {t} = useTranslation([\"common\", \"urac\"]);\n\tconst [fields, handleFieldChange] = useFormFields({\n\t\tusername: \"\"\n\t});\n\tconst [isLoading, setIsLoading] = useState(false);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.username.length > 0\n\t\t);\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\t\n\t\tsetIsLoading(true);\n\t\t\n\t\ttry {\n\t\t\tawait uracService.forgotPassword(fields.username);\n\t\t\tNotificationManager.success(t(\"urac:msg.forgotPasswordSuccess\"));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t\t\n\t\tsetIsLoading(false);\n\t}\n\t\n\treturn (\n\t\t<div className=\"URAC\">\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group controlId=\"username\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Email or Username\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype=\"username\"\n\t\t\t\t\t\tvalue={fields.password}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{t(\"urac:msg.forgotPassword\")}\n\t\t\t\t</Form.Text>\n\t\t\t\t<LoaderButton\n\t\t\t\t\tblock\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"urac:button.Request\")}\n\t\t\t\t</LoaderButton>\n\t\t\t</Form>\n\t\t</div>\n\t);\n}","import React, {useState} from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport {useHistory, useLocation, Link} from \"react-router-dom\";\n\nimport {LoaderButton} from \"../../helpers\";\nimport {useFormFields} from \"../../libs/hooksLib\";\n\nimport {NotificationManager} from '../components';\nimport {UracService} from \"../services\";\nimport {useTranslation} from \"react-i18next\";\n\nconst uracService = UracService.getService();\n\nexport default function ResetPassword() {\n\tconst {t} = useTranslation([\"common\", \"urac\"]);\n\tconst [fields, handleFieldChange] = useFormFields({\n\t\tnewPassword: \"\",\n\t\tconfirmNewPassword: \"\"\n\t});\n\tconst [isLoading, setIsLoading] = useState(false);\n\t\n\tconst history = useHistory();\n\t\n\tfunction useQuery() {\n\t\treturn new URLSearchParams(useLocation().search);\n\t}\n\t\n\tlet query = useQuery();\n\tconst token = query.get(\"token\");\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.newPassword.length > 0 &&\n\t\t\tfields.newPassword === fields.confirmNewPassword\n\t\t);\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\t\n\t\tsetIsLoading(true);\n\t\t\n\t\ttry {\n\t\t\tawait uracService.resetPassword(token, fields.newPassword, fields.confirmNewPassword);\n\t\t\tNotificationManager.success(t(\"urac:msg.resetPasswordSuccess\"));\n\t\t\tsetIsLoading(false);\n\t\t\thistory.push(\"/home\");\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t\tsetIsLoading(false);\n\t\t}\n\t\t\n\t}\n\t\n\tfunction validatingForm() {\n\t\treturn (\n\t\t\t<Form>\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{t(\"urac:msg.resetPasswordError\")}\n\t\t\t\t\t@ <Link to=\"/forgot-password\">{t(\"urac:Forgot Password\")}</Link>.\n\t\t\t\t</Form.Text>\n\t\t\t</Form>\n\t\t);\n\t}\n\t\n\tfunction resetForm() {\n\t\treturn (\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group controlId=\"newPassword\">\n\t\t\t\t\t<Form.Label>{t(\"urac:New Password\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={fields.newPassword}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"confirmNewPassword\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Confirm Password\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\tvalue={fields.confirmNewPassword}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<LoaderButton\n\t\t\t\t\tblock\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"urac:button.Change\")}\n\t\t\t\t</LoaderButton>\n\t\t\t</Form>\n\t\t);\n\t}\n\t\n\treturn (\n\t\t<div className=\"URAC\">\n\t\t\t{!token ? validatingForm() : resetForm()}\n\t\t</div>\n\t);\n}","import React, {useState} from \"react\";\nimport Form from \"react-bootstrap/Form\";\n\nimport {useFormFields} from \"../../libs/hooksLib\";\nimport {LoaderButton} from \"../../helpers\";\n\nimport {NotificationManager} from '../components';\nimport {UracService} from \"../services\";\nimport {useTranslation} from \"react-i18next\";\n\nconst uracService = UracService.getService();\n\nexport default function ChangePassword() {\n\tconst {t} = useTranslation([\"common\", \"urac\"]);\n\tconst [fields, handleFieldChange] = useFormFields({\n\t\tpassword: \"\",\n\t\tnewPassword: \"\",\n\t\tconfirmNewPassword: \"\"\n\t});\n\tconst [isLoading, setIsLoading] = useState(false);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.password.length > 0 &&\n\t\t\tfields.newPassword.length > 0 &&\n\t\t\tfields.newPassword === fields.confirmNewPassword\n\t\t);\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\t\n\t\tsetIsLoading(true);\n\t\t\n\t\ttry {\n\t\t\tawait uracService.changePassword(fields.password, fields.newPassword, fields.confirmNewPassword);\n\t\t\tNotificationManager.success(t(\"urac:msg.changePasswordSuccess\"));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t\t\n\t\tsetIsLoading(false);\n\t}\n\t\n\treturn (\n\t\t<div className=\"URAC\">\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group controlId=\"password\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Existing Password\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={fields.password}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"newPassword\">\n\t\t\t\t\t<Form.Label>{t(\"urac:New Password\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={fields.newPassword}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"confirmNewPassword\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Confirm Password\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\tvalue={fields.confirmNewPassword}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<LoaderButton\n\t\t\t\t\tblock\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"urac:button.Change\")}\n\t\t\t\t</LoaderButton>\n\t\t\t</Form>\n\t\t</div>\n\t);\n}","import React, {useState} from \"react\";\nimport Form from \"react-bootstrap/Form\";\n\nimport {useFormFields} from \"../../libs/hooksLib\";\nimport {LoaderButton} from \"../../helpers\";\n\nimport {NotificationManager} from '../components';\nimport {UracService} from \"../services\";\nimport {useTranslation} from \"react-i18next\";\n\nconst uracService = UracService.getService();\n\nexport default function ChangeEmail() {\n\tconst {t} = useTranslation([\"common\", \"urac\"]);\n\tconst [fields, handleFieldChange] = useFormFields({\n\t\tnewEmail: \"\",\n\t\tconfirmNewEmail: \"\",\n\t});\n\tconst [isLoading, setIsLoading] = useState(false);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.newEmail.length > 0 &&\n\t\t\tfields.newEmail === fields.confirmNewEmail\n\t\t);\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\t\n\t\tsetIsLoading(true);\n\t\t\n\t\ttry {\n\t\t\tawait uracService.changeEmail(fields.newEmail);\n\t\t\tNotificationManager.success(t(\"urac:msg.changeEmailSuccess\"));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t\t\n\t\tsetIsLoading(false);\n\t}\n\t\n\treturn (\n\t\t<div className=\"URAC\">\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group controlId=\"newEmail\">\n\t\t\t\t\t<Form.Label>{t(\"urac:New Email\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tvalue={fields.newEmail}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"confirmNewEmail\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Confirm New Email\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tvalue={fields.confirmNewEmail}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{t(\"urac:msg.changeEmail\")}\n\t\t\t\t</Form.Text>\n\t\t\t\t<LoaderButton\n\t\t\t\t\tblock\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"urac:button.Change\")}\n\t\t\t\t</LoaderButton>\n\t\t\t</Form>\n\t\t</div>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport {useLocation} from \"react-router-dom\";\n\nimport {NotificationManager} from '../components';\nimport {UracService} from \"../services\";\nimport {useTranslation} from \"react-i18next\";\n\nconst uracService = UracService.getService();\n\nexport default function ValidateChangeEmail() {\n\tconst {t} = useTranslation([\"common\", \"urac\"]);\n\tconst [validating, setValidating] = useState(false);\n\tconst [validatingMsg, setValidatingMsg] = useState(t(\"urac:msg.validateChangeEmailProcess\"));\n\t\n\tfunction useQuery() {\n\t\treturn new URLSearchParams(useLocation().search);\n\t}\n\t\n\tlet query = useQuery();\n\tconst token = query.get(\"token\");\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\tlet valid = false;\n\t\t\ttry {\n\t\t\t\tif (token) {\n\t\t\t\t\tvalid = await uracService.validateChangeEmail(token);\n\t\t\t\t} else {\n\t\t\t\t\tNotificationManager.warning(t(\"urac:msg.validateChangeEmailError\"));\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetValidatingMsg(t(\"urac:msg.validateChangeEmailError\"));\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetValidating(valid);\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, [token, t]);\n\t\n\tfunction validatingErrorForm() {\n\t\treturn (\n\t\t\t<Form>\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{t(\"urac:msg.validateChangeEmailError2\")}\n\t\t\t\t</Form.Text>\n\t\t\t</Form>\n\t\t);\n\t}\n\t\n\tfunction validatingForm() {\n\t\treturn (\n\t\t\t<Form>\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{validatingMsg}\n\t\t\t\t</Form.Text>\n\t\t\t</Form>\n\t\t);\n\t}\n\t\n\tfunction renderConfirmationForm() {\n\t\treturn (\n\t\t\t<Form>\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{t(\"urac:msg.validateChangeEmailSuccess\")}\n\t\t\t\t</Form.Text>\n\t\t\t</Form>\n\t\t);\n\t}\n\t\n\treturn (\n\t\t<div className=\"URAC\">\n\t\t\t{!token ? validatingErrorForm() : (!validating ? validatingForm() : renderConfirmationForm())}\n\t\t</div>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport Form from \"react-bootstrap/Form\";\n\nimport {useAppContext} from \"../../libs/contextLib\";\nimport {LoaderButton} from \"../../helpers\";\n\nimport {JsonEditor, NotificationManager} from '../components';\nimport {LocalStorageService, UracService} from \"../services\";\nimport {useTranslation} from \"react-i18next\";\n\nconst localStorageService = LocalStorageService.getService();\nconst uracService = UracService.getService();\n\nexport default function MyProfile() {\n\tconst {t} = useTranslation([\"common\", \"urac\"]);\n\tconst {setFirstName} = useAppContext();\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [fields, setFields] = useState({\n\t\tfirstName: \"\",\n\t\tlastName: \"\",\n\t\temail: \"\",\n\t\tusername: \"\",\n\t\tprofile: {}\n\t});\n\tlet profile = null;\n\t\n\tfunction handleFieldChange(event) {\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: event.target.value\n\t\t});\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tconst user = await uracService.getUser();\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetFields({\n\t\t\t\t\t\tfirstName: user.firstName,\n\t\t\t\t\t\tlastName: user.lastName,\n\t\t\t\t\t\temail: user.email,\n\t\t\t\t\t\tusername: user.username,\n\t\t\t\t\t\tprofile: user.profile\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.firstName.length > 0 &&\n\t\t\tfields.lastName.length > 0\n\t\t);\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\t\n\t\tsetIsLoading(true);\n\t\tif (fields.profile && !profile) {\n\t\t\tprofile = fields.profile;\n\t\t}\n\t\ttry {\n\t\t\tconst res = await uracService.updateMyProfile(fields, profile);\n\t\t\tsetFirstName(localStorageService.getFirstname());\n\t\t\tNotificationManager.success(res);\n\t\t\tsetFields({\n\t\t\t\t...fields,\n\t\t\t\t\"profile\": profile\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t\t\n\t\tsetIsLoading(false);\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\tif (json) {\n\t\t\tprofile = json;\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<div className=\"URAC\">\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group size=\"lg\" controlId=\"firstName\">\n\t\t\t\t\t<Form.Label>{t(\"urac:First name\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tvalue={fields.firstName}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group size=\"lg\" controlId=\"lastName\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Last name\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tvalue={fields.lastName}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group size=\"lg\" controlId=\"email\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Email\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\treadOnly\n\t\t\t\t\t\tvalue={fields.email}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group size=\"lg\" controlId=\"username\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Username\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tvalue={fields.username}\n\t\t\t\t\t\treadOnly\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<JsonEditor\n\t\t\t\t\tmode='code'\n\t\t\t\t\tjson={profile || fields.profile}\n\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t/>\n\t\t\t\t<LoaderButton\n\t\t\t\t\tblock\n\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"urac:button.Change\")}\n\t\t\t\t</LoaderButton>\n\t\t\t</Form>\n\t\t</div>\n\t);\n}","import React, {useState} from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport {useHistory} from \"react-router-dom\";\n\nimport {useFormFields} from \"../../libs/hooksLib\";\nimport {LoaderButton} from \"../../helpers\";\n\nimport {NotificationManager} from '../components';\nimport {UracService} from \"../services\";\nimport {useTranslation} from \"react-i18next\";\n\nconst uracService = UracService.getService();\n\nexport default function Signup() {\n\tconst {t} = useTranslation([\"common\", \"urac\"]);\n\tconst [fields, handleFieldChange] = useFormFields({\n\t\tusername: \"\",\n\t\tfirstName: \"\",\n\t\tlastName: \"\",\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t\tconfirmPassword: \"\"\n\t});\n\tconst history = useHistory();\n\tconst [isLoading, setIsLoading] = useState(false);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.username.length > 4 &&\n\t\t\tfields.firstName.length > 0 &&\n\t\t\tfields.lastName.length > 0 &&\n\t\t\tfields.email.length > 0 &&\n\t\t\tfields.password.length > 0 &&\n\t\t\tfields.password === fields.confirmPassword\n\t\t);\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\t\n\t\tsetIsLoading(true);\n\t\t\n\t\ttry {\n\t\t\tawait uracService.signup(fields);\n\t\t\tNotificationManager.success(t(\"urac:msg.signupSuccess\"));\n\t\t\tsetIsLoading(false);\n\t\t\thistory.push(\"/home\");\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t\tsetIsLoading(false);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<div className=\"URAC\">\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group controlId=\"username\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Username\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tvalue={fields.username}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"firstName\">\n\t\t\t\t\t<Form.Label>{t(\"urac:First Name\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tvalue={fields.firstName}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"lastName\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Last Name\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tvalue={fields.lastName}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"email\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Email\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tvalue={fields.email}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"password\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Password\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={fields.password}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"confirmPassword\">\n\t\t\t\t\t<Form.Label>{t(\"urac:Confirm Password\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\tvalue={fields.confirmPassword}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{t(\"urac:msg.signup\")}\n\t\t\t\t</Form.Text>\n\t\t\t\t<LoaderButton\n\t\t\t\t\tblock\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"urac:button.Signup\")}\n\t\t\t\t</LoaderButton>\n\t\t\t</Form>\n\t\t</div>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport {useLocation, Link} from \"react-router-dom\";\nimport {LoaderButton} from \"../../helpers\";\nimport {useFormFields} from \"../../libs/hooksLib\";\n\nimport {NotificationManager} from '../components';\nimport {UracService} from \"../services\";\nimport {useTranslation} from \"react-i18next\";\n\nconst uracService = UracService.getService();\n\nexport default function ValidateSignup() {\n\tconst {t} = useTranslation([\"common\", \"urac\"]);\n\tconst [validating, setValidating] = useState(null);\n\tconst [fields, handleFieldChange] = useFormFields({\n\t\tusername: \"\"\n\t});\n\tconst [isLoading, setIsLoading] = useState(false);\n\t\n\tfunction useQuery() {\n\t\treturn new URLSearchParams(useLocation().search);\n\t}\n\t\n\tlet query = useQuery();\n\tconst token = query.get(\"token\");\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\tlet valid = false;\n\t\t\ttry {\n\t\t\t\tif (token) {\n\t\t\t\t\tvalid = await uracService.validateJoin(token);\n\t\t\t\t} else {\n\t\t\t\t\tNotificationManager.warning(t(\"urac:msg.validateSignupWarning\"));\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetValidating({\n\t\t\t\t\tsuccess: valid\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => isSubscribed = false;\n\t}, [token, t]);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.username.length > 0\n\t\t);\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\t\n\t\tsetIsLoading(true);\n\t\t\n\t\ttry {\n\t\t\tawait uracService.emailToken(fields.username);\n\t\t\tNotificationManager.success(t(\"urac:msg.validateSignupSuccess\"));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t\t\n\t\tsetIsLoading(false);\n\t}\n\t\n\tfunction validatingForm() {\n\t\treturn (\n\t\t\t<Form>\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{t(\"urac:msg.validateSignupProcess\")}\n\t\t\t\t</Form.Text>\n\t\t\t</Form>\n\t\t);\n\t}\n\t\n\tfunction renderConfirmationForm() {\n\t\treturn (\n\t\t\t<Form>\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{t(\"urac:msg.validateSignupConfirm\")} <Link to=\"/sign-in\">{t(\"common:ClickHere\")}</Link>\n\t\t\t\t</Form.Text>\n\t\t\t</Form>\n\t\t);\n\t}\n\t\n\tfunction renderSendValidationForm() {\n\t\treturn (\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group controlId=\"username\">\n\t\t\t\t\t<Form.Label>Username or Email</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tvalue={fields.username}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{t(\"urac:msg.validateSignupSuccess2\")}\n\t\t\t\t</Form.Text>\n\t\t\t\t<LoaderButton\n\t\t\t\t\tblock\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"urac:button.Request\")}\n\t\t\t\t</LoaderButton>\n\t\t\t</Form>\n\t\t);\n\t}\n\t\n\treturn (\n\t\t<div className=\"URAC\">\n\t\t\t{validating === null ? validatingForm() : (validating.success ? renderConfirmationForm() : renderSendValidationForm())}\n\t\t</div>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport {useLocation, useParams} from \"react-router-dom\";\n\nimport {useAppContext} from \"../../libs/contextLib\";\n\nimport {NotificationManager} from '../components';\nimport {AbilitiesService, LocalStorageService, OauthService, UracService} from \"../services\";\nimport {useTranslation} from \"react-i18next\";\n\nconst localStorageService = LocalStorageService.getService();\nconst oauthService = OauthService.getService();\nconst uracService = UracService.getService();\nconst abilitiesService = AbilitiesService.getService();\n\nexport default function ThirdPartyLogin() {\n\tconst {t} = useTranslation([\"common\", \"urac\"]);\n\tconst {strategy} = useParams();\n\tconst thirdPartyParams = useLocation().search;\n\tconst {userHasAuthenticated, setFirstName, ability} = useAppContext();\n\tconst [validating, setValidating] = useState(false);\n\tconst [confirmationMsg, setConfirmationMsg] = useState(strategy + t(\"urac:msg.thirdPartyLoginConfirm\"));\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tawait oauthService.validateThirdPartyLogin(strategy, thirdPartyParams);\n\t\t\t\tawait uracService.getUser();\n\t\t\t\tawait abilitiesService.createUserAbilities(ability, true);\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetFirstName(localStorageService.getFirstname());\n\t\t\t\t\tuserHasAuthenticated(true);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetConfirmationMsg(strategy + t(\"urac:msg.thirdPartyLoginError\"));\n\t\t\t\t}\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tsetValidating(true);\n\t\t\n\t\tonLoad();\n\t\treturn () => isSubscribed = false;\n\t}, [strategy, setFirstName, userHasAuthenticated, thirdPartyParams, ability, t]);\n\t\n\t\n\tfunction validatingForm() {\n\t\treturn (\n\t\t\t<Form>\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{strategy} : {t(\"urac:msg.thirdPartyLoginProcess\")}\n\t\t\t\t</Form.Text>\n\t\t\t</Form>\n\t\t);\n\t}\n\t\n\tfunction renderConfirmationForm() {\n\t\treturn (\n\t\t\t<Form>\n\t\t\t\t<Form.Text className=\"pb-3\" muted>\n\t\t\t\t\t{confirmationMsg}\n\t\t\t\t</Form.Text>\n\t\t\t</Form>\n\t\t);\n\t}\n\t\n\treturn (\n\t\t<div className=\"URAC\">\n\t\t\t{!validating ? validatingForm() : renderConfirmationForm()}\n\t\t</div>\n\t);\n}\n","import Login from \"./Login.js\";\nimport ForgotPassword from \"./ForgotPassword.js\";\nimport ResetPassword from \"./ResetPassword.js\";\nimport ChangePassword from \"./ChangePassword.js\";\nimport ChangeEmail from \"./ChangeEmail.js\";\nimport ValidateChangeEmail from \"./ValidateChangeEmail.js\";\nimport MyProfile from \"./MyProfile.js\";\nimport SignUp from \"./Signup.js\";\nimport ValidateSignup from \"./ValidateSignup.js\";\nimport ThirdPartyLogin from \"./ThirdPartyLogin.js\";\n\nexport {\n\tLogin,\n\tForgotPassword,\n\tResetPassword,\n\tChangePassword,\n\tChangeEmail,\n\tValidateChangeEmail,\n\tMyProfile,\n\tSignUp,\n\tValidateSignup,\n\tThirdPartyLogin\n};\nexport default Login;\n","export default __webpack_public_path__ + \"static/media/emmp.f4b56e1b.png\";","import React from \"react\";\nimport {Card, Row, Col, Alert, Badge} from \"react-bootstrap\";\nimport {useTranslation} from \"react-i18next\";\n\nimport Emmp from \"../../images/emmp.png\";\nimport {Link} from 'react-router-dom';\n\nexport default function Home() {\n\tconst {t} = useTranslation(\"common\");\n\treturn (\n\t\t<div className=\"container mt-3\" style={{\"minHeight\": \"500px\"}}>\n\t\t\t<Alert variant=\"primary\">\n\t\t\t\tYou can start by connecting <b>SOAJS</b> to your <Badge variant=\"secondary\">Infrastructures</Badge> and <Badge variant=\"secondary\">GIT Accounts</Badge> from under <Link to=\"/settings\">{t(\"soajs:menu.Manage\")}</Link>.\n\t\t\t</Alert>\n\t\t\t<Card className=\"mb-3 text-white\" bg={\"dark\"}>\n\t\t\t\t<Card.Header>\n\t\t\t\t\t{t(\"welcome\")}\n\t\t\t\t</Card.Header>\n\t\t\t\t<Card.Body>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col className=\"small\">\n\t\t\t\t\t\t\t<img alt=\"microservice management platform\" className=\"float-right\" src={Emmp} style={{\"width\":\"50%\"}} />\n\t\t\t\t\t\t\tThe only complete, end-to-end microservices management platform, SOAJS simplifies and\n\t\t\t\t\t\t\taccelerates the adoption of multitenant microservices architecture by eliminating\n\t\t\t\t\t\t\tproliferation pain.\n\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\tThe SOAJS platform empowers organizations to create and operate a microservices architecture\n\t\t\t\t\t\t\tcapable of supporting any framework while providing API productization, multi-tenancy,\n\t\t\t\t\t\t\tmulti-layer security, cataloging, awareness, and adaptable to existing source code; to\n\t\t\t\t\t\t\tautomatically catalog and release software components with multi-tenant, multi-version and\n\t\t\t\t\t\t\tmulti-platform capabilities.\n\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\tSOAJS integrates and orchestrates multiple infrastructures and technologies in a simplistic\n\t\t\t\t\t\t\tand secured approach while accelerating the release cycle with custom continuous integration\n\t\t\t\t\t\t\t& a smart continuous delivery pipeline.\n\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\tThe SOAJS platform is capable of creating and managing custom environments per product, per\n\t\t\t\t\t\t\tdepartment, per team, per resource, and per technology in a simplistic approach empowering\n\t\t\t\t\t\t\tevery member of the organization.\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Card.Body>\n\t\t\t</Card>\n\t\t</div>\n\t);\n}","import React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function NoAccess() {\n\tconst {t} = useTranslation(\"common\");\n\treturn (\n\t\t<div className=\"container mt-3\">\n\t\t\t<h3>{t(\"NoAccess\")}</h3>\n\t\t</div>\n\t);\n}","import React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function NotFound() {\n\tconst {t} = useTranslation(\"common\");\n\treturn (\n\t\t<div className=\"container mt-3\">\n\t\t\t<h3>{t(\"NotFound\")}</h3>\n\t\t</div>\n\t);\n}","function resolveErrorResponse(error) {\n\tlet msg = \"\";\n\tif (error.data && error.data.errors && error.data.errors.details) {\n\t\tfor (let i = 0; i < error.data.errors.details.length; i++) {\n\t\t\tmsg = msg + error.data.errors.details[0].message;\n\t\t\tif ((i + 1) < error.data.errors.details.length) {\n\t\t\t\tmsg = msg + \" - \";\n\t\t\t}\n\t\t}\n\t}\n\treturn (msg === \"\" ? null : msg);\n}\n\nconst response_then = (res, errorMsg) => {\n\tif (res && res.data && res.data.result) {\n\t\treturn Promise.resolve(res.data.data);\n\t} else {\n\t\treturn response_catch(res, errorMsg);\n\t}\n};\nconst response_catch = (error, errorMsg) => {\n\tlet msg = resolveErrorResponse(error.response);\n\tif (msg && msg.indexOf(\"not updated\") !== -1) {\n\t\treturn Promise.reject(new Error(\"Nothing to update!\"));\n\t}\n\tmsg = msg || errorMsg || \"Unable to proceed please try again later\";\n\treturn Promise.reject(new Error(msg));\n};\n\nexport {response_then, response_catch};\n\nexport default response_then;","import axios from \"axios\";\nimport {response_catch, response_then} from \"./commonResponse\";\n\nconst RepositoriesService = (function () {\n\tlet _service = null;\n\t\n\tfunction _getService() {\n\t\tif (!_service) {\n\t\t\t_service = this;\n\t\t\treturn _service;\n\t\t}\n\t\treturn _service;\n\t}\n\t\n\tfunction _getGitBranch(fields) {\n\t\treturn axios.get(\"/repositories/git/branch\", {\"params\": fields})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getGitAccount(id) {\n\t\treturn axios.get(\"/repositories/git/account?id=\" + id)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getGitAccounts() {\n\t\treturn axios.get(\"/repositories/git/accounts\")\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getRepositories(criteria) {\n\t\treturn axios.post(\"/repositories/git/repos\", criteria)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _addGitAccount(fields) {\n\t\treturn axios.post(\"/repositories/git/account\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _deleteGitAccount(id) {\n\t\treturn axios.delete(\"/repositories/git/account?id=\" + id)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _syncGitAccount(id) {\n\t\treturn axios.put(\"/repositories/git/sync/account?id=\" + id)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _upgradeGitAccount(fields) {\n\t\treturn axios.put(\"/repositories/git/account?id=\" + fields.id, fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _deleteRepository(fields) {\n\t\tlet url = \"/repositories/git/repo\";\n\t\turl = url + \"?id=\" + fields.id;\n\t\turl = url + \"&owner=\" + fields.owner;\n\t\turl = url + \"&provider=\" + fields.provider;\n\t\t\n\t\treturn axios.delete(url)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _turnOnRepository(fields) {\n\t\tlet url = \"/repositories/git/repo/activate\";\n\t\turl = url + \"?id=\" + fields.id;\n\t\turl = url + \"&owner=\" + fields.owner;\n\t\turl = url + \"&provider=\" + fields.provider;\n\t\t\n\t\treturn axios.put(url)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _turnOffRepository(fields) {\n\t\tlet url = \"/repositories/git/repo/deactivate\";\n\t\turl = url + \"?id=\" + fields.id;\n\t\turl = url + \"&owner=\" + fields.owner;\n\t\turl = url + \"&provider=\" + fields.provider;\n\t\t\n\t\treturn axios.put(url)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _syncRepository(fields) {\n\t\tlet url = \"/repositories/git/sync/repository\";\n\t\turl = url + \"?id=\" + fields.id;\n\t\turl = url + \"&owner=\" + fields.owner;\n\t\turl = url + \"&provider=\" + fields.provider;\n\t\t\n\t\treturn axios.put(url)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _turnOnBranch(fields) {\n\t\tlet url = \"/repositories/git/branch/activate\";\n\t\turl = url + \"?id=\" + fields.id;\n\t\turl = url + \"&owner=\" + fields.owner;\n\t\turl = url + \"&provider=\" + fields.provider;\n\t\turl = url + \"&branch=\" + fields.branch;\n\t\t\n\t\treturn axios.put(url)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _turnOffBranch(fields) {\n\t\tlet url = \"/repositories/git/branch/deactivate\";\n\t\turl = url + \"?id=\" + fields.id;\n\t\turl = url + \"&owner=\" + fields.owner;\n\t\turl = url + \"&provider=\" + fields.provider;\n\t\turl = url + \"&branch=\" + fields.branch;\n\t\t\n\t\treturn axios.put(url)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _syncBranch(fields) {\n\t\tlet url = \"/repositories/git/sync/branch\";\n\t\turl = url + \"?id=\" + fields.id;\n\t\turl = url + \"&owner=\" + fields.owner;\n\t\turl = url + \"&provider=\" + fields.provider;\n\t\turl = url + \"&branch=\" + fields.branch;\n\t\t\n\t\treturn axios.put(url)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _turnOnTag(fields) {\n\t\tlet url = \"/repositories/git/tag/activate\";\n\t\turl = url + \"?id=\" + fields.id;\n\t\turl = url + \"&owner=\" + fields.owner;\n\t\turl = url + \"&provider=\" + fields.provider;\n\t\turl = url + \"&tag=\" + fields.tag;\n\t\t\n\t\treturn axios.put(url)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _turnOffTag(fields) {\n\t\tlet url = \"/repositories/git/tag/deactivate\";\n\t\turl = url + \"?id=\" + fields.id;\n\t\turl = url + \"&owner=\" + fields.owner;\n\t\turl = url + \"&provider=\" + fields.provider;\n\t\turl = url + \"&tag=\" + fields.tag;\n\t\t\n\t\treturn axios.put(url)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getTag(fields) {\n\t\treturn axios.get(\"/repositories/git/tag?id=\" + fields.id + \"&tag=\" + fields.tag)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getTags(fields) {\n\t\treturn axios.get(\"/repositories/git/tags?id=\" + fields.id + \"&size=\" + fields.count)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\treturn {\n\t\tgetService: _getService,\n\t\t\n\t\tgetGitBranch: _getGitBranch,\n\t\t\n\t\tgetGitAccount: _getGitAccount,\n\t\tgetGitAccounts: _getGitAccounts,\n\t\tgetRepositories: _getRepositories,\n\t\taddGitAccount: _addGitAccount,\n\t\tdeleteGitAccount: _deleteGitAccount,\n\t\tsyncGitAccount: _syncGitAccount,\n\t\tupgradeGitAccount: _upgradeGitAccount,\n\t\t\n\t\tdeleteRepository: _deleteRepository,\n\t\tturnOnRepository: _turnOnRepository,\n\t\tturnOffRepository: _turnOffRepository,\n\t\tsyncRepository: _syncRepository,\n\t\tturnOnBranch: _turnOnBranch,\n\t\tturnOffBranch: _turnOffBranch,\n\t\tsyncBranch: _syncBranch,\n\t\tturnOnTag: _turnOnTag,\n\t\tturnOffTag: _turnOffTag,\n\t\tgetTag: _getTag,\n\t\tgetTags: _getTags\n\t}\n})();\nexport default RepositoriesService;","import axios from \"axios\";\nimport {response_catch, response_then} from \"./commonResponse\";\n\nconst MarketplaceService = (function () {\n\tlet _service = null;\n\t\n\tfunction _getService() {\n\t\tif (!_service) {\n\t\t\t_service = this;\n\t\t\treturn _service;\n\t\t}\n\t\treturn _service;\n\t}\n\t\n\tfunction _getItem(name, type) {\n\t\treturn axios.get(\"/marketplace/item/type?name=\" + name + \"&type=\" + type)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getItems(criteria) {\n\t\tlet url = \"/marketplace/items\";\n\t\tif (criteria) {\n\t\t\tif (criteria.subType && criteria.subType === \"soajs\") {\n\t\t\t\turl = \"/marketplace/soajs/items\";\n\t\t\t}\n\t\t\tif (criteria.type) {\n\t\t\t\turl = url + \"?type=\" + criteria.type;\n\t\t\t}\n\t\t\tif (criteria.limit) {\n\t\t\t\turl = url + \"&limit=\" + criteria.limit;\n\t\t\t}\n\t\t\tif (criteria.start) {\n\t\t\t\turl = url + \"&start=\" + criteria.start;\n\t\t\t}\n\t\t\tif (criteria.keywords) {\n\t\t\t\turl = url + \"&keywords=\" + criteria.keywords;\n\t\t\t}\n\t\t}\n\t\treturn axios.get(url)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getRecipes(criteria) {\n\t\tlet url = \"/marketplace/recipes\";\n\t\tif (criteria) {\n\t\t\turl = url + \"?count=true\";\n\t\t\tif (criteria.limit) {\n\t\t\t\turl = url + \"&limit=\" + criteria.limit;\n\t\t\t}\n\t\t\tif (criteria.start) {\n\t\t\t\turl = url + \"&start=\" + criteria.start;\n\t\t\t}\n\t\t\tif (criteria.keywords) {\n\t\t\t\turl = url + \"&keywords=\" + criteria.keywords;\n\t\t\t}\n\t\t}\n\t\treturn axios.get(url)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getRecipesByIds(ids) {\n\t\t\n\t\treturn axios.get(\"/marketplace/recipes/ids\", {\"params\": {\"ids\": ids}})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _updateSettingsGroups(fields) {\n\t\tlet url = \"/marketplace/item/acl\";\n\t\tif (fields.subType === \"soajs\") {\n\t\t\turl = \"/marketplace/soajs/item/acl\";\n\t\t}\n\t\tlet data = {\n\t\t\t\"id\": fields.id,\n\t\t\t\"type\": fields.type,\n\t\t\t\"groups\": fields.groups\n\t\t};\n\t\treturn axios.put(url, data)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _updateSettingsRecipes(fields) {\n\t\tlet url = \"/marketplace/item/recipes\";\n\t\tif (fields.subType === \"soajs\") {\n\t\t\turl = \"/marketplace/soajs/item/recipes\";\n\t\t}\n\t\tlet data = {\n\t\t\t\"id\": fields.id,\n\t\t\t\"recipes\": fields.recipes\n\t\t};\n\t\treturn axios.put(url, data)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _updateSettingsEnvironments(fields) {\n\t\tlet url = \"/marketplace/item/environments\";\n\t\tif (fields.subType === \"soajs\") {\n\t\t\turl = \"/marketplace/soajs/item/environments\";\n\t\t}\n\t\tlet data = {\n\t\t\t\"id\": fields.id,\n\t\t\t\"type\": fields.type,\n\t\t\t\"environments\": fields.environments\n\t\t};\n\t\treturn axios.put(url, data)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _itemMaintenance(fields) {\n\t\tlet url = \"/marketplace/item/maintenance\";\n\t\tlet qs = {\n\t\t\t\"name\": fields.name,\n\t\t\t\"env\": fields.env,\n\t\t\t\"type\": fields.type,\n\t\t\t\"version\": fields.version,\n\t\t\t\"operation\": fields.operation\n\t\t};\n\t\tlet data = {\n\t\t\t\"port\": fields.port\n\t\t};\n\t\treturn axios.put(url, data, {\"params\": qs})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _addRecipe(fields) {\n\t\tlet url = \"/marketplace/recipe\";\n\t\tlet data = {\n\t\t\t\"catalog\": fields\n\t\t};\n\t\treturn axios.post(url, data)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _updateRecipe(id, fields) {\n\t\tlet url = \"/marketplace/recipe?id=\" + id;\n\t\tlet data = {\n\t\t\t\"catalog\": fields\n\t\t};\n\t\treturn axios.put(url, data)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _redeploy(fields) {\n\t\tlet url = \"/marketplace/item/deploy/redeploy\";\n\t\tlet options = {\n\t\t\t\"params\": {\n\t\t\t\t\"name\": fields.name,\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"env\": fields.env,\n\t\t\t\t\"version\": fields.version\n\t\t\t}\n\t\t};\n\t\t\n\t\tlet data = {};\n\t\tif (fields.imageTag) {\n\t\t\tdata.image = {\n\t\t\t\t\"tag\": fields.imageTag\n\t\t\t};\n\t\t}\n\t\tif (fields.branch) {\n\t\t\tdata.src = {\n\t\t\t\t\"from\": {\n\t\t\t\t\t\"branch\": fields.branch\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (fields.commit) {\n\t\t\t\tdata.src.from.commit = fields.commit;\n\t\t\t}\n\t\t} else if (fields.tag) {\n\t\t\tdata.src = {\n\t\t\t\t\"from\": {\n\t\t\t\t\t\"tag\": fields.tag\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\treturn axios.put(url, data, options)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _deleteConfigure() {\n\t\n\t}\n\t\n\tfunction _configure(params, data) {\n\t\tlet url = \"/marketplace/item/deploy/configure\";\n\t\tlet options = {\n\t\t\t\"params\": params\n\t\t};\n\t\t\n\t\treturn axios.put(url, data, options)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _build(params, data) {\n\t\tlet url = \"/marketplace/item/deploy/build\";\n\t\tlet options = {\n\t\t\t\"params\": params\n\t\t};\n\t\t\n\t\treturn axios.put(url, data, options)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _addResource(fields) {\n\t\treturn axios.put(\"/marketplace/item/resource\", {\"item\": fields})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _deleteItem(fields) {\n\t\treturn axios.delete(\"/marketplace/item\", {\"params\": {\"type\": fields.type, \"name\": fields.name}})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\treturn {\n\t\tgetService: _getService,\n\t\tgetItems: _getItems,\n\t\tgetItem: _getItem,\n\t\tgetRecipes: _getRecipes,\n\t\tgetRecipesByIds: _getRecipesByIds,\n\t\t\n\t\tupdateSettingsGroups: _updateSettingsGroups,\n\t\tupdateSettingsRecipes: _updateSettingsRecipes,\n\t\tupdateSettingsEnvironments: _updateSettingsEnvironments,\n\t\t\n\t\titemMaintenance: _itemMaintenance,\n\t\t\n\t\taddRecipe: _addRecipe,\n\t\tupdateRecipe: _updateRecipe,\n\t\t\n\t\tredeploy: _redeploy,\n\t\tdeleteConfigure: _deleteConfigure,\n\t\tconfigure: _configure,\n\t\tbuild: _build,\n\t\t\n\t\taddResource: _addResource,\n\t\tdeleteItem: _deleteItem\n\t}\n})();\nexport default MarketplaceService;","import axios from \"axios\";\nimport { response_catch, response_then } from \"./commonResponse\";\n\nconst ConsoleService = (function () {\n\tlet _service = null;\n\n\tfunction _getService() {\n\t\tif (!_service) {\n\t\t\t_service = this;\n\t\t\treturn _service;\n\t\t}\n\t\treturn _service;\n\t}\n\n\tfunction _getUsers(id) {\n\t\treturn axios.get(\"/console/tenant/oauth/users\", { \"params\": { \"id\": id } })\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _addUser(fields) {\n\t\treturn axios.post(\"/console/tenant/oauth/user?id=\" + fields.id,\n\t\t\t{\n\t\t\t\t\"userId\": fields.userId,\n\t\t\t\t\"password\": fields.password\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _deleteUser(id, uid) {\n\t\treturn axios.delete(\"/console/tenant/oauth/user?id=\" + id + \"&uId=\" + uid)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _getLedger(criteria) {\n\t\treturn axios.get(\"/console/ledger\", { \"params\": { \"limit\": criteria.limit, \"start\": criteria.skip } })\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _getThrottlingRegistry(env) {\n\t\treturn axios.get(\"/console/registry/throttling\", { \"params\": { \"env\": env } })\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _getCustomRegistry(env) {\n\t\treturn axios.get(\"/console/registry/custom\", { \"params\": { \"env\": env } })\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _getResourceRegistry(env, type) {\n\t\tlet params = { \"params\": { \"env\": env } };\n\t\tif (type) {\n\t\t\tparams.params.type = type;\n\t\t}\n\t\treturn axios.get(\"/console/registry/resource\", params)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _getEnvironments() {\n\t\treturn axios.get(\"/console/environment\")\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _getEnvironment(code) {\n\t\treturn axios.get(\"/console/environment\", { \"params\": { \"code\": code } })\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _getEnvironmentSettings(code) {\n\t\treturn axios.get(\"/console/environment/settings\", { \"params\": { \"code\": code } })\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _updateEnvironmentNamespace(fields) {\n\t\treturn axios.put(\"/console/environment\",\n\t\t\t{\n\t\t\t\t\"code\": fields.code,\n\t\t\t\t\"settings\": {\n\t\t\t\t\tid: fields.id,\n\t\t\t\t\tnamespace: fields.namespace\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _saveEnvironmentAcl(fields) {\n\t\treturn axios.put(\"/console/environment/acl\",\n\t\t\t{\n\t\t\t\t\"code\": fields.code,\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"groups\": fields.groups\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _deleteEnvironmentAcl(code) {\n\t\treturn axios.delete(\"/console/environment/acl\", { \"params\": { \"code\": code } })\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _getRegistryDeployer(code) {\n\t\treturn axios.get(\"/console/registry/deployer\", { \"params\": { \"env\": code } })\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _getRegistry(code) {\n\t\treturn axios.get(\"/console/registry\", { \"params\": { \"env\": code } })\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _addEnvironment(fields) {\n\t\treturn axios.post(\"/console/environment\",\n\t\t\t{\n\t\t\t\t\"code\": fields.code,\n\t\t\t\t\"description\": fields.description,\n\t\t\t\t\"settings\": fields.settings\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _deleteEnvironment(id) {\n\t\treturn axios.delete(\"/console/environment\", { \"data\": { \"id\": id } })\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _deleteCustomRegistry(id, env) {\n\t\treturn axios.delete(\"/console/registry/custom\", { \"data\": { \"id\": id, \"env\": env } })\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _saveCustomRegistryAcl(fields) {\n\t\treturn axios.put(\"/console/registry/custom/acl\",\n\t\t\t{\n\t\t\t\t\"id\": fields.id,\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"groups\": fields.groups\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _deleteCustomRegistryAcl(id) {\n\t\treturn axios.delete(\"/console/registry/custom/acl\", { \"params\": { \"id\": id } })\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _deleteResourceRegistry(id, env) {\n\t\treturn axios.delete(\"/console/registry/resource\", { \"data\": { \"id\": id, \"env\": env } })\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _saveResourceRegistryAcl(fields) {\n\t\treturn axios.put(\"/console/registry/resource/acl\",\n\t\t\t{\n\t\t\t\t\"id\": fields.id,\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"groups\": fields.groups\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _deleteResourceRegistryAcl(id) {\n\t\treturn axios.delete(\"/console/registry/resource/acl\", { \"params\": { \"id\": id } })\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _unplugPlugCustom(fields) {\n\t\treturn axios.put(\"/console/registry/custom\",\n\t\t\t{\n\t\t\t\t\"id\": fields.id,\n\t\t\t\t\"env\": fields.env,\n\t\t\t\t\"data\": { \"plugged\": fields.plugged }\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _unplugPlugResource(fields) {\n\t\treturn axios.put(\"/console/registry/resource\",\n\t\t\t{\n\t\t\t\t\"id\": fields.id,\n\t\t\t\t\"env\": fields.env,\n\t\t\t\t\"data\": { \"plugged\": fields.plugged }\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _addCustom(env, data) {\n\t\treturn axios.post(\"/console/registry/custom\",\n\t\t\t{\n\t\t\t\t\"env\": env,\n\t\t\t\t\"data\": data\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _updateCustom(env, id, data) {\n\t\treturn axios.put(\"/console/registry/custom\",\n\t\t\t{\n\t\t\t\t\"env\": env,\n\t\t\t\t\"id\": id,\n\t\t\t\t\"data\": data\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _addResource(env, data) {\n\t\treturn axios.post(\"/console/registry/resource\",\n\t\t\t{\n\t\t\t\t\"env\": env,\n\t\t\t\t\"data\": data\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _updateResource(env, id, data) {\n\t\treturn axios.put(\"/console/registry/resource\",\n\t\t\t{\n\t\t\t\t\"env\": env,\n\t\t\t\t\"id\": id,\n\t\t\t\t\"data\": data\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _updateRegistry(data) {\n\t\treturn axios.put(\"/console/registry\", data)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _updateDBPrefix(fields) {\n\t\treturn axios.put(\"/console/registry/db/prefix\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _addDB(fields) {\n\t\treturn axios.post(\"/console/registry/db/custom\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _deleteDB(fields) {\n\t\treturn axios.delete(\"/console/registry/db/custom\", { \"data\": fields })\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _updateThrottling(env, fields) {\n\t\treturn axios.put(\"/console/registry/throttling\", { \"env\": env, \"throttling\": fields })\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\tfunction _getCollections(code) {\n\t\treturn axios.get(\"/console/collections\", { \"params\": { \"env\": code } })\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\tfunction _addCollection(data) {\n\t\treturn axios.post(\"/console/collection\", data)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\tfunction _updateCollectionApis(id, data) {\n\t\treturn axios.put(\"/console/collection/\" + id + \"/apis\", data)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\tfunction _addCollectionApi(id, data) {\n\t\treturn axios.post(\"/console/collection/\" + id + \"/api\", data)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\tfunction _updateCollectionApi(id, apiId, data) {\n\t\treturn axios.put(\"/console/collection/\" + id + \"/api/\" + apiId, data)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\tfunction _deleteCollection(id) {\n\t\treturn axios.delete(\"/console/collection/\" + id)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\tfunction _updateCollection(id, data) {\n\t\treturn axios.put(\"/console/collection/\" + id, data)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\tfunction _deleteCollectionApi(id, apiId) {\n\t\treturn axios.delete(\"/console/collection/\" + id + \"/api/\" + apiId)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\tfunction _fetchProxy(url, config) {\n\t\treturn axios.put(\"/console/collection/proxy\", { url, config })\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\n\treturn {\n\t\tgetService: _getService,\n\t\tgetUsers: _getUsers,\n\t\taddUser: _addUser,\n\t\tdeleteUser: _deleteUser,\n\n\t\tgetLedger: _getLedger,\n\t\tgetThrottlingRegistry: _getThrottlingRegistry,\n\t\tgetCustomRegistry: _getCustomRegistry,\n\t\tgetResourceRegistry: _getResourceRegistry,\n\t\tgetEnvironments: _getEnvironments,\n\t\tgetEnvironment: _getEnvironment,\n\t\tgetEnvironmentSettings: _getEnvironmentSettings,\n\t\tsaveEnvironmentAcl: _saveEnvironmentAcl,\n\t\tdeleteEnvironmentAcl: _deleteEnvironmentAcl,\n\t\tgetRegistryDeployer: _getRegistryDeployer,\n\t\tupdateEnvironmentNamespace: _updateEnvironmentNamespace,\n\t\tgetRegistry: _getRegistry,\n\t\taddEnvironment: _addEnvironment,\n\t\tdeleteEnvironment: _deleteEnvironment,\n\t\tdeleteCustomRegistry: _deleteCustomRegistry,\n\t\tsaveCustomRegistryAcl: _saveCustomRegistryAcl,\n\t\tdeleteCustomRegistryAcl: _deleteCustomRegistryAcl,\n\t\tdeleteResourceRegistry: _deleteResourceRegistry,\n\t\tsaveResourceRegistryAcl: _saveResourceRegistryAcl,\n\t\tdeleteResourceRegistryAcl: _deleteResourceRegistryAcl,\n\t\tunplugPlugCustom: _unplugPlugCustom,\n\t\tunplugPlugResource: _unplugPlugResource,\n\t\taddCustom: _addCustom,\n\t\tupdateCustom: _updateCustom,\n\t\taddResource: _addResource,\n\t\tupdateResource: _updateResource,\n\t\tupdateRegistry: _updateRegistry,\n\t\tupdateDBPrefix: _updateDBPrefix,\n\t\taddDB: _addDB,\n\t\tdeleteDB: _deleteDB,\n\t\tupdateThrottling: _updateThrottling,\n\n\t\tgetCollections: _getCollections,\n\t\taddCollection: _addCollection,\n\t\tupdateCollectionApis: _updateCollectionApis,\n\t\taddCollectionApi: _addCollectionApi,\n\t\tupdateCollectionApi: _updateCollectionApi,\n\t\tdeleteCollection: _deleteCollection,\n\t\tupdateCollection: _updateCollection,\n\t\tdeleteCollectionApi: _deleteCollectionApi,\n\t\tfetchProxy: _fetchProxy\n\t}\n})();\nexport default ConsoleService;","import axios from \"axios\";\nimport {response_catch, response_then} from \"./commonResponse\";\n\nconst MultitenantService = (function () {\n\tlet _service = null;\n\t\n\tfunction _getService() {\n\t\tif (!_service) {\n\t\t\t_service = this;\n\t\t\treturn _service;\n\t\t}\n\t\treturn _service;\n\t}\n\t\n\tfunction _getMyConsoleProduct() {\n\t\treturn axios.get(\"/multitenant/product/console\")\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getMyConsoleTenant() {\n\t\treturn axios.get(\"/multitenant/tenant/console\")\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getProduct(id) {\n\t\treturn axios.get(\"/multitenant/product\", {\"params\": {\"id\": id}})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getProducts() {\n\t\treturn axios.get(\"/multitenant/products\")\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getTenants(criteria) {\n\t\t\n\t\treturn axios.get(\"/multitenant/tenants\", {\n\t\t\t\"params\": {\n\t\t\t\t\"limit\": criteria.limit,\n\t\t\t\t\"start\": criteria.skip,\n\t\t\t\t\"type\": criteria.type,\n\t\t\t\t\"keywords\": criteria.keywords || null,\n\t\t\t\t\"category\": criteria.category || null\n\t\t\t}\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getTenantSubTenants(code, criteria) {\n\t\t\n\t\treturn axios.get(\"/multitenant/tenant/tenants\", {\n\t\t\t\"params\": {\n\t\t\t\t\"limit\": criteria.limit,\n\t\t\t\t\"start\": criteria.skip,\n\t\t\t\t\"keywords\": criteria.keywords || null,\n\t\t\t\t\"code\": code\n\t\t\t}\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _editConsolePackageAclEnv(fields) {\n\t\t// fields = {id, code, type, env, acl}\n\t\treturn axios.put(\"/multitenant/product/console/package/acl/env\",\n\t\t\t{\"acl\": fields.acl},\n\t\t\t{\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"code\": fields.code,\n\t\t\t\t\t\"type\": fields.type,\n\t\t\t\t\t\"env\": fields.env,\n\t\t\t\t\t\"id\": fields.id\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _editConsolepackage(fields) {\n\t\treturn axios.put(\"/multitenant/product/console/package\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _addConsolepackage(fields) {\n\t\treturn axios.post(\"/multitenant/product/console/package\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _deleteConsolepackage(fields) {\n\t\treturn axios.delete(\"/multitenant/product/console/package\", {\"params\": fields})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _deleteTenant(fields) {\n\t\treturn axios.delete(\"/multitenant/tenant\", {\"params\": fields})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _deleteConsoleTenant(fields) {\n\t\treturn axios.delete(\"/multitenant/tenant/console\", {\"params\": fields})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _deleteTenantApplication(fields) {\n\t\treturn axios.delete(\"/multitenant/tenant/application\", {\"params\": fields})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _deleteTenantConsoleApplication(fields) {\n\t\treturn axios.delete(\"/multitenant/tenant/console/application\", {\"params\": fields})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _deleteTenantApplicationKey(fields) {\n\t\treturn axios.delete(\"/multitenant/tenant/application/key\", {\"params\": fields})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _deleteTenantConsoleApplicationKey(fields) {\n\t\treturn axios.delete(\"/multitenant/tenant/console/application/key\", {\"params\": fields})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _deleteTenantApplicationKeyExt(fields) {\n\t\treturn axios.delete(\"/multitenant/tenant/application/key/ext\", {\"params\": fields})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _deleteTenantConsoleApplicationKeyExt(fields) {\n\t\treturn axios.delete(\"/multitenant/tenant/console/application/key/ext\", {\"params\": fields})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _addTenantApplicationKey(data) {\n\t\treturn axios.post(\"/multitenant/admin/tenant/application/key\", data)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _addTenantConsoleApplicationKey(data) {\n\t\treturn axios.post(\"/multitenant/tenant/console/application/key\", data)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _updateTenantApplicationKey(fields) {\n\t\treturn axios.put(\"/multitenant/admin/tenant/application/key/config\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _updateTenantConsoleApplicationKey(fields) {\n\t\treturn axios.put(\"/multitenant/tenant/console/application/key/config\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _updateTenantApplicationExtKey(fields) {\n\t\treturn axios.put(\"/multitenant/admin/tenant/application/key/ext\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _updateTenantConsoleApplicationExtKey(fields) {\n\t\treturn axios.put(\"/multitenant/tenant/console/application/key/ext\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _updateTenantOauth(fields) {\n\t\treturn axios.put(\"/multitenant/admin/tenant/oauth\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _addTenant(fields) {\n\t\treturn axios.post(\"/multitenant/tenant\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _addConsoleTenant(fields) {\n\t\treturn axios.post(\"/multitenant/tenant/console\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _addApplication(fields) {\n\t\treturn axios.post(\"/multitenant/admin/tenant/application\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _addConsoleApplication(fields) {\n\t\treturn axios.post(\"/multitenant/tenant/console/application\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _addTenantExtKey(fields) {\n\t\treturn axios.post(\"/multitenant/admin/tenant/application/key/ext\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _addTenantConsoleExtKey(fields) {\n\t\treturn axios.post(\"/multitenant/tenant/console/application/key/ext\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _updateTenant(fields) {\n\t\treturn axios.put(\"/multitenant/admin/tenant\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _updateConsoleTenant(fields) {\n\t\treturn axios.put(\"/multitenant/tenant/console\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _updateApplication(fields) {\n\t\treturn axios.put(\"/multitenant/admin/tenant/application\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _updateConsoleApplication(fields) {\n\t\treturn axios.put(\"/multitenant/tenant/console/application\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _addProduct(fields) {\n\t\treturn axios.post(\"/multitenant/product\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _updateProduct(fields) {\n\t\treturn axios.put(\"/multitenant/product\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _deleteProduct(fields) {\n\t\treturn axios.delete(\"/multitenant/product\", {\"params\": fields})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _addPackage(fields) {\n\t\treturn axios.post(\"/multitenant/product/package\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _updatePackage(fields) {\n\t\treturn axios.put(\"/multitenant/product/package\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _deletePackage(fields) {\n\t\treturn axios.delete(\"/multitenant/product/package\", {\"params\": fields})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _updatePackageAcl(fields) {\n\t\treturn axios.put(\"/multitenant/product/package/acl/env\", fields)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getConsoleTenants(criteria) {\n\t\t\n\t\treturn axios.get(\"/multitenant/tenants/console\", {\n\t\t\t\"params\": {\n\t\t\t\t\"limit\": criteria.limit,\n\t\t\t\t\"start\": criteria.skip,\n\t\t\t\t\"scope\": criteria.scope,\n\t\t\t\t\"keywords\": criteria.keywords || null,\n\t\t\t\t\"category\": criteria.category || null\n\t\t\t}\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getConsoleProducts() {\n\t\treturn axios.get(\"/multitenant/products/console\")\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\treturn {\n\t\tgetService: _getService,\n\t\tgetMyConsoleProduct: _getMyConsoleProduct,\n\t\tgetProduct: _getProduct,\n\t\tgetProducts: _getProducts,\n\t\tgetTenants: _getTenants,\n\t\tgetTenantSubTenants: _getTenantSubTenants,\n\t\teditConsolepackage: _editConsolepackage,\n\t\taddConsolepackage: _addConsolepackage,\n\t\tdeleteConsolepackage: _deleteConsolepackage,\n\t\teditConsolePackageAclEnv: _editConsolePackageAclEnv,\n\t\t\n\t\tdeleteTenant: _deleteTenant,\n\t\tdeleteTenantApplication: _deleteTenantApplication,\n\t\tdeleteTenantApplicationKey: _deleteTenantApplicationKey,\n\t\tdeleteTenantApplicationKeyExt: _deleteTenantApplicationKeyExt,\n\t\t\n\t\taddTenant: _addTenant,\n\t\taddTenantApplicationKey: _addTenantApplicationKey,\n\t\taddApplication: _addApplication,\n\t\taddTenantExtKey: _addTenantExtKey,\n\t\t\n\t\taddProduct: _addProduct,\n\t\tupdateProduct: _updateProduct,\n\t\tdeleteProduct: _deleteProduct,\n\t\taddPackage: _addPackage,\n\t\tupdatePackage: _updatePackage,\n\t\tdeletePackage: _deletePackage,\n\t\t\n\t\tupdateTenant: _updateTenant,\n\t\tupdateApplication: _updateApplication,\n\t\tupdateTenantApplicationKey: _updateTenantApplicationKey,\n\t\tupdateTenantApplicationExtKey: _updateTenantApplicationExtKey,\n\t\tupdateTenantOauth: _updateTenantOauth,\n\t\t\n\t\tupdatePackageAcl: _updatePackageAcl,\n\t\t\n\t\tgetMyConsoleTenant: _getMyConsoleTenant,\n\t\tupdateTenantConsoleApplicationKey: _updateTenantConsoleApplicationKey,\n\t\t\n\t\tgetConsoleTenants: _getConsoleTenants,\n\t\tgetConsoleProducts: _getConsoleProducts,\n\t\t\n\t\tupdateConsoleTenant: _updateConsoleTenant,\n\t\tdeleteConsoleTenant:_deleteConsoleTenant,\n\t\taddConsoleTenant: _addConsoleTenant,\n\t\tupdateConsoleApplication: _updateConsoleApplication,\n\t\tupdateTenantConsoleApplicationExtKey: _updateTenantConsoleApplicationExtKey,\n\t\taddTenantConsoleApplicationKey: _addTenantConsoleApplicationKey,\n\t\taddConsoleApplication: _addConsoleApplication,\n\t\taddTenantConsoleExtKey: _addTenantConsoleExtKey,\n\t\tdeleteTenantConsoleApplication: _deleteTenantConsoleApplication,\n\t\tdeleteTenantConsoleApplicationKey: _deleteTenantConsoleApplicationKey,\n\t\tdeleteTenantConsoleApplicationKeyExt: _deleteTenantConsoleApplicationKeyExt\n\t}\n})();\nexport default MultitenantService;","import axios from \"axios\";\nimport {response_catch, response_then} from \"./commonResponse\";\n\nconst ConsoleService = (function () {\n\tlet _service = null;\n\t\n\tfunction _getService() {\n\t\tif (!_service) {\n\t\t\t_service = this;\n\t\t\treturn _service;\n\t\t}\n\t\treturn _service;\n\t}\n\t\n\tfunction _getByType(type, env, fields) {\n\t\treturn axios.get(\"/infra/kubernetes/\" + type + \"/\" + fields.mode,\n\t\t\t{\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"configuration\": {\"env\": env},\n\t\t\t\t\t\"limit\": fields.limit,\n\t\t\t\t\t\"filter\": fields.filter || null,\n\t\t\t\t\t\"continue\": fields.continue || null\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getStorage(env, fields) {\n\t\treturn _getByType(\"storages\", env, fields);\n\t}\n\t\n\tfunction _getServices(env, fields) {\n\t\treturn _getByType(\"services\", env, fields);\n\t}\n\t\n\tfunction _getWorkloads(env, fields) {\n\t\treturn _getByType(\"workloads\", env, fields);\n\t}\n\t\n\tfunction _getClusters(env, fields) {\n\t\treturn _getByType(\"clusters\", env, fields);\n\t}\n\t\n\tfunction _getConfigurations(env, fields) {\n\t\treturn _getByType(\"configurations\", env, fields);\n\t}\n\t\n\tfunction _updateByType(type, env, fields) {\n\t\treturn axios.put(\"/infra/kubernetes/\" + type + \"/\" + fields.mode,\n\t\t\t{\n\t\t\t\t\"name\": fields.name,\n\t\t\t\t\"body\": fields.body\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"configuration\": {\"env\": env}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _updateStorage(env, fields) {\n\t\treturn _updateByType(\"storage\", env, fields);\n\t}\n\t\n\tfunction _updateWorkload(env, fields) {\n\t\treturn _updateByType(\"workload\", env, fields);\n\t}\n\t\n\tfunction _updateService(env, fields) {\n\t\treturn _updateByType(\"service\", env, fields);\n\t}\n\n\tfunction _updateConfiguration(env, fields) {\n\t\treturn _updateByType(\"configuration\", env, fields);\n\t}\n\t\n\tfunction _addByType(type, env, fields) {\n\t\treturn axios.post(\"/infra/kubernetes/\" + type + \"/\" + fields.mode,\n\t\t\t{\n\t\t\t\t\"body\": fields.body\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"configuration\": {\"env\": env}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _addStorage(env, fields) {\n\t\treturn _addByType(\"storage\", env, fields);\n\t}\n\t\n\tfunction _addWorkload(env, fields) {\n\t\treturn _addByType(\"workload\", env, fields);\n\t}\n\t\n\tfunction _addService(env, fields) {\n\t\treturn _addByType(\"service\", env, fields);\n\t}\n\t\n\tfunction _addConfiguration(env, fields) {\n\t\treturn _addByType(\"configuration\", env, fields);\n\t}\n\t\n\tfunction _deleteByType(type, env, fields) {\n\t\treturn axios.delete(\"/infra/kubernetes/\" + type + \"/\" + fields.mode,\n\t\t\t{\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"configuration\": {\"env\": env},\n\t\t\t\t\t\"name\": fields.name\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _deletePod(env, fields) {\n\t\treturn axios.delete(\"/infra/kubernetes/pods\",\n\t\t\t{\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"configuration\": {\"env\": env}\n\t\t\t\t},\n\t\t\t\t\"data\": {\n\t\t\t\t\t\"filter\": {\n\t\t\t\t\t\t\"fieldSelector\": \"metadata.name=\" + fields.name,\n\t\t\t\t\t\t\"includeUninitialized\": true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _deleteWorkload(env, fields) {\n\t\tif (fields.mode === \"Pod\") {\n\t\t\treturn _deletePod(env, fields);\n\t\t} else {\n\t\t\treturn _deleteByType(\"workload\", env, fields);\n\t\t}\n\t}\n\t\n\tfunction _deleteStorage(env, fields) {\n\t\treturn _deleteByType(\"storage\", env, fields);\n\t}\n\t\n\tfunction _deleteService(env, fields) {\n\t\treturn _deleteByType(\"service\", env, fields);\n\t}\n\t\n\tfunction _deleteConfiguration(env, fields) {\n\t\treturn _deleteByType(\"configuration\", env, fields);\n\t}\n\t\n\tfunction _addSecretWizard(env, name, content) {\n\t\treturn axios.post(\"/infra/kubernetes/secret\",\n\t\t\t{\n\t\t\t\t\"content\": content,\n\t\t\t\t\"name\": name\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"configuration\": {\"env\": env}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _addSecretRegistryWizard(env, name, content) {\n\t\treturn axios.post(\"/infra/kubernetes/secret/registry\",\n\t\t\t{\n\t\t\t\t\"content\": content,\n\t\t\t\t\"name\": name\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"configuration\": {\"env\": env}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\t\n\tfunction _inspect(env, item) {\n\t\treturn axios.get(\"/infra/kubernetes/item/inspect\",\n\t\t\t{\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"configuration\": {\"env\": env},\n\t\t\t\t\t\"item\": {\n\t\t\t\t\t\t\"env\": env,\n\t\t\t\t\t\t\"name\": item.name,\n\t\t\t\t\t\t\"version\": item.version\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getManualAwareness(env) {\n\t\treturn axios.get(\"/infra/manual/awareness\", {\"params\": {\"env\": env}})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getNamespaces(env) {\n\t\treturn axios.get(\"/infra/kubernetes/clusters/Namespace\", {\"params\": {\"configuration\": {\"env\": env}}})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getInfraAccounts() {\n\t\treturn axios.get(\"/infra/account/kubernetes\")\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _deleteInfraAccount(id) {\n\t\treturn axios.delete(\"/infra/account/kubernetes\", {\"data\": {\"id\": id}})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _saveInfraAccountAcl(fields) {\n\t\treturn axios.put(\"/infra/account/kubernetes/acl\",\n\t\t\t{\n\t\t\t\t\"id\": fields.id,\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"groups\": fields.groups\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _deleteInfraAccountAcl(id) {\n\t\treturn axios.delete(\"/infra/account/kubernetes/acl\", {\"params\": {\"id\": id}})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _addInfraAccount(fields) {\n\t\tlet data = {\n\t\t\t\"label\": fields.label,\n\t\t\t\"description\": fields.description,\n\t\t\t\"configuration\": {\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"token\": fields.token,\n\t\t\t\t\"url\": fields.url,\n\t\t\t\t\"port\": fields.port\n\t\t\t}\n\t\t};\n\t\tif (fields.ca) {\n\t\t\tdata.configuration.ca = fields.ca;\n\t\t}\n\t\treturn axios.post(\"/infra/account/kubernetes\",\n\t\t\tdata)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _updateInfraAccount(fields) {\n\t\tlet data = {\n\t\t\t\"id\": fields.id,\n\t\t\t\"label\": fields.label,\n\t\t\t\"description\": fields.description,\n\t\t\t\"configuration\": {\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"token\": fields.token,\n\t\t\t\t\"url\": fields.url,\n\t\t\t\t\"port\": fields.port\n\t\t\t}\n\t\t};\n\t\tif (fields.ca) {\n\t\t\tdata.configuration.ca = fields.ca;\n\t\t}\n\t\treturn axios.put(\"/infra/account/kubernetes/configuration\",\n\t\t\tdata)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _podExec(env, fields) {\n\t\tlet data = {\n\t\t\t\"name\": fields.name,\n\t\t\t\"commands\": fields.commands,\n\t\t\t\"processResult\": fields.processResult || false,\n\t\t\t\"configuration\": {\"env\": env},\n\t\t};\n\t\tif (fields.ca) {\n\t\t\tdata.configuration.ca = fields.ca;\n\t\t}\n\t\treturn axios.put(\"/infra/kubernetes/pod/exec\",\n\t\t\tdata)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _podLog(env, item) {\n\t\treturn axios.get(\"/infra/kubernetes/pod/log\",\n\t\t\t{\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"configuration\": {\"env\": env},\n\t\t\t\t\t\"name\": item.name,\n\t\t\t\t\t\"lines\": 400\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _restart(env, fields) {\n\t\tlet data = {\n\t\t\t\"mode\": fields.mode,\n\t\t\t\"name\": fields.name,\n\t\t\t\"configuration\": {\"env\": env},\n\t\t};\n\t\tif (fields.ca) {\n\t\t\tdata.configuration.ca = fields.ca;\n\t\t}\n\t\treturn axios.put(\"/infra/kubernetes/resource/restart\",\n\t\t\tdata)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _deleteItem(env, fields) {\n\t\tlet data = {\n\t\t\t\"data\": {\n\t\t\t\t\"mode\": fields.mode,\n\t\t\t\t\"name\": fields.name,\n\t\t\t\t\"configuration\": {\"env\": env},\n\t\t\t\t\"keepService\": fields.keepService || false,\n\t\t\t}\n\t\t};\n\t\tif (fields.ca) {\n\t\t\tdata.configuration.ca = fields.ca;\n\t\t}\n\t\treturn axios.delete(\"/infra/kubernetes/item\",\n\t\t\tdata)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getCDTokens() {\n\t\treturn axios.get(\"/infra/cd/tokens\")\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _deleteCDToken(token) {\n\t\treturn axios.delete(\"/infra/cd/token\", {\"data\": {\"token\": token}})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _updateCDToken(token, status) {\n\t\treturn axios.put(\"/infra/cd/token/status\", {\"token\": token, \"status\": status})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _addToken(label) {\n\t\treturn axios.post(\"/infra/cd/token\", {\"label\": label})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\treturn {\n\t\tgetService: _getService,\n\t\t\n\t\taddSecretRegistryWizard: _addSecretRegistryWizard,\n\t\taddSecretWizard: _addSecretWizard,\n\t\t\n\t\tgetStorage: _getStorage,\n\t\tgetServices: _getServices,\n\t\tgetClusters: _getClusters,\n\t\tgetWorkloads: _getWorkloads,\n\t\tgetConfigurations: _getConfigurations,\n\t\t\n\t\tinspect: _inspect,\n\t\tgetManualAwareness: _getManualAwareness,\n\t\tgetNamespaces: _getNamespaces,\n\t\tgetInfraAccounts: _getInfraAccounts,\n\t\tdeleteInfraAccount: _deleteInfraAccount,\n\t\tsaveInfraAccountAcl: _saveInfraAccountAcl,\n\t\tdeleteInfraAccountAcl: _deleteInfraAccountAcl,\n\t\taddInfraAccount: _addInfraAccount,\n\t\tupdateInfraAccount: _updateInfraAccount,\n\t\tpodExec: _podExec,\n\t\tpodLog: _podLog,\n\t\trestart: _restart,\n\t\tdeleteItem: _deleteItem,\n\t\t\n\t\taddWorkload: _addWorkload,\n\t\tupdateWorkload: _updateWorkload,\n\t\tdeleteWorkload: _deleteWorkload,\n\t\taddService: _addService,\n\t\tupdateService: _updateService,\n\t\tdeleteService: _deleteService,\n\t\taddConfiguration: _addConfiguration,\n\t\tdeleteConfiguration: _deleteConfiguration,\n\t\tupdateConfiguration: _updateConfiguration,\n\t\t\n\t\taddStorage: _addStorage,\n\t\tupdateStorage: _updateStorage,\n\t\tdeleteStorage: _deleteStorage,\n\t\t\n\t\tgetCDTokens: _getCDTokens,\n\t\tdeleteCDToken: _deleteCDToken,\n\t\tupdateCDToken: _updateCDToken,\n\t\taddToken: _addToken\n\t}\n})();\nexport default ConsoleService;","import axios from \"axios\";\nimport {response_catch, response_then} from \"./commonResponse\";\n\nconst SoaanalyticsService = (function () {\n\tlet _service = null;\n\t\n\tfunction _getService() {\n\t\tif (!_service) {\n\t\t\t_service = this;\n\t\t\treturn _service;\n\t\t}\n\t\treturn _service;\n\t}\n\t\n\tfunction _getApis(criteria) {\n\t\treturn axios.get(\"/console/apis/v2\", {\"params\": criteria})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getDashboardApis(criteria) {\n\t\treturn axios.get(\"/console/dashboard/apis/v2\", {\"params\": criteria})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getDashboardServices(criteria) {\n\t\treturn axios.get(\"/console/dashboard/services\", {\"params\": criteria})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getAPIACLUsage(criteria) {\n\t\treturn axios.get(\"/console/api/acl/usage\", {\"params\": criteria})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getAPIACLUsageTenants(criteria) {\n\t\treturn axios.get(\"/console/api/acl/usage/tenants\", {\"params\": criteria})\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\treturn {\n\t\tgetService: _getService,\n\t\tgetApis: _getApis,\n\t\tgetDashboardApis: _getDashboardApis,\n\t\tgetDashboardServices: _getDashboardServices,\n\t\tgetAPIACLUsage: _getAPIACLUsage,\n\t\tgetAPIACLUsageTenants: _getAPIACLUsageTenants\n\t}\n})();\nexport default SoaanalyticsService;","import axios from \"axios\";\nimport Config from \"../config.js\";\nimport {response_catch, response_then} from \"./commonResponse\";\n\nconst SoamonitorService = (function () {\n\tlet _service = null;\n\t\n\tfunction _getService() {\n\t\tif (!_service) {\n\t\t\t_service = this;\n\t\t\treturn _service;\n\t\t}\n\t\treturn _service;\n\t}\n\t\n\tfunction _getMonitorItems(criteria, env, extKey) {\n\t\tlet url = \"/soamonitor/monitor/items\";\n\t\tlet params = {\"params\": criteria};\n\t\tif (env.toLowerCase() !== Config.consoleEnvironment) {\n\t\t\tparams.params.proxyRoute = url;\n\t\t\tparams.params.extKey = extKey;\n\t\t\turl = \"/soajs/proxy\";\n\t\t\tparams.headers = {\n\t\t\t\t\"__env\": env.toLowerCase()\n\t\t\t};\n\t\t}\n\t\treturn axios.get(url, params)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\tfunction _getMonitorAnalytics(type, criteria, env, extKey) {\n\t\tlet url = \"/soamonitor/monitor/analytics/\" + type;\n\t\tlet params = {\"params\": criteria};\n\t\tif (env.toLowerCase() !== Config.consoleEnvironment) {\n\t\t\tparams.params.proxyRoute = url;\n\t\t\tparams.params.extKey = extKey;\n\t\t\turl = \"/soajs/proxy\";\n\t\t\tparams.headers = {\n\t\t\t\t\"__env\": env.toLowerCase()\n\t\t\t};\n\t\t}\n\t\treturn axios.get(url, params)\n\t\t\t.then(res => {\n\t\t\t\treturn response_then(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treturn response_catch(error);\n\t\t\t});\n\t}\n\t\n\treturn {\n\t\tgetService: _getService,\n\t\tgetMonitorItems: _getMonitorItems,\n\t\tgetMonitorAnalytics: _getMonitorAnalytics\n\t}\n})();\nexport default SoamonitorService;","import {Pagination} from \"react-bootstrap\";\nimport React from \"react\";\n\nfunction AutoPagination({currentPage, totalItems, maxSize, itemsPerPage, onClick, className}) {\n\tclassName = className || \"\";\n\tcurrentPage = currentPage || 1\n\ttotalItems = totalItems || 1;\n\titemsPerPage = itemsPerPage || 1;\n\tmaxSize = maxSize || 10;\n\tlet numberOfPages = 1;\n\tif (totalItems > itemsPerPage) {\n\t\tnumberOfPages = Math.ceil(totalItems / itemsPerPage);\n\t}\n\tif (currentPage > numberOfPages) {\n\t\tcurrentPage = numberOfPages;\n\t}\n\tlet pages = [];\n\tif (numberOfPages < maxSize) {\n\t\tmaxSize = numberOfPages;\n\t}\n\tlet index = currentPage - Math.floor(maxSize / 2);\n\tif (index + maxSize > numberOfPages) {\n\t\tindex = numberOfPages - maxSize;\n\t}\n\tif (index < 0) {\n\t\tindex = 0;\n\t}\n\tfor (let i = 1; i <= maxSize; i++) {\n\t\tpages.push((i + index));\n\t}\n\t\n\tfunction clicked(p) {\n\t\tif (onClick) {\n\t\t\tonClick(p);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Pagination size=\"sm\" className={className}>\n\t\t\t<Pagination.First onClick={(e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tclicked(1)\n\t\t\t}} disabled={currentPage === 1}/>\n\t\t\t<Pagination.Prev onClick={(e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tclicked(currentPage - 1)\n\t\t\t}} disabled={currentPage === 1}/>\n\t\t\t{pages[0] > 1 &&\n\t\t\t<Pagination.Ellipsis disabled={true}/>}\n\t\t\t{pages.map((_o, _i) => (\n\t\t\t\t<Pagination.Item onClick={(e) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tclicked(_o)\n\t\t\t\t}} active={currentPage === _o} key={_i}>{_o}</Pagination.Item>\n\t\t\t))}\n\t\t\t{pages[maxSize - 1] < numberOfPages &&\n\t\t\t<Pagination.Ellipsis disabled={true}/>}\n\t\t\t<Pagination.Next onClick={(e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tclicked(currentPage + 1)\n\t\t\t}} disabled={currentPage === numberOfPages}/>\n\t\t\t<Pagination.Last onClick={(e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tclicked(numberOfPages)\n\t\t\t}} disabled={currentPage === numberOfPages}/>\n\t\t</Pagination>\n\t);\n}\n\nexport default AutoPagination;","\nimport {ResponsivePie} from '@nivo/pie'\n\nfunction myPatterns(datum, set) {\n\tlet c = datum.id.substr(0, 1);\n\tc = c.toLowerCase();\n\tif (set === 1) {\n\t\treturn ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'].includes(c);\n\t}\n\tif (set === 2) {\n\t\treturn ['i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q',].includes(c);\n\t}\n\tif (set === 3) {\n\t\treturn ['r', 's', 't', 'u', 'v', 'w', 'x', 'z'].includes(c);\n\t}\n}\n\nexport default function ProgramsChart({data /* see data tab */}) {\n\t\n\treturn (\n\t\t<ResponsivePie\n\t\t\tdata={data}\n\t\t\tmargin={{top: 40, right: 80, bottom: 80, left: 80}}\n\t\t\tinnerRadius={0.5}\n\t\t\tpadAngle={0.7}\n\t\t\tcornerRadius={3}\n\t\t\tcolors={{scheme: 'paired'}}\n\t\t\tborderWidth={1}\n\t\t\tborderColor={{from: 'color', modifiers: [['darker', 0.2]]}}\n\t\t\tradialLabelsSkipAngle={10}\n\t\t\tradialLabelsTextColor=\"#000000\"\n\t\t\tradialLabelsLinkColor={{from: 'color'}}\n\t\t\tsliceLabel=\"value\"\n\t\t\tsliceLabelsSkipAngle={10}\n\t\t\tarcLinkLabelsSkipAngle={10}\n\t\t\tsliceLabelsTextColor=\"#000000\"\n\t\t\tdefs={[\n\t\t\t\t{\n\t\t\t\t\tid: 'dots',\n\t\t\t\t\ttype: 'patternDots',\n\t\t\t\t\tbackground: 'inherit',\n\t\t\t\t\tcolor: 'rgba(255, 255, 255, 0.3)',\n\t\t\t\t\tsize: 2,\n\t\t\t\t\tpadding: 1,\n\t\t\t\t\tstagger: true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'lines',\n\t\t\t\t\ttype: 'patternLines',\n\t\t\t\t\tbackground: 'inherit',\n\t\t\t\t\tcolor: 'rgba(255, 255, 255, 0.3)',\n\t\t\t\t\trotation: -45,\n\t\t\t\t\tlineWidth: 5,\n\t\t\t\t\tspacing: 10\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'squares',\n\t\t\t\t\ttype: 'patternSquares',\n\t\t\t\t\tbackground: 'inherit',\n\t\t\t\t\tcolor: 'rgba(255, 255, 255, 0.3)',\n\t\t\t\t\t\"size\": 2,\n\t\t\t\t\t\"padding\": 3,\n\t\t\t\t\tstagger: true\n\t\t\t\t}\n\t\t\t]}\n\t\t\tfill={[\n\t\t\t\t{match: (d) => myPatterns(d, 1), id: 'dots'},\n\t\t\t\t{match: (d) => myPatterns(d, 2), id: 'lines'},\n\t\t\t\t{match: (d) => myPatterns(d, 3), id: 'squares'}\n\t\t\t]}\n\t\t\tlegends={[]}\n\t\t/>\n\t)\n}","\nimport {ResponsivePie} from '@nivo/pie'\n\nconst myColors = {\n\t\"get\": \"#b8daff\",\n\t\"post\": \"#c3e6cb\",\n\t\"put\": \"#ffeeba\",\n\t\"delete\": \"#f5c6cb\",\n\t\"patch\": \"#bee5eb\",\n\t\"head\": \"#d6d8db\",\n\t\"other\": \"#c6c8ca\" //\"#fdfdfe\"\n};\n\nfunction myColor(datum) {\n\treturn myColors[datum.id];\n}\n\nexport default function MethodsChart({data /* see data tab */}) {\n\t\n\treturn (\n\t\t<ResponsivePie\n\t\t\tdata={data}\n\t\t\tmargin={{top: 40, right: 80, bottom: 80, left: 80}}\n\t\t\tpadAngle={0.7}\n\t\t\tcornerRadius={3}\n\t\t\tcolors={(datum) => myColor(datum)}\n\t\t\tborderWidth={1}\n\t\t\tborderColor={{from: 'color', modifiers: [['darker', 0.3]]}}\n\t\t\tradialLabelsSkipAngle={10}\n\t\t\tradialLabelsTextColor=\"#000000\"\n\t\t\tradialLabelsLinkColor={{from: 'color'}}\n\t\t\tsliceLabel=\"value\"\n\t\t\tsliceLabelsSkipAngle={10}\n\t\t\tarcLinkLabelsSkipAngle={10}\n\t\t\tsliceLabelsTextColor=\"#000000\"\n\t\t\tlegends={[\n\t\t\t\t{\n\t\t\t\t\tanchor: 'bottom',\n\t\t\t\t\tdirection: 'row',\n\t\t\t\t\tjustify: false,\n\t\t\t\t\ttranslateX: 0,\n\t\t\t\t\ttranslateY: 56,\n\t\t\t\t\titemsSpacing: 0,\n\t\t\t\t\titemWidth: 60,\n\t\t\t\t\titemHeight: 18,\n\t\t\t\t\titemTextColor: '#999',\n\t\t\t\t\titemDirection: 'left-to-right',\n\t\t\t\t\titemOpacity: 1,\n\t\t\t\t\tsymbolSize: 15,\n\t\t\t\t\tsymbolShape: 'circle',\n\t\t\t\t\teffects: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ton: 'hover',\n\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\titemTextColor: '#000'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]}\n\t\t/>\n\t)\n}","\nimport {ResponsiveBar} from '@nivo/bar'\n\n\nexport default function GroupsChart({data /* see data tab */}) {\n\t\n\treturn (\n\t\t<ResponsiveBar\n\t\t\tdata={data}\n\t\t\tkeys={['count']}\n\t\t\tindexBy=\"Group\"\n\t\t\tmargin={{top: 50, right: 130, bottom: 50, left: 150}}\n\t\t\tpadding={0.3}\n\t\t\tlayout=\"horizontal\"\n\t\t\tvalueScale={{type: 'linear'}}\n\t\t\tindexScale={{type: 'band', round: true}}\n\t\t\tcolors={{scheme: 'paired'}}\n\t\t\tdefs={[\n\t\t\t\t{\n\t\t\t\t\tid: 'dots',\n\t\t\t\t\ttype: 'patternDots',\n\t\t\t\t\tbackground: 'inherit',\n\t\t\t\t\tcolor: '#38bcb2',\n\t\t\t\t\tsize: 4,\n\t\t\t\t\tpadding: 1,\n\t\t\t\t\tstagger: true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'lines',\n\t\t\t\t\ttype: 'patternLines',\n\t\t\t\t\tbackground: 'inherit',\n\t\t\t\t\tcolor: '#eed312',\n\t\t\t\t\trotation: -45,\n\t\t\t\t\tlineWidth: 6,\n\t\t\t\t\tspacing: 10\n\t\t\t\t}\n\t\t\t]}\n\t\t\tfill={[\n\t\t\t\t{\n\t\t\t\t\tmatch: {\n\t\t\t\t\t\tid: 'fries'\n\t\t\t\t\t},\n\t\t\t\t\tid: 'dots'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tmatch: {\n\t\t\t\t\t\tid: 'sandwich'\n\t\t\t\t\t},\n\t\t\t\t\tid: 'lines'\n\t\t\t\t}\n\t\t\t]}\n\t\t\tborderColor={{from: 'color', modifiers: [['darker', 1.6]]}}\n\t\t\taxisTop={null}\n\t\t\taxisRight={null}\n\t\t\t// axisBottom={{\n\t\t\t// \ttickSize: 5,\n\t\t\t// \ttickPadding: 5,\n\t\t\t// \ttickRotation: 0,\n\t\t\t// \tlegend: 'count',\n\t\t\t// \tlegendPosition: 'middle',\n\t\t\t// \tlegendOffset: 32\n\t\t\t// }}\n\t\t\t// axisLeft={{\n\t\t\t// \ttickSize: 5,\n\t\t\t// \ttickPadding: 5,\n\t\t\t// \ttickRotation: 0,\n\t\t\t// \tlegend: 'program',\n\t\t\t// \tlegendPosition: 'middle',\n\t\t\t// \tlegendOffset: -40\n\t\t\t// }}\n\t\t\tlabelSkipWidth={12}\n\t\t\tlabelSkipHeight={12}\n\t\t\tenableGridX={true}\n\t\t\tenableGridY={false}\n\t\t\tlabelTextColor={{from: 'color', modifiers: [['darker', 1.6]]}}\n\t\t\tlegends={[]}\n\t\t\tanimate={true}\n\t\t\tmotionStiffness={90}\n\t\t\tmotionDamping={15}\n\t\t/>\n\t)\n}","// import programsData from \"../charts/programs.json\"\n// import methodsData from \"../charts/methods.json\"\n// import groupsData from \"../charts/groups.json\"\n\nimport _ from \"lodash\";\n\n\nconst _methods = [\"get\", \"post\", \"put\", \"delete\", \"head\", \"patch\", \"other\"];\n\nfunction sumMethods(methods, response) {\n\t_methods.map((m, i) => {\n\t\tlet v = 0;\n\t\tif (response && response.methods && response.methods[i]) {\n\t\t\tv = response.methods[i].value;\n\t\t}\n\t\tresponse.methods[i] = {\n\t\t\t\"id\": m,\n\t\t\t\"label\": m,\n\t\t\t\"value\": v + (methods[m] || 0)\n\t\t};\n\t\treturn true;\n\t});\n}\n\nfunction process(data) {\n\tlet response = {\n\t\t\"programs\": [],\n\t\t\"groups\": [],\n\t\t\"methods\": [],\n\t\t\"services\": []\n\t};\n\tlet holder = {\n\t\t\"groups\": {},\n\t\t\"methods\": {}\n\t};\n\t//response.programs = programsData;\n\t//response.methods = methodsData;\n\t//response.groups = groupsData;\n\t\n\tif (data) {\n\t\tdata.map((_d1, i) => {\n\t\t\tlet p = {\n\t\t\t\t\"id\": _d1.name,\n\t\t\t\t\"label\": _d1.name,\n\t\t\t\t\"value\": 0\n\t\t\t};\n\t\t\tif (_d1.groups) {\n\t\t\t\t_d1.groups.map((_d2, i) => {\n\t\t\t\t\tlet g = {\n\t\t\t\t\t\t\"Group\": _d2.name,\n\t\t\t\t\t\t\"count\": 0\n\t\t\t\t\t};\n\t\t\t\t\tif (holder.groups.hasOwnProperty(_d2.name)) {\n\t\t\t\t\t\tg = response.groups[holder.groups[_d2.name]];\n\t\t\t\t\t}\n\t\t\t\t\tif (_d2.services) {\n\t\t\t\t\t\t_d2.services.map((_d3, i) => {\n\t\t\t\t\t\t\tp.value = p.value + (_d3.APIs || 0);\n\t\t\t\t\t\t\tg.count = g.count + (_d3.APIs || 0);\n\t\t\t\t\t\t\tsumMethods(_d3.methods, response);\n\t\t\t\t\t\t\tresponse.services.push({\n\t\t\t\t\t\t\t\t\"serviceName\": _d3.name,\n\t\t\t\t\t\t\t\t\"serviceGroup\": _d2.name,\n\t\t\t\t\t\t\t\t\"program\": _d3.program,\n\t\t\t\t\t\t\t\t\"apis\": _d3.APIs || 0,\n\t\t\t\t\t\t\t\t\"version\": _d3.version\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (holder.groups.hasOwnProperty(_d2.name)) {\n\t\t\t\t\t\tresponse.groups[holder.groups[_d2.name]] = g;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tholder.groups[_d2.name] = response.groups.length;\n\t\t\t\t\t\tresponse.groups.push(g);\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\t}\n\t\t\tresponse.programs.push(p);\n\t\t\treturn true;\n\t\t});\n\t}\n\t\n\tresponse.services = _.uniqWith(response.services,\n\t\tfunction (arrVal, othVal) {\n\t\t\treturn arrVal.serviceName === othVal.serviceName && arrVal.version === othVal.version;\n\t\t});\n\treturn response\n}\n\nfunction _process(data) {\n\tlet response = null;\n\ttry {\n\t\tresponse = process(data);\n\t} catch (e) {\n\t\tconsole.log(e);\n\t}\n\treturn response\n}\n\nexport default _process;","import {Accordion, Button, Card, CardDeck, Col, Form, Jumbotron, Row, Table, useAccordionToggle} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {FcCollapse, FcExpand} from \"react-icons/fc\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {useTranslation} from \"react-i18next\";\nimport _ from \"lodash\";\n\nimport {SoaanalyticsService} from \"../../../../services\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport AutoPagination from \"../../../../lib/AutoPagination\";\n\nimport ProgramsChart from \"./charts/Programs\"\nimport MethodsChart from \"./charts/Methods\"\nimport GroupsChart from \"./charts/Groups\"\n\nimport process from \"./lib/process\";\n\nconst soaanalyticsService = SoaanalyticsService.getService();\n\nfunction CustomToggle({children, eventKey, handleClick}) {\n\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\thandleClick();\n\t});\n\treturn (\n\t\t<div className=\"float-left\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nconst initCriteria = {\n\t\"type\": \"service\",\n\t\"includeSOAJS\": false,\n\t\"serviceName\": \"\",\n\t\"serviceGroup\": \"\",\n\t\"version\": \"latest\",\n\t\"tags\": [],\n\t\"programs\": [],\n\t\"attributes\": {}\n};\n\nasync function onLoad(setFields, setPagination, currentPage, setFacets, isSubscribed, criteria) {\n\ttry {\n\t\tlet c = {\n\t\t\t\"limit\": 2000,\n\t\t\t\"start\": (currentPage - 1) * 2000,\n\t\t\t\"type\": criteria.type,\n\t\t\t\"includeSOAJS\": criteria.includeSOAJS,\n\t\t\t\"version\": criteria.version,\n\t\t\t\"keywords\": {\n\t\t\t\t\"serviceName\": criteria.serviceName,\n\t\t\t\t\"serviceGroup\": criteria.serviceGroup\n\t\t\t},\n\t\t\t\"tags\": criteria.tags,\n\t\t\t\"programs\": criteria.programs,\n\t\t\t\"attributes\": criteria.attributes\n\t\t};\n\t\tconst response = await soaanalyticsService.getDashboardServices(c);\n\t\tif (isSubscribed) {\n\t\t\tif (response && response.data && Array.isArray(response.data) && response.data.length > 0) {\n\t\t\t\tlet dataProcessed = process(response.data);\n\t\t\t\tsetFields(dataProcessed);\n\t\t\t\tsetPagination(\n\t\t\t\t\t{\n\t\t\t\t\t\t\"totalItems\": response.data.length,\n\t\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\t\"itemsPerPage\": c.limit\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tsetFacets({\n\t\t\t\t\t\"tags\": response.tags || [], \"programs\": response.programs || [], \"attributes\": response.attributes || {}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function ApiMetrics() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState(null);\n\tconst [activeKey, setActiveKey] = useState(0);\n\tconst [facets, setFacets] = useState({\"tags\": [], \"programs\": [], \"attributes\": {}});\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [criteria, setCriteria] = useState(initCriteria);\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\t\n\tfunction onChangeProgram(checked, program) {\n\t\tlet obj = criteria;\n\t\tif (checked) {\n\t\t\tobj.programs.push(program);\n\t\t} else {\n\t\t\t_.pullAll(obj.programs, [program]);\n\t\t}\n\t\tsetCriteria({...obj});\n\t}\n\t\n\tfunction onChangeTag(checked, tag) {\n\t\tlet obj = criteria;\n\t\tif (checked) {\n\t\t\tobj.tags.push(tag);\n\t\t} else {\n\t\t\t_.pullAll(obj.tags, [tag]);\n\t\t}\n\t\tsetCriteria({...obj});\n\t}\n\t\n\tfunction onChangeAttribute(checked, attribute, tag) {\n\t\tlet obj = criteria;\n\t\tif (checked) {\n\t\t\tif (!obj.attributes[attribute]) {\n\t\t\t\tobj.attributes[attribute] = [];\n\t\t\t}\n\t\t\tobj.attributes[attribute].push(tag);\n\t\t} else {\n\t\t\tif (obj.attributes[attribute]) {\n\t\t\t\t_.pullAll(obj.attributes[attribute], [tag]);\n\t\t\t\tif (obj.attributes[attribute].length === 0) {\n\t\t\t\t\tdelete obj.attributes[attribute];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsetCriteria({...obj});\n\t}\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function reLoad(page) {\n\t\tawait onLoad(setFields, setPagination, page || currentPage, setFacets, true, criteria)\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait onLoad(setFields, setPagination, 1, setFacets, true, criteria);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tonLoad(setFields, setPagination, 1, setFacets, isSubscribed, initCriteria);\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-3\">\n\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t<Row className=\"small\">\n\t\t\t\t\t\t<Col xs={3}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.ServiceName\")}\n\t\t\t\t\t\t\t\tid=\"serviceName\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tvalue={criteria.serviceName}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={3}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.ServiceGroup\")}\n\t\t\t\t\t\t\t\tid=\"serviceGroup\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tvalue={criteria.serviceGroup}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={3}>\n\t\t\t\t\t\t\t<Form.Control as=\"select\" id=\"version\"\n\t\t\t\t\t\t\t              defaultValue={criteria.version}\n\t\t\t\t\t\t\t              onChange={handleCriteriaChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"latest\">Only last version</option>\n\t\t\t\t\t\t\t\t<option value=\"all\">All versions</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={3} className=\"mt-2\">\n\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\tid=\"includeSOAJS\"\n\t\t\t\t\t\t\t\tlabel=\"Include SOAJS APIs\"\n\t\t\t\t\t\t\t\tdefaultChecked={criteria.includeSOAJS}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<hr/>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\t\teventKey={1}\n\t\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\t\tif (activeKey === 1) {\n\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(1);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{activeKey === 1 ? <FcExpand className=\"mr-1\"/> :\n\t\t\t\t\t\t\t\t\t\t<FcCollapse className=\"mr-1\"/>} <span\n\t\t\t\t\t\t\t\t\tclassName=\"small\">Advanced Filters</span>\n\t\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey={1}>\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<hr className=\"mb-1\"/>\n\t\t\t\t\t\t\t\t\t\t<Row className=\"mt-1 small\">\n\t\t\t\t\t\t\t\t\t\t\t<Col xs={1}>\n\t\t\t\t\t\t\t\t\t\t\t\tPrograms\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<CardDeck style={{\"maxHeight\": \"3rem\", \"overflowY\": \"auto\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{facets.programs.map((program, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t      style={{\"minWidth\": '11rem', \"maxWidth\": '11rem'}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body className=\"p-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            label={program}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            defaultChecked={criteria.programs.includes(program)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChangeProgram(event.target.checked, program)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</CardDeck>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t<hr className=\"mt-1 mb-1\"/>\n\t\t\t\t\t\t\t\t\t\t<Row className=\"mt-1 small\">\n\t\t\t\t\t\t\t\t\t\t\t<Col xs={1}>\n\t\t\t\t\t\t\t\t\t\t\t\tTags\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<CardDeck style={{\"maxHeight\": \"6rem\", \"overflowY\": \"auto\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{facets.tags.map((tag, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t      style={{\"minWidth\": '11rem', \"maxWidth\": '11rem'}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body className=\"p-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            label={tag}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            defaultChecked={criteria.tags.includes(tag)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChangeTag(event.target.checked, tag)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</CardDeck>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t<hr className=\"mt-1 mb-1\"/>\n\t\t\t\t\t\t\t\t\t\t<Row className=\"mt-1 small\">\n\t\t\t\t\t\t\t\t\t\t\t<Col xs={1}>\n\t\t\t\t\t\t\t\t\t\t\t\tAttributes\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t{Object.keys(facets.attributes).map((attribute, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row key={index} className=\"mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{attribute}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CardDeck\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\"maxHeight\": \"7rem\", \"overflowY\": \"auto\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{facets.attributes[attribute].map((tag, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t      style={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t      \"minWidth\": '11rem',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t      \"maxWidth\": '11rem'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t      }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body className=\"p-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check key={index + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            type=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            label={tag}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            defaultChecked={criteria.attributes[attribute] && criteria.attributes[attribute].includes(tag)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChangeAttribute(event.target.checked, attribute, tag)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CardDeck>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr className=\"mt-1 mb-1\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Form>\n\t\t\t</Jumbotron>\n\t\t\t{\n\t\t\t\tfields ? (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<div style={{\"height\": \"350px\"}}>\n\t\t\t\t\t\t\t\t\t<ProgramsChart\n\t\t\t\t\t\t\t\t\t\tdata={fields.programs}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<div style={{\"height\": \"350px\"}}>\n\t\t\t\t\t\t\t\t\t<MethodsChart\n\t\t\t\t\t\t\t\t\t\tdata={fields.methods}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<div style={{\"height\": \"600px\"}}>\n\t\t\t\t\t\t\t\t\t<GroupsChart\n\t\t\t\t\t\t\t\t\t\tdata={fields.groups}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.ServiceName\")}</th>\n\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.ServiceGroup\")}</th>\n\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Program\")}</th>\n\t\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.NbrApi\")}</th>\n\t\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Version\")}</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{fields.services.map((srv, index) => (\n\t\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t\t<td>{srv.serviceName}</td>\n\t\t\t\t\t\t\t\t\t<td className=\"small\">{srv.serviceGroup}</td>\n\t\t\t\t\t\t\t\t\t<td className=\"small\">{srv.program.join(\", \")}</td>\n\t\t\t\t\t\t\t\t\t<td className=\"small text-center\">{srv.apis}</td>\n\t\t\t\t\t\t\t\t\t<td className=\"small text-center\">{srv.version}</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\t\treLoad(p);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t) : null\n\t\t\t}\n\t\t</>\n\t);\n}","import {Accordion, Alert, Button, Card, CardDeck, Col, Form, Jumbotron, Row, useAccordionToggle} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {useTranslation} from \"react-i18next\";\nimport _ from \"lodash\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {SoaanalyticsService} from \"../../../../services\";\nimport AutoPagination from \"../../../../lib/AutoPagination\";\nimport {FcCollapse, FcExpand} from \"react-icons/fc\";\n\nconst initCriteria = {\n\t\"type\": \"service\",\n\t\"includeSOAJS\": false,\n\t\"serviceName\": \"\",\n\t\"serviceGroup\": \"\",\n\t\"serviceVersion\": \"\",\n\t\"route\": \"\",\n\t\"tags\": [],\n\t\"programs\": [],\n\t\"attributes\": {}\n};\n\nconst methodVariant = {\n\t\"get\": \"primary\",\n\t\"post\": \"success\",\n\t\"delete\": \"danger\",\n\t\"put\": \"warning\",\n\t\"patch\": \"info\",\n\t\"head\": \"secondary\",\n\t\"other\": \"light\"\n};\nconst soaanalyticsService = SoaanalyticsService.getService();\n\nfunction getMethodVariant(method) {\n\tif (method && methodVariant[method]) {\n\t\treturn methodVariant[method];\n\t} else {\n\t\treturn methodVariant[\"other\"];\n\t}\n}\n\nfunction CustomToggle({children, eventKey, handleClick}) {\n\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\thandleClick();\n\t});\n\treturn (\n\t\t<div className=\"float-left\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nasync function onLoad(setFields, setPagination, currentPage, setFacets, isSubscribed, criteria) {\n\ttry {\n\t\tlet c = {\n\t\t\t\"limit\": 25,\n\t\t\t\"start\": (currentPage - 1) * 25,\n\t\t\t\"type\": criteria.type,\n\t\t\t\"includeSOAJS\": criteria.includeSOAJS,\n\t\t\t\"keywords\": {\n\t\t\t\t\"serviceName\": criteria.serviceName,\n\t\t\t\t\"route\": criteria.route,\n\t\t\t\t\"serviceGroup\": criteria.serviceGroup,\n\t\t\t\t\"serviceVersion\": criteria.serviceVersion\n\t\t\t},\n\t\t\t\"tags\": criteria.tags,\n\t\t\t\"programs\": criteria.programs,\n\t\t\t\"attributes\": criteria.attributes\n\t\t};\n\t\tconst response = await soaanalyticsService.getDashboardApis(c);\n\t\tif (isSubscribed) {\n\t\t\tif (response && response.records && Array.isArray(response.records) && response.records.length > 0) {\n\t\t\t\tsetFields(response.records);\n\t\t\t\tsetPagination(\n\t\t\t\t\t{\n\t\t\t\t\t\t\"totalItems\": response.count,\n\t\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\t\"itemsPerPage\": c.limit\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tsetFacets({\n\t\t\t\t\t\"tags\": response.tags || [], \"programs\": response.programs || [], \"attributes\": response.attributes || {}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function ApiCatalog() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [activeKey, setActiveKey] = useState(0);\n\tconst [facets, setFacets] = useState({\"tags\": [], \"programs\": [], \"attributes\": {}});\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [criteria, setCriteria] = useState(initCriteria);\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\t\n\tfunction onChangeProgram(checked, program) {\n\t\tlet obj = criteria;\n\t\tif (checked) {\n\t\t\tobj.programs.push(program);\n\t\t} else {\n\t\t\t_.pullAll(obj.programs, [program]);\n\t\t}\n\t\tsetCriteria({...obj});\n\t}\n\t\n\tfunction onChangeTag(checked, tag) {\n\t\tlet obj = criteria;\n\t\tif (checked) {\n\t\t\tobj.tags.push(tag);\n\t\t} else {\n\t\t\t_.pullAll(obj.tags, [tag]);\n\t\t}\n\t\tsetCriteria({...obj});\n\t}\n\t\n\tfunction onChangeAttribute(checked, attribute, tag) {\n\t\tlet obj = criteria;\n\t\tif (checked) {\n\t\t\tif (!obj.attributes[attribute]) {\n\t\t\t\tobj.attributes[attribute] = [];\n\t\t\t}\n\t\t\tobj.attributes[attribute].push(tag);\n\t\t} else {\n\t\t\tif (obj.attributes[attribute]) {\n\t\t\t\t_.pullAll(obj.attributes[attribute], [tag]);\n\t\t\t\tif (obj.attributes[attribute].length === 0) {\n\t\t\t\t\tdelete obj.attributes[attribute];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsetCriteria({...obj});\n\t}\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function reLoad(page) {\n\t\tawait onLoad(setFields, setPagination, page || currentPage, setFacets, true, criteria)\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait onLoad(setFields, setPagination, 1, setFacets, true, criteria);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tonLoad(setFields, setPagination, 1, setFacets, isSubscribed, initCriteria);\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-3\">\n\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t<Row className=\"small\">\n\t\t\t\t\t\t<Col xs={3}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.ServiceName\")}\n\t\t\t\t\t\t\t\tid=\"serviceName\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tvalue={criteria.serviceName}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={2}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.ServiceVersion\")}\n\t\t\t\t\t\t\t\tid=\"serviceVersion\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tvalue={criteria.serviceVersion}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={2}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.ServiceGroup\")}\n\t\t\t\t\t\t\t\tid=\"serviceGroup\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tvalue={criteria.serviceGroup}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={3}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.Route\")}\n\t\t\t\t\t\t\t\tid=\"route\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tvalue={criteria.route}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={2} className=\"mt-2\">\n\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\tid=\"includeSOAJS\"\n\t\t\t\t\t\t\t\tlabel=\"Include SOAJS APIs\"\n\t\t\t\t\t\t\t\tdefaultChecked={criteria.includeSOAJS}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<hr/>\n\t\t\t\t\t\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\t\teventKey={1}\n\t\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\t\tif (activeKey === 1) {\n\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(1);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{activeKey === 1 ? <FcExpand className=\"mr-1\"/> :\n\t\t\t\t\t\t\t\t\t\t<FcCollapse className=\"mr-1\"/>} <span\n\t\t\t\t\t\t\t\t\tclassName=\"small\">Advanced Filters</span>\n\t\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey={1}>\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<hr className=\"mb-1\"/>\n\t\t\t\t\t\t\t\t\t\t<Row className=\"mt-1 small\">\n\t\t\t\t\t\t\t\t\t\t\t<Col xs={1}>\n\t\t\t\t\t\t\t\t\t\t\t\tPrograms\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<CardDeck style={{\"maxHeight\": \"3rem\", \"overflowY\": \"auto\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{facets.programs.map((program, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t      style={{\"minWidth\": '11rem', \"maxWidth\": '11rem'}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body className=\"p-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            label={program}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            defaultChecked={criteria.programs.includes(program)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChangeProgram(event.target.checked, program)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</CardDeck>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t<hr className=\"mt-1 mb-1\"/>\n\t\t\t\t\t\t\t\t\t\t<Row className=\"mt-1 small\">\n\t\t\t\t\t\t\t\t\t\t\t<Col xs={1}>\n\t\t\t\t\t\t\t\t\t\t\t\tTags\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<CardDeck style={{\"maxHeight\": \"6rem\", \"overflowY\": \"auto\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{facets.tags.map((tag, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t      style={{\"minWidth\": '11rem', \"maxWidth\": '11rem'}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body className=\"p-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            label={tag}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            defaultChecked={criteria.tags.includes(tag)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChangeTag(event.target.checked, tag)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</CardDeck>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t<hr className=\"mt-1 mb-1\"/>\n\t\t\t\t\t\t\t\t\t\t<Row className=\"mt-1 small\">\n\t\t\t\t\t\t\t\t\t\t\t<Col xs={1}>\n\t\t\t\t\t\t\t\t\t\t\t\tAttributes\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t{Object.keys(facets.attributes).map((attribute, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row key={index} className=\"mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{attribute}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CardDeck\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\"maxHeight\": \"7rem\", \"overflowY\": \"auto\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{facets.attributes[attribute].map((tag, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t      style={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t      \"minWidth\": '11rem',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t      \"maxWidth\": '11rem'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t      }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body className=\"p-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check key={index + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            type=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            label={tag}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            defaultChecked={criteria.attributes[attribute] && criteria.attributes[attribute].includes(tag)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            onChangeAttribute(event.target.checked, attribute, tag)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CardDeck>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr className=\"mt-1 mb-1\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Form>\n\t\t\t</Jumbotron>\n\t\t\t\n\t\t\t{\n\t\t\t\tfields.length > 0 ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{fields.map((api, index) => (\n\t\t\t\t\t\t\tapi.method && api.route &&\n\t\t\t\t\t\t\t<Alert className=\"m-1 p-2\" key={index} variant={getMethodVariant(api.method)}>\n\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 pl-1 pr-1 pt-0 pb-0 float-left\"\n\t\t\t\t\t\t\t\t\t\t        variant={getMethodVariant(api.method)}><span\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"small\">{api.method.toUpperCase()}</span></Button>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"small float-left font-weight-bold mr-1\">{api.serviceName}</span>\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"small float-left mr-2 font-weight-bold text-success\"> v{api.v} </span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"small float-left\">{api.route}</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"small float-right text-info\">{api.group}</span>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t<Row className=\"mt-2\">\n\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t<span className=\"small font-italic float-left ml-3\">\n\t\t\t\t\t\t\t\t\t{api.label}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\t\treLoad(p);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t\t</>\n\t\t\t\t) : null\n\t\t\t}\n\t\t</>\n\t);\n}","import {\n\tAccordion,\n\tAlert,\n\tBadge,\n\tButton,\n\tCol,\n\tForm,\n\tJumbotron,\n\tRow,\n\tuseAccordionToggle\n} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {BsLockFill} from \"react-icons/bs\";\n\nimport AutoPagination from \"../../../../lib/AutoPagination\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {SoaanalyticsService} from \"../../../../services\";\nimport {FcCollapse, FcExpand} from \"react-icons/fc\";\n\nconst initCriteria = {\n\t\"type\": \"service\",\n\t\"includeSOAJS\": false,\n\t\"serviceName\": \"\",\n\t\"serviceGroup\": \"\",\n\t\"serviceVersion\": \"\",\n\t\"route\": \"\",\n\t\"tenant\": \"\"\n};\n\nconst methodVariant = {\n\t\"get\": \"primary\",\n\t\"post\": \"success\",\n\t\"delete\": \"danger\",\n\t\"put\": \"warning\",\n\t\"patch\": \"info\",\n\t\"head\": \"secondary\",\n\t\"other\": \"light\"\n};\nconst soaanalyticsService = SoaanalyticsService.getService();\nconst tenantLimit = 10;\n\nfunction getMethodVariant(method) {\n\tif (method && methodVariant[method]) {\n\t\treturn methodVariant[method];\n\t} else {\n\t\treturn methodVariant[\"other\"];\n\t}\n}\n\nasync function onLoad(setFields, setPagination, currentPage, isSubscribed, criteria) {\n\ttry {\n\t\tlet c = {\n\t\t\t\"limit\": 6,\n\t\t\t\"start\": (currentPage - 1) * 6,\n\t\t\t\"type\": criteria.type,\n\t\t\t\"includeSOAJS\": criteria.includeSOAJS,\n\t\t\t\"keywords\": {\n\t\t\t\t\"serviceName\": criteria.serviceName,\n\t\t\t\t\"serviceGroup\": criteria.serviceGroup,\n\t\t\t\t\"serviceVersion\": criteria.serviceVersion,\n\t\t\t\t\"route\": criteria.route\n\t\t\t}\n\t\t};\n\t\tconst response = await soaanalyticsService.getApis(c);\n\t\tif (isSubscribed) {\n\t\t\tif (response && response.records) {\n\t\t\t\tsetFields(response.records);\n\t\t\t\tsetPagination(\n\t\t\t\t\t{\n\t\t\t\t\t\t\"totalItems\": response.count,\n\t\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\t\"itemsPerPage\": response.limit\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nfunction CustomToggle({children, eventKey, handleClick}) {\n\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\thandleClick();\n\t});\n\treturn (\n\t\t<div className=\"float-right\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nexport default function ApiAcl() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [criteria, setCriteria] = useState(initCriteria);\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\t\n\tconst [selectedAPI, setSelectedAPI] = useState(null);\n\tconst [usage, setUsage] = useState([]);\n\tconst [usageTenants, setUsageTenants] = useState({\n\t\t\"code\": \"\",\n\t\t\"count\": 0,\n\t\t\"tenants\": []\n\t});\n\tconst [activeKey, setActiveKey] = useState(0);\n\t\n\tasync function reLoad(page) {\n\t\tawait onLoad(setFields, setPagination, page || currentPage, true, criteria)\n\t}\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function getACLUsageTenants(code) {\n\t\ttry {\n\t\t\tlet data = {\n\t\t\t\t\"productCode\": code,\n\t\t\t\t\"limit\": tenantLimit,\n\t\t\t\t\"start\": 0\n\t\t\t};\n\t\t\tif (criteria.tenant.length > 0) {\n\t\t\t\tdata.keyword = criteria.tenant;\n\t\t\t}\n\t\t\tlet response = await soaanalyticsService.getAPIACLUsageTenants(data);\n\t\t\tif (response && response.records) {\n\t\t\t\tsetUsageTenants({\n\t\t\t\t\t\"code\": code,\n\t\t\t\t\t\"count\": response.count,\n\t\t\t\t\t\"tenants\": response.records\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function getACLUsage(api) {\n\t\ttry {\n\t\t\tsetSelectedAPI({\n\t\t\t\t\"service\": api.serviceName,\n\t\t\t\t\"version\": api.v,\n\t\t\t\t\"method\": api.method,\n\t\t\t\t\"api\": api.route,\n\t\t\t\t\"group\": api.group\n\t\t\t});\n\t\t\tlet response = await soaanalyticsService.getAPIACLUsage({\n\t\t\t\t\"service\": api.serviceName,\n\t\t\t\t\"version\": api.v,\n\t\t\t\t\"method\": api.method,\n\t\t\t\t\"api\": api.route\n\t\t\t});\n\t\t\tif (response) {\n\t\t\t\tsetUsage(response);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait reLoad(1);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tonLoad(setFields, setPagination, 1, isSubscribed, initCriteria).catch();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-3\">\n\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t<Row className=\"small\">\n\t\t\t\t\t\t<Col xs={4}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.ServiceName\")}\n\t\t\t\t\t\t\t\tid=\"serviceName\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tvalue={criteria.serviceName}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={4}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.ServiceVersion\")}\n\t\t\t\t\t\t\t\tid=\"serviceVersion\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tvalue={criteria.serviceVersion}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={4}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.ServiceGroup\")}\n\t\t\t\t\t\t\t\tid=\"serviceGroup\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tvalue={criteria.serviceGroup}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row className=\"small mt-4\">\n\t\t\t\t\t\t<Col xs={6} md={7}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.Route\")}\n\t\t\t\t\t\t\t\tid=\"route\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tvalue={criteria.route}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={3}>\n\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\tid=\"includeSOAJS\"\n\t\t\t\t\t\t\t\tlabel=\"Include SOAJS APIs\"\n\t\t\t\t\t\t\t\tdefaultChecked={criteria.includeSOAJS}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={3} md={2}>\n\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Form>\n\t\t\t</Jumbotron>\n\t\t\t{fields.length > 0 ? (\n\t\t\t\t<>\n\t\t\t\t\t{fields.map((api, index) => (\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Alert className=\"m-1 p-2\" key={index} variant={getMethodVariant(api.method)}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 pl-1 pr-1 pt-0 pb-0 float-left\"\n\t\t\t\t\t\t\t\t\t        variant={getMethodVariant(api.method)}><span\n\t\t\t\t\t\t\t\t\t\tclassName=\"small\">{api.method ? api.method.toUpperCase() : \"\"}</span></Button>\n\t\t\t\t\t\t\t\t\t<span className=\"small float-left font-weight-bold mr-1\">{api.serviceName}</span>\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclassName=\"small float-left mr-2 font-weight-bold text-success\"> v{api.v} </span>\n\t\t\t\t\t\t\t\t\t<span className=\"small float-left\">{api.route}</span>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tdisabled={!api.route}\n\t\t\t\t\t\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-2 small pl-1 pr-1 pt-0 pb-0\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tgetACLUsage(api).catch();\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<BsLockFill\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"small\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<span className=\"small float-right text-info\">{api.group}</span>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t))}\n\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\treLoad(p);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t\t<hr/>\n\t\t\t\t</>\n\t\t\t) : null}\n\t\t\t\n\t\t\t{selectedAPI &&\n\t\t\t<Alert className=\"m-1 p-2\" variant={getMethodVariant(selectedAPI.method)}>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 pl-1 pr-1 pt-0 pb-0 float-left\"\n\t\t\t\t\t\t        variant={getMethodVariant(selectedAPI.method)}><span\n\t\t\t\t\t\t\tclassName=\"small\">{selectedAPI.method ? selectedAPI.method.toUpperCase() : \"\"}</span></Button>\n\t\t\t\t\t\t<span className=\"small float-left font-weight-bold mr-1\">{selectedAPI.service}</span>\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"small float-left mr-2 font-weight-bold text-success\"> v{selectedAPI.version} </span>\n\t\t\t\t\t\t<span className=\"small float-left\">{selectedAPI.api}</span>\n\t\t\t\t\t\t<span className=\"small float-right text-info\">{selectedAPI.group}</span>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Alert>\n\t\t\t}\n\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t{usage.map((rec, i) => (\n\t\t\t\t\t<Alert key={i} variant=\"light\" className=\"mt-2 mb-2 small\" style={{\"borderColor\": \"#c6c8ca\"}}>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<b>{rec.name}</b><Badge variant=\"info ml-3\">{rec.code}</Badge>\n\t\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\t\teventKey={i + 1}\n\t\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\t\tif (activeKey === (i + 1)) {\n\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(i + 1);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{activeKey === (i + 1) ? <FcExpand/> :\n\t\t\t\t\t\t\t\t\t\t<FcCollapse/>}\n\t\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={i + 1}>\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t\t<div className=\"p-2\">\n\t\t\t\t\t\t\t\t\t{rec.found_in_scope && rec.found_in_scope.envs.length > 0 &&\n\t\t\t\t\t\t\t\t\t<Alert key={i} variant=\"secondary\" className=\"p-1\">\n\t\t\t\t\t\t\t\t\t\tScope usage\n\t\t\t\t\t\t\t\t\t\t<span className=\"float-right\">\n\t\t\t\t\t\t\t\t\t\tEnvironments:\n\t\t\t\t\t\t\t\t\t\t<span className=\" info ml-2\">\n\t\t\t\t\t\t\t\t\t\t\t{rec.found_in_scope.envs.join(\", \").toUpperCase()}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{rec.found_in_package && rec.found_in_package.packages.length > 0 &&\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<b>Package usage</b>\n\t\t\t\t\t\t\t\t\t\t{rec.found_in_package.packages.map((pack, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t{pack}\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"float-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{rec.found_in_package.envs &&\n\t\t\t\t\t\t\t\t\t\t\t\t\trec.found_in_package.envs[pack] &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tEnvironments:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"info ml-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{rec.found_in_package.envs[pack].join(\", \").toUpperCase()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t\t\t<Jumbotron className=\"p-3 mb-2\">\n\t\t\t\t\t\t\t\t\t\t<b>Tenants usage</b> click on search to filter and fetch usage\n\t\t\t\t\t\t\t\t\t\t<Row className=\"mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={9} md={10}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"tenant\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={criteria.tenant}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={3} md={2}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"dark\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgetACLUsageTenants(rec.code).catch();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t{usageTenants.code === rec.code && usageTenants.tenants &&\n\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Alert key={i} className=\" mt-2 p-1 m-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tUsed by <Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\">{usageTenants.count}</Badge> tenant(s)\n\t\t\t\t\t\t\t\t\t\t\t\t\t{usageTenants.count > tenantLimit &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>, max {tenantLimit} are listed below use search to filter</span>}\n\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t\t\t\t\t{usageTenants.code === rec.code && usageTenants.tenants && usageTenants.tenants.length > 0 &&\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t{usageTenants.tenants.map((ten, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<Alert key={i} variant=\"light\" className=\"p-2 m-1 border-secondary\">\n\t\t\t\t\t\t\t\t\t\t\t\t<b>{ten.name}</b>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"float-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge variant=\"secondary\">{ten.code}</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t\t\t\t\t\t{ten.applications.map((app, i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1 small\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{app.package}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"float-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tEnvironment:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\" info ml-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{app.key.env || \"All environments\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style={{\"wordBreak\": \"break-all\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{app.key.extKey}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Alert>\n\t\t\t\t))}\n\t\t\t</Accordion>\n\t\t</>\n\t);\n}","import JsonModal from './JsonModal.js';\n\nexport default JsonModal;\n","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {JsonEditor} from \"../index\";\n\n\nexport default function JsonModal({modalOpt, setModalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\t\n\treturn (\n\t\tmodalOpt &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.DetailedInformation\")} {modalOpt.title}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<JsonEditor\n\t\t\t\t\tmodes={[\"view\", \"preview\"]}\n\t\t\t\t\tmode={modalOpt.mode || \"view\"}\n\t\t\t\t\tjson={modalOpt.json || {}}\n\t\t\t\t/>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Ok\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {\n\tAlert,\n\tButton,\n\tCol,\n\tDropdown,\n\tDropdownButton,\n\tRow,\n\tBadge,\n\tAccordion,\n\tuseAccordionToggle,\n\tForm, Jumbotron\n} from \"react-bootstrap\";\nimport React, { useEffect, useState } from \"react\";\n\nimport { NotificationManager } from \"../../../../soajs/urac/components\";\nimport { ConsoleService, SoamonitorService, MultitenantService } from \"../../../../services\";\nimport AutoPagination from \"../../../../lib/AutoPagination\";\n\nimport JsonModal from \"../../../../soajs/urac/components/JsonModal\";\nimport { FcCollapse, FcExpand } from \"react-icons/fc\";\nimport { BiSearchAlt } from \"react-icons/bi\";\nimport { useTranslation } from \"react-i18next\";\nimport DatePicker from \"react-datepicker\";\n\nconst consoleService = ConsoleService.getService();\nconst soamonitorService = SoamonitorService.getService();\nconst multitenantService = MultitenantService.getService();\n\nconst methodVariant = {\n\t\"get\": \"primary\",\n\t\"post\": \"success\",\n\t\"delete\": \"danger\",\n\t\"put\": \"warning\",\n\t\"patch\": \"info\",\n\t\"head\": \"secondary\",\n\t\"other\": \"light\"\n};\n\nfunction getMethodVariant(method) {\n\tif (method && methodVariant[method]) {\n\t\treturn methodVariant[method];\n\t} else {\n\t\treturn methodVariant[\"other\"];\n\t}\n}\n\nfunction getTenantsExtKey(tenants, env) {\n\tlet extKeys = [];\n\tfor (let i = 0; i < tenants.length; i++) {\n\t\tlet _extKeys = getTenantExtKey(tenants[i], env);\n\t\textKeys = [..._extKeys];\n\t}\n\treturn extKeys;\n}\n\nfunction getTenantExtKey(tenant, env) {\n\tlet extKeys = [];\n\tif (env && tenant && tenant.applications && tenant.applications.length > 0) {\n\t\ttenant.applications.forEach((oneApp) => {\n\t\t\tif (oneApp && oneApp.keys && oneApp.keys.length > 0) {\n\t\t\t\toneApp.keys.forEach((oneKey) => {\n\t\t\t\t\tif (oneKey && oneKey.extKeys && oneKey.extKeys.length > 0) {\n\t\t\t\t\t\toneKey.extKeys.forEach((oneExt) => {\n\t\t\t\t\t\t\tif (oneExt && oneExt.extKey && (oneExt.env.toUpperCase() === env.toUpperCase() || oneExt.env === null || !oneExt.env)) {\n\t\t\t\t\t\t\t\textKeys.push({\n\t\t\t\t\t\t\t\t\tv: oneExt.extKey,\n\t\t\t\t\t\t\t\t\tl: oneApp.product + \" \" + oneApp.package + \" \" + (oneExt.label ? oneExt.label : oneExt.extKey.substring(0, 10) + \"...\" + oneExt.extKey.substring(oneExt.extKey.length - 10, oneExt.extKey.length))\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\treturn extKeys;\n}\n\nfunction CustomToggle({ children, eventKey, handleClick }) {\n\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\thandleClick();\n\t});\n\treturn (\n\t\t<div className=\"float-right\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nexport default function ApiMonitor() {\n\tconst { t } = useTranslation([\"common\", \"soajs\"]);\n\tconst [items, setItems] = useState([]);\n\tconst [environments, setEnvironments] = useState([]);\n\tconst [selectedEnv, setSelectedEnv] = useState(null);\n\tconst [selectedMsg, setSelected] = useState(\"-- Select an environment --\");\n\n\tconst [tenantKeys, setTenantKeys] = useState([]);\n\tconst [tenantKey, setTenantKey] = useState(null);\n\n\tconst [criteria, setCriteria] = useState({\n\t\t\"threshold\": 0,\n\t\t\"dateFrom\": \"\",\n\t\t\"dateTo\": \"\"\n\t});\n\n\tconst [activeKey, setActiveKey] = useState(0);\n\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\n\tconst [modalOpt, setModalOpt] = useState({ \"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\" });\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\n\tfunction showJson(input, title) {\n\t\tlet json = input;\n\t\tif (typeof json === \"string\") {\n\t\t\ttry {\n\t\t\t\tjson = JSON.parse(json);\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\tmodalOptShow(json, title);\n\t}\n\n\tfunction handleFromDateChange(dp) {\n\t\tif (dp) {\n\t\t\tcriteria.dateFrom = dp.toISOString();\n\t\t\tsetCriteria({ ...criteria });\n\t\t} else {\n\t\t\tcriteria.dateFrom = \"\";\n\t\t\tsetCriteria({ ...criteria });\n\t\t}\n\t}\n\n\tfunction handleToDateChange(dp) {\n\t\tif (dp) {\n\t\t\tcriteria.dateTo = dp.toISOString();\n\t\t\tsetCriteria({ ...criteria });\n\t\t} else {\n\t\t\tcriteria.dateTo = \"\";\n\t\t\tsetCriteria({ ...criteria });\n\t\t}\n\t}\n\n\tasync function reLoad(page, env, extkey) {\n\t\ttry {\n\t\t\tif (!extkey) {\n\t\t\t\textkey = tenantKey;\n\t\t\t}\n\t\t\tlet c = { \"limit\": 12, \"start\": (page - 1) * 12 };\n\t\t\tif (criteria.threshold) {\n\t\t\t\tc.threshold = { \"above\": criteria.threshold };\n\t\t\t}\n\t\t\tif (criteria.dateFrom && criteria.dateFrom.length > 0) {\n\t\t\t\tif (!c.dates) {\n\t\t\t\t\tc.dates = {};\n\t\t\t\t}\n\t\t\t\tc.dates.from = new Date(criteria.dateFrom).getTime();\n\t\t\t}\n\t\t\tif (criteria.dateTo && criteria.dateTo.length > 0) {\n\t\t\t\tif (!c.dates) {\n\t\t\t\t\tc.dates = {};\n\t\t\t\t}\n\t\t\t\tc.dates.to = new Date(criteria.dateTo).getTime();\n\t\t\t}\n\t\t\tconst response = await soamonitorService.getMonitorItems(c, env || selectedEnv, extkey);\n\t\t\tif (response) {\n\t\t\t\tsetPagination(\n\t\t\t\t\t{\n\t\t\t\t\t\t\"totalItems\": response.count,\n\t\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\t\"itemsPerPage\": response.limit\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tsetItems(response.items);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\n\tasync function handleSelectKey(event) {\n\t\tlet value = event.target.value;\n\t\tlet id = event.target.id;\n\n\t\tif (id === \"tenantExtKey\" && value) {\n\t\t\tsetTenantKey(value);\n\t\t\tawait reLoad(1, selectedEnv, value);\n\t\t}\n\t}\n\n\tasync function handleSelectEnv(code) {\n\t\tsetSelectedEnv(code);\n\t\tsetSelected(code);\n\n\t\tsetTenantKeys([]);\n\t\tsetTenantKey(\"\");\n\n\t\tconst response = await multitenantService.getConsoleTenants({ category: \"integration\", \"scope\": \"other\" });\n\t\tif (response && response.items) {\n\t\t\tlet extKeys = getTenantsExtKey(response.items, code);\n\t\t\tsetTenantKeys(extKeys);\n\t\t}\n\n\t}\n\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tif (event.target.type === 'number') {\n\t\t\tvalue = parseInt(value);\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait reLoad(1, null);\n\t}\n\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tconst _environments = await consoleService.getEnvironments();\n\t\t\t\tif (_environments && isSubscribed) {\n\t\t\t\t\tsetEnvironments(_environments);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<Alert variant=\"info\" className=\"mt-4 mb-2\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<h6 className=\"float-left mr-3 mt-2\">\n\t\t\t\t\t\t\tEnvironment:\n\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t<DropdownButton\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tid=\"dropdown-item-button\"\n\t\t\t\t\t\t\ttitle={selectedMsg}\n\t\t\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\t\t\tclassName=\"small\">\n\t\t\t\t\t\t\t{environments.map((item, index) => (\n\t\t\t\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\t\t\t\tas=\"button\"\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tactive={selectedEnv === item.code}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\thandleSelectEnv(item.code).catch();\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\t{item.code}\n\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</DropdownButton>\n\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t{selectedEnv &&\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\tid=\"tenantExtKey\"\n\t\t\t\t\t\t\t\tvalue={criteria.tenantExtKey}\n\t\t\t\t\t\t\t\tonChange={handleSelectKey}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"\"> ---</option>\n\t\t\t\t\t\t\t\t{tenantKeys.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t<option key={i} value={rec.v}>{rec.l}</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Alert>\n\t\t\t<Jumbotron className=\"p-2 mb-1\">\n\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t<Row className=\"small\">\n\t\t\t\t\t\t<Col xs={3}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tid=\"threshold\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\t\tvalue={criteria.threshold}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\tRequest above threshold\n\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\tselected={(criteria.dateFrom && criteria.dateFrom !== \"\") ? new Date(criteria.dateFrom) : null}\n\t\t\t\t\t\t\t\tonChange={handleFromDateChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\tFrom Date\n\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\tselected={(criteria.dateTo && criteria.dateTo !== \"\") ? new Date(criteria.dateTo) : null}\n\t\t\t\t\t\t\t\tonChange={handleToDateChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\tTo Date\n\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tdisabled={!selectedEnv}\n\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\tvariant=\"dark\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tonClick={handleSearch}>\n\t\t\t\t\t\t\t\t<BiSearchAlt /> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Form>\n\t\t\t</Jumbotron>\n\n\t\t\t{items && items.length > 0 &&\n\t\t\t\t<>\n\t\t\t\t\t<JsonModal\n\t\t\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t\t\t/>\n\t\t\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t\t\t{items.map((d, i) => (\n\t\t\t\t\t\t\t<Alert key={i} variant=\"light\" className=\"mt-2 mb-2\" style={{ \"borderColor\": \"#c6c8ca\" }}>\n\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t<span className=\"float-left\">\n\t\t\t\t\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 pl-1 pr-1 pt-0 pb-0\"\n\t\t\t\t\t\t\t\t\t\t\t\tvariant={getMethodVariant(d.method.toLowerCase())}><span\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"small\">{d.method.toUpperCase()}</span></Button>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">{d.api}</span> <Badge\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\">{d.time.total}ms</Badge>\n\t\t\t\t\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t\t\t\t\t<span className=\"float-right\">\n\t\t\t\t\t\t\t\t\t\t\t<Badge variant=\"info mr-5\">{d.name} v{d.version}</Badge>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"mr-2 small\">{d.ts ? new Date(d.ts).toISOString() : null}</span>\n\t\t\t\t\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\t\t\t\t\teventKey={i + 1}\n\t\t\t\t\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (activeKey === (i + 1)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(i + 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{activeKey === (i + 1) ? <FcExpand /> :\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FcCollapse />}\n\t\t\t\t\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey={i + 1}>\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<hr className=\"mt-2 mb-1\" />\n\t\t\t\t\t\t\t\t\t\t<Row className=\"mt-2 small\">\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"float-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{d.tenant ? d.tenant.id : null} [{d.tenant ? d.tenant.code : null}]\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\">{d.application ? d.application.product : null} [{d.application ? d.application.package : null}]</span>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t<Row className=\"mt-3\">\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t{d.body &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-left ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ \"borderColor\": \"#c6c8ca\" }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowJson(d.body);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbody\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>}\n\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ \"borderColor\": \"#c6c8ca\" }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowJson(d.response);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tresponse\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ \"borderColor\": \"#c6c8ca\" }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowJson(d.query);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\trequest\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ \"borderColor\": \"#c6c8ca\" }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowJson(d.headers);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\theader\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ \"borderColor\": \"#c6c8ca\" }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowJson({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"tenant\": d.tenant,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": d.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"user\": d.urac,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"time\": d.time,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"url\": d.url\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tinfo\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Accordion>\n\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\treLoad(p, null).catch();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t</>}\n\t\t</>\n\t);\n}","import { Alert, Badge, Button, Col, Dropdown, DropdownButton, Form, Jumbotron, Row, Table } from \"react-bootstrap\";\nimport React, { useEffect, useState } from \"react\";\n\nimport { NotificationManager } from \"../../../../soajs/urac/components\";\nimport { ConsoleService, SoamonitorService, MultitenantService } from \"../../../../services\";\nimport AutoPagination from \"../../../../lib/AutoPagination\";\nimport { useTranslation } from \"react-i18next\";\nimport { BiSearchAlt } from \"react-icons/bi\";\nimport DatePicker from \"react-datepicker\";\n\nconst consoleService = ConsoleService.getService();\nconst soamonitorService = SoamonitorService.getService();\nconst multitenantService = MultitenantService.getService();\n\nconst methodVariant = {\n\t\"get\": \"primary\",\n\t\"post\": \"success\",\n\t\"delete\": \"danger\",\n\t\"put\": \"warning\",\n\t\"patch\": \"info\",\n\t\"head\": \"secondary\",\n\t\"other\": \"light\"\n};\n\nfunction getMethodVariant(method) {\n\tif (method && methodVariant[method]) {\n\t\treturn methodVariant[method];\n\t} else {\n\t\treturn methodVariant[\"other\"];\n\t}\n}\n\nfunction getTenantsExtKey(tenants, env) {\n\tlet extKeys = [];\n\tfor (let i = 0; i < tenants.length; i++) {\n\t\tlet _extKeys = getTenantExtKey(tenants[i], env);\n\t\textKeys = [..._extKeys];\n\t}\n\treturn extKeys;\n}\n\nfunction getTenantExtKey(tenant, env) {\n\tlet extKeys = [];\n\tif (env && tenant && tenant.applications && tenant.applications.length > 0) {\n\t\ttenant.applications.forEach((oneApp) => {\n\t\t\tif (oneApp && oneApp.keys && oneApp.keys.length > 0) {\n\t\t\t\toneApp.keys.forEach((oneKey) => {\n\t\t\t\t\tif (oneKey && oneKey.extKeys && oneKey.extKeys.length > 0) {\n\t\t\t\t\t\toneKey.extKeys.forEach((oneExt) => {\n\t\t\t\t\t\t\tif (oneExt && oneExt.extKey && (oneExt.env.toUpperCase() === env.toUpperCase() || oneExt.env === null || !oneExt.env)) {\n\t\t\t\t\t\t\t\textKeys.push({\n\t\t\t\t\t\t\t\t\tv: oneExt.extKey,\n\t\t\t\t\t\t\t\t\tl: oneApp.product + \" \" + oneApp.package + \" \" + (oneExt.label ? oneExt.label : oneExt.extKey.substring(0, 10) + \"...\" + oneExt.extKey.substring(oneExt.extKey.length - 10, oneExt.extKey.length))\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\treturn extKeys;\n}\n\nexport default function ApiAnalytics() {\n\tconst { t } = useTranslation([\"common\", \"soajs\"]);\n\tconst [itemsApi, setItemsApi] = useState([]);\n\tconst [itemsService, setItemsService] = useState([]);\n\tconst [itemsUser, setItemsUser] = useState([]);\n\tconst [itemsTenant, setItemsTenant] = useState([]);\n\n\tconst [environments, setEnvironments] = useState([]);\n\tconst [selectedEnv, setSelectedEnv] = useState(null);\n\tconst [selectedMsg, setSelected] = useState(\"-- Select an environment --\");\n\n\tconst [tenantKeys, setTenantKeys] = useState([]);\n\tconst [tenantKey, setTenantKey] = useState(null);\n\n\tconst [criteria, setCriteria] = useState({\n\t\t\"type\": \"api\",\n\t\t\"username\": \"\",\n\t\t\"tenantCode\": \"\",\n\t\t\"api\": \"\",\n\t\t\"service\": \"\",\n\t\t\"dateFrom\": \"\",\n\t\t\"dateTo\": \"\",\n\t\t\"year\": {\n\t\t\t\"from\": 0,\n\t\t\t\"to\": 0\n\t\t},\n\t\t\"month\": {\n\t\t\t\"from\": 0,\n\t\t\t\"to\": 0\n\t\t},\n\t\t\"day\": {\n\t\t\t\"from\": 0,\n\t\t\t\"to\": 0\n\t\t}\n\t});\n\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\n\tasync function reLoad(page, env, extkey) {\n\t\ttry {\n\t\t\tif (!extkey) {\n\t\t\t\textkey = tenantKey;\n\t\t\t}\n\t\t\tlet c = { \"limit\": 15, \"start\": (page - 1) * 15 };\n\t\t\tif (criteria.type === \"api\") {\n\t\t\t\tif (criteria.api && criteria.api.length > 0) {\n\t\t\t\t\tc.filters = {\n\t\t\t\t\t\t\"api\": criteria.api\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (criteria.type === \"user\") {\n\t\t\t\tif (criteria.username && criteria.username.length > 0) {\n\t\t\t\t\tc.filters = {\n\t\t\t\t\t\t\"username\": criteria.username\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (criteria.type === \"tenant\") {\n\t\t\t\tif (criteria.tenantCode && criteria.tenantCode.length > 0) {\n\t\t\t\t\tc.filters = {\n\t\t\t\t\t\t\"tenantCode\": criteria.tenantCode\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (criteria.type === \"service\") {\n\t\t\t\tif (criteria.service && criteria.service.length > 0) {\n\t\t\t\t\tc.filters = {\n\t\t\t\t\t\t\"service\": criteria.service\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (criteria.dateFrom && criteria.dateFrom.length > 0) {\n\t\t\t\tif (!c.year) {\n\t\t\t\t\tc.year = {};\n\t\t\t\t}\n\t\t\t\tc.year.from = criteria.year.from;\n\t\t\t\tif (!c.month) {\n\t\t\t\t\tc.month = {};\n\t\t\t\t}\n\t\t\t\tc.month.from = criteria.month.from;\n\t\t\t\tif (!c.day) {\n\t\t\t\t\tc.day = {};\n\t\t\t\t}\n\t\t\t\tc.day.from = criteria.day.from;\n\t\t\t}\n\t\t\tif (criteria.dateTo && criteria.dateTo.length > 0) {\n\t\t\t\tif (!c.year) {\n\t\t\t\t\tc.year = {};\n\t\t\t\t}\n\t\t\t\tc.year.to = criteria.year.to;\n\t\t\t\tif (!c.month) {\n\t\t\t\t\tc.month = {};\n\t\t\t\t}\n\t\t\t\tc.month.to = criteria.month.to;\n\t\t\t\tif (!c.day) {\n\t\t\t\t\tc.day = {};\n\t\t\t\t}\n\t\t\t\tc.day.to = criteria.day.to;\n\t\t\t}\n\t\t\tconst response = await soamonitorService.getMonitorAnalytics(criteria.type, c, env || selectedEnv, extkey);\n\t\t\tif (response) {\n\t\t\t\tsetPagination(\n\t\t\t\t\t{\n\t\t\t\t\t\t\"totalItems\": response[criteria.type].count,\n\t\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\t\"itemsPerPage\": response[criteria.type].limit\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tif (response.api && response.api.items) {\n\t\t\t\t\tsetItemsApi(response.api.items);\n\t\t\t\t} else {\n\t\t\t\t\tsetItemsApi([]);\n\t\t\t\t}\n\t\t\t\tif (response.service && response.service.items) {\n\t\t\t\t\tsetItemsService(response.service.items)\n\t\t\t\t} else {\n\t\t\t\t\tsetItemsService([]);\n\t\t\t\t}\n\t\t\t\tif (response.user && response.user.items) {\n\t\t\t\t\tsetItemsUser(response.user.items)\n\t\t\t\t} else {\n\t\t\t\t\tsetItemsUser([]);\n\t\t\t\t}\n\t\t\t\tif (response.tenant && response.tenant.items) {\n\t\t\t\t\tsetItemsTenant(response.tenant.items)\n\t\t\t\t} else {\n\t\t\t\t\tsetItemsTenant([]);\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\n\tasync function handleSelectKey(event) {\n\t\tlet value = event.target.value;\n\t\tlet id = event.target.id;\n\n\t\tif (id === \"tenantExtKey\" && value) {\n\t\t\tsetTenantKey(value);\n\t\t\tawait reLoad(1, selectedEnv, value);\n\t\t}\n\t}\n\n\tasync function handleSelectEnv(code) {\n\t\tsetSelectedEnv(code);\n\t\tsetSelected(code);\n\n\t\tsetTenantKeys([]);\n\t\tsetTenantKey(\"\");\n\n\t\tconst response = await multitenantService.getConsoleTenants({ category: \"integration\", \"scope\": \"other\" });\n\t\tif (response && response.items) {\n\t\t\tlet extKeys = getTenantsExtKey(response.items, code);\n\t\t\tsetTenantKeys(extKeys);\n\t\t}\n\t}\n\n\tfunction handleFromDateChange(dp) {\n\t\tif (dp) {\n\t\t\tlet y = dp.getFullYear();\n\t\t\tlet m = dp.getMonth();\n\t\t\tlet d = dp.getDate();\n\n\t\t\tcriteria.dateFrom = dp.toISOString();\n\t\t\tcriteria.year.from = y;\n\t\t\tcriteria.month.from = m;\n\t\t\tcriteria.day.from = d;\n\t\t\tsetCriteria({ ...criteria });\n\t\t} else {\n\t\t\tcriteria.dateFrom = \"\";\n\t\t\tcriteria.year.from = 0;\n\t\t\tcriteria.month.from = 0;\n\t\t\tcriteria.day.from = 0;\n\t\t\tsetCriteria({ ...criteria });\n\t\t}\n\t}\n\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait reLoad(1, null);\n\t}\n\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tconst _environments = await consoleService.getEnvironments();\n\t\t\t\tif (_environments && isSubscribed) {\n\t\t\t\t\tsetEnvironments(_environments);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<Alert variant=\"info\" className=\"mt-4 mb-2\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<h6 className=\"float-left mr-3 mt-2\">\n\t\t\t\t\t\t\tEnvironment:\n\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t<DropdownButton\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tid=\"dropdown-item-button\"\n\t\t\t\t\t\t\ttitle={selectedMsg}\n\t\t\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\t\t\tclassName=\"small\">\n\t\t\t\t\t\t\t{environments.map((item, index) => (\n\t\t\t\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\t\t\t\tas=\"button\"\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tactive={selectedEnv === item.code}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\thandleSelectEnv(item.code).catch();\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\t{item.code}\n\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</DropdownButton>\n\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t{selectedEnv &&\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\tid=\"tenantExtKey\"\n\t\t\t\t\t\t\t\tvalue={criteria.tenantExtKey}\n\t\t\t\t\t\t\t\tonChange={handleSelectKey}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"\"> ---</option>\n\t\t\t\t\t\t\t\t{tenantKeys.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t<option key={i} value={rec.v}>{rec.l}</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Alert>\n\n\t\t\t<>\n\t\t\t\t<Jumbotron className=\"p-2 mb-1\">\n\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t<Row className=\"small\">\n\t\t\t\t\t\t\t<Col md={3}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"type\"\n\t\t\t\t\t\t\t\t\tdefaultValue={criteria.type}\n\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"api\">API</option>\n\t\t\t\t\t\t\t\t\t<option value=\"user\">User</option>\n\t\t\t\t\t\t\t\t\t<option value=\"tenant\">Tenant</option>\n\t\t\t\t\t\t\t\t\t<option value=\"service\">Service</option>\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\tView by\n\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col md={4}>\n\t\t\t\t\t\t\t\t{criteria.type === \"api\" &&\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tid=\"api\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={criteria.api}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t\tFilter by route\n\t\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{criteria.type === \"user\" &&\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={criteria.username}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t\tFilter by username\n\t\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{criteria.type === \"service\" &&\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tid=\"service\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={criteria.service}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t\tFilter by service\n\t\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{criteria.type === \"tenant\" &&\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tid=\"tenantCode\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={criteria.tenantCode}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t\tFilter by tenant\n\t\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\t\tselected={(criteria.dateFrom && criteria.dateFrom !== \"\") ? new Date(criteria.dateFrom) : null}\n\t\t\t\t\t\t\t\t\tonChange={handleFromDateChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\tSpecific Date\n\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={!selectedEnv}\n\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\tvariant=\"dark\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tonClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t<BiSearchAlt /> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Jumbotron>\n\n\t\t\t\t{itemsApi && itemsApi.length > 0 &&\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Api\")}</th>\n\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Service\")}</th>\n\t\t\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Count\")}</th>\n\t\t\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Max\")}</th>\n\t\t\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Min\")}</th>\n\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Date\")}</th>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{itemsApi.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t<tr key={i}>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 pl-1 pr-1 pt-0 pb-0\"\n\t\t\t\t\t\t\t\t\t\t\t\tvariant={getMethodVariant(rec.method.toLowerCase())}><span\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"small\">{rec.method.toUpperCase()}</span></Button>\n\t\t\t\t\t\t\t\t\t\t\t<small>{rec.api}</small>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td><small>{rec.name} v{rec.version}</small></td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.count}</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.max_time_total}</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.min_time_total}</td>\n\t\t\t\t\t\t\t\t\t\t<td><small>{rec.year}-{rec.month + 1}-{rec.day}</small></td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</Table>\n\n\t\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\t\treLoad(p, null).catch();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t\t</>}\n\n\t\t\t\t{itemsService && itemsService.length > 0 &&\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Service\")}</th>\n\t\t\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Count\")}</th>\n\t\t\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Max\")}</th>\n\t\t\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Min\")}</th>\n\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Date\")}</th>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{itemsService.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t<tr key={i}>\n\t\t\t\t\t\t\t\t\t\t<td><small>{rec.name} <Badge variant=\"secondary\">v{rec.version}</Badge></small></td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.count}</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.max_time_total}</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.min_time_total}</td>\n\t\t\t\t\t\t\t\t\t\t<td><small>{rec.year}-{rec.month + 1}-{rec.day}</small></td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</Table>\n\n\t\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\t\treLoad(p, null).catch();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t\t</>}\n\n\t\t\t\t{itemsTenant && itemsTenant.length > 0 &&\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Tenant\")}</th>\n\t\t\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Count\")}</th>\n\t\t\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Max\")}</th>\n\t\t\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Min\")}</th>\n\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Date\")}</th>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{itemsTenant.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t<tr key={i}>\n\t\t\t\t\t\t\t\t\t\t<td><small>{rec.tenant_id} [<span className=\"text-info\">{rec.tenant_code}</span>]</small>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.count}</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.max_time_total}</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.min_time_total}</td>\n\t\t\t\t\t\t\t\t\t\t<td><small>{rec.year}-{rec.month + 1}-{rec.day}</small></td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</Table>\n\n\t\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\t\treLoad(p, null).catch();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t\t</>}\n\n\t\t\t\t{itemsUser && itemsUser.length > 0 &&\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.ID\")}</th>\n\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Username\")}</th>\n\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Email\")}</th>\n\t\t\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Count\")}</th>\n\t\t\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Max\")}</th>\n\t\t\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Min\")}</th>\n\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Date\")}</th>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{itemsUser.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t<tr key={i}>\n\t\t\t\t\t\t\t\t\t\t<td><small>{rec.urac_id}</small></td>\n\t\t\t\t\t\t\t\t\t\t<td><small>{rec.urac_username}</small></td>\n\t\t\t\t\t\t\t\t\t\t<td><small>{rec.urac_email}</small></td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.count}</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.max_time_total}</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"text-center small\">{rec.min_time_total}</td>\n\t\t\t\t\t\t\t\t\t\t<td><small>{rec.year}-{rec.month + 1}-{rec.day}</small></td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</Table>\n\n\t\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\t\treLoad(p, null).catch();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t\t</>}\n\t\t\t</>\n\t\t</>\n\t);\n}","import {Redirect, Route, Switch} from \"react-router-dom\";\nimport React from \"react\";\n\nimport {AuthenticatedRoute} from \"../../soajs/helpers\";\n\nimport ApiMetrics from \"./containers/ApiMetrics/ApiMetrics\";\nimport ApiCatalog from \"./containers/ApiCatalog/ApiCatalog\";\nimport ApiAcl from \"./containers/ApiAcl/ApiAcl\";\nimport ApiMonitor from \"./containers/ApiMonitor/ApiMonitor\";\nimport ApiAnalytics from \"./containers/ApiAnalytics/ApiAnalytics\";\n\nconst rootPath = \"/reports\";\nconst defaultPath= \"/api/metrics\"\n\nexport default function Routes() {\n\treturn (\n\t\t<Switch>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/api/metrics\"}>\n\t\t\t\t<ApiMetrics/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/api/catalog\"}>\n\t\t\t\t<ApiCatalog/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/api/acl\"}>\n\t\t\t\t<ApiAcl/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/api/monitor\"}>\n\t\t\t\t<ApiMonitor/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/api/analytics\"}>\n\t\t\t\t<ApiAnalytics/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t<Route\n\t\t\t\trender={() => {\n\t\t\t\t\treturn (<Redirect to={rootPath + defaultPath}/>)\n\t\t\t\t}}/>\n\t\t</Switch>\n\t)\n}","import {Nav, Navbar, NavDropdown} from \"react-bootstrap\";\nimport React from \"react\";\nimport {LinkContainer} from \"react-router-bootstrap\";\nimport {useTranslation} from \"react-i18next\";\n\nfunction Navigation() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst rootPath = \"/reports\";\n\treturn (\n\t\t<Navbar collapseOnSelect expand=\"md\" className=\"pt-0 pb-0\" bg=\"secondary\" variant=\"dark\">\n\t\t\t<span></span>\n\t\t\t<Navbar.Toggle aria-controls=\"reports-navbar-nav\"/>\n\t\t\t<Navbar.Collapse id=\"settings-navbar-nav\" className=\"justify-content-end\">\n\t\t\t\t<Nav activeKey={window.location.pathname}>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/api/metrics\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.APIMetrics\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/api/catalog\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.APICatalog\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/api/acl\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.APIACL\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/api/monitor\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.APIMonitor\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/api/analytics\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.APIAnalytics\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t</Nav>\n\t\t\t</Navbar.Collapse>\n\t\t</Navbar>\n\t);\n}\n\nexport default Navigation","import React from \"react\";\nimport {Container} from \"react-bootstrap\";\n\nimport Routes from \"./Routes\";\nimport Navigation from \"./Navigation\";\n\nexport default function Reports() {\n\treturn (\n\t\t<>\n\t\t\t<Navigation/>\n\t\t\t<div className=\"bg-dark pt-1\"></div>\n\t\t\t<div className=\"main-area\">\n\t\t\t\t<Container className=\"mt-3 mb-3\">\n\t\t\t\t\t<Routes/>\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t</>\n\t);\n}","import {Button, Card, CardDeck, Form, Jumbotron} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport _ from \"lodash\";\nimport {MarketplaceService} from \"../../../../services\";\nimport {UracService} from \"../../../../soajs/urac/services\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\nimport {useTranslation} from \"react-i18next\";\n\nconst uracService = UracService.getService();\nconst marketplaceService = MarketplaceService.getService();\n\nfunction isGroupSelected(settings, value) {\n\treturn (\n\t\tsettings &&\n\t\tsettings.acl &&\n\t\tsettings.acl.groups &&\n\t\tsettings.acl.groups.value &&\n\t\tsettings.acl.groups.value.includes(value)\n\t);\n}\n\nexport default function ConfigureModalGroups({modalOpt, handleAction, handleClose}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [groups, setGroups] = useState([]);\n\tconst [fields, setFields] = useState({\n\t\t\"groups\": [],\n\t\t\"type\": \"whitelist\"\n\t});\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\t\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction whitelistBlacklist(checked, what) {\n\t\tlet obj = fields;\n\t\tobj.type = what;\n\t\tsetFields({...obj});\n\t}\n\t\n\tfunction onChangeGroup(checked, code) {\n\t\tlet obj = fields;\n\t\tif (checked) {\n\t\t\tobj.groups.push(code);\n\t\t} else {\n\t\t\t_.pullAll(obj.groups, [code]);\n\t\t}\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tawait marketplaceService.updateSettingsGroups({\n\t\t\t\t\"id\": modalOpt.item._id,\n\t\t\t\t\"groups\": fields.groups,\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"subType\": (modalOpt.item.configuration ? modalOpt.item.configuration.subType || null : null)\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.groupsItemSuccess\"));\n\t\t\thandleAction();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (modalOpt.item && modalOpt.item.settings && modalOpt.item.settings.acl && modalOpt.item.settings.acl.groups) {\n\t\t\t\t\tsetFields({\n\t\t\t\t\t\t\"groups\": modalOpt.item.settings.acl.groups.value,\n\t\t\t\t\t\t\"type\": modalOpt.item.settings.acl.groups.type\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tconst _groups = await uracService.getGroups();\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetGroups(_groups);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-4 m-0 bg-light border-dark small\">\n\t\t\t\t<fieldset>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"whitelist\"\n\t\t\t\t\t\tname=\"groupsType\"\n\t\t\t\t\t\tid=\"groupsType1\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"whitelist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"whitelist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"blacklist\"\n\t\t\t\t\t\tname=\"groupsType\"\n\t\t\t\t\t\tid=\"groupsType2\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"blacklist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"blacklist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</fieldset>\n\t\t\t</Jumbotron>\n\t\t\t<CardDeck className=\"ml-2\">\n\t\t\t\t{groups.map((oo, index) => (\n\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t      style={{\"minWidth\": '11rem', \"maxWidth\": '11rem'}}>\n\t\t\t\t\t\t<Card.Body className=\"p-2\">\n\t\t\t\t\t\t\t<Form.Check className=\"small\" key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t            defaultChecked={isGroupSelected(modalOpt.item.settings, oo.code)}\n\t\t\t\t\t\t\t            label={oo.code}\n\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t            onChangeGroup(event.target.checked, oo.code)\n\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</CardDeck>\n\t\t\t<hr/>\n\t\t\t<div>\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t\t\n\t\t\t\t{ability.can('market_item', 'settings_groups') && (modalOpt.item.configuration ? modalOpt.item.configuration.subType || null : null) !== \"soajs\" &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleSubmit}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Save\")} - {t(\"soajs:fields.Groups\")}\n\t\t\t\t</Button>}\n\t\t\t\t{ability.can('market_item', 'settings_groups') && (modalOpt.item.configuration ? modalOpt.item.configuration.subType || null : null) === \"soajs\" &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleSubmit}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Save\")} - {t(\"soajs:fields.Groups\")}\n\t\t\t\t</Button>}\n\t\t\t</div>\n\t\t</>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\nimport {Button, Card, CardDeck, Form, Jumbotron} from \"react-bootstrap\";\nimport _ from \"lodash\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService, MarketplaceService} from \"../../../../services\";\n\nconst consoleService = ConsoleService.getService();\nconst marketplaceService = MarketplaceService.getService();\n\nfunction isEnvSelected(settings, value) {\n\treturn (\n\t\tsettings &&\n\t\tsettings.environments &&\n\t\tsettings.environments.value &&\n\t\tsettings.environments.value.includes(value)\n\t);\n}\n\nexport default function ConfigureModalEnvironments({modalOpt, handleAction, handleClose}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [environments, setEnvironments] = useState([]);\n\tconst [fields, setFields] = useState({\n\t\t\"environments\": [],\n\t\t\"type\": \"whitelist\"\n\t});\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\t\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction whitelistBlacklist(checked, what) {\n\t\tlet obj = fields;\n\t\tobj.type = what;\n\t\tsetFields({...obj});\n\t}\n\t\n\tfunction onChangeEnvironment(checked, code) {\n\t\tlet obj = fields;\n\t\tif (checked) {\n\t\t\tobj.environments.push(code);\n\t\t} else {\n\t\t\t_.pullAll(obj.environments, [code]);\n\t\t}\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\t\n\t\t\tawait marketplaceService.updateSettingsEnvironments({\n\t\t\t\t\"id\": modalOpt.item._id,\n\t\t\t\t\"environments\": fields.environments,\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"subType\": (modalOpt.item.configuration ? modalOpt.item.configuration.subType || null : null)\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.environmentsItemSuccess\"));\n\t\t\t\n\t\t\thandleAction()\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (modalOpt.item && modalOpt.item.settings && modalOpt.item.settings.environments) {\n\t\t\t\t\tsetFields({\n\t\t\t\t\t\t\"environments\": modalOpt.item.settings.environments.value,\n\t\t\t\t\t\t\"type\": modalOpt.item.settings.environments.type\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tconst _environments = await consoleService.getEnvironments();\n\t\t\t\t\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetEnvironments(_environments);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-4 m-0 bg-light border-dark small\">\n\t\t\t\t<fieldset>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"whitelist\"\n\t\t\t\t\t\tname=\"environmentsType\"\n\t\t\t\t\t\tid=\"environmentsType1\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"whitelist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"whitelist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"blacklist\"\n\t\t\t\t\t\tname=\"environmentsType\"\n\t\t\t\t\t\tid=\"environmentsType2\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"blacklist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"blacklist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</fieldset>\n\t\t\t</Jumbotron>\n\t\t\t<CardDeck className=\"ml-2\">\n\t\t\t\t{environments.map((oo, index) => (\n\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t      style={{\"minWidth\": '11rem', \"maxWidth\": '11rem'}}>\n\t\t\t\t\t\t<Card.Body className=\"p-2\">\n\t\t\t\t\t\t\t<Form.Check className=\"small\" key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t            defaultChecked={isEnvSelected(modalOpt.item.settings, oo.code)}\n\t\t\t\t\t\t\t            label={oo.code}\n\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t            onChangeEnvironment(event.target.checked, oo.code)\n\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</CardDeck>\n\t\t\t<hr/>\n\t\t\t<div>\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t\t\n\t\t\t\t{ability.can('market_item', 'settings_environments') && (modalOpt.item.configuration ? modalOpt.item.configuration.subType || null : null) !== \"soajs\" &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleSubmit}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Save\")} - {t(\"soajs:fields.Environments\")}\n\t\t\t\t</Button>}\n\t\t\t\t{ability.can('market_item', 'settings_environments') && (modalOpt.item.configuration ? modalOpt.item.configuration.subType || null : null) === \"soajs\" &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleSubmit}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Save\")} - {t(\"soajs:fields.Environments\")}\n\t\t\t\t</Button>}\n\t\t\t</div>\n\t\t</>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport {MdDeleteForever} from \"react-icons/md\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function Delete({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button variant=\"danger\" size=\"sm\" {...props}>\n\t\t\t\t<MdDeleteForever/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport {GoDiffAdded} from \"react-icons/go\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function Add({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button variant=\"success\" size=\"sm\" {...props}>\n\t\t\t\t<GoDiffAdded/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {Button, Card, CardDeck, Col, Form, Jumbotron} from \"react-bootstrap\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\nimport AutoPagination from \"../../../../lib/AutoPagination\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MarketplaceService} from \"../../../../services\";\nimport _ from \"lodash\";\n\nimport DeleteButton from \"../../../buttons/Delete\";\nimport AddButton from \"../../../buttons/Add\";\n\nconst marketplaceService = MarketplaceService.getService();\n\nasync function getRecipes(currentPage, criteria, setPagination, setRecipes) {\n\ttry {\n\t\tlet c = {\"limit\": 10, \"start\": (currentPage - 1) * 10};\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords && criteria.keywords !== \"\") {\n\t\t\t\tc.keywords = criteria.keywords;\n\t\t\t}\n\t\t}\n\t\tconst _recipes = await marketplaceService.getRecipes(c);\n\t\tsetPagination(\n\t\t\t{\n\t\t\t\t\"totalItems\": _recipes.count,\n\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\"itemsPerPage\": _recipes.limit\n\t\t\t}\n\t\t);\n\t\tsetRecipes(_recipes.records);\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function ConfigureModalRecipes({modalOpt, handleAction, handleClose}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [fields, setFields] = useState({\n\t\t\"recipes\": []\n\t});\n\tconst [recipesAllowed, setRecipesAllowed] = useState([]);\n\tconst [recipes, setRecipes] = useState([]);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [criteria, setCriteria] = useState({\n\t\t\"keywords\": \"\"\n\t});\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function reload(page) {\n\t\tawait getRecipes(page, criteria, setPagination, setRecipes);\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tawait getRecipes(1, criteria, setPagination, setRecipes);\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tawait marketplaceService.updateSettingsRecipes({\n\t\t\t\t\"id\": modalOpt.item._id,\n\t\t\t\t\"recipes\": fields.recipes,\n\t\t\t\t\"subType\": (modalOpt.item.configuration ? modalOpt.item.configuration.subType || null : null)\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.recipesItemSuccess\"));\n\t\t\thandleAction()\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\t\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction removeRecipeFromAllow(recipe) {\n\t\tlet obj = fields;\n\t\t_.pullAll(obj.recipes, [recipe._id]);\n\t\tsetFields(obj);\n\t\tobj = recipesAllowed;\n\t\t_.pullAllBy(obj, [{\"_id\": recipe._id}], \"_id\");\n\t\tsetRecipesAllowed([...obj])\n\t}\n\t\n\tfunction addRecipeToAllow(recipe) {\n\t\tif (fields.recipes.includes(recipe._id)) {\n\t\t\treturn;\n\t\t}\n\t\tlet obj = fields;\n\t\tobj.recipes.push(recipe._id);\n\t\tsetFields(obj);\n\t\tobj = recipesAllowed;\n\t\tobj.push(recipe);\n\t\tsetRecipesAllowed([...obj])\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tlet _recipesAllowed = [];\n\t\t\t\tif (modalOpt.item &&\n\t\t\t\t\tmodalOpt.item.settings &&\n\t\t\t\t\tmodalOpt.item.settings.recipes) {\n\t\t\t\t\tsetFields({\n\t\t\t\t\t\t\"recipes\": modalOpt.item.settings.recipes\n\t\t\t\t\t});\n\t\t\t\t\tif (modalOpt.item.settings.recipes.length > 0) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst _res = await marketplaceService.getRecipesByIds(modalOpt.item.settings.recipes);\n\t\t\t\t\t\t\tif (_res && Array.isArray(_res)) {\n\t\t\t\t\t\t\t\t_recipesAllowed = _res;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tNotificationManager.error(e.message);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tawait getRecipes(1, {\"keywords\": \"\"}, setPagination, setRecipes);\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetRecipesAllowed(_recipesAllowed)\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-3\">\n\t\t\t\t<CardDeck>\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t<Form.Row>\n\t\t\t\t\t\t\t\t<Form.Label column=\"xs\"\n\t\t\t\t\t\t\t\t            xs={3}>{t(\"soajs:buttons.Search\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Col xs={6}>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"keywords\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.keywords}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={3}>\n\t\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\"\n\t\t\t\t\t\t\t\t\t        onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t</CardDeck>\n\t\t\t</Jumbotron>\n\t\t\t<hr/>\n\t\t\t{t(\"soajs:titles.allowedRecipes\")}\n\t\t\t<>\n\t\t\t\t{recipesAllowed.map((oo, index) => (\n\t\t\t\t\t<Card key={index} className=\"m-1 p-1 border-success\" bg=\"light\">\n\t\t\t\t\t\t<Card.Body className=\"p-2\">\n\t\t\t\t\t\t\t{oo.name} - <span\n\t\t\t\t\t\t\tclassName=\"font-italic small text-danger\">[{oo.type}/{oo.subtype}]</span>\n\t\t\t\t\t\t\t<span className=\"float-right small\">\n\t\t\t\t\t\t\t\tV {oo.v}\n\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\tclassName=\"ml-3\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tremoveRecipeFromAllow(oo);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</>\n\t\t\t<hr/>\n\t\t\t{t(\"soajs:titles.listRecipes\")}\n\t\t\t{recipes.map((oo, index) => (\n\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\">\n\t\t\t\t\t<Card.Body className=\"p-2\">\n\t\t\t\t\t\t{oo.name} - <span\n\t\t\t\t\t\tclassName=\"font-italic small text-danger\">[{oo.type}/{oo.subtype}]</span>\n\t\t\t\t\t\t<span className=\"float-right small\">V {oo.v}\n\t\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\t\tdisabled={fields.recipes.includes(oo._id)}\n\t\t\t\t\t\t\t\tclassName=\"ml-3\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\taddRecipeToAllow(oo);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t))}\n\t\t\t{recipes.length > 0 ? (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\treload(p).catch();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t</>\n\t\t\t) : null}\n\t\t\t\n\t\t\t<hr/>\n\t\t\t<div>\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t\t\n\t\t\t\t{ability.can('market_item', 'settings_recipe') && (modalOpt.item.configuration ? modalOpt.item.configuration.subType || null : null) !== \"soajs\" &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={(event) => handleSubmit(event, 3)}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Save\")} - {t(\"soajs:catalogs.recipes\")}\n\t\t\t\t</Button>}\n\t\t\t\t{ability.can('market_item_soajs', 'settings_recipe') && (modalOpt.item.configuration ? modalOpt.item.configuration.subType || null : null) === \"soajs\" &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={(event) => handleSubmit(event, 3)}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Save\")} - {t(\"soajs:catalogs.recipes\")}\n\t\t\t\t</Button>}\n\t\t\t</div>\n\t\t</>\n\t);\n}","import {useTranslation} from \"react-i18next\";\nimport React from \"react\";\nimport {\n\tForm,\n\tJumbotron, Modal,\n\tTab, Tabs\n} from \"react-bootstrap\";\n\n\nimport ConfigureModalGroups from \"./ConfigureModalGroups\";\nimport ConfigureModalEnvironments from \"./ConfigureModalEnvironments\";\nimport ConfigureModalRecipes from \"./ConfigureModalRecipes\";\n\nexport default function ConfigureModal({modalOpt, setModalOpt, handleAfterSubmit}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\treturn (\n\t\t<>\n\t\t\t{modalOpt.item &&\n\t\t\t<Modal size=\"xl\" show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>{t(\"soajs:catalogs.configure.title\")}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t\n\t\t\t\t\t<Jumbotron className=\"p-4\">\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{modalOpt.item.name}</span> {(modalOpt.item.configuration && modalOpt.item.configuration.port) ? [modalOpt.item.configuration.port] : \"\"}\n\t\t\t\t\t\t- <small>{modalOpt.item.configuration.group}</small>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t{modalOpt.item.description}\n\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t<Form onSubmit={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"acl\" id=\"config\">\n\t\t\t\t\t\t\t<Tab eventKey=\"acl\" title={t(\"soajs:fields.Groups\")}>\n\t\t\t\t\t\t\t\t<ConfigureModalGroups\n\t\t\t\t\t\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\t\t\t\t\t\thandleAction={handleAfterSubmit}\n\t\t\t\t\t\t\t\t\thandleClose={handleClose}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t<Tab eventKey=\"environments\" title={t(\"soajs:fields.Environments\")}>\n\t\t\t\t\t\t\t\t<ConfigureModalEnvironments\n\t\t\t\t\t\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\t\t\t\t\t\thandleAction={handleAfterSubmit}\n\t\t\t\t\t\t\t\t\thandleClose={handleClose}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t{(!modalOpt.settings || !modalOpt.settings.turnOffRecipesConfiguration) &&\n\t\t\t\t\t\t\t<Tab eventKey=\"recipes\" title={t(\"soajs:fields.Recipes\")}>\n\t\t\t\t\t\t\t\t<ConfigureModalRecipes\n\t\t\t\t\t\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\t\t\t\t\t\thandleAction={handleAfterSubmit}\n\t\t\t\t\t\t\t\t\thandleClose={handleClose}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tab>}\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</Form>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer className=\"bg-info\">\n\t\t\t\t\t<div className=\"small font-weight-bold text-white\">\n\t\t\t\t\t\t{t(\"soajs:catalogs.configure.note\")}\n\t\t\t\t\t</div>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {FiEdit} from \"react-icons/fi\";\n\nexport default function Edit({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.Edit\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button size=\"sm\" variant=\"primary\" {...props}>\n\t\t\t\t<FiEdit/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {BsFillGearFill} from \"react-icons/bs\";\n\nexport default function Gear({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.Configure\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button size=\"sm\" variant=\"secondary\" {...props}>\n\t\t\t\t<BsFillGearFill/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {HiOutlineViewGridAdd} from \"react-icons/hi\";\n\nexport default function Detail({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.Details\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button size=\"sm\" variant=\"success\" {...props}>\n\t\t\t\t<HiOutlineViewGridAdd/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import {useTranslation} from \"react-i18next\";\nimport {useHistory} from \"react-router-dom\";\nimport React, {useEffect, useState} from \"react\";\nimport {\n\tAccordion,\n\tButton,\n\tCard,\n\tForm,\n\tJumbotron,\n\tuseAccordionToggle,\n\tTab, Tabs, Row, Col\n} from \"react-bootstrap\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {FcCollapse, FcExpand} from \"react-icons/fc\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MarketplaceService} from \"../../../../services\";\nimport AutoPagination from \"../../../../lib/AutoPagination\";\n\nimport ConfigureModal from \"./ConfigureModal\";\n\nimport AddButton from \"../../../buttons/Add\";\nimport EditButton from \"../../../buttons/Edit\";\nimport GearButton from \"../../../buttons/Gear\";\nimport DetailButton from \"../../../buttons/Detail\";\nimport DeleteButton from \"../../../buttons/Delete\";\n\nconst marketplaceService = MarketplaceService.getService();\n\nfunction CustomToggle({children, eventKey, handleClick}) {\n\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\thandleClick();\n\t});\n\treturn (\n\t\t<div className=\"float-left\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nasync function onLoad(setFields, setPagination, currentPage, criteria, isSubscribed, type, subType) {\n\ttry {\n\t\tlet c = {\"limit\": 50, \"start\": (currentPage - 1) * 50, \"type\": type, \"subType\": subType};\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords && criteria.keywords !== \"\") {\n\t\t\t\tc.keywords = criteria.keywords;\n\t\t\t}\n\t\t}\n\t\tconst response = await marketplaceService.getItems(c);\n\t\tif (isSubscribed) {\n\t\t\tif (response.records) {\n\t\t\t\tsetFields(response.records);\n\t\t\t\tsetPagination(\n\t\t\t\t\t{\n\t\t\t\t\t\t\"totalItems\": response.count,\n\t\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\t\"itemsPerPage\": response.limit\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Template({type, subType, Children, settings, addItem, editItem, deleteItem}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [activeKey, setActiveKey] = useState(1);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [criteria, setCriteria] = useState({\n\t\t\"keywords\": \"\"\n\t});\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\tconst history = useHistory();\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait reLoad(1);\n\t}\n\t\n\tasync function reLoad(page) {\n\t\tawait onLoad(setFields, setPagination, page || currentPage, criteria, true, type, subType);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tonLoad(setFields, setPagination, 1, null, isSubscribed, type, subType);\n\t\treturn () => (isSubscribed = false);\n\t}, [type, subType]);\n\t\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"item\": null, \"settings\": settings});\n\t\n\tfunction handleModalShow(item) {\n\t\tsetModalOpt({\"show\": true, \"item\": item, \"settings\": settings})\n\t}\n\t\n\tfunction handleDetailShow(item) {\n\t\tlet uri = \"/catalogs/\";\n\t\tif (subType === \"soajs\") {\n\t\t\turi = uri + \"soajs/\";\n\t\t}\n\t\tif (type === \"service\") {\n\t\t\turi = uri + \"api\";\n\t\t} else if (type === \"custom\") {\n\t\t\turi = uri + \"custom\";\n\t\t} else if (type === \"resource\") {\n\t\t\turi = uri + \"resource\";\n\t\t} else if (type === \"daemon\") {\n\t\t\turi = uri + \"daemon\";\n\t\t} else if (type === \"static\") {\n\t\t\turi = uri + \"frontend\";\n\t\t} else if (type === \"config\") {\n\t\t\turi = uri + \"config\";\n\t\t}\n\t\thistory.push(uri + \"/detail/\" + item.type + \"/\" + item.name);\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t<ConfigureModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t\thandleAfterSubmit={reLoad}\n\t\t\t/>\n\t\t\t<Jumbotron className=\"p-3 mb-2\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col lg={4} xl={3}>\n\t\t\t\t\t\t<div className=\"float-left\">\n\t\t\t\t\t\t\t<h5 className=\"font-weight-bold m-0\">{t(\"soajs:titles.env_cat_\" + type)}</h5>\n\t\t\t\t\t\t\t{subType && <span className=\"text-muted small\">{subType}</span>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{addItem &&\n\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\taddItem(() => {\n\t\t\t\t\t\t\t\t\treLoad(1).catch();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col xs={9} md={10}>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"keywords\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.keywords}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={3} md={2}>\n\t\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Jumbotron>\n\t\t\t\n\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t{fields.map((item, index) => (\n\t\t\t\t\t<Card key={index + 1}>\n\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col xs={12} md={7}>\n\t\t\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\t\t\tas={Card.Header}\n\t\t\t\t\t\t\t\t\t\teventKey={index + 1}\n\t\t\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tif (activeKey === (index + 1)) {\n\t\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(index + 1);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{activeKey === (index + 1) ? <FcExpand className=\"mr-1\"/> :\n\t\t\t\t\t\t\t\t\t\t\t<FcCollapse className=\"mr-1\"/>} <span\n\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{item.name}</span> {(item.configuration && item.configuration.port) ? [item.configuration.port] : \"\"}\n\t\t\t\t\t\t\t\t\t\t- <small>{item.configuration.group}</small>\n\t\t\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={12} md={5}>\n\t\t\t\t\t\t\t\t\t<GearButton className=\"float-right ml-2\" onClick={() => {\n\t\t\t\t\t\t\t\t\t\thandleModalShow(item)\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t\t<DetailButton className=\"float-right ml-2\" onClick={() => {\n\t\t\t\t\t\t\t\t\t\thandleDetailShow(item)\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t{deleteItem &&\n\t\t\t\t\t\t\t\t\t<DeleteButton className=\"float-right ml-2\" onClick={() => {\n\t\t\t\t\t\t\t\t\t\tdeleteItem(item, () => {\n\t\t\t\t\t\t\t\t\t\t\treLoad(1).catch();\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<Jumbotron className=\"p-3 bg-light\">\n\t\t\t\t\t\t\t\t\t{item.description ? item.description : \"-\"}\n\t\t\t\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t\t\t\t{item.versions &&\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"1\" id=\"repos\"\n\t\t\t\t\t\t\t\t\t      style={{borderBottom: \"1px solid #dee2e6\"}}>\n\t\t\t\t\t\t\t\t\t\t{item.versions.map((_O, _I) => (\n\t\t\t\t\t\t\t\t\t\t\t<Tab key={_I} eventKey={_I + 1}\n\t\t\t\t\t\t\t\t\t\t\t     title={t(\"soajs:catalogs.version\") + \" \" + _O.version}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Jumbotron className=\"p-3 bg-light\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.src && item.src.provider === \"manual\" ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{_O.lastSync ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(\"soajs:fields.lastUpdated\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small className=\"m-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-italic\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{Date(_O.lastSync.ts)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"-\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{editItem &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditItem(item, _O.version, () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treLoad(1).catch();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{_O.lastSync ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(\"soajs:catalogs.lastSynchronized\")}<small\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-3\">from <span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{_O.lastSync.branch || _O.lastSync.tag}</span> @ <span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-italic\">{Date(_O.lastSync.ts)}</span></small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(\"soajs:catalogs.availableBranches\")}<small\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-3\">[{_O.branches ? _O.branches.join(\", \") : \"\"}]</small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"-\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t\t\t\t\t\t\t\t{Children &&\n\t\t\t\t\t\t\t\t\t\t\t\t<Children\n\t\t\t\t\t\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\t\t\t\t\t\tversion={_O}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</Tab>))}\n\t\t\t\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t\t{fields.length === 0 ? (\n\t\t\t\t\t<span>{t(\"soajs:catalogs.zeroMsg\")}</span>\n\t\t\t\t) : null}\n\t\t\t</Accordion>\n\t\t\t\n\t\t\t{fields.length > 0 ? (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\treLoad(p).catch();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t</>\n\t\t\t) : null}\n\t\t</>\n\t);\n}","import {Badge, Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MarketplaceService} from \"../../../../services\";\n\nconst marketplaceService = MarketplaceService.getService();\n\nexport default function DeleteModal({modalOpt, setModalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, \"item\": null, \"reload\": null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait marketplaceService.deleteItem({\"type\": modalOpt.item.type, \"name\": modalOpt.item.name});\n\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + modalOpt.item.type));\n\t\t\tif (modalOpt.reLoad) {\n\t\t\t\tmodalOpt.reLoad();\n\t\t\t}\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.itemDelete\")} <Badge\n\t\t\t\t\tvariant=\"light\">{modalOpt.item && modalOpt.item.name}</Badge>\n\t\t\t\t</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t{t(\"soajs:messages.deleteQuestion\")}\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"primary\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}\n","import {\n\tAlert,\n\tCard,\n\tButton,\n\tRow,\n\tCol\n} from \"react-bootstrap\";\n\nimport React, {useState} from \"react\";\n\nimport Template from \"../Template/Template\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\nimport DeleteModal from \"../Template/DeleteModal\";\n\nconst methodVariant = {\n\t\"get\": \"primary\",\n\t\"post\": \"success\",\n\t\"delete\": \"danger\",\n\t\"put\": \"warning\",\n\t\"patch\": \"info\",\n\t\"head\": \"secondary\",\n\t\"other\": \"light\"\n};\n\nfunction getMethodVariant(method) {\n\tif (method && methodVariant[method]) {\n\t\treturn methodVariant[method];\n\t} else {\n\t\treturn methodVariant[\"other\"];\n\t}\n}\n\nfunction Details({version}) {\n\tlet apis = {};\n\tif (version && version.apis) {\n\t\tfor (let i = 0; i < version.apis.length; i++) {\n\t\t\tif (!version.apis[i].group) {\n\t\t\t\tversion.apis[i].group = \"No Group\";\n\t\t\t}\n\t\t\tif (!apis[version.apis[i].group]) {\n\t\t\t\tapis[version.apis[i].group] = {};\n\t\t\t}\n\t\t\tif (!apis[version.apis[i].group][version.apis[i].m]) {\n\t\t\t\tapis[version.apis[i].group][version.apis[i].m] = []\n\t\t\t}\n\t\t\tapis[version.apis[i].group][version.apis[i].m].push(version.apis[i]);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t<hr/>\n\t\t\t{Object.keys(apis).map((group, index) => (\n\t\t\t\t<Card key={group + index} className={\"mb-2\"}>\n\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">{group}</span>\n\t\t\t\t\t</Card.Header>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t{Object.keys(apis[group]).map((method, index) => (\n\t\t\t\t\t\t\t<div key={method + index}>\n\t\t\t\t\t\t\t\t{apis[group][method].map((api, index) => (\n\t\t\t\t\t\t\t\t\t<Alert key={index} variant={getMethodVariant(method)}>\n\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 pl-1 pr-1 pt-0 pb-0 float-left\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant={getMethodVariant(method)}><span\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"small\">{method.toUpperCase()}</span></Button>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"small float-left\">{api.v}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"small float-right text-info\">{api.l}</span>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t))}\n\t\t</>\n\t)\n}\n\nexport default function Api() {\n\tconst {ability} = useAppContext();\n\tconst [deleteModalOpt, setDeleteModalOpt] = useState({\"show\": false, \"item\": null, \"reLoad\": null});\n\tconst handleDeleteShow = (item, reLoad) => setDeleteModalOpt({\"show\": true, \"item\": item, \"reLoad\": reLoad});\n\t\n\tfunction Delete(item, cb) {\n\t\thandleDeleteShow(item, cb);\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={deleteModalOpt}\n\t\t\t\tsetModalOpt={setDeleteModalOpt}\n\t\t\t/>\n\t\t\t<Template\n\t\t\t\ttype={\"service\"}\n\t\t\t\tChildren={Details}\n\t\t\t\tdeleteItem={ability.can('market_item', 'delete') ? Delete : null}\n\t\t\t/>\n\t\t</>\n\t);\n}\n","import Template from \"../Template/Template\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\nimport React, {useState} from \"react\";\nimport DeleteModal from \"../Template/DeleteModal\";\n\n\nexport default function Custom() {\n\tconst {ability} = useAppContext();\n\tconst [deleteModalOpt, setDeleteModalOpt] = useState({\"show\": false, \"item\": null, \"reLoad\": null});\n\tconst handleDeleteShow = (item, reLoad) => setDeleteModalOpt({\"show\": true, \"item\": item, \"reLoad\": reLoad});\n\t\n\tfunction Delete(item, cb) {\n\t\thandleDeleteShow(item, cb);\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={deleteModalOpt}\n\t\t\t\tsetModalOpt={setDeleteModalOpt}\n\t\t\t/>\n\t\t\t<Template\n\t\t\t\ttype={\"custom\"}\n\t\t\t\tdeleteItem={ability.can('market_item', 'delete') ? Delete : null}\n\t\t\t/>\n\t\t</>\n\t);\n}\n","import {Button, Modal, Badge} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function EditResourceModal({modalOpt, setModalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.resourceEdit\")} <Badge\n\t\t\t\t\tvariant=\"light\">{modalOpt.item && modalOpt.item.record.name}</Badge> <Badge\n\t\t\t\t\tvariant=\"secondary\">{modalOpt.item && \"v\" + modalOpt.item.version}</Badge></Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\tComing soon\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"primary\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Col, Form, Modal, Row} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../soajs/urac/components\";\nimport deepSet from \"../../../../soajs/libs/deepSetLib\";\nimport {LoaderButton} from \"../../../../soajs/helpers\";\nimport {MarketplaceService} from \"../../../../services\";\n\nconst fieldsInit = {\n\t\"src\": {\"provider\": \"manual\"},\n\t\"soa\": {\n\t\t\"type\": \"resource\",\n\t\t\"name\": \"\",\n\t\t\"group\": \"\",\n\t\t\"description\": \"\",\n\t\t\"version\": \"\",\n\t\t\"subType\": \"\",\n\t\t\"tags\": [],\n\t\t\"attributes\": {\n\t\t\t\"att1\": [],\n\t\t\t\"att2\": []\n\t\t},\n\t\t\"program\": [],\n\t\t\"profile\": {}\n\t},\n\t\"readme\": \"\",\n\t\"release\": \"\"\n};\nlet _json_soa = null;\nconst marketplaceService = MarketplaceService.getService();\n\nexport default function AddResourceModal({modalOpt, setModalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, \"reLoad\": null});\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [fields, setFields] = useState(fieldsInit);\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tif (event.target.type === 'number') {\n\t\t\tvalue = parseInt(value);\n\t\t}\n\t\t\n\t\tdeepSet(fields, event.target.id, value);\n\t\tsetFields({...fields});\n\t}\n\t\n\tfunction soa_onChange(json) {\n\t\t_json_soa = json;\n\t}\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\tif (_json_soa) {\n\t\t\tvalid = valid && _json_soa.type === \"resource\";\n\t\t\tvalid = valid && _json_soa.name.length > 0;\n\t\t\tvalid = valid && _json_soa.group.length > 0;\n\t\t\tvalid = valid && _json_soa.description.length > 0;\n\t\t\tvalid = valid && _json_soa.version.length > 0;\n\t\t} else {\n\t\t\tvalid = false;\n\t\t}\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\tsetIsLoading(true);\n\t\ttry {\n\t\t\tawait marketplaceService.addResource({\n\t\t\t\t\"src\": fields.src,\n\t\t\t\t\"soa\": _json_soa,\n\t\t\t\t\"documentation\": {\n\t\t\t\t\t\"readme\": fields.readme,\n\t\t\t\t\t\"release\": fields.release\n\t\t\t\t}\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.add_resource\"));\n\t\t\tif (modalOpt.reLoad) {\n\t\t\t\tmodalOpt.reLoad();\n\t\t\t}\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t\tsetIsLoading(false);\n\t}\n\t\n\tuseEffect(() => {\n\t\tsetFields(fieldsInit);\n\t\t_json_soa = null;\n\t}, []);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>{t(\"soajs:titles.resourceAdd\")}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Row style={{\"height\": \"350px\"}}>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\tmodes={[\"code\", \"tree\"]}\n\t\t\t\t\t\t\t\tjson={_json_soa || fields.soa || null}\n\t\t\t\t\t\t\t\tonChange={soa_onChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<hr/>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Readme\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tstyle={{\"fontSize\": \"80%\"}}\n\t\t\t\t\t\t\tid=\"readme\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\tvalue={fields.readme}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Form.Text className=\"text-info\">\n\t\t\t\t\t\t\tMarkdown text\n\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Release\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tstyle={{\"fontSize\": \"80%\"}}\n\t\t\t\t\t\t\tid=\"release\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\tvalue={fields.release}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Form.Text className=\"text-info\">\n\t\t\t\t\t\t\tMarkdown text\n\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<Button variant=\"primary\" onClick={handleClose}>\n\t\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<LoaderButton\n\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t\t</LoaderButton>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Form>\n\t\t</Modal>\n\t);\n}","import Template from \"../Template/Template\";\nimport React, {useState} from \"react\";\n\nimport UpdateModal from \"./EditModal\";\nimport AddModal from \"./AddModal\";\nimport DeleteModal from \"../Template/DeleteModal\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\n\nexport default function Resource() {\n\tconst {ability} = useAppContext();\n\t\n\tconst [addModalOpt, setAddModalOpt] = useState({\"show\": false, \"reLoad\": null});\n\tconst handleAddShow = (reLoad) => setAddModalOpt({\"show\": true, \"reLoad\": reLoad});\n\t\n\tconst [updateModalOpt, setUpdateModalOpt] = useState({\"show\": false, \"item\": null, \"reLoad\": null});\n\tconst handleUpdateShow = (item, reLoad) => setUpdateModalOpt({\"show\": true, \"item\": item, \"reLoad\": reLoad});\n\t\n\tconst [deleteModalOpt, setDeleteModalOpt] = useState({\"show\": false, \"item\": null, \"reLoad\": null});\n\tconst handleDeleteShow = (item, reLoad) => setDeleteModalOpt({\"show\": true, \"item\": item, \"reLoad\": reLoad});\n\t\n\tfunction EditResource(item, version, cb) {\n\t\thandleUpdateShow({\"record\": item, \"version\": version}, cb);\n\t}\n\t\n\tfunction AddResource(cb) {\n\t\thandleAddShow(cb);\n\t}\n\t\n\tfunction DeleteResource(item, cb) {\n\t\thandleDeleteShow(item, cb);\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={deleteModalOpt}\n\t\t\t\tsetModalOpt={setDeleteModalOpt}\n\t\t\t/>\n\t\t\t<UpdateModal\n\t\t\t\tmodalOpt={updateModalOpt}\n\t\t\t\tsetModalOpt={setUpdateModalOpt}\n\t\t\t/>\n\t\t\t<AddModal\n\t\t\t\tmodalOpt={addModalOpt}\n\t\t\t\tsetModalOpt={setAddModalOpt}\n\t\t\t/>\n\t\t\t<Template\n\t\t\t\ttype={\"resource\"}\n\t\t\t\teditItem={ability.can('market_item_resource', 'add') ? EditResource : null}\n\t\t\t\taddItem={ability.can('market_item_resource', 'add') ? AddResource : null}\n\t\t\t\tdeleteItem={ability.can('market_item', 'delete') ? DeleteResource : null}\n\t\t\t/>\n\t\t</>\n\t);\n}\n","import Template from \"../Template/Template\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\nimport React, {useState} from \"react\";\nimport DeleteModal from \"../Template/DeleteModal\";\n\nexport default function Daemon() {\n\tconst {ability} = useAppContext();\n\tconst [deleteModalOpt, setDeleteModalOpt] = useState({\"show\": false, \"item\": null, \"reLoad\": null});\n\tconst handleDeleteShow = (item, reLoad) => setDeleteModalOpt({\"show\": true, \"item\": item, \"reLoad\": reLoad});\n\t\n\tfunction Delete(item, cb) {\n\t\thandleDeleteShow(item, cb);\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={deleteModalOpt}\n\t\t\t\tsetModalOpt={setDeleteModalOpt}\n\t\t\t/>\n\t\t\t<Template\n\t\t\t\ttype={\"daemon\"}\n\t\t\t\tdeleteItem={ability.can('market_item', 'delete') ? Delete : null}\n\t\t\t/>\n\t\t</>\n\t);\n}\n","import Template from \"../Template/Template\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\nimport React, {useState} from \"react\";\nimport DeleteModal from \"../Template/DeleteModal\";\n\n\nexport default function Frontend() {\n\tconst {ability} = useAppContext();\n\tconst [deleteModalOpt, setDeleteModalOpt] = useState({\"show\": false, \"item\": null, \"reLoad\": null});\n\tconst handleDeleteShow = (item, reLoad) => setDeleteModalOpt({\"show\": true, \"item\": item, \"reLoad\": reLoad});\n\t\n\tfunction Delete(item, cb) {\n\t\thandleDeleteShow(item, cb);\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={deleteModalOpt}\n\t\t\t\tsetModalOpt={setDeleteModalOpt}\n\t\t\t/>\n\t\t\t<Template\n\t\t\t\ttype={\"static\"}\n\t\t\t\tdeleteItem={ability.can('market_item', 'delete') ? Delete : null}\n\t\t\t/>\n\t\t</>\n\t);\n}\n","import Template from \"../Template/Template\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\nimport React, {useState} from \"react\";\nimport DeleteModal from \"../Template/DeleteModal\";\n\n\nexport default function Config() {\n\tconst {ability} = useAppContext();\n\tconst [deleteModalOpt, setDeleteModalOpt] = useState({\"show\": false, \"item\": null, \"reLoad\": null});\n\tconst handleDeleteShow = (item, reLoad) => setDeleteModalOpt({\"show\": true, \"item\": item, \"reLoad\": reLoad});\n\t\n\tfunction Delete(item, cb) {\n\t\thandleDeleteShow(item, cb);\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={deleteModalOpt}\n\t\t\t\tsetModalOpt={setDeleteModalOpt}\n\t\t\t/>\n\t\t\t<Template\n\t\t\t\ttype={\"config\"}\n\t\t\t\tdeleteItem={ability.can('market_item', 'delete') ? Delete : null}\n\t\t\t/>\n\t\t</>\n\t);\n}\n","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport {MdPageview} from \"react-icons/md\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function View({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.View\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button size=\"sm\" variant=\"info\" {...props}>\n\t\t\t\t<MdPageview/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import {\n\tBadge,\n\tButton, Card, Col, Form, Jumbotron, Row\n} from \"react-bootstrap\";\nimport {useTranslation} from \"react-i18next\";\nimport React, {useEffect, useState} from \"react\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {BsLockFill} from \"react-icons/bs\";\nimport {GoDiffAdded} from \"react-icons/go\";\nimport {useHistory} from \"react-router-dom\";\n\nimport {MarketplaceService} from \"../../../../services\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport EditButton from \"../../../buttons/Edit\";\nimport ViewButton from \"../../../buttons/View\";\nimport AutoPagination from \"../../../../lib/AutoPagination\";\nimport JsonModal from \"../../../../soajs/urac/components/JsonModal\";\n\n\nconst marketplaceService = MarketplaceService.getService();\n\nexport default function Recipe() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\t\n\tconst [recipes, setRecipes] = useState([]);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [criteria, setCriteria] = useState({\n\t\t\"keywords\": \"\"\n\t});\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\t\n\tconst history = useHistory();\n\t\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tlet c = {\"limit\": 10, \"start\": (currentPage - 1) * 10};\n\t\t\tif (criteria) {\n\t\t\t\tif (criteria.keywords && criteria.keywords !== \"\") {\n\t\t\t\t\tc.keywords = criteria.keywords;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst _recipes = await marketplaceService.getRecipes(c);\n\t\t\tsetPagination(\n\t\t\t\t{\n\t\t\t\t\t\"totalItems\": _recipes.count,\n\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\"itemsPerPage\": _recipes.limit\n\t\t\t\t}\n\t\t\t);\n\t\t\tsetRecipes(_recipes.records);\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tlet c = {\"limit\": 10, \"start\": (currentPage - 1) * 10};\n\t\t\t\tconst _recipes = await marketplaceService.getRecipes(c);\n\t\t\t\tif (isSubscribed && _recipes && _recipes.records) {\n\t\t\t\t\tsetRecipes(_recipes.records);\n\t\t\t\t\tsetPagination(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"totalItems\": _recipes.count,\n\t\t\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\t\t\"itemsPerPage\": _recipes.limit\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [currentPage]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t<Jumbotron className=\"p-3 mb-2\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col lg={4}>\n\t\t\t\t\t\t<h5 className=\"font-weight-bold m-0 float-left\">{t(\"soajs:titles.env_cat_recipe\")}</h5>\n\t\t\t\t\t\t{ability.can('market_recipe', 'add') &&\n\t\t\t\t\t\t<Button variant=\"success\" className=\"float-right\" size=\"sm\"\n\t\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t\t        history.push(\"/catalogs/recipe/add\");\n\t\t\t\t\t\t        }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t\t\t</Button>}\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col xs={9} md={9}>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"keywords\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.keywords}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={3} md={3}>\n\t\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Jumbotron>\n\t\t\t{recipes.map((oo, index) => (\n\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\">\n\t\t\t\t\t<Card.Body className=\"p-2\">\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t{oo.name} - <Badge variant=\"dark\" className=\"mr-2\">V {oo.v}</Badge>\n\t\t\t\t\t\t\t\t{oo.locked && <BsLockFill className=\"text-danger\"/>}\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<Badge variant=\"secondary\">{oo.type}</Badge> <Badge variant=\"info\">{oo.subtype}</Badge>\n\t\t\t\t\t\t\t\t<span className=\"float-right small\">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t{ability.can('market_recipe', 'edit') &&\n\t\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\t\tdisabled={oo.locked}\n\t\t\t\t\t\t\t\t\tclassName=\"ml-3\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\thistory.push(\"/catalogs/recipe/edit/\" + oo._id);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<ViewButton\n\t\t\t\t\t\t\t\t\tclassName=\"ml-3\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tmodalOptShow(oo.recipe, oo.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row className=\"small text-muted\">\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t{oo.description}\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t))}\n\t\t\t{recipes.length > 0 ? (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t</>\n\t\t\t) : null}\n\t\t</>\n\t);\n}","\nimport {Alert, Button, Card, Col, Row} from \"react-bootstrap\";\nimport React from \"react\";\n\nimport Template from \"../Template/Template\";\nconst methodVariant = {\n\t\"get\": \"primary\",\n\t\"post\": \"success\",\n\t\"delete\": \"danger\",\n\t\"put\": \"warning\",\n\t\"patch\": \"info\",\n\t\"head\": \"secondary\",\n\t\"other\": \"light\"\n};\n\nfunction getMethodVariant(method) {\n\tif (method && methodVariant[method]) {\n\t\treturn methodVariant[method];\n\t} else {\n\t\treturn methodVariant[\"other\"];\n\t}\n}\n\nfunction Details({version}) {\n\tlet apis = {};\n\tif (version && version.apis) {\n\t\tfor (let i = 0; i < version.apis.length; i++) {\n\t\t\tif (!version.apis[i].group) {\n\t\t\t\tversion.apis[i].group = \"No Group\";\n\t\t\t}\n\t\t\tif (!apis[version.apis[i].group]) {\n\t\t\t\tapis[version.apis[i].group] = {};\n\t\t\t}\n\t\t\tif (!apis[version.apis[i].group][version.apis[i].m]) {\n\t\t\t\tapis[version.apis[i].group][version.apis[i].m] = []\n\t\t\t}\n\t\t\tapis[version.apis[i].group][version.apis[i].m].push(version.apis[i]);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t<hr/>\n\t\t\t{Object.keys(apis).map((group, index) => (\n\t\t\t\t<Card key={group + index} className={\"mb-2\"}>\n\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">{group}</span>\n\t\t\t\t\t</Card.Header>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t{Object.keys(apis[group]).map((method, index) => (\n\t\t\t\t\t\t\t<div key={method + index}>\n\t\t\t\t\t\t\t\t{apis[group][method].map((api, index) => (\n\t\t\t\t\t\t\t\t\t<Alert key={index} variant={getMethodVariant(method)}>\n\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 pl-1 pr-1 pt-0 pb-0 float-left\"\n\t\t\t\t\t\t\t\t\t\t\t\t        variant={getMethodVariant(method)}><span\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"small\">{method.toUpperCase()}</span></Button>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"small float-left\">{api.v}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"small float-right text-info\">{api.l}</span>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t))}\n\t\t</>\n\t)\n}\n\nexport default function SoajsApi() {\n\t\n\treturn (\n\t\t<Template\n\t\t\ttype={\"service\"}\n\t\t\tsubType={\"soajs\"}\n\t\t\tChildren={Details}\n\t\t/>\n\t);\n}","\nimport Template from \"../Template/Template\";\n\n\nexport default function SoajsFrontend() {\n\t\n\treturn (\n\t\t<Template\n\t\t\ttype={\"static\"}\n\t\t\tsubType={\"soajs\"}\n\t\t/>\n\t);\n}","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\nimport SwaggerUi, {presets} from 'swagger-ui';\nimport 'swagger-ui/dist/swagger-ui.css';\n\nclass SwaggerUI extends Component {\n\t\n\tcomponentDidMount() {\n\t\tSwaggerUi({\n\t\t\tdom_id: '#swaggerContainer',\n\t\t\turl: this.props.url,\n\t\t\tspec: this.props.spec,\n\t\t\tpresets: [presets.apis]\n\t\t});\n\t}\n\t\n\tcomponentDidUpdate(prevProps) {\n\t\t\n\t\tif (this.props.ver !== prevProps.ver) {\n\t\t\tSwaggerUi({\n\t\t\t\tdom_id: '#swaggerContainer',\n\t\t\t\turl: this.props.url,\n\t\t\t\tspec: this.props.spec,\n\t\t\t\tpresets: [presets.apis]\n\t\t\t});\n\t\t}\n\t}\n\t\n\trender() {\n\t\t\n\t\treturn (\n\t\t\t<div id=\"swaggerContainer\"/>\n\t\t);\n\t}\n}\n\nSwaggerUI.propTypes = {\n\turl: PropTypes.string,\n\tspec: PropTypes.object,\n\tver: PropTypes.string,\n\tlocalVer: PropTypes.string\n};\n\nSwaggerUI.defaultProps = {\n\turl: \"\", //`http://petstore.swagger.io/v2/swagger.json`\n\tlocalVer: null\n};\n\nexport default SwaggerUI;","import {useHistory, useParams} from \"react-router-dom\";\nimport React, {useEffect, useState} from \"react\";\n\nimport {\n\tAccordion,\n\tCard,\n\tCardDeck,\n\tJumbotron,\n\tListGroup,\n\tListGroupItem,\n\tuseAccordionToggle,\n\tDropdownButton,\n\tDropdown,\n\tButton,\n\tTabs,\n\tTab\n} from \"react-bootstrap\";\nimport {useTranslation} from \"react-i18next\";\nimport {FcCollapse, FcExpand} from \"react-icons/fc\";\nimport ReactMarkdown from \"react-markdown\";\nimport SwaggerUI from './SwaggerUI';\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MarketplaceService} from \"../../../../services\";\n\nconst marketplaceService = MarketplaceService.getService();\n\nfunction Swagger({item, ver}) {\n\tlet spec = null;\n\tfor (let i = 0; i < item.versions.length; i++) {\n\t\tif (item.versions[i].version === ver) {\n\t\t\tif (item.versions[i].swagger) {\n\t\t\t\tspec = item.versions[i].swagger;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\ttry {\n\t\tif (spec) {\n\t\t\tspec = JSON.parse(spec);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n\treturn (\n\t\t<SwaggerUI spec={spec || {}} ver={ver}/>\n\t);\n}\n\nfunction Readme({item, ver}) {\n\tlet documentation = null;\n\tfor (let i = 0; i < item.versions.length; i++) {\n\t\tif (item.versions[i].version === ver) {\n\t\t\tif (item.versions[i].documentation && item.versions[i].documentation.readme) {\n\t\t\t\tdocumentation = item.versions[i].documentation.readme;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn (\n\t\t<>\n\t\t\t<ReactMarkdown children={documentation}/>\n\t\t</>\n\t);\n}\n\nfunction Release({item, ver}) {\n\tlet documentation = null;\n\tfor (let i = 0; i < item.versions.length; i++) {\n\t\tif (item.versions[i].version === ver) {\n\t\t\tif (item.versions[i].documentation && item.versions[i].documentation.release) {\n\t\t\t\tdocumentation = item.versions[i].documentation.release;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn (\n\t\t<>\n\t\t\t<ReactMarkdown children={documentation}/>\n\t\t</>\n\t);\n}\n\nexport default function Detail() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [activeKey, setActiveKey] = useState(1);\n\tconst [item, setItem] = useState(null);\n\tconst {type} = useParams();\n\tconst {name} = useParams();\n\tconst {ver} = useParams();\n\t\n\tconst history = useHistory();\n\t\n\tfunction CustomToggle({children, eventKey, handleClick}) {\n\t\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\t\thandleClick();\n\t\t});\n\t\treturn (\n\t\t\t<div className=\"float-left\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (!item || item.name !== name) {\n\t\t\t\t\tconst response = await marketplaceService.getItem(name, type);\n\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\tsetItem(response);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, [item, name, type]);\n\t\n\treturn (\n\t\t<>\n\t\t\t{item &&\n\t\t\t<>\n\t\t\t\t<Jumbotron className=\"p-4 mb-3\">\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{item.name}</span> {(item.configuration && item.configuration.port) ? [item.configuration.port] : \"\"}\n\t\t\t\t\t- <small>{item.configuration.group}</small>\n\t\t\t\t\t<hr/>\n\t\t\t\t\t{item.description}\n\t\t\t\t</Jumbotron>\n\t\t\t\t\n\t\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t\t<Card key={1}>\n\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\tas={Card.Header}\n\t\t\t\t\t\t\t\teventKey={1}\n\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\tif (activeKey === 1) {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(1);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{activeKey === 1 ? <FcExpand className=\"mr-1\"/> :\n\t\t\t\t\t\t\t\t\t<FcCollapse className=\"mr-1\"/>}\n\t\t\t\t\t\t\t\t{t(\"soajs:catalogs.metadata.title\")}\n\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={1}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t{item.metadata &&\n\t\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:catalogs.metadata.program\")}:</span> {item.metadata.program}\n\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:catalogs.metadata.tags\")}:</span> [{item.metadata.tags ? item.metadata.tags.join(\", \") : \"\"}]\n\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:catalogs.metadata.attributes\")}</span>\n\t\t\t\t\t\t\t\t\t\t{item.metadata.attributes &&\n\t\t\t\t\t\t\t\t\t\t<CardDeck>\n\t\t\t\t\t\t\t\t\t\t\t{Object.keys(item.metadata.attributes).map((_O, _I) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<Card key={_I} className=\"text-white mt-2 mb-2 ml-2 mr-2\" bg=\"info\"\n\t\t\t\t\t\t\t\t\t\t\t\t      style={{\"minWidth\": '20rem', \"maxWidth\": '20rem'}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body className=\"p-2\"><span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{_O}:</span> [{item.metadata.attributes[_O].join(\", \")}]</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t</Card>))}\n\t\t\t\t\t\t\t\t\t\t</CardDeck>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t\t{type === \"service\" &&\n\t\t\t\t\t<Card key={2}>\n\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\tas={Card.Header}\n\t\t\t\t\t\t\t\teventKey={2}\n\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\tif (activeKey === 2) {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(2);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{activeKey === 2 ? <FcExpand className=\"mr-1\"/> :\n\t\t\t\t\t\t\t\t\t<FcCollapse className=\"mr-1\"/>}\n\t\t\t\t\t\t\t\t{t(\"soajs:catalogs.configuration.title\")}\n\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={2}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:catalogs.configuration.subType\")}:</span> {item.configuration.subType}\n\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:catalogs.configuration.requestTimeout\")}:</span> {item.configuration.requestTimeout}\n\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:catalogs.configuration.requestTimeoutRenewal\")}:</span> {item.configuration.requestTimeoutRenewal}\n\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t\t}\n\t\t\t\t</Accordion>\n\t\t\t\t\n\t\t\t\t<hr/>\n\t\t\t\t\n\t\t\t\t{item.versions &&\n\t\t\t\t<div className=\"bg-light p-2\">\n\t\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t\t<DropdownButton size=\"sm\" id=\"dropdown-item-button\"\n\t\t\t\t\t\t                title={ver ? \"Version \" + ver : \"Select a version:\"}\n\t\t\t\t\t\t                variant=\"info\" className=\"float-right\">\n\t\t\t\t\t\t\t{item.versions.map((_ver, index) => (\n\t\t\t\t\t\t\t\t<Dropdown.Item as=\"button\" key={index} active={ver && ver === _ver.version}\n\t\t\t\t\t\t\t\t               onClick={() => {\n\t\t\t\t\t\t\t\t\t               let uri = window.location.pathname;\n\t\t\t\t\t\t\t\t\t               uri = uri.substr(0, uri.indexOf(\"/\" + name) + name.length + 1);\n\t\t\t\t\t\t\t\t\t               history.push(uri + \"/\" + _ver.version);\n\t\t\t\t\t\t\t\t               }}>\n\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\tversion {_ver.version}\n\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</DropdownButton>\n\t\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ver &&\n\t\t\t\t\t<Tabs defaultActiveKey=\"documentation\" id=\"uncontrolled-tab\">\n\t\t\t\t\t\t<Tab eventKey=\"documentation\" title={t(\"soajs:titles.Documentation\")}>\n\t\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\" className=\"mt-3 ml-3 mr-3\">\n\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t\t\tReadme\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t<Readme item={item} ver={ver}/>\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\t\tRelease\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t<Release item={item} ver={ver}/>\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{item.type === \"service\" &&\n\t\t\t\t\t\t<Tab eventKey=\"swagger\" title={t(\"soajs:titles.Swagger\")}>\n\t\t\t\t\t\t\t<Swagger item={item} ver={ver}/>\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Tabs>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {GoSync} from \"react-icons/go\";\n\nexport default function Synchronise({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.Sync\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t\n\t\t\t<Button size=\"sm\" variant=\"info\" {...props}>\n\t\t\t\t<GoSync/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {BiPowerOff} from \"react-icons/bi\";\n\nexport default function TurnOff({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.TurnOff\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button size=\"sm\" variant=\"warning\" {...props}>\n\t\t\t\t<BiPowerOff/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {BiPowerOff} from \"react-icons/bi\";\n\nexport default function TurnOn({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.TurnOn\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button size=\"sm\" variant=\"light\" {...props}>\n\t\t\t\t<BiPowerOff/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport _ from \"lodash\";\n\nimport {\n\tAccordion,\n\tButton,\n\tCard,\n\tuseAccordionToggle,\n\tTabs,\n\tTab,\n\tCardDeck,\n\tForm,\n\tCol,\n\tTable,\n\tJumbotron, ListGroupItem, ListGroup, Modal\n} from \"react-bootstrap\";\nimport {FcCollapse, FcExpand} from \"react-icons/fc\";\nimport {BiSearchAlt} from \"react-icons/bi\";\n\nimport AutoPagination from \"../../../../lib/AutoPagination\"\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {RepositoriesService} from \"../../../../services\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nimport SynchroniseButton from \"../../../buttons/Synchronise\";\nimport TurnOffButton from \"../../../buttons/TurnOff\";\nimport TurnOnButton from \"../../../buttons/TurnOn\";\nimport DeleteButton from \"../../../buttons/Delete\";\n\nconst repositoriesService = RepositoriesService.getService();\n\nfunction Branches({branches, t, ability, synBranch, turnOffBranch, turnOnBranch}) {\n\tlet show = false;\n\tif (branches && Array.isArray(branches) && branches.length > 0) {\n\t\tshow = true;\n\t}\n\treturn (\n\t\tshow &&\n\t\t<div className=\"mt-5\">\n\t\t\t<CardDeck>\n\t\t\t\t{branches.map((_O, _I) => (\n\t\t\t\t\t_O.active ?\n\t\t\t\t\t\t<Card key={_I} className=\"mb-3\" border=\"success\"\n\t\t\t\t\t\t      style={{\"minWidth\": '21rem', \"maxWidth\": '21rem'}}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t{_O.name}\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t{ability.can('repo_branch', 'turnOff') &&\n\t\t\t\t\t\t\t\t<TurnOffButton\n\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tturnOffBranch(_O.name);\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{ability.can('repo_branch', 'synchronize') &&\n\t\t\t\t\t\t\t\t<SynchroniseButton\n\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsynBranch(_O.name);\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<Card key={_I} className=\"mb-3\" border=\"dark\"\n\t\t\t\t\t\t      style={{\"minWidth\": '21rem', \"maxWidth\": '21rem'}}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t{_O.name}\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t{ability.can('repo_branch', 'turnOn') &&\n\t\t\t\t\t\t\t\t<TurnOnButton\n\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tturnOnBranch(_O.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</CardDeck>\n\t\t</div>\n\t);\n}\n\nfunction Tags({t, ability, turnOffTag, turnOnTag, repository, showTagsFor, showTagsForList, searchTag}) {\n\tconst [fields, setFields] = useState({\"tag\": \"\"});\n\t\n\tfunction handleTagSearchChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\treturn (\n\t\t<div className=\"mt-5\">\n\t\t\t<Form onSubmit={(event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t}}>\n\t\t\t\t<Form.Group>\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"xs\" xs={2}>{t(\"soajs:buttons.Search\")}</Form.Label>\n\t\t\t\t\t\t<Col xs={7}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"tag\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tvalue={fields.tag}\n\t\t\t\t\t\t\t\tonChange={handleTagSearchChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={3}>\n\t\t\t\t\t\t\t<Button className=\"ml-3\" variant=\"dark\" size=\"sm\"\n\t\t\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t\t\t        searchTag(fields.tag);\n\t\t\t\t\t\t\t        }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<BiSearchAlt/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t</Form.Group>\n\t\t\t</Form>\n\t\t\t<hr/>\n\t\t\t{(showTagsFor && showTagsFor === repository) &&\n\t\t\t<CardDeck>\n\t\t\t\t{showTagsForList && showTagsForList.map((_O, _I) => (\n\t\t\t\t\t_O.active ?\n\t\t\t\t\t\t<Card key={_I} className=\"mb-3\" border=\"success\"\n\t\t\t\t\t\t      style={{\"minWidth\": '21rem', \"maxWidth\": '21rem'}}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t{_O.name}\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t{ability.can('repo_tag', 'turnOff') &&\n\t\t\t\t\t\t\t\t<TurnOffButton\n\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tturnOffTag(_O.name);\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<Card key={_I} className=\"mb-3\" border=\"dark\"\n\t\t\t\t\t\t      style={{\"minWidth\": '21rem', \"maxWidth\": '21rem'}}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t{_O.name}\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t{ability.can('repo_tag', 'turnOn') &&\n\t\t\t\t\t\t\t\t<TurnOnButton\n\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tturnOnTag(_O.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</CardDeck>\n\t\t\t}\n\t\t</div>\n\t);\n}\n\nfunction CustomToggle({children, eventKey, handleClick}) {\n\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\thandleClick();\n\t});\n\treturn (\n\t\t<div className=\"float-left\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nfunction OnMsgModal({t, onModalOpt, setOnModalOpt}) {\n\tconst handleClose = () => setOnModalOpt({\"show\": false, opts: null});\n\treturn (\n\t\t<Modal size=\"lg\" show={onModalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:development.repositories.turnOnTitle\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t{t(\"soajs:development.repositories.turnOnMsg\")}\n\t\t\t\t<hr/>\n\t\t\t\t{onModalOpt.opts &&\n\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>{t(\"soajs:development.repositories.name\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:development.repositories.type\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:development.repositories.swagger\")}</th>\n\t\t\t\t\t\t<th></th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t{onModalOpt.opts && onModalOpt.opts.map((res, index) => (\n\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t{res.name}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td className=\"small\">\n\t\t\t\t\t\t\t\t{res.type}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td className=\"small\">\n\t\t\t\t\t\t\t\t{res.swagger ? \"true\" : \"false\"}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td className=\"small text-danger\">\n\t\t\t\t\t\t\t\t{res.error}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t\t</tbody>\n\t\t\t\t</Table>\n\t\t\t\t}\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Ok\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}\n\nasync function onLoad(setFields, setPagination, currentPage, isSubscribed, criteria) {\n\ttry {\n\t\tlet c = {\"limit\": 50, \"skip\": (currentPage - 1) * 50};\n\t\tif (criteria) {\n\t\t\tif (criteria.textSearch && criteria.textSearch !== \"\") {\n\t\t\t\tc.textSearch = criteria.textSearch;\n\t\t\t}\n\t\t\tif (criteria.active) {\n\t\t\t\tc.active = true;\n\t\t\t}\n\t\t\tif (criteria.leaf) {\n\t\t\t\tc.leaf = true;\n\t\t\t}\n\t\t}\n\t\tconst repositories = await repositoriesService.getRepositories(c);\n\t\tif (isSubscribed) {\n\t\t\tif (repositories.repositories) {\n\t\t\t\tsetFields(repositories.repositories);\n\t\t\t\tsetPagination(\n\t\t\t\t\t{\n\t\t\t\t\t\t\"totalItems\": repositories.count,\n\t\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\t\"itemsPerPage\": repositories.limit\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Repositories() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [fields, setFields] = useState([]);\n\tconst [showTagsFor, setShowTagsFor] = useState(null);\n\tconst [showTagsForList, setShowTagsForList] = useState(null);\n\tconst [activeKey, setActiveKey] = useState(1);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [criteria, setCriteria] = useState({\n\t\t\"textSearch\": \"\", \"active\": false, \"leaf\": false\n\t});\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait onLoad(setFields, setPagination, 1, true, criteria);\n\t}\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function reLoad(page) {\n\t\tawait onLoad(setFields, setPagination, page || currentPage, true, criteria);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tonLoad(setFields, setPagination, 1, isSubscribed, null);\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\tasync function turnOnTag(item, tag) {\n\t\ttry {\n\t\t\tconst res = await repositoriesService.turnOnTag({\n\t\t\t\t\"id\": item._id,\n\t\t\t\t// \"owner\": item.owner,\n\t\t\t\t\"owner\": item.source[0].name,\n\t\t\t\t\"provider\": item.provider,\n\t\t\t\t\"tag\": tag\n\t\t\t});\n\t\t\tshowOnMsgModal(res);\n\t\t\tawait reLoad();\n\t\t\tif (!item.tags) {\n\t\t\t\titem.tags = [];\n\t\t\t}\n\t\t\titem.tags.push({\"name\": tag, \"active\": true})\n\t\t\tawait onTabSelect(item);\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function turnOffTag(item, tag) {\n\t\ttry {\n\t\t\tawait repositoriesService.turnOffTag({\n\t\t\t\t\"id\": item._id,\n\t\t\t\t// \"owner\": item.owner,\n\t\t\t\t\"owner\": item.source[0].name,\n\t\t\t\t\"provider\": item.provider,\n\t\t\t\t\"tag\": tag\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:development.repositories.turnOffTagMsg\"));\n\t\t\tawait reLoad();\n\t\t\tif (!item.tags) {\n\t\t\t\titem.tags = [];\n\t\t\t}\n\t\t\t_.pullAllBy(item.tags, [{\"name\": tag}], 'name');\n\t\t\tawait onTabSelect(item);\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function turnOnBranch(item, branch) {\n\t\ttry {\n\t\t\tconst res = await repositoriesService.turnOnBranch({\n\t\t\t\t\"id\": item._id,\n\t\t\t\t// \"owner\": item.owner,\n\t\t\t\t\"owner\": item.source[0].name,\n\t\t\t\t\"provider\": item.provider,\n\t\t\t\t\"branch\": branch\n\t\t\t});\n\t\t\tshowOnMsgModal(res);\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function turnOffBranch(item, branch) {\n\t\ttry {\n\t\t\tawait repositoriesService.turnOffBranch({\n\t\t\t\t\"id\": item._id,\n\t\t\t\t// \"owner\": item.owner,\n\t\t\t\t\"owner\": item.source[0].name,\n\t\t\t\t\"provider\": item.provider,\n\t\t\t\t\"branch\": branch\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:development.repositories.turnOffBranchMsg\"));\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function syncBranch(item, branch) {\n\t\ttry {\n\t\t\tawait repositoriesService.syncBranch({\n\t\t\t\t\"id\": item._id,\n\t\t\t\t// \"owner\": item.owner,\n\t\t\t\t\"owner\": item.source[0].name,\n\t\t\t\t\"provider\": item.provider,\n\t\t\t\t\"branch\": branch\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:development.repositories.syncMsg\"));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function syncRepository(item) {\n\t\ttry {\n\t\t\tawait repositoriesService.syncRepository({\n\t\t\t\t\"id\": item._id,\n\t\t\t\t// \"owner\": item.owner,\n\t\t\t\t\"owner\": item.source[0].name,\n\t\t\t\t\"provider\": item.provider\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:development.repositories.syncMsg\"));\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function turnOffRepository(item) {\n\t\ttry {\n\t\t\tawait repositoriesService.turnOffRepository({\n\t\t\t\t\"id\": item._id,\n\t\t\t\t// \"owner\": item.owner,\n\t\t\t\t\"owner\": item.source[0].name,\n\t\t\t\t\"provider\": item.provider\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:development.repositories.turnOffRepo\"));\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function turnOnRepository(item) {\n\t\ttry {\n\t\t\tawait repositoriesService.turnOnRepository({\n\t\t\t\t\"id\": item._id,\n\t\t\t\t// \"owner\": item.owner,\n\t\t\t\t\"owner\": item.source[0].name,\n\t\t\t\t\"provider\": item.provider\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:development.repositories.turnOnRepo\"));\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function deleteRepository(item) {\n\t\ttry {\n\t\t\tawait repositoriesService.deleteRepository({\n\t\t\t\t\"id\": item._id\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:development.repositories.deleteRepo\"));\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tconst [onModalOpt, setOnModalOpt] = useState({\"show\": false, opts: null});\n\t\n\tfunction showOnMsgModal(res) {\n\t\tif (res && !Array.isArray(res)) {\n\t\t\tres = [res];\n\t\t}\n\t\tsetOnModalOpt({\"show\": true, opts: res});\n\t}\n\t\n\tasync function searchTag(item, tag) {\n\t\ttry {\n\t\t\tconst res = await repositoriesService.getTag({\n\t\t\t\t\"id\": item._id,\n\t\t\t\t\"tag\": tag\n\t\t\t});\n\t\t\tlet tagList = [];\n\t\t\tif (res && res.name) {\n\t\t\t\tif (item.tags && Array.isArray(item.tags) && item.tags.length > 0) {\n\t\t\t\t\tlet index = _.findIndex(item.tags, ['name', res.name]);\n\t\t\t\t\tif (index !== -1) {\n\t\t\t\t\t\ttagList = [item.tags[index]];\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttagList = [res];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttagList = [res];\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetShowTagsForList(tagList);\n\t\t\tsetShowTagsFor(item.repository);\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function onTabSelect(item) {\n\t\ttry {\n\t\t\tconst res = await repositoriesService.getTags({\n\t\t\t\t\"id\": item._id,\n\t\t\t\t\"count\": 10\n\t\t\t});\n\t\t\tlet tagList = [];\n\t\t\tif (res && res.tags && Array.isArray(res.tags) && res.tags.length > 0) {\n\t\t\t\tif (item.tags && Array.isArray(item.tags) && item.tags.length > 0) {\n\t\t\t\t\t_.pullAllBy(res.tags, item.tags, 'name');\n\t\t\t\t\ttagList = _.concat(item.tags, res.tags);\n\t\t\t\t} else {\n\t\t\t\t\ttagList = res.tags;\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetShowTagsForList(tagList);\n\t\t\tsetShowTagsFor(item.repository);\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t<OnMsgModal\n\t\t\t\tt={t}\n\t\t\t\tonModalOpt={onModalOpt}\n\t\t\t\tsetOnModalOpt={setOnModalOpt}\n\t\t\t/>\n\t\t\t<Jumbotron className=\"p-3\">\n\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t<CardDeck>\n\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:buttons.Search\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"textSearch\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.textSearch}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\tid=\"active\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"small\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Only Activated Repositories\"\n\t\t\t\t\t\t\t\t\t\t\tdefaultChecked={criteria.active}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\tid=\"leaf\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"small\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Only Leaf Repositories\"\n\t\t\t\t\t\t\t\t\t\t\tdefaultChecked={criteria.leaf}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</CardDeck>\n\t\t\t\t\t<Button className=\"mt-3 float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t</Form>\n\t\t\t</Jumbotron>\n\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t{fields.map((item, index) => (\n\t\t\t\t\t<Card key={index + 1}>\n\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\tas={Card.Header}\n\t\t\t\t\t\t\t\teventKey={index + 1}\n\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\tif (activeKey === (index + 1)) {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(index + 1);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{activeKey === (index + 1) ? <FcExpand className=\"mr-1\"/> :\n\t\t\t\t\t\t\t\t\t<FcCollapse className=\"mr-1\"/>} <span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{item.repository}</span>\n\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t\t{(!item.source || item.source.length < 1) ?\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{ability.can('repo', 'delete') &&\n\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tdeleteRepository(item);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{item.active ?\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t{ability.can('repo', 'turnOff') &&\n\t\t\t\t\t\t\t\t\t\t\t<TurnOffButton\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tturnOffRepository(item);\n\t\t\t\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t{ability.can('repo', 'synchronize') &&\n\t\t\t\t\t\t\t\t\t\t\t<SynchroniseButton\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsyncRepository(item);\n\t\t\t\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{ability.can('repo', 'turnOn') &&\n\t\t\t\t\t\t\t\t\t\t\t<TurnOnButton\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tturnOnRepository(item);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t{item.active &&\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Tabs defaultActiveKey=\"branch\" id=\"repos\"\n\t\t\t\t\t\t\t\t\t      style={{borderBottom: \"1px solid #dee2e6\"}}\n\t\t\t\t\t\t\t\t\t      onSelect={(T) => {\n\t\t\t\t\t\t\t\t\t\t      if (T === \"tag\") {\n\t\t\t\t\t\t\t\t\t\t\t      onTabSelect(item);\n\t\t\t\t\t\t\t\t\t\t      }\n\t\t\t\t\t\t\t\t\t      }}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Tab eventKey=\"branch\" title={t(\"soajs:development.repositories.Branches\")}>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<Branches\n\t\t\t\t\t\t\t\t\t\t\t\tbranches={item.branches}\n\t\t\t\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t\t\t\tability={ability}\n\t\t\t\t\t\t\t\t\t\t\t\tsynBranch={(branch) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsyncBranch(item, branch);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tturnOffBranch={(branch) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tturnOffBranch(item, branch);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tturnOnBranch={(branch) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tturnOnBranch(item, branch);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t\t\t\t<Tab eventKey=\"tag\" title={t(\"soajs:development.repositories.Tags\")}>\n\t\t\t\t\t\t\t\t\t\t\t<Tags\n\t\t\t\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t\t\t\tability={ability}\n\t\t\t\t\t\t\t\t\t\t\t\tturnOffTag={(tag) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tturnOffTag(item, tag);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tturnOnTag={(tag) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tturnOnTag(item, tag);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\trepository={item.repository}\n\t\t\t\t\t\t\t\t\t\t\t\tshowTagsFor={showTagsFor}\n\t\t\t\t\t\t\t\t\t\t\t\tshowTagsForList={showTagsForList}\n\t\t\t\t\t\t\t\t\t\t\t\tsearchTag={(tag) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsearchTag(item, tag)\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t\t{fields.length === 0 ? (\n\t\t\t\t\t<span>{t(\"soajs:development.repositories.zeroMsg\")}</span>\n\t\t\t\t) : null}\n\t\t\t</Accordion>\n\t\t\t{fields.length > 0 ? (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\treLoad(p);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t</>\n\t\t\t) : null}\n\t\t</>\n\t);\n}","import React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Accordion, Alert, Button, Card, Col, Form, Row } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\n\nimport _ from \"lodash\";\n\nimport deepSet from \"../../../../soajs/libs/deepSetLib\";\n\nimport envModel from \"./model/envModel.json\";\nimport itemModel from \"./model/itemModel.json\";\nimport _examples from \"./model/examples.json\";\nimport { JsonEditor, NotificationManager } from \"../../../../soajs/urac/components\";\n\nimport DeleteButton from \"../../../buttons/Delete\";\nimport AddButton from \"../../../buttons/Add\";\nimport { MarketplaceService } from \"../../../../services\";\n\nimport computeVaribales from \"./model/computedVariables.json\";\n\nlet _json_readiness = null;\nlet _json_liveness = null;\nlet _json_securityContext = null;\nlet _json_voluming = [];\nlet _json_ports = [];\nlet _json_labels = null;\nlet _json_execCommands = null;\n\nconst marketplaceService = MarketplaceService.getService();\n\nexport default function RecipeRW({ starterFields, mode, itemId }) {\n\tconst { t } = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState(itemModel);\n\n\tconst history = useHistory();\n\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0 &&\n\t\t\tfields.type.length > 0 &&\n\t\t\tfields.subtype.length > 0 &&\n\t\t\tfields.recipe.deployOptions.image.name.length > 0\n\t\t);\n\t}\n\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tfields.recipe.deployOptions.readinessProbe = _json_readiness;\n\t\t\tfields.recipe.deployOptions.liveinessProbe = _json_liveness;\n\t\t\tfields.recipe.deployOptions.securityContext = _json_securityContext;\n\t\t\tfields.recipe.deployOptions.voluming = _json_voluming;\n\t\t\tfields.recipe.deployOptions.ports = _json_ports;\n\t\t\tfields.recipe.deployOptions.labels = _json_labels;\n\t\t\tfields.recipe.deployOptions.execCommands = _json_execCommands;\n\n\t\t\tif (fields.envs.length > 0) {\n\t\t\t\tfor (let i = 0; i < fields.envs.length; i++) {\n\t\t\t\t\tfields.recipe.buildOptions.env[fields.envs[i].name] = {\n\t\t\t\t\t\t\"type\": fields.envs[i].type\n\t\t\t\t\t};\n\t\t\t\t\tif (fields.envs[i].type === \"static\" || fields.envs[i].type === \"computed\") {\n\t\t\t\t\t\tfields.recipe.buildOptions.env[fields.envs[i].name].value = fields.envs[i].value;\n\t\t\t\t\t}\n\t\t\t\t\tif (fields.envs[i].type === \"userInput\") {\n\t\t\t\t\t\tfields.recipe.buildOptions.env[fields.envs[i].name].label = fields.envs[i].label;\n\t\t\t\t\t\tfields.recipe.buildOptions.env[fields.envs[i].name].default = fields.envs[i].default;\n\t\t\t\t\t\tfields.recipe.buildOptions.env[fields.envs[i].name].fieldMsg = fields.envs[i].fieldMsg;\n\t\t\t\t\t}\n\t\t\t\t\tif (fields.envs[i].type === \"secret\") {\n\t\t\t\t\t\tfields.recipe.buildOptions.env[fields.envs[i].name].key = fields.envs[i].key;\n\t\t\t\t\t\tfields.recipe.buildOptions.env[fields.envs[i].name].secret = fields.envs[i].secret;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (fields.recipe.buildOptions.cmd && fields.recipe.buildOptions.cmd.deploy) {\n\t\t\t\tif (fields.recipe.buildOptions.cmd.deploy.args && fields.recipe.buildOptions.cmd.deploy.args.length === 0) {\n\t\t\t\t\tdelete fields.recipe.buildOptions.cmd.deploy.args;\n\t\t\t\t}\n\t\t\t\tif (fields.recipe.buildOptions.cmd.deploy.command && fields.recipe.buildOptions.cmd.deploy.command.length === 0) {\n\t\t\t\t\tdelete fields.recipe.buildOptions.cmd;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet data = {\n\t\t\t\t\"name\": fields.name,\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"description\": fields.description,\n\t\t\t\t\"subtype\": fields.subtype,\n\t\t\t\t\"recipe\": fields.recipe\n\t\t\t};\n\t\t\tif (mode === \"add\") {\n\t\t\t\tawait marketplaceService.addRecipe(data);\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.addRecipe\"));\n\t\t\t}\n\t\t\tif (mode === \"edit\") {\n\t\t\t\tawait marketplaceService.updateRecipe(itemId, data)\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.editRecipe\"));\n\t\t\t}\n\t\t\thistory.push(\"/catalogs/recipe\");\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\n\tfunction handleFieldEnvChange(event, i) {\n\t\tlet value = event.target.value;\n\t\tlet id = event.target.id;\n\n\t\tfields.envs[i][id] = value;\n\t\tsetFields({ ...fields });\n\t}\n\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tlet id = event.target.id;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tif (event.target.type === 'number') {\n\t\t\tvalue = parseInt(value);\n\t\t}\n\n\t\tdeepSet(fields, id, value);\n\t\tsetFields({ ...fields });\n\t}\n\tfunction handleFieldCommandChange(event) {\n\t\tlet value = event.target.value;\n\t\tlet id = event.target.id;\n\n\t\tif (id === \"recipe.buildOptions.cmd.deploy.command\") {\n\t\t\t// value = [value];\n\t\t\tvalue = value.split(\",\").map(item => item.trim());\n\t\t\tdeepSet(fields, id, value);\n\t\t\tsetFields({ ...fields });\n\t\t}\n\t}\n\tfunction handleFieldArgsChange(event) {\n\t\tlet value = event.target.value;\n\t\tlet id = event.target.id;\n\n\t\tif (id === \"recipe.buildOptions.cmd.deploy.args\") {\n\t\t\tvalue = value.split(\"\\n\");\n\t\t\tdeepSet(fields, id, value);\n\t\t\tsetFields({ ...fields });\n\t\t}\n\t}\n\n\tfunction readiness_onChange(json) {\n\t\t_json_readiness = json;\n\t}\n\n\tfunction liveness_onChange(json) {\n\t\t_json_liveness = json;\n\t}\n\n\tfunction securityContext_onChange(json) {\n\t\t_json_securityContext = json;\n\t}\n\n\tfunction port_onChange(json, i) {\n\t\t_json_ports[i] = json;\n\t}\n\n\tfunction voluming_onChange(json, i) {\n\t\t_json_voluming[i] = { \"kubernetes\": json };\n\t}\n\n\tfunction execCommands_onChange(json) {\n\t\t_json_execCommands = json;\n\t}\n\n\tfunction labels_onChange(json) {\n\t\t_json_labels = json\n\t}\n\n\tfunction deleteVolumeEntry(i) {\n\t\t_json_voluming.splice(i, 1);\n\t\tfields.recipe.deployOptions.voluming = _json_voluming;\n\t\tsetFields({ ...fields });\n\t}\n\n\tfunction addVolumeEntry() {\n\t\t_json_voluming.push(\n\t\t\t{ \"kubernetes\": { \"volume\": {}, \"volumeMount\": {} } }\n\t\t);\n\t\tfields.recipe.deployOptions.voluming = _json_voluming;\n\t\tsetFields({ ...fields });\n\t}\n\n\tfunction getVolume(i) {\n\t\tif (_json_voluming[i] && _json_voluming[i].kubernetes) {\n\t\t\treturn _json_voluming[i].kubernetes;\n\t\t}\n\t\tif (fields.recipe.deployOptions.voluming[i] && fields.recipe.deployOptions.voluming[i].kubernetes) {\n\t\t\treturn fields.recipe.deployOptions.voluming[i].kubernetes;\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction deletePortEntry(i) {\n\t\t_json_ports.splice(i, 1);\n\t\tfields.recipe.deployOptions.ports = _json_ports;\n\t\tsetFields({ ...fields });\n\t}\n\n\tfunction addPortEntry() {\n\t\t_json_ports.push({\n\t\t\t\"name\": \"http\",\n\t\t\t\"target\": 80,\n\t\t\t\"isPublished\": true,\n\t\t\t\"published\": 31080,\n\t\t\t\"preserveClientIP\": true\n\t\t});\n\t\tfields.recipe.deployOptions.ports = _json_ports;\n\t\tsetFields({ ...fields });\n\t}\n\n\tfunction addEnvEntry() {\n\t\tfields.envs.push(_.merge({}, envModel));\n\t\tsetFields({ ...fields });\n\t}\n\n\tfunction deleteEnvEntry(i) {\n\t\tfields.envs.splice(i, 1);\n\t\tsetFields({ ...fields });\n\t}\n\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\n\t\tasync function onLoad() {\n\t\t\tif (isSubscribed) {\n\t\t\t\t_json_liveness = starterFields.recipe.deployOptions.liveinessProbe;\n\t\t\t\t_json_readiness = starterFields.recipe.deployOptions.readinessProbe;\n\t\t\t\t_json_ports = starterFields.recipe.deployOptions.ports;\n\t\t\t\t_json_voluming = starterFields.recipe.deployOptions.voluming;\n\t\t\t\t_json_labels = starterFields.recipe.deployOptions.labels;\n\t\t\t\t_json_execCommands = starterFields.recipe.deployOptions.execCommands;\n\t\t\t\t_json_securityContext = starterFields.recipe.deployOptions.securityContext;\n\t\t\t\tlet p = _.merge({}, starterFields);\n\t\t\t\tsetFields({ ...p });\n\t\t\t}\n\t\t}\n\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [starterFields]);\n\n\treturn (\n\t\t<>\n\t\t\t<h5 className=\"font-weight-bold\">{t(\"soajs:titles.\" + mode + \"Recipe\")}</h5>\n\n\t\t\t<Form>\n\t\t\t\t<Form.Group>\n\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group>\n\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\trows={2}\n\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Type\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"type\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.type}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Category\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"subtype\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.subtype}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<hr className=\"mt-1\" />\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t<Card className=\"mb-3\">\n\t\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\t<h6>Image Information</h6>\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Prefix\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"recipe.deployOptions.image.prefix\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={fields.recipe.deployOptions.image.prefix}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"recipe.deployOptions.image.name\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={fields.recipe.deployOptions.image.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Tag\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"recipe.deployOptions.image.tag\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={fields.recipe.deployOptions.image.tag}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Type\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"recipe.deployOptions.image.repositoryType\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={fields.recipe.deployOptions.image.repositoryType}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={\"public\"}>Public</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={\"private\"}>Private</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.PullPolicy\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"recipe.deployOptions.image.pullPolicy\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={fields.recipe.deployOptions.image.pullPolicy}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={\"IfNotPresent\"}>IfNotPresent</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={\"Always\"}>Always</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={\"Never\"}>Never</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Shell\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"recipe.deployOptions.image.shell\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={fields.recipe.deployOptions.image.shell}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-left\">{t(\"soajs:fields.Override\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"recipe.deployOptions.image.override\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={fields.recipe.deployOptions.image.override}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-left\">{t(\"soajs:fields.Binary\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"recipe.deployOptions.image.binary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={fields.recipe.deployOptions.image.binary}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t<Card className=\"mb-3\">\n\t\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\tCommands\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.ContainerCommand\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"recipe.buildOptions.cmd.deploy.command\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={fields.recipe.buildOptions.cmd.deploy.command.join(', ')}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldCommandChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.CommandArguments\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"recipe.buildOptions.cmd.deploy.args\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={fields.recipe.buildOptions.cmd.deploy.args.join('\\n')}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldArgsChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\tMake sure each command is on a separate line.\n\t\t\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t<Card className=\"mb-3\">\n\t\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\tEnvironment Variables\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\tonClick={addEnvEntry}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\n\t\t\t\t\t\t\t\t\t\t{fields.envs.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<Alert variant=\"secondary\" key={i}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col><Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col md={2} lg={2} xl={1}>{t(\"soajs:fields.Name\")}</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rec.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => handleFieldEnvChange(event, i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col md={2} lg={1}>{t(\"soajs:fields.Type\")}</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col md={3} lg={3} xl={2}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"type\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rec.type}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => handleFieldEnvChange(event, i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={\"userInput\"}>userInput</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={\"computed\"}>computed</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={\"static\"}>static</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={\"secret\"}>secret</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Row></Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right pl-1 pr-1 pt-0 pb-0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteEnvEntry(i)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{rec.type === \"static\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Value\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={\"value\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rec.value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => handleFieldEnvChange(event, i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{rec.type === \"computed\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Value\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={\"value\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rec.value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => handleFieldEnvChange(event, i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{computeVaribales.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={i} disabled={rec.disabled}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rec.l}>{rec.l}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{rec.type === \"userInput\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Label\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"label\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rec.label}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => handleFieldEnvChange(event, i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Default\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rec.default}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => handleFieldEnvChange(event, i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.FieldMsg\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"fieldMsg\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rec.fieldMsg}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => handleFieldEnvChange(event, i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{rec.type === \"secret\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Secret\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"secret\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rec.secret}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => handleFieldEnvChange(event, i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Key\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"key\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rec.key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => handleFieldEnvChange(event, i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t<Card className=\"mb-3\">\n\t\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\tReadiness Information\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t<Row style={{ \"height\": \"250px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\t\t\t\t\tmodes={[\"code\", \"tree\"]}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tjson={_json_readiness || fields.recipe.deployOptions.readinessProbe || null}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={readiness_onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col xs={4} className=\"small\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Alert variant=\"dark\" className=\"m-0 pb-0 pt-1\"><h6>Example</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Alert variant=\"info\" className=\"m-0 pb-0 pt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<pre className=\"small, text-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{JSON.stringify(_examples.readinessProbe, null, 2)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t<Card className=\"mb-3\">\n\t\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\tLiveiness Information\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t<Row style={{ \"height\": \"250px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmodes={[\"code\", \"tree\"]}\n\t\t\t\t\t\t\t\t\t\t\t\t\tjson={_json_liveness || fields.recipe.deployOptions.liveinessProbe || null}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={liveness_onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col xs={4} className=\"small\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Alert variant=\"dark\" className=\"m-0 pb-0 pt-1\"><h6>Example</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Alert variant=\"info\" className=\"m-0 pb-0 pt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<pre className=\"small, text-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{JSON.stringify(_examples.livenessProbe, null, 2)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t<Card className=\"mb-3\">\n\t\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\tPorts\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\taddPortEntry();\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t{fields.recipe.deployOptions.ports.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<div key={i} className=\"p-1\" style={{ \"backgroundColor\": \"#ebebeb\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Header className=\"p-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right pl-1 pr-1 pt-0 pb-0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeletePortEntry(i)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body className=\"pt-1 pb-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodes={[\"code\", \"tree\"]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjson={_json_ports[i] || fields.recipe.deployOptions.ports[i] || null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(json) => port_onChange(json, i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t<Card className=\"mb-3\">\n\t\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\tVolumes\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\taddVolumeEntry();\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t{fields.recipe.deployOptions.voluming.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<div key={i} className=\"p-1\" style={{ \"backgroundColor\": \"#ebebeb\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Header className=\"p-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right pl-1 pr-1 pt-0 pb-0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteVolumeEntry(i)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body className=\"pt-1 pb-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodes={[\"code\", \"tree\"]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjson={getVolume(i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(json) => voluming_onChange(json, i)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t<Card className=\"mb-3\">\n\t\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\tSecurity Context Information\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\t\t\tmodes={[\"code\", \"tree\"]}\n\t\t\t\t\t\t\t\t\t\t\tjson={_json_securityContext || fields.recipe.deployOptions.securityContext || null}\n\t\t\t\t\t\t\t\t\t\t\tonChange={securityContext_onChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t<Card className=\"mb-3\">\n\t\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\tPreset Pod Execute Commands\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\t\t\tmodes={[\"code\", \"tree\"]}\n\t\t\t\t\t\t\t\t\t\t\tjson={_json_execCommands || fields.recipe.deployOptions.execCommands || null}\n\t\t\t\t\t\t\t\t\t\t\tonChange={execCommands_onChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t<Card className=\"mb-3\">\n\t\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\tAdditional Labels\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\t\t\tmodes={[\"code\", \"tree\"]}\n\t\t\t\t\t\t\t\t\t\t\tjson={_json_labels || fields.recipe.deployOptions.labels || null}\n\t\t\t\t\t\t\t\t\t\t\tonChange={labels_onChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{mode === \"add\" && t(\"soajs:buttons.Add\")}\n\t\t\t\t\t{mode === \"edit\" && t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t</Form>\n\t\t</>\n\t);\n}","import React from \"react\";\n\nimport itemModel from \"./model/itemModel.json\";\n\nimport RecipeRW from \"./RecipeRW\";\n\nexport default function AddRecipe() {\n\t\n\t\n\treturn (\n\t\t<>\n\t\t\t<RecipeRW\n\t\t\t\tstarterFields={itemModel}\n\t\t\t\tmode={\"add\"}\n\t\t\t/>\n\t\t</>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport {useParams} from \"react-router-dom\";\n\nimport {MarketplaceService} from \"../../../../services\";\n\nimport RecipeRW from \"./RecipeRW\";\nimport envModel from \"./model/envModel.json\";\nimport itemModel from \"./model/itemModel.json\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport _ from \"lodash\";\n\nconst marketplaceService = MarketplaceService.getService();\n\nexport default function EditRecipe() {\n\tconst [fields, setFields] = useState(null);\n\t\n\tconst {id} = useParams();\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tlet data = _.merge({}, itemModel);\n\t\t\t\tlet response = await marketplaceService.getRecipesByIds([id]);\n\t\t\t\tif (isSubscribed && response && response[0]) {\n\t\t\t\t\tdata = {\n\t\t\t\t\t\t\"envs\": data.envs,\n\t\t\t\t\t\t\"name\": response[0].name || data.name,\n\t\t\t\t\t\t\"type\": response[0].type || data.type,\n\t\t\t\t\t\t\"description\": response[0].description || data.description,\n\t\t\t\t\t\t\"subtype\": response[0].subtype || data.subtype,\n\t\t\t\t\t\t\"recipe\": {\n\t\t\t\t\t\t\t\"deployOptions\": {\n\t\t\t\t\t\t\t\t\"image\": data.recipe.deployOptions.image,\n\t\t\t\t\t\t\t\t\"readinessProbe\": response[0].recipe.deployOptions.readinessProbe || data.recipe.deployOptions.readinessProbe,\n\t\t\t\t\t\t\t\t\"liveinessProbe\": response[0].recipe.deployOptions.liveinessProbe || data.recipe.deployOptions.liveinessProbe,\n\t\t\t\t\t\t\t\t\"ports\": response[0].recipe.deployOptions.ports || data.recipe.deployOptions.ports,\n\t\t\t\t\t\t\t\t\"voluming\": data.recipe.deployOptions.voluming,\n\t\t\t\t\t\t\t\t\"labels\": response[0].recipe.deployOptions.labels || data.recipe.deployOptions.labels,\n\t\t\t\t\t\t\t\t\"execCommands\": response[0].recipe.deployOptions.execCommands || data.recipe.deployOptions.execCommands,\n\t\t\t\t\t\t\t\t\"securityContext\": response[0].recipe.deployOptions.securityContext || data.recipe.deployOptions.securityContext\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"buildOptions\": {\n\t\t\t\t\t\t\t\t\"cmd\": data.recipe.buildOptions.cmd,\n\t\t\t\t\t\t\t\t\"env\": data.recipe.buildOptions.env,\n\t\t\t\t\t\t\t\t\"settings\": response[0].recipe.buildOptions.settings || data.recipe.buildOptions.settings\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tif (response[0].recipe.deployOptions.voluming) {\n\t\t\t\t\t\tfor (let i = 0; i < response[0].recipe.deployOptions.voluming.length; i++) {\n\t\t\t\t\t\t\tdata.recipe.deployOptions.voluming.push({\n\t\t\t\t\t\t\t\t\"kubernetes\": response[0].recipe.deployOptions.voluming[i].kubernetes\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (response[0].recipe.buildOptions.cmd && response[0].recipe.buildOptions.cmd.deploy) {\n\t\t\t\t\t\tdata.recipe.buildOptions.cmd.deploy = {\n\t\t\t\t\t\t\t\"command\": response[0].recipe.buildOptions.cmd.deploy.command || data.recipe.buildOptions.cmd.deploy.command,\n\t\t\t\t\t\t\t\"args\": response[0].recipe.buildOptions.cmd.deploy.args || data.recipe.buildOptions.cmd.deploy.args\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tif (response[0].recipe.deployOptions.securityContext) {\n\t\t\t\t\t\tdata.recipe.deployOptions.securityContext = {\n\t\t\t\t\t\t\t\"pod\": response[0].recipe.deployOptions.securityContext.pod || data.recipe.deployOptions.securityContext.pod,\n\t\t\t\t\t\t\t\"container\": response[0].recipe.deployOptions.securityContext.container || data.recipe.deployOptions.securityContext.container\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tif (response[0].recipe.deployOptions.image) {\n\t\t\t\t\t\tdata.recipe.deployOptions.image = {\n\t\t\t\t\t\t\t\"name\": response[0].recipe.deployOptions.image.name || data.recipe.deployOptions.image.name,\n\t\t\t\t\t\t\t\"tag\": response[0].recipe.deployOptions.image.tag || data.recipe.deployOptions.image.tag,\n\t\t\t\t\t\t\t\"prefix\": response[0].recipe.deployOptions.image.prefix || data.recipe.deployOptions.image.prefix,\n\t\t\t\t\t\t\t\"repositoryType\": response[0].recipe.deployOptions.image.repositoryType || data.recipe.deployOptions.image.repositoryType,\n\t\t\t\t\t\t\t\"pullPolicy\": response[0].recipe.deployOptions.image.pullPolicy || data.recipe.deployOptions.image.pullPolicy,\n\t\t\t\t\t\t\t\"shell\": response[0].recipe.deployOptions.image.shell || data.recipe.deployOptions.image.shell,\n\t\t\t\t\t\t\t\"override\": response[0].recipe.deployOptions.image.override || data.recipe.deployOptions.image.override,\n\t\t\t\t\t\t\t\"binary\": response[0].recipe.deployOptions.image.binary || data.recipe.deployOptions.image.binary\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tif (response[0].recipe.buildOptions.env) {\n\t\t\t\t\t\tObject.keys(response[0].recipe.buildOptions.env).map((e) => {\n\t\t\t\t\t\t\tlet o = _.merge({}, envModel, response[0].recipe.buildOptions.env[e]);\n\t\t\t\t\t\t\to.name = e;\n\t\t\t\t\t\t\tdata.envs.push(o);\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetFields(data);\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [id]);\n\t\n\treturn (\n\t\t<>\n\t\t\t{fields &&\n\t\t\t<RecipeRW\n\t\t\t\tstarterFields={fields}\n\t\t\t\titemId={id}\n\t\t\t\tmode={\"edit\"}\n\t\t\t/>}\n\t\t</>\n\t);\n}","import {Redirect, Route, Switch} from \"react-router-dom\";\nimport React from \"react\";\n\nimport {AuthenticatedRoute} from \"../../soajs/helpers\";\n\nimport Api from \"./containers/Api/Api\";\nimport Custom from \"./containers/Custom/Custom\";\nimport Resource from \"./containers/Resource/Resource\";\nimport Daemon from \"./containers/Daemon/Daemon\";\nimport Frontend from \"./containers/Frontend/Frontend\";\nimport Config from \"./containers/Config/Config\";\nimport Recipe from \"./containers/Recipe/Recipe\";\nimport SoajsApi from \"./containers/SoajsApi/SoajsApi\";\nimport SoajsFrontend from \"./containers/SoajsFrontend/SoajsFrontend\";\nimport Detail from \"./containers/Template/Detail\";\n\nimport Repositories from \"../Development/containers/Repositories/Repositories\";\n\nimport AddRecipe from \"./containers/Recipe/AddRecipe\";\nimport EditRecipe from \"./containers/Recipe/EditRecipe\";\n\nconst rootPath = \"/catalogs\";\nconst defaultPath = \"/api\";\n\nexport default function Routes() {\n\treturn (\n\t\t<Switch>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/git/repositories\"}>\n\t\t\t\t<Repositories/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t<AuthenticatedRoute path={rootPath + \"/api/detail/:type/:name/:ver\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/custom/detail/:type/:name/:ver\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/resource/detail/:type/:name/:ver\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/daemon/detail/:type/:name/:ver\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/frontend/detail/:type/:name/:ver\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/config/detail/:type/:name/:ver\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/soajs/api/detail/:type/:name/:ver\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/soajs/frontend/detail/:type/:name/:ver\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t<AuthenticatedRoute path={rootPath + \"/api/detail/:type/:name\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/custom/detail/:type/:name\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/resource/detail/:type/:name\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/daemon/detail/:type/:name\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/frontend/detail/:type/:name\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/config/detail/:type/:name\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/soajs/api/detail/:type/:name\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/soajs/frontend/detail/:type/:name\"}>\n\t\t\t\t<Detail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t\n\t\t\t<AuthenticatedRoute path={rootPath + \"/recipe/add\"}>\n\t\t\t\t<AddRecipe/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t<AuthenticatedRoute path={rootPath + \"/recipe/edit/:id\"}>\n\t\t\t\t<EditRecipe/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t<AuthenticatedRoute path={rootPath + \"/api\"}>\n\t\t\t\t<Api/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/custom\"}>\n\t\t\t\t<Custom/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/resource\"}>\n\t\t\t\t<Resource/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/daemon\"}>\n\t\t\t\t<Daemon/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/frontend\"}>\n\t\t\t\t<Frontend/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/config\"}>\n\t\t\t\t<Config/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/recipe\"}>\n\t\t\t\t<Recipe/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/soajs/api\"}>\n\t\t\t\t<SoajsApi/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/soajs/frontend\"}>\n\t\t\t\t<SoajsFrontend/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t\n\t\t\t<Route\n\t\t\t\trender={() => {\n\t\t\t\t\treturn (<Redirect to={rootPath + defaultPath}/>)\n\t\t\t\t}}/>\n\t\t</Switch>\n\t)\n}","import {Nav, Navbar, NavDropdown} from \"react-bootstrap\";\nimport React from \"react\";\nimport {LinkContainer} from \"react-router-bootstrap\";\nimport {useTranslation} from \"react-i18next\";\n\nfunction Navigation() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst rootPath = \"/catalogs\";\n\treturn (\n\t\t<Navbar collapseOnSelect expand=\"md\" className=\"pt-0 pb-0\" bg=\"secondary\" variant=\"light\">\n\t\t\t<span></span>\n\t\t\t<Navbar.Toggle aria-controls=\"catalog-navbar-nav\"/>\n\t\t\t<Navbar.Collapse id=\"catalog-navbar-nav\" className=\"justify-content-end\">\n\t\t\t\t<Nav activeKey={window.location.pathname}>\n\t\t\t\t\t{/*<LinkContainer to={rootPath + \"/application\"}>*/}\n\t\t\t\t\t{/*\t<NavDropdown.Item><small>{t(\"soajs:menu.Application\")}</small></NavDropdown.Item>*/}\n\t\t\t\t\t{/*</LinkContainer>*/}\n\t\t\t\t\t{/*<LinkContainer to={rootPath + \"/event\"}>*/}\n\t\t\t\t\t{/*\t<NavDropdown.Item><small>{t(\"soajs:menu.Event\")}</small></NavDropdown.Item>*/}\n\t\t\t\t\t{/*</LinkContainer>*/}\n\t\t\t\t\t{/*<LinkContainer to={rootPath + \"/topic\"}>*/}\n\t\t\t\t\t{/*\t<NavDropdown.Item><small>{t(\"soajs:menu.Topic\")}</small></NavDropdown.Item>*/}\n\t\t\t\t\t{/*</LinkContainer>*/}\n\t\t\t\t\t<LinkContainer to={rootPath + \"/api\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.API\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/daemon\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Daemon\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/frontend\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Frontend\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/custom\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Custom\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/resource\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Resource\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\n\t\t\t\t\t<LinkContainer to={rootPath + \"/git/repositories\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.GitRepositories\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\n\t\t\t\t\t<NavDropdown className=\"small\" alignRight title={t(\"soajs:menu.Deployment\")}\n\t\t\t\t\t             id=\"collasible-nav1-dropdown\">\n\t\t\t\t\t\t<LinkContainer to={rootPath + \"/config\"}>\n\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Config\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to={rootPath + \"/recipe\"}>\n\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Recipe\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t</NavDropdown>\n\t\t\t\t\t\n\t\t\t\t\t<NavDropdown className=\"small\" alignRight title={t(\"soajs:menu.SOAJS\")}\n\t\t\t\t\t             id=\"collasible-nav1-dropdown\">\n\t\t\t\t\t\t<LinkContainer to={rootPath + \"/soajs/api\"}>\n\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.API\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to={rootPath + \"/soajs/frontend\"}>\n\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Frontend\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t</NavDropdown>\n\t\t\t\t</Nav>\n\t\t\t</Navbar.Collapse>\n\t\t</Navbar>\n\t);\n}\n\nexport default Navigation","import React from \"react\";\nimport {Container} from \"react-bootstrap\";\n\nimport Routes from \"./Routes\";\nimport Navigation from \"./Navigation\";\n\nexport default function Catalogs() {\n\treturn (\n\t\t<>\n\t\t\t<Navigation/>\n\t\t\t<div className=\"bg-dark pt-1\"></div>\n\t\t\t<div className=\"main-area\">\n\t\t\t\t<Container className=\"mt-3 mb-3\">\n\t\t\t\t\t<Routes/>\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t</>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {UracService} from \"../../../../soajs/urac/services\";\n\nconst uracService = UracService.getService();\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait uracService.deleteUser(modalOpt.opts._id);\n\t\t\tNotificationManager.success(t(\"soajs:messages.deleteUser\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>{t(\"soajs:messages.deleteQuestion\")}</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, ListGroup, ListGroupItem, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nfunction getDate(timestamp) {\n\tlet dateStr = \"\";\n\tif (timestamp) {\n\t\tlet date = new Date(timestamp);\n\t\tdateStr = dateStr +\n\t\t\tdate.getDate() +\n\t\t\t\"/\" + (date.getMonth() + 1) +\n\t\t\t\"/\" + date.getFullYear();\n\t}\n\treturn dateStr;\n}\n\nexport default function InfoModal({modalOpt, setModalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\", \"organization\"]);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\t\n\treturn (\n\t\tmodalOpt.opts &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.userInfo\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t{t(\"soajs:fields.Username\")}:</span> {modalOpt.opts.username}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t{t(\"soajs:fields.LastLogin\")}:</span> {getDate(modalOpt.opts.lastLogin)}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t{t(\"soajs:fields.JoinedOn\")}:</span> {getDate(modalOpt.opts.ts)}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{t(\"soajs:fields.FirstName\")}:</span> {modalOpt.opts.firstName}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{t(\"soajs:fields.LastName\")}:</span> {modalOpt.opts.lastName}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t{t(\"soajs:fields.Email\")}:</span> {modalOpt.opts.email}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t{t(\"soajs:fields.Groups\")}:</span> {modalOpt.opts.groups && modalOpt.opts.groups.join(\", \")}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t{t(\"soajs:fields.Status\")}:</span> {modalOpt.opts.status}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t</ListGroup>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Ok\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form, Col} from \"react-bootstrap\";\nimport React, {useState, useEffect} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {UracService} from \"../../../../soajs/urac/services\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport _ from \"lodash\";\n\nconst uracService = UracService.getService();\nconst fieldsInit = {\n\t\"id\": \"\",\n\t\"username\": \"\",\n\t\"email\": \"\",\n\t\"firstName\": \"\",\n\t\"lastName\": \"\",\n\t\"status\": \"\"\n};\n\nexport default function EditModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState(fieldsInit);\n\tconst [groupsFields, setGroupsFields] = useState([]);\n\tconst [groups, setGroups] = useState(null);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait uracService.updateUser(\n\t\t\t\t{\n\t\t\t\t\t\"id\": modalOpt.opts._id,\n\t\t\t\t\t\"username\": fields.username,\n\t\t\t\t\t\"email\": fields.email,\n\t\t\t\t\t\"firstName\": fields.firstName,\n\t\t\t\t\t\"lastName\": fields.lastName,\n\t\t\t\t\t\"status\": fields.status,\n\t\t\t\t\t\"groups\": groups //|| modalOpt.opts.groups || null\n\t\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.editUser\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction onChangeGroup(checked, code) {\n\t\tif (checked) {\n\t\t\tlet g = groups\n\t\t\tif (!g) {\n\t\t\t\tg = [];\n\t\t\t}\n\t\t\tg.push(code);\n\t\t\tsetGroups(g)\n\t\t} else {\n\t\t\tlet g = groups\n\t\t\tif (g) {\n\t\t\t\t_.pull(g, code);\n\t\t\t\tsetGroups(g);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.email.length > 0 &&\n\t\t\tfields.username.length > 4 &&\n\t\t\tfields.firstName.length > 0 &&\n\t\t\tfields.lastName.length > 0\n\t\t);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (modalOpt.opts) {\n\t\t\t\t\tconst _groups = await uracService.getGroups();\n\t\t\t\t\tlet _g = null;\n\t\t\t\t\tif (_groups) {\n\t\t\t\t\t\t_g = [];\n\t\t\t\t\t\tfor (let i = 0; i < _groups.length; i++) {\n\t\t\t\t\t\t\tlet _item = {\n\t\t\t\t\t\t\t\t\"code\": _groups[i].code,\n\t\t\t\t\t\t\t\t\"name\": _groups[i].name,\n\t\t\t\t\t\t\t\t\"selected\": false\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tif (modalOpt.opts.groups && modalOpt.opts.groups.includes(_item.code)) {\n\t\t\t\t\t\t\t\t_item.selected = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t_g.push(_item);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\t\tsetGroupsFields(_g);\n\t\t\t\t\t\t\tif (modalOpt.opts.groups && Array.isArray(modalOpt.opts.groups)) {\n\t\t\t\t\t\t\t\tsetGroups([...modalOpt.opts.groups]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\tsetFields({\n\t\t\t\t\t\t\t\"id\": modalOpt.opts._id,\n\t\t\t\t\t\t\t\"username\": modalOpt.opts.username,\n\t\t\t\t\t\t\t\"email\": modalOpt.opts.email,\n\t\t\t\t\t\t\t\"firstName\": modalOpt.opts.firstName,\n\t\t\t\t\t\t\t\"lastName\": modalOpt.opts.lastName,\n\t\t\t\t\t\t\t\"status\": modalOpt.opts.status\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\tsetGroupsFields([]);\n\t\t\t\t\t\tsetGroups(null);\n\t\t\t\t\t\tsetFields(fieldsInit);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad()\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.editUser\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t{fields &&\n\t\t\t\t<Form onSubmit={(event) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}}>\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Username\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.username}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Email\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.email}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.FirstName\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"firstName\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.firstName}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.LastName\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"lastName\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.lastName}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Status\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control as=\"select\" id=\"status\"\n\t\t\t\t\t\t\t              defaultValue={fields.status}\n\t\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"active\">active</option>\n\t\t\t\t\t\t\t\t<option value=\"inactive\">inactive</option>\n\t\t\t\t\t\t\t\t<option value=\"pendingNew\">pendingNew</option>\n\t\t\t\t\t\t\t\t<option value=\"pendingJoin\">pendingJoin</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t</Form>\n\t\t\t\t}\n\t\t\t\t<hr/>\n\t\t\t\t{groupsFields.map((group, index) => (\n\t\t\t\t\t<Form.Check key={index + 1} type=\"switch\"\n\t\t\t\t\t            label={group.code + \" - \" + group.name}\n\t\t\t\t\t            id={group.code}\n\t\t\t\t\t            defaultChecked={group.selected}\n\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t            onChangeGroup(event.target.checked, group.code)\n\t\t\t\t\t            }}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleSubmit}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form, Col} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport _ from \"lodash\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {UracService} from \"../../../../soajs/urac/services\";\n\nconst uracService = UracService.getService();\nconst initFields = {\n\t\"user\": \"\",\n\t\"email\": \"\",\n\t\"username\": \"\",\n\t\"firstName\": \"\",\n\t\"lastName\": \"\",\n\t\"groups\": []\n};\nexport default function AddModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\tconst [fields, setFields] = useState(initFields);\n\tconst [groupFields, setGroupFields] = useState([]);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.email.length > 0 &&\n\t\t\tfields.username.length > 4 &&\n\t\t\tfields.firstName.length > 0 &&\n\t\t\tfields.lastName.length > 0 &&\n\t\t\tfields.groups.length > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: event.target.value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait uracService.addUser(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.addUser\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction onChangeGroup(checked, code) {\n\t\tif (checked) {\n\t\t\tfields.groups.push(code);\n\t\t} else {\n\t\t\t_.pull(fields.groups, code);\n\t\t}\n\t\tsetFields({...fields});\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tconst _groups = await uracService.getGroups();\n\t\t\t\tlet _g = null;\n\t\t\t\tif (_groups) {\n\t\t\t\t\t_g = [];\n\t\t\t\t\tfor (let i = 0; i < _groups.length; i++) {\n\t\t\t\t\t\tlet _item = {\n\t\t\t\t\t\t\t\"code\": _groups[i].code,\n\t\t\t\t\t\t\t\"name\": _groups[i].name,\n\t\t\t\t\t\t\t\"selected\": false\n\t\t\t\t\t\t};\n\t\t\t\t\t\t_g.push(_item);\n\t\t\t\t\t}\n\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\tsetGroupFields(_g);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetFields(initFields);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.userAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Username\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.username}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Email\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.email}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.FirstName\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"firstName\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.firstName}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.LastName\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"lastName\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.lastName}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{groupFields.map((group, index) => (\n\t\t\t\t\t\t\t<Form.Check key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t            label={group.code + \" - \" + group.name}\n\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t            onChangeGroup(event.target.checked, group.code)\n\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport {Table, Button, Form, Row, Col, Jumbotron} from \"react-bootstrap\";\n\nimport {useTranslation} from \"react-i18next\";\nimport {GoDiffAdded} from \"react-icons/go\";\nimport {BiSearchAlt} from \"react-icons/bi\";\n\nimport AutoPagination from \"../../../../lib/AutoPagination\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {UracService} from \"../../../../soajs/urac/services\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nimport DeleteButton from \"../../../buttons/Delete\";\nimport ViewButton from \"../../../buttons/View\";\nimport EditButton from \"../../../buttons/Edit\";\n\nimport DeleteModal from \"./DeleteModal\"\nimport InfoModal from \"./InfoModal\"\nimport EditModal from \"./EditModal\"\nimport AddModal from \"./AddModal\"\n\nconst uracService = UracService.getService();\n\nasync function onLoad(setFields, isSubscribed, setPagination, currentPage, criteria) {\n\ttry {\n\t\tlet c = {\"limit\": 50, \"start\": (currentPage - 1) * 50};\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords && criteria.keywords !== \"\") {\n\t\t\t\tc.keywords = criteria.keywords;\n\t\t\t}\n\t\t}\n\t\tconst users = await uracService.getUsers(null, null, c);\n\t\tconst usersCount = await uracService.getUsersCount(null, null, c);\n\t\tif (users && Array.isArray(users) && users.length > 0) {\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields(users);\n\t\t\t\tsetPagination(\n\t\t\t\t\t{\n\t\t\t\t\t\t\"totalItems\": usersCount,\n\t\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\t\"itemsPerPage\": c.limit\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields(null);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Users() {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\", \"organization\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [modalInfoOpt, setModalInfoOpt] = useState({\"show\": false, opts: null});\n\tconst modalInfoOptShow = (opt) => setModalInfoOpt({\"show\": true, opts: opt});\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, opts: null});\n\tconst modalDeleteOptShow = (opt) => setModalDeleteOpt({\"show\": true, opts: opt});\n\tconst [modalEditOpt, setModalEditOpt] = useState({\"show\": false, opts: null});\n\tconst modalEditOptShow = (opt) => setModalEditOpt({\"show\": true, opts: opt});\n\tconst [modalAddOpt, setModalAddOpt] = useState({\"show\": false, opts: null});\n\tconst modalAddOptShow = (opt) => setModalAddOpt({\"show\": true, opts: opt});\n\t\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [criteria, setCriteria] = useState({\n\t\t\"keywords\": \"\"\n\t});\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait onLoad(setFields, true, setPagination, 1, criteria);\n\t}\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function reLoad(page) {\n\t\tawait onLoad(setFields, true, setPagination, page || currentPage, criteria)\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tonLoad(setFields, isSubscribed, setPagination, 1, null);\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\tfields && (\n\t\t\t<>\n\t\t\t\t<AddModal\n\t\t\t\t\tmodalOpt={modalAddOpt}\n\t\t\t\t\tsetModalOpt={setModalAddOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<EditModal\n\t\t\t\t\tmodalOpt={modalEditOpt}\n\t\t\t\t\tsetModalOpt={setModalEditOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<DeleteModal\n\t\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<InfoModal\n\t\t\t\t\tmodalOpt={modalInfoOpt}\n\t\t\t\t\tsetModalOpt={setModalInfoOpt}\n\t\t\t\t/>\n\t\t\t\t<div>\n\t\t\t\t\t<h4 className=\"float-left\">{t(\"soajs:titles.users\")}</h4>\n\t\t\t\t\t{ability.can('user', 'add') &&\n\t\t\t\t\t<Button variant=\"success\" className=\"float-right\" size=\"sm\"\n\t\t\t\t\t        onClick={()=>modalAddOptShow(null)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t\t</Button>}\n\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t</div>\n\t\t\t\t<hr/>\n\t\t\t\t<Jumbotron className=\"p-3\">\n\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col xs={9} md={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"keywords\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tvalue={criteria.keywords}\n\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col xs={3} md={2}>\n\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Jumbotron>\n\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>{t(\"soajs:buttons.Actions\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.FirstName\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.LastName\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Email\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Groups\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Status\")}</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t{fields.map((user, index) => (\n\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t<td nowrap=\"true\">\n\t\t\t\t\t\t\t\t<ViewButton\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalInfoOptShow(user);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ability.can('user', 'delete') &&\n\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow(user);\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{ability.can('user', 'edit') &&\n\t\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalEditOptShow(user);\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>{user.firstName}</td>\n\t\t\t\t\t\t\t<td>{user.lastName}</td>\n\t\t\t\t\t\t\t<td>{user.email}</td>\n\t\t\t\t\t\t\t<td>{user.groups && user.groups.join(\", \")}</td>\n\t\t\t\t\t\t\t<td>{user.status}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t\t</tbody>\n\t\t\t\t</Table>\n\t\t\t\t{fields.length > 0 ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\t\treLoad(p);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t\t</>\n\t\t\t\t) : null}\n\t\t\t</>\n\t\t)\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {UracService} from \"../../../../soajs/urac/services\";\n\nconst uracService = UracService.getService();\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait uracService.deleteGroup(modalOpt.opts._id);\n\t\t\tNotificationManager.success(t(\"soajs:messages.deleteGroup\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>{t(\"soajs:messages.deleteQuestion\")}</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, ListGroup, ListGroupItem, Modal, Accordion, Card, Form} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function InfoModal({modalOpt, setModalOpt, product}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [productFields, setProductFields] = useState([]);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (product && modalOpt.opts) {\n\t\t\tlet item = {};\n\t\t\titem.code = product.code;\n\t\t\titem.name = product.name;\n\t\t\titem.description = product.description;\n\t\t\titem.packages = [];\n\t\t\tfor (let j = 0; j < product.packages.length; j++) {\n\t\t\t\titem.packages.push({\n\t\t\t\t\t\"code\": product.packages[j].code,\n\t\t\t\t\t\"name\": product.packages[j].name,\n\t\t\t\t\t\"selected\": (\n\t\t\t\t\t\tmodalOpt.opts && modalOpt.opts.config && modalOpt.opts.config.allowedPackages &&\n\t\t\t\t\t\tmodalOpt.opts.config.allowedPackages[product.code] &&\n\t\t\t\t\t\tmodalOpt.opts.config.allowedPackages[product.code].includes(product.packages[j].code)\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t}\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetProductFields([item]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetProductFields(null);\n\t\t\t}\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [product, modalOpt]);\n\t\n\treturn (\n\t\tmodalOpt.opts &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.groupInfo\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{t(\"soajs:fields.Code\")}:</span> {modalOpt.opts.code}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{t(\"soajs:fields.Name\")}:</span> {modalOpt.opts.name}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t{t(\"soajs:fields.Description\")}:</span> {modalOpt.opts.description}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t</ListGroup>\n\t\t\t\t<hr/>\n\t\t\t\t<Accordion defaultActiveKey={1}>\n\t\t\t\t\t{productFields && productFields.map((item, index) => (\n\t\t\t\t\t\t<Card key={index + 1}>\n\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\"\n\t\t\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t{item.code} - {item.name}\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<small className=\"font-italic\">{item.description}</small>\n\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t{item.packages.map((pack, index) => (\n\t\t\t\t\t\t\t\t\t\t<Form.Check key={index + 1} type=\"switch\" disabled\n\t\t\t\t\t\t\t\t\t\t            label={pack.code + \" - \" + pack.name}\n\t\t\t\t\t\t\t\t\t\t            checked={pack.selected}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t))}\n\t\t\t\t</Accordion>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Ok\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Accordion, Card, Form, Col} from \"react-bootstrap\";\nimport React, {useState, useEffect} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {UracService} from \"../../../../soajs/urac/services\";\nimport _ from \"lodash\";\n\nconst uracService = UracService.getService();\nconst fieldsInit = {\n\t\"code\": \"\",\n\t\"name\": \"\",\n\t\"description\": \"\",\n\t\"id\": \"\",\n\t\"config\": {}\n};\n\nexport default function EditModal({modalOpt, setModalOpt, handleAction, product}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\tconst [fields, setFields] = useState(fieldsInit);\n\tconst [productFields, setProductFields] = useState([]);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0\n\t\t);\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet packages = null;\n\t\t\tif (fields.config && fields.config.allowedPackages) {\n\t\t\t\tpackages = [];\n\t\t\t\tfor (let n in fields.config.allowedPackages) {\n\t\t\t\t\tpackages.push({\"product\": n, \"packages\": fields.config.allowedPackages[n]})\n\t\t\t\t}\n\t\t\t}\n\t\t\tawait uracService.editGroup(\n\t\t\t\t{\n\t\t\t\t\t\"id\": fields.id,\n\t\t\t\t\t\"name\": fields.name,\n\t\t\t\t\t\"description\": fields.description,\n\t\t\t\t\t\"packages\": packages\n\t\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.editGroup\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tfunction onChangePackage(checked, packCode, prodCode) {\n\t\tif (fields.config) {\n\t\t\tif (!fields.config.allowedPackages) {\n\t\t\t\tfields.config.allowedPackages = {};\n\t\t\t}\n\t\t\tif (checked) {\n\t\t\t\tif (!fields.config.allowedPackages[prodCode]) {\n\t\t\t\t\tfields.config.allowedPackages[prodCode] = [];\n\t\t\t\t}\n\t\t\t\tfields.config.allowedPackages[prodCode].push(packCode);\n\t\t\t} else {\n\t\t\t\tif (fields.config.allowedPackages[prodCode] && fields.config.allowedPackages[prodCode]) {\n\t\t\t\t\t_.pull(fields.config.allowedPackages[prodCode], packCode);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (modalOpt.opts) {\n\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\tsetFields({\n\t\t\t\t\t\t\t\"code\": modalOpt.opts.code,\n\t\t\t\t\t\t\t\"name\": modalOpt.opts.name,\n\t\t\t\t\t\t\t\"description\": modalOpt.opts.description,\n\t\t\t\t\t\t\t\"id\": modalOpt.opts._id,\n\t\t\t\t\t\t\t\"config\": _.merge({}, modalOpt.opts.config || {})\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet item = {};\n\t\t\t\t\t\titem.code = product.code;\n\t\t\t\t\t\titem.name = product.name;\n\t\t\t\t\t\titem.description = product.description;\n\t\t\t\t\t\titem.packages = [];\n\t\t\t\t\t\tfor (let j = 0; j < product.packages.length; j++) {\n\t\t\t\t\t\t\titem.packages.push({\n\t\t\t\t\t\t\t\t\"code\": product.packages[j].code,\n\t\t\t\t\t\t\t\t\"name\": product.packages[j].name,\n\t\t\t\t\t\t\t\t\"selected\": (\n\t\t\t\t\t\t\t\t\tmodalOpt.opts && modalOpt.opts.config && modalOpt.opts.config.allowedPackages &&\n\t\t\t\t\t\t\t\t\tmodalOpt.opts.config.allowedPackages[product.code] &&\n\t\t\t\t\t\t\t\t\tmodalOpt.opts.config.allowedPackages[product.code].includes(product.packages[j].code)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\t\tsetProductFields([item]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\tsetProductFields(null);\n\t\t\t\t\t\tsetFields(fieldsInit);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt, product]);\n\t\n\treturn (\n\t\tmodalOpt.opts &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.groupEdit\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"organization:groups.code\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t{fields.code}\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"organization:groups.name\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"organization:groups.description\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Accordion defaultActiveKey={1}>\n\t\t\t\t\t\t\t{productFields && productFields.map((item, index) => (\n\t\t\t\t\t\t\t\t<Card key={index + 1}>\n\t\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t{item.code} - {item.name}\n\t\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<small className=\"font-italic\">{item.description}</small>\n\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t{item.packages.map((pack, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check key={index + 1} type=\"switch\"\n\t\t\t\t\t\t\t\t\t\t\t\t            label={pack.code + \" - \" + pack.name}\n\t\t\t\t\t\t\t\t\t\t\t\t            defaultChecked={pack.selected}\n\t\t\t\t\t\t\t\t\t\t\t\t            id={pack.code}\n\t\t\t\t\t\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t            onChangePackage(event.target.checked, pack.code, item.code)\n\t\t\t\t\t\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleSubmit}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form, Card, Col} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport _ from \"lodash\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {UracService} from \"../../../../soajs/urac/services\";\nimport {MultitenantService} from \"../../../../services\";\n\nconst uracService = UracService.getService();\nconst multitenantService = MultitenantService.getService();\nconst initFields = {\n\t\"code\": \"\",\n\t\"name\": \"\",\n\t\"description\": \"\",\n\t\"config\": {}\n};\n\nexport default function AddModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\tconst [fields, setFields] = useState(initFields);\n\tconst [productFields, setProductFields] = useState({\n\t\t\"code\": \"\",\n\t\t\"name\": \"\",\n\t\t\"description\": \"\",\n\t\t\"packages\": []\n\t});\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.code.length > 0 &&\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: event.target.value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet packages = null;\n\t\t\tif (fields.config && fields.config.allowedPackages) {\n\t\t\t\tpackages = [];\n\t\t\t\tfor (let n in fields.config.allowedPackages) {\n\t\t\t\t\tpackages.push({\"product\": n, \"packages\": fields.config.allowedPackages[n]})\n\t\t\t\t}\n\t\t\t}\n\t\t\tawait uracService.addGroup(\n\t\t\t\t{\n\t\t\t\t\t\"code\": fields.code,\n\t\t\t\t\t\"name\": fields.name,\n\t\t\t\t\t\"description\": fields.description,\n\t\t\t\t\t\"packages\": packages\n\t\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.addGroup\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction onChangePackage(checked, packCode, prodCode) {\n\t\tif (fields.config) {\n\t\t\tif (!fields.config.allowedPackages) {\n\t\t\t\tfields.config.allowedPackages = {};\n\t\t\t}\n\t\t\tif (checked) {\n\t\t\t\tif (!fields.config.allowedPackages[prodCode]) {\n\t\t\t\t\tfields.config.allowedPackages[prodCode] = [];\n\t\t\t\t}\n\t\t\t\tfields.config.allowedPackages[prodCode].push(packCode);\n\t\t\t} else {\n\t\t\t\tif (fields.config.allowedPackages[prodCode] && fields.config.allowedPackages[prodCode]) {\n\t\t\t\t\t_.pull(fields.config.allowedPackages[prodCode], packCode);\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetFields({...fields});\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tconst product = await multitenantService.getMyConsoleProduct();\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tlet item = {};\n\t\t\t\t\titem.code = product.code;\n\t\t\t\t\titem.name = product.name;\n\t\t\t\t\titem.description = product.description;\n\t\t\t\t\titem.packages = [];\n\t\t\t\t\tfor (let j = 0; j < product.packages.length; j++) {\n\t\t\t\t\t\titem.packages.push({\n\t\t\t\t\t\t\t\"code\": product.packages[j].code,\n\t\t\t\t\t\t\t\"name\": product.packages[j].name\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tsetProductFields(item);\n\t\t\t\t\tsetFields(initFields);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.groupAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"soajs:fields.Code\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"code\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tvalue={fields.code}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{productFields.code} - {productFields.name}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<small className=\"font-italic\">{productFields.description}</small>\n\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t{productFields.packages.map((pack, index) => (\n\t\t\t\t\t\t\t\t\t<Form.Check key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t\t\t            label={pack.code + \" - \" + pack.name}\n\t\t\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t            onChangePackage(event.target.checked, pack.code, productFields.code)\n\t\t\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport {Table, Button} from \"react-bootstrap\";\n\nimport {GoDiffAdded} from \"react-icons/go\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../services\";\nimport {UracService} from \"../../../../soajs/urac/services\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\nimport {useTranslation} from \"react-i18next\";\n\nimport DeleteModal from \"./DeleteModal\"\nimport InfoModal from \"./InfoModal\"\nimport EditModal from \"./EditModal\"\nimport AddModal from \"./AddModal\"\nimport DeleteButton from \"../../../buttons/Delete\";\nimport ViewButton from \"../../../buttons/View\";\nimport EditButton from \"../../../buttons/Edit\";\n\nconst uracService = UracService.getService();\nconst multitenantService = MultitenantService.getService();\n\nasync function onLoad(setFields, isSubscribed, setMyProduct) {\n\ttry {\n\t\tconst groups = await uracService.getGroups();\n\t\tconst product = await multitenantService.getMyConsoleProduct();\n\t\tif (groups && Array.isArray(groups) && groups.length > 0) {\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields(groups);\n\t\t\t}\n\t\t} else {\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields(null);\n\t\t\t}\n\t\t}\n\t\tif (isSubscribed) {\n\t\t\tsetMyProduct(product);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Groups() {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\", \"organization\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [myProduct, setMyProduct] = useState(null);\n\t\n\tconst [modalInfoOpt, setModalInfoOpt] = useState({\"show\": false, opts: null});\n\tconst modalInfoOptShow = (opt) => setModalInfoOpt({\"show\": true, opts: opt});\n\t\n\tconst [modalEditOpt, setModalEditOpt] = useState({\"show\": false, opts: null});\n\tconst modalEditOptShow = (opt) => setModalEditOpt({\"show\": true, opts: opt});\n\t\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, opts: null});\n\tconst modalDeleteOptShow = (opt) => setModalDeleteOpt({\"show\": true, opts: opt});\n\t\n\tconst [modalAddOpt, setModalAddOpt] = useState({\"show\": false, opts: null});\n\tconst modalAddOptShow = (opt) => setModalAddOpt({\"show\": true, opts: opt});\n\t\n\tasync function reLoad() {\n\t\tawait onLoad(setFields, true, setMyProduct)\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tonLoad(setFields, isSubscribed, setMyProduct);\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\tfields && (\n\t\t\t<>\n\t\t\t\t<AddModal\n\t\t\t\t\tmodalOpt={modalAddOpt}\n\t\t\t\t\tsetModalOpt={setModalAddOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<DeleteModal\n\t\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<EditModal\n\t\t\t\t\tmodalOpt={modalEditOpt}\n\t\t\t\t\tsetModalOpt={setModalEditOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t\tproduct={myProduct}\n\t\t\t\t/>\n\t\t\t\t<InfoModal\n\t\t\t\t\tmodalOpt={modalInfoOpt}\n\t\t\t\t\tsetModalOpt={setModalInfoOpt}\n\t\t\t\t\tproduct={myProduct}\n\t\t\t\t/>\n\t\t\t\t<div>\n\t\t\t\t\t<h4 className=\"float-left\">{t(\"soajs:titles.groups\")}</h4>\n\t\t\t\t\t{ability.can('group', 'add') &&\n\t\t\t\t\t<Button variant=\"success\" className=\"float-right\" size=\"sm\"\n\t\t\t\t\t        onClick={() => modalAddOptShow(null)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t\t</Button>}\n\t\t\t\t</div>\n\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>{t(\"soajs:buttons.Actions\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Code\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Name\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Description\")}</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t{fields.map((group, index) => (\n\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t<td nowrap=\"true\">\n\t\t\t\t\t\t\t\t<ViewButton\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalInfoOptShow(group);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ability.can('group', 'delete') &&\n\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow(group);\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{ability.can('group', 'edit') &&\n\t\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalEditOptShow(group);\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>{group.code}</td>\n\t\t\t\t\t\t\t<td>{group.name}</td>\n\t\t\t\t\t\t\t<td>{group.description}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t\t</tbody>\n\t\t\t\t</Table>\n\t\t\t</>\n\t\t)\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../services\";\n\nconst multitenantService = MultitenantService.getService();\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait multitenantService.deleteConsolepackage({\"code\": modalOpt.opts.code, \"id\": modalOpt.opts._id});\n\t\t\tNotificationManager.success(t(\"soajs:messages.deletePackage\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\t\n\t\treturn (\n\t\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>{t(\"soajs:messages.deleteQuestion\")}</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t);\n\t}","import {Alert, Button, Col, Row, Badge} from \"react-bootstrap\";\nimport React from \"react\";\n\nimport APIs from \"../../../../../../availableAbilities\";\nimport {BsUnlockFill} from \"react-icons/bs\";\n\nconst methodVariant = {\n\t\"get\": \"primary\",\n\t\"post\": \"success\",\n\t\"delete\": \"danger\",\n\t\"put\": \"warning\",\n\t\"patch\": \"info\",\n\t\"head\": \"secondary\",\n\t\"other\": \"light\"\n};\n\nfunction getMethodVariant(method) {\n\tif (method && methodVariant[method]) {\n\t\treturn methodVariant[method];\n\t} else {\n\t\treturn methodVariant[\"other\"];\n\t}\n}\n\nfunction DisplayAbility({method, service, api, version, name, apiAbility}) {\n\tlet restricted = (service && service[version].apisPermission === \"restricted\");\n\tlet available = false;\n\tif (restricted) {\n\t\tif (service && service[version] && service[version][method] && service[version][method].apis && service[version][method].apis[api]) {\n\t\t\tavailable = true;\n\t\t}\n\t} else if (service) {\n\t\tavailable = true;\n\t}\n\t\n\treturn (\n\t\tapiAbility &&\n\t\t<div>\n\t\t\t{available ?\n\t\t\t\t<Alert variant={getMethodVariant(method)}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col className=\"font-weight-bold small\">\n\t\t\t\t\t\t\t{apiAbility.M}<br/>\n\t\t\t\t\t\t\t{apiAbility.isPublic &&\n\t\t\t\t\t\t\t<span className=\"font-weight-bold text-info small\"><BsUnlockFill\n\t\t\t\t\t\t\t\tclassName=\"mb-1\"/> Public</span>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col className=\"small\" lg={2}>\n\t\t\t\t\t\t\t<span className=\"font-weight-bold small\">Available</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col className=\"small\">\n\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 p-1 float-left\"\n\t\t\t\t\t\t\t        variant={getMethodVariant(method)}><small>{method.toUpperCase()}</small></Button>\n\t\t\t\t\t\t\t<span className=\"float-left mt-1\"><Badge variant=\"info\"\n\t\t\t\t\t\t\t                                         className=\"mr-1\">{name}</Badge>{api}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t\t:\n\t\t\t\t<Alert variant=\"light\" className=\"border-dark\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col className=\"small\">\n\t\t\t\t\t\t\t{apiAbility.M}<br/>\n\t\t\t\t\t\t\t{apiAbility.isPublic &&\n\t\t\t\t\t\t\t<span className=\"font-weight-bold text-info small\"><BsUnlockFill\n\t\t\t\t\t\t\t\tclassName=\"mb-1\"/> Public</span>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col className=\"small\" lg={2}>\n\t\t\t\t\t\t\t<span className=\"font-weight-bold small\">Not available</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col className=\"small\">\n\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 p-1 float-left\"\n\t\t\t\t\t\t\t        variant={getMethodVariant(method)}><small>{method.toUpperCase()}</small></Button>\n\t\t\t\t\t\t\t<span className=\"float-left mt-1\"><Badge variant=\"info\" className=\"mr-1\">{name}</Badge>{api}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t}\n\t\t</div>\n\t);\n}\n\nexport default function Granular({service, name, abilityPath}) {\n\t\n\treturn (\n\t\tservice ?\n\t\t\tObject.keys(service).map((version, index) => (\n\t\t\t\t<div key={index}>\n\t\t\t\t\t{APIs.versions[name] === version ?\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{Object.keys(methodVariant).map((method, index) => (\n\t\t\t\t\t\t\t\tAPIs[abilityPath][name] && APIs[abilityPath][name][method] &&\n\t\t\t\t\t\t\t\tObject.keys(APIs[abilityPath][name][method]).map((api, index) => (\n\t\t\t\t\t\t\t\t\t<DisplayAbility\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tmethod={method}\n\t\t\t\t\t\t\t\t\t\tservice={service}\n\t\t\t\t\t\t\t\t\t\tapi={api}\n\t\t\t\t\t\t\t\t\t\tversion={version}\n\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\tapiAbility={APIs[abilityPath][name][method][api]}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<span> wrong version for {name} @ {version}</span>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t))\n\t\t\t:\n\t\t\t<div>\n\t\t\t\t{Object.keys(methodVariant).map((method, index) => (\n\t\t\t\t\tAPIs[abilityPath][name] && APIs[abilityPath][name][method] &&\n\t\t\t\t\tObject.keys(APIs[abilityPath][name][method]).map((api, index) => (\n\t\t\t\t\t\t<DisplayAbility\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tmethod={method}\n\t\t\t\t\t\t\tservice={service}\n\t\t\t\t\t\t\tapi={api}\n\t\t\t\t\t\t\tversion={null}\n\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\tapiAbility={APIs[abilityPath][name][method][api]}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))\n\t\t\t\t))}\n\t\t\t</div>\n\t);\n}","function convert_scope_method_acl(tempScopeCursor, method, j, ACL) {\n\tif (tempScopeCursor[method][j].hasOwnProperty('apis')) {\n\t\tif (!ACL[method].apis) {\n\t\t\tACL[method].apis = {};\n\t\t}\n\t\tfor (let api in tempScopeCursor[method][j].apis) {\n\t\t\tif (tempScopeCursor[method][j].apis.hasOwnProperty(api)) {\n\t\t\t\tACL[method].apis[api] = tempScopeCursor[method][j].apis[api];\n\t\t\t\tACL[method].apis[api].group = tempScopeCursor[method][j].group;\n\t\t\t}\n\t\t}\n\t}\n\tif (tempScopeCursor[method][j].hasOwnProperty('apisRegExp')) {\n\t\tif (!ACL[method].apisRegExp) {\n\t\t\tACL[method].apisRegExp = {};\n\t\t}\n\t\tfor (let api in tempScopeCursor[method][j].apisRegExp) {\n\t\t\tif (tempScopeCursor[method][j].apisRegExp.hasOwnProperty(api)) {\n\t\t\t\tACL[method].apisRegExp[api] = tempScopeCursor[method][j].apisRegExp[api];\n\t\t\t\tACL[method].apisRegExp[api].group = tempScopeCursor[method][j].apisRegExp.group;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction getACL(tempScope, tempPack) {\n\tlet tempScopeCursor = JSON.parse(JSON.stringify(tempScope));\n\tlet tempPackCursor = JSON.parse(JSON.stringify(tempPack));\n\tlet ACL = {};\n\tif (tempScopeCursor.hasOwnProperty('access')) {\n\t\tACL.access = tempScopeCursor.access;\n\t}\n\tlet found_methods_in_package = 0;\n\tfor (let method in tempPackCursor) {\n\t\tif (method !== \"version\") {\n\t\t\tif (tempScopeCursor[method] && (tempPackCursor.hasOwnProperty(method))) {\n\t\t\t\tif (!ACL[method]) {\n\t\t\t\t\tACL[method] = {};\n\t\t\t\t}\n\t\t\t\tfor (let i = 0; i < tempPackCursor[method].length; i++) {\n\t\t\t\t\tfound_methods_in_package++;\n\t\t\t\t\tlet apigroup = tempPackCursor[method][i];\n\t\t\t\t\tfor (let j = 0; j < tempScopeCursor[method].length; j++) {\n\t\t\t\t\t\tif (tempScopeCursor[method][j].group === apigroup) {\n\t\t\t\t\t\t\tconvert_scope_method_acl(tempScopeCursor, method, j, ACL);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif (found_methods_in_package === 0) {\n\t\tfor (let method in tempScopeCursor) {\n\t\t\tif (tempScopeCursor.hasOwnProperty(method)) {\n\t\t\t\tif (method !== \"access\" && method !== \"apisPermission\" && method !== \"packagesPermission\") {\n\t\t\t\t\tACL[method] = {};\n\t\t\t\t\tfor (let j = 0; j < tempScopeCursor[method].length; j++) {\n\t\t\t\t\t\tconvert_scope_method_acl(tempScopeCursor, method, j, ACL);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tif (tempScopeCursor.hasOwnProperty('apisPermission')) {\n\t\tACL.apisPermission = tempScopeCursor.apisPermission;\n\t} else {\n\t\tif (tempScopeCursor.hasOwnProperty('packagesPermission')) {\n\t\t\tif (found_methods_in_package > 0) {\n\t\t\t\tACL.apisPermission = \"restricted\";\n\t\t\t}\n\t\t}\n\t}\n\treturn ACL;\n}\n\nexport default getACL;","import React, {useEffect, useState} from \"react\";\n\nimport Granular from \"./Granular\"\nimport getACL from \"../../lib/scopeAclLib\";\n\nexport default function Scope({service, scope, name, abilityPath}) {\n\tconst [fields, setFields] = useState(null);\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tif (service && scope) {\n\t\t\tlet ACL = {};\n\t\t\tfor (let i = 0; i < service.length; i++) {\n\t\t\t\tif (service[i].version) {\n\t\t\t\t\tlet version = service[i].version;\n\t\t\t\t\tif (scope[version]) {\n\t\t\t\t\t\tACL[version] = getACL(scope[version], service[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields(ACL);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn () => (isSubscribed = false);\n\t}, [service, scope]);\n\t\n\treturn (\n\t\tfields &&\n\t\t<Granular\n\t\t\tservice={fields}\n\t\t\tname={name}\n\t\t\tabilityPath={abilityPath}\n\t\t/>\n\t);\n}","import {Tab, Tabs, Accordion, Card, Button} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport Granular from \"./Granular\"\nimport Scope from \"./Scope\"\n\nimport APIs from \"../../../../../../availableAbilities\";\n\nimport config from \"../../../../../../config\";\nimport AbilitiesLabels from \"../../lib/AbilitiesLabels.json\";\n\nexport default function InfoModal({modalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\t\n\treturn (\n\t\tmodalOpt.opts &&\n\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"main\" id=\"abilities\">\n\t\t\t<Tab eventKey=\"main\" title={t(\"soajs:titles.MainAbilities\")}>\n\t\t\t\t{modalOpt.opts.acl && Object.keys(modalOpt.opts.acl).map((env, index) => (\n\t\t\t\t\tenv === config.consoleEnvironment &&\n\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t{Object.keys(APIs.abilities).map((service, index) => (\n\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t\t<Card.Header className=\"p-1\">\n\t\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t\t\t\t{AbilitiesLabels[service]}\n\t\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t{((!modalOpt.opts.acl[env][service]) || (modalOpt.opts.aclTypeByEnv && modalOpt.opts.aclTypeByEnv[env] && modalOpt.opts.aclTypeByEnv[env] === \"granular\")) ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Granular\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tservice={modalOpt.opts.acl[env][service]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={service}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tabilityPath={\"abilities\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Scope\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tservice={modalOpt.opts.acl[env][service]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope={modalOpt.scope.acl[env][service]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={service}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tabilityPath={\"abilities\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</Tab>\n\t\t\t<Tab eventKey=\"default\" title={t(\"soajs:titles.DefaultAbilities\")}>\n\t\t\t\t{modalOpt.opts.acl && Object.keys(modalOpt.opts.acl).map((env, index) => (\n\t\t\t\t\tenv === config.consoleEnvironment &&\n\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t{Object.keys(APIs.default).map((service, index) => (\n\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t\t<Card.Header className=\"p-1\">\n\t\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t\t\t\t{AbilitiesLabels[service]}\n\t\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t{((!modalOpt.opts.acl[env][service]) || (modalOpt.opts.aclTypeByEnv && modalOpt.opts.aclTypeByEnv[env] && modalOpt.opts.aclTypeByEnv[env] === \"granular\")) ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Granular\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tservice={modalOpt.opts.acl[env][service]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={service}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tabilityPath={\"default\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Scope\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tservice={modalOpt.opts.acl[env][service]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope={modalOpt.scope.acl[env][service]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={service}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tabilityPath={\"default\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</Tab>\n\t\t</Tabs>\n\t);\n}","import {Alert, Button, Col, ListGroup, ListGroupItem, Row, Tab, Tabs} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {BsLockFill, BsUnlockFill} from \"react-icons/bs\";\n\nfunction getAccess(access) {\n\t\n\treturn (\n\t\t<>\n\t\t\t<span className=\"font-weight-bold mr-3\">Service's APIs default access is:</span>\n\t\t\t{access ?\n\t\t\t\t<>\n\t\t\t\t\t<span className=\"font-weight-bold text-success\"><BsLockFill\n\t\t\t\t\t\tclassName=\"mb-1\"/> Private</span> - <span\n\t\t\t\t\tclassName=\"font-italic\">requires logged in user</span>\n\t\t\t\t</>\n\t\t\t\t:\n\t\t\t\t<>\n\t\t\t\t\t<span className=\"font-weight-bold text-info\"><BsUnlockFill className=\"mb-1\"/> Public</span>\n\t\t\t\t</>\n\t\t\t}\n\t\t</>\n\t);\n}\n\nconst methodVariant = {\n\t\"get\": \"primary\",\n\t\"post\": \"success\",\n\t\"delete\": \"danger\",\n\t\"put\": \"warning\",\n\t\"patch\": \"info\",\n\t\"head\": \"secondary\",\n\t\"other\": \"light\"\n};\n\nfunction getMethodVariant(method) {\n\tif (method && methodVariant[method]) {\n\t\treturn methodVariant[method];\n\t} else {\n\t\treturn methodVariant[\"other\"];\n\t}\n}\n\nfunction getApiAccess(api) {\n\tif (api.hasOwnProperty(\"access\")) {\n\t\treturn (\n\t\t\tapi.access ?\n\t\t\t\t(\n\t\t\t\t\t<span className=\"font-weight-bold\"><BsLockFill className=\"mb-1\"/> Private</span>\n\t\t\t\t)\n\t\t\t\t:\n\t\t\t\t(\n\t\t\t\t\t<span className=\"font-weight-bold\"><BsUnlockFill className=\"mb-1\"/> Public</span>\n\t\t\t\t)\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t\"Inherit from service\"\n\t\t);\n\t}\n}\n\nexport default function Granular({service}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\treturn (\n\t\t<Tabs defaultActiveKey=\"1\"\n\t\t      style={{borderBottom: \"1px solid #dee2e6\"}}\n\t\t>\n\t\t\t{Object.keys(service).map((version, index) => (\n\t\t\t\t<Tab key={index + 1} eventKey={index + 1}\n\t\t\t\t     title={t(\"soajs:fields.Version\") + \" \" + version}>\n\t\t\t\t\t<ListGroup variant=\"flush\" className=\"small mt-3\">\n\t\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t\t{getAccess(service[version].access)}\n\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">Access is restricted to the selected APIs:</span> {service[version].apisPermission === \"restricted\" ? \"Yes - only the selected APIs are accessible\" : \"No - all APIs are accessible\"}\n\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t</ListGroup>\n\t\t\t\t\t<hr/>\n\t\t\t\t\t{Object.keys(methodVariant).map((method, index) => (\n\t\t\t\t\t\tservice[version][method] && service[version][method].apis &&\n\t\t\t\t\t\tObject.keys(service[version][method].apis).map((api, index) => (\n\t\t\t\t\t\t\t<Alert key={index} variant={getMethodVariant(method)} className=\"m-1 p-2\">\n\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t<Col className=\"small\">\n\t\t\t\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 pl-1 pr-1 pt-0 pb-0 float-left\"\n\t\t\t\t\t\t\t\t\t\t        variant={getMethodVariant(method)}>{method.toUpperCase()}</Button>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<span className=\"float-left mt-1\">{api}</span>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col className=\"small\">\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"small\">{getApiAccess(service[version][method].apis[api])}</span>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col className=\"small\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"font-italic small\">\n\t\t\t\t\t\t\t\t\t\t\t{service[version][method].apis[api].group}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t))\n\t\t\t\t\t))}\n\t\t\t\t</Tab>\n\t\t\t))}\n\t\t</Tabs>\n\t);\n}","import React, {useEffect, useState} from \"react\";\n\nimport Granular from \"./Granular\"\nimport getACL from \"../../lib/scopeAclLib\";\n\nexport default function Scope({service, scope}) {\n\tconst [fields, setFields] = useState(null);\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tif (service && scope) {\n\t\t\tlet ACL = {};\n\t\t\tfor (let i = 0; i < service.length; i++) {\n\t\t\t\tif (service[i].version) {\n\t\t\t\t\tlet version = service[i].version;\n\t\t\t\t\tif (scope[version]) {\n\t\t\t\t\t\tACL[version] = getACL(scope[version], service[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields(ACL);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn () => (isSubscribed = false);\n\t}, [service, scope]);\n\t\n\treturn (\n\t\tfields &&\n\t\t<Granular\n\t\t\tservice={fields}\n\t\t/>\n\t);\n}","import {Button, Accordion, Card, Form, Alert} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport Granular from \"./Granular\"\nimport Scope from \"./Scope\"\nimport {NotificationManager} from \"../../../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../../../services\";\n\nimport _config from \"../../../../../../config\"\n\nconst consoleService = ConsoleService.getService();\n\nexport default function InfoModal({modalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [selectedEnv, setFSelectedEnv] = useState(null);\n\t\n\tfunction handleEnvChange(event) {\n\t\tsetFSelectedEnv(event.target.value);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tconst _environments = await consoleService.getEnvironments();\n\t\t\t\tif (_environments && isSubscribed) {\n\t\t\t\t\tlet envs = [];\n\t\t\t\t\tfor (let i = 0; i < _environments.length; i++) {\n\t\t\t\t\t\tenvs.push(_environments[i].code.toLowerCase());\n\t\t\t\t\t}\n\t\t\t\t\tsetFields(envs);\n\t\t\t\t\tlet selected_env = _config.consoleEnvironment;\n\t\t\t\t\tif (!envs.includes(selected_env)) {\n\t\t\t\t\t\tselected_env = envs[0] || null;\n\t\t\t\t\t}\n\t\t\t\t\tsetFSelectedEnv(selected_env);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\tmodalOpt.opts &&\n\t\t<>\n\t\t\t<Alert variant=\"info\">\n\t\t\t\t<Form.Control\n\t\t\t\t\tas=\"select\"\n\t\t\t\t\tid=\"env\"\n\t\t\t\t\tvalue={selectedEnv || \"\"}\n\t\t\t\t\tonChange={handleEnvChange}\n\t\t\t\t>\n\t\t\t\t\t<option value=\"\">--- {t(\"soajs:titles.selectEnvironment\")}</option>\n\t\t\t\t\t{fields.map((env, index) => (\n\t\t\t\t\t\t<option key={index} value={env}>{t(\"soajs:titles.environment\")}: {env}</option>\n\t\t\t\t\t))}\n\t\t\t\t</Form.Control>\n\t\t\t</Alert>\n\t\t\t<hr/>\n\t\t\t{selectedEnv && modalOpt.opts.acl && modalOpt.opts.acl[selectedEnv] &&\n\t\t\t<Accordion defaultActiveKey={1}>\n\t\t\t\t{Object.keys(modalOpt.opts.acl[selectedEnv]).map((service, index) => (\n\t\t\t\t\t<Card key={index + 1}>\n\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-1 pr-2 pl-2\">\n\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\"\n\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t{service}\n\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t{(modalOpt.opts.aclTypeByEnv && modalOpt.opts.aclTypeByEnv[selectedEnv] && modalOpt.opts.aclTypeByEnv[selectedEnv] === \"granular\") ?\n\t\t\t\t\t\t\t\t\t<Granular\n\t\t\t\t\t\t\t\t\t\tservice={modalOpt.opts.acl[selectedEnv][service]}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<Scope\n\t\t\t\t\t\t\t\t\t\tservice={modalOpt.opts.acl[selectedEnv][service]}\n\t\t\t\t\t\t\t\t\t\tscope={modalOpt.scope.acl[selectedEnv][service]}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</Accordion>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Form, ListGroup, ListGroupItem, Modal, Alert, Button} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport AbilityView from \"./Ability/InfoModal\"\nimport APIView from \"./API/InfoModal\"\n\nexport default function InfoModal({modalOpt, setModalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState({\n\t\t\"viewMode\": \"ability\"\n\t});\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null, scope: null});\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.opts) {\n\t\t\tif (modalOpt.opts.turnOffAbilityView) {\n\t\t\t\tsetFields({\n\t\t\t\t\t\"viewMode\": \"api\"\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\tmodalOpt.opts &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.packageInfo\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{t(\"soajs:fields.Code\")}:</span> {modalOpt.opts.code}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{t(\"soajs:fields.Name\")}:</span> {modalOpt.opts.name}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t{t(\"soajs:fields.Description\")}:</span> {modalOpt.opts.description}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t</ListGroup>\n\t\t\t\t<hr/>\n\t\t\t\t{!modalOpt.opts.turnOffAbilityView &&\n\t\t\t\t<Alert variant=\"dark\">\n\t\t\t\t\t<Form.Control as=\"select\" id=\"viewMode\"\n\t\t\t\t\t              defaultValue={fields.viewMode}\n\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t>\n\t\t\t\t\t\t<option value=\"ability\">Basic Abilities view</option>\n\t\t\t\t\t\t<option value=\"api\">Advanced API view</option>\n\t\t\t\t\t</Form.Control>\n\t\t\t\t</Alert>}\n\t\t\t\t\n\t\t\t\t{fields.viewMode === \"ability\" &&\n\t\t\t\t<AbilityView\n\t\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\t{fields.viewMode === \"api\" &&\n\t\t\t\t<APIView\n\t\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form, Col} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../services\";\n\n\nconst multitenantService = MultitenantService.getService();\n\nexport default function AddModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\tconst [fields, setFields] = useState({\n\t\t\"code\": \"\",\n\t\t\"name\": \"\",\n\t\t\"description\": \"\",\n\t\t\"_TTL\": \"168\"\n\t});\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.code.length === 5 &&\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: event.target.value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait multitenantService.addConsolepackage(\n\t\t\t\t{\n\t\t\t\t\t\"id\": modalOpt.opts._id,\n\t\t\t\t\t\"code\": fields.code,\n\t\t\t\t\t\"name\": fields.name,\n\t\t\t\t\t\"description\": fields.description,\n\t\t\t\t\t\"_TTL\": fields._TTL\n\t\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.addPackage\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.packageAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"soajs:fields.Code\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tplaceholder=\"5 characters code only\"\n\t\t\t\t\t\t\t\t\tid=\"code\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tvalue={fields.code}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"soajs:fields.TTL\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control as=\"select\" id=\"_TTL\"\n\t\t\t\t\t\t\t\t              value={fields._TTL}\n\t\t\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"12\">12 hours</option>\n\t\t\t\t\t\t\t\t\t<option value=\"24\">24 hours</option>\n\t\t\t\t\t\t\t\t\t<option value=\"48\">2 days</option>\n\t\t\t\t\t\t\t\t\t<option value=\"72\">3 days</option>\n\t\t\t\t\t\t\t\t\t<option value=\"96\">4 days</option>\n\t\t\t\t\t\t\t\t\t<option value=\"120\">5 days</option>\n\t\t\t\t\t\t\t\t\t<option value=\"144\">6 days</option>\n\t\t\t\t\t\t\t\t\t<option value=\"168\">7 days</option>\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form, Col} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../services\";\n\nconst multitenantService = MultitenantService.getService();\n\nexport default function EditModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\tconst [fields, setFields] = useState({\n\t\t\"code\": \"\",\n\t\t\"name\": \"\",\n\t\t\"description\": \"\",\n\t\t\"_TTL\": \"\"\n\t});\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.code.length > 0 &&\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: event.target.value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait multitenantService.editConsolepackage(\n\t\t\t\t{\n\t\t\t\t\t\"id\": modalOpt.opts._id,\n\t\t\t\t\t\"code\": fields.code,\n\t\t\t\t\t\"name\": fields.name,\n\t\t\t\t\t\"description\": fields.description,\n\t\t\t\t\t\"_TTL\": fields._TTL\n\t\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.editPackage\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt.opts) {\n\t\t\tsetFields({\n\t\t\t\t\"code\": modalOpt.opts.code,\n\t\t\t\t\"name\": modalOpt.opts.name,\n\t\t\t\t\"description\": modalOpt.opts.description,\n\t\t\t\t\"_TTL\": \"\" + modalOpt.opts._TTL / 3600000\n\t\t\t});\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.packageEdit\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"soajs:fields.Code\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"code\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\tvalue={fields.code}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={2}>{t(\"soajs:fields.TTL\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={10}>\n\t\t\t\t\t\t\t\t<Form.Control as=\"select\" id=\"_TTL\"\n\t\t\t\t\t\t\t\t              value={fields._TTL}\n\t\t\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"12\">12 hours</option>\n\t\t\t\t\t\t\t\t\t<option value=\"24\">24 hours</option>\n\t\t\t\t\t\t\t\t\t<option value=\"48\">2 days</option>\n\t\t\t\t\t\t\t\t\t<option value=\"72\">3 days</option>\n\t\t\t\t\t\t\t\t\t<option value=\"96\">4 days</option>\n\t\t\t\t\t\t\t\t\t<option value=\"120\">5 days</option>\n\t\t\t\t\t\t\t\t\t<option value=\"144\">6 days</option>\n\t\t\t\t\t\t\t\t\t<option value=\"168\">7 days</option>\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Alert, Badge, Button, Col, Form, Row} from \"react-bootstrap\";\nimport React from \"react\";\n\nimport APIs from \"../../../../../availableAbilities\";\nimport {BsUnlockFill} from \"react-icons/bs\";\n\nconst methodVariant = {\n\t\"get\": \"primary\",\n\t\"post\": \"success\",\n\t\"delete\": \"danger\",\n\t\"put\": \"warning\",\n\t\"patch\": \"info\",\n\t\"head\": \"secondary\",\n\t\"other\": \"light\"\n};\n\nfunction getMethodVariant(method) {\n\tif (method && methodVariant[method]) {\n\t\treturn methodVariant[method];\n\t} else {\n\t\treturn methodVariant[\"other\"];\n\t}\n}\n\nfunction DisplayAbility({\n\t                        method,\n\t                        service,\n\t                        api,\n\t                        version,\n\t                        name,\n\t                        apiAbility,\n\t                        index,\n\t                        addAbility,\n\t                        removeAbility,\n\t                        env,\n\t                        abilityPath\n                        }) {\n\tlet restricted = (service && service[version].apisPermission === \"restricted\");\n\tlet available = false;\n\tif (restricted) {\n\t\tif (service && service[version] && service[version][method] && service[version][method].apis && service[version][method].apis[api]) {\n\t\t\tavailable = true;\n\t\t}\n\t} else if (service) {\n\t\tavailable = true;\n\t}\n\t\n\treturn (\n\t\tapiAbility &&\n\t\t<div>\n\t\t\t{available ?\n\t\t\t\t<Alert variant={getMethodVariant(method)}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col className=\"font-weight-bold small\">\n\t\t\t\t\t\t\t<Form.Check type=\"switch\"\n\t\t\t\t\t\t\t            id={name + \"/\" + method + \"/\" + index + \"_\" + abilityPath}\n\t\t\t\t\t\t\t            checked={available}\n\t\t\t\t\t\t\t            label={apiAbility.M}\n\t\t\t\t\t\t\t            onChange={() => removeAbility(name, method, version, api, env)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{apiAbility.isPublic &&\n\t\t\t\t\t\t\t<span className=\"font-weight-bold text-info small\"><BsUnlockFill\n\t\t\t\t\t\t\t\tclassName=\"mb-1\"/> Public</span>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col className=\"small\" lg={2}>\n\t\t\t\t\t\t\t<span className=\"font-weight-bold small\">Available</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 float-left p-1\"\n\t\t\t\t\t\t\t        variant={getMethodVariant(method)}><small>{method.toUpperCase()}</small></Button>\n\t\t\t\t\t\t\t<span className=\"float-left small mt-1\"><Badge variant=\"info\"\n\t\t\t\t\t\t\t                                               className=\"mr-1\">{name}</Badge>{api}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t\t:\n\t\t\t\t<Alert variant=\"light\" className=\"border-dark\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col className=\"font-weight-bold small\">\n\t\t\t\t\t\t\t<Form.Check type=\"switch\"\n\t\t\t\t\t\t\t            id={name + \"/\" + method + \"/\" + index + \"_\" + abilityPath}\n\t\t\t\t\t\t\t            checked={available}\n\t\t\t\t\t\t\t            label={apiAbility.M}\n\t\t\t\t\t\t\t            onChange={() => addAbility(name, method, version, api, env, apiAbility.isPublic)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{apiAbility.isPublic &&\n\t\t\t\t\t\t\t<span className=\"font-weight-bold text-info small\"><BsUnlockFill\n\t\t\t\t\t\t\t\tclassName=\"mb-1\"/> Public</span>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col className=\"small\" lg={2}>\n\t\t\t\t\t\t\t<span className=\"font-weight-bold small\">Not available</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 float-left p-1\"\n\t\t\t\t\t\t\t        variant={getMethodVariant(method)}><small>{method.toUpperCase()}</small></Button>\n\t\t\t\t\t\t\t<span className=\"float-left small mt-1\"><Badge variant=\"info\"\n\t\t\t\t\t\t\t                                               className=\"mr-1\">{name}</Badge>{api}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t}\n\t\t</div>\n\t);\n}\n\nexport default function Granular({service, name, addAbility, removeAbility, env, abilityPath}) {\n\treturn (\n\t\tservice ?\n\t\t\tObject.keys(service).map((version, index) => (\n\t\t\t\t<div key={index}>\n\t\t\t\t\t{APIs.versions[name] === version ?\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{Object.keys(methodVariant).map((method, index) => (\n\t\t\t\t\t\t\t\tAPIs[abilityPath][name] && APIs[abilityPath][name][method] &&\n\t\t\t\t\t\t\t\tObject.keys(APIs[abilityPath][name][method]).map((api, index) => (\n\t\t\t\t\t\t\t\t\t<DisplayAbility\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tmethod={method}\n\t\t\t\t\t\t\t\t\t\tservice={service}\n\t\t\t\t\t\t\t\t\t\tapi={api}\n\t\t\t\t\t\t\t\t\t\tversion={version}\n\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\tenv={env}\n\t\t\t\t\t\t\t\t\t\tapiAbility={APIs[abilityPath][name][method][api]}\n\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\taddAbility={addAbility}\n\t\t\t\t\t\t\t\t\t\tremoveAbility={removeAbility}\n\t\t\t\t\t\t\t\t\t\tabilityPath={abilityPath}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<span> wrong version for {name} @ {version}</span>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t))\n\t\t\t:\n\t\t\t<div>\n\t\t\t\t{Object.keys(methodVariant).map((method, index) => (\n\t\t\t\t\tAPIs[abilityPath][name] && APIs[abilityPath][name][method] &&\n\t\t\t\t\tObject.keys(APIs[abilityPath][name][method]).map((api, index) => (\n\t\t\t\t\t\t<DisplayAbility\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tmethod={method}\n\t\t\t\t\t\t\tservice={service}\n\t\t\t\t\t\t\tapi={api}\n\t\t\t\t\t\t\tenv={env}\n\t\t\t\t\t\t\tversion={APIs.versions[name]}\n\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\tapiAbility={APIs[abilityPath][name][method][api]}\n\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\taddAbility={addAbility}\n\t\t\t\t\t\t\tremoveAbility={removeAbility}\n\t\t\t\t\t\t\tabilityPath={abilityPath}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))\n\t\t\t\t))}\n\t\t\t</div>\n\t);\n}","import {Accordion, Button, Card, ListGroup, ListGroupItem, Modal, Tab, Tabs} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport _ from \"lodash\";\n\nimport AbilitiesLabels from \"../lib/AbilitiesLabels.json\";\n\nimport Granular from \"./Granular\"\n\nimport getACL from \"../lib/scopeAclLib\";\nimport APIs from \"../../../../../availableAbilities\";\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\n\nimport config from \"../../../../../config\";\n\nconst multitenantService = MultitenantService.getService();\n\nfunction getAllServiceAbilitiesAcl(name, service) {\n\tif (APIs.abilities[name] || APIs.default[name]) {\n\t\tservice.apisPermission = \"restricted\";\n\t\tif (APIs.abilities[name]) {\n\t\t\tObject.keys(APIs.abilities[name]).map((method, index) => {\n\t\t\t\tservice[method] = {\n\t\t\t\t\t\"apis\": {}\n\t\t\t\t};\n\t\t\t\tObject.keys(APIs.abilities[name][method]).map((api, index) => {\n\t\t\t\t\tservice[method].apis[api] = {\"access\": true};\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\t\treturn true;\n\t\t\t});\n\t\t}\n\t\tif (APIs.default[name]) {\n\t\t\tObject.keys(APIs.default[name]).map((method, index) => {\n\t\t\t\tservice[method] = {\n\t\t\t\t\t\"apis\": {}\n\t\t\t\t};\n\t\t\t\tObject.keys(APIs.default[name][method]).map((api, index) => {\n\t\t\t\t\tif (APIs.default[name][method][api].isPublic) {\n\t\t\t\t\t\tservice[method].apis[api] = {\"access\": false};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tservice[method].apis[api] = {\"access\": true};\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\t\treturn true;\n\t\t\t});\n\t\t}\n\t\treturn service;\n\t} else {\n\t\treturn service;\n\t}\n}\n\nfunction initializeACL(opts, scope) {\n\tlet pack = _.merge({}, opts);\n\tObject.keys(pack.acl).map((env, index) => {\n\t\tif (env === config.consoleEnvironment) {\n\t\t\tif (!pack.aclTypeByEnv || !pack.aclTypeByEnv[env] || pack.aclTypeByEnv[env] !== \"granular\") {\n\t\t\t\tif (!pack.aclTypeByEnv) {\n\t\t\t\t\tpack.aclTypeByEnv = {};\n\t\t\t\t}\n\t\t\t\tpack.aclTypeByEnv[env] = \"granular\";\n\t\t\t\tObject.keys(pack.acl[env]).map((name, index) => {\n\t\t\t\t\tlet service = pack.acl[env][name];\n\t\t\t\t\tlet obj = {};\n\t\t\t\t\tfor (let i = 0; i < service.length; i++) {\n\t\t\t\t\t\tif (service[i].version) {\n\t\t\t\t\t\t\tlet version = service[i].version;\n\t\t\t\t\t\t\tif (scope.acl[env][name][version]) {\n\t\t\t\t\t\t\t\tobj[version] = getACL(scope.acl[env][name][version], service[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!obj[version].apisPermission || obj[version].apisPermission !== \"restricted\") {\n\t\t\t\t\t\t\t\tobj[version] = getAllServiceAbilitiesAcl(name, obj[version]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpack.acl[env][name] = obj;\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tObject.keys(pack.acl[env]).map((name, index) => {\n\t\t\t\t\tObject.keys(pack.acl[env][name]).map((version, index) => {\n\t\t\t\t\t\tif (!pack.acl[env][name][version].apisPermission || pack.acl[env][name][version].apisPermission !== \"restricted\") {\n\t\t\t\t\t\t\tpack.acl[env][name][version] = getAllServiceAbilitiesAcl(name, pack.acl[env][name][version]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t});\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t});\n\t\n\treturn pack;\n}\n\nexport {initializeACL}\nexport default function AclModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [initialized, setInitialized] = useState(false);\n\t\n\tconst handleClose = () => {\n\t\tsetInitialized(false);\n\t\tsetModalOpt({\"show\": false, opts: null, scope: null});\n\t};\n\t\n\tfunction removeAbility(name, method, version, api, env) {\n\t\tif (modalOpt.opts.acl[env][name]) {\n\t\t\tif (modalOpt.opts.acl[env][name][version]) {\n\t\t\t\tif (modalOpt.opts.acl[env][name][version][method]) {\n\t\t\t\t\tif (modalOpt.opts.acl[env][name][version][method].apis) {\n\t\t\t\t\t\tif (modalOpt.opts.acl[env][name][version][method].apis[api]) {\n\t\t\t\t\t\t\tdelete modalOpt.opts.acl[env][name][version][method].apis[api];\n\t\t\t\t\t\t\tsetModalOpt({...modalOpt});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction addAbility(name, method, version, api, env, isPublic) {\n\t\tif (!modalOpt.opts.acl[env][name]) {\n\t\t\tmodalOpt.opts.acl[env][name] = {};\n\t\t}\n\t\tif (!modalOpt.opts.acl[env][name][version]) {\n\t\t\tmodalOpt.opts.acl[env][name][version] = {};\n\t\t}\n\t\tmodalOpt.opts.acl[env][name][version].access = true;\n\t\tmodalOpt.opts.acl[env][name][version].apisPermission = \"restricted\";\n\t\tif (!modalOpt.opts.acl[env][name][version][method]) {\n\t\t\tmodalOpt.opts.acl[env][name][version][method] = {\n\t\t\t\t\"apis\": {}\n\t\t\t};\n\t\t}\n\t\tmodalOpt.opts.acl[env][name][version][method].apis[api] = {\n\t\t\t\"access\": isPublic ? false : true\n\t\t}\n\t\tsetModalOpt({...modalOpt});\n\t}\n\t\n\tfunction validateForm() {\n\t\treturn true;\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet fields = {\n\t\t\t\t\"id\": modalOpt.opts._id,\n\t\t\t\t\"code\": modalOpt.opts.code,\n\t\t\t\t\"type\": \"granular\",\n\t\t\t\t\"env\": config.consoleEnvironment,\n\t\t\t\t\"acl\": modalOpt.opts.acl[config.consoleEnvironment]\n\t\t\t};\n\t\t\tawait multitenantService.editConsolePackageAclEnv(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.editPackage\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tif (modalOpt.opts && modalOpt.opts.acl) {\n\t\t\t// Object.keys(modalOpt.opts.acl).map((env, index) => {\n\t\t\t// \tif (env === config.consoleEnvironment) {\n\t\t\t// \t\tif (!modalOpt.opts.aclTypeByEnv || !modalOpt.opts.aclTypeByEnv[env] || modalOpt.opts.aclTypeByEnv[env] !== \"granular\") {\n\t\t\t// \t\t\tif (!modalOpt.opts.aclTypeByEnv) {\n\t\t\t// \t\t\t\tmodalOpt.opts.aclTypeByEnv = {};\n\t\t\t// \t\t\t}\n\t\t\t// \t\t\tmodalOpt.opts.aclTypeByEnv[env] = \"granular\";\n\t\t\t// \t\t\tObject.keys(modalOpt.opts.acl[env]).map((name, index) => {\n\t\t\t// \t\t\t\tlet service = modalOpt.opts.acl[env][name];\n\t\t\t// \t\t\t\tlet obj = {};\n\t\t\t// \t\t\t\tfor (let i = 0; i < service.length; i++) {\n\t\t\t// \t\t\t\t\tif (service[i].version) {\n\t\t\t// \t\t\t\t\t\tlet version = service[i].version;\n\t\t\t// \t\t\t\t\t\tlet scope = modalOpt.scope.acl[env][name]\n\t\t\t// \t\t\t\t\t\tif (scope[version]) {\n\t\t\t// \t\t\t\t\t\t\tobj[version] = getACL(scope[version], service[i]);\n\t\t\t// \t\t\t\t\t\t}\n\t\t\t// \t\t\t\t\t\tif (!obj[version].apisPermission || obj[version].apisPermission !== \"restricted\") {\n\t\t\t// \t\t\t\t\t\t\tobj[version] = getAllServiceAbilitiesAcl(name, obj[version]);\n\t\t\t// \t\t\t\t\t\t}\n\t\t\t// \t\t\t\t\t}\n\t\t\t// \t\t\t\t}\n\t\t\t// \t\t\t\tmodalOpt.opts.acl[env][name] = obj;\n\t\t\t// \t\t\t\treturn true;\n\t\t\t// \t\t\t});\n\t\t\t// \t\t\tsetModalOpt({...modalOpt});\n\t\t\t// \t\t} else {\n\t\t\t// \t\t\tObject.keys(modalOpt.opts.acl[env]).map((name, index) => {\n\t\t\t// \t\t\t\tObject.keys(modalOpt.opts.acl[env][name]).map((version, index) => {\n\t\t\t// \t\t\t\t\tif (!modalOpt.opts.acl[env][name][version].apisPermission || modalOpt.opts.acl[env][name][version].apisPermission !== \"restricted\") {\n\t\t\t// \t\t\t\t\t\tmodalOpt.opts.acl[env][name][version] = getAllServiceAbilitiesAcl(name, modalOpt.opts.acl[env][name][version]);\n\t\t\t// \t\t\t\t\t}\n\t\t\t// \t\t\t\t\treturn true;\n\t\t\t// \t\t\t\t});\n\t\t\t// \t\t\t\treturn true;\n\t\t\t// \t\t\t});\n\t\t\t// \t\t}\n\t\t\t// \t}\n\t\t\t// \treturn true;\n\t\t\t// });\n\t\t\tsetInitialized(true);\n\t\t}\n\t}, [modalOpt, setModalOpt]);\n\t\n\treturn (\n\t\tmodalOpt.opts && initialized &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.packageInfo\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{t(\"soajs:fields.Code\")}:</span> {modalOpt.opts.code}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{t(\"soajs:fields.Name\")}:</span> {modalOpt.opts.name}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t{t(\"soajs:fields.Description\")}:</span> {modalOpt.opts.description}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t</ListGroup>\n\t\t\t\t<hr/>\n\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"main\" id=\"abilities\">\n\t\t\t\t\t<Tab eventKey=\"main\" title={t(\"soajs:titles.MainAbilities\")}>\n\t\t\t\t\t\t{modalOpt.opts.acl && Object.keys(modalOpt.opts.acl).map((env, index) => (\n\t\t\t\t\t\t\tenv === config.consoleEnvironment &&\n\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t{Object.keys(APIs.abilities).map((name, index) => (\n\t\t\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t\t\t\t<Card.Header className=\"p-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{AbilitiesLabels[name]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Granular\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tservice={modalOpt.opts.acl[env][name]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tenv={env}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddAbility={addAbility}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tremoveAbility={removeAbility}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tabilityPath={\"abilities\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Tab>\n\t\t\t\t\t<Tab eventKey=\"default\" title={t(\"soajs:titles.DefaultAbilities\")}>\n\t\t\t\t\t\t{modalOpt.opts.acl && Object.keys(modalOpt.opts.acl).map((env, index) => (\n\t\t\t\t\t\t\tenv === config.consoleEnvironment &&\n\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t{Object.keys(APIs.default).map((name, index) => (\n\t\t\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t\t\t\t<Card.Header className=\"p-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{AbilitiesLabels[name]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Granular\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tservice={modalOpt.opts.acl[env][name]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tenv={env}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddAbility={addAbility}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tremoveAbility={removeAbility}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tabilityPath={\"default\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Tab>\n\t\t\t\t</Tabs>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {RiSafe2Fill} from \"react-icons/ri\";\n\nexport default function Acl({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.Acl\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button size=\"sm\" variant=\"dark\" {...props}>\n\t\t\t\t<RiSafe2Fill/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport {Table, Button, Jumbotron} from \"react-bootstrap\";\n\nimport {GoDiffAdded} from \"react-icons/go\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../services\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nimport DeleteModal from \"./DeleteModal\"\nimport InfoModal from \"./InfoModal/InfoModal\";\nimport AddModal from \"./AddModal\";\nimport EditModal from \"./EditModal\";\nimport AclModal, {initializeACL} from \"./AclModal/AclModal\";\n\nimport DeleteButton from \"../../../buttons/Delete\";\nimport ViewButton from \"../../../buttons/View\";\nimport EditButton from \"../../../buttons/Edit\";\nimport AclButton from \"../../../buttons/Acl\";\n\nimport _config from \"../../../../config\"\n\nconst multitenantService = MultitenantService.getService();\n\nasync function onLoad(setFields, isSubscribed) {\n\ttry {\n\t\tconst product = await multitenantService.getMyConsoleProduct();\n\t\tif (isSubscribed) {\n\t\t\tsetFields(product);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Packages() {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\", \"organization\"]);\n\tconst [fields, setFields] = useState(null);\n\t\n\tconst [modalInfoOpt, setModalInfoOpt] = useState({\"show\": false, opts: null, scope: null});\n\tconst modalInfoOptShow = (pack, scope) => setModalInfoOpt({\"show\": true, opts: pack, scope: scope});\n\t\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, opts: null});\n\tconst modalDeleteOptShow = (opt) => setModalDeleteOpt({\"show\": true, opts: opt});\n\t\n\tconst [modalEditOpt, setModalEditOpt] = useState({\"show\": false, opts: null});\n\tconst modalEditOptShow = (opt) => setModalEditOpt({\"show\": true, opts: opt});\n\t\n\tconst [modalAclOpt, setModalAclOpt] = useState({\"show\": false, opts: null, scope: null});\n\tconst modalAclOptShow = (opt, scope) => setModalAclOpt({\"show\": true, opts: opt, scope: scope});\n\t\n\tconst [modalAddOpt, setModalAddOpt] = useState({\"show\": false, opts: null});\n\tconst modalAddOptShow = (opt) => setModalAddOpt({\"show\": true, opts: opt});\n\t\n\tasync function reLoad() {\n\t\tawait onLoad(setFields, true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tonLoad(setFields, isSubscribed);\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\tfields && (\n\t\t\t<>\n\t\t\t\t<AddModal\n\t\t\t\t\tmodalOpt={modalAddOpt}\n\t\t\t\t\tsetModalOpt={setModalAddOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<EditModal\n\t\t\t\t\tmodalOpt={modalEditOpt}\n\t\t\t\t\tsetModalOpt={setModalEditOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<DeleteModal\n\t\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<InfoModal\n\t\t\t\t\tmodalOpt={modalInfoOpt}\n\t\t\t\t\tsetModalOpt={setModalInfoOpt}\n\t\t\t\t/>\n\t\t\t\t<AclModal\n\t\t\t\t\tmodalOpt={modalAclOpt}\n\t\t\t\t\tsetModalOpt={setModalAclOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<Jumbotron className=\"p-4 mb-3\">\n\t\t\t\t\t<span className=\"font-weight-bold\">{fields.code}:</span> {fields.name}\n\t\t\t\t\t<hr/>\n\t\t\t\t\t{fields.description}\n\t\t\t\t</Jumbotron>\n\t\t\t\t<hr/>\n\t\t\t\t<div>\n\t\t\t\t\t<h5 className=\"float-left\">{t(\"soajs:titles.packages\")}</h5>\n\t\t\t\t\t{ability.can('console_package', 'add') &&\n\t\t\t\t\t<Button variant=\"success\" className=\"float-right\" size=\"sm\"\n\t\t\t\t\t        onClick={() => modalAddOptShow({\"_id\": fields._id})}\n\t\t\t\t\t>\n\t\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t\t</Button>}\n\t\t\t\t</div>\n\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>{t(\"soajs:buttons.Actions\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Code\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Name\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Description\")}</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t{fields.packages.map((pack, index) => (\n\t\t\t\t\t\t<tr key={index} className=\"small\">\n\t\t\t\t\t\t\t<td nowrap=\"true\">\n\t\t\t\t\t\t\t\t<ViewButton\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tif (!pack.acl) {\n\t\t\t\t\t\t\t\t\t\t\tpack.acl = {};\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (!pack.acl[_config.consoleEnvironment]) {\n\t\t\t\t\t\t\t\t\t\t\tpack.acl[_config.consoleEnvironment] = {};\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tmodalInfoOptShow(pack, fields.scope);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ability.can('console_package', 'delete') &&\n\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tpack._id = fields._id;\n\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow(pack);\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{ability.can('console_package', 'edit') &&\n\t\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tpack._id = fields._id;\n\t\t\t\t\t\t\t\t\t\tmodalEditOptShow(pack);\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{ability.can('console_package', 'acl') &&\n\t\t\t\t\t\t\t\t<AclButton\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tpack._id = fields._id;\n\t\t\t\t\t\t\t\t\t\tlet convertedPack = initializeACL(pack, fields.scope);\n\t\t\t\t\t\t\t\t\t\tif (!convertedPack.acl) {\n\t\t\t\t\t\t\t\t\t\t\tconvertedPack.acl = {};\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (!convertedPack.acl[_config.consoleEnvironment]) {\n\t\t\t\t\t\t\t\t\t\t\tconvertedPack.acl[_config.consoleEnvironment] = {};\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tmodalAclOptShow(convertedPack, fields.scope);\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>{pack.code}</td>\n\t\t\t\t\t\t\t<td nowrap=\"true\">{pack.name}</td>\n\t\t\t\t\t\t\t<td>{pack.description}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t\t</tbody>\n\t\t\t\t</Table>\n\t\t\t</>\n\t\t)\n\t);\n}","import {Button} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {MultitenantService} from \"../../../../services\";\nimport {JsonEditor, NotificationManager} from \"../../../../soajs/urac/components\";\n\nimport _config from \"../../../../config\"\nimport {useTranslation} from \"react-i18next\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nconst multitenantService = MultitenantService.getService();\n\nasync function onLoad(setFields, isSubscribed) {\n\ttry {\n\t\t\n\t\tconst response = await multitenantService.getMyConsoleTenant();\n\t\tif (isSubscribed && response) {\n\t\t\tif (response.applications && response.applications[0] && response.applications[0].keys && response.applications[0].keys[0])\n\t\t\t\tsetFields({\n\t\t\t\t\t\"key\": response.applications[0].keys[0].key,\n\t\t\t\t\t\"appId\": response.applications[0].appId,\n\t\t\t\t\t\"id\": response._id,\n\t\t\t\t\t\"envCode\": _config.consoleEnvironment,\n\t\t\t\t\t\"config\": response.applications[0].keys[0].config[_config.consoleEnvironment] || {}\n\t\t\t\t});\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Configuration() {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState({\n\t\t\"key\": null,\n\t\t\"appId\": null,\n\t\t\"id\": null,\n\t\t\"envCode\": null,\n\t\t\"config\": {}\n\t});\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\tfields.config = json;\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait multitenantService.updateTenantConsoleApplicationKey(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.consoleConfigurationUpdate\"));\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tonLoad(setFields, isSubscribed);\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\treturn (\n\t\t<>\n\t\t\t<h5>\n\t\t\t\t{t(\"soajs:titles.consoleConfiguration\")}\n\t\t\t</h5>\n\t\t\t<small className=\"text-muted\">Make sure you know what your are doing or ask SOAJS Team for support!</small>\n\t\t\t<div className=\"mt-3\" style={{\"height\": \"700px\"}}>\n\t\t\t\t<JsonEditor\n\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\tmodes={[\"code\", \"tree\"]}\n\t\t\t\t\tjson={fields.config || {}}\n\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<Button\n\t\t\t\tclassName=\"float-right\"\n\t\t\t\tvariant=\"success\"\n\t\t\t\tonClick={handleSubmit}\n\t\t\t\tdisabled={!ability.can('tenant_console_application_key', 'configure')}\n\t\t\t>\n\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t</Button>\n\t\t\t<span className=\"clearfix\"></span>\n\t\t</>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\nimport deepSet from \"../../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\nconst initFields = {\n\t\"package\": \"\",\n\t\"id\": \"\",\n\t\"appId\": \"\",\n\t\"description\": \"\",\n\t\"_TTL\": \"168\"\n};\n\nexport default function UpdateApplicationModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.description.length > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tfields._TTL = \"\" + fields._TTL;\n\t\t\tawait multitenantService.updateConsoleApplication(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.tenantApplicationUpdate\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields(Object.assign({}, initFields, modalOpt.item));\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tenantApplicationUpdate\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.PackageCode\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"package\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.package}\n\t\t\t\t\t\t\tdisabled={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.TTL\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"_TTL\"\n\t\t\t\t\t\t\tvalue={fields._TTL}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"6\">6 hours</option>\n\t\t\t\t\t\t\t<option value=\"12\">12 hours</option>\n\t\t\t\t\t\t\t<option value=\"24\">24 hours</option>\n\t\t\t\t\t\t\t<option value=\"48\">2 days</option>\n\t\t\t\t\t\t\t<option value=\"72\">3 days</option>\n\t\t\t\t\t\t\t<option value=\"96\">4 days</option>\n\t\t\t\t\t\t\t<option value=\"120\">5 days</option>\n\t\t\t\t\t\t\t<option value=\"144\">6 days</option>\n\t\t\t\t\t\t\t<option value=\"168\">7 days</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\nimport deepSet from \"../../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\n\nexport default function AddExtKeyModal({modalOpt, setModalOpt, handleAction, environments}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState({\n\t\t\"id\": \"\",\n\t\t\"appId\": \"\",\n\t\t\"key\": \"\",\n\t\t\"label\": \"\",\n\t\t\"env\": \"\",\n\t\t\"expDate\": null,\n\t\t\"device\": {},\n\t\t\"geo\": {}\n\t});\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.label.length > 0 &&\n\t\t\tfields.env.length > 0\n\t\t);\n\t}\n\t\n\tfunction JsonEditor_onChange_device(json) {\n\t\tfields.device = json;\n\t}\n\t\n\tfunction JsonEditor_onChange_geo(json) {\n\t\tfields.geo = json;\n\t}\n\t\n\tfunction handleExpDateChange(m) {\n\t\tlet obj = fields;\n\t\tif (m) {\n\t\t\t//deepSet(obj, \"expDate\", m.getFullYear() + \"-\" + (m.getMonth() + 1) + \"-\" + m.getDate());\n\t\t\tdeepSet(obj, \"expDate\", m.toISOString());\n\t\t} else {\n\t\t\tdeepSet(obj, \"expDate\", null);\n\t\t}\n\t\tsetFields({...obj});\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tfields.id = modalOpt.item.id;\n\t\t\tfields.appId = modalOpt.item.appId;\n\t\t\tfields.key = modalOpt.item.key;\n\t\t\tawait multitenantService.addTenantConsoleExtKey(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.tenantExtKeyAdd\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tenantExtKeyAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Label\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"label\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.label}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Env\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"env\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tdefaultValue={fields.env}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">---</option>\n\t\t\t\t\t\t\t{environments.map((rec, index) => (\n\t\t\t\t\t\t\t\t<option key={index} value={rec.code}>{rec.code}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label className=\"mr-5\">{t(\"soajs:fields.ExpDate\")}</Form.Label>\n\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\tselected={(fields.expDate && fields.expDate !== \"\") ? new Date(fields.expDate) : null}\n\t\t\t\t\t\t\tonChange={handleExpDateChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Device\")}</Form.Label><JsonEditor\n\t\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\t\tjson={fields.device || {}}\n\t\t\t\t\t\tonChange={JsonEditor_onChange_device}\n\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Geo\")}</Form.Label><JsonEditor\n\t\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\t\tjson={fields.geo || {}}\n\t\t\t\t\t\tonChange={JsonEditor_onChange_geo}\n\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\nimport deepSet from \"../../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\n\nexport default function AddApplicationModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [packages, setPackages] = useState([]);\n\tconst [products, setProducts] = useState([]);\n\tconst [fields, setFields] = useState({\n\t\t\"id\": null,\n\t\t\"productCode\": \"\",\n\t\t\"packageCode\": \"\",\n\t\t\"description\": \"\",\n\t\t\"_TTL\": \"168\"\n\t});\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.productCode.length > 0 &&\n\t\t\tfields.packageCode.length > 0 &&\n\t\t\tfields.description.length > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t\tif (event.target.id === \"productCode\") {\n\t\t\tlet p = products.filter((rec) => {\n\t\t\t\treturn (value === rec.code);\n\t\t\t});\n\t\t\tif (p && p[0] && p[0].packages) {\n\t\t\t\tsetPackages(p[0].packages);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tfields.id = modalOpt.item.id;\n\t\t\tawait multitenantService.addConsoleApplication(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.tenantApplicationAdd\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tlet response_console = await multitenantService.getConsoleProducts();\n\t\t\t\tlet response = await multitenantService.getProducts();\n\t\t\t\tif (!response_console || !Array.isArray(response_console)) {\n\t\t\t\t\tresponse_console = [];\n\t\t\t\t}\n\t\t\t\tif (!response || !Array.isArray(response)) {\n\t\t\t\t\tresponse = [];\n\t\t\t\t}\n\t\t\t\tlet allProducts = response_console.concat(response);\n\t\t\t\tif (isSubscribed && allProducts) {\n\t\t\t\t\tsetProducts(allProducts);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tenantApplicationAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.ProductCode\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"productCode\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tdefaultValue={fields.productCode}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">---</option>\n\t\t\t\t\t\t\t{products.map((rec, index) => (\n\t\t\t\t\t\t\t\t<option key={index} value={rec.code}>{rec.code} - {rec.name}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.PackageCode\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"packageCode\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tdefaultValue={fields.packageCode}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">---</option>\n\t\t\t\t\t\t\t{packages.map((rec, index) => (\n\t\t\t\t\t\t\t\t<option key={index} value={rec.code}>{rec.code} - {rec.name}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.TTL\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control as=\"select\" id=\"_TTL\"\n\t\t\t\t\t\t              defaultValue={fields._TTL}\n\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"6\">6 hours</option>\n\t\t\t\t\t\t\t<option value=\"12\">12 hours</option>\n\t\t\t\t\t\t\t<option value=\"24\">24 hours</option>\n\t\t\t\t\t\t\t<option value=\"48\">2 days</option>\n\t\t\t\t\t\t\t<option value=\"72\">3 days</option>\n\t\t\t\t\t\t\t<option value=\"96\">4 days</option>\n\t\t\t\t\t\t\t<option value=\"120\">5 days</option>\n\t\t\t\t\t\t\t<option value=\"144\">6 days</option>\n\t\t\t\t\t\t\t<option value=\"168\">7 days</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\n\nimport deepSet from \"../../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\n\nconst initFields = {\n\t\"id\": \"\",\n\t\"appId\": \"\",\n\t\"key\": \"\",\n\t\"extKey\": \"\",\n\t\"label\": \"\",\n\t\"extKeyEnv\": \"\",\n\t\"expDate\": null,\n\t\"device\": {},\n\t\"geo\": {}\n};\n\nexport default function ConfigureExtKeyModal({modalOpt, setModalOpt, handleAction, environments}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.label &&\n\t\t\tfields.label.length > 0 &&\n\t\t\tfields.extKeyEnv.length > 0\n\t\t);\n\t}\n\t\n\tfunction JsonEditor_onChange_device(json) {\n\t\tfields.device = json;\n\t}\n\t\n\tfunction JsonEditor_onChange_geo(json) {\n\t\tfields.geo = json;\n\t}\n\t\n\tfunction handleExpDateChange(m) {\n\t\tlet obj = fields;\n\t\tif (m) {\n\t\t\t//deepSet(obj, \"expDate\", m.getFullYear() + \"-\" + (m.getMonth() + 1) + \"-\" + m.getDate());\n\t\t\tdeepSet(obj, \"expDate\", m.toISOString());\n\t\t} else {\n\t\t\tdeepSet(obj, \"expDate\", null);\n\t\t}\n\t\tsetFields({...obj});\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tif (fields.expDate) {\n\t\t\t\tlet m = new Date(fields.expDate);\n\t\t\t\tfields.expDate = m.toISOString();\n\t\t\t}\n\t\t\tawait multitenantService.updateTenantConsoleApplicationExtKey(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.tenantApplicationExtKey\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields(Object.assign({}, initFields, modalOpt.item));\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tenantApplicationExtKey\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Label\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"label\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.label}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Env\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"extKeyEnv\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.extKeyEnv}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">---</option>\n\t\t\t\t\t\t\t{environments.map((rec, index) => (\n\t\t\t\t\t\t\t\t<option key={index} value={rec.code}>{rec.code}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label className=\"mr-5\">{t(\"soajs:fields.ExpDate\")}</Form.Label>\n\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\tselected={(fields.expDate && fields.expDate !== \"\") ? new Date(fields.expDate) : null}\n\t\t\t\t\t\t\tonChange={handleExpDateChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Device\")}</Form.Label><JsonEditor\n\t\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\t\tjson={fields.device || {}}\n\t\t\t\t\t\tonChange={JsonEditor_onChange_device}\n\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Geo\")}</Form.Label><JsonEditor\n\t\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\t\tjson={fields.geo || {}}\n\t\t\t\t\t\tonChange={JsonEditor_onChange_geo}\n\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\nimport deepSet from \"../../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\n\nconst initFields = {\n\t\"id\": \"\",\n\t\"appId\": \"\",\n\t\"key\": \"\",\n\t\"envCode\": \"\",\n\t\"config\": {},\n\t\"configAllEnv\": {}\n};\n\nexport default function ConfigureKeyModal({modalOpt, setModalOpt, handleAction, environments}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.envCode.length > 0\n\t\t);\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\tfields.config = json;\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tif (event.target.id === \"envCode\") {\n\t\t\tif (fields.configAllEnv[value.toLowerCase()]) {\n\t\t\t\tdeepSet(obj, \"config\", fields.configAllEnv[value.toLowerCase()]);\n\t\t\t} else {\n\t\t\t\tdeepSet(obj, \"config\", {});\n\t\t\t}\n\t\t}\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait multitenantService.updateTenantConsoleApplicationKey({\n\t\t\t\t\"id\": fields.id,\n\t\t\t\t\"appId\": fields.appId,\n\t\t\t\t\"key\": fields.key,\n\t\t\t\t\"envCode\": fields.envCode,\n\t\t\t\t\"config\": fields.config\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.tenantApplicationKey\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields(Object.assign({}, initFields, modalOpt.item));\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tenantApplicationKey\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Env\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"envCode\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.envCode}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">---</option>\n\t\t\t\t\t\t\t{environments.map((rec, index) => (\n\t\t\t\t\t\t\t\t<option key={index} value={rec.code}>{rec.code}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t{fields.envCode && fields.envCode !== \"\" &&\n\t\t\t\t\t<Form.Group style={{\"height\": \"400px\"}}>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Configuration\")}</Form.Label>\n\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\t\t\tjson={fields.config || {}}\n\t\t\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>}\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\n\nconst multitenantService = MultitenantService.getService();\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\t\n\t\t\tif (modalOpt.item.type === \"tenant\") {\n\t\t\t\tawait multitenantService.deleteConsoleTenant({\n\t\t\t\t\t\"id\": modalOpt.item.id\n\t\t\t\t});\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + modalOpt.item.type));\n\t\t\t\thandleAction();\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\t\n\t\t\tif (modalOpt.item.type === \"application\") {\n\t\t\t\tawait multitenantService.deleteTenantConsoleApplication({\n\t\t\t\t\t\"id\": modalOpt.item.id,\n\t\t\t\t\t\"appId\": modalOpt.item.appId\n\t\t\t\t});\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + modalOpt.item.type));\n\t\t\t\thandleAction();\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\t\n\t\t\tif (modalOpt.item.type === \"key\") {\n\t\t\t\tawait multitenantService.deleteTenantConsoleApplicationKey({\n\t\t\t\t\t\"id\": modalOpt.item.id,\n\t\t\t\t\t\"appId\": modalOpt.item.appId,\n\t\t\t\t\t\"key\": modalOpt.item.key\n\t\t\t\t});\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + modalOpt.item.type));\n\t\t\t\thandleAction();\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\t\n\t\t\tif (modalOpt.item.type === \"extKey\") {\n\t\t\t\tawait multitenantService.deleteTenantConsoleApplicationKeyExt({\n\t\t\t\t\t\"id\": modalOpt.item.id,\n\t\t\t\t\t\"appId\": modalOpt.item.appId,\n\t\t\t\t\t\"key\": modalOpt.item.key,\n\t\t\t\t\t\"extKey\": modalOpt.item.extKey\n\t\t\t\t});\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + modalOpt.item.type));\n\t\t\t\thandleAction();\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body style={{\n\t\t\t\t\"wordBreak\": \"break-all\"\n\t\t\t}}>\n\t\t\t\t{t(\"soajs:messages.deleteQuestion\")}<span\n\t\t\t\tclassName=\"ml-3 font-weight-bold\">{modalOpt.item ? modalOpt.item.type : \"\"}: [<span\n\t\t\t\tclassName=\"text-danger\">{modalOpt.item ? modalOpt.item.label : \"\"}</span>]</span>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Col, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../../services\";\n\nconst consoleService = ConsoleService.getService();\n\nexport default function AddUserModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\tconst [fields, setFields] = useState({\n\t\t\"userId\": \"\",\n\t\t\"id\": null,\n\t\t\"password\": \"\",\n\t\t\"confirmPassword\": \"\"\n\t});\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.userId.length > 0 &&\n\t\t\tfields.id.length > 0 &&\n\t\t\tfields.password.length > 0 &&\n\t\t\tfields.confirmPassword.length > 0 &&\n\t\t\tfields.confirmPassword === fields.password\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: event.target.value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait consoleService.addUser(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.addUser\"));\n\t\t\thandleAction(\"users\", modalOpt.item.id);\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields({\n\t\t\t\t\"userId\": \"\",\n\t\t\t\t\"id\": modalOpt.item.id || null,\n\t\t\t\t\"password\": \"\",\n\t\t\t\t\"confirmPassword\": \"\"\n\t\t\t});\n\t\t} else {\n\t\t\tsetFields({\n\t\t\t\t\"userId\": \"\",\n\t\t\t\t\"id\": null,\n\t\t\t\t\"password\": \"\",\n\t\t\t\t\"confirmPassword\": \"\"\n\t\t\t});\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.userAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Username\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"userId\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.userId}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Password\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tvalue={fields.password}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.ConfirmPassword\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"confirmPassword\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tvalue={fields.confirmPassword}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\nimport deepSet from \"../../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\nconst initFields = {\n\t\"name\": \"\",\n\t\"description\": \"\",\n\t\"tag\": \"\",\n\t\"profile\": {}\n};\n\nexport default function AddConsoleTenantModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\treturn (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0 &&\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\tfields.profile = json;\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet data = {\n\t\t\t\t\"name\": fields.name,\n\t\t\t\t\"description\": fields.description,\n\t\t\t\t\"type\": \"product\",\n\t\t\t\t\"tag\": fields.tag,\n\t\t\t\t\"profile\": fields.profile,\n\t\t\t\t\"oauth\": {\n\t\t\t\t\t\"secret\": \"\",\n\t\t\t\t\t\"disabled\": 0,\n\t\t\t\t\t// \"redirectURI\": \"ttt\",\n\t\t\t\t\t// \"grants\": [\"password\"],\n\t\t\t\t\t\"type\": 2,\n\t\t\t\t\t\"loginMode\": \"oauth\"\n\t\t\t\t}\n\t\t\t};\n\t\t\tawait multitenantService.addConsoleTenant(data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.tenantIntegrationAdd\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tenantIntegrationAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Tag\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"tag\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.tag}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Profile\")}</Form.Label>\n\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\t\t\tjson={fields.profile || {}}\n\t\t\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\nimport deepSet from \"../../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\nconst initFields = {\n\t\"id\": \"\",\n\t\"name\": \"\",\n\t\"description\": \"\",\n\t\"tag\": \"\",\n\t\"category\": \"tenant\",\n\t\"profile\": {}\n};\n\nexport default function UpdateTenantModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0\n\t\t);\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\tfields.profile = json;\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait multitenantService.updateConsoleTenant(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.tenantUpdate\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields(Object.assign({}, initFields, modalOpt.item));\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tenantUpdate\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Tag\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"tag\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.tag}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Category\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"category\"\n\t\t\t\t\t\t\tvalue={fields.category}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"tenant\">Tenant</option>\n\t\t\t\t\t\t\t<option value=\"integration\">Integration</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Profile\")}</Form.Label>\n\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\t\t\tjson={fields.profile || {}}\n\t\t\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Accordion, Alert, Badge, Button, Card, CardDeck, Col, Form, Row, Tab, Table, Tabs} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {BiSearchAlt} from \"react-icons/bi\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\nimport {ConsoleService, MultitenantService} from \"../../../../services\";\nimport AutoPagination from \"../../../../lib/AutoPagination\";\nimport DeleteButton from \"../../../buttons/Delete\";\nimport GearButton from \"../../../buttons/Gear\";\nimport EditButton from \"../../../buttons/Edit\";\nimport {GoDiffAdded} from \"react-icons/go\";\nimport {FaKey} from \"react-icons/fa\";\n\nimport UpdateApplicationModal from \"./common/UpdateApplicationModal\";\nimport AddExtKeyModal from \"./common/AddExtKeyModal\";\nimport AddApplicationModal from \"./common/AddApplicationModal\";\nimport ConfigureExtKeyModal from \"./common/ConfigureExtKeyModal\";\nimport ConfigureKeyModal from \"./common/ConfigureKeyModal\";\nimport DeleteModal from \"./common/DeleteModal\";\nimport AddUserModal from \"./common/AddUserModal\";\nimport AddConsoleTenantModal from \"./common/AddConsoleTenantModal\";\nimport UpdateTenantModal from \"./common/UpdateTenantModal\";\n\nconst multitenantService = MultitenantService.getService();\nconst consoleService = ConsoleService.getService();\n\nfunction getTenantLabel(rec) {\n\treturn (\n\t\t<>\n\t\t\t<span className=\"font-weight-bold mr-3\">{rec.name}</span><span\n\t\t\tclassName=\"small text-muted\">[{rec.code} - {rec._id}]</span>\n\t\t</>\n\t);\n}\n\nasync function onLoad(setFields, setPagination, currentPage, criteria, isSubscribed) {\n\ttry {\n\t\tlet c = {\"limit\": 50, \"skip\": (currentPage - 1) * 50, \"scope\": \"other\"};\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords && criteria.keywords !== \"\") {\n\t\t\t\tc.keywords = criteria.keywords;\n\t\t\t}\n\t\t\tif (criteria.category !== \"All\") {\n\t\t\t\tc.category = criteria.category;\n\t\t\t}\n\t\t}\n\t\tconst response = await multitenantService.getConsoleTenants(c);\n\t\tif (isSubscribed && response && response.items) {\n\t\t\tsetFields(response.items);\n\t\t\tsetPagination(\n\t\t\t\t{\n\t\t\t\t\t\"totalItems\": response.count,\n\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\"itemsPerPage\": response.limit\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Integration() {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [users, setUsers] = useState({});\n\tconst [environments, setEnvironments] = useState([]);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\tconst [criteria, setCriteria] = useState({\n\t\t\"keywords\": \"\", \"category\": \"All\"\n\t});\n\t\n\tconst [modalAddUserOpt, setModalAddUserOpt] = useState({\"show\": false, item: null});\n\tconst modalAddUserOptShow = (item) => setModalAddUserOpt({\"show\": true, item: item});\n\t\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, item: null});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, item: item});\n\tconst [modalKeyConfigurationOpt, setModalKeyConfigurationOpt] = useState({\"show\": false, item: null});\n\tconst modalKeyConfigurationOptShow = (item) => setModalKeyConfigurationOpt({\"show\": true, item: item});\n\tconst [modalExtKeyConfigurationOpt, setModalExtKeyConfigurationOpt] = useState({\"show\": false, item: null});\n\tconst modalExtKeyConfigurationOptShow = (item) => setModalExtKeyConfigurationOpt({\"show\": true, item: item});\n\tconst [modalAddApplicationOpt, setModalAddApplicationOpt] = useState({\"show\": false, item: null});\n\tconst modalAddApplicationOptShow = (item) => setModalAddApplicationOpt({\"show\": true, item: item});\n\tconst [modalAddExtKeyOpt, setModalAddExtKeyOpt] = useState({\"show\": false, item: null});\n\tconst modalAddExtKeyOptShow = (item) => setModalAddExtKeyOpt({\"show\": true, item: item});\n\tconst [modalUpdateApplicationOpt, setModalUpdateApplicationOpt] = useState({\"show\": false, item: null});\n\tconst modalUpdateApplicationOptShow = (item) => setModalUpdateApplicationOpt({\"show\": true, item: item});\n\t\n\tconst [modalUpdateTenantOpt, setModalUpdateTenantOpt] = useState({\"show\": false, item: null});\n\tconst modalUpdateTenantOptShow = (item) => setModalUpdateTenantOpt({\"show\": true, item: item});\n\t\n\tconst [modalAddConsoleTenantOpt, setModalAddConsoleTenantOpt] = useState({\"show\": false, item: null});\n\tconst modalAddConsoleTenantOptShow = (item) => setModalAddConsoleTenantOpt({\"show\": true, item: item});\n\t\n\tasync function addTenantApplicationKey(data) {\n\t\ttry {\n\t\t\tawait multitenantService.addTenantConsoleApplicationKey(data);\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function deleteUser(id, userId) {\n\t\ttry {\n\t\t\tawait consoleService.deleteUser(id, userId);\n\t\t\tawait fetchUsers(\"users\", id);\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait reLoad(1);\n\t}\n\t\n\tasync function reLoad(page) {\n\t\tawait onLoad(setFields, setPagination, page || currentPage, criteria, true);\n\t}\n\t\n\tasync function fetchUsers(event, id) {\n\t\tif (event === \"users\" && id) {\n\t\t\ttry {\n\t\t\t\tconst response = await consoleService.getUsers(id);\n\t\t\t\tif (response) {\n\t\t\t\t\tusers[id] = response;\n\t\t\t\t\tsetUsers({...users});\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tonLoad(setFields, setPagination, 1, null, isSubscribed).catch();\n\t\t\n\t\tasync function getEnvironment() {\n\t\t\ttry {\n\t\t\t\tconst response = await consoleService.getEnvironments();\n\t\t\t\tif (response && isSubscribed) {\n\t\t\t\t\tsetEnvironments(response);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tgetEnvironment().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<>\n\t\t\t<>\n\t\t\t\t<UpdateTenantModal\n\t\t\t\t\tmodalOpt={modalUpdateTenantOpt}\n\t\t\t\t\tsetModalOpt={setModalUpdateTenantOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<AddUserModal\n\t\t\t\t\tmodalOpt={modalAddUserOpt}\n\t\t\t\t\tsetModalOpt={setModalAddUserOpt}\n\t\t\t\t\thandleAction={fetchUsers}\n\t\t\t\t/>\n\t\t\t\t<UpdateApplicationModal\n\t\t\t\t\tmodalOpt={modalUpdateApplicationOpt}\n\t\t\t\t\tsetModalOpt={setModalUpdateApplicationOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<AddExtKeyModal\n\t\t\t\t\tmodalOpt={modalAddExtKeyOpt}\n\t\t\t\t\tsetModalOpt={setModalAddExtKeyOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t\tenvironments={environments}\n\t\t\t\t/>\n\t\t\t\t<AddApplicationModal\n\t\t\t\t\tmodalOpt={modalAddApplicationOpt}\n\t\t\t\t\tsetModalOpt={setModalAddApplicationOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<ConfigureExtKeyModal\n\t\t\t\t\tmodalOpt={modalExtKeyConfigurationOpt}\n\t\t\t\t\tsetModalOpt={setModalExtKeyConfigurationOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t\tenvironments={environments}\n\t\t\t\t/>\n\t\t\t\t<ConfigureKeyModal\n\t\t\t\t\tmodalOpt={modalKeyConfigurationOpt}\n\t\t\t\t\tsetModalOpt={setModalKeyConfigurationOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t\tenvironments={environments}\n\t\t\t\t/>\n\t\t\t\t<DeleteModal\n\t\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<AddConsoleTenantModal\n\t\t\t\t\tmodalOpt={modalAddConsoleTenantOpt}\n\t\t\t\t\tsetModalOpt={setModalAddConsoleTenantOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t</>\n\t\t\t\n\t\t\t<div className=\"mb-1\">\n\t\t\t\t<h5 className=\"float-left font-weight-bold\">Available integration tenants</h5>\n\t\t\t\t{ability.can('console_tenant', 'add') &&\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"float-right mb-1\"\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tmodalAddConsoleTenantOptShow(null);\n\t\t\t\t\t}}\n\t\t\t\t><GoDiffAdded/> {t(\"soajs:buttons.Add\")}</Button>}\n\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t<Alert variant=\"secondary mt-2\">\n\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col sm={5} md={6} lg={7}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"keywords\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tvalue={criteria.keywords}\n\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col sm={4} md={4} lg={3}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"category\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tdefaultValue={criteria.category}\n\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"All\">All</option>\n\t\t\t\t\t\t\t\t\t<option value=\"tenant\">Tenant Only</option>\n\t\t\t\t\t\t\t\t\t<option value=\"integration\">Integration Only</option>\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col sm={3} md={2} lg={2}>\n\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Alert>\n\t\t\t\t<hr/>\n\t\t\t</div>\n\t\t\t\n\t\t\t{fields.map((rec, index) => (\n\t\t\t\t<Accordion className=\"mb-2\" key={index + 1} defaultActiveKey={1}>\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<Card.Header style={{\"backgroundColor\": \"#DEF1F7\"}}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col xs={12} md={8}>\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\"\n\t\t\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t{getTenantLabel(rec)}\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={12} md={4}>\n\t\t\t\t\t\t\t\t\t{ability.can('console_tenant', 'delete') &&\n\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\"type\": \"tenant\",\n\t\t\t\t\t\t\t\t\t\t\t\t\"label\": rec.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t{ability.can('console_tenant', 'edit') &&\n\t\t\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tmodalUpdateTenantOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\"name\": rec.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\"tag\": rec.tag || \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t\"description\": rec.description || \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t\"profile\": rec.profile || {}\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<span className=\"small\">{rec.description}</span>\n\t\t\t\t\t\t\t\t<hr className=\"mt-4\"/>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<Tabs defaultActiveKey=\"applications\" id=\"applications-tab\"\n\t\t\t\t\t\t\t\t      onSelect={(e) => fetchUsers(e, rec._id)}\n\t\t\t\t\t\t\t\t      style={{borderBottom: \"1px solid #dee2e6\"}}>\n\t\t\t\t\t\t\t\t\t<Tab eventKey=\"applications\" title={t(\"soajs:titles.Applications\")}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"mt-5 ml-3 mr-3\">\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"float-left font-weight-bold\">Available applications</h6>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t{ability.can('console_tenant_application', 'add') &&\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right mb-1\"\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tmodalAddApplicationOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t><GoDiffAdded/> {t(\"soajs:buttons.Add\")}</Button>}\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{rec.applications && rec.applications.map((appRec, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<Accordion className=\"mt-3 ml-3 mr-3\" key={index + 1} defaultActiveKey={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={12} md={8}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3 small\">{appRec.package}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"small text-muted\">[{appRec.appId}]</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-success small ml-3\">{[appRec.product]}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={12} md={4}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('console_tenant_application', 'delete') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"type\": \"application\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\": appRec.package,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('console_tenant_application', 'edit') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalUpdateApplicationOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"description\": appRec.description || \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"_TTL\": appRec._TTL ? appRec._TTL / 3600000 : 168,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"package\": appRec.package\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"small\">{appRec.description}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr className=\"mt-4\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mb-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"float-left font-weight-bold\">Available\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinternal\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkeys\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('console_tenant_application_key', 'add') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right mb-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddTenantApplicationKey({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{appRec.keys && appRec.keys.map((keyRec, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion className=\"mb-2\" key={index + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t           defaultActiveKey={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Header className=\"p-1 pl-2 pr-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t             style={{\"backgroundColor\": \"#dee2e6\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={12} md={8}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                  as={Button}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                  variant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3 small\"><FaKey\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-2\"/>{keyRec.key}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={12} md={4}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('console_tenant_application_key', 'delete') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"type\": \"key\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\": keyRec.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_console_application_key', 'configure') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<GearButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalKeyConfigurationOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"configAllEnv\": keyRec.config\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"float-left font-weight-bold\">Available\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texternal keys\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('console_tenant_application_ekey', 'add') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right mb-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalAddExtKeyOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t><GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Table responsive striped hover\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       size=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       className=\"small\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<thead\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-light bg-dark\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:buttons.Actions\")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.ExternalKey\")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Label\")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Environments\")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th className=\"text-right\">{t(\"soajs:fields.ExpDate\")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{keyRec.extKeys && keyRec.extKeys.map((extKeyRec, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('console_tenant_application_ekey', 'delete') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"type\": \"extKey\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\": extKeyRec.extKey,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"extKey\": extKeyRec.extKey\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('console_tenant_application_ekey', 'configure') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<GearButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalExtKeyConfigurationOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"extKey\": extKeyRec.extKey,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"expDate\": extKeyRec.expDate || null,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"device\": extKeyRec.device || {},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"geo\": extKeyRec.geo || {},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\": extKeyRec.label || \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"extKeyEnv\": extKeyRec.env || \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"wordBreak\": \"break-all\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"maxWidth\": \"400px\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>{extKeyRec.extKey}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td><Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\">{extKeyRec.label}</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{extKeyRec.env}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-right\">{extKeyRec.expDate ? new Date(extKeyRec.expDate).toISOString() : null}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<Tab eventKey=\"users\" title={t(\"soajs:titles.Users\")}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"mt-5 ml-3 mr-3\">\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"float-left font-weight-bold\">Available integration users</h6>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t{rec.oauth && rec.oauth.loginMode === \"oauth\" &&\n\t\t\t\t\t\t\t\t\t\t\tability.can('integration_user', 'add') &&\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right mb-1\"\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tmodalAddUserOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t><GoDiffAdded/> {t(\"soajs:buttons.Add\")}</Button>}\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t\t\t\t\t{rec.oauth && rec.oauth.loginMode !== \"oauth\" &&\n\t\t\t\t\t\t\t\t\t\t\t<Alert variant=\"danger\" className=\"small\">\n\t\t\t\t\t\t\t\t\t\t\t\tConfiguration issues detected with this tenant. Users will be disabled\n\t\t\t\t\t\t\t\t\t\t\t\tuntil\n\t\t\t\t\t\t\t\t\t\t\t\tissues are resolved.\n\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t{rec.oauth && rec.oauth.loginMode === \"oauth\" && users[rec._id] &&\n\t\t\t\t\t\t\t\t\t\t\t<CardDeck style={{\"overflowY\": \"auto\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t{users[rec._id].map((user, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t      style={{\"minWidth\": '16rem', \"maxWidth\": '16rem'}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body className=\"p-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('integration_user', 'delete') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-2 pt-0 pb-1 pl-1 pr-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteUser(rec._id, user._id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user.userId}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</CardDeck>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t</Accordion>\n\t\t\t))}\n\t\t\t\n\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t<AutoPagination\n\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\treLoad(p).catch();\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"clearfix\"></div>\n\t\t</>\n\t);\n}","import {Card} from \"react-bootstrap\";\nimport React from \"react\";\n\nexport default function Configuration() {\n\t\n\treturn (\n\t\t<>\n\t\t\t<Card>\n\t\t\t\t<Card.Header>\n\t\t\t\t\tThis Section will provide you some of the information you need for Continuous Delivery.\n\t\t\t\t</Card.Header>\n\t\t\t\t<Card.Body>\n\t\t\t\t\tHere is some of the Environment Variables you would need :\n\t\t\t\t\t<br/>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<b>SOAJS_URL:</b> The url to the your console api.<br/>\n\t\t\t\t\t<b>SOAJS_key:</b> The external key to your console tenant application.<br/>\n\t\t\t\t\t<b>SOAJS_cd_auth:</b> A valid continuous delivery token.<br/>\n\t\t\t\t\t<hr/>\n\t\t\t\t\t<a href=\"https://soajsorg.atlassian.net/wiki/x/ZYBBa\"> Click here </a>to Learn more about Continuous\n\t\t\t\t\tDelivery\n\t\t\t\t</Card.Body>\n\t\t\t</Card>\n\t\t\n\t\t</>\n\t);\n}","import {Button, Modal, Form} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../services\";\n\nconst infraService = InfraService.getService();\n\nexport default function AddModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\tconst [fields, setFields] = useState({\n\t\t\"label\": \"\"\n\t});\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\tvalid = (valid && fields.label.length > 0);\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait infraService.addToken(fields.label);\n\t\t\tNotificationManager.success(t(\"soajs:messages.addToken\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt) {\n\t\t\tsetFields({\n\t\t\t\t\"label\": \"\"\n\t\t\t});\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tokenAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Label\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"label\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.label}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"warning\"\n\t\t\t\t\tonClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Alert, Button, Badge} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {GoDiffAdded} from \"react-icons/go\";\n\nimport AddModal from \"./AddModal\";\n\nimport {InfraService} from \"../../../../services\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nimport DeleteButton from \"../../../buttons/Delete\";\n\nconst infraService = InfraService.getService();\n\nasync function onLoad(setFields, isSubscribed) {\n\ttry {\n\t\tconst response = await infraService.getCDTokens();\n\t\tif (isSubscribed && response) {\n\t\t\tsetFields(response);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Tokens() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [fields, setFields] = useState([]);\n\t\n\tconst [addModalOpt, setAddModalOpt] = useState({\"show\": false});\n\tconst handleAddShow = () => setAddModalOpt({\"show\": true});\n\t\n\tasync function reLoad() {\n\t\tawait onLoad(setFields, true);\n\t}\n\t\n\tasync function deleteToken(rec) {\n\t\ttry {\n\t\t\tawait infraService.deleteCDToken(rec.token);\n\t\t\tNotificationManager.success(t(\"soajs:messages.deleteToken\"));\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function updateToken(rec, status) {\n\t\ttry {\n\t\t\tawait infraService.updateCDToken(rec.token, status);\n\t\t\tNotificationManager.success(t(\"soajs:messages.updateToken\"));\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tonLoad(setFields, isSubscribed).catch();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<>\n\t\t\t<AddModal\n\t\t\t\tmodalOpt={addModalOpt}\n\t\t\t\tsetModalOpt={setAddModalOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<div>\n\t\t\t\t<h4 className=\"float-left\">{t(\"soajs:titles.CDToken\")}</h4>\n\t\t\t\t{ability.can('registry_custom', 'add') &&\n\t\t\t\t<Button variant=\"success\" className=\"float-right\" size=\"sm\"\n\t\t\t\t        onClick={() => {\n\t\t\t\t\t        handleAddShow();\n\t\t\t\t        }}\n\t\t\t\t>\n\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>}\n\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t</div>\n\t\t\t<hr/>\n\t\t\t{fields.map((rec, i) => (\n\t\t\t\t<Alert key={i} variant=\"light\" className=\"mt-2 mb-2\" style={{\"borderColor\": \"#c6c8ca\"}}>\n\t\t\t\t\t{ability.can('infra_cd_token', 'delete') &&\n\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\tclassName=\"float-left mr-2\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tdeleteToken(rec).catch();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\t{rec.status === \"active\" &&\n\t\t\t\t\t<Button variant=\"warning\"\n\t\t\t\t\t        className=\"float-left mr-2\"\n\t\t\t\t\t        size=\"sm\"\n\t\t\t\t\t        disabled={!ability.can('infra_cd_token', 'update')}\n\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t        updateToken(rec, \"inactive\").catch();\n\t\t\t\t\t        }}\n\t\t\t\t\t>Deactivate</Button>}\n\t\t\t\t\t{rec.status === \"inactive\" &&\n\t\t\t\t\t<Button variant=\"success\"\n\t\t\t\t\t        className=\"float-left mr-2\"\n\t\t\t\t\t        size=\"sm\"\n\t\t\t\t\t        disabled={!ability.can('infra_cd_token', 'update')}\n\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t        updateToken(rec, \"active\").catch();\n\t\t\t\t\t        }}\n\t\t\t\t\t>Activate</Button>}\n\t\t\t\t\t{rec.label &&\n\t\t\t\t\t<Badge variant=\"dark\" className=\" float-right mt-2 ml-2\">\n\t\t\t\t\t\t{rec.label}\n\t\t\t\t\t</Badge>\n\t\t\t\t\t}\n\t\t\t\t\t<small style={{\n\t\t\t\t\t\t\"wordBreak\": \"break-all\"\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<span className=\"small float-left mt-2\">\n\t\t\t\t\t\t{rec.token}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</small>\n\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t</Alert>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {Alert, Row, Col, Button, useAccordionToggle, Accordion} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../services\";\nimport AutoPagination from \"../../../../lib/AutoPagination\";\n\nimport JsonModal from \"../../../../soajs/urac/components/JsonModal\";\nimport {FcCollapse, FcExpand} from \"react-icons/fc\";\n\nfunction getDate(timestamp) {\n\tlet dateStr = \"\";\n\tif (timestamp) {\n\t\tlet date = new Date(timestamp);\n\t\tdateStr = dateStr +\n\t\t\tdate.getDate() +\n\t\t\t\"/\" + (date.getMonth() + 1) +\n\t\t\t\"/\" + date.getFullYear() +\n\t\t\t\" - \" + date.getHours() +\n\t\t\t\":\" + date.getMinutes() +\n\t\t\t\":\" + date.getSeconds()\n\t}\n\treturn dateStr;\n}\n\nfunction CustomToggle({children, eventKey, handleClick}) {\n\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\thandleClick();\n\t});\n\treturn (\n\t\t<div className=\"float-right\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nconst consoleService = ConsoleService.getService();\n\nasync function onLoad(setFields, setPagination, currentPage, isSubscribed) {\n\ttry {\n\t\tlet c = {\"limit\": 12, \"skip\": (currentPage - 1) * 12};\n\t\t\n\t\tconst response = await consoleService.getLedger(c);\n\t\tif (isSubscribed && response && response.items) {\n\t\t\tsetFields(response.items);\n\t\t\tsetPagination(\n\t\t\t\t{\n\t\t\t\t\t\"totalItems\": response.count,\n\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\"itemsPerPage\": response.limit\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\n\nexport default function Notifications() {\n\tconst [fields, setFields] = useState([]);\n\tconst [activeKey, setActiveKey] = useState(0);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\t\n\tfunction showJson(input, title) {\n\t\tlet json = input;\n\t\tif (typeof json === \"string\") {\n\t\t\ttry {\n\t\t\t\tjson = JSON.parse(json);\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\tmodalOptShow(json, title);\n\t}\n\t\n\tasync function reLoad(page) {\n\t\tawait onLoad(setFields, setPagination, page || currentPage, true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tonLoad(setFields, setPagination, 1, isSubscribed);\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\tfields.length > 0 &&\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t{fields.map((d, i) => (\n\t\t\t\t\t<Alert key={i} variant=\"light\" className=\"mt-2 mb-2\" style={{\"borderColor\": \"#c6c8ca\"}}>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<span className=\"float-left\">\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold mr-5\">{d.type} > {d.section}</span>\n\t\t\t\t\t\t\t\t[<span className=\"small text-info mr-2\">{d.env}:</span>\n\t\t\t\t\t\t\t\t<span className=\"small\">{getDate(d.time)}</span>]\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\t\teventKey={i + 1}\n\t\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\t\tif (activeKey === (i + 1)) {\n\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(i + 1);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{activeKey === (i + 1) ? <FcExpand/> :\n\t\t\t\t\t\t\t\t\t\t<FcCollapse/>}\n\t\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t\t\t<span className=\"float-right mr-2\">{d.action}: {d.status}</span>\n\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={i + 1}>\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<hr className=\"mt-2 mb-1\"/>\n\t\t\t\t\t\t\t\t<Row className=\"mt-2 small\">\n\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<span className=\"float-left\">\n\t\t\t\t\t\t\t{d.locator.join(\"- \")}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"link\" size=\"sm\"\n\t\t\t\t\t\t\t\t\t\t        style={{\"borderColor\": \"#c6c8ca\"}}\n\t\t\t\t\t\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t        showJson(d.input);\n\t\t\t\t\t\t\t\t\t\t        }}>request</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right mr-2\" variant=\"link\" size=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\"borderColor\": \"#c6c8ca\"}}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tshowJson(d.output);\n\t\t\t\t\t\t\t\t\t\t\t}}>response</Button>\n\t\t\t\t\t\t\t\t\t\t{d.who &&\n\t\t\t\t\t\t\t\t\t\t<Button className=\"float-right mr-4\" variant=\"link\" size=\"sm\"\n\t\t\t\t\t\t\t\t\t\t        style={{\"borderColor\": \"#c6c8ca\"}}\n\t\t\t\t\t\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t        showJson(d.who);\n\t\t\t\t\t\t\t\t\t\t        }}>{d.who.username}</Button>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Alert>\n\t\t\t\t))}\n\t\t\t</Accordion>\n\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t<AutoPagination\n\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\treLoad(p);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"clearfix\"></div>\n\t\t</>\n\t)\n}\n;","import {Button, Card, CardDeck, Form, Jumbotron} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport _ from \"lodash\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../services\";\nimport {UracService} from \"../../../../soajs/urac/services\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nconst uracService = UracService.getService();\nconst infraService = InfraService.getService();\n\nfunction isGroupSelected(settings, value) {\n\treturn (\n\t\tsettings &&\n\t\tsettings.acl &&\n\t\tsettings.acl.groups &&\n\t\tsettings.acl.groups.value &&\n\t\tsettings.acl.groups.value.includes(value)\n\t);\n}\n\nexport default function ConfigureModalGroups({settings, id, handleAction, handleClose}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [groups, setGroups] = useState([]);\n\tconst [fields, setFields] = useState({\n\t\t\"groups\": [],\n\t\t\"type\": \"whitelist\"\n\t});\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\t\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction whitelistBlacklist(checked, what) {\n\t\tlet obj = fields;\n\t\tobj.type = what;\n\t\tsetFields({...obj});\n\t}\n\t\n\tfunction onChangeGroup(checked, code) {\n\t\tlet obj = fields;\n\t\tif (checked) {\n\t\t\tobj.groups.push(code);\n\t\t} else {\n\t\t\t_.pullAll(obj.groups, [code]);\n\t\t}\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleDelete(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tawait infraService.deleteInfraAccountAcl(id);\n\t\t\tNotificationManager.success(t(\"soajs:messages.envGroupDeleteSuccess\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function handleSave(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tawait infraService.saveInfraAccountAcl({\n\t\t\t\t\"id\": id,\n\t\t\t\t\"groups\": fields.groups,\n\t\t\t\t\"type\": fields.type\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.envGroupSaveSuccess\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (settings && settings.acl && settings.acl.groups) {\n\t\t\t\t\tsetFields({\n\t\t\t\t\t\t\"groups\": settings.acl.groups.value,\n\t\t\t\t\t\t\"type\": settings.acl.groups.type\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tconst _groups = await uracService.getGroups();\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetGroups(_groups);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, [settings]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-4 m-0 bg-light border-dark small\">\n\t\t\t\t<fieldset>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"whitelist\"\n\t\t\t\t\t\tname=\"groupsType\"\n\t\t\t\t\t\tid=\"groupsType1\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"whitelist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"whitelist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"blacklist\"\n\t\t\t\t\t\tname=\"groupsType\"\n\t\t\t\t\t\tid=\"groupsType2\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"blacklist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"blacklist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</fieldset>\n\t\t\t</Jumbotron>\n\t\t\t<CardDeck className=\"ml-2\">\n\t\t\t\t{groups.map((oo, index) => (\n\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t      style={{\"minWidth\": '11rem', \"maxWidth\": '11rem'}}>\n\t\t\t\t\t\t<Card.Body className=\"p-2\">\n\t\t\t\t\t\t\t<Form.Check className=\"small\" key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t            defaultChecked={isGroupSelected(settings, oo.code)}\n\t\t\t\t\t\t\t            label={oo.code}\n\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t            onChangeGroup(event.target.checked, oo.code)\n\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</CardDeck>\n\t\t\t<hr/>\n\t\t\t<div>\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t\t\n\t\t\t\t{ability.can('env_aclGroups', 'update') &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleSave}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Save\")}\n\t\t\t\t</Button>}\n\t\t\t\t\n\t\t\t\t{ability.can('env_aclGroups', 'delete') &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"danger\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleDelete}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>}\n\t\t\t</div>\n\t\t</>\n\t);\n}","import {useTranslation} from \"react-i18next\";\nimport React from \"react\";\nimport {\n\tForm,\n\tJumbotron, Modal,\n\tTab, Tabs\n} from \"react-bootstrap\";\n\nimport ConfigureModalGroups from \"./ConfigureModalGroups\";\n\nexport default function ConfigureModal({modalOpt, setModalOpt, handleAfterSubmit}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, \"item\": null});\n\t\n\treturn (\n\t\t<>\n\t\t\t{modalOpt.item &&\n\t\t\t<Modal size=\"lg\" show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>{t(\"soajs:titles.clusterConfiguration\")}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t\n\t\t\t\t\t<Jumbotron className=\"p-4\">\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{modalOpt.item.label}</span>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t{modalOpt.item.description}\n\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t<Form onSubmit={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"acl\" id=\"config\">\n\t\t\t\t\t\t\t<Tab eventKey=\"acl\" title={t(\"soajs:fields.Groups\")}>\n\t\t\t\t\t\t\t\t<ConfigureModalGroups\n\t\t\t\t\t\t\t\t\tsettings={modalOpt.item.settings}\n\t\t\t\t\t\t\t\t\thandleAction={() => {\n\t\t\t\t\t\t\t\t\t\thandleAfterSubmit();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\thandleClose={handleClose}\n\t\t\t\t\t\t\t\t\tid={modalOpt.item._id}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</Form>\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../services\";\n\nconst infraService = InfraService.getService();\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait infraService.deleteInfraAccount(modalOpt.item._id);\n\t\t\tNotificationManager.success(t(\"soajs:messages.deleteCluster\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>{t(\"soajs:messages.deleteQuestion\")}</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form, Col} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\n\nimport {JsonEditor, NotificationManager} from \"../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../services\";\n\nconst infraService = InfraService.getService();\n\nlet _json = null;\nexport default function AddModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\tconst [fields, setFields] = useState({\n\t\t\"label\": \"\",\n\t\t\"description\": \"\",\n\t\t\"url\": \"\",\n\t\t\"port\": 0,\n\t\t\"token\": \"\",\n\t\t\"type\": \"secret\"\n\t});\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.label.length > 0 &&\n\t\t\tfields.description.length > 0 &&\n\t\t\tfields.token.length > 0 &&\n\t\t\tfields.url.length > 0 &&\n\t\t\tfields.port > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: event.target.value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet data = {\n\t\t\t\t\"label\": fields.label,\n\t\t\t\t\"description\": fields.description,\n\t\t\t\t\"url\": fields.url,\n\t\t\t\t\"port\": parseInt(fields.port),\n\t\t\t\t\"token\": fields.token,\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"ca\": _json\n\t\t\t};\n\t\t\tawait infraService.addInfraAccount(data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.addInfraAccount\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\tif (json) {\n\t\t\t_json = json;\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.clusterAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Label\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"label\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.label}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Url\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"url\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.url}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Port\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"port\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={fields.port}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Token\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"token\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\tvalue={fields.token}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Certificate\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\tjson={_json}\n\t\t\t\t\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form, Col} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\n\nimport {JsonEditor, NotificationManager} from \"../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../services\";\n\nconst infraService = InfraService.getService();\n\nexport default function UpdateModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\tconst [fields, setFields] = useState({\n\t\t\"id\": \"\",\n\t\t\"label\": \"\",\n\t\t\"description\": \"\",\n\t\t\"url\": \"\",\n\t\t\"port\": 0,\n\t\t\"token\": \"\",\n\t\t\"type\": \"secret\",\n\t\t\"ca\": null\n\t});\n\tlet _ca = null;\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.label.length > 0 &&\n\t\t\tfields.description.length > 4 &&\n\t\t\tfields.token.length > 0 &&\n\t\t\tfields.url.length > 0 &&\n\t\t\tfields.port > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: event.target.value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tfields.port = parseInt(fields.port);\n\t\t\tfields.ca = _ca || fields.ca;\n\t\t\tawait infraService.updateInfraAccount(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.updateInfraAccount\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\tif (json) {\n\t\t\t_ca = json;\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields({\n\t\t\t\t\"id\": modalOpt.item._id,\n\t\t\t\t\"label\": modalOpt.item.label,\n\t\t\t\t\"description\": modalOpt.item.description,\n\t\t\t\t\"url\": modalOpt.item.configuration.url,\n\t\t\t\t\"port\": modalOpt.item.configuration.port,\n\t\t\t\t\"token\": \"\",\n\t\t\t\t\"type\": \"secret\",\n\t\t\t\t\"ca\": null\n\t\t\t});\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.clusterUpdate\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Label\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"label\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.label}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Url\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"url\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.url}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Port\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"port\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={fields.port}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Token\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"token\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\tvalue={fields.token}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Certificate\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\tjson={fields.ca}\n\t\t\t\t\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {\n\tAccordion,\n\tAlert, Button,\n\tCard,\n\tCardDeck, Col,\n\tListGroup,\n\tListGroupItem, Row,\n\tuseAccordionToggle\n} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {GoDiffAdded} from \"react-icons/go\";\nimport {useTranslation} from \"react-i18next\";\nimport {FcCollapse, FcExpand} from \"react-icons/fc\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../services\";\n\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\nimport DeleteButton from \"../../../buttons/Delete\";\nimport EditButton from \"../../../buttons/Edit\";\nimport AclButton from \"../../../buttons/Acl\";\n\nimport ConfigureModal from \"./ConfigureModal\";\nimport DeleteModal from \"./DeleteModal\";\nimport AddModal from \"./AddModal\";\nimport UpdateModal from \"./UpdateModal\";\n\nconst infraService = InfraService.getService();\n\nfunction CustomToggle({children, eventKey, handleClick}) {\n\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\thandleClick();\n\t});\n\treturn (\n\t\t<div className=\"float-left\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nasync function onLoad(setFields, isSubscribed) {\n\ttry {\n\t\tconst response = await infraService.getInfraAccounts();\n\t\tif (isSubscribed && response) {\n\t\t\tsetFields(response);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Infrastructure() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [fields, setFields] = useState([]);\n\tconst [activeKey, setActiveKey] = useState(1);\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"item\": null});\n\tconst handleModalShow = (item) => setModalOpt({\"show\": true, \"item\": item});\n\tconst [deleteModalOpt, setDeleteModalOpt] = useState({\"show\": false, item: null});\n\tconst handleDeleteShow = (item) => setDeleteModalOpt({\"show\": true, \"item\": item});\n\tconst [addModalOpt, setAddModalOpt] = useState({\"show\": false});\n\tconst handleAddShow = () => setAddModalOpt({\"show\": true});\n\tconst [updateModalOpt, setUpdateModalOpt] = useState({\"show\": false, item: null});\n\tconst handleUpdateShow = (item) => setUpdateModalOpt({\"show\": true, \"item\": item});\n\t\n\t\n\tasync function reLoad() {\n\t\tawait onLoad(setFields, true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tonLoad(setFields, isSubscribed);\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\tfields.length > 0 &&\n\t\t<>\n\t\t\t<UpdateModal\n\t\t\t\tmodalOpt={updateModalOpt}\n\t\t\t\tsetModalOpt={setUpdateModalOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<AddModal\n\t\t\t\tmodalOpt={addModalOpt}\n\t\t\t\tsetModalOpt={setAddModalOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={deleteModalOpt}\n\t\t\t\tsetModalOpt={setDeleteModalOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<ConfigureModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t\thandleAfterSubmit={reLoad}\n\t\t\t/>\n\t\t\t<div>\n\t\t\t\t<h4 className=\"float-left\">{t(\"soajs:titles.infrastructure\")}</h4>\n\t\t\t\t{ability.can('infra_account', 'add') &&\n\t\t\t\t<Button variant=\"success\" className=\"float-right\" size=\"sm\"\n\t\t\t\t        onClick={() => {\n\t\t\t\t\t        handleAddShow();\n\t\t\t\t        }}\n\t\t\t\t>\n\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>}\n\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t</div>\n\t\t\t<hr/>\n\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t{fields.map((d, i) => (\n\t\t\t\t\t<Card key={i + 1}>\n\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col xs={12} md={8}>\n\t\t\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\t\t\tas={Card.Header}\n\t\t\t\t\t\t\t\t\t\teventKey={i + 1}\n\t\t\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tif (activeKey === (i + 1)) {\n\t\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(i + 1);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{activeKey === (i + 1) ? <FcExpand className=\"mr-1\"/> :\n\t\t\t\t\t\t\t\t\t\t\t<FcCollapse className=\"mr-1\"/>} <span\n\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{d.label}</span>\n\t\t\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={12} md={4}>\n\t\t\t\t\t\t\t\t\t{ability.can('infra_account', 'delete') &&\n\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\thandleDeleteShow(d)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{ability.can('infra_account', 'updateAcl') &&\n\t\t\t\t\t\t\t\t\t<AclButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\thandleModalShow(d)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{ability.can('infra_account', 'edit') &&\n\t\t\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\thandleUpdateShow(d);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={i + 1}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t{d.description}\n\t\t\t\t\t\t\t\t<Alert variant=\"info\" className=\"small mt-3 mb-3\">\n\t\t\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.MasterNode\")}:</span> {d.configuration.url}\n\t\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.Port\")}:</span> {d.configuration.port}\n\t\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t\t{d.deployments && d.deployments.length > 0 &&\n\t\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.Environment\")} / {t(\"soajs:fields.Namespace\")}:</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<CardDeck className=\"mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t{d.deployments.map((env, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card key={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\t      className=\"text-center text-white mb-2 mt-2 ml-2 mr-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t      bg=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t      style={{\"minWidth\": '11rem', \"maxWidth\": '11rem'}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"p-2\">{env.env} / {env.namespace}</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>))}\n\t\t\t\t\t\t\t\t\t\t\t</CardDeck>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</Accordion>\n\t\t</>\n\t)\n};","import {\n\tForm,\n\tCol\n} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {LoaderButton} from \"../../../../soajs/helpers\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {RepositoriesService} from \"../../../../services\";\nimport {useHistory} from \"react-router-dom\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nconst repositoriesService = RepositoriesService.getService();\n\nconst _GITHUB_ = \"1\";\nconst _BITBUCKET_ = \"2\";\nconst _BITBUCKET_ENT_ = \"3\";\nconst _PERSONAL_ = \"1\";\nconst _ORGANIZATION_ = \"2\";\nconst _PUBLIC_ = \"1\";\nconst _PRIVATE_ = \"2\";\n\nexport default function AddAccount({rootPath}) {\n\tconst [fields, setFields] = useState({\n\t\t\"label\": \"\",\n\t\t\"accountType\": _PERSONAL_,\n\t\t\"username\": \"\",\n\t\t\"email\": \"\",\n\t\t\"token\": \"\",\n\t\t\"consumerKey\": \"\",\n\t\t\"consumerSecret\": \"\"\n\t});\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [fieldProvider, setFieldProvider] = useState(_GITHUB_);\n\tconst [fieldAccessType, setFieldAccessType] = useState(_PUBLIC_);\n\tconst [fieldDomain, setFieldDomain] = useState(\"github.com\");\n\t\n\tconst history = useHistory();\n\tconst [isLoading, setIsLoading] = useState(false);\n\t\n\tfunction onChangeProvider(event) {\n\t\tsetFieldProvider(event.target.value)\n\t\tif (event.target.value === _GITHUB_) {\n\t\t\tsetFieldDomain(\"github.com\");\n\t\t} else if (event.target.value === _BITBUCKET_) {\n\t\t\tsetFieldDomain(\"bitbucket.org\");\n\t\t} else {\n\t\t\tsetFieldDomain(\"\");\n\t\t}\n\t}\n\t\n\tfunction onChangeDomain(event) {\n\t\tsetFieldDomain(event.target.value)\n\t}\n\t\n\tfunction onChangeAccessType(event) {\n\t\tsetFieldAccessType(event.target.value)\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\tsetIsLoading(true);\n\t\tlet data = {\n\t\t\t\"label\": fields.label,\n\t\t\t\"domain\": fieldDomain,\n\t\t\t\"username\": fields.username,\n\t\t\t\"email\": fields.email,\n\t\t\t\"token\": fields.token,\n\t\t\t\"oauthKey\": fields.consumerKey,\n\t\t\t\"oauthSecret\": fields.consumerSecret\n\t\t};\n\t\tif (fields.accountType === _PERSONAL_) {\n\t\t\tdata.type = \"personal\";\n\t\t} else if (fields.accountType === _ORGANIZATION_) {\n\t\t\tdata.type = \"organization\";\n\t\t}\n\t\t\n\t\tif (fieldAccessType === _PUBLIC_) {\n\t\t\tdata.access = \"public\";\n\t\t} else if (fieldAccessType === _PRIVATE_) {\n\t\t\tdata.access = \"private\";\n\t\t}\n\t\t\n\t\tif (fieldProvider === _GITHUB_) {\n\t\t\tdata.provider = \"github\";\n\t\t} else if (fieldProvider === _BITBUCKET_) {\n\t\t\tdata.provider = \"bitbucket\";\n\t\t\tdata.username = data.email;\n\t\t} else if (fieldProvider === _BITBUCKET_ENT_) {\n\t\t\tdata.provider = \"bitbucket_enterprise\";\n\t\t}\n\t\t\n\t\ttry {\n\t\t\tawait repositoriesService.addGitAccount(data);\n\t\t\tNotificationManager.success(t(\"soajs:development.accounts.addMsg\"));\n\t\t\thistory.push(rootPath);\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t\tsetIsLoading(false);\n\t}\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\tif (fieldProvider === _GITHUB_ || fieldProvider === _BITBUCKET_ENT_) {\n\t\t\tvalid = (valid && fields.username.length > 0);\n\t\t}\n\t\tif (fieldProvider === _BITBUCKET_) {\n\t\t\tvalid = (valid && fields.email.length > 0);\n\t\t}\n\t\tif (fieldAccessType === _PRIVATE_) {\n\t\t\tvalid = (valid && fields.token.length > 0);\n\t\t\tif (fieldProvider === _BITBUCKET_) {\n\t\t\t\tvalid = (valid && fields.consumerSecret.length > 0);\n\t\t\t\tvalid = (valid && fields.consumerKey.length > 0);\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\tfields.label.length > 0 &&\n\t\t\tfieldDomain.length > 0 &&\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t<div className=\"clearfix mb-3\">\n\t\t\t\t<h3 className=\"float-left\">{t(\"soajs:development.accounts.addTitle\")}</h3>\n\t\t\t</div>\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group>\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:development.accounts.provider\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\tid=\"provider\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fieldProvider}\n\t\t\t\t\t\t\t\tonChange={onChangeProvider}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value={_GITHUB_}>Github</option>\n\t\t\t\t\t\t\t\t<option value={_BITBUCKET_}>Bitbucket</option>\n\t\t\t\t\t\t\t\t<option value={_BITBUCKET_ENT_}>Bitbucket Enterprise</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:development.accounts.accountType\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\tid=\"accountType\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.accountType}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value={_PERSONAL_}>Personal Account</option>\n\t\t\t\t\t\t\t\t<option value={_ORGANIZATION_}>Organization Account</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:development.accounts.accessType\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\tid=\"accessType\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fieldAccessType}\n\t\t\t\t\t\t\t\tonChange={onChangeAccessType}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value={_PUBLIC_}>Only Public Repositories</option>\n\t\t\t\t\t\t\t\t<option value={_PRIVATE_}>Both Public and Private Repositories</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t<hr/>\n\t\t\t\t\t\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:development.accounts.label\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"label\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.label}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:development.accounts.domain\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tdisabled={(fieldProvider === _BITBUCKET_ || fieldProvider === _GITHUB_)}\n\t\t\t\t\t\t\t\tid=\"domain\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fieldDomain}\n\t\t\t\t\t\t\t\tonChange={onChangeDomain}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\n\t\t\t\t\t<hr/>\n\t\t\t\t\t{(fieldProvider === _GITHUB_ || fieldProvider === _BITBUCKET_ENT_) &&\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:development.accounts.username\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.username}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>}\n\t\t\t\t\t\n\t\t\t\t\t{fieldProvider === _BITBUCKET_ &&\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:development.accounts.email\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\tvalue={fields.email}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>}\n\t\t\t\t\t\n\t\t\t\t\t{fieldAccessType === _PRIVATE_ &&\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:development.accounts.token\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"token\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.token}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>}\n\t\t\t\t\t\n\t\t\t\t\t{fieldProvider === _BITBUCKET_ && fieldAccessType === _PRIVATE_ &&\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:development.accounts.consumerKey\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"consumerKey\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.consumerKey}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>}\n\t\t\t\t\t\n\t\t\t\t\t{fieldProvider === _BITBUCKET_ && fieldAccessType === _PRIVATE_ &&\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:development.accounts.consumerSecret\")}</Form.Label>\n\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"consumerSecret\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.consumerSecret}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Row>}\n\t\t\t\t\t\n\t\t\t\t\t<hr/>\n\t\t\t\t</Form.Group>\n\t\t\t\t\n\t\t\t\t{ability.can('repo_account', 'add') &&\n\t\t\t\t<LoaderButton\n\t\t\t\t\tclassName=\"mb-3\"\n\t\t\t\t\tblock\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</LoaderButton>}\n\t\t\t\t\n\t\t\t</Form>\n\t\t</>\n\t);\n}","import {Button, Card, Col, Form, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {BiGitBranch} from \"react-icons/bi\";\nimport {AiFillGithub} from \"react-icons/ai\";\nimport {DiBitbucket} from \"react-icons/di\";\n\nimport {RepositoriesService} from \"../../../../services\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nconst repositoriesService = RepositoriesService.getService();\n\nfunction Provider({provider}) {\n\tlet icon = (<BiGitBranch/>);\n\tif (provider === \"github\") {\n\t\ticon = (<AiFillGithub/>);\n\t} else if (provider === \"bitbucket_enterprise\") {\n\t\ticon = (<DiBitbucket/>);\n\t} else if (provider === \"bitbucket\") {\n\t\ticon = (<DiBitbucket/>);\n\t}\n\treturn (icon);\n}\n\nexport default function UpgradeModal({modalOpt, setModalOpt, modalFields, setModalFields, handleAfterSubmit}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetModalFields({\n\t\t\t...modalFields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tlet data = {\n\t\t\t\t\"id\": modalFields.id,\n\t\t\t\t\"username\": modalFields.username,\n\t\t\t\t\"token\": modalFields.token,\n\t\t\t\t\"oauthKey\": modalFields.consumerKey,\n\t\t\t\t\"oauthSecret\": modalFields.consumerSecret\n\t\t\t}\n\t\t\tawait repositoriesService.upgradeGitAccount(data);\n\t\t\tNotificationManager.success(t(\"soajs:development.accounts.upgradeMsg\"));\n\t\t\thandleAfterSubmit();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\t\n\t\tvalid = (valid && modalFields.token.length > 0);\n\t\tif (modalFields.provider === \"bitbucket\") {\n\t\t\tvalid = (valid && modalFields.consumerSecret.length > 0);\n\t\t\tvalid = (valid && modalFields.consumerKey.length > 0);\n\t\t}\n\t\t\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\treturn (\n\t\t<>\n\t\t\t{modalFields &&\n\t\t\t<Modal size=\"lg\" show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>{t(\"soajs:development.accounts.upgrade\")}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t<Provider provider={modalFields.provider}/> <span\n\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{modalFields.label}</span> [{modalFields.username}]\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t<Form onSubmit={(event) => {\n\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t\t\t\t<Form.Label column=\"sm\"\n\t\t\t\t\t\t\t\t\t\t            sm={4}>{t(\"soajs:development.accounts.token\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t<Col sm={8}>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"token\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={modalFields.token}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t{modalFields.provider === \"bitbucket\" &&\n\t\t\t\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t\t\t\t<Form.Label column=\"sm\"\n\t\t\t\t\t\t\t\t\t\t            sm={4}>{t(\"soajs:development.accounts.consumerKey\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t<Col sm={8}>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"consumerKey\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={modalFields.consumerKey}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Form.Row>}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t{modalFields.provider === \"bitbucket\" &&\n\t\t\t\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t\t\t\t<Form.Label column=\"sm\"\n\t\t\t\t\t\t\t\t\t\t            sm={4}>{t(\"soajs:development.accounts.consumerSecret\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t<Col sm={8}>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"consumerSecret\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={modalFields.consumerSecret}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Form.Row>}\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t\n\t\t\t\t\t{ability.can('repo_account', 'upgrade') &&\n\t\t\t\t\t<Button variant=\"success\"\n\t\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t\t        onClick={handleSubmit}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t(\"soajs:buttons.Upgrade\")}\n\t\t\t\t\t</Button>}\n\t\t\t\t\t\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {RepositoriesService} from \"../../../../services\";\n\nconst repositoriesService = RepositoriesService.getService();\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait repositoriesService.deleteGitAccount(modalOpt.opts.id);\n\t\t\tNotificationManager.success(t(\"soajs:development.accounts.deleteMsg\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>{t(\"soajs:messages.deleteQuestion\")}</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {GiUpgrade} from \"react-icons/gi\";\n\nexport default function Upgrade({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.Upgrade\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button size=\"sm\" variant=\"secondary\" {...props}>\n\t\t\t\t<GiUpgrade/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import React, {useEffect, useState} from \"react\";\nimport {Link} from \"react-router-dom\";\nimport {\n\tButton,\n\tAccordion,\n\tCard,\n\tuseAccordionToggle,\n\tListGroup,\n\tListGroupItem,\n\tCardDeck,\n\tJumbotron, Col, Row\n} from \"react-bootstrap\";\nimport {useTranslation} from \"react-i18next\";\nimport {GoDiffAdded} from \"react-icons/go\";\nimport {FcCollapse, FcExpand} from \"react-icons/fc\";\nimport {AiFillGithub} from \"react-icons/ai\";\nimport {DiBitbucket} from \"react-icons/di\";\nimport {BiGitBranch} from \"react-icons/bi\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {RepositoriesService} from \"../../../../services\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nimport UpgradeModal from \"./UpgradeModal\";\nimport DeleteModal from \"./DeleteModal\";\n\nimport DeleteButton from \"../../../buttons/Delete\";\nimport SynchroniseButton from \"../../../buttons/Synchronise\";\nimport UpgradeButton from \"../../../buttons/Upgrade\";\n\nconst repositoriesService = RepositoriesService.getService();\n\nfunction Organizations({metadata, t}) {\n\tlet show = false;\n\tif (metadata && metadata.organizations && Array.isArray(metadata.organizations) && metadata.organizations.length > 0) {\n\t\tshow = true;\n\t}\n\treturn (\n\t\tshow &&\n\t\t<Jumbotron className=\"p-3 mt-3 bg-light\">\n\t\t\t<h6 className=\"mb-4 font-weight-bold\">{t(\"soajs:development.accounts.organizations\")}</h6>\n\t\t\t<CardDeck>\n\t\t\t\t{metadata.organizations.map((_O, _I) => (\n\t\t\t\t\t<Card key={_I} className=\"text-center text-white\" bg=\"secondary\"\n\t\t\t\t\t      style={{\"minWidth\": '21rem', \"maxWidth\": '21rem'}}>\n\t\t\t\t\t\t<Card.Body className=\"p-2\">{_O}</Card.Body>\n\t\t\t\t\t</Card>))}\n\t\t\t</CardDeck>\n\t\t</Jumbotron>\n\t);\n}\n\nfunction Provider({provider}) {\n\tlet icon = (<BiGitBranch/>);\n\tif (provider === \"github\") {\n\t\ticon = (<AiFillGithub/>);\n\t} else if (provider === \"bitbucket_enterprise\") {\n\t\ticon = (<DiBitbucket/>);\n\t} else if (provider === \"bitbucket\") {\n\t\ticon = (<DiBitbucket/>);\n\t}\n\treturn (icon);\n}\n\nfunction CustomToggle({children, eventKey, handleClick}) {\n\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\thandleClick();\n\t});\n\treturn (\n\t\t<div className=\"float-left\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nasync function onLoad(setFields, isSubscribed) {\n\ttry {\n\t\tconst gitAccounts = await repositoriesService.getGitAccounts();\n\t\tif (isSubscribed) {\n\t\t\tsetFields(gitAccounts);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Accounts({rootPath}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [activeKey, setActiveKey] = useState(1);\n\tconst {ability} = useAppContext();\n\tconst [modalFields, setModalFields] = useState({\n\t\t\"id\": \"\",\n\t\t\"provider\": \"\",\n\t\t\"label\": \"\",\n\t\t\"username\": \"\",\n\t\t\"token\": \"\",\n\t\t\"consumerKey\": \"\",\n\t\t\"consumerSecret\": \"\"\n\t});\n\t\n\tconst [deleteModalOpt, setDeleteModalOpt] = useState({\"show\": false, opts: null});\n\tconst handleDeleteShow = (opt) => setDeleteModalOpt({\"show\": true, opts: opt});\n\t\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"item\": null});\n\tconst handleModalShow = (item) => {\n\t\tsetModalFields({\n\t\t\t\"id\": item._id,\n\t\t\t\"provider\": item.provider,\n\t\t\t\"label\": item.label,\n\t\t\t\"username\": item.owner,\n\t\t\t\"token\": \"\",\n\t\t\t\"consumerKey\": \"\",\n\t\t\t\"consumerSecret\": \"\"\n\t\t})\n\t\tsetModalOpt({\"show\": true, \"item\": item})\n\t};\n\t\n\tasync function syncAccount(id) {\n\t\ttry {\n\t\t\tawait repositoriesService.syncGitAccount(id);\n\t\t\tNotificationManager.success(t(\"soajs:development.accounts.syncMsg\"));\n\t\t\tawait onLoad(setFields, true)\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function reload() {\n\t\tawait onLoad(setFields, true)\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tonLoad(setFields, isSubscribed);\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<>\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={deleteModalOpt}\n\t\t\t\tsetModalOpt={setDeleteModalOpt}\n\t\t\t\thandleAction={reload}\n\t\t\t/>\n\t\t\t<UpgradeModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t\tsetModalFields={setModalFields}\n\t\t\t\tmodalFields={modalFields}\n\t\t\t\thandleAfterSubmit={reload}\n\t\t\t/>\n\t\t\t\n\t\t\t<div className=\"clearfix float-none mb-3\">\n\t\t\t\t<h3 className=\"float-left\">{t(\"soajs:development.accounts.title\")}</h3>\n\t\t\t\t\n\t\t\t\t{ability.can('repo_account', 'add') &&\n\t\t\t\t<Link to={rootPath + '/add'}>\n\t\t\t\t\t<Button variant=\"success\" className=\"float-right\" size=\"sm\">\n\t\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</Link>}\n\t\t\t\n\t\t\t</div>\n\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t{fields.map((item, index) => (\n\t\t\t\t\t<Card key={index + 1}>\n\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col xs={12} md={8}>\n\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\tas={Card.Header}\n\t\t\t\t\t\t\t\teventKey={index + 1}\n\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\tif (activeKey === (index + 1)) {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(index + 1);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{activeKey === (index + 1) ? <FcExpand className=\"mr-1\"/> :\n\t\t\t\t\t\t\t\t\t<FcCollapse className=\"mr-1\"/>} <Provider\n\t\t\t\t\t\t\t\tprovider={item.provider}/> <span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{item.label}</span> [{item.owner}]\n\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={12} md={4}>\n\t\t\t\t\t\t\t{ability.can('repo_account', 'delete') &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\thandleDeleteShow({\"id\": item._id});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('repo_account', 'synchronize') &&\n\t\t\t\t\t\t\t<SynchroniseButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsyncAccount(item._id)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('repo_account', 'upgrade') &&  item.access === \"public\" &&\n\t\t\t\t\t\t\t<UpgradeButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\thandleModalShow(item)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:development.accounts.accountType\")}:</span> {item.accountType}\n\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:development.accounts.domain\")}:</span> {item.domain}\n\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:development.accounts.accessType\")}:</span> {item.access}\n\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t\t\t<Organizations metadata={item.metadata} t={t}/>\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t\t{fields.length === 0 ? (\n\t\t\t\t\t<span>{t(\"soajs:development.accounts.zeroMsg\")}</span>\n\t\t\t\t) : null}\n\t\t\t</Accordion>\n\t\t</>\n\t);\n}","import {Redirect, Route, Switch} from \"react-router-dom\";\nimport React from \"react\";\n\nimport {AuthenticatedRoute} from \"../../soajs/helpers\";\n\nimport Users from \"./containers/Users/Users\";\nimport Groups from \"./containers/Groups/Groups\";\nimport Packages from \"./containers/Packages/Packages\";\nimport Configuration from \"./containers/Configuration/Configuration\";\n\nimport Integration from \"./containers/Integration/Integration\";\n\nimport CDConfiguration from \"./containers/ContinousDelivery/Configuration\";\nimport Tokens from \"./containers/ContinousDelivery/Tokens\";\n\nimport Notifications from \"./containers/Notifications/Notifications\";\nimport Infrastructure from \"./containers/Infrastructure/Infrastructure\";\n\nimport AddAccount from \"../Development/containers/Accounts/AddAccount\";\nimport Accounts from \"../Development/containers/Accounts/Accounts\";\n\nconst rootPath = \"/settings\";\nconst defaultPath = \"/infrastructure\";\n\nexport default function Routes() {\n\treturn (\n\t\t<Switch>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/users\"}>\n\t\t\t\t<Users/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/groups\"}>\n\t\t\t\t<Groups/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/packages\"}>\n\t\t\t\t<Packages/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/configuration\"}>\n\t\t\t\t<Configuration/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/infrastructure\"}>\n\t\t\t\t<Infrastructure/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/notifications\"}>\n\t\t\t\t<Notifications/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/integration\"}>\n\t\t\t\t<Integration/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/cd/configuration\"}>\n\t\t\t\t<CDConfiguration/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/tokens\"}>\n\t\t\t\t<Tokens/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t<AuthenticatedRoute path={rootPath + \"/git/accounts/add\"}>\n\t\t\t\t<AddAccount\n\t\t\t\t\trootPath={rootPath + \"/git/accounts\"}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/git/accounts\"}>\n\t\t\t\t<Accounts\n\t\t\t\t\trootPath={rootPath + \"/git/accounts\"}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<Route\n\t\t\t\trender={() => {\n\t\t\t\t\treturn (<Redirect to={rootPath + defaultPath}/>)\n\t\t\t\t}}/>\n\t\t</Switch>\n\t)\n}","import {Nav, Navbar, NavDropdown} from \"react-bootstrap\";\nimport React from \"react\";\nimport {LinkContainer} from \"react-router-bootstrap\";\nimport {useTranslation} from \"react-i18next\";\n\nfunction Navigation() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst rootPath = \"/settings\";\n\treturn (\n\t\t<Navbar collapseOnSelect expand=\"lg\" className=\"pt-0 pb-0\" bg=\"secondary\" variant=\"light\">\n\t\t\t<span></span>\n\t\t\t<Navbar.Toggle aria-controls=\"settings-navbar-nav\"/>\n\t\t\t<Navbar.Collapse id=\"settings-navbar-nav\" className=\"justify-content-end\">\n\t\t\t\t<Nav activeKey={window.location.pathname}>\n\t\t\t\t\t{/*<LinkContainer to={rootPath + \"/release/update\"}>*/}\n\t\t\t\t\t{/*\t<NavDropdown.Item><small>{t(\"soajs:menu.ReleaseUpdate\")}</small></NavDropdown.Item>*/}\n\t\t\t\t\t{/*</LinkContainer>*/}\n\t\t\t\t\t\n\t\t\t\t\t<LinkContainer to={rootPath + \"/infrastructure\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Infrastructure\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\n\t\t\t\t\t<LinkContainer to={rootPath + \"/git/accounts\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.GitAccounts\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\n\t\t\t\t\t<LinkContainer to={rootPath + \"/notifications\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Notifications\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\n\t\t\t\t\t<NavDropdown className=\"small\" alignRight title={t(\"soajs:menu.settings\")}\n\t\t\t\t\t             id=\"collasible-nav1-dropdown\">\n\t\t\t\t\t\t<LinkContainer to={rootPath + \"/configuration\"}>\n\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.configuration\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to={rootPath + \"/integration\"}>\n\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.integration\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t</NavDropdown>\n\t\t\t\t\t\n\t\t\t\t\t<NavDropdown className=\"small\" alignRight title={t(\"soajs:menu.AccessRights\")}\n\t\t\t\t\t             id=\"collasible-nav1-dropdown\">\n\t\t\t\t\t\t<LinkContainer to={rootPath + \"/users\"}>\n\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.users\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to={rootPath + \"/groups\"}>\n\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.groups\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to={rootPath + \"/packages\"}>\n\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.packages\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t</NavDropdown>\n\t\t\t\t\t\n\t\t\t\t\t<NavDropdown className=\"small\" alignRight title={t(\"soajs:menu.ContinuousDelivery\")}\n\t\t\t\t\t             id=\"collasible-nav1-dropdown\">\n\t\t\t\t\t\t<LinkContainer to={rootPath + \"/cd/configuration\"}>\n\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Configuration\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to={rootPath + \"/tokens\"}>\n\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Tokens\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t</NavDropdown>\n\t\t\t\t</Nav>\n\t\t\t</Navbar.Collapse>\n\t\t</Navbar>\n\t);\n}\n\nexport default Navigation","import React from \"react\";\nimport {Container} from \"react-bootstrap\";\n\nimport Routes from \"./Routes\";\nimport Navigation from \"./Navigation\";\n\nexport default function Settings() {\n\treturn (\n\t\t<>\n\t\t\t<Navigation/>\n\t\t\t<div className=\"bg-dark pt-1\"></div>\n\t\t\t<div className=\"main-area\">\n\t\t\t\t<Container className=\"mt-3 mb-3\">\n\t\t\t\t\t<Routes/>\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t</>\n\t);\n}","import {Route, Switch, Redirect} from \"react-router-dom\";\nimport React from \"react\";\nimport {AuthenticatedRoute} from \"../../soajs/helpers\";\nimport Repositories from \"./containers/Repositories/Repositories\";\nimport Accounts from \"./containers/Accounts/Accounts\";\nimport AddAccount from \"./containers/Accounts/AddAccount\";\n\nconst rootPath = \"/development\";\nconst defaultPath = \"/git/repositories\";\n\nexport default function Routes() {\n\treturn (\n\t\t<Switch>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/git/accounts/add\"}>\n\t\t\t\t<AddAccount\n\t\t\t\t\trootPath={rootPath + \"/git/accounts\"}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/git/accounts\"}>\n\t\t\t\t<Accounts\n\t\t\t\t\trootPath={rootPath + \"/git/accounts\"}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/git/repositories\"}>\n\t\t\t\t<Repositories/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<Route\n\t\t\t\trender={() => {\n\t\t\t\t\treturn (<Redirect to={rootPath + defaultPath}/>)\n\t\t\t\t}}/>\n\t\t</Switch>\n\t)\n}","import {Nav, Navbar, NavDropdown} from \"react-bootstrap\";\nimport React from \"react\";\nimport {LinkContainer} from \"react-router-bootstrap\";\nimport {useTranslation} from \"react-i18next\";\n\nfunction Navigation() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst rootPath = \"/development\";\n\treturn (\n\t\t<Navbar collapseOnSelect expand=\"sm\" className=\"pt-0 pb-0\" bg=\"secondary\" variant=\"dark\">\n\t\t\t<span></span>\n\t\t\t<Navbar.Toggle aria-controls=\"development-navbar-nav\"/>\n\t\t\t<Navbar.Collapse id=\"development-navbar-nav\" className=\"justify-content-end\">\n\t\t\t\t<Nav>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/git/repositories\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.GitRepositories\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/git/accounts\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.GitAccounts\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t</Nav>\n\t\t\t</Navbar.Collapse>\n\t\t</Navbar>\n\t);\n}\n\nexport default Navigation","import React from \"react\";\nimport {Container} from \"react-bootstrap\";\n\nimport Routes from \"./Routes\";\nimport Navigation from \"./Navigation\";\n\nexport default function Development() {\n\treturn (\n\t\t<>\n\t\t\t<Navigation/>\n\t\t\t<div className=\"bg-dark pt-1\"></div>\n\t\t\t<div className=\"main-area\">\n\t\t\t\t<Container className=\"mt-3 mb-3\">\n\t\t\t\t\t<Routes/>\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t</>\n\t);\n}","import React from \"react\";\nimport {Alert} from \"react-bootstrap\";\n\nexport default function Manual({environment}) {\n\t\n\treturn (\n\t\t<>\n\t\t\t<hr/>\n\t\t\t<Alert variant=\"secondary\">\n\t\t\t\tThis environment only operates on your Local Machine with this IP Address <b\n\t\t\t\tclassName=\"text-success\">( {environment.deployer.manual.nodes} )</b>. It requires you deploy\n\t\t\t\tMicroservices and Daemons manually in order to be able to\n\t\t\t\toperate them form under the appropriate catalogs.\n\t\t\t</Alert>\n\t\t</>\n\t);\n}","import {Button, Modal, Form} from \"react-bootstrap\";\nimport React, {useState, useEffect} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {ConsoleService, InfraService} from \"../../../../services\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nconst consoleService = ConsoleService.getService();\nconst infraService = InfraService.getService();\n\nexport default function NamespaceModal({modalOpt, setModalOpt, handleAction, environment, settings}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [fields, setFields] = useState({\n\t\t\"id\": \"\",\n\t\t\"namespace\": \"\",\n\t\t\"code\": \"\",\n\t\t\"type\": \"existing\"\n\t});\n\tconst [namespaces, setNamespaces] = useState([]);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait consoleService.updateEnvironmentNamespace(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.envNamespace\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.namespace.length > 0\n\t\t);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (environment) {\n\t\t\t\t\tconst response = await infraService.getNamespaces(environment.code);\n\t\t\t\t\tif (isSubscribed && response && response.items && response.items.length > 0) {\n\t\t\t\t\t\tsetNamespaces(response.items);\n\t\t\t\t\t}\n\t\t\t\t\tif (isSubscribed && settings) {\n\t\t\t\t\t\tsetFields({\n\t\t\t\t\t\t\t\"id\": settings.container.kubernetes.id,\n\t\t\t\t\t\t\t\"code\": environment.code,\n\t\t\t\t\t\t\t\"namespace\": settings.container.kubernetes.namespace,\n\t\t\t\t\t\t\t\"type\": \"existing\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\tsetNamespaces([]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad()\n\t\treturn () => (isSubscribed = false);\n\t}, [environment, settings]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.envNamespace\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t{fields &&\n\t\t\t\t<Form onSubmit={(event) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}}>\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.NamespaceSelection\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control as=\"select\" id=\"type\"\n\t\t\t\t\t\t              defaultValue={fields.type}\n\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"existing\">Choose exiting namespace</option>\n\t\t\t\t\t\t\t<option value=\"new\">Create new namespace</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t{fields.type === \"existing\" &&\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.ExistingNamespace\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control as=\"select\" id=\"namespace\"\n\t\t\t\t\t\t              defaultValue={fields.namespace}\n\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{namespaces.map((ns, index) => (\n\t\t\t\t\t\t\t\t<option key={index} value={ns.metadata.name}>{ns.metadata.name}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t}\n\t\t\t\t\t{fields.type === \"new\" &&\n\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.CreateNamespace\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"namespace\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.namespace}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t}\n\t\t\t\t</Form>\n\t\t\t\t}\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t{ability.can('env', 'update') &&\n\t\t\t\t<Button variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleSubmit}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Alert, ListGroup, ListGroupItem} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport GearButton from \"../../../buttons/Gear\";\nimport {ConsoleService} from \"../../../../services\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\n\nimport NamespaceModal from \"./NamespaceModal\";\n\nconst consoleService = ConsoleService.getService();\n\nasync function onLoad(setSettings, environment, isSubscribed) {\n\ttry {\n\t\tconst response = await consoleService.getRegistryDeployer(environment.code);\n\t\tif (response && isSubscribed) {\n\t\t\tsetSettings(response);\n\t\t} else {\n\t\t\tsetSettings(null);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Container({environment}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [settings, setSettings] = useState(null);\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false});\n\t\n\tfunction handleModalShow() {\n\t\tsetModalOpt({\"show\": true})\n\t}\n\t\n\tfunction reLoad() {\n\t\tonLoad(setSettings, environment, true).catch();\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tonLoad(setSettings, environment, isSubscribed).catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\tsettings &&\n\t\t<>\n\t\t\t<NamespaceModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t\thandleAction={() => {\n\t\t\t\t\treLoad();\n\t\t\t\t}}\n\t\t\t\tenvironment={environment}\n\t\t\t\tsettings={settings}\n\t\t\t/>\n\t\t\t<hr/>\n\t\t\t<Alert variant=\"secondary\">\n\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.MasterNode\")}:</span> {settings.container.kubernetes.configuration.url}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.Namespace\")}:</span> {settings.container.kubernetes.namespace}\n\t\t\t\t\t\t<GearButton className=\"float-right ml-3\" onClick={() => {\n\t\t\t\t\t\t\thandleModalShow()\n\t\t\t\t\t\t}}/>\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t</ListGroup>\n\t\t\t</Alert>\n\t\t</>\n\t);\n}","import {Button, Card, CardDeck, Form, Jumbotron} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport _ from \"lodash\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../services\";\nimport {UracService} from \"../../../../soajs/urac/services\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nconst uracService = UracService.getService();\nconst consoleService = ConsoleService.getService();\n\nfunction isGroupSelected(settings, value) {\n\treturn (\n\t\tsettings &&\n\t\tsettings.acl &&\n\t\tsettings.acl.groups &&\n\t\tsettings.acl.groups.value &&\n\t\tsettings.acl.groups.value.includes(value)\n\t);\n}\n\nexport default function ConfigureModalGroups({settings, code, handleAction, handleClose, setSettings}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [groups, setGroups] = useState([]);\n\tconst [fields, setFields] = useState({\n\t\t\"groups\": [],\n\t\t\"type\": \"whitelist\"\n\t});\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\t\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction whitelistBlacklist(checked, what) {\n\t\tlet obj = fields;\n\t\tobj.type = what;\n\t\tsetFields({...obj});\n\t}\n\t\n\tfunction onChangeGroup(checked, code) {\n\t\tlet obj = fields;\n\t\tif (checked) {\n\t\t\tobj.groups.push(code);\n\t\t} else {\n\t\t\t_.pullAll(obj.groups, [code]);\n\t\t}\n\t\tsetFields({...obj});\n\t}\n\tasync function handleDelete(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tawait consoleService.deleteEnvironmentAcl(code);\n\t\t\tNotificationManager.success(t(\"soajs:messages.envGroupDeleteSuccess\"));\n\t\t\tsetSettings(null);\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\tasync function handleSave(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tawait consoleService.saveEnvironmentAcl({\n\t\t\t\t\"code\": code,\n\t\t\t\t\"groups\": fields.groups,\n\t\t\t\t\"type\": fields.type\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.envGroupSaveSuccess\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (settings && settings.acl && settings.acl.groups) {\n\t\t\t\t\tsetFields({\n\t\t\t\t\t\t\"groups\": settings.acl.groups.value,\n\t\t\t\t\t\t\"type\": settings.acl.groups.type\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tconst _groups = await uracService.getGroups();\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetGroups(_groups);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, [settings]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-4 m-0 bg-light border-dark small\">\n\t\t\t\t<fieldset>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"whitelist\"\n\t\t\t\t\t\tname=\"groupsType\"\n\t\t\t\t\t\tid=\"groupsType1\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"whitelist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"whitelist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"blacklist\"\n\t\t\t\t\t\tname=\"groupsType\"\n\t\t\t\t\t\tid=\"groupsType2\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"blacklist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"blacklist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</fieldset>\n\t\t\t</Jumbotron>\n\t\t\t<CardDeck className=\"ml-2\">\n\t\t\t\t{groups.map((oo, index) => (\n\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t      style={{\"minWidth\": '11rem', \"maxWidth\": '11rem'}}>\n\t\t\t\t\t\t<Card.Body className=\"p-2\">\n\t\t\t\t\t\t\t<Form.Check className=\"small\" key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t            defaultChecked={isGroupSelected(settings, oo.code)}\n\t\t\t\t\t\t\t            label={oo.code}\n\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t            onChangeGroup(event.target.checked, oo.code)\n\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</CardDeck>\n\t\t\t<hr/>\n\t\t\t<div>\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t\t\n\t\t\t\t{ability.can('env_aclGroups', 'update') &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleSave}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Save\")}\n\t\t\t\t</Button>}\n\t\t\t\t\n\t\t\t\t{ability.can('env_aclGroups', 'delete') &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"danger\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleDelete}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>}\n\t\t\t</div>\n\t\t</>\n\t);\n}","import {useTranslation} from \"react-i18next\";\nimport React, {useEffect, useState} from \"react\";\nimport {\n\tForm,\n\tJumbotron, Modal,\n\tTab, Tabs\n} from \"react-bootstrap\";\n\n\nimport ConfigureModalGroups from \"./ConfigureModalGroups\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../services\";\n\nconst consoleService = ConsoleService.getService();\n\nasync function onLoad(setSettings, environment, isSubscribed) {\n\ttry {\n\t\tconst response = await consoleService.getEnvironmentSettings(environment.code);\n\t\tif (response && response.settings && isSubscribed) {\n\t\t\tsetSettings(response.settings);\n\t\t} else {\n\t\t\tsetSettings(null);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function ConfigureModal({modalOpt, setModalOpt, environment}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [settings, setSettings] = useState(null);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false});\n\t\n\tasync function reLoad() {\n\t\tawait onLoad(setSettings, environment, true)\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tonLoad(setSettings, environment, isSubscribed).catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\t<>\n\t\t\t{environment &&\n\t\t\t<Modal size=\"lg\" show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>{t(\"soajs:titles.environmentConfiguration\")}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t\n\t\t\t\t\t<Jumbotron className=\"p-4\">\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{environment.code}</span> - {environment.deployer.type}\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t{environment.description}\n\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t<Form onSubmit={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"acl\" id=\"config\">\n\t\t\t\t\t\t\t<Tab eventKey=\"acl\" title={t(\"soajs:fields.Groups\")}>\n\t\t\t\t\t\t\t\t<ConfigureModalGroups\n\t\t\t\t\t\t\t\t\tsettings={settings}\n\t\t\t\t\t\t\t\t\tsetSettings={setSettings}\n\t\t\t\t\t\t\t\t\thandleAction={() => {\n\t\t\t\t\t\t\t\t\t\treLoad();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\thandleClose={handleClose}\n\t\t\t\t\t\t\t\t\tcode={environment.code}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</Form>\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../services\";\n\nconst consoleService = ConsoleService.getService();\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait consoleService.deleteEnvironment(modalOpt.item._id);\n\t\t\tNotificationManager.success(t(\"soajs:messages.deleteEnvironment\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>{t(\"soajs:messages.deleteQuestion\")}</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import React, {useState} from \"react\";\n\nimport Manual from \"./Manual\";\nimport Container from \"./Container\";\nimport ConfigureModal from \"./ConfigureModal\";\nimport AclButton from \"../../../buttons/Acl\";\nimport {ListGroup, ListGroupItem} from \"react-bootstrap\";\nimport {useTranslation} from \"react-i18next\";\nimport DeleteButton from \"../../../buttons/Delete\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\nimport DeleteModal from \"./DeleteModal\";\nimport {useHistory} from \"react-router-dom\";\n\n\nexport default function Settings({environment}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false});\n\tconst [deleteModalOpt, setDeleteModalOpt] = useState({\"show\": false, item: null});\n\tconst handleDeleteShow = (item) => setDeleteModalOpt({\"show\": true, \"item\": item});\n\t\n\tconst history = useHistory();\n\t\n\tasync function reLoad() {\n\t\thistory.push(\"/environments/manage\");\n\t}\n\t\n\tfunction handleModalShow() {\n\t\tsetModalOpt({\"show\": true})\n\t}\n\t\n\treturn (\n\t\tenvironment &&\n\t\t<>\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={deleteModalOpt}\n\t\t\t\tsetModalOpt={setDeleteModalOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<ConfigureModal\n\t\t\t\tenvironment={environment}\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t<ListGroupItem><span\n\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.Code\")}:</span> {environment.code}\n\t\t\t\t\t{!environment.locked && ability.can('env', 'delete') &&\n\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\tclassName=\"float-right ml-3\" onClick={() => {\n\t\t\t\t\t\thandleDeleteShow(environment);\n\t\t\t\t\t}}\n\t\t\t\t\t/>}\n\t\t\t\t\t<AclButton className=\"float-right ml-3\" onClick={() => {\n\t\t\t\t\t\thandleModalShow();\n\t\t\t\t\t}}/>\n\t\t\t\t</ListGroupItem>\n\t\t\t\t<ListGroupItem><span\n\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.Type\")}:</span> {environment.deployer.type}\n\t\t\t\t</ListGroupItem>\n\t\t\t\t<ListGroupItem><span\n\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.Description\")}:</span> {environment.description}\n\t\t\t\t</ListGroupItem>\n\t\t\t</ListGroup>\n\t\t\t\n\t\t\t{environment.deployer.type === \"manual\" &&\n\t\t\t<div>\n\t\t\t\t<Manual\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t}\n\t\t\t{environment.deployer.type === \"container\" &&\n\t\t\t<div>\n\t\t\t\t<Container\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Alert} from \"react-bootstrap\";\nimport React from \"react\";\n\nexport default function Rbac({environment}) {\n\t\n\treturn (\n\t\t\n\t\t<Alert variant=\"info\" className=\"mt-4 mb-4\">\n\t\t\tRBAC: coming soon\n\t\t</Alert>\n\t\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {JsonEditor} from \"../../../../../../../soajs/urac/components\";\n\n\nexport default function JsonModal({modalOpt, setModalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, \"json\": {}, \"mode\": \"preview\", \"title\": \"\"});\n\t\n\treturn (\n\t\tmodalOpt &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{modalOpt.title}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t\n\t\t\t\t<JsonEditor\n\t\t\t\t\tmode={modalOpt.mode || \"view\"}\n\t\t\t\t\tmodes={[\"view\", \"preview\"]}\n\t\t\t\t\tjson={modalOpt.json || {}}\n\t\t\t\t/>\n\t\t\t\t\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Ok\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Alert, Col, Row, Badge, Button} from \"react-bootstrap\";\n\nimport {AiOutlineInfoCircle} from \"react-icons/ai\";\nimport React, {useState} from \"react\";\nimport JsonModal from \"./modals/JsonModal\";\n\nexport default function Nodes({items}) {\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t\n\t\t\t{items.map((rec, i) => (\n\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Badge variant=\"light\" className=\"float-left mr-1 small mt-1\">node</Badge>\n\t\t\t\t\t\t\t<span className=\"small\">{rec.metadata.name}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={\"auto\"}>\n\t\t\t\t\t\t\t<span className=\"small float-left mr-2\">{rec.metadata.creationTimestamp}</span>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1\">\n\t\t\t\t\t\t\t\t<AiOutlineInfoCircle\n\t\t\t\t\t\t\t\t\tclassName=\"text-primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalOptShow(rec, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {Button, Col, Form, Jumbotron, Row, Badge} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../../services\";\n\nimport NodesContainer from \"../../catalog/common/container/Nodes\";\n\nconst infraService = InfraService.getService();\nconst initCriteria = {\n\t\"name\": \"\", \"mode\": \"Node\", \"continue\": null, \"remainingItemCount\": 0\n};\n\nasync function onLoad(setFields, criteria, env, setMode, setCriteria, isSubscribed) {\n\ttry {\n\t\tlet data = {\"mode\": criteria.mode, limit: 100}\n\t\tif (criteria.name && criteria.name.length > 0) {\n\t\t\tdata.filter = {\"fieldSelector\": \"metadata.name=\" + criteria.name};\n\t\t}\n\t\tconst response = await infraService.getClusters(env, data);\n\t\tif (isSubscribed && response && response.items) {\n\t\t\tsetFields(response.items)\n\t\t\tsetMode(criteria.mode);\n\t\t\tif (response.metadata && response.metadata.continue) {\n\t\t\t\tcriteria.continue = response.metadata.continue;\n\t\t\t\tcriteria.remainingItemCount = response.metadata.remainingItemCount;\n\t\t\t\tsetCriteria({...criteria});\n\t\t\t} else {\n\t\t\t\tcriteria.continue = null;\n\t\t\t\tcriteria.remainingItemCount = 0;\n\t\t\t\tsetCriteria({...criteria});\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Nodes({environment}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [mode, setMode] = useState(\"Pod\");\n\tconst [criteria, setCriteria] = useState(initCriteria);\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function reLoad(isSubscribed) {\n\t\tawait onLoad(setFields, criteria, environment.code, setMode, setCriteria, isSubscribed);\n\t}\n\t\n\tasync function loadMore() {\n\t\ttry {\n\t\t\tlet data = {\"mode\": criteria.mode, limit: 3}\n\t\t\tif (criteria.name && criteria.name.length > 0) {\n\t\t\t\tdata.filter = {\"fieldSelector\": \"metadata.name=\" + criteria.name};\n\t\t\t}\n\t\t\tif (criteria.continue) {\n\t\t\t\tdata.continue = criteria.continue;\n\t\t\t}\n\t\t\tconst response = await infraService.getClusters(environment.code, data);\n\t\t\tif (response && response.items) {\n\t\t\t\t\n\t\t\t\tsetFields(fields.concat(response.items));\n\t\t\t\tif (response.metadata && response.metadata.continue) {\n\t\t\t\t\tcriteria.continue = response.metadata.continue;\n\t\t\t\t\tcriteria.remainingItemCount = response.metadata.remainingItemCount;\n\t\t\t\t\tsetCriteria({...criteria});\n\t\t\t\t} else {\n\t\t\t\t\tcriteria.continue = null;\n\t\t\t\t\tcriteria.remainingItemCount = 0;\n\t\t\t\t\tsetCriteria({...criteria});\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tawait reLoad(true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed) {\n\t\t\tsetCriteria(initCriteria);\n\t\t\tonLoad(setFields, initCriteria, environment.code, setMode, setCriteria, isSubscribed).catch();\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-3 m-0\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col md={2} lg={2}>\n\t\t\t\t\t\t<h5 className=\"font-weight-bold m-0\">{t(\"soajs:titles.nodes\")}</h5>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col md={3} lg={2}>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"mode\"\n\t\t\t\t\t\t\tvalue={criteria.mode}\n\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"Node\">Node</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col xs={8} lg={9}>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.name}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={4} lg={3}>\n\t\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Jumbotron>\n\t\t\t<hr/>\n\t\t\t{fields.length > 0 && mode === \"Node\" &&\n\t\t\t<NodesContainer\n\t\t\t\titems={fields}\n\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t/>\n\t\t\t}\n\t\t\t{criteria.continue &&\n\t\t\t<Button\n\t\t\t\tsize=\"sm\"\n\t\t\t\tclassName=\"mt-3\"\n\t\t\t\tblock variant=\"light\"\n\t\t\t\tonClick={loadMore}\n\t\t\t>\n\t\t\t\t<Badge variant=\"light\" className=\"text-muted\">({criteria.remainingItemCount} remaining)</Badge> Click here to load more\n\t\t\t\t...\n\t\t\t</Button>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {InfraService} from \"../../../../../../../services\";\nimport {NotificationManager} from \"../../../../../../../soajs/urac/components\";\n\nconst infraService = InfraService.getService();\n\nexport default function LogModal({modalOpt, setModalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [logResponse, setLogResponse] = useState(\"\");\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, \"data\": {}, \"mode\": \"preview\", \"title\": \"\"});\n\t\n\tasync function onLoad(isSubscribed, env, name) {\n\t\ttry {\n\t\t\tlet response = await infraService.podLog(env, {\n\t\t\t\t\"name\": name\n\t\t\t});\n\t\t\tif (isSubscribed && response) {\n\t\t\t\tsetLogResponse(response);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function getLog() {\n\t\tif (modalOpt && modalOpt.data && modalOpt.data.env && modalOpt.data.name) {\n\t\t\tawait onLoad(true, modalOpt.data.env, modalOpt.data.name);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tif (modalOpt && modalOpt.data && modalOpt.data.env && modalOpt.data.name) {\n\t\t\tonLoad(isSubscribed, modalOpt.data.env, modalOpt.data.name).catch();\n\t\t}\n\t\treturn (isSubscribed) => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\tmodalOpt &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{modalOpt.title}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"small\"\n\t\t\t\t\tstyle={\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"backgroundColor\": \"black\",\n\t\t\t\t\t\t\t\"color\": \"white\",\n\t\t\t\t\t\t\t\"minHeight\": 300,\n\t\t\t\t\t\t\t\"maxHeight\": 600,\n\t\t\t\t\t\t\t\"overflow\": \"auto\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<pre><code className=\"text-light\">{logResponse}</code></pre>\n\t\t\t\t</div>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"success\" onClick={getLog}>\n\t\t\t\t\t{t(\"soajs:buttons.Refresh\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Alert, Form, Modal} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../../../../services\";\n\nconst infraService = InfraService.getService();\n\nexport default function ExecModal({modalOpt, setModalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState({\n\t\t\"commands\": \"\"\n\t});\n\tconst [execResponse, setExecResponse] = useState(\"\");\n\tconst handleClose = () => setModalOpt({\"show\": false, \"data\": {}, \"mode\": \"preview\", \"title\": \"\"});\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tif (event.target.type === 'number' || event.target.id === \"type\") {\n\t\t\tvalue = parseInt(value);\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.commands.length > 0\n\t\t);\n\t}\n\t\n\tasync function handleExecute() {\n\t\ttry {\n\t\t\tlet response = await infraService.podExec(modalOpt.data.env, {\n\t\t\t\t\"name\": modalOpt.data.name,\n\t\t\t\t\"commands\": fields.commands.split('\\n')\n\t\t\t});\n\t\t\tif (response && response.response) {\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.execCommand\"));\n\t\t\t\tsetExecResponse(response.response);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\tmodalOpt &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{modalOpt.title}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Alert variant=\"info\">\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Commands\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tclassName=\"mb-3\"\n\t\t\t\t\t\t\tid=\"commands\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvalue={fields.commands}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\tvariant=\"info\"\n\t\t\t\t\t\t\tonClick={handleClose}>\n\t\t\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"float-right mr-3\"\n\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\tonClick={handleExecute}\n\t\t\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(\"soajs:buttons.Execute\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t</Alert>\n\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Response\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\"fontSize\": \"70%\"\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tid=\"response\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\trows={6}\n\t\t\t\t\t\tvalue={execResponse}\n\t\t\t\t\t\treadOnly\n\t\t\t\t\t/>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function MetricsModal({modalOpt, setModalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, \"json\": {}, \"mode\": \"preview\", \"title\": \"\"});\n\t\n\treturn (\n\t\tmodalOpt &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{modalOpt.title}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t\n\t\t\t\tComing soon!\n\t\t\t\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Ok\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, \"item\": {}});\n\t\n\tfunction handleSubmit() {\n\t\thandleAction(modalOpt.item.name);\n\t\thandleClose();\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body style={{\n\t\t\t\t\"wordBreak\": \"break-all\"\n\t\t\t}}>\n\t\t\t\t{t(\"soajs:messages.deleteQuestion\")}<span\n\t\t\t\tclassName=\"ml-3 font-weight-bold\">{modalOpt.item ? modalOpt.item.title : \"\"}</span>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {JsonEditor} from \"../../../../../../../soajs/urac/components\";\n\nlet _json = null;\n\nexport default function JsonModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\tconst handleClose = () => {\n\t\t_json = null;\n\t\tsetModalOpt({\"show\": false, \"json\": null, \"mode\": \"code\", \"item\": {}});\n\t};\n\t\n\tfunction handleSubmit() {\n\t\thandleAction(modalOpt.item.name, _json || modalOpt.json);\n\t\thandleClose();\n\t}\n\t\n\tfunction _json_onChange(json) {\n\t\t_json = json;\n\t}\n\t\n\treturn (\n\t\tmodalOpt &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{modalOpt.item.title}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<div style={{\"height\": \"600px\"}}>\n\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\tmode={modalOpt.mode || \"code\"}\n\t\t\t\t\t\tmodes={[\"tree\", \"code\"]}\n\t\t\t\t\t\tjson={_json || modalOpt.json || null}\n\t\t\t\t\t\tonChange={_json_onChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Alert, Badge, Button, Col, Row} from \"react-bootstrap\";\n\nimport {AiOutlineInfoCircle} from \"react-icons/ai\";\nimport {FaWindowMaximize} from \"react-icons/fa\";\nimport {GiGears} from \"react-icons/gi\";\nimport {VscGraph} from \"react-icons/vsc\";\nimport React, {useState} from \"react\";\n\nimport JsonModal from \"./modals/JsonModal\";\nimport LogModal from \"./modals/LogModal\";\nimport ExecModal from \"./modals/ExecModal\";\nimport MetricsModal from \"./modals/MetricsModal\";\nimport {useAppContext} from \"../../../../../../soajs/libs/contextLib\";\nimport EditButton from \"../../../../../buttons/Edit\";\nimport _ from \"lodash\";\nimport DeleteButton from \"../../../../../buttons/Delete\";\nimport DeleteModal from \"./modals/DeleteModal\";\nimport EditModal from \"./modals/EditModal\";\n\nfunction getLastValidStatus(status) {\n\tlet lastValidStatus = {\n\t\t\"t\": null,\n\t\t\"l\": \"-\"\n\t};\n\t//if (status.phase === \"Running\") {\n\tif (status.conditions && Array.isArray(status.conditions)) {\n\t\tfor (let i = 0; i < status.conditions.length; i++) {\n\t\t\tlet oneCond = status.conditions[i];\n\t\t\tif (oneCond.status === \"True\") {\n\t\t\t\tif (lastValidStatus.t) {\n\t\t\t\t\tlet d_set = new Date(lastValidStatus.t);\n\t\t\t\t\tlet d_new = new Date(oneCond.lastTransitionTime);\n\t\t\t\t\tif (d_new > d_set) {\n\t\t\t\t\t\tlastValidStatus = {\n\t\t\t\t\t\t\t\"t\": oneCond.lastTransitionTime,\n\t\t\t\t\t\t\t\"l\": oneCond.type\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlastValidStatus = {\n\t\t\t\t\t\t\"t\": oneCond.lastTransitionTime,\n\t\t\t\t\t\t\"l\": oneCond.type\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//}\n\treturn lastValidStatus.l;\n}\n\nfunction getStatusVariant(status) {\n\tif (status === \"Running\") {\n\t\treturn \"success\";\n\t} else if (status === \"Succeeded\") {\n\t\treturn \"info\";\n\t} else {\n\t\treturn \"danger\"\n\t}\n}\n\nexport default function Pods({items, env, deleteItem, editItem}) {\n\tconst {ability} = useAppContext();\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\tconst [logModalOpt, setLogModalOpt] = useState({\"show\": false, \"data\": {}, \"title\": \"\"});\n\tconst logModalOptShow = (data, title) => setLogModalOpt({\n\t\t\"show\": true,\n\t\t\"data\": data,\n\t\t\"title\": title || \"\"\n\t});\n\tconst [execModalOpt, setExecModalOpt] = useState({\"show\": false, \"data\": {}, \"title\": \"\"});\n\tconst execModalOptShow = (data, title) => setExecModalOpt({\n\t\t\"show\": true,\n\t\t\"data\": data,\n\t\t\"title\": title || \"\"\n\t});\n\tconst [metricsModalOpt, setMetricsModalOpt] = useState({\"show\": false, \"data\": \"\", \"title\": \"\"});\n\tconst metricsModalOptShow = (data, title) => setMetricsModalOpt({\n\t\t\"show\": true,\n\t\t\"data\": data,\n\t\t\"title\": title || \"\"\n\t});\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, \"item\": {}});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, \"item\": item});\n\t\n\tconst [modalEditOpt, setModalEditOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalEditOptShow = (item, json) => setModalEditOpt({\"show\": true, \"item\": item, \"json\": json});\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t<LogModal\n\t\t\t\tmodalOpt={logModalOpt}\n\t\t\t\tsetModalOpt={setLogModalOpt}\n\t\t\t/>\n\t\t\t<ExecModal\n\t\t\t\tmodalOpt={execModalOpt}\n\t\t\t\tsetModalOpt={setExecModalOpt}\n\t\t\t/>\n\t\t\t<MetricsModal\n\t\t\t\tmodalOpt={metricsModalOpt}\n\t\t\t\tsetModalOpt={setMetricsModalOpt}\n\t\t\t/>\n\t\t\t\n\t\t\t{deleteItem &&\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name) => {\n\t\t\t\t\t\tdeleteItem(\"Pod\", name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t{editItem &&\n\t\t\t<EditModal\n\t\t\t\tmodalOpt={modalEditOpt}\n\t\t\t\tsetModalOpt={setModalEditOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name, body) => {\n\t\t\t\t\t\tbody.kind = \"Pod\";\n\t\t\t\t\t\teditItem(body.kind, body.metadata.name, body)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t\n\t\t\t{items.map((rec, i) => (\n\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col xs={\"auto\"}>\n\t\t\t\t\t\t\t<Badge variant=\"primary\" className=\"float-left mr-1 small mt-1\">pod</Badge>\n\t\t\t\t\t\t\t<span className=\"small\">{rec.metadata.name}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={12} lg={4}>\n\t\t\t\t\t\t\t<span className=\"small mt-1\">{rec.metadata.creationTimestamp}</span>\n\t\t\t\t\t\t\t<Badge variant={getStatusVariant(rec.status.phase)}\n\t\t\t\t\t\t\t       className=\"small mt-1 ml-1\">{rec.status.phase}</Badge>\n\t\t\t\t\t\t\t<Badge variant=\"light\"\n\t\t\t\t\t\t\t       className=\" small mt-1 ml-1\">{getLastValidStatus(rec.status)}</Badge>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row className=\"mt-1\">\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1\">\n\t\t\t\t\t\t\t\t<AiOutlineInfoCircle\n\t\t\t\t\t\t\t\t\tclassName=\"text-primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalOptShow(rec, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('infra_pod', 'log') &&\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1 mr-2\">\n\t\t\t\t\t\t\t\t<FaWindowMaximize\n\t\t\t\t\t\t\t\t\tclassName=\"text-secondary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tlogModalOptShow({\"env\": env, \"name\": rec.metadata.name}, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('infra_pod', 'exec') &&\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1 mr-2\">\n\t\t\t\t\t\t\t\t<GiGears\n\t\t\t\t\t\t\t\t\tclassName=\"text-danger\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\texecModalOptShow({\"env\": env, \"name\": rec.metadata.name}, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1 mr-2 ml-2\">\n\t\t\t\t\t\t\t\t<VscGraph\n\t\t\t\t\t\t\t\t\tclassName=\"text-info\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmetricsModalOptShow(\"\", rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{editItem &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalEditOptShow({\n\t\t\t\t\t\t\t\t\t\t\"title\": rec.metadata.name,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.metadata.name\n\t\t\t\t\t\t\t\t\t}, _.merge({}, rec));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{deleteItem &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\"title\": rec.metadata.name, \"name\": rec.metadata.name});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {Alert, Badge, Button, Col, Row} from \"react-bootstrap\";\n\nimport {AiOutlineInfoCircle} from \"react-icons/ai\";\nimport React, {useState} from \"react\";\nimport JsonModal from \"./modals/JsonModal\";\n\nimport _ from \"lodash\";\n\nimport DeleteModal from \"./modals/DeleteModal\";\nimport EditModal from \"./modals/EditModal\";\n\nimport DeleteButton from \"../../../../../buttons/Delete\";\nimport EditButton from \"../../../../../buttons/Edit\";\n\nexport default function Deployments({items, deleteItem, editItem}) {\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, \"item\": {}});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, \"item\": item});\n\t\n\tconst [modalEditOpt, setModalEditOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalEditOptShow = (item, json) => setModalEditOpt({\"show\": true, \"item\": item, \"json\": json});\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t{deleteItem &&\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name) => {\n\t\t\t\t\t\tdeleteItem(\"Deployment\", name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t{editItem &&\n\t\t\t<EditModal\n\t\t\t\tmodalOpt={modalEditOpt}\n\t\t\t\tsetModalOpt={setModalEditOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name, body) => {\n\t\t\t\t\t\tbody.kind = \"Deployment\";\n\t\t\t\t\t\teditItem(body.kind, body.metadata.name, body)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t\n\t\t\t{items.map((rec, i) => (\n\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Badge variant=\"info\" className=\"float-left mr-1 small mt-1\">deployment</Badge>\n\t\t\t\t\t\t\t<span className=\"small\">{rec.metadata.name}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={\"auto\"}>\n\t\t\t\t\t\t\t<span className=\"small float-left mr-2\">{rec.metadata.creationTimestamp}</span>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\">\n\t\t\t\t\t\t\t\t<AiOutlineInfoCircle\n\t\t\t\t\t\t\t\t\tclassName=\"text-primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalOptShow(rec, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{editItem &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalEditOptShow({\n\t\t\t\t\t\t\t\t\t\t\"title\": rec.metadata.name,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.metadata.name\n\t\t\t\t\t\t\t\t\t}, _.merge({}, rec));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{deleteItem &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\"title\": rec.metadata.name, \"name\": rec.metadata.name});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {Alert, Badge, Button, Col, Row} from \"react-bootstrap\";\n\nimport {AiOutlineInfoCircle} from \"react-icons/ai\";\nimport React, {useState} from \"react\";\nimport JsonModal from \"./modals/JsonModal\";\nimport DeleteModal from \"./modals/DeleteModal\";\nimport EditModal from \"./modals/EditModal\";\nimport EditButton from \"../../../../../buttons/Edit\";\nimport _ from \"lodash\";\nimport DeleteButton from \"../../../../../buttons/Delete\";\n\nexport default function Daemonsets({items, deleteItem, editItem}) {\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\t\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, \"item\": {}});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, \"item\": item});\n\t\n\tconst [modalEditOpt, setModalEditOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalEditOptShow = (item, json) => setModalEditOpt({\"show\": true, \"item\": item, \"json\": json});\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t{deleteItem &&\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name) => {\n\t\t\t\t\t\tdeleteItem(\"DaemonSet\", name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t{editItem &&\n\t\t\t<EditModal\n\t\t\t\tmodalOpt={modalEditOpt}\n\t\t\t\tsetModalOpt={setModalEditOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name, body) => {\n\t\t\t\t\t\tbody.kind = \"DaemonSet\";\n\t\t\t\t\t\teditItem(body.kind, body.metadata.name, body)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t\n\t\t\t{items.map((rec, i) => (\n\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Badge variant=\"dark\" className=\"float-left mr-1 small mt-1\">daemonset</Badge>\n\t\t\t\t\t\t\t<span className=\"small\">{rec.metadata.name}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={\"auto\"}>\n\t\t\t\t\t\t\t<span className=\"small float-left mr-2\">{rec.metadata.creationTimestamp}</span>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\">\n\t\t\t\t\t\t\t\t<AiOutlineInfoCircle\n\t\t\t\t\t\t\t\t\tclassName=\"text-primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalOptShow(rec, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{editItem &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalEditOptShow({\n\t\t\t\t\t\t\t\t\t\t\"title\": rec.metadata.name,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.metadata.name\n\t\t\t\t\t\t\t\t\t}, _.merge({}, rec));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{deleteItem &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\"title\": rec.metadata.name, \"name\": rec.metadata.name});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {Alert, Badge, Button, Col, Row} from \"react-bootstrap\";\n\nimport {AiOutlineInfoCircle} from \"react-icons/ai\";\nimport React, {useState} from \"react\";\nimport JsonModal from \"./modals/JsonModal\";\nimport DeleteModal from \"./modals/DeleteModal\";\nimport EditModal from \"./modals/EditModal\";\nimport EditButton from \"../../../../../buttons/Edit\";\nimport _ from \"lodash\";\nimport DeleteButton from \"../../../../../buttons/Delete\";\n\nexport default function Cronjobs({items, deleteItem, editItem}) {\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, \"item\": {}});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, \"item\": item});\n\t\n\tconst [modalEditOpt, setModalEditOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalEditOptShow = (item, json) => setModalEditOpt({\"show\": true, \"item\": item, \"json\": json});\n\t\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t{deleteItem &&\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name) => {\n\t\t\t\t\t\tdeleteItem(\"CronJob\", name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t{editItem &&\n\t\t\t<EditModal\n\t\t\t\tmodalOpt={modalEditOpt}\n\t\t\t\tsetModalOpt={setModalEditOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name, body) => {\n\t\t\t\t\t\tbody.kind = \"CronJob\";\n\t\t\t\t\t\teditItem(body.kind, body.metadata.name, body)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t\n\t\t\t{items.map((rec, i) => (\n\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Badge variant=\"secondary\" className=\"float-left mr-1 small mt-1\">cronjob</Badge>\n\t\t\t\t\t\t\t<span className=\"small\">{rec.metadata.name}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={\"auto\"}>\n\t\t\t\t\t\t\t<span className=\"small float-left mr-2\">{rec.metadata.creationTimestamp}</span>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\">\n\t\t\t\t\t\t\t\t<AiOutlineInfoCircle\n\t\t\t\t\t\t\t\t\tclassName=\"text-primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalOptShow(rec, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{editItem &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalEditOptShow({\n\t\t\t\t\t\t\t\t\t\t\"title\": rec.metadata.name,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.metadata.name\n\t\t\t\t\t\t\t\t\t}, _.merge({}, rec));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{deleteItem &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\"title\": rec.metadata.name, \"name\": rec.metadata.name});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {Alert, Badge, Button, Col, Row} from \"react-bootstrap\";\n\nimport {AiOutlineInfoCircle} from \"react-icons/ai\";\nimport React, {useState} from \"react\";\nimport JsonModal from \"./modals/JsonModal\";\n\nexport default function Hpas({items}) {\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t\n\t\t\t{items.map((rec, i) => (\n\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Badge variant=\"danger\" className=\"float-left mr-1 small mt-1\">hpa</Badge>\n\t\t\t\t\t\t\t<span className=\"small\">{rec.metadata.name}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={\"auto\"}>\n\t\t\t\t\t\t\t<span className=\"small float-left mr-2\">{rec.metadata.creationTimestamp}</span>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1\">\n\t\t\t\t\t\t\t\t<AiOutlineInfoCircle\n\t\t\t\t\t\t\t\t\tclassName=\"text-primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalOptShow(rec, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {JsonEditor} from \"../../../../../../../soajs/urac/components\";\n\nlet _json = null;\n\nexport default function AddModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\tconst handleClose = () => {\n\t\t_json = null;\n\t\tsetModalOpt({\"show\": false, \"json\": null, \"mode\": \"code\", \"item\": {}});\n\t};\n\t\n\tfunction handleSubmit() {\n\t\thandleAction(_json || modalOpt.json);\n\t\thandleClose();\n\t}\n\t\n\tfunction _json_onChange(json) {\n\t\t_json = json;\n\t}\n\t\n\treturn (\n\t\tmodalOpt &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{modalOpt.item.title}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<div style={{\"height\": \"600px\"}}>\n\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\tmode={modalOpt.mode || \"code\"}\n\t\t\t\t\t\tmodes={[\"tree\", \"code\"]}\n\t\t\t\t\t\tjson={_json || modalOpt.json || null}\n\t\t\t\t\t\tonChange={_json_onChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Col, Form, Jumbotron, Row, Badge} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../../services\";\n\nimport Pods from \"../../catalog/common/container/Pods\";\nimport Deployments from \"../../catalog/common/container/Deployments\";\nimport Daemonsets from \"../../catalog/common/container/Daemonsets\";\nimport Cronjobs from \"../../catalog/common/container/Cronjobs\";\nimport Hpas from \"../../catalog/common/container/Hpas\";\nimport {useAppContext} from \"../../../../../soajs/libs/contextLib\";\nimport AddButton from \"../../../../buttons/Add\";\nimport AddModal from \"../../catalog/common/container/modals/AddModal\";\n\nconst infraService = InfraService.getService();\nconst initCriteria = {\n\t\"name\": \"\", \"mode\": \"Pod\", \"continue\": null, \"remainingItemCount\": 0\n};\n\nasync function onLoad(setFields, criteria, env, setMode, setCriteria, isSubscribed) {\n\ttry {\n\t\tlet data = {\"mode\": criteria.mode, limit: 100}\n\t\tif (criteria.name && criteria.name.length > 0) {\n\t\t\tdata.filter = {\"fieldSelector\": \"metadata.name=\" + criteria.name};\n\t\t}\n\t\tconst response = await infraService.getWorkloads(env, data);\n\t\tif (isSubscribed && response && response.items) {\n\t\t\tlet items = response.items;\n\t\t\tsetFields([...items]);\n\t\t\tsetMode(criteria.mode);\n\t\t\tif (response.metadata && response.metadata.continue) {\n\t\t\t\tcriteria.continue = response.metadata.continue;\n\t\t\t\tcriteria.remainingItemCount = response.metadata.remainingItemCount;\n\t\t\t\tsetCriteria({...criteria});\n\t\t\t} else {\n\t\t\t\tcriteria.continue = null;\n\t\t\t\tcriteria.remainingItemCount = 0;\n\t\t\t\tsetCriteria({...criteria});\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Workloads({environment}) {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [mode, setMode] = useState(\"Pod\");\n\tconst [criteria, setCriteria] = useState(initCriteria);\n\t\n\tconst [modalAddOpt, setModalAddOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalAddOptShow = (item, json) => setModalAddOpt({\"show\": true, \"item\": item, \"json\": json});\n\t\n\tasync function addItem(mode, body) {\n\t\ttry {\n\t\t\tawait infraService.addWorkload(environment.code, {body, mode});\n\t\t\tawait reLoad(true);\n\t\t\tNotificationManager.success(t(\"soajs:messages.add_\" + mode));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function deleteItem(mode, name) {\n\t\ttry {\n\t\t\tawait infraService.deleteWorkload(environment.code, {name, mode});\n\t\t\tawait reLoad(true);\n\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + mode));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function editItem(mode, name, body) {\n\t\ttry {\n\t\t\tawait infraService.updateWorkload(environment.code, {name, body, mode});\n\t\t\tawait reLoad(true);\n\t\t\tNotificationManager.success(t(\"soajs:messages.update_\" + mode));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function reLoad(isSubscribed) {\n\t\tawait onLoad(setFields, criteria, environment.code, setMode, setCriteria, isSubscribed);\n\t}\n\t\n\tasync function loadMore() {\n\t\ttry {\n\t\t\tlet data = {\"mode\": criteria.mode, limit: 3}\n\t\t\tif (criteria.name && criteria.name.length > 0) {\n\t\t\t\tdata.filter = {\"fieldSelector\": \"metadata.name=\" + criteria.name};\n\t\t\t}\n\t\t\tif (criteria.continue) {\n\t\t\t\tdata.continue = criteria.continue;\n\t\t\t}\n\t\t\tconst response = await infraService.getWorkloads(environment.code, data);\n\t\t\tif (response && response.items) {\n\t\t\t\t\n\t\t\t\tsetFields(fields.concat(response.items));\n\t\t\t\tif (response.metadata && response.metadata.continue) {\n\t\t\t\t\tcriteria.continue = response.metadata.continue;\n\t\t\t\t\tcriteria.remainingItemCount = response.metadata.remainingItemCount;\n\t\t\t\t\tsetCriteria({...criteria});\n\t\t\t\t} else {\n\t\t\t\t\tcriteria.continue = null;\n\t\t\t\t\tcriteria.remainingItemCount = 0;\n\t\t\t\t\tsetCriteria({...criteria});\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tawait reLoad(true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed) {\n\t\t\tsetCriteria(initCriteria);\n\t\t\tonLoad(setFields, initCriteria, environment.code, setMode, setCriteria, isSubscribed).catch();\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<AddModal\n\t\t\t\tmodalOpt={modalAddOpt}\n\t\t\t\tsetModalOpt={setModalAddOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(body) => {\n\t\t\t\t\t\tbody.kind = criteria.mode;\n\t\t\t\t\t\taddItem(body.kind, body).catch();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Jumbotron className=\"p-3 m-0\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col md={3} lg={3} xl={2}>\n\t\t\t\t\t\t<h5 className=\"font-weight-bold m-0 float-left\">{t(\"soajs:titles.workloads\")}</h5>\n\t\t\t\t\t\t{ability.can('infra_workload', 'add') &&\n\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 \"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tmodalAddOptShow({\n\t\t\t\t\t\t\t\t\t\"title\": \"Workload \" + criteria.mode,\n\t\t\t\t\t\t\t\t}, null);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>}\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col md={3} lg={2}>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"mode\"\n\t\t\t\t\t\t\tvalue={criteria.mode}\n\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"Deployment\">Deployment</option>\n\t\t\t\t\t\t\t<option value=\"DaemonSet\">DaemonSet</option>\n\t\t\t\t\t\t\t<option value=\"CronJob\">CronJob</option>\n\t\t\t\t\t\t\t<option value=\"Pod\">Pod</option>\n\t\t\t\t\t\t\t<option value=\"HPA\">HPA</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col xs={8} lg={9}>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.name}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={4} lg={3}>\n\t\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Jumbotron>\n\t\t\t<hr/>\n\t\t\t{fields.length > 0 && mode === \"Pod\" &&\n\t\t\t<Pods\n\t\t\t\titems={fields}\n\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\tdeleteItem={ability.can('infra_pod', 'delete') ? deleteItem : null}\n\t\t\t\teditItem={ability.can('infra_workload', 'edit') ? editItem : null}\n\t\t\t/>\n\t\t\t}\n\t\t\t{fields.length > 0 && mode === \"Deployment\" &&\n\t\t\t<Deployments\n\t\t\t\titems={fields}\n\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\tdeleteItem={ability.can('infra_workload', 'delete') ? deleteItem : null}\n\t\t\t\teditItem={ability.can('infra_workload', 'edit') ? editItem : null}\n\t\t\t/>\n\t\t\t}\n\t\t\t{fields.length > 0 && mode === \"DaemonSet\" &&\n\t\t\t<Daemonsets\n\t\t\t\titems={fields}\n\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\tdeleteItem={ability.can('infra_workload', 'delete') ? deleteItem : null}\n\t\t\t\teditItem={ability.can('infra_workload', 'edit') ? editItem : null}\n\t\t\t/>\n\t\t\t}\n\t\t\t{fields.length > 0 && mode === \"CronJob\" &&\n\t\t\t<Cronjobs\n\t\t\t\titems={fields}\n\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\tdeleteItem={ability.can('infra_workload', 'delete') ? deleteItem : null}\n\t\t\t\teditItem={ability.can('infra_workload', 'edit') ? editItem : null}\n\t\t\t/>\n\t\t\t}\n\t\t\t{fields.length > 0 && mode === \"HPA\" &&\n\t\t\t<Hpas\n\t\t\t\titems={fields}\n\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t/>\n\t\t\t}\n\t\t\t{criteria.continue &&\n\t\t\t<Button\n\t\t\t\tsize=\"sm\"\n\t\t\t\tclassName=\"mt-3\"\n\t\t\t\tblock variant=\"light\"\n\t\t\t\tonClick={loadMore}\n\t\t\t>\n\t\t\t\t<Badge variant=\"light\" className=\"text-muted\">({criteria.remainingItemCount} remaining)</Badge> Click\n\t\t\t\there to load more\n\t\t\t\t...\n\t\t\t</Button>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Alert, Col, Row, Badge, Button} from \"react-bootstrap\";\n\nimport {AiOutlineInfoCircle} from \"react-icons/ai\";\nimport React, {useState} from \"react\";\nimport JsonModal from \"./modals/JsonModal\";\nimport DeleteModal from \"./modals/DeleteModal\";\nimport EditModal from \"./modals/EditModal\";\nimport EditButton from \"../../../../../buttons/Edit\";\nimport _ from \"lodash\";\nimport DeleteButton from \"../../../../../buttons/Delete\";\n\nexport default function Services({items, deleteItem, editItem}) {\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, \"item\": {}});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, \"item\": item});\n\t\n\tconst [modalEditOpt, setModalEditOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalEditOptShow = (item, json) => setModalEditOpt({\"show\": true, \"item\": item, \"json\": json});\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t{deleteItem &&\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name) => {\n\t\t\t\t\t\tdeleteItem(\"Service\", name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t{editItem &&\n\t\t\t<EditModal\n\t\t\t\tmodalOpt={modalEditOpt}\n\t\t\t\tsetModalOpt={setModalEditOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name, body) => {\n\t\t\t\t\t\tbody.kind = \"Service\";\n\t\t\t\t\t\teditItem(body.kind, body.metadata.name, body)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t\n\t\t\t{items.map((rec, i) => (\n\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Badge variant=\"light\" className=\"float-left mr-1 small mt-1\">service</Badge>\n\t\t\t\t\t\t\t<span className=\"small\">{rec.metadata.name}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={\"auto\"}>\n\t\t\t\t\t\t\t<span className=\"small float-left mr-2\"><Badge variant={\"dark\"}>{rec.spec.type}</Badge> {rec.metadata.creationTimestamp}</span>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\">\n\t\t\t\t\t\t\t\t<AiOutlineInfoCircle\n\t\t\t\t\t\t\t\t\tclassName=\"text-primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalOptShow(rec, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{editItem &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalEditOptShow({\n\t\t\t\t\t\t\t\t\t\t\"title\": rec.metadata.name,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.metadata.name\n\t\t\t\t\t\t\t\t\t}, _.merge({}, rec));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{deleteItem &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\"title\": rec.metadata.name, \"name\": rec.metadata.name});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {Button, Col, Form, Jumbotron, Row, Badge} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {useTranslation} from \"react-i18next\";\n\nimport AddButton from \"../../../../buttons/Add\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../../services\";\n\nimport ServicesContainer from \"../../catalog/common/container/Services\";\nimport {useAppContext} from \"../../../../../soajs/libs/contextLib\";\nimport AddModal from \"../../catalog/common/container/modals/AddModal\";\n\nconst infraService = InfraService.getService();\nconst initCriteria = {\n\t\"name\": \"\", \"mode\": \"Service\", \"continue\": null, \"remainingItemCount\": 0\n};\n\nasync function onLoad(setFields, criteria, env, setMode, setCriteria, isSubscribed) {\n\ttry {\n\t\tlet data = {\"mode\": criteria.mode, limit: 100}\n\t\tif (criteria.name && criteria.name.length > 0) {\n\t\t\tdata.filter = {\"fieldSelector\": \"metadata.name=\" + criteria.name};\n\t\t}\n\t\tconst response = await infraService.getServices(env, data);\n\t\tif (isSubscribed && response && response.items) {\n\t\t\tsetFields(response.items)\n\t\t\tsetMode(criteria.mode);\n\t\t\tif (response.metadata && response.metadata.continue) {\n\t\t\t\tcriteria.continue = response.metadata.continue;\n\t\t\t\tcriteria.remainingItemCount = response.metadata.remainingItemCount;\n\t\t\t\tsetCriteria({...criteria});\n\t\t\t} else {\n\t\t\t\tcriteria.continue = null;\n\t\t\t\tcriteria.remainingItemCount = 0;\n\t\t\t\tsetCriteria({...criteria});\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Services({environment}) {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [mode, setMode] = useState(\"Pod\");\n\tconst [criteria, setCriteria] = useState(initCriteria);\n\t\n\tconst [modalAddOpt, setModalAddOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalAddOptShow = (item, json) => setModalAddOpt({\"show\": true, \"item\": item, \"json\": json});\n\t\n\tasync function addItem(mode, body) {\n\t\ttry {\n\t\t\tawait infraService.addService(environment.code, {body, mode});\n\t\t\tawait reLoad(true);\n\t\t\tNotificationManager.success(t(\"soajs:messages.add_\" + mode));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function deleteItem(mode, name) {\n\t\ttry {\n\t\t\tawait infraService.deleteService(environment.code, {name, mode});\n\t\t\tawait reLoad(true);\n\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + mode));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function editItem(mode, name, body) {\n\t\ttry {\n\t\t\tawait infraService.updateService(environment.code, {name, body, mode});\n\t\t\tawait reLoad(true);\n\t\t\tNotificationManager.success(t(\"soajs:messages.update_\" + mode));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function reLoad(isSubscribed) {\n\t\tawait onLoad(setFields, criteria, environment.code, setMode, setCriteria, isSubscribed);\n\t}\n\t\n\tasync function loadMore() {\n\t\ttry {\n\t\t\tlet data = {\"mode\": criteria.mode, limit: 3}\n\t\t\tif (criteria.name && criteria.name.length > 0) {\n\t\t\t\tdata.filter = {\"fieldSelector\": \"metadata.name=\" + criteria.name};\n\t\t\t}\n\t\t\tif (criteria.continue) {\n\t\t\t\tdata.continue = criteria.continue;\n\t\t\t}\n\t\t\tconst response = await infraService.getServices(environment.code, data);\n\t\t\tif (response && response.items) {\n\t\t\t\t\n\t\t\t\tsetFields(fields.concat(response.items));\n\t\t\t\tif (response.metadata && response.metadata.continue) {\n\t\t\t\t\tcriteria.continue = response.metadata.continue;\n\t\t\t\t\tcriteria.remainingItemCount = response.metadata.remainingItemCount;\n\t\t\t\t\tsetCriteria({...criteria});\n\t\t\t\t} else {\n\t\t\t\t\tcriteria.continue = null;\n\t\t\t\t\tcriteria.remainingItemCount = 0;\n\t\t\t\t\tsetCriteria({...criteria});\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tawait reLoad(true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed) {\n\t\t\tsetCriteria(initCriteria);\n\t\t\tonLoad(setFields, initCriteria, environment.code, setMode, setCriteria, isSubscribed).catch();\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<AddModal\n\t\t\t\tmodalOpt={modalAddOpt}\n\t\t\t\tsetModalOpt={setModalAddOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(body) => {\n\t\t\t\t\t\tbody.kind = criteria.mode;\n\t\t\t\t\t\taddItem(body.kind, body).catch();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Jumbotron className=\"p-3 m-0\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col md={3} lg={2}>\n\t\t\t\t\t\t<h5 className=\"font-weight-bold m-0 float-left\">{t(\"soajs:titles.services\")}</h5>\n\t\t\t\t\t\t{ability.can('infra_service', 'add') &&\n\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 \"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tmodalAddOptShow({\n\t\t\t\t\t\t\t\t\t\"title\": \"Service\",\n\t\t\t\t\t\t\t\t}, null);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>}\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col md={3} lg={2}>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"mode\"\n\t\t\t\t\t\t\tvalue={criteria.mode}\n\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"Service\">Service</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col xs={8} lg={9}>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.name}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={4} lg={3}>\n\t\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Jumbotron>\n\t\t\t<hr/>\n\t\t\t{fields.length > 0 && mode === \"Service\" &&\n\t\t\t<ServicesContainer\n\t\t\t\titems={fields}\n\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\tdeleteItem={ability.can('infra_service', 'delete') ? deleteItem : null}\n\t\t\t\teditItem={ability.can('infra_service', 'edit') ? editItem : null}\n\t\t\t/>\n\t\t\t}\n\t\t\t{criteria.continue &&\n\t\t\t<Button\n\t\t\t\tsize=\"sm\"\n\t\t\t\tclassName=\"mt-3\"\n\t\t\t\tblock variant=\"light\"\n\t\t\t\tonClick={loadMore}\n\t\t\t>\n\t\t\t\t<Badge variant=\"light\" className=\"text-muted\">({criteria.remainingItemCount} remaining)</Badge> Click\n\t\t\t\there to load more\n\t\t\t\t...\n\t\t\t</Button>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Alert, Col, Row, Badge, Button} from \"react-bootstrap\";\n\nimport {AiOutlineInfoCircle} from \"react-icons/ai\";\nimport React, {useState} from \"react\";\nimport JsonModal from \"./modals/JsonModal\";\nimport DeleteModal from \"./modals/DeleteModal\";\nimport DeleteButton from \"../../../../../buttons/Delete\";\nimport EditModal from \"./modals/EditModal\";\nimport EditButton from \"../../../../../buttons/Edit\";\nimport _ from \"lodash\";\n\nexport default function PVC({items, deleteItem, editItem}) {\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, \"item\": {}});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, \"item\": item});\n\t\n\tconst [modalEditOpt, setModalEditOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalEditOptShow = (item, json) => setModalEditOpt({\"show\": true, \"item\": item, \"json\": json});\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t{deleteItem &&\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name) => {\n\t\t\t\t\t\tdeleteItem(\"PVC\", name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t{editItem &&\n\t\t\t<EditModal\n\t\t\t\tmodalOpt={modalEditOpt}\n\t\t\t\tsetModalOpt={setModalEditOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name, body) => {\n\t\t\t\t\t\tbody.kind = \"PersistentVolumeClaim\";\n\t\t\t\t\t\teditItem(body.kind, body.metadata.name, body)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t\n\t\t\t{items.map((rec, i) => (\n\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Badge variant=\"light\" className=\"float-left mr-1 small mt-1\">PVC</Badge>\n\t\t\t\t\t\t\t<span className=\"small\">{rec.metadata.name}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={\"auto\"}>\n\t\t\t\t\t\t\t<span className=\"small float-left mr-2\">{rec.metadata.creationTimestamp}</span>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\">\n\t\t\t\t\t\t\t\t<AiOutlineInfoCircle\n\t\t\t\t\t\t\t\t\tclassName=\"text-primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalOptShow(rec, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{editItem &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalEditOptShow({\n\t\t\t\t\t\t\t\t\t\t\"title\": rec.metadata.name,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.metadata.name\n\t\t\t\t\t\t\t\t\t}, _.merge({}, rec));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{deleteItem &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\"title\": rec.metadata.name, \"name\": rec.metadata.name});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {Alert, Badge, Button, Col, Row} from \"react-bootstrap\";\n\nimport {AiOutlineInfoCircle} from \"react-icons/ai\";\nimport React, {useState} from \"react\";\nimport JsonModal from \"./modals/JsonModal\";\n\nimport _ from \"lodash\";\n\nimport DeleteModal from \"./modals/DeleteModal\";\nimport EditModal from \"./modals/EditModal\";\n\nimport DeleteButton from \"../../../../../buttons/Delete\";\nimport EditButton from \"../../../../../buttons/Edit\";\n\nexport default function PV({items, deleteItem, editItem}) {\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, \"item\": {}});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, \"item\": item});\n\t\n\tconst [modalEditOpt, setModalEditOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalEditOptShow = (item, json) => setModalEditOpt({\"show\": true, \"item\": item, \"json\": json});\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t{deleteItem &&\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name) => {\n\t\t\t\t\t\tdeleteItem(\"PV\", name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t{editItem &&\n\t\t\t<EditModal\n\t\t\t\tmodalOpt={modalEditOpt}\n\t\t\t\tsetModalOpt={setModalEditOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name, body) => {\n\t\t\t\t\t\tbody.kind = \"PersistentVolume\";\n\t\t\t\t\t\teditItem(body.kind, body.metadata.name, body)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t\n\t\t\t{items.map((rec, i) => (\n\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Badge variant=\"light\" className=\"float-left mr-1 small mt-1\">PV</Badge>\n\t\t\t\t\t\t\t<span className=\"small\">{rec.metadata.name}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={\"auto\"}>\n\t\t\t\t\t\t\t<span className=\"small float-left mr-2\">{rec.metadata.creationTimestamp}</span>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\">\n\t\t\t\t\t\t\t\t<AiOutlineInfoCircle\n\t\t\t\t\t\t\t\t\tclassName=\"text-primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalOptShow(rec, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{editItem &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalEditOptShow({\n\t\t\t\t\t\t\t\t\t\t\"title\": rec.metadata.name,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.metadata.name\n\t\t\t\t\t\t\t\t\t}, _.merge({}, rec));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{deleteItem &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\"title\": rec.metadata.name, \"name\": rec.metadata.name});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {Alert, Badge, Button, Col, Row} from \"react-bootstrap\";\n\nimport {AiOutlineInfoCircle} from \"react-icons/ai\";\nimport React, {useState} from \"react\";\nimport JsonModal from \"./modals/JsonModal\";\n\nimport _ from \"lodash\";\n\nimport DeleteModal from \"./modals/DeleteModal\";\nimport EditModal from \"./modals/EditModal\";\n\nimport DeleteButton from \"../../../../../buttons/Delete\";\nimport EditButton from \"../../../../../buttons/Edit\";\n\nexport default function StorageClass({items, deleteItem, editItem}) {\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, \"item\": {}});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, \"item\": item});\n\t\n\tconst [modalEditOpt, setModalEditOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalEditOptShow = (item, json) => setModalEditOpt({\"show\": true, \"item\": item, \"json\": json});\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t{deleteItem &&\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name) => {\n\t\t\t\t\t\tdeleteItem(\"StorageClass\", name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t{editItem &&\n\t\t\t<EditModal\n\t\t\t\tmodalOpt={modalEditOpt}\n\t\t\t\tsetModalOpt={setModalEditOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name, body) => {\n\t\t\t\t\t\tbody.kind = \"StorageClass\";\n\t\t\t\t\t\teditItem(body.kind, body.metadata.name, body)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t\n\t\t\t{items.map((rec, i) => (\n\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Badge variant=\"light\" className=\"float-left mr-1 small mt-1\">StorageClass</Badge>\n\t\t\t\t\t\t\t<span className=\"small\">{rec.metadata.name}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={\"auto\"}>\n\t\t\t\t\t\t\t<span className=\"small float-left mr-2\">{rec.metadata.creationTimestamp}</span>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\">\n\t\t\t\t\t\t\t\t<AiOutlineInfoCircle\n\t\t\t\t\t\t\t\t\tclassName=\"text-primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalOptShow(rec, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{editItem &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalEditOptShow({\n\t\t\t\t\t\t\t\t\t\t\"title\": rec.metadata.name,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.metadata.name\n\t\t\t\t\t\t\t\t\t}, _.merge({}, rec));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{deleteItem &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\"title\": rec.metadata.name, \"name\": rec.metadata.name});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {Badge, Button, Col, Form, Jumbotron, Row} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {useAppContext} from \"../../../../../soajs/libs/contextLib\";\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport AddModal from \"../../catalog/common/container/modals/AddModal\";\nimport AddButton from \"../../../../buttons/Add\";\n\nimport PVCContainer from \"../../catalog/common/container/PVC\";\nimport PVContainer from \"../../catalog/common/container/PV\";\nimport StorageClassContainer from \"../../catalog/common/container/StorageClass\";\n\nimport {InfraService} from \"../../../../../services\";\n\nconst infraService = InfraService.getService();\nconst initCriteria = {\n\t\"name\": \"\", \"mode\": \"PVC\", \"continue\": null, \"remainingItemCount\": 0\n};\n\nasync function onLoad(setFields, criteria, env, setMode, setCriteria, isSubscribed) {\n\ttry {\n\t\tlet data = {\"mode\": criteria.mode, limit: 100}\n\t\tif (criteria.name && criteria.name.length > 0) {\n\t\t\tdata.filter = {\"fieldSelector\": \"metadata.name=\" + criteria.name};\n\t\t}\n\t\tconst response = await infraService.getStorage(env, data);\n\t\tif (isSubscribed && response && response.items) {\n\t\t\tlet items = response.items;\n\t\t\tsetFields([...items]);\n\t\t\tsetMode(criteria.mode);\n\t\t\tif (response.metadata && response.metadata.continue) {\n\t\t\t\tcriteria.continue = response.metadata.continue;\n\t\t\t\tcriteria.remainingItemCount = response.metadata.remainingItemCount;\n\t\t\t\tsetCriteria({...criteria});\n\t\t\t} else {\n\t\t\t\tcriteria.continue = null;\n\t\t\t\tcriteria.remainingItemCount = 0;\n\t\t\t\tsetCriteria({...criteria});\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Storage({environment}) {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [mode, setMode] = useState(\"PVC\");\n\tconst [criteria, setCriteria] = useState(initCriteria);\n\t\n\tconst [modalAddOpt, setModalAddOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalAddOptShow = (item, json) => setModalAddOpt({\"show\": true, \"item\": item, \"json\": json});\n\t\n\tasync function addItem(mode, body) {\n\t\ttry {\n\t\t\tawait infraService.addStorage(environment.code, {body, mode});\n\t\t\tawait reLoad(true);\n\t\t\tNotificationManager.success(t(\"soajs:messages.add_\" + mode));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function deleteItem(mode, name) {\n\t\ttry {\n\t\t\tawait infraService.deleteStorage(environment.code, {name, mode});\n\t\t\tawait reLoad(true);\n\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + mode));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function editItem(mode, name, body) {\n\t\ttry {\n\t\t\tawait infraService.updateStorage(environment.code, {name, body, mode});\n\t\t\tawait reLoad(true);\n\t\t\tNotificationManager.success(t(\"soajs:messages.update_\" + mode));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function reLoad(isSubscribed) {\n\t\tawait onLoad(setFields, criteria, environment.code, setMode, setCriteria, isSubscribed);\n\t}\n\t\n\tasync function loadMore() {\n\t\ttry {\n\t\t\tlet data = {\"mode\": criteria.mode, limit: 3}\n\t\t\tif (criteria.name && criteria.name.length > 0) {\n\t\t\t\tdata.filter = {\"fieldSelector\": \"metadata.name=\" + criteria.name};\n\t\t\t}\n\t\t\tif (criteria.continue) {\n\t\t\t\tdata.continue = criteria.continue;\n\t\t\t}\n\t\t\tconst response = await infraService.getStorage(environment.code, data);\n\t\t\tif (response && response.items) {\n\t\t\t\t\n\t\t\t\tsetFields(fields.concat(response.items));\n\t\t\t\tif (response.metadata && response.metadata.continue) {\n\t\t\t\t\tcriteria.continue = response.metadata.continue;\n\t\t\t\t\tcriteria.remainingItemCount = response.metadata.remainingItemCount;\n\t\t\t\t\tsetCriteria({...criteria});\n\t\t\t\t} else {\n\t\t\t\t\tcriteria.continue = null;\n\t\t\t\t\tcriteria.remainingItemCount = 0;\n\t\t\t\t\tsetCriteria({...criteria});\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tawait reLoad(true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed) {\n\t\t\tsetCriteria(initCriteria);\n\t\t\tonLoad(setFields, initCriteria, environment.code, setMode, setCriteria, isSubscribed).catch();\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<AddModal\n\t\t\t\tmodalOpt={modalAddOpt}\n\t\t\t\tsetModalOpt={setModalAddOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(body) => {\n\t\t\t\t\t\t// body.kind = criteria.mode;\n\t\t\t\t\t\taddItem(criteria.mode, body).catch();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Jumbotron className=\"p-3 m-0\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col md={3} lg={2}>\n\t\t\t\t\t\t<h5 className=\"font-weight-bold m-0 float-left\">{t(\"soajs:titles.storage\")}</h5>\n\t\t\t\t\t\t{ability.can('infra_storage', 'add') &&\n\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 \"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tmodalAddOptShow({\n\t\t\t\t\t\t\t\t\t\"title\": \"Storage \" + criteria.mode,\n\t\t\t\t\t\t\t\t}, null);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>}\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col md={3} lg={2}>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"mode\"\n\t\t\t\t\t\t\tvalue={criteria.mode}\n\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"PVC\">PVC - Persist Volume Claim</option>\n\t\t\t\t\t\t\t<option value=\"PV\">PV - Persist Volume</option>\n\t\t\t\t\t\t\t<option value=\"StorageClass\">Storage Class</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col xs={8} lg={9}>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.name}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={4} lg={3}>\n\t\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Jumbotron>\n\t\t\t<hr/>\n\t\t\t{fields.length > 0 && mode === \"PVC\" &&\n\t\t\t<PVCContainer\n\t\t\t\titems={fields}\n\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\tdeleteItem={ability.can('infra_storage', 'delete') ? deleteItem : null}\n\t\t\t\t// editItem={ability.can('infra_storage', 'edit') ? editItem : null}\n\t\t\t/>\n\t\t\t}\n\t\t\t{fields.length > 0 && mode === \"PV\" &&\n\t\t\t<PVContainer\n\t\t\t\titems={fields}\n\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\tdeleteItem={ability.can('infra_storage', 'delete') ? deleteItem : null}\n\t\t\t\teditItem={ability.can('infra_storage', 'edit') ? editItem : null}\n\t\t\t/>\n\t\t\t}\n\t\t\t{fields.length > 0 && mode === \"StorageClass\" &&\n\t\t\t<StorageClassContainer\n\t\t\t\titems={fields}\n\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\tdeleteItem={ability.can('infra_storage', 'delete') ? deleteItem : null}\n\t\t\t\teditItem={ability.can('infra_storage', 'edit') ? editItem : null}\n\t\t\t/>\n\t\t\t}\n\t\t\t{criteria.continue &&\n\t\t\t<Button\n\t\t\t\tsize=\"sm\"\n\t\t\t\tclassName=\"mt-3\"\n\t\t\t\tblock variant=\"light\"\n\t\t\t\tonClick={loadMore}\n\t\t\t>\n\t\t\t\t<Badge variant=\"light\" className=\"text-muted\">({criteria.remainingItemCount} remaining)</Badge> Click\n\t\t\t\there to load more\n\t\t\t\t...\n\t\t\t</Button>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Alert, Col, Row, Badge, Button} from \"react-bootstrap\";\n\nimport {AiOutlineInfoCircle} from \"react-icons/ai\";\nimport React, {useState} from \"react\";\nimport JsonModal from \"./modals/JsonModal\";\nimport DeleteModal from \"./modals/DeleteModal\";\nimport EditModal from \"./modals/EditModal\";\nimport EditButton from \"../../../../../buttons/Edit\";\nimport _ from \"lodash\";\nimport DeleteButton from \"../../../../../buttons/Delete\";\n\nexport default function ConfigMaps({items, deleteItem, editItem}) {\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, \"item\": {}});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, \"item\": item});\n\t\n\tconst [modalEditOpt, setModalEditOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalEditOptShow = (item, json) => setModalEditOpt({\"show\": true, \"item\": item, \"json\": json});\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t{deleteItem &&\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name) => {\n\t\t\t\t\t\tdeleteItem(\"ConfigMap\", name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t{editItem &&\n\t\t\t<EditModal\n\t\t\t\tmodalOpt={modalEditOpt}\n\t\t\t\tsetModalOpt={setModalEditOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name, body) => {\n\t\t\t\t\t\tbody.kind = \"ConfigMap\";\n\t\t\t\t\t\teditItem(body.kind, body.metadata.name, body)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t\n\t\t\t{items.map((rec, i) => (\n\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Badge variant=\"light\" className=\"float-left mr-1 small mt-1\">ConfigMap</Badge>\n\t\t\t\t\t\t\t<span className=\"small\">{rec.metadata.name}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={\"auto\"}>\n\t\t\t\t\t\t\t<span className=\"small float-left mr-2\"> {rec.metadata.creationTimestamp}</span>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\">\n\t\t\t\t\t\t\t\t<AiOutlineInfoCircle\n\t\t\t\t\t\t\t\t\tclassName=\"text-primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalOptShow(rec, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{editItem &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalEditOptShow({\n\t\t\t\t\t\t\t\t\t\t\"title\": rec.metadata.name,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.metadata.name\n\t\t\t\t\t\t\t\t\t}, _.merge({}, rec));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{deleteItem &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\"title\": rec.metadata.name, \"name\": rec.metadata.name});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {Alert, Col, Row, Badge, Button} from \"react-bootstrap\";\n\nimport {AiOutlineInfoCircle} from \"react-icons/ai\";\nimport React, {useState} from \"react\";\nimport JsonModal from \"./modals/JsonModal\";\nimport DeleteModal from \"./modals/DeleteModal\";\nimport EditModal from \"./modals/EditModal\";\nimport EditButton from \"../../../../../buttons/Edit\";\nimport _ from \"lodash\";\nimport DeleteButton from \"../../../../../buttons/Delete\";\n\nexport default function Secrets({items, deleteItem, editItem}) {\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"json\": {}, \"mode\": \"view\", \"title\": \"\"});\n\tconst modalOptShow = (json, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"json\": json,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, \"item\": {}});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, \"item\": item});\n\t\n\tconst [modalEditOpt, setModalEditOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalEditOptShow = (item, json) => setModalEditOpt({\"show\": true, \"item\": item, \"json\": json});\n\t\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t{deleteItem &&\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name) => {\n\t\t\t\t\t\tdeleteItem(\"Secret\", name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t{editItem &&\n\t\t\t<EditModal\n\t\t\t\tmodalOpt={modalEditOpt}\n\t\t\t\tsetModalOpt={setModalEditOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(name, body) => {\n\t\t\t\t\t\tbody.kind = \"Secret\";\n\t\t\t\t\t\teditItem(body.kind, body.metadata.name, body)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>}\n\t\t\t\n\t\t\t{items.map((rec, i) => (\n\t\t\t\t<Alert key={i} variant=\"info\" className=\"p-1 m-1\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Badge variant=\"danger\" className=\"float-left mr-1 small mt-1\">secret</Badge>\n\t\t\t\t\t\t\t<span className=\"small\">{rec.metadata.name}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={\"auto\"}>\n\t\t\t\t\t\t\t<span className=\"small float-left mr-2\">{rec.metadata.creationTimestamp}</span>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"light\" className=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\">\n\t\t\t\t\t\t\t\t<AiOutlineInfoCircle\n\t\t\t\t\t\t\t\t\tclassName=\"text-primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalOptShow(rec, rec.metadata.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{editItem &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalEditOptShow({\n\t\t\t\t\t\t\t\t\t\t\"title\": rec.metadata.name,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.metadata.name\n\t\t\t\t\t\t\t\t\t}, _.merge({}, rec));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{deleteItem &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\"title\": rec.metadata.name, \"name\": rec.metadata.name});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {Button, Form, Modal, Alert} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {JsonEditor, NotificationManager} from \"../../../../../../../soajs/urac/components\";\nimport {LoaderButton} from \"../../../../../../../soajs/helpers\";\nimport {useAppContext} from \"../../../../../../../soajs/libs/contextLib\";\nimport {InfraService} from \"../../../../../../../services\";\n\nconst initModel = {\n\t\"type\": \"\",\n\t\"name\": \"\",\n\t\"label\": \"\",\n\t\n\t\"server\": \"\",\n\t\"email\": \"\",\n\t\"username\": \"\",\n\t\"password\": \"\",\n\t\n\t\"text\": \"\",\n\t\"file\": null,\n\t\"json\": null\n};\nconst infraService = InfraService.getService();\nlet _json = null;\n\nexport default function AddSecretWizardModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [fields, setFields] = useState(initModel);\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\tif (fields.type === \"Text\") {\n\t\t\tvalid = valid && fields.label.length > 0 && fields.text.length > 0;\n\t\t}\n\t\tif (fields.type === \"Json\") {\n\t\t\tvalid = valid && fields.label.length > 0 && _json;\n\t\t}\n\t\tif (fields.type === \"File\") {\n\t\t\tvalid = valid && fields.label.length > 0 && fields.file;\n\t\t}\n\t\tif (fields.type === \"Registry\") {\n\t\t\tvalid = valid && fields.server.length > 0 && fields.email.length > 0 && fields.username.length > 0 && fields.password.length > 0;\n\t\t}\n\t\treturn (\n\t\t\tvalid && fields.name.length > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tif (event.target.type === 'number') {\n\t\t\tvalue = parseInt(value);\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tfunction handleFileInput(event) {\n\t\tconst file = event.target.files[0];\n\t\tif (file) {\n\t\t\tif (file.size > 2048000) {\n\t\t\t\tNotificationManager.error(\"File size cannot exceed more than 2MB\");\n\t\t\t\tevent.target.value = null;\n\t\t\t\tfields[event.target.id] = null;\n\t\t\t\tsetFields({...fields});\n\t\t\t} else {\n\t\t\t\tlet fileReader = new FileReader();\n\t\t\t\tfileReader.onloadend = () => {\n\t\t\t\t\tconst content = fileReader.result;\n\t\t\t\t\tfields[event.target.id] = content;\n\t\t\t\t\tsetFields({...fields});\n\t\t\t\t};\n\t\t\t\tfileReader.readAsText(file);\n\t\t\t}\n\t\t} else {\n\t\t\tfields[event.target.id] = null;\n\t\t\tsetFields({...fields});\n\t\t}\n\t}\n\t\n\tconst handleClose = () => {\n\t\t_json = {};\n\t\tsetModalOpt({\"show\": false, \"json\": {}, \"mode\": \"code\", \"item\": {}});\n\t};\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\tsetIsLoading(true);\n\t\tif (fields.type === \"Registry\") {\n\t\t\ttry {\n\t\t\t\tlet content = {\n\t\t\t\t\t\"username\": fields.username,\n\t\t\t\t\t\"password\": fields.password,\n\t\t\t\t\t\"email\": fields.email,\n\t\t\t\t\t\"server\": fields.server\n\t\t\t\t};\n\t\t\t\tawait infraService.addSecretRegistryWizard(modalOpt.item.env, fields.name, content);\n\t\t\t\thandleAction();\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.add_Secret\"));\n\t\t\t\thandleClose();\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tlet content = {\"name\": fields.label};\n\t\t\t\tif (fields.type === \"Text\") {\n\t\t\t\t\tcontent.content = fields.text;\n\t\t\t\t}\n\t\t\t\tif (fields.type === \"Json\") {\n\t\t\t\t\tcontent.content = JSON.stringify(fields.json);\n\t\t\t\t}\n\t\t\t\tif (fields.type === \"File\") {\n\t\t\t\t\tcontent.content = fields.file;\n\t\t\t\t}\n\t\t\t\tawait infraService.addSecretWizard(modalOpt.item.env, fields.name, [content]);\n\t\t\t\thandleAction();\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.add_Secret\"));\n\t\t\t\thandleClose();\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\tsetIsLoading(false);\n\t}\n\t\n\tfunction _json_onChange(json) {\n\t\t_json = json;\n\t\tfields.json = _json;\n\t}\n\t\n\tuseEffect(() => {\n\t\t_json = {};\n\t\tsetFields({...initModel});\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\tmodalOpt &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t\t<Modal.Title>{modalOpt.item.title}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Type\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control as=\"select\" id=\"type\" size=\"sm\"\n\t\t\t\t\t\t              defaultValue={fields.type}\n\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"---\"> --- Select a type ---</option>\n\t\t\t\t\t\t\t{ability.can('infra_secret', 'add_wizard') &&\n\t\t\t\t\t\t\t<option value=\"Text\">Text Content</option>}\n\t\t\t\t\t\t\t{ability.can('infra_secret', 'add_wizard') &&\n\t\t\t\t\t\t\t<option value=\"Json\">Json Content</option>}\n\t\t\t\t\t\t\t{ability.can('infra_secret', 'add_wizard') &&\n\t\t\t\t\t\t\t<option value=\"File\">File Content</option>}\n\t\t\t\t\t\t\t{ability.can('infra_secret', 'add_wizard_registry') &&\n\t\t\t\t\t\t\t<option value=\"Registry\">Private Registry</option>}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<hr/>\n\t\t\t\t\t<Alert variant=\"light\">\n\t\t\t\t\t\t{fields.type === \"Text\" &&\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Label\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"label\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.label}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"text\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\trows={15}\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.text}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{fields.type === \"Json\" &&\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Label\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"label\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.label}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<div style={{\"height\": \"400px\"}}>\n\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\tmode={modalOpt.mode || \"code\"}\n\t\t\t\t\t\t\t\t\tmodes={[\"tree\", \"code\"]}\n\t\t\t\t\t\t\t\t\tjson={_json || modalOpt.json || null}\n\t\t\t\t\t\t\t\t\tonChange={_json_onChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{fields.type === \"File\" &&\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Label\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"label\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.label}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.File\n\t\t\t\t\t\t\t\t\tclassName=\"position-relative\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tname=\"file\"\n\t\t\t\t\t\t\t\t\tlabel=\"File\"\n\t\t\t\t\t\t\t\t\tonChange={handleFileInput}\n\t\t\t\t\t\t\t\t\tid=\"file\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{fields.type === \"Registry\" &&\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Server\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"server\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.server}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\tEnter the Registry Server: https://index.docker.io/v1/\n\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Email\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.email}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Username\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.username}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Password\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.password}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Alert>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<LoaderButton\n\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t\t</LoaderButton>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Form>\n\t\t</Modal>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport {FaHatWizard} from \"react-icons/fa\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function AddWizard({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.AddWizard\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button variant=\"success\" size=\"sm\" {...props}>\n\t\t\t\t<FaHatWizard/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import {Button, Col, Form, Jumbotron, Row, Badge} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../../services\";\n\nimport ConfigMapsContainer from \"../../catalog/common/container/ConfigMaps\";\nimport SecretsContainer from \"../../catalog/common/container/Secrets\";\nimport {useAppContext} from \"../../../../../soajs/libs/contextLib\";\nimport AddModal from \"../../catalog/common/container/modals/AddModal\";\nimport AddSecretWizardModal from \"../../catalog/common/container/modals/AddSecretWizardModal\";\nimport AddButton from \"../../../../buttons/Add\";\nimport AddWizardButton from \"../../../../buttons/AddWizard\";\n\nconst infraService = InfraService.getService();\nconst initCriteria = {\n\t\"name\": \"\", \"mode\": \"Secret\", \"continue\": null, \"remainingItemCount\": 0\n};\n\nasync function onLoad(setFields, criteria, env, setMode, setCriteria, isSubscribed) {\n\ttry {\n\t\tlet data = {\"mode\": criteria.mode, limit: 100}\n\t\tif (criteria.name && criteria.name.length > 0) {\n\t\t\tdata.filter = {\"fieldSelector\": \"metadata.name=\" + criteria.name};\n\t\t}\n\t\tconst response = await infraService.getConfigurations(env, data);\n\t\tif (isSubscribed && response && response.items) {\n\t\t\tsetFields(response.items)\n\t\t\tsetMode(criteria.mode);\n\t\t\tif (response.metadata && response.metadata.continue) {\n\t\t\t\tcriteria.continue = response.metadata.continue;\n\t\t\t\tcriteria.remainingItemCount = response.metadata.remainingItemCount;\n\t\t\t\tsetCriteria({...criteria});\n\t\t\t} else {\n\t\t\t\tcriteria.continue = null;\n\t\t\t\tcriteria.remainingItemCount = 0;\n\t\t\t\tsetCriteria({...criteria});\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Configuration({environment}) {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [mode, setMode] = useState(\"Pod\");\n\tconst [criteria, setCriteria] = useState(initCriteria);\n\t\n\tconst [modalAddOpt, setModalAddOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalAddOptShow = (item, json) => setModalAddOpt({\"show\": true, \"item\": item, \"json\": json});\n\tconst [modalAddWizardOpt, setModalAddWizardOpt] = useState({\"show\": false, \"item\": {}, \"json\": null});\n\tconst modalAddWizardOptShow = (item, json) => setModalAddWizardOpt({\"show\": true, \"item\": item, \"json\": json});\n\t\n\tasync function addItem(mode, body) {\n\t\ttry {\n\t\t\tawait infraService.addConfiguration(environment.code, {body, mode});\n\t\t\tawait reLoad(true);\n\t\t\tNotificationManager.success(t(\"soajs:messages.add_\" + mode));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function deleteItem(mode, name) {\n\t\ttry {\n\t\t\tawait infraService.deleteConfiguration(environment.code, {name, mode});\n\t\t\tawait reLoad(true);\n\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + mode));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function editItem(mode, name, body) {\n\t\ttry {\n\t\t\tawait infraService.updateConfiguration(environment.code, {name, body, mode});\n\t\t\tawait reLoad(true);\n\t\t\tNotificationManager.success(t(\"soajs:messages.update_\" + mode));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function reLoad(isSubscribed) {\n\t\tawait onLoad(setFields, criteria, environment.code, setMode, setCriteria, isSubscribed);\n\t}\n\t\n\tasync function loadMore() {\n\t\ttry {\n\t\t\tlet data = {\"mode\": criteria.mode, limit: 3}\n\t\t\tif (criteria.name && criteria.name.length > 0) {\n\t\t\t\tdata.filter = {\"fieldSelector\": \"metadata.name=\" + criteria.name};\n\t\t\t}\n\t\t\tif (criteria.continue) {\n\t\t\t\tdata.continue = criteria.continue;\n\t\t\t}\n\t\t\tconst response = await infraService.getConfigurations(environment.code, data);\n\t\t\tif (response && response.items) {\n\t\t\t\t\n\t\t\t\tsetFields(fields.concat(response.items));\n\t\t\t\tif (response.metadata && response.metadata.continue) {\n\t\t\t\t\tcriteria.continue = response.metadata.continue;\n\t\t\t\t\tcriteria.remainingItemCount = response.metadata.remainingItemCount;\n\t\t\t\t\tsetCriteria({...criteria});\n\t\t\t\t} else {\n\t\t\t\t\tcriteria.continue = null;\n\t\t\t\t\tcriteria.remainingItemCount = 0;\n\t\t\t\t\tsetCriteria({...criteria});\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tawait reLoad(true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed) {\n\t\t\tsetCriteria(initCriteria);\n\t\t\tonLoad(setFields, initCriteria, environment.code, setMode, setCriteria, isSubscribed).catch();\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<AddSecretWizardModal\n\t\t\t\tmodalOpt={modalAddWizardOpt}\n\t\t\t\tsetModalOpt={setModalAddWizardOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t() => {\n\t\t\t\t\t\treLoad(true).catch();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<AddModal\n\t\t\t\tmodalOpt={modalAddOpt}\n\t\t\t\tsetModalOpt={setModalAddOpt}\n\t\t\t\thandleAction={\n\t\t\t\t\t(body) => {\n\t\t\t\t\t\tbody.kind = criteria.mode;\n\t\t\t\t\t\taddItem(body.kind, body).catch();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Jumbotron className=\"p-3 m-0\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col md={4} lg={4} xl={3}>\n\t\t\t\t\t\t<h5 className=\"font-weight-bold m-0 float-left\">{t(\"soajs:titles.configuration\")}</h5>\n\t\t\t\t\t\t{ability.can('infra_configuration', 'add') &&\n\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tmodalAddOptShow({\n\t\t\t\t\t\t\t\t\t\"title\": \"Configuration \" + criteria.mode\n\t\t\t\t\t\t\t\t}, null);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{(ability.can('infra_secret', 'add_wizard') || ability.can('infra_secret', 'add_wizard_registry')) && (criteria.mode === \"Secret\") && \n\t\t\t\t\t\t<AddWizardButton\n\t\t\t\t\t\t\tclassName=\"float-right pt-0 pb-1 pl-1 pr-1 mr-2 ml-1\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tmodalAddWizardOptShow({\n\t\t\t\t\t\t\t\t\t\"title\": criteria.mode + \" Wizard\",\n\t\t\t\t\t\t\t\t\t\"env\": environment.code\n\t\t\t\t\t\t\t\t}, {});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col md={3} lg={2}>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"mode\"\n\t\t\t\t\t\t\tvalue={criteria.mode}\n\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"Secret\">Secret</option>\n\t\t\t\t\t\t\t<option value=\"ConfigMap\">ConfigMap</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col xs={8} lg={9}>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.name}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={4} lg={3}>\n\t\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Jumbotron>\n\t\t\t<hr/>\n\t\t\t{fields.length > 0 && mode === \"Secret\" &&\n\t\t\t<SecretsContainer\n\t\t\t\titems={fields}\n\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\tdeleteItem={ability.can('infra_configuration', 'delete') ? deleteItem : null}\n\t\t\t/>\n\t\t\t}\n\t\t\t{fields.length > 0 && mode === \"ConfigMap\" &&\n\t\t\t<ConfigMapsContainer\n\t\t\t\titems={fields}\n\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\tdeleteItem={ability.can('infra_configuration', 'delete') ? deleteItem : null}\n\t\t\t\teditItem={ability.can('infra_configuration', 'edit') ? editItem : null}\n\t\t\t/>\n\t\t\t}\n\t\t\t{criteria.continue &&\n\t\t\t<Button\n\t\t\t\tsize=\"sm\"\n\t\t\t\tclassName=\"mt-3\"\n\t\t\t\tblock variant=\"light\"\n\t\t\t\tonClick={loadMore}\n\t\t\t>\n\t\t\t\t<Badge variant=\"light\" className=\"text-muted\">({criteria.remainingItemCount} remaining)</Badge> Click\n\t\t\t\there to load more\n\t\t\t\t...\n\t\t\t</Button>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Switch} from \"react-router-dom\";\nimport React from \"react\";\nimport {AuthenticatedRoute} from \"../../../../soajs/helpers\";\n\nimport Rbac from \"./Rbac/Rbac\";\nimport Nodes from \"./Nodes/Nodes\";\nimport Workloads from \"./Workloads/Workloads\";\nimport Services from \"./Services/Services\";\nimport Storage from \"./Storage/Storage\";\nimport Configuration from \"./Configuration/Configuration\";\n\n\nconst rootPath = \"/environments\";\n\nexport default function Routes({environment}) {\n\treturn (\n\t\t<Switch>\n\t\t\t\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/cluster/nodes\"}>\n\t\t\t\t<Nodes\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/cluster/workloads\"}>\n\t\t\t\t<Workloads\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/cluster/services\"}>\n\t\t\t\t<Services\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/cluster/storage\"}>\n\t\t\t\t<Storage\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/cluster/configuration\"}>\n\t\t\t\t<Configuration\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/cluster/rbac\"}>\n\t\t\t\t<Rbac\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\n\t\t</Switch>\n\t)\n}","import {Alert} from \"react-bootstrap\";\nimport React from \"react\";\nimport Routes from \"./Routes\";\n\nexport default function Cluster({environment}) {\n\t\n\treturn (\n\t\tenvironment &&\n\t\t<>\n\t\t\t{environment.deployer && environment.deployer.type === \"container\" ? (\n\t\t\t\t<Routes\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Alert variant=\"info\" className=\"mt-4 mb-4\">\n\t\t\t\t\tThis environment is of type <span className=\"text-success\">manual</span>, Cluster is only available\n\t\t\t\t\tfor environments of type <span className=\"text-info\">container</span>\n\t\t\t\t</Alert>\n\t\t\t)}\n\t\t</>\n\t);\n}","import {Card, CardDeck, ListGroup, ListGroupItem, Row, Col} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {JsonEditor} from \"../../../../soajs/urac/components\";\n\nexport default function DefaultViewRegistry({registry}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\treturn (\n\t\tregistry &&\n\t\t<div>\n\t\t\t<Card bg=\"light\">\n\t\t\t\t<Card.Body>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"small\">{registry.protocol}://{registry.apiPrefix ? registry.apiPrefix + \".\" : \"\"}{registry.domain}:{registry.port}</span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row className=\"mt-3 small\">\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t{registry.description}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Card.Body>\n\t\t\t</Card>\n\t\t\t\n\t\t\t<CardDeck className=\"mb-4 small mt-4\">\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Awareness\")}</Card.Title>\n\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.CacheTTL\")}:</span> {registry.services.config.awareness.cacheTTL}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Healthcheckinterval\")}:</span> {registry.services.config.awareness.healthCheckInterval}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Autoreloadregistry\")}:</span> {registry.services.config.awareness.autoRelaodRegistry}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Maxlogcount\")}:</span> {registry.services.config.awareness.maxLogCount}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Automaticregisterservice\")}:</span> {\"\" + registry.services.config.awareness.autoRegisterService}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Cors\")}</Card.Title>\n\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Enabled\")}:</span> {\"\" + registry.services.config.cors.enabled}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Credentials\")}:</span> {\"\" + registry.services.config.cors.credentials}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Origin\")}:</span> {registry.services.config.cors.origin}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Maxage\")}:</span> {\"\" + registry.services.config.cors.maxage}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Methods\")}:</span> {registry.services.config.cors.methods}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Headers\")}:</span> {\"\" + registry.services.config.cors.headers}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t</CardDeck>\n\t\t\t\n\t\t\t<CardDeck className=\"mb-4 small\">\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Requests\")}</Card.Title>\n\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Authorization\")}:</span> {\"\" + registry.services.controller.authorization}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Timeout\")}:</span> {registry.services.controller.requestTimeout}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Timeoutrenewal\")}:</span> {registry.services.controller.requestTimeoutRenewal}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Ports\")}</Card.Title>\n\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Gatewayport\")}:</span> {registry.services.config.ports.controller}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Gatewaymaintenanceport\")}:</span> {registry.services.config.ports.controller + registry.services.config.ports.maintenanceInc}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Randomizedportincrement\")}:</span> {registry.services.config.ports.randomInc}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t</CardDeck>\n\t\t\t\n\t\t\t<CardDeck className=\"mb-4 small\">\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Logger\")}</Card.Title>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\tmode={\"preview\"}\n\t\t\t\t\t\t\tjson={registry.services.config.logger || {}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{/*<ListGroup variant=\"flush\">*/}\n\t\t\t\t\t\t{/*\t<ListGroupItem><span*/}\n\t\t\t\t\t\t{/*\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Source\")}:</span> {\"\" + registry.services.config.logger.src}*/}\n\t\t\t\t\t\t{/*\t</ListGroupItem>*/}\n\t\t\t\t\t\t{/*\t<ListGroupItem><span*/}\n\t\t\t\t\t\t{/*\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Level\")}:</span> {registry.services.config.logger.level}*/}\n\t\t\t\t\t\t{/*\t</ListGroupItem>*/}\n\t\t\t\t\t\t{/*\t<ListGroupItem><span*/}\n\t\t\t\t\t\t{/*\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Levelinstring\")}:</span> {\"\" + registry.services.config.logger.formatter.levelInString}*/}\n\t\t\t\t\t\t{/*\t</ListGroupItem>*/}\n\t\t\t\t\t\t{/*\t<ListGroupItem><span*/}\n\t\t\t\t\t\t{/*\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Outputtype\")}:</span> {registry.services.config.logger.formatter.outputMode}*/}\n\t\t\t\t\t\t{/*\t</ListGroupItem>*/}\n\t\t\t\t\t\t{/*</ListGroup>*/}\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Oauth\")}</Card.Title>\n\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Grants\")}:</span> {registry.services.config.oauth.grants.join(\", \")}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Getuserinformationfromtoken\")}:</span> {\"\" + registry.services.config.oauth.getUserFromToken}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Accesstokenlifetime\")}:</span> {registry.services.config.oauth.accessTokenLifetime}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">{t(\"soajs:fields.Refreshtokenlifetime\")}:</span> {registry.services.config.oauth.refreshTokenLifetime}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t</CardDeck>\n\t\t</div>\n\t);\n}","import {Form, Row, Col, Alert, Card, CardDeck} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport deepSet from \"../../../../soajs/libs/deepSetLib\";\nimport {JsonEditor} from \"../../../../soajs/urac/components\";\n\nexport default function DefaultEditRegistry({registry, fields, setFields}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tif (event.target.type === 'number') {\n\t\t\tvalue = parseInt(value);\n\t\t}\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\tfunction handleFieldChangeBoolean(event) {\n\t\tlet value = event.target.value;\n\t\tlet obj = fields;\n\t\tvalue = (value === \"true\");\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\tfields.services.config.logger = json;\n\t}\n\t\n\treturn (\n\t\tregistry &&\n\t\t<Form>\n\t\t\t<Form.Group>\n\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t<Form.Control\n\t\t\t\t\tid=\"description\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\trows={3}\n\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t/>\n\t\t\t</Form.Group>\n\t\t\t<Alert variant=\"light\" style={{\"border\": \"1px solid rgba(0,0,0,.125)\"}}>\n\t\t\t\t<Form.Group>\n\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Domain\")}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tid=\"domain\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tvalue={fields.domain}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Protocol\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control as=\"select\" id=\"protocol\" size=\"sm\"\n\t\t\t\t\t\t\t              defaultValue={fields.protocol}\n\t\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"https\">https</option>\n\t\t\t\t\t\t\t\t<option value=\"http\">http</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Port\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"port\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.port}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.apiPrefix\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"apiPrefix\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.apiPrefix}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.sitePrefix\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"sitePrefix\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.sitePrefix}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col className=\"small text-muted text-center\">\n\t\t\t\t\t\t{t(\"soajs:messages.prefixMsg\")}\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Alert>\n\t\t\t<hr/>\n\t\t\t<CardDeck className=\"mb-4 small mt-4\">\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Awareness\")}</Card.Title>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.CacheTTL\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.awareness.cacheTTL\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.awareness.cacheTTL}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Healthcheckinterval\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.awareness.healthCheckInterval\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.awareness.healthCheckInterval}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Autoreloadregistry\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.awareness.autoRelaodRegistry\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.awareness.autoRelaodRegistry}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Maxlogcount\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.awareness.maxLogCount\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.awareness.maxLogCount}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Automaticregisterservice\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.awareness.autoRegisterService\"\n\t\t\t\t\t\t\t\tas=\"select\" size=\"sm\"\n\t\t\t\t\t\t\t\tdefaultValue={fields.services.config.awareness.autoRegisterService}\n\t\t\t\t\t\t\t\tonChange={handleFieldChangeBoolean}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"true\">True</option>\n\t\t\t\t\t\t\t\t<option value=\"false\">False</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Cors\")}</Card.Title>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Enabled\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"services.config.cors.enabled\"\n\t\t\t\t\t\t\t\t\t\tas=\"select\" size=\"sm\"\n\t\t\t\t\t\t\t\t\t\tdefaultValue={fields.services.config.cors.enabled}\n\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChangeBoolean}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value=\"true\">True</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"false\">False</option>\n\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Credentials\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"services.config.cors.credentials\"\n\t\t\t\t\t\t\t\t\t\tas=\"select\" size=\"sm\"\n\t\t\t\t\t\t\t\t\t\tdefaultValue={fields.services.config.cors.credentials}\n\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChangeBoolean}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value=\"true\">True</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"false\">False</option>\n\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Origin\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.cors.origin\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.cors.origin}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Maxage\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.cors.maxage\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.cors.maxage}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Methods\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.cors.methods\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.cors.methods}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Headers\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.cors.headers\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\tvalue={fields.services.config.cors.headers}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t</CardDeck>\n\t\t\t<CardDeck className=\"mb-4 small mt-4\">\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Requests\")}</Card.Title>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Authorization\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.controller.authorization\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\ttype=\"boolean\"\n\t\t\t\t\t\t\t\tdefaultValue={fields.services.controller.authorization}\n\t\t\t\t\t\t\t\tonChange={handleFieldChangeBoolean}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"true\">True</option>\n\t\t\t\t\t\t\t\t<option value=\"false\">False</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Timeout\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.controller.requestTimeout\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.controller.requestTimeout}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Timeoutrenewal\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.controller.requestTimeoutRenewal\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.controller.requestTimeoutRenewal}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Ports\")}</Card.Title>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Controller\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.ports.controller\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.ports.controller}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.MaintenanceInc\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.ports.maintenanceInc\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.ports.maintenanceInc}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.RandomInc\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.ports.randomInc\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.ports.randomInc}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t</CardDeck>\n\t\t\t<CardDeck className=\"mb-4 small mt-4\">\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Logger\")}</Card.Title>\n\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\t\t\tjson={fields.services.config.logger || {}}\n\t\t\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:fields.Oauth\")}</Card.Title>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Getuserinformationfromtoken\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.oauth.getUserFromToken\"\n\t\t\t\t\t\t\t\tas=\"select\" size=\"sm\"\n\t\t\t\t\t\t\t\tdefaultValue={fields.services.config.oauth.getUserFromToken}\n\t\t\t\t\t\t\t\tonChange={handleFieldChangeBoolean}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"true\">True</option>\n\t\t\t\t\t\t\t\t<option value=\"false\">False</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Accesstokenlifetime\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.oauth.accessTokenLifetime\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.oauth.accessTokenLifetime}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Refreshtokenlifetime\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"services.config.oauth.refreshTokenLifetime\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={fields.services.config.oauth.refreshTokenLifetime}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t</CardDeck>\n\t\t</Form>\n\t);\n}","import {Card, ListGroup, ListGroupItem} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function Awareness({registry}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\treturn (\n\t\tregistry &&\n\t\t<div>\n\t\t\t{registry.deployer && registry.deployer.type === \"container\" ? (\n\t\t\t\t<Card>\n\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t{t(\"soajs:titles.Containerdeploymentdetect\")}:\n\t\t\t\t\t</Card.Header>\n\t\t\t\t\t<Card.Body className=\"mt-3 mb-3\">\n\t\t\t\t\t\t{t(\"soajs:messages.containerMsg1\")}\n\t\t\t\t\t</Card.Body>\n\t\t\t\t\t<Card.Footer>\n\t\t\t\t\t\t<small className=\"text-muted\">\n\t\t\t\t\t\t\t{t(\"soajs:messages.manualMsg2\")} <a href=\"https://soajsorg.atlassian.net/wiki/spaces/CON/pages/1914142723/Awareness\">{t(\"common:ClickHere\")}</a>\n\t\t\t\t\t\t</small>\n\t\t\t\t\t</Card.Footer>\n\t\t\t\t</Card>\n\t\t\t) : (\n\t\t\t\t<Card>\n\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t{t(\"soajs:titles.Manualdeploymentdetect\")}:\n\t\t\t\t\t</Card.Header>\n\t\t\t\t\t<Card.Body className=\"mt-3 mb-3\">\n\t\t\t\t\t\t{t(\"soajs:messages.manualMsg1\")}\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t<ListGroupItem><span className=\"font-weight-bold mr-3\">SOAJS_ENV:</span> {registry.code}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">SOAJS_DEPLOY_MANUAL:</span> 1\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3\">SOAJS_REGISTRY_API:</span> {registry.deployer.manual.nodes}:{registry.services.config.ports.controller + registry.services.config.ports.maintenanceInc}\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t\t<Card.Footer>\n\t\t\t\t\t\t<small className=\"text-muted\">\n\t\t\t\t\t\t\t{t(\"soajs:messages.manualMsg2\")} <a href=\"https://soajsorg.atlassian.net/wiki/spaces/CON/pages/1914142723/Awareness\">{t(\"common:ClickHere\")}</a>\n\t\t\t\t\t\t</small>\n\t\t\t\t\t</Card.Footer>\n\t\t\t\t</Card>\n\t\t\t)}\n\t\t</div>\n\t);\n}","import {Button, Card, CardDeck, Form, Jumbotron} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport _ from \"lodash\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {UracService} from \"../../../../../soajs/urac/services\";\nimport {useAppContext} from \"../../../../../soajs/libs/contextLib\";\nimport {ConsoleService} from \"../../../../../services\";\n\nconst uracService = UracService.getService();\nconst consoleService = ConsoleService.getService();\n\nfunction isGroupSelected(settings, value) {\n\treturn (\n\t\tsettings &&\n\t\tsettings.acl &&\n\t\tsettings.acl.groups &&\n\t\tsettings.acl.groups.value &&\n\t\tsettings.acl.groups.value.includes(value)\n\t);\n}\n\nexport default function ConfigureModalGroups({settings, id, handleAction, handleClose}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [groups, setGroups] = useState([]);\n\tconst [fields, setFields] = useState({\n\t\t\"groups\": [],\n\t\t\"type\": \"whitelist\"\n\t});\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\t\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction whitelistBlacklist(checked, what) {\n\t\tlet obj = fields;\n\t\tobj.type = what;\n\t\tsetFields({...obj});\n\t}\n\t\n\tfunction onChangeGroup(checked, code) {\n\t\tlet obj = fields;\n\t\tif (checked) {\n\t\t\tobj.groups.push(code);\n\t\t} else {\n\t\t\t_.pullAll(obj.groups, [code]);\n\t\t}\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleDelete(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tawait consoleService.deleteResourceRegistryAcl(id);\n\t\t\tNotificationManager.success(t(\"soajs:messages.resourceGroupDeleteSuccess\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function handleSave(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tawait consoleService.saveResourceRegistryAcl({\n\t\t\t\t\"id\": id,\n\t\t\t\t\"groups\": fields.groups,\n\t\t\t\t\"type\": fields.type\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.resourceGroupSaveSuccess\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (settings && settings.acl && settings.acl.groups) {\n\t\t\t\t\tsetFields({\n\t\t\t\t\t\t\"groups\": settings.acl.groups.value,\n\t\t\t\t\t\t\"type\": settings.acl.groups.type\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tconst _groups = await uracService.getGroups();\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetGroups(_groups);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, [settings]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-4 m-0 bg-light border-dark small\">\n\t\t\t\t<fieldset>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"whitelist\"\n\t\t\t\t\t\tname=\"groupsType\"\n\t\t\t\t\t\tid=\"groupsType1\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"whitelist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"whitelist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"blacklist\"\n\t\t\t\t\t\tname=\"groupsType\"\n\t\t\t\t\t\tid=\"groupsType2\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"blacklist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"blacklist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</fieldset>\n\t\t\t</Jumbotron>\n\t\t\t<CardDeck className=\"ml-2\">\n\t\t\t\t{groups.map((oo, index) => (\n\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t      style={{\"minWidth\": '11rem', \"maxWidth\": '11rem'}}>\n\t\t\t\t\t\t<Card.Body className=\"p-2\">\n\t\t\t\t\t\t\t<Form.Check className=\"small\" key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t            defaultChecked={isGroupSelected(settings, oo.code)}\n\t\t\t\t\t\t\t            label={oo.code}\n\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t            onChangeGroup(event.target.checked, oo.code)\n\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</CardDeck>\n\t\t\t<hr/>\n\t\t\t<div>\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t\t\n\t\t\t\t{ability.can('registry_custom', 'update_acl') &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleSave}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Save\")}\n\t\t\t\t</Button>}\n\t\t\t\t\n\t\t\t\t{ability.can('registry_custom', 'delete_acl') &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"danger\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleDelete}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>}\n\t\t\t</div>\n\t\t</>\n\t);\n}","import {useTranslation} from \"react-i18next\";\nimport React from \"react\";\nimport {\n\tForm,\n\tJumbotron, Modal,\n\tTab, Tabs\n} from \"react-bootstrap\";\n\nimport ConfigureModalGroups from \"./ConfigureModalGroups\";\n\nexport default function ConfigureModal({modalOpt, setModalOpt, handleAfterSubmit}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, \"item\": null});\n\t\n\treturn (\n\t\t<>\n\t\t\t{modalOpt.item &&\n\t\t\t<Modal size=\"lg\" show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>{t(\"soajs:titles.ResourceRegistry\")}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t\n\t\t\t\t\t<Jumbotron className=\"p-4\">\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{modalOpt.item.name}</span>\n\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t<Form onSubmit={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"acl\" id=\"config\">\n\t\t\t\t\t\t\t<Tab eventKey=\"acl\" title={t(\"soajs:fields.Groups\")}>\n\t\t\t\t\t\t\t\t<ConfigureModalGroups\n\t\t\t\t\t\t\t\t\tsettings={modalOpt.item.settings}\n\t\t\t\t\t\t\t\t\thandleAction={() => {\n\t\t\t\t\t\t\t\t\t\thandleAfterSubmit();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\thandleClose={handleClose}\n\t\t\t\t\t\t\t\t\tid={modalOpt.item._id}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</Form>\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../../services\";\n\nconst consoleService = ConsoleService.getService();\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait consoleService.deleteResourceRegistry(modalOpt.item._id, modalOpt.item.created);\n\t\t\tNotificationManager.success(t(\"soajs:messages.deleteResource\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>{t(\"soajs:messages.deleteQuestion\")}</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form, Tabs, Tab, Table} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../../services\";\n\nimport _data from \"./data.json\";\n\nconst consoleService = ConsoleService.getService();\nlet _json = {};\n\nexport default function AddModal({modalOpt, setModalOpt, handleAction, environments, environment}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\tconst [jsonFields, setJsonFields] = useState({});\n\tconst [fields, setFields] = useState({\n\t\t\"name\": \"\",\n\t\t\"plugged\": false,\n\t\t\"shared\": false,\n\t\t\"type\": \"\",\n\t\t\"category\": \"\"\n\t});\n\tconst [sharedEnvs, setSharedEnvs] = useState({});\n\t\n\tfunction validateForm() {\n\t\tlet valid = (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.type.length > 0 &&\n\t\t\tfields.category.length > 0\n\t\t);\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction handleSharedEnvsChange(event) {\n\t\tlet checked = false;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tchecked = event.target.checked;\n\t\t}\n\t\tif (checked) {\n\t\t\tsetSharedEnvs({\n\t\t\t\t...sharedEnvs,\n\t\t\t\t[event.target.id]: checked\n\t\t\t});\n\t\t} else {\n\t\t\tlet obj = sharedEnvs;\n\t\t\tdelete obj[event.target.id];\n\t\t\tsetSharedEnvs({\n\t\t\t\t...obj\n\t\t\t});\n\t\t}\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tfunction handleCategoryChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (_data.category[fields.type]) {\n\t\t\tfor (let i = 0; i < _data.category[fields.type].length; i++) {\n\t\t\t\tif (_data.category[fields.type][i].v === value) {\n\t\t\t\t\tif (_data.category[fields.type][i].schema) {\n\t\t\t\t\t\t_json = _data.category[fields.type][i].schema;\n\t\t\t\t\t\tsetJsonFields(_data.category[fields.type][i].schema);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_json = {};\n\t\t\t\t\t\tsetJsonFields({});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet _sharedEnvs = {};\n\t\t\tlet envs = Object.keys(sharedEnvs);\n\t\t\tfor (let i = 0; i < envs.length; i++) {\n\t\t\t\tif (sharedEnvs[envs[i]]) {\n\t\t\t\t\t_sharedEnvs[envs[i]] = sharedEnvs[envs[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet data = {\n\t\t\t\t\"name\": fields.name,\n\t\t\t\t\"plugged\": fields.plugged,\n\t\t\t\t\"shared\": fields.shared,\n\t\t\t\t\"sharedEnvs\": _sharedEnvs,\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"category\": fields.category\n\t\t\t};\n\t\t\tdata.config = _json;\n\t\t\t\n\t\t\tawait consoleService.addResource(environment.code, data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.addResource\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\t_json = json;\n\t}\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt) {\n\t\t\tsetFields({\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"plugged\": false,\n\t\t\t\t\"shared\": false,\n\t\t\t\t\"type\": \"\",\n\t\t\t\t\"category\": \"\"\n\t\t\t});\n\t\t\t\n\t\t\tlet _sharedEns = {};\n\t\t\tfor (let i = 0; i < environments.length; i++) {\n\t\t\t\t_sharedEns[environments[i].code] = false;\n\t\t\t}\n\t\t\tsetSharedEnvs({..._sharedEns});\n\t\t\t_json = {};\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt, environments]);\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.resourceRegistryAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"value\" id=\"config\">\n\t\t\t\t\t\t<Tab eventKey=\"value\" title={t(\"soajs:fields.Configuration\")}>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Type\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control as=\"select\" id=\"type\"\n\t\t\t\t\t\t\t\t              defaultValue={fields.type}\n\t\t\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value={\"\"}>{t(\"soajs:fields.SelectType\")}</option>\n\t\t\t\t\t\t\t\t\t{_data.type.map((t, i) => (\n\t\t\t\t\t\t\t\t\t\t<option key={i} value={t.v}>{t.l}</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Category\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"category\"\n\t\t\t\t\t\t\t\t\tdefaultValue={fields.category}\n\t\t\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t\t\thandleFieldChange(event);\n\t\t\t\t\t\t\t\t\t\thandleCategoryChange(event);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value={\"\"}>{t(\"soajs:fields.SelectCategory\")}</option>\n\t\t\t\t\t\t\t\t\t{fields.type && _data.category[fields.type] && _data.category[fields.type].map((t, i) => (\n\t\t\t\t\t\t\t\t\t\t<option key={i} value={t.v}>{t.l}</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group style={{\"height\": \"400px\"}}>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Value\")}</Form.Label>\n\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\tjson={_json || jsonFields}\n\t\t\t\t\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t<Tab eventKey=\"settings\" title={t(\"soajs:fields.Settings\")}>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label className=\"float-left\">{t(\"soajs:fields.PlugConfiguration\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\tid=\"plugged\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\tchecked={fields.plugged}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label className=\"float-left\">{t(\"soajs:fields.ShareConfiguration\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\tid=\"shared\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\tchecked={fields.shared}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t{fields.shared &&\n\t\t\t\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{environments.map((e, i) => (\n\t\t\t\t\t\t\t\t\t<tr key={i}>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{(!environment || environment.code !== e.code) &&\n\t\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\t\tid={e.code}\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={sharedEnvs[e.code]}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleSharedEnvsChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{e.code}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{e.description}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t</Tabs>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form, Tabs, Tab, Table} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../../services\";\n\nconst consoleService = ConsoleService.getService();\nlet _json = {};\n\nexport default function UpdateModal({modalOpt, setModalOpt, handleAction, environments, environment}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\tconst [fields, setFields] = useState({\n\t\t\"id\": \"\",\n\t\t\"name\": \"\",\n\t\t\"plugged\": false,\n\t\t\"shared\": false,\n\t\t\"type\": \"\",\n\t\t\"category\": \"\"\n\t});\n\tconst [sharedEnvs, setSharedEnvs] = useState({});\n\t\n\tfunction validateForm() {\n\t\tlet valid = (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.type.length > 0 &&\n\t\t\tfields.category.length > 0\n\t\t);\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction handleSharedEnvsChange(event) {\n\t\tlet checked = false;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tchecked = event.target.checked;\n\t\t}\n\t\tlet obj = sharedEnvs;\n\t\tif (checked) {\n\t\t\tobj[event.target.id] = checked;\n\t\t\tsetSharedEnvs({...obj});\n\t\t} else {\n\t\t\tdelete obj[event.target.id];\n\t\t\tsetSharedEnvs({...obj});\n\t\t}\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet _sharedEnvs = {};\n\t\t\tlet envs = Object.keys(sharedEnvs);\n\t\t\tfor (let i = 0; i < envs.length; i++) {\n\t\t\t\tif (sharedEnvs[envs[i]]) {\n\t\t\t\t\t_sharedEnvs[envs[i]] = sharedEnvs[envs[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet data = {\n\t\t\t\t\"name\": fields.name,\n\t\t\t\t\"plugged\": fields.plugged,\n\t\t\t\t\"shared\": fields.shared,\n\t\t\t\t\"sharedEnvs\": _sharedEnvs,\n\t\t\t\t\"type\": fields.type,\n\t\t\t\t\"category\": fields.category\n\t\t\t};\n\t\t\tdata.config = _json;\n\t\t\t\n\t\t\tawait consoleService.updateResource(environment.code, fields.id, data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.updateResource\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\t_json = json;\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields(\n\t\t\t\t{\n\t\t\t\t\t\"id\": modalOpt.item._id,\n\t\t\t\t\t\"name\": modalOpt.item.name,\n\t\t\t\t\t\"plugged\": modalOpt.item.plugged,\n\t\t\t\t\t\"shared\": modalOpt.item.shared,\n\t\t\t\t\t\"type\": modalOpt.item.type,\n\t\t\t\t\t\"category\": modalOpt.item.category\n\t\t\t\t}\n\t\t\t);\n\t\t\tif (!modalOpt.item.sharedEnvs) {\n\t\t\t\tmodalOpt.item.sharedEnvs = {};\n\t\t\t}\n\t\t\tlet _sharedEns = {};\n\t\t\tfor (let i = 0; i < environments.length; i++) {\n\t\t\t\t_sharedEns[environments[i].code] = !!modalOpt.item.sharedEnvs[environments[i].code];\n\t\t\t}\n\t\t\tsetSharedEnvs({..._sharedEns});\n\t\t\t_json = modalOpt.item.config || {};\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt, environments]);\n\t\n\treturn (\n\t\tmodalOpt && modalOpt.item ? (\n\t\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>{t(\"soajs:titles.resourceRegistryUpdate\")}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Form>\n\t\t\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"value\" id=\"config\">\n\t\t\t\t\t\t\t<Tab eventKey=\"value\" title={t(\"soajs:fields.Configuration\")}>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Type\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"type\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tvalue={fields.type}\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Category\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"category\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tvalue={fields.category}\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t<Form.Group style={{\"height\": \"400px\"}}>\n\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Value\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\t\tjson={_json}\n\t\t\t\t\t\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t<Tab eventKey=\"settings\" title={t(\"soajs:fields.Settings\")}>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Label\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-left\">{t(\"soajs:fields.PlugConfiguration\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\tid=\"plugged\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\t\tchecked={fields.plugged}\n\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Label\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-left\">{t(\"soajs:fields.ShareConfiguration\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\tid=\"shared\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\t\tchecked={fields.shared}\n\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t{fields.shared &&\n\t\t\t\t\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t{environments.map((e, i) => (\n\t\t\t\t\t\t\t\t\t\t<tr key={i}>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t{(!environment || environment.code !== e.code) &&\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={e.code}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={sharedEnvs[e.code]}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleSharedEnvsChange}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t{e.code}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t{e.description}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</Form>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t) : null\n\t);\n}","import {Alert, Button} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {BiShareAlt} from \"react-icons/bi\";\nimport {useTranslation} from \"react-i18next\";\nimport {GoDiffAdded} from \"react-icons/go\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../../services\";\nimport DeleteButton from \"../../../../buttons/Delete\";\nimport AclButton from \"../../../../buttons/Acl\";\nimport {useAppContext} from \"../../../../../soajs/libs/contextLib\";\n\nimport ConfigureModal from \"./ConfigureModal\";\nimport DeleteModal from \"./DeleteModal\";\nimport AddModal from \"./AddModal\";\nimport UpdateModal from \"./UpdateModal\";\n\nconst consoleService = ConsoleService.getService();\n\nasync function onLoad(environment, setFields, isSubscribed) {\n\ttry {\n\t\tconst response = await consoleService.getResourceRegistry(environment.code);\n\t\tif (isSubscribed && response) {\n\t\t\tsetFields(response);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Resource({environment, environments, reloadClusters}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [fields, setFields] = useState([]);\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"item\": null});\n\tconst [deleteModalOpt, setDeleteModalOpt] = useState({\"show\": false, item: null});\n\tconst handleDeleteShow = (item) => setDeleteModalOpt({\"show\": true, \"item\": item});\n\tconst [addModalOpt, setAddModalOpt] = useState({\"show\": false});\n\tconst handleAddShow = () => setAddModalOpt({\"show\": true});\n\tconst [updateModalOpt, setUpdateModalOpt] = useState({\"show\": false, item: null});\n\tconst handleUpdateShow = (item) => setUpdateModalOpt({\"show\": true, \"item\": item});\n\t\n\tfunction handleModalShow(item) {\n\t\tsetModalOpt({\"show\": true, \"item\": item})\n\t}\n\t\n\tasync function reLoad() {\n\t\tawait onLoad(environment, setFields, true);\n\t\treloadClusters();\n\t}\n\t\n\tasync function plugUnplug(d, plugged) {\n\t\ttry {\n\t\t\tawait consoleService.unplugPlugResource({\"id\": d._id, \"env\": d.created, \"plugged\": plugged});\n\t\t\tif (plugged) {\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.pluggedResource\"));\n\t\t\t} else {\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.unpluggedResource\"));\n\t\t\t}\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tenvironment && onLoad(environment, setFields, isSubscribed);\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\tenvironment &&\n\t\t<>\n\t\t\t<UpdateModal\n\t\t\t\tmodalOpt={updateModalOpt}\n\t\t\t\tsetModalOpt={setUpdateModalOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t\tenvironments={environments}\n\t\t\t\tenvironment={environment}\n\t\t\t/>\n\t\t\t<AddModal\n\t\t\t\tmodalOpt={addModalOpt}\n\t\t\t\tsetModalOpt={setAddModalOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t\tenvironments={environments}\n\t\t\t\tenvironment={environment}\n\t\t\t/>\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={deleteModalOpt}\n\t\t\t\tsetModalOpt={setDeleteModalOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<ConfigureModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t\thandleAfterSubmit={reLoad}\n\t\t\t/>\n\t\t\t<div>\n\t\t\t\t<h4 className=\"float-left\">{t(\"soajs:titles.resourceRegistry\")}</h4>\n\t\t\t\t{ability.can('registry_resource', 'add') &&\n\t\t\t\t<Button variant=\"success\" className=\"float-right\" size=\"sm\"\n\t\t\t\t        onClick={() => {\n\t\t\t\t\t        handleAddShow();\n\t\t\t\t        }}\n\t\t\t\t>\n\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>}\n\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t</div>\n\t\t\t<hr/>\n\t\t\t{fields.length > 0 ?\n\t\t\t\t<>\n\t\t\t\t\t{fields.map((rec, i) => (\n\t\t\t\t\t\t<Alert key={i} variant=\"light\" className=\"mt-4 mb-4\" style={{\"borderColor\": \"#c6c8ca\"}}>\n\t\t\t\t\t<span className=\"float-left\">\n\t\t\t\t\t<BiShareAlt\n\t\t\t\t\t\tclassName={rec.shared ? \"text-success\" : \"\"}\n\t\t\t\t\t/> <span className=\" ml-2 font-weight-bold\">{rec.name}</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{environment.code.toLowerCase() !== rec.created.toLowerCase() ?\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<span className=\"float-right\"> from: {rec.created}</span>\n\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{ability.can('registry_resource', 'delete') &&\n\t\t\t\t\t\t\t\t\t<DeleteButton className=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t              onClick={() => {\n\t\t\t\t\t\t\t\t\t\t              handleDeleteShow(rec)\n\t\t\t\t\t\t\t\t\t              }}\n\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t<AclButton className=\"float-right ml-5\"\n\t\t\t\t\t\t\t\t\t           onClick={() => {\n\t\t\t\t\t\t\t\t\t\t           handleModalShow(rec)\n\t\t\t\t\t\t\t\t\t           }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Button variant=\"primary\"\n\t\t\t\t\t\t\t\t\t        className=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t        size=\"sm\"\n\t\t\t\t\t\t\t\t\t        disabled={!ability.can('registry_resource', 'edit')}\n\t\t\t\t\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t\t\t\t\t        handleUpdateShow(rec)\n\t\t\t\t\t\t\t\t\t        }}\n\t\t\t\t\t\t\t\t\t>Configure</Button>\n\t\t\t\t\t\t\t\t\t{rec.plugged &&\n\t\t\t\t\t\t\t\t\t<Button variant=\"warning\"\n\t\t\t\t\t\t\t\t\t        className=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t        size=\"sm\"\n\t\t\t\t\t\t\t\t\t        disabled={!ability.can('registry_resource', 'edit')}\n\t\t\t\t\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t\t\t\t\t        plugUnplug(rec, false);\n\t\t\t\t\t\t\t\t\t        }}\n\t\t\t\t\t\t\t\t\t>Unplug</Button>}\n\t\t\t\t\t\t\t\t\t{!rec.plugged &&\n\t\t\t\t\t\t\t\t\t<Button variant=\"success\"\n\t\t\t\t\t\t\t\t\t        className=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t        size=\"sm\"\n\t\t\t\t\t\t\t\t\t        disabled={!ability.can('registry_resource', 'edit')}\n\t\t\t\t\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t\t\t\t\t        plugUnplug(rec, true);\n\t\t\t\t\t\t\t\t\t        }}\n\t\t\t\t\t\t\t\t\t>Plug</Button>}\n\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t))}\n\t\t\t\t</>\n\t\t\t\t:\n\t\t\t\t<Alert variant=\"secondary\" className=\"mt-4 mb-4\">\n\t\t\t\t\t{t(\"soajs:messages.empty\")}\n\t\t\t\t</Alert>}\n\t\t</>\n\t)\n};","import {Button, Card, CardDeck, Form, Jumbotron} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport _ from \"lodash\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {UracService} from \"../../../../../soajs/urac/services\";\nimport {useAppContext} from \"../../../../../soajs/libs/contextLib\";\nimport {ConsoleService} from \"../../../../../services\";\n\nconst uracService = UracService.getService();\nconst consoleService = ConsoleService.getService();\n\nfunction isGroupSelected(settings, value) {\n\treturn (\n\t\tsettings &&\n\t\tsettings.acl &&\n\t\tsettings.acl.groups &&\n\t\tsettings.acl.groups.value &&\n\t\tsettings.acl.groups.value.includes(value)\n\t);\n}\n\nexport default function ConfigureModalGroups({settings, id, handleAction, handleClose}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [groups, setGroups] = useState([]);\n\tconst [fields, setFields] = useState({\n\t\t\"groups\": [],\n\t\t\"type\": \"whitelist\"\n\t});\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\t\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction whitelistBlacklist(checked, what) {\n\t\tlet obj = fields;\n\t\tobj.type = what;\n\t\tsetFields({...obj});\n\t}\n\t\n\tfunction onChangeGroup(checked, code) {\n\t\tlet obj = fields;\n\t\tif (checked) {\n\t\t\tobj.groups.push(code);\n\t\t} else {\n\t\t\t_.pullAll(obj.groups, [code]);\n\t\t}\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleDelete(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tawait consoleService.deleteCustomRegistryAcl(id);\n\t\t\tNotificationManager.success(t(\"soajs:messages.customGroupDeleteSuccess\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function handleSave(event) {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tawait consoleService.saveCustomRegistryAcl({\n\t\t\t\t\"id\": id,\n\t\t\t\t\"groups\": fields.groups,\n\t\t\t\t\"type\": fields.type\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.customGroupSaveSuccess\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (settings && settings.acl && settings.acl.groups) {\n\t\t\t\t\tsetFields({\n\t\t\t\t\t\t\"groups\": settings.acl.groups.value,\n\t\t\t\t\t\t\"type\": settings.acl.groups.type\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tconst _groups = await uracService.getGroups();\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetGroups(_groups);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, [settings]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-4 m-0 bg-light border-dark small\">\n\t\t\t\t<fieldset>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"whitelist\"\n\t\t\t\t\t\tname=\"groupsType\"\n\t\t\t\t\t\tid=\"groupsType1\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"whitelist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"whitelist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tlabel=\"blacklist\"\n\t\t\t\t\t\tname=\"groupsType\"\n\t\t\t\t\t\tid=\"groupsType2\"\n\t\t\t\t\t\tdefaultChecked={fields.type === \"blacklist\"}\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\twhitelistBlacklist(event.target.checked, \"blacklist\")\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</fieldset>\n\t\t\t</Jumbotron>\n\t\t\t<CardDeck className=\"ml-2\">\n\t\t\t\t{groups.map((oo, index) => (\n\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\"\n\t\t\t\t\t      style={{\"minWidth\": '11rem', \"maxWidth\": '11rem'}}>\n\t\t\t\t\t\t<Card.Body className=\"p-2\">\n\t\t\t\t\t\t\t<Form.Check className=\"small\" key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t            defaultChecked={isGroupSelected(settings, oo.code)}\n\t\t\t\t\t\t\t            label={oo.code}\n\t\t\t\t\t\t\t            onChange={(event) => {\n\t\t\t\t\t\t\t\t            onChangeGroup(event.target.checked, oo.code)\n\t\t\t\t\t\t\t            }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t</CardDeck>\n\t\t\t<hr/>\n\t\t\t<div>\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t\t\n\t\t\t\t{ability.can('registry_custom', 'update_acl') &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"success\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleSave}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Save\")}\n\t\t\t\t</Button>}\n\t\t\t\t\n\t\t\t\t{ability.can('registry_custom', 'delete_acl') &&\n\t\t\t\t<Button className=\"ml-1 float-right\" variant=\"danger\"\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t        onClick={handleDelete}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>}\n\t\t\t</div>\n\t\t</>\n\t);\n}","import {useTranslation} from \"react-i18next\";\nimport React from \"react\";\nimport {\n\tForm,\n\tJumbotron, Modal,\n\tTab, Tabs\n} from \"react-bootstrap\";\n\nimport ConfigureModalGroups from \"./ConfigureModalGroups\";\n\nexport default function ConfigureModal({modalOpt, setModalOpt, handleAfterSubmit}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, \"item\": null});\n\t\n\treturn (\n\t\t<>\n\t\t\t{modalOpt.item &&\n\t\t\t<Modal size=\"lg\" show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>{t(\"soajs:titles.CustomRegistry\")}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t\n\t\t\t\t\t<Jumbotron className=\"p-4\">\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{modalOpt.item.name}</span>\n\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t<Form onSubmit={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"acl\" id=\"config\">\n\t\t\t\t\t\t\t<Tab eventKey=\"acl\" title={t(\"soajs:fields.Groups\")}>\n\t\t\t\t\t\t\t\t<ConfigureModalGroups\n\t\t\t\t\t\t\t\t\tsettings={modalOpt.item.settings}\n\t\t\t\t\t\t\t\t\thandleAction={() => {\n\t\t\t\t\t\t\t\t\t\thandleAfterSubmit();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\thandleClose={handleClose}\n\t\t\t\t\t\t\t\t\tid={modalOpt.item._id}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</Form>\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../../services\";\n\nconst consoleService = ConsoleService.getService();\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait consoleService.deleteCustomRegistry(modalOpt.item._id, modalOpt.item.created);\n\t\t\tNotificationManager.success(t(\"soajs:messages.deleteCustom\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>{t(\"soajs:messages.deleteQuestion\")}</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form, Tabs, Tab, Table} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../../services\";\n\nconst consoleService = ConsoleService.getService();\n\nlet _json = {};\n\nexport default function AddModal({modalOpt, setModalOpt, handleAction, environments, environment}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\tconst [fields, setFields] = useState({\n\t\t\"name\": \"\",\n\t\t\"valueText\": \"\",\n\t\t\"text\": true,\n\t\t\"plugged\": false,\n\t\t\"shared\": false\n\t});\n\tconst [sharedEnvs, setSharedEnvs] = useState({});\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\tvalid = (valid && fields.name.length > 0);\n\t\tif (fields.text) {\n\t\t\tvalid = (valid && fields.valueText.length > 0);\n\t\t}\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction handleSharedEnvsChange(event) {\n\t\tlet checked = false;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tchecked = event.target.checked;\n\t\t}\n\t\tlet obj = sharedEnvs;\n\t\tif (checked) {\n\t\t\tobj[event.target.id] = checked;\n\t\t\tsetSharedEnvs({...obj});\n\t\t} else {\n\t\t\tdelete obj[event.target.id];\n\t\t\tsetSharedEnvs({...obj});\n\t\t}\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet _sharedEnvs = {};\n\t\t\tlet envs = Object.keys(sharedEnvs);\n\t\t\tfor (let i = 0; i < envs.length; i++) {\n\t\t\t\tif (sharedEnvs[envs[i]]) {\n\t\t\t\t\t_sharedEnvs[envs[i]] = sharedEnvs[envs[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet data = {\n\t\t\t\t\"name\": fields.name,\n\t\t\t\t\"plugged\": fields.plugged,\n\t\t\t\t\"shared\": fields.shared,\n\t\t\t\t\"sharedEnvs\": _sharedEnvs\n\t\t\t};\n\t\t\tif (fields.text) {\n\t\t\t\tdata.value = fields.valueText;\n\t\t\t} else {\n\t\t\t\tdata.value = _json;\n\t\t\t}\n\t\t\tawait consoleService.addCustom(environment.code, data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.addCustom\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\t_json = json;\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt) {\n\t\t\tsetFields({\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"valueText\": \"\",\n\t\t\t\t\"text\": true,\n\t\t\t\t\"plugged\": false,\n\t\t\t\t\"shared\": false\n\t\t\t});\n\t\t\t\n\t\t\tlet _sharedEns = {};\n\t\t\tfor (let i = 0; i < environments.length; i++) {\n\t\t\t\t_sharedEns[environments[i].code] = false;\n\t\t\t}\n\t\t\tsetSharedEnvs({..._sharedEns});\n\t\t\t_json = {};\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt, environments]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.customRegistryAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"value\" id=\"config\">\n\t\t\t\t\t\t<Tab eventKey=\"value\" title={t(\"soajs:fields.Configuration\")}>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group style={{\"height\": \"400px\"}}>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Form.Label className=\"float-left\">{t(\"soajs:fields.Value\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\tid=\"text\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Only text\"\n\t\t\t\t\t\t\t\t\t\tchecked={fields.text}\n\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{!fields.text &&\n\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\tjson={_json}\n\t\t\t\t\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t{fields.text &&\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"valueText\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\trows={15}\n\t\t\t\t\t\t\t\t\tvalue={fields.valueText}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t<Tab eventKey=\"settings\" title={t(\"soajs:fields.Settings\")}>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label className=\"float-left\">{t(\"soajs:fields.PlugConfiguration\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\tid=\"plugged\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\tchecked={fields.plugged}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label className=\"float-left\">{t(\"soajs:fields.ShareConfiguration\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\tid=\"shared\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\tchecked={fields.shared}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t{fields.shared &&\n\t\t\t\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{environments.map((e, i) => (\n\t\t\t\t\t\t\t\t\t<tr key={i}>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{(!environment || environment.code !== e.code) &&\n\t\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\t\tid={e.code}\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={sharedEnvs[e.code]}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleSharedEnvsChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{e.code}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{e.description}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t</Tabs>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form, Tabs, Tab, Table} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../../services\";\n\nconst consoleService = ConsoleService.getService();\n\nlet _json = {};\n\nexport default function UpdateModal({modalOpt, setModalOpt, handleAction, environments, environment}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => {\n\t\tsetModalOpt({\"show\": false, item: null})\n\t};\n\tconst [fields, setFields] = useState({\n\t\t\"id\": \"\",\n\t\t\"name\": \"\",\n\t\t\"valueText\": \"\",\n\t\t\"text\": true,\n\t\t\"plugged\": false,\n\t\t\"shared\": false\n\t});\n\tconst [sharedEnvs, setSharedEnvs] = useState({});\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\tvalid = (valid && fields.name.length > 0);\n\t\tif (fields.text) {\n\t\t\tvalid = (valid && fields.valueText.length > 0);\n\t\t}\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction handleSharedEnvsChange(event) {\n\t\tlet checked = false;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tchecked = event.target.checked;\n\t\t}\n\t\tlet obj = sharedEnvs;\n\t\tif (checked) {\n\t\t\tobj[event.target.id] = checked;\n\t\t\tsetSharedEnvs({...obj});\n\t\t} else {\n\t\t\tdelete obj[event.target.id];\n\t\t\tsetSharedEnvs({...obj});\n\t\t}\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet _sharedEnvs = {};\n\t\t\tlet envs = Object.keys(sharedEnvs);\n\t\t\tfor (let i = 0; i < envs.length; i++) {\n\t\t\t\tif (sharedEnvs[envs[i]]) {\n\t\t\t\t\t_sharedEnvs[envs[i]] = sharedEnvs[envs[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet data = {\n\t\t\t\t\"name\": fields.name,\n\t\t\t\t\"plugged\": fields.plugged,\n\t\t\t\t\"shared\": fields.shared,\n\t\t\t\t\"sharedEnvs\": _sharedEnvs\n\t\t\t};\n\t\t\tif (fields.text) {\n\t\t\t\tdata.value = fields.valueText;\n\t\t\t} else {\n\t\t\t\tdata.value = _json;\n\t\t\t}\n\t\t\tawait consoleService.updateCustom(environment.code, fields.id, data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.updateCustom\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\t_json = json;\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields(\n\t\t\t\t{\n\t\t\t\t\t\"id\": modalOpt.item._id,\n\t\t\t\t\t\"name\": modalOpt.item.name,\n\t\t\t\t\t\"plugged\": modalOpt.item.plugged,\n\t\t\t\t\t\"shared\": modalOpt.item.shared,\n\t\t\t\t\t\"valueText\": modalOpt.item.value,\n\t\t\t\t\t\"text\": (typeof modalOpt.item.value !== \"object\")\n\t\t\t\t}\n\t\t\t);\n\t\t\tif (!modalOpt.item.sharedEnvs) {\n\t\t\t\tmodalOpt.item.sharedEnvs = {};\n\t\t\t}\n\t\t\tlet _sharedEns = {};\n\t\t\tfor (let i = 0; i < environments.length; i++) {\n\t\t\t\t_sharedEns[environments[i].code] = !!modalOpt.item.sharedEnvs[environments[i].code];\n\t\t\t}\n\t\t\tsetSharedEnvs({..._sharedEns});\n\t\t\tif (typeof modalOpt.item.value === \"object\") {\n\t\t\t\t_json = modalOpt.item.value;\n\t\t\t} else {\n\t\t\t\t_json = {};\n\t\t\t}\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt, environments]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.customRegistryUpdate\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"value\" id=\"config\">\n\t\t\t\t\t\t<Tab eventKey=\"value\" title={t(\"soajs:fields.Configuration\")}>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group style={{\"height\": \"400px\"}}>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Form.Label className=\"float-left\">{t(\"soajs:fields.Value\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\tid=\"text\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Only text\"\n\t\t\t\t\t\t\t\t\t\tchecked={fields.text}\n\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{!fields.text &&\n\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\tjson={_json}\n\t\t\t\t\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t{fields.text &&\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"valueText\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\trows={15}\n\t\t\t\t\t\t\t\t\tvalue={fields.valueText}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t<Tab eventKey=\"settings\" title={t(\"soajs:fields.Settings\")}>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label className=\"float-left\">{t(\"soajs:fields.PlugConfiguration\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\tid=\"plugged\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\tchecked={fields.plugged}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label className=\"float-left\">{t(\"soajs:fields.ShareConfiguration\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\tid=\"shared\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\tchecked={fields.shared}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t{fields.shared &&\n\t\t\t\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{environments.map((e, i) => (\n\t\t\t\t\t\t\t\t\t<tr key={i}>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{(!environment || environment.code !== e.code) &&\n\t\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\t\tid={e.code}\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={!!sharedEnvs[e.code]}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleSharedEnvsChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{e.code}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{e.description}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t</Tabs>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Alert, Button} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {BiShareAlt} from \"react-icons/bi\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../../services\";\nimport DeleteButton from \"../../../../buttons/Delete\";\nimport AclButton from \"../../../../buttons/Acl\";\nimport {useAppContext} from \"../../../../../soajs/libs/contextLib\";\nimport {GoDiffAdded} from \"react-icons/go\";\n\n\nimport ConfigureModal from \"./ConfigureModal\";\nimport DeleteModal from \"./DeleteModal\";\nimport AddModal from \"./AddModal\";\nimport UpdateModal from \"./UpdateModal\";\n\nconst consoleService = ConsoleService.getService();\n\nasync function onLoad(environment, setFields, isSubscribed) {\n\ttry {\n\t\tconst response = await consoleService.getCustomRegistry(environment.code);\n\t\tif (isSubscribed && response) {\n\t\t\tsetFields(response);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Custom({environment, environments}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [fields, setFields] = useState([]);\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"item\": null});\n\tconst [deleteModalOpt, setDeleteModalOpt] = useState({\"show\": false, item: null});\n\tconst handleDeleteShow = (item) => setDeleteModalOpt({\"show\": true, \"item\": item});\n\tconst [addModalOpt, setAddModalOpt] = useState({\"show\": false});\n\tconst handleAddShow = () => setAddModalOpt({\"show\": true});\n\tconst [updateModalOpt, setUpdateModalOpt] = useState({\"show\": false, item: null});\n\tconst handleUpdateShow = (item) => setUpdateModalOpt({\"show\": true, \"item\": item});\n\t\n\tfunction handleModalShow(item) {\n\t\tsetModalOpt({\"show\": true, \"item\": item})\n\t}\n\t\n\tasync function reLoad() {\n\t\tawait onLoad(environment, setFields, true);\n\t}\n\t\n\tasync function plugUnplug(d, plugged) {\n\t\ttry {\n\t\t\tawait consoleService.unplugPlugCustom({\"id\": d._id, \"env\": d.created, \"plugged\": plugged});\n\t\t\tif (plugged) {\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.pluggedCustom\"));\n\t\t\t} else {\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.unpluggedCustom\"));\n\t\t\t}\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tenvironment && onLoad(environment, setFields, isSubscribed);\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\tenvironment &&\n\t\t<>\n\t\t\t<UpdateModal\n\t\t\t\tmodalOpt={updateModalOpt}\n\t\t\t\tsetModalOpt={setUpdateModalOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t\tenvironments={environments}\n\t\t\t\tenvironment={environment}\n\t\t\t/>\n\t\t\t<AddModal\n\t\t\t\tmodalOpt={addModalOpt}\n\t\t\t\tsetModalOpt={setAddModalOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t\tenvironments={environments}\n\t\t\t\tenvironment={environment}\n\t\t\t/>\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={deleteModalOpt}\n\t\t\t\tsetModalOpt={setDeleteModalOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<ConfigureModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t\thandleAfterSubmit={reLoad}\n\t\t\t/>\n\t\t\t<div>\n\t\t\t\t<h4 className=\"float-left\">{t(\"soajs:titles.customRegistry\")}</h4>\n\t\t\t\t{ability.can('registry_custom', 'add') &&\n\t\t\t\t<Button variant=\"success\" className=\"float-right\" size=\"sm\"\n\t\t\t\t        onClick={() => {\n\t\t\t\t\t        handleAddShow();\n\t\t\t\t        }}\n\t\t\t\t>\n\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>}\n\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t</div>\n\t\t\t<hr/>\n\t\t\t{fields.length > 0 ?\n\t\t\t\t<>\n\t\t\t\t\t{fields.map((rec, i) => (\n\t\t\t\t\t\t<Alert key={i} variant=\"light\" className=\"mt-4 mb-4\" style={{\"borderColor\": \"#c6c8ca\"}}>\n\t\t\t\t\t<span className=\"float-left\">\n\t\t\t\t\t<BiShareAlt\n\t\t\t\t\t\tclassName={rec.shared ? \"text-success\" : \"\"}\n\t\t\t\t\t/> <span className=\" ml-2 font-weight-bold\">{rec.name}</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{environment.code.toLowerCase() !== rec.created.toLowerCase() ?\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<span className=\"float-right\"> from: {rec.created}</span>\n\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{ability.can('registry_custom', 'delete') &&\n\t\t\t\t\t\t\t\t\t<DeleteButton className=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t              onClick={() => {\n\t\t\t\t\t\t\t\t\t\t              handleDeleteShow(rec)\n\t\t\t\t\t\t\t\t\t              }}\n\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t<AclButton className=\"float-right ml-5\"\n\t\t\t\t\t\t\t\t\t           onClick={() => {\n\t\t\t\t\t\t\t\t\t\t           handleModalShow(rec)\n\t\t\t\t\t\t\t\t\t           }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<Button variant=\"primary\"\n\t\t\t\t\t\t\t\t\t        className=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t        size=\"sm\"\n\t\t\t\t\t\t\t\t\t        disabled={!ability.can('registry_custom', 'edit')}\n\t\t\t\t\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t\t\t\t\t        handleUpdateShow(rec)\n\t\t\t\t\t\t\t\t\t        }}\n\t\t\t\t\t\t\t\t\t>Configure</Button>\n\t\t\t\t\t\t\t\t\t{rec.plugged &&\n\t\t\t\t\t\t\t\t\t<Button variant=\"warning\"\n\t\t\t\t\t\t\t\t\t        className=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t        size=\"sm\"\n\t\t\t\t\t\t\t\t\t        disabled={!ability.can('registry_custom', 'edit')}\n\t\t\t\t\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t\t\t\t\t        plugUnplug(rec, false);\n\t\t\t\t\t\t\t\t\t        }}\n\t\t\t\t\t\t\t\t\t>Unplug</Button>}\n\t\t\t\t\t\t\t\t\t{!rec.plugged &&\n\t\t\t\t\t\t\t\t\t<Button variant=\"success\"\n\t\t\t\t\t\t\t\t\t        className=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t        size=\"sm\"\n\t\t\t\t\t\t\t\t\t        disabled={!ability.can('registry_custom', 'edit')}\n\t\t\t\t\t\t\t\t\t        onClick={() => {\n\t\t\t\t\t\t\t\t\t\t        plugUnplug(rec, true);\n\t\t\t\t\t\t\t\t\t        }}\n\t\t\t\t\t\t\t\t\t>Plug</Button>}\n\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t))}\n\t\t\t\t</>\n\t\t\t\t:\n\t\t\t\t<Alert variant=\"secondary\" className=\"mt-4 mb-4\">\n\t\t\t\t\t{t(\"soajs:messages.empty\")}\n\t\t\t\t</Alert>}\n\t\t</>\n\t)\n};","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../services\";\n\nconst consoleService = ConsoleService.getService();\n\nexport default function DatabasesDeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait consoleService.deleteDB({\"env\": modalOpt.item.env, \"name\": modalOpt.item.name});\n\t\t\tNotificationManager.success(t(\"soajs:messages.deleteDB\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>{t(\"soajs:messages.deleteQuestion\")}</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Modal, Form} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../services\";\n\nconst consoleService = ConsoleService.getService();\n\nexport default function DatabasesAddModal({modalOpt, setModalOpt, handleAction, environment, clusters}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\tconst [fields, setFields] = useState({\n\t\t\"name\": \"\",\n\t\t\"cluster\": \"\",\n\t\t\"prefix\": \"\",\n\t\t\"tenantSpecific\": \"false\"\n\t});\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.cluster.length > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet data = {\n\t\t\t\t\"env\": environment.code,\n\t\t\t\t\"name\": fields.name,\n\t\t\t\t\"cluster\": fields.cluster,\n\t\t\t\t\"prefix\": fields.prefix,\n\t\t\t\t\"tenantSpecific\": fields.tenantSpecific === \"true\"\n\t\t\t};\n\t\t\tawait consoleService.addDB(data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.addDB\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.addDB\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Prefix\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"prefix\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.prefix}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Multitenant\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"tenantSpecific\"\n\t\t\t\t\t\t\tvalue={fields.tenantSpecific}\n\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\thandleFieldChange(event);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"false\">False</option>\n\t\t\t\t\t\t\t<option value=\"true\">True</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Cluster\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"cluster\"\n\t\t\t\t\t\t\tvalue={fields.cluster}\n\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\thandleFieldChange(event);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">---</option>\n\t\t\t\t\t\t\t{clusters.map((cluster, index) => (\n\t\t\t\t\t\t\t\t<option key={index} value={cluster.name}>{cluster.name}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Card, Col, Form, Row, Table} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport deepSet from \"../../../../soajs/libs/deepSetLib\";\nimport AddButton from \"../../../buttons/Add\";\nimport DeleteButton from \"../../../buttons/Delete\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nimport DatabasesDeleteModal from \"./DatabasesDeleteModal\";\nimport DatabasesAddModal from \"./DatabasesAddModal\";\nimport {ConsoleService} from \"../../../../services\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\n\nconst prefixFieldInit = {\n\t\"prefix\": \"\"\n}\n\nconst consoleService = ConsoleService.getService();\n\nexport default function Databases({registry, environment, clusters, reload}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [prefixField, setPrefixField] = useState(prefixFieldInit);\n\t\n\tconst [deleteModalOpt, setDeleteModalOpt] = useState({\"show\": false, item: null});\n\tconst handleDeleteShow = (item) => setDeleteModalOpt({\"show\": true, \"item\": item});\n\tconst [addModalOpt, setAddModalOpt] = useState({\"show\": false, item: null});\n\tconst handleAddShow = (item) => setAddModalOpt({\"show\": true, \"item\": item});\n\t\n\tfunction handlePrefixFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = prefixField;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetPrefixField({...obj});\n\t}\n\t\n\tasync function handlePrefixSubmit() {\n\t\ttry {\n\t\t\tlet data = {\n\t\t\t\t\"env\": registry.code,\n\t\t\t\t\"prefix\": prefixField.prefix\n\t\t\t};\n\t\t\tawait consoleService.updateDBPrefix(data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.updatePrefix\"));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction validatePrefixForm() {\n\t\treturn (\n\t\t\tprefixField.prefix.length >= 0\n\t\t);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && registry) {\n\t\t\tsetPrefixField(Object.assign({}, prefixFieldInit, {\"prefix\": registry.dbs.config.prefix || \"\"}));\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [registry]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<DatabasesDeleteModal\n\t\t\t\tmodalOpt={deleteModalOpt}\n\t\t\t\tsetModalOpt={setDeleteModalOpt}\n\t\t\t\thandleAction={reload}\n\t\t\t/>\n\t\t\t<DatabasesAddModal\n\t\t\t\tmodalOpt={addModalOpt}\n\t\t\t\tsetModalOpt={setAddModalOpt}\n\t\t\t\thandleAction={reload}\n\t\t\t\tclusters={clusters}\n\t\t\t\tenvironment={environment}\n\t\t\t/>\n\t\t\t<Card className=\"mb-3\">\n\t\t\t\t<Card.Header>\n\t\t\t\t\t{t(\"soajs:titles.GlobalPrefix\")}:\n\t\t\t\t</Card.Header>\n\t\t\t\t<Card.Body className=\"mt-3 mb-3\">\n\t\t\t\t\t<Form>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col xs={9} md={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tclassName=\"float-left\"\n\t\t\t\t\t\t\t\t\tid=\"prefix\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={prefixField.prefix}\n\t\t\t\t\t\t\t\t\tonChange={handlePrefixFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col xs={3} md={2}>\n\t\t\t\t\t\t\t\t{ability.can('registry_db', 'prefix') &&\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\tonClick={handlePrefixSubmit}\n\t\t\t\t\t\t\t\t\tdisabled={!validatePrefixForm()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Card.Body>\n\t\t\t\t<Card.Footer>\n\t\t\t\t\t<small className=\"text-muted\">\n\t\t\t\t\t\t{t(\"soajs:messages.GlobalPrefix\")}\n\t\t\t\t\t</small>\n\t\t\t\t</Card.Footer>\n\t\t\t</Card>\n\t\t\t\n\t\t\t<Card>\n\t\t\t\t<Card.Header>\n\t\t\t\t\t{t(\"soajs:titles.Databases\")}\n\t\t\t\t\t\n\t\t\t\t\t{ability.can('registry_db', 'add') &&\n\t\t\t\t\t<AddButton\n\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\thandleAddShow({\"env\": registry.code});\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>}\n\t\t\t\t</Card.Header>\n\t\t\t\t<Card.Body className=\"mt-3 mb-3\">\n\t\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{t(\"soajs:buttons.Actions\")}</th>\n\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Name\")}</th>\n\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Cluster\")}</th>\n\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Multitenant\")}</th>\n\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Prefix\")}</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{registry && registry.dbs && registry.dbs.databases &&\n\t\t\t\t\t\tObject.keys(registry.dbs.databases).map((db, index) => (\n\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t{ability.can('registry_db', 'delete') &&\n\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-left mr-1\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\thandleDeleteShow({\"env\": registry.code, \"name\": db})\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>{db}</td>\n\t\t\t\t\t\t\t\t<td>{registry.dbs.databases[db].cluster}</td>\n\t\t\t\t\t\t\t\t<td>{\"\" + registry.dbs.databases[db].tenantSpecific}</td>\n\t\t\t\t\t\t\t\t<td>{registry.dbs.databases[db].prefix}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</Table>\n\t\t\t\t</Card.Body>\n\t\t\t</Card>\n\t\t</>\n\t)\n};","import {Button, Modal, Form} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function ThrottlingAddModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\tconst [fields, setFields] = useState({\n\t\t\"name\": \"\",\n\t\t\"type\": 0,\n\t\t\"window\": 0,\n\t\t\"limit\": 0,\n\t\t\"retries\": 0,\n\t\t\"delay\": 0\n\t});\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.name.length > 0 &&\n\t\t\t(fields.type === 0 || fields.type === 1) &&\n\t\t\tfields.window > 0 &&\n\t\t\tfields.limit > 0 &&\n\t\t\tfields.retries > 0 &&\n\t\t\tfields.delay > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tif (event.target.type === 'number' || event.target.id === \"type\") {\n\t\t\tvalue = parseInt(value);\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tfunction handleSubmit() {\n\t\thandleAction(fields);\n\t\thandleClose();\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.addThrottling\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Type\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"type\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tvalue={fields.type}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"0\">Per Tenant</option>\n\t\t\t\t\t\t\t<option value=\"1\">Per Tenant & Per IP Address</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Window\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"window\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\tvalue={fields.window}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Limit\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"limit\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\tvalue={fields.limit}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Retries\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"retries\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\tvalue={fields.retries}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Delay\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"delay\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\tvalue={fields.delay}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t        disabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Alert, Table, Card, CardDeck, Form, Button} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../services\";\nimport DeleteButton from \"../../../buttons/Delete\";\nimport AddButton from \"../../../buttons/Add\";\n\nimport ThrottlingAddModal from \"./ThrottlingAddModal\"\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nconst consoleService = ConsoleService.getService();\n\nexport default function Throttling({environment}) {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState({});\n\t\n\tconst [addModalOpt, setAddModalOpt] = useState({\"show\": false, item: null});\n\tconst handleAddShow = (item) => setAddModalOpt({\"show\": true, \"item\": item});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait consoleService.updateThrottling(environment.code, fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.updateThrottling\"));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function addThrottling(record) {\n\t\tfields[record.name] = {\n\t\t\t\"type\": record.type,\n\t\t\t\"window\": record.window,\n\t\t\t\"limit\": record.limit,\n\t\t\t\"retries\": record.retries,\n\t\t\t\"delay\": record.delay\n\t\t};\n\t\tsetFields({...fields});\n\t\ttry {\n\t\t\tawait consoleService.updateThrottling(environment.code, fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.addThrottling\"));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function deleteThrottling(name) {\n\t\tdelete fields[name];\n\t\tif (fields.publicAPIStrategy === name) {\n\t\t\tfields.publicAPIStrategy = \"\";\n\t\t}\n\t\tif (fields.privateAPIStrategy === name) {\n\t\t\tfields.privateAPIStrategy = \"\";\n\t\t}\n\t\tsetFields({...fields});\n\t\ttry {\n\t\t\tawait consoleService.updateThrottling(environment.code, fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.deleteThrottling\"));\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tconst response = await consoleService.getThrottlingRegistry(environment.code);\n\t\t\t\tif (isSubscribed && response) {\n\t\t\t\t\tsetFields(response);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tenvironment && onLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<ThrottlingAddModal\n\t\t\t\tmodalOpt={addModalOpt}\n\t\t\t\tsetModalOpt={setAddModalOpt}\n\t\t\t\thandleAction={addThrottling}\n\t\t\t/>\n\t\t\t<CardDeck>\n\t\t\t\t<Card className=\"small\">\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:titles.ThrottlingPublic\")}</Card.Title>\n\t\t\t\t\t\t<Card.Text className=\"mt-4\">\n\t\t\t\t\t\t\t{t(\"soajs:titles.throttlingStrategy\")}:\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tclassName=\"mt-2\"\n\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\tid=\"publicAPIStrategy\"\n\t\t\t\t\t\t\t\tvalue={fields.publicAPIStrategy}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"\">---</option>\n\t\t\t\t\t\t\t\t{Object.keys(fields).map((rec, index) => (\n\t\t\t\t\t\t\t\t\trec !== \"publicAPIStrategy\" && rec !== \"privateAPIStrategy\" &&\n\t\t\t\t\t\t\t\t\t<option key={index} value={rec}>{rec}</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('registry', 'throttling') &&\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\tclassName=\"float-right mt-3\"\n\t\t\t\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t</Card.Text>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t\t<Card.Footer className=\"small text-muted\">\n\t\t\t\t\t\tSelect the default throttling strategy you would like to apply to all APIs deployed in this\n\t\t\t\t\t\tenvironment that are not protected by oAuth <a\n\t\t\t\t\t\thref=\"https://soajsorg.atlassian.net/wiki/spaces/SOAJ/pages/679641089/API+Traffic+Throttling\">Learn\n\t\t\t\t\t\tMore</a>\n\t\t\t\t\t</Card.Footer>\n\t\t\t\t</Card>\n\t\t\t\t<Card className=\"small\">\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<Card.Title>{t(\"soajs:titles.ThrottlingPrivate\")}</Card.Title>\n\t\t\t\t\t\t<Card.Text className=\"mt-4\">\n\t\t\t\t\t\t\t{t(\"soajs:titles.throttlingStrategy\")}:\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tclassName=\"mt-2\"\n\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\tid=\"privateAPIStrategy\"\n\t\t\t\t\t\t\t\tvalue={fields.privateAPIStrategy}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"\">---</option>\n\t\t\t\t\t\t\t\t{Object.keys(fields).map((rec, index) => (\n\t\t\t\t\t\t\t\t\trec !== \"publicAPIStrategy\" && rec !== \"privateAPIStrategy\" &&\n\t\t\t\t\t\t\t\t\t<option key={index} value={rec}>{rec}</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('registry', 'throttling') &&\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\tclassName=\"float-right mt-3\"\n\t\t\t\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t</Card.Text>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t\t<Card.Footer className=\"small text-muted\">\n\t\t\t\t\t\tSelect the default throttling strategy you would like to apply to all APIs deployed in this\n\t\t\t\t\t\tenvironment that are protected by oAuth and require the access token of a logged in user. <a\n\t\t\t\t\t\thref=\"https://soajsorg.atlassian.net/wiki/spaces/SOAJ/pages/679641089/API+Traffic+Throttling\">Learn\n\t\t\t\t\t\tMore</a>\n\t\t\t\t\t</Card.Footer>\n\t\t\t\t</Card>\n\t\t\t</CardDeck>\n\t\t\t\n\t\t\t<hr className=\"mb-4 mt-4\"/>\n\t\t\t<Alert variant=\"info\" className=\"text-muted small mt-3\">\n\t\t\t\tIf you are not familiar with how API Traffic Throttling works, <a\n\t\t\t\thref=\"https://soajsorg.atlassian.net/wiki/spaces/SOAJ/pages/679641089/API+Traffic+Throttling\">Click\n\t\t\t\tHere</a>\n\t\t\t</Alert>\n\t\t\t<hr className=\"mb-4 mt-4\"/>\n\t\t\t\n\t\t\t<h5 className=\"float-left\">{t(\"soajs:titles.ManageThrottling\")}</h5>\n\t\t\t\n\t\t\t{ability.can('registry', 'throttling') &&\n\t\t\t<AddButton\n\t\t\t\tclassName=\"float-right mr-1\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\thandleAddShow({});\n\t\t\t\t}}\n\t\t\t/>}\n\t\t\t<Table responsive striped hover size=\"sm\" className=\"mt-3\">\n\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t<tr>\n\t\t\t\t\t<th>{t(\"soajs:buttons.Actions\")}</th>\n\t\t\t\t\t<th>{t(\"soajs:fields.Name\")}</th>\n\t\t\t\t\t<th>{t(\"soajs:fields.Type\")}</th>\n\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Window\")} [ms]</th>\n\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Limit\")}</th>\n\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Retries\")}</th>\n\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Delay\")} [ms]</th>\n\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t{Object.keys(fields).map((t, index) => (\n\t\t\t\t\tt !== \"publicAPIStrategy\" && t !== \"privateAPIStrategy\" &&\n\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('registry', 'throttling') &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-left mr-1\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tdeleteThrottling(t).catch();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>{t}</td>\n\t\t\t\t\t\t<td>{fields[t].type === 0 ? \"Per Tenant\" : \"Per Tenant & Per IP Address\"}</td>\n\t\t\t\t\t\t<td className=\"text-center\">{fields[t].window}</td>\n\t\t\t\t\t\t<td className=\"text-center\">{fields[t].limit}</td>\n\t\t\t\t\t\t<td className=\"text-center\">{fields[t].retries}</td>\n\t\t\t\t\t\t<td className=\"text-center\">{fields[t].delay}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t))}\n\t\t\t\t</tbody>\n\t\t\t</Table>\n\t\t</>\n\t)\n};","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport {AiFillCloseSquare} from \"react-icons/ai\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function Close({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button variant=\"danger\" size=\"sm\" {...props}>\n\t\t\t\t<AiFillCloseSquare/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import {Alert, Col, Row, Tab, Tabs, Button} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../services\";\n\nimport DefaultView from \"./DefaultView\"\nimport DefaultEdit from \"./DefaultEdit\"\nimport Awareness from \"./Awareness\"\nimport Resource from \"./Resource/Resource\"\nimport Custom from \"./Custom/Custom\"\nimport Databases from \"./Databases\"\nimport Throttling from \"./Throttling\"\nimport EditButton from \"../../../buttons/Edit\";\nimport CloseButton from \"../../../buttons/Close\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nconst consoleService = ConsoleService.getService();\n\nasync function onLoad(environment, setRegistry, isSubscribed) {\n\ttry {\n\t\tif (environment) {\n\t\t\tconst response = await consoleService.getRegistry(environment.code);\n\t\t\tif (response && isSubscribed) {\n\t\t\t\tsetRegistry(response);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Registry({environment, environments, clusters, reloadClusters}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [registry, setRegistry] = useState(null);\n\tconst [registryDefaultEdit, setRegistryDefaultEdit] = useState(false);\n\tconst [fields, setFields] = useState({\n\t\t\"env\": \"\",\n\t\t\"domain\": \"\",\n\t\t\"sitePrefix\": \"\",\n\t\t\"apiPrefix\": \"\",\n\t\t\"port\": 0,\n\t\t\"protocol\": \"https\",\n\t\t\"description\": \"\",\n\t\t\"services\": {\n\t\t\t\"controller\": {\n\t\t\t\t\"authorization\": false,\n\t\t\t\t\"requestTimeout\": 60,\n\t\t\t\t\"requestTimeoutRenewal\": 5\n\t\t\t},\n\t\t\t\"config\": {\n\t\t\t\t\"awareness\": {\n\t\t\t\t\t\"cacheTTL\": 3600000,\n\t\t\t\t\t\"healthCheckInterval\": 5000,\n\t\t\t\t\t\"autoRelaodRegistry\": 86400000,\n\t\t\t\t\t\"maxLogCount\": 5,\n\t\t\t\t\t\"autoRegisterService\": true\n\t\t\t\t},\n\t\t\t\t\"logger\": {},\n\t\t\t\t\"ports\": {\n\t\t\t\t\t\"controller\": 4000,\n\t\t\t\t\t\"maintenanceInc\": 1000,\n\t\t\t\t\t\"randomInc\": 100\n\t\t\t\t},\n\t\t\t\t\"oauth\": {\n\t\t\t\t\t\"debug\": false,\n\t\t\t\t\t\"getUserFromToken\": false,\n\t\t\t\t\t\"accessTokenLifetime\": 7200,\n\t\t\t\t\t\"refreshTokenLifetime\": 1209600\n\t\t\t\t},\n\t\t\t\t\"cors\": {\n\t\t\t\t\t\"credentials\": true,\n\t\t\t\t\t\"enabled\": true,\n\t\t\t\t\t\"headers\": \"key,soajsauth,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,__env,access_token\",\n\t\t\t\t\t\"maxage\": 1728000,\n\t\t\t\t\t\"methods\": \"GET,HEAD,PUT,PATCH,POST,DELETE\",\n\t\t\t\t\t\"origin\": \"*\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\t\n\tfunction handleEditRegistry() {\n\t\tlet obj = {\n\t\t\t\"env\": registry.code,\n\t\t\t\"domain\": registry.domain || fields.domain,\n\t\t\t\"sitePrefix\": registry.sitePrefix || fields.sitePrefix,\n\t\t\t\"apiPrefix\": registry.apiPrefix || fields.apiPrefix,\n\t\t\t\"port\": registry.port || fields.port,\n\t\t\t\"protocol\": registry.protocol || fields.protocol,\n\t\t\t\"description\": registry.description || fields.description,\n\t\t\t\"services\": {\n\t\t\t\t\"controller\": {\n\t\t\t\t\t\"authorization\": registry.services.controller.authorization || fields.services.controller.authorization,\n\t\t\t\t\t\"requestTimeout\": registry.services.controller.requestTimeout || fields.services.controller.requestTimeout,\n\t\t\t\t\t\"requestTimeoutRenewal\": registry.services.controller.requestTimeoutRenewal || fields.services.controller.requestTimeoutRenewal\n\t\t\t\t},\n\t\t\t\t\"config\": {\n\t\t\t\t\t\"awareness\": {\n\t\t\t\t\t\t\"cacheTTL\": registry.services.config.awareness.cacheTTL || fields.services.config.awareness.cacheTTL,\n\t\t\t\t\t\t\"healthCheckInterval\": registry.services.config.awareness.healthCheckInterval || fields.services.config.awareness.healthCheckInterval,\n\t\t\t\t\t\t\"autoRelaodRegistry\": registry.services.config.awareness.autoRelaodRegistry || fields.services.config.awareness.autoRelaodRegistry,\n\t\t\t\t\t\t\"maxLogCount\": registry.services.config.awareness.maxLogCount || fields.services.config.awareness.maxLogCount,\n\t\t\t\t\t\t\"autoRegisterService\": registry.services.config.awareness.autoRegisterService || fields.services.config.awareness.autoRegisterService\n\t\t\t\t\t},\n\t\t\t\t\t\"logger\": registry.services.config.logger || fields.services.config.logger,\n\t\t\t\t\t\"ports\": {\n\t\t\t\t\t\t\"controller\": registry.services.config.ports.controller || fields.services.config.ports.controller,\n\t\t\t\t\t\t\"maintenanceInc\": registry.services.config.ports.maintenanceInc || fields.services.config.ports.maintenanceInc,\n\t\t\t\t\t\t\"randomInc\": registry.services.config.ports.randomInc || fields.services.config.ports.randomInc\n\t\t\t\t\t},\n\t\t\t\t\t\"oauth\": {\n\t\t\t\t\t\t\"debug\": registry.services.config.oauth.debug || fields.services.config.oauth.debug,\n\t\t\t\t\t\t\"getUserFromToken\": registry.services.config.oauth.getUserFromToken || fields.services.config.oauth.getUserFromToken,\n\t\t\t\t\t\t\"accessTokenLifetime\": registry.services.config.oauth.accessTokenLifetime || fields.services.config.oauth.accessTokenLifetime,\n\t\t\t\t\t\t\"refreshTokenLifetime\": registry.services.config.oauth.refreshTokenLifetime || fields.services.config.oauth.refreshTokenLifetime\n\t\t\t\t\t},\n\t\t\t\t\t\"cors\": {\n\t\t\t\t\t\t\"credentials\": registry.services.config.cors.credentials || fields.services.config.cors.credentials,\n\t\t\t\t\t\t\"enabled\": registry.services.config.cors.enabled || fields.services.config.cors.enabled,\n\t\t\t\t\t\t\"headers\": registry.services.config.cors.headers || fields.services.config.cors.headers,\n\t\t\t\t\t\t\"maxage\": registry.services.config.cors.maxage || fields.services.config.cors.maxage,\n\t\t\t\t\t\t\"methods\": registry.services.config.cors.methods || fields.services.config.cors.methods,\n\t\t\t\t\t\t\"origin\": registry.services.config.cors.origin || fields.services.config.cors.origin\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tsetFields(obj)\n\t\tsetRegistryDefaultEdit(true);\n\t}\n\t\n\tasync function reload() {\n\t\tawait onLoad(environment, setRegistry, true);\n\t}\n\t\n\tasync function handleSaveRegistry() {\n\t\ttry {\n\t\t\tawait consoleService.updateRegistry(fields);\n\t\t\tawait reload();\n\t\t\tsetRegistryDefaultEdit(false);\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tonLoad(environment, setRegistry, isSubscribed).catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\tenvironment && registry &&\n\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"default\" id=\"config\">\n\t\t\t<Tab eventKey=\"default\" title={t(\"soajs:titles.DefaultRegistry\")}>\n\t\t\t\t<Alert variant=\"secondary\" className=\"mt-4\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{registry.code}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col xs={4} md={3}>\n\t\t\t\t\t\t\t{!registryDefaultEdit && ability.can('registry', 'edit') &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\tonClick={handleEditRegistry}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t{registryDefaultEdit &&\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<CloseButton\n\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetRegistryDefaultEdit(false);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-3\"\n\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\tonClick={handleSaveRegistry}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Alert>\n\t\t\t\t{!registryDefaultEdit &&\n\t\t\t\t<DefaultView\n\t\t\t\t\tregistry={registry}\n\t\t\t\t/>}\n\t\t\t\t{registryDefaultEdit &&\n\t\t\t\t<DefaultEdit\n\t\t\t\t\tregistry={registry}\n\t\t\t\t\tfields={fields}\n\t\t\t\t\tsetFields={setFields}\n\t\t\t\t/>}\n\t\t\t</Tab>\n\t\t\t<Tab eventKey=\"awareness\" title={t(\"soajs:titles.Awareness\")}>\n\t\t\t\t<Awareness\n\t\t\t\t\tregistry={registry}\n\t\t\t\t/>\n\t\t\t</Tab>\n\t\t\t<Tab eventKey=\"throttling\" title={t(\"soajs:titles.Throttling\")}>\n\t\t\t\t<Throttling\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</Tab>\n\t\t\t<Tab eventKey=\"databases\" title={t(\"soajs:titles.Databases\")}>\n\t\t\t\t<Databases\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t\tregistry={registry}\n\t\t\t\t\tclusters={clusters}\n\t\t\t\t\treload={reload}\n\t\t\t\t/>\n\t\t\t</Tab>\n\t\t\t<Tab eventKey=\"custom\" title={t(\"soajs:titles.CustomRegistry\")}>\n\t\t\t\t<Custom\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t\tenvironments={environments}\n\t\t\t\t/>\n\t\t\t</Tab>\n\t\t\t<Tab eventKey=\"resource\" title={t(\"soajs:titles.ResourceConfiguration\")}>\n\t\t\t\t<Resource\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t\tenvironments={environments}\n\t\t\t\t\treloadClusters={reloadClusters}\n\t\t\t\t/>\n\t\t\t</Tab>\n\t\t</Tabs>\n\t);\n}","import { Button, Modal, Form } from \"react-bootstrap\";\nimport React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { NotificationManager } from \"../../../../soajs/urac/components\";\nimport { ConsoleService } from \"../../../../services\";\n\nconst consoleService = ConsoleService.getService();\n\n\nexport default function AddModal({ modalOpt, setModalOpt, handleAction, code }) {\n\tconst { t } = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({ \"show\": false, item: null });\n\tconst [fields, setFields] = useState({\n\t\t\"name\": \"\",\n\t\t\"description\": \"\",\n\t\t\"env\": \"\"\n\t});\n\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\tvalid = (valid && fields.name.length > 0);\n\t\tif (fields.text) {\n\t\t\tvalid = (valid && fields.valueText.length > 0);\n\t\t}\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet data = {\n\t\t\t\t\"name\": fields.name,\n\t\t\t\t\"description\": fields.description,\n\t\t\t\t\"env\": code\n\t\t\t};\n\t\t\tawait consoleService.addCollection(data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.addCollection\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt) {\n\t\t\tsetFields({\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"description\": \"\",\n\t\t\t\t\"env\": \"\"\n\t\t\t});\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt, code]);\n\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.collectionAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group style={{ \"height\": \"400px\" }}>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\trows={15}\n\t\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import { Button, Modal } from \"react-bootstrap\";\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { NotificationManager } from \"../../../../soajs/urac/components\";\nimport { ConsoleService } from \"../../../../services\";\n\nconst consoleService = ConsoleService.getService();\n\nexport default function DeleteModal({ modalOpt, setModalOpt, handleAction }) {\n\tconst { t } = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({ \"show\": false, item: null });\n\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait consoleService.deleteCollection(modalOpt.item.id);\n\t\t\tNotificationManager.success(t(\"soajs:messages.collectionDelete\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body style={{\n\t\t\t\t\"wordBreak\": \"break-all\"\n\t\t\t}}>\n\t\t\t\t{t(\"soajs:messages.deleteQuestion\")}<span\n\t\t\t\t\tclassName=\"ml-3 font-weight-bold\">{modalOpt.item ? modalOpt.item.name : \"\"}</span>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService} from \"../../../../services\";\nimport deepSet from \"../../../../soajs/libs/deepSetLib\";\n\nconst consoleService = ConsoleService.getService();\nconst initFields = {\n\t\"id\": \"\",\n\t\"name\": \"\",\n\t\"description\": \"\"\n};\n\nexport default function UpdateModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait consoleService.updateCollection(fields.id, fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.collectionUpdate\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields(Object.assign({}, initFields, modalOpt.item));\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.collectionUpdate\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import React, { useState, useEffect } from \"react\";\nimport { sortableContainer, sortableElement, sortableHandle } from \"react-sortable-hoc\";\nimport { GoDiffAdded } from \"react-icons/go\";\nimport { arrayMoveImmutable } from \"array-move\";\nimport { ImDrawer } from \"react-icons/im\";\nimport { FcCollapse, FcExpand } from \"react-icons/fc\";\nimport { BiSearchAlt } from \"react-icons/bi\";\n\nimport { Button, Row, Col, Alert, Tabs, Tab, Form, Accordion, useAccordionToggle } from \"react-bootstrap\";\nimport { useTranslation } from \"react-i18next\";\nimport { useAppContext } from \"../../../../soajs/libs/contextLib\";\nimport { ConsoleService, SoaanalyticsService } from \"../../../../services\";\nimport { NotificationManager } from \"../../../../soajs/urac/components\";\nimport { JsonEditor } from \"../../../../soajs/urac/components\";\nimport deepSet from \"../../../../soajs/libs/deepSetLib\";\nimport EditButton from \"../../../buttons/Edit\";\nimport DeleteButton from \"../../../buttons/Delete\";\nimport AutoPagination from \"../../../../lib/AutoPagination\";\n\nimport AddModal from \"./AddModal\";\nimport DeleteModal from \"./DeleteModal\";\nimport UpdateModal from \"./UpdateModal\";\n\nconst itemInit = {\n    \"_id\": \"NEW\",\n    \"name\": \"\",\n    \"api\": \"\",\n    \"method\": \"get\",\n    \"headers\": {},\n    \"query\": {},\n    \"params\": {},\n    \"body\": {},\n    \"output\": {}\n};\n\nconst soaanalyticsService = SoaanalyticsService.getService();\nconst consoleService = ConsoleService.getService();\n\nconst methodVariant = {\n    \"get\": \"primary\",\n    \"post\": \"success\",\n    \"delete\": \"danger\",\n    \"put\": \"warning\",\n    \"patch\": \"info\",\n    \"head\": \"secondary\",\n    \"other\": \"light\"\n};\nfunction getMethodVariant(method) {\n    if (method && methodVariant[method]) {\n        return methodVariant[method];\n    } else {\n        return methodVariant[\"other\"];\n    }\n}\n\nfunction CustomToggle({ children, eventKey, handleClick }) {\n    const decoratedOnClick = useAccordionToggle(eventKey, () => {\n        handleClick();\n    });\n    return (\n        <div className=\"float-left\" type=\"button\" onClick={decoratedOnClick}>\n            {children}\n        </div>\n    );\n}\n\nasync function onLoad(environment, setCollections, criteria, setItems, isSubscribed) {\n    try {\n        if (environment) {\n            const collections = await consoleService.getCollections(environment.code);\n            if (collections && isSubscribed) {\n                setCollections(collections);\n                const temp = collections.find(element => element._id === criteria.collection);\n                if (temp && temp.apis) {\n                    setItems([...temp.apis]);\n                }\n            }\n        }\n    } catch (e) {\n        NotificationManager.error(e.message);\n    }\n}\n\nexport default function Workspace({ environment }) {\n    const { t } = useTranslation([\"common\", \"soajs\"]);\n    const [fields, setFields] = useState([]);\n    const [activeKey, setActiveKey] = useState(0);\n    const [registry, setRegistry] = useState(null);\n    const [collections, setCollections] = useState([]);\n    const [items, setItems] = useState([]);\n    const [item, setItem] = useState({})\n    const { ability } = useAppContext();\n    const [criteria, setCriteria] = useState({\n        \"collection\": \"\",\n        \"type\": \"service\",\n        \"includeSOAJS\": false,\n        \"serviceName\": \"\",\n        \"serviceGroup\": \"\",\n        \"serviceVersion\": \"\",\n        \"route\": \"\",\n        \"tenant\": \"\"\n    });\n    const [currentPage, setCurrentPage] = useState(1);\n    const [pagination, setPagination] = useState({\n        \"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n    });\n\n    const [addModalOpt, setAddModalOpt] = useState({ \"show\": false });\n    const handleAddShow = () => setAddModalOpt({ \"show\": true });\n    const [modalUpdateOpt, setModalUpdateOpt] = useState({ \"show\": false, item: null });\n    const modalUpdateOptShow = (item) => setModalUpdateOpt({ \"show\": true, item: item });\n    const [modalDeleteOpt, setModalDeleteOpt] = useState({ \"show\": false, item: null });\n    const modalDeleteOptShow = (item) => setModalDeleteOpt({ \"show\": true, item: item });\n\n\n    function JsonEditor_onChange(json, what) {\n        item[what] = json;\n        setItem(item);\n    }\n    async function reLoad(doNotSetItem) {\n        await onLoad(environment, setCollections, criteria, setItems, true);\n        if (!doNotSetItem) {\n            setItem({});\n        }\n    }\n    useEffect(() => {\n        let isSubscribed = true;\n        (async () => {\n            try {\n                if (environment) {\n                    const response = await consoleService.getRegistry(environment.code);\n                    if (response && isSubscribed) {\n                        setRegistry(response);\n                        onLoad(environment, setCollections, criteria, setItems, isSubscribed).catch();\n                    }\n                }\n            } catch (e) {\n                NotificationManager.error(e.message);\n            }\n        })();\n        return () => (isSubscribed = false);\n    }, [environment, criteria]);\n\n    const onSortEnd = async ({ oldIndex, newIndex }) => {\n        const tempItems = arrayMoveImmutable(items, oldIndex, newIndex);\n        setItems(tempItems);\n        try {\n            await consoleService.updateCollectionApis(criteria.collection, { \"apis\": tempItems });\n            NotificationManager.success(t(\"soajs:messages.updateCollectionApis\"));\n        } catch (e) {\n            NotificationManager.error(e.message);\n        }\n    };\n    const selectItem = (value) => {\n        setItem(value);\n    };\n    function handleCriteriaChange(event) {\n        let value = event.target.value;\n        let id = event.target.id;\n        if (event.target.hasOwnProperty(\"checked\")) {\n            value = event.target.checked;\n        }\n        setCriteria({\n            ...criteria,\n            [id]: value\n        });\n\n        if (id === \"collection\") {\n            if (!value || value === \"\") {\n                setItems([]);\n                setItem({});\n            } else {\n                const temp = collections.find(element => element._id === value);\n                if (temp.apis) {\n                    setItems(temp.apis);\n                    setItem(itemInit);\n                } else {\n                    setItems([]);\n                    setItem(itemInit);\n                }\n            }\n        }\n    }\n\n    function handleFieldChange(event) {\n        let value = event.target.value;\n        let id = event.target.id;\n        if (event.target.hasOwnProperty(\"checked\")) {\n            value = event.target.checked;\n        }\n        if (event.target.type === 'number') {\n            value = parseInt(value);\n        }\n\n        deepSet(item, id, value);\n        setItem({ ...item });\n    }\n    async function fetchItem() {\n        item.output = {};\n        setItem({ ...item });\n        let url = registry.protocol + \"://\" + registry.apiPrefix + \".\" + registry.domain;\n        let api = item.api;\n        if (item.params && Object.keys(item.params).length) {\n            for (const [key, value] of Object.entries(item.params)) {\n                api = api.replace(`:${key}`, value);\n            }\n        }\n        //https://www.npmjs.com/package/axios\n        const config = {\n            \"method\": item.method.toLowerCase(),\n            \"baseURL\": url,\n            \"headers\": { ...item.headers } || {},\n            \"url\": api\n        };\n        if (item.body && Object.keys(item.body).length > 0) {\n            config.data = item.body;\n        }\n        if (item.query && Object.keys(item.query).length > 0) {\n            config.params = item.query;\n        }\n        if (!item.headers[\"Content-Type\"]) {\n            config.responseType = \"json\";\n        }\n        try {\n            const response = await consoleService.fetchProxy(url, config);\n            if (response) {\n                item.output = response;\n            }\n        } catch (error) {\n            item.output = error;\n        }\n        setItem({ ...item });\n    }\n    async function saveItem() {\n        if (item._id === \"NEW\") {\n            try {\n                const data = {\n                    \"name\": item.name,\n                    \"api\": item.api,\n                    \"method\": item.method,\n                    \"headers\": item.headers,\n                    \"query\": item.query,\n                    \"body\": item.body,\n                    \"params\": item.params\n                };\n                const response = await consoleService.addCollectionApi(criteria.collection, data);\n                NotificationManager.success(t(\"soajs:messages.addCollectionApi\"));\n                item._id = response._id;\n                items.unshift(item);\n                setItems([...items]);\n                setItem({ ...item });\n            } catch (e) {\n                NotificationManager.error(e.message);\n            }\n        } else {\n            try {\n                const data = {\n                    \"name\": item.name,\n                    \"api\": item.api,\n                    \"method\": item.method,\n                    \"headers\": item.headers,\n                    \"query\": item.query,\n                    \"body\": item.body,\n                    \"params\": item.params\n                };\n                await consoleService.updateCollectionApi(criteria.collection, item._id, data);\n                const itemIndex = items.findIndex(element => element._id === item._id);\n                items[itemIndex] = { ...items[itemIndex], ...data };\n                setItems([...items]);\n                NotificationManager.success(t(\"soajs:messages.updateCollectionApi\"));\n            } catch (e) {\n                NotificationManager.error(e.message);\n            }\n        }\n    }\n    async function deleteItem() {\n        try {\n            await consoleService.deleteCollectionApi(criteria.collection, item._id);\n            NotificationManager.success(t(\"soajs:messages.itemDelete\"));\n            reLoad();\n        } catch (e) {\n            NotificationManager.error(e.message);\n        }\n    }\n\n    const DragHandle = sortableHandle(() => <span>::</span>);\n    const SortableItem = sortableElement(({ value }) => (\n        <li\n            style={\n                {\n                    \"listStyleType\": \"none\"\n                }\n            }\n        >\n            <Alert variant={getMethodVariant(value.method)} className=\"pl-1 mb-1 pt-1 pb-1\">\n                <Row>\n                    <Col\n                        style={\n                            {\n                                \"overflow\": \"auto\",\n                                \"display\": \"flex\"\n                            }\n                        }\n                    >\n                        {ability.can('collection', 'update_apis') && <DragHandle />}\n                        <Button size=\"sm\" className=\"ml-2 mr-2 pl-1 pr-1 pt-0 pb-0\"\n                            onClick={() => { selectItem(value) }}\n                            variant={getMethodVariant(value.method)}><span\n                                className=\"small\">{value.method.toUpperCase()}</span></Button>\n                        <span style={{ \"cursor\": \"pointer\" }} className=\"small pt-1\" onClick={() => { selectItem(value) }}>{value.name} {value.api}</span>\n                    </Col>\n                </Row>\n            </Alert>\n        </li>\n    ));\n    const SortableContainer = sortableContainer(({ children }) => {\n        return (\n            <ul\n                className=\"pl-0 pt-2 pr-2 pb-2 mb-0\"\n                style={\n                    {\n                        \"listStyleType\": \"none\"\n                    }\n                }\n            >\n                {children}\n            </ul>\n        );\n    });\n\n    async function reloadAPI(page) {\n        try {\n            let c = {\n                \"limit\": 6,\n                \"start\": (page - 1) * 6,\n                \"type\": criteria.type,\n                \"includeSOAJS\": criteria.includeSOAJS,\n                \"keywords\": {\n                    \"serviceName\": criteria.serviceName,\n                    \"serviceGroup\": criteria.serviceGroup,\n                    \"serviceVersion\": criteria.serviceVersion,\n                    \"route\": criteria.route\n                }\n            };\n            const response = await soaanalyticsService.getApis(c);\n            if (response && response.records) {\n                setFields(response.records);\n                setPagination(\n                    {\n                        \"totalItems\": response.count,\n                        \"maxSize\": 10,\n                        \"itemsPerPage\": response.limit\n                    }\n                );\n            }\n        } catch (e) {\n            NotificationManager.error(e.message);\n        }\n    }\n    async function handleSearch(event) {\n        event.preventDefault();\n        setCurrentPage(1);\n        await reloadAPI(1);\n    }\n\n    return (\n        environment && registry &&\n        <>\n            <UpdateModal\n                modalOpt={modalUpdateOpt}\n                setModalOpt={setModalUpdateOpt}\n                handleAction={() => { reLoad(true); }}\n            />\n            <DeleteModal\n                modalOpt={modalDeleteOpt}\n                setModalOpt={setModalDeleteOpt}\n                handleAction={reLoad}\n            />\n            <AddModal\n                modalOpt={addModalOpt}\n                setModalOpt={setAddModalOpt}\n                handleAction={() => { reLoad(true); }}\n                code={environment.code}\n            />\n            <Form>\n                <Row style={{ \"backgroundColor\": \"#e9ecef\" }} className=\"p-2\">\n                    <Col sm={3} md={2} className=\"pl-0\">\n                        <h5 className=\"float-left mt-2\">Collections</h5>\n                    </Col>\n                    <Col>\n                        <Form.Control\n                            as=\"select\"\n                            id=\"collection\"\n                            size=\"sm\"\n                            defaultValue={criteria.collection}\n                            onChange={handleCriteriaChange}\n                        >\n                            <option value=\"\">-- Select a collection --</option>\n                            {collections.map((rec, index) => (\n                                <option key={index} value={rec._id}>{rec.name}</option>\n                            ))}\n                        </Form.Control>\n                    </Col>\n                    <Col sm={3} md={2}>\n                        {criteria.collection !== \"\" &&\n                            <>\n                                {ability.can('collection', 'delete') &&\n                                    <DeleteButton\n                                        className=\"float-left mr-1\"\n                                        onClick={() => {\n                                            const temp = collections.find(element => element._id === criteria.collection);\n                                            modalDeleteOptShow({\n                                                \"id\": temp._id,\n                                                \"name\": temp.name\n                                            });\n                                        }}\n                                    />}\n                                {ability.can('collection', 'update') &&\n                                    <EditButton\n                                        className=\"float-left mr-1\"\n                                        onClick={() => {\n                                            const temp = collections.find(element => element._id === criteria.collection);\n                                            modalUpdateOptShow({\n                                                \"id\": temp._id,\n                                                \"name\": temp.name,\n                                                \"description\": temp.description\n                                            })\n                                        }}\n                                    />}\n                            </>\n                        }\n                    </Col>\n                    <Col sm={3} md={2} className=\"pr-1\">\n                        {ability.can('collection', 'add') &&\n                            <Button\n                                className=\"float-right mb-1\"\n                                variant=\"success\"\n                                size=\"sm\"\n                                onClick={() => {\n                                    handleAddShow();\n                                }}\n                            ><GoDiffAdded /> {t(\"soajs:buttons.Add\")}</Button>}\n                    </Col>\n                </Row>\n            </Form>\n            <Row className=\"pt-3 pl-0\">\n                {items && criteria.collection !== \"\" &&\n                    <Col sm={6} md={5} lg={4} className=\"pl-0\">\n                        <div\n                            className=\"small mt-0\"\n                            style={\n                                {\n                                    \"overflow\": \"scroll\",\n                                    \"maxHeight\": \"650px\",\n                                    \"backgroundColor\": \"#e9ecef\"\n                                }\n                            }\n                        >\n                            <h6 className=\"float-left mt-2 ml-2\">List of available requests</h6>\n                            <Button\n                                className=\"float-right mt-1 mr-2\"\n                                variant=\"info\"\n                                size=\"sm\"\n                                onClick={() => {\n                                    setItem(itemInit);\n                                }}\n                            ><GoDiffAdded /> {t(\"soajs:buttons.New\")}</Button>\n                            <span className=\"clearfix\"></span>\n                            <SortableContainer onSortEnd={onSortEnd} useDragHandle>\n                                {items.map((value, index) => (\n                                    <SortableItem key={index} index={index} value={value} />\n                                ))}\n                            </SortableContainer>\n                        </div>\n                    </Col>\n                }\n                {item._id &&\n                    <Col sm={6} md={7} lg={8}>\n                        <Form>\n                            <Row>\n                                <Col style={{ \"backgroundColor\": \"#e9ecef\" }}>\n                                    <Form.Group className=\"mt-2\">\n                                        <Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n                                        <Form.Control\n                                            id=\"name\"\n                                            size=\"sm\"\n                                            value={item.name}\n                                            onChange={handleFieldChange}\n                                        />\n                                    </Form.Group>\n                                </Col>\n                                <Col style={{ \"backgroundColor\": \"#e9ecef\" }}>\n                                    <Form.Group className=\"mt-2\">\n                                        <Form.Label>{t(\"soajs:fields.Method\")}</Form.Label>\n                                        <Form.Control\n                                            as=\"select\"\n                                            id=\"method\"\n                                            size=\"sm\"\n                                            value={item.method}\n                                            onChange={handleFieldChange}\n                                        >\n                                            <option value=\"get\">GET</option>\n                                            <option value=\"put\">PUT</option>\n                                            <option value=\"post\">POST</option>\n                                            <option value=\"delete\">DELETE</option>\n                                            <option value=\"patch\">PATCH</option>\n                                            <option value=\"head\">HEAD</option>\n                                        </Form.Control>\n                                    </Form.Group>\n                                </Col>\n                            </Row>\n                            <Row>\n                                <Col style={{ \"backgroundColor\": \"#e9ecef\" }}>\n                                    <Form.Group className=\"mb-0\">\n                                        <Form.Label>{t(\"soajs:fields.API\")}</Form.Label>\n                                        <Form.Control\n                                            id=\"api\"\n                                            size=\"sm\"\n                                            value={item.api}\n                                            onChange={handleFieldChange}\n                                        />\n                                    </Form.Group>\n                                </Col>\n                            </Row>\n                            <Row>\n                                <Col style={{ \"backgroundColor\": \"#e9ecef\" }} className=\"pb-1\">\n                                    <Accordion activeKey={activeKey}>\n                                        <CustomToggle\n                                            eventKey={1}\n                                            handleClick={() => {\n                                                if (activeKey === 1) {\n                                                    setActiveKey(null);\n                                                } else {\n                                                    setActiveKey(1);\n                                                }\n                                            }}\n                                        >\n                                            {activeKey === 1 ? <FcExpand className=\"mr-1\" /> :\n                                                <FcCollapse className=\"mr-1\" />} <span\n                                                    className=\"small\">Advanced Filters</span>\n                                        </CustomToggle>\n                                        <div className=\"clearfix\"></div>\n                                        <Accordion.Collapse eventKey={1} className=\"p-2\" style={{ \"backgroundColor\": \"white\" }}>\n                                            <>\n                                                <Row className=\"small mt-2\">\n                                                    <Col xs={4}>\n                                                        <Form.Control\n                                                            placeholder={t(\"soajs:fields.ServiceName\")}\n                                                            id=\"serviceName\"\n                                                            size=\"sm\"\n                                                            autoFocus\n                                                            value={criteria.serviceName}\n                                                            onChange={handleCriteriaChange}\n                                                        />\n                                                    </Col>\n                                                    <Col xs={4}>\n                                                        <Form.Control\n                                                            placeholder={t(\"soajs:fields.ServiceVersion\")}\n                                                            id=\"serviceVersion\"\n                                                            size=\"sm\"\n                                                            autoFocus\n                                                            value={criteria.serviceVersion}\n                                                            onChange={handleCriteriaChange}\n                                                        />\n                                                    </Col>\n                                                    <Col xs={4}>\n                                                        <Form.Control\n                                                            placeholder={t(\"soajs:fields.ServiceGroup\")}\n                                                            id=\"serviceGroup\"\n                                                            size=\"sm\"\n                                                            autoFocus\n                                                            value={criteria.serviceGroup}\n                                                            onChange={handleCriteriaChange}\n                                                        />\n                                                    </Col>\n                                                </Row>\n                                                <Row className=\"small mt-2 mb-2\">\n                                                    <Col xs={6} md={7}>\n                                                        <Form.Control\n                                                            placeholder={t(\"soajs:fields.Route\")}\n                                                            id=\"route\"\n                                                            size=\"sm\"\n                                                            autoFocus\n                                                            value={criteria.route}\n                                                            onChange={handleCriteriaChange}\n                                                        />\n                                                    </Col>\n                                                    <Col xs={3}>\n                                                        <Form.Check\n                                                            id=\"includeSOAJS\"\n                                                            label=\"Include SOAJS APIs\"\n                                                            defaultChecked={criteria.includeSOAJS}\n                                                            onChange={handleCriteriaChange}\n                                                        />\n                                                    </Col>\n                                                    <Col xs={3} md={2}>\n                                                        <Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n                                                            <BiSearchAlt /> {t(\"soajs:buttons.Search\")}\n                                                        </Button>\n                                                    </Col>\n                                                </Row>\n                                                {fields.length > 0 ? (\n                                                    <>\n                                                        {fields.map((api, index) => (\n\n                                                            <Alert className=\"m-1 p-1\" key={index} variant={getMethodVariant(api.method)}>\n                                                                <Row>\n                                                                    <Col\n                                                                        style={{ \"cursor\": \"pointer\" }}\n                                                                        onClick={() => {\n                                                                            item.api = \"/\" + api.serviceName + api.route;\n                                                                            item.method = api.method.toLowerCase();\n                                                                            setItem({ ...item });\n                                                                        }}\n                                                                    >\n                                                                        <Button size=\"sm\" className=\"mr-2 pl-1 pr-1 pt-0 pb-0 float-left\"\n                                                                            variant={getMethodVariant(api.method)}><span\n                                                                                className=\"small\">{api.method ? api.method.toUpperCase() : \"\"}</span></Button>\n                                                                        <span className=\"small float-left font-weight-bold mr-1\">{api.serviceName}</span>\n                                                                        <span\n                                                                            className=\"small float-left mr-2 font-weight-bold text-success\"> v{api.v} </span>\n                                                                        <span className=\"small float-left\">{api.route}</span>\n                                                                        <span className=\"small float-right text-info\">{api.group}</span>\n                                                                    </Col>\n                                                                </Row>\n                                                            </Alert>\n                                                        ))}\n                                                        <div className=\"float-right mt-3\">\n                                                            <AutoPagination\n                                                                className=\"mb-2\"\n                                                                currentPage={currentPage}\n                                                                totalItems={pagination.totalItems}\n                                                                itemsPerPage={pagination.itemsPerPage}\n                                                                maxSize={pagination.maxSize}\n                                                                onClick={(p) => {\n                                                                    setCurrentPage(p);\n                                                                    reloadAPI(p);\n                                                                }}\n                                                            />\n                                                        </div>\n                                                    </>\n                                                ) : null}\n                                            </>\n                                        </Accordion.Collapse>\n                                    </Accordion>\n                                </Col>\n                            </Row>\n                            <Row>\n                                <Col>\n                                    <Tabs\n                                        defaultActiveKey=\"headers\"\n                                        id=\"api_tab\"\n                                        className=\"mb-2 mt-2\"\n                                    >\n                                        <Tab eventKey=\"headers\" title=\"Headers\">\n                                            <JsonEditor\n                                                mode=\"code\"\n                                                json={item.headers || {}}\n                                                onChange={(json) => JsonEditor_onChange(json, \"headers\")}\n                                            />\n                                        </Tab>\n                                        <Tab eventKey=\"params\" title=\"Params\">\n                                            <JsonEditor\n                                                mode=\"code\"\n                                                json={item.params || {}}\n                                                onChange={(json) => JsonEditor_onChange(json, \"params\")}\n                                            />\n                                        </Tab>\n                                        <Tab eventKey=\"query\" title=\"Query\">\n                                            <JsonEditor\n                                                mode=\"code\"\n                                                json={item.query || {}}\n                                                onChange={(json) => JsonEditor_onChange(json, \"query\")}\n                                            />\n                                        </Tab>\n                                        <Tab eventKey=\"body\" title=\"Body\">\n                                            <JsonEditor\n                                                mode=\"code\"\n                                                json={item.body || {}}\n                                                onChange={(json) => JsonEditor_onChange(json, \"body\")}\n                                            />\n                                        </Tab>\n                                    </Tabs>\n                                </Col>\n                            </Row>\n                            <Row>\n                                <Col style={{ \"backgroundColor\": \"#e9ecef\" }}>\n\n                                    {ability.can('collection', 'delete_api') && item._id !== \"NEW\" &&\n                                        <DeleteButton\n                                            className=\"float-left mt-2\"\n                                            onClick={() => {\n                                                deleteItem();\n                                            }}\n                                        />\n                                    }\n                                    {ability.can('collection', 'proxy') &&\n                                        <Button\n                                            className=\"float-right ml-1 mt-2 mb-2\"\n                                            variant=\"primary\"\n                                            size=\"sm\"\n                                            onClick={fetchItem}>\n                                            <ImDrawer /> {t(\"soajs:buttons.Fetch\")}\n                                        </Button>\n                                    }\n                                    {ability.can('collection', 'update_api') && ability.can('collection', 'add_api') &&\n                                        <Button\n                                            className=\"float-right mt-2 mb-2\"\n                                            variant=\"success\"\n                                            size=\"sm\"\n                                            onClick={saveItem}>\n                                            <GoDiffAdded /> {t(\"soajs:buttons.Save\")}\n                                        </Button>\n                                    }\n                                </Col>\n                            </Row>\n                            <Row>\n                                <Col className=\"mt-2\">\n                                    <JsonEditor\n                                        mode={\"view\"}\n                                        modes={[\"view\", \"preview\"]}\n                                        json={item.output || {}}\n                                    />\n                                </Col>\n                            </Row>\n                        </Form>\n                    </Col>\n                }\n            </Row>\n        </>\n    );\n}","import {Card, Alert, Form, ListGroup, ListGroupItem} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService, InfraService} from \"../../../../services\";\nimport {LoaderButton} from \"../../../../soajs/helpers\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\nimport {useHistory} from \"react-router-dom\";\n\nconst infraService = InfraService.getService();\nconst consoleService = ConsoleService.getService();\n\nexport default function Add() {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [fields, setFields] = useState({\n\t\t\"code\": \"\",\n\t\t\"type\": \"manual\",\n\t\t\"description\": \"\",\n\t\t\"ip\": \"127.0.0.1\",\n\t\t\"port\": \"10000\",\n\t\t\"cluster\": null,\n\t\t\"namespace\": \"\"\n\t});\n\tconst [accounts, setAccounts] = useState([]);\n\tconst history = useHistory();\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\tsetIsLoading(true);\n\t\ttry {\n\t\t\tlet data = {\n\t\t\t\t\"code\": fields.code,\n\t\t\t\t\"description\": fields.description,\n\t\t\t\t\"settings\": {\n\t\t\t\t\t\"type\": fields.type\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (fields.type === \"manual\") {\n\t\t\t\tdata.settings.port = parseInt(fields.port);\n\t\t\t}\n\t\t\tif (fields.type === \"kubernetes\") {\n\t\t\t\tdata.settings.namespace = fields.namespace;\n\t\t\t\tdata.settings.id = accounts[fields.cluster]._id;\n\t\t\t}\n\t\t\tawait consoleService.addEnvironment(data);\n\t\t\thistory.push(\"/environments/manage/\" + fields.code.toUpperCase() + \"/settings\");\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t\tsetIsLoading(false);\n\t}\n\t\n\tfunction validateForm() {\n\t\tlet valid = (fields.code.length > 0 &&\n\t\t\tfields.type.length > 4 &&\n\t\t\tfields.description.length > 0);\n\t\tif (fields.type === \"manual\") {\n\t\t\t\n\t\t\tvalid = (valid && fields.ip.length > 0 && fields.port > 0);\n\t\t}\n\t\tif (fields.type === \"kubernetes\") {\n\t\t\tvalid = (valid && fields.cluster >= 0 && fields.namespace.length > 0);\n\t\t}\n\t\treturn (\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tconst response = await infraService.getInfraAccounts();\n\t\t\t\tif (response && isSubscribed) {\n\t\t\t\t\tsetAccounts(response);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<>\n\t\t\t<h5>Add an environment</h5>\n\t\t\t<Card bg=\"light\" style={{minWidth: '22rem'}}>\n\t\t\t\t<Card.Body>\n\t\t\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label>Environment Type</Form.Label>\n\t\t\t\t\t\t\t<Form.Control as=\"select\" id=\"type\"\n\t\t\t\t\t\t\t              defaultValue={fields.type}\n\t\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"manual\">Manual deployment</option>\n\t\t\t\t\t\t\t\t<option value=\"kubernetes\">Containerized development</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Alert variant=\"info\" className=\"small mt-3 mb-3\">\n\t\t\t\t\t\t\t{fields.type === \"manual\" &&\n\t\t\t\t\t\t\t<>Manual: Build, manage, operate and test APIs on a local machine with complete awareness\n\t\t\t\t\t\t\t\tand\n\t\t\t\t\t\t\t\tinterconnect mesh among microservices</>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{fields.type === \"kubernetes\" &&\n\t\t\t\t\t\t\t<>Container: Build, manage, operate and test APIs on a containerized cluster as\n\t\t\t\t\t\t\t\tinfrastructure enabling\n\t\t\t\t\t\t\t\tkubernetes deployment & orchestration.</>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Code\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"code\"\n\t\t\t\t\t\t\t\tvalue={fields.code}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t{fields.type === \"manual\" &&\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t\t<Form.Label>Machine IP Address</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"ip\"\n\t\t\t\t\t\t\t\t\tvalue={fields.ip}\n\t\t\t\t\t\t\t\t\tdisabled={true}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t\t<Form.Label>Gateway port</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"port\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={fields.port}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{fields.type === \"kubernetes\" &&\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label>Select a kubernetes cluster</Form.Label>\n\t\t\t\t\t\t\t<Form.Control as=\"select\" id=\"cluster\"\n\t\t\t\t\t\t\t              defaultValue={fields.cluster}\n\t\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value={null}>--- Select an infrastructure ---</option>\n\t\t\t\t\t\t\t\t{accounts.map((acc, index) => (\n\t\t\t\t\t\t\t\t\t<option key={index} value={index}>{acc.label}</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{fields.type === \"kubernetes\" && fields.cluster !== null &&\n\t\t\t\t\t\t<Alert variant=\"info\" className=\"small mt-3 mb-3\">\n\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.MasterNode\")}:</span> {accounts[fields.cluster].configuration.url}\n\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.Port\")}:</span> {accounts[fields.cluster].configuration.port}\n\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t{accounts[fields.cluster].deployments && accounts[fields.cluster].deployments.length > 0 &&\n\t\t\t\t\t\t\t\t<ListGroupItem><span\n\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.Environments\")}:</span>\n\t\t\t\t\t\t\t\t\t{accounts[fields.cluster].deployments.map((env, index) => (\n\t\t\t\t\t\t\t\t\t\t<span key={index}>\n\t\t\t\t\t\t\t\t\t\t\t[ {env.env} ]\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{fields.type === \"kubernetes\" && fields.cluster &&\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Namespace\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"namespace\"\n\t\t\t\t\t\t\t\tvalue={fields.namespace}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<hr className=\"mt-4\"/>\n\t\t\t\t\t\t{ability.can('env', 'add') &&\n\t\t\t\t\t\t<LoaderButton\n\t\t\t\t\t\t\tblock\n\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t\t\t</LoaderButton>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Form>\n\t\t\t\t</Card.Body>\n\t\t\t</Card>\n\t\t</>\n\t);\n}","import {useTranslation} from \"react-i18next\";\nimport React, {useEffect, useState} from \"react\";\nimport {\n\tAccordion,\n\tButton,\n\tCard,\n\tForm,\n\tJumbotron,\n\tuseAccordionToggle,\n\tTab, Tabs, Row, Col\n} from \"react-bootstrap\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport {FcCollapse, FcExpand} from \"react-icons/fc\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MarketplaceService} from \"../../../../../services\";\nimport AutoPagination from \"../../../../../lib/AutoPagination\";\n\nconst marketplaceService = MarketplaceService.getService();\n\nfunction CustomToggle({children, eventKey, handleClick}) {\n\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\thandleClick();\n\t});\n\treturn (\n\t\t<div className=\"float-left\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nasync function onLoad(setFields, setPagination, currentPage, criteria, isSubscribed, type, subType) {\n\ttry {\n\t\tlet c = {\"limit\": 15, \"start\": (currentPage - 1) * 15, \"type\": type, \"subType\": subType};\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords && criteria.keywords !== \"\") {\n\t\t\t\tc.keywords = criteria.keywords;\n\t\t\t}\n\t\t}\n\t\tconst response = await marketplaceService.getItems(c);\n\t\tif (isSubscribed) {\n\t\t\tif (response.records) {\n\t\t\t\tsetFields(response.records);\n\t\t\t\tsetPagination(\n\t\t\t\t\t{\n\t\t\t\t\t\t\"totalItems\": response.count,\n\t\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\t\"itemsPerPage\": response.limit\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Template({type, subType, Children, Header}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [activeKey, setActiveKey] = useState(0);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [criteria, setCriteria] = useState({\n\t\t\"keywords\": \"\"\n\t});\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait reLoad(1);\n\t}\n\t\n\tasync function reLoad(page) {\n\t\tawait onLoad(setFields, setPagination, page || currentPage, criteria, true, type, subType);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed) {\n\t\t\tonLoad(setFields, setPagination, 1, null, isSubscribed, type, subType).catch();\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [type, subType]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Jumbotron className=\"p-3 m-0\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col lg={3}>\n\t\t\t\t\t\t<h5 className=\"font-weight-bold m-0\">{t(\"soajs:titles.env_cat_\" + type)}</h5>\n\t\t\t\t\t\t{subType && <span className=\"text-muted small\">{subType}</span>}\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col xs={9} md={10}>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"keywords\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tvalue={criteria.keywords}\n\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={3} md={2}>\n\t\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Jumbotron>\n\t\t\t<hr/>\n\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t{fields.map((item, index) => (\n\t\t\t\t\t<Card key={index + 1}>\n\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\t\t\tas={Card.Header}\n\t\t\t\t\t\t\t\teventKey={index + 1}\n\t\t\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\t\t\tif (activeKey === (index + 1)) {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tsetActiveKey(index + 1);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{activeKey === (index + 1) ?\n\t\t\t\t\t\t\t\t\t<FcExpand className=\"mr-1\"/> :\n\t\t\t\t\t\t\t\t\t<FcCollapse className=\"mr-1\"/>}\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold mr-2\">{item.name}</span>\n\t\t\t\t\t\t\t\t{(item.configuration && item.configuration.port) ?\n\t\t\t\t\t\t\t\t\t<span className=\"mr-2 text-primary\">[{item.configuration.port}]</span>\n\t\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t\t\t<small>{item.configuration.group}</small>\n\t\t\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t\t\t<span className=\"float-right\">\n\t\t\t\t\t\t\t\t{Header &&\n\t\t\t\t\t\t\t\t<Header\n\t\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<Jumbotron className=\"p-3 bg-light small\">\n\t\t\t\t\t\t\t\t\t{item.description ? item.description : \"-\"}\n\t\t\t\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t\t\t\t{item.versions &&\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Tabs className=\"mb-3\" defaultActiveKey=\"1\" id=\"repos\"\n\t\t\t\t\t\t\t\t\t      style={{borderBottom: \"1px solid #dee2e6\"}}>\n\t\t\t\t\t\t\t\t\t\t{item.versions.map((_O, _I) => (\n\t\t\t\t\t\t\t\t\t\t\t<Tab key={_I} eventKey={_I + 1}\n\t\t\t\t\t\t\t\t\t\t\t     title={t(\"soajs:catalogs.version\") + \" \" + _O.version}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Jumbotron className=\"p-3 bg-light\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{_O.lastSync ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small>{t(\"soajs:catalogs.lastSynchronized\")}</small><small\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-3\">from <span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{_O.lastSync.branch}</span> @ <span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-italic\">{Date(_O.lastSync.ts)}</span></small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small>{t(\"soajs:catalogs.availableBranches\")}</small><small\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-3\">[{_O.branches ? _O.branches.join(\", \") : \"\"}]</small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"-\"}\n\t\t\t\t\t\t\t\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t\t\t\t\t\t\t\t{Children &&\n\t\t\t\t\t\t\t\t\t\t\t\t<Children\n\t\t\t\t\t\t\t\t\t\t\t\t\treloadItem={reLoad}\n\t\t\t\t\t\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\t\t\t\t\t\tversion={_O}\n\t\t\t\t\t\t\t\t\t\t\t\t\tactive={(activeKey === (index + 1))}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeactivate={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetActiveKey(0);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</Tab>))}\n\t\t\t\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t\t\t</>}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t))}\n\t\t\t\t{fields.length === 0 ? (\n\t\t\t\t\t<span>{t(\"soajs:catalogs.zeroMsg\")}</span>\n\t\t\t\t) : null}\n\t\t\t</Accordion>\n\t\t\t\n\t\t\t{fields.length > 0 ? (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\treLoad(p);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t</>\n\t\t\t) : null}\n\t\t</>\n\t);\n}","import React from \"react\";\nimport {AiFillCheckCircle} from \"react-icons/ai\";\n\nexport default function ManualHeader({manualAwareness, item}) {\n\tlet add2Header = false;\n\tif (manualAwareness[item.name] && manualAwareness[item.name].healthy) {\n\t\tadd2Header = true;\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t{add2Header &&\n\t\t\t<>\n\t\t\t\t<span className=\"text-success\"><AiFillCheckCircle/> <span className=\"small\">Deployed</span></span>\n\t\t\t</>}\n\t\t</>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {JsonEditor} from \"../../../../../../soajs/urac/components\";\n\n\nexport default function JsonModal({modalOpt, setModalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [selectedPod, setSelectedPod] = useState(0);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, \"data\": [], \"mode\": \"view\", \"title\": \"\"});\n\t\n\tfunction handleSelectedPod(event) {\n\t\tsetSelectedPod(event.target.value);\n\t}\n\t\n\treturn (\n\t\tmodalOpt &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{modalOpt.title}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form.Control\n\t\t\t\t\tas=\"select\"\n\t\t\t\t\tid=\"pod\"\n\t\t\t\t\tdefaultValue={selectedPod}\n\t\t\t\t\tonChange={handleSelectedPod}\n\t\t\t\t>\n\t\t\t\t\t{modalOpt.data.map((rec, i) => (\n\t\t\t\t\t\t<option key={i} value={i}>{rec.id}</option>\n\t\t\t\t\t))}\n\t\t\t\t</Form.Control>\n\t\t\t\t<hr/>\n\t\t\t\t{selectedPod >= 0 && modalOpt && modalOpt.data && modalOpt.data[selectedPod] &&\n\t\t\t\t<JsonEditor\n\t\t\t\t\tmode={modalOpt.mode || \"view\"}\n\t\t\t\t\tmodes={[\"view\", \"preview\"]}\n\t\t\t\t\tjson={modalOpt.data[selectedPod].response || {}}\n\t\t\t\t/>\n\t\t\t\t}\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Ok\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Dropdown, DropdownButton} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MarketplaceService} from \"../../../../../services\";\nimport JsonModal from \"./modal/JsonModal\";\n\nconst marketplaceService = MarketplaceService.getService();\n\nexport default function MaintenanceOperation({version, env, itemName, itemType}) {\n\tconst [modalOpt, setModalOpt] = useState({\"show\": false, \"data\": [], \"mode\": \"preview\", \"title\": \"\"});\n\tconst modalOptShow = (data, title) => setModalOpt({\n\t\t\"show\": true,\n\t\t\"data\": data,\n\t\t\"mode\": \"view\",\n\t\t\"title\": title || \"\"\n\t});\n\t\n\tasync function handleMaintenance(route) {\n\t\ttry {\n\t\t\tlet response = await marketplaceService.itemMaintenance({\n\t\t\t\t\"env\": env,\n\t\t\t\t\"name\": itemName,\n\t\t\t\t\"type\": itemType,\n\t\t\t\t\"version\": version.version,\n\t\t\t\t\"operation\": route,\n\t\t\t\t\"port\": {\n\t\t\t\t\t\"portType\": version.maintenance.port.type,\n\t\t\t\t\t\"portValue\": version.maintenance.port.value || null\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (response) {\n\t\t\t\tmodalOptShow(response, itemName);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t<JsonModal\n\t\t\t\tmodalOpt={modalOpt}\n\t\t\t\tsetModalOpt={setModalOpt}\n\t\t\t/>\n\t\t\t{version.maintenance &&\n\t\t\t<DropdownButton\n\t\t\t\tsize=\"sm\"\n\t\t\t\tid=\"dropdown-item-button\"\n\t\t\t\ttitle=\"Maintenance Operations\"\n\t\t\t\tvariant=\"info\"\n\t\t\t\t>\n\t\t\t\t{version.maintenance && version.maintenance.readiness &&\n\t\t\t\t<Dropdown.Item\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\thandleMaintenance(version.maintenance.readiness).catch();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<small>Heartbeat</small>\n\t\t\t\t</Dropdown.Item>}\n\t\t\t\t{version.maintenance &&\n\t\t\t\tversion.maintenance.commands &&\n\t\t\t\tversion.maintenance.commands.map((m, i) => (\n\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\thandleMaintenance(m.path).catch();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<small>{m.label}</small>\n\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t))}\n\t\t\t</DropdownButton>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Alert, Col, Row} from \"react-bootstrap\";\nimport React from \"react\";\n\nimport MaintenanceOperation from \"./MaintenanceOperation\";\n\nexport default function ManualDetails({manualAwareness, version, itemName, itemType, env}) {\n\t\n\treturn (\n\t\t<>\n\t\t\t{manualAwareness &&\n\t\t\tmanualAwareness.version === version.version &&\n\t\t\tmanualAwareness.healthy &&\n\t\t\t<>\n\t\t\t\t<hr/>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col xs=\"auto\">\n\t\t\t\t\t\t<MaintenanceOperation\n\t\t\t\t\t\t\tversion={version}\n\t\t\t\t\t\t\tenv={env}\n\t\t\t\t\t\t\titemName={itemName}\n\t\t\t\t\t\t\titemType={itemType}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<hr/>\n\t\t\t\t<Alert variant=\"info p-1\">\n\t\t\t\t\t{manualAwareness.host}\n\t\t\t\t</Alert>\n\t\t\t</>}\n\t\t</>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tfunction handleSubmit() {\n\t\thandleAction(modalOpt.item.what);\n\t\thandleClose();\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body style={{\n\t\t\t\t\"wordBreak\": \"break-all\"\n\t\t\t}}>\n\t\t\t\t{t(\"soajs:messages.deleteQuestion\")}<span\n\t\t\t\tclassName=\"ml-3 font-weight-bold\">{modalOpt.item ? modalOpt.item.title : \"\"}</span>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","function getSourcesFromConfiguration(configuration) {\n\tlet response = {};\n\tif (configuration.src) {\n\t\tif (configuration.src.tag) {\n\t\t\tresponse.tag = configuration.src.tag;\n\t\t}\n\t\tif (configuration.src.branch) {\n\t\t\tresponse.branch = configuration.src.branch;\n\t\t}\n\t\tif (configuration.src.commit) {\n\t\t\tresponse.commit = configuration.src.commit;\n\t\t}\n\t}\n\tif (configuration.recipe) {\n\t\tif (configuration.recipe.image && configuration.recipe.image.tag) {\n\t\t\tresponse.imageTag = configuration.recipe.image.tag;\n\t\t}\n\t\tif (configuration.recipe.image && configuration.recipe.image.prefix) {\n\t\t\tresponse.imagePrefix = configuration.recipe.image.prefix;\n\t\t}\n\t\tif (configuration.recipe.image && configuration.recipe.image.name) {\n\t\t\tresponse.imageName = configuration.recipe.image.name;\n\t\t}\n\t\tif (configuration.recipe.image && configuration.recipe.image.registrySecret) {\n\t\t\tresponse.imageRegistrySecret = configuration.recipe.image.registrySecret;\n\t\t}\n\t}\n\treturn response;\n}\n\nfunction getSourcesFromContainer(template) {\n\tlet response = {};\n\tlet container = template.spec.containers[0];\n\tresponse.imageTag = container.image.substr(container.image.indexOf(\":\") + 1, container.image.length);\n\tif (container.image.indexOf(\"/\")) {\n\t\tresponse.imagePrefix = container.image.substr(0, container.image.indexOf(\"/\"));\n\t\tresponse.imageName = container.image.substr(container.image.indexOf(\"/\") + 1, container.image.indexOf(\":\") - (container.image.indexOf(\"/\") + 1));\n\t} else {\n\t\tresponse.imageName = container.image.substr(0, container.image.indexOf(\":\"));\n\t}\n\tif (container.env) {\n\t\tcontainer.env.map((rec, i) => {\n\t\t\tif (rec.name === \"SOAJS_GIT_BRANCH\") {\n\t\t\t\tif (template.metadata.labels[\"service.tag\"] && template.metadata.labels[\"service.tag\"] === rec.value) {\n\t\t\t\t\tresponse.tag = rec.value;\n\t\t\t\t} else {\n\t\t\t\t\tresponse.branch = rec.value;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (rec.name === \"SOAJS_GIT_COMMIT\") {\n\t\t\t\tresponse.commit = rec.value;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t}\n\treturn response;\n}\n\nexport {\n\tgetSourcesFromConfiguration,\n\tgetSourcesFromContainer\n};\n\nexport default function getTemplate(inspect, kind) {\n\tlet template = null;\n\tif (kind === \"Deployment\") {\n\t\tif (inspect.deployments &&\n\t\t\tinspect.deployments.items &&\n\t\t\tinspect.deployments.items[0]) {\n\t\t\tif (inspect.deployments.items[0].spec &&\n\t\t\t\tinspect.deployments.items[0].spec.template) {\n\t\t\t\ttemplate = inspect.deployments.items[0].spec.template;\n\t\t\t}\n\t\t}\n\t}\n\tif (kind === \"DaemonSet\") {\n\t\tif (inspect.daemonsets &&\n\t\t\tinspect.daemonsets.items &&\n\t\t\tinspect.daemonsets.items[0]) {\n\t\t\tif (inspect.daemonsets.items[0].spec &&\n\t\t\t\tinspect.daemonsets.items[0].spec.template) {\n\t\t\t\ttemplate = inspect.daemonsets.items[0].spec.template;\n\t\t\t}\n\t\t}\n\t}\n\tif (kind === \"CronJob\") {\n\t\tif (inspect.cronjobs &&\n\t\t\tinspect.cronjobs.items &&\n\t\t\tinspect.cronjobs.items[0]) {\n\t\t\tif (inspect.cronjobs.items[0].spec &&\n\t\t\t\tinspect.cronjobs.items[0].jobTemplate &&\n\t\t\t\tinspect.cronjobs.items[0].jobTemplate.spec &&\n\t\t\t\tinspect.cronjobs.items[0].jobTemplate.spec.template) {\n\t\t\t\ttemplate = inspect.cronjobs.items[0].jobTemplate.spec.template;\n\t\t\t}\n\t\t}\n\t}\n\treturn template;\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {GoSync} from \"react-icons/go\";\n\nimport deepSet from \"../../../../../../soajs/libs/deepSetLib\";\nimport {MarketplaceService, RepositoriesService} from \"../../../../../../services\";\nimport {NotificationManager} from \"../../../../../../soajs/urac/components\";\n\nimport getTemplate, {getSourcesFromConfiguration, getSourcesFromContainer} from \"./getTemplate\";\n\nconst marketplaceService = MarketplaceService.getService();\nconst repositoriesService = RepositoriesService.getService();\n\n\nasync function getLastCommit(modalOpt, branch) {\n\tlet data = {\n\t\t\"repo\": modalOpt.item.itemSrc.repo,\n\t\t\"owner\": modalOpt.item.itemSrc.owner,\n\t\t\"provider\": modalOpt.item.itemSrc.provider,\n\t\t\"branch\": branch\n\t}\n\ttry {\n\t\tlet response = await repositoriesService.getGitBranch(data);\n\t\tif (response && response.commit) {\n\t\t\treturn Promise.resolve(response.commit);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n\treturn Promise.resolve(null);\n}\n\nexport default function RedeployModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState({\n\t\t\"srcType\": \"\",\n\t\t\"branch\": \"\",\n\t\t\"commit\": \"\",\n\t\t\"tag\": \"\",\n\t\t\"imageTag\": \"\",\n\t\t\"config\": {},\n\t\t\"inspect\": {}\n\t});\n\tconst handleClose = () => setModalOpt({\"show\": false, \"item\": null, \"title\": \"\"});\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\tif (fields.srcType === \"branch\") {\n\t\t\tvalid = fields.branch.length > 0 && fields.commit.length > 0;\n\t\t}\n\t\tif (fields.srcType === \"tag\") {\n\t\t\tvalid = fields.tag.length > 0;\n\t\t}\n\t\treturn (\n\t\t\tfields.imageTag.length > 0 &&\n\t\t\tvalid\n\t\t)\n\t}\n\t\n\tasync function get_setLastCommit() {\n\t\tlet commit = await getLastCommit(modalOpt, fields.branch);\n\t\tif (commit) {\n\t\t\tfields.commit = commit;\n\t\t\tsetFields({...fields});\n\t\t}\n\t}\n\t\n\tasync function reDeploy() {\n\t\ttry {\n\t\t\tlet data = {\n\t\t\t\t\"name\": modalOpt.item.name,\n\t\t\t\t\"type\": modalOpt.item.type,\n\t\t\t\t\"env\": modalOpt.item.env,\n\t\t\t\t\"version\": modalOpt.item.version,\n\t\t\t\t\"branch\": (fields.branch.length > 0 ? fields.branch : null),\n\t\t\t\t\"commit\": (fields.commit.length > 0 ? fields.commit : null),\n\t\t\t\t\"tag\": (fields.tag.length > 0 ? fields.tag : null),\n\t\t\t\t\"imageTag\": (fields.imageTag.length > 0 ? fields.imageTag : null),\n\t\t\t};\n\t\t\tawait marketplaceService.redeploy(data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.redeploySuccess\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tif (event.target.type === 'number') {\n\t\t\tvalue = parseInt(value);\n\t\t}\n\t\t\n\t\tdeepSet(fields, event.target.id, value);\n\t\tsetFields({...fields});\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad(data, inspectInfo, configInfo) {\n\t\t\tif (inspectInfo.branch || configInfo.branch) {\n\t\t\t\tlet commit = await getLastCommit(modalOpt, inspectInfo.branch || configInfo.branch);\n\t\t\t\tif (commit) {\n\t\t\t\t\tdata.commit = commit;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields(data);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (modalOpt && modalOpt.item) {\n\t\t\tlet inspectInfo = {};\n\t\t\tif (modalOpt.item.inspect) {\n\t\t\t\tlet template = getTemplate(modalOpt.item.inspect, modalOpt.item.kind);\n\t\t\t\tif (template) {\n\t\t\t\t\tinspectInfo = getSourcesFromContainer(template);\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet configInfo = {};\n\t\t\tif (modalOpt.item.deployConfiguration) {\n\t\t\t\tconfigInfo = getSourcesFromConfiguration(modalOpt.item.deployConfiguration);\n\t\t\t}\n\t\t\tlet data = {\n\t\t\t\t\"branch\": inspectInfo.branch || configInfo.branch || \"\",\n\t\t\t\t\"commit\": inspectInfo.commit || configInfo.commit || \"\",\n\t\t\t\t\"tag\": inspectInfo.tag || configInfo.tag || \"\",\n\t\t\t\t\"imageTag\": inspectInfo.imageTag || configInfo.imageTag || \"\",\n\t\t\t\t\"config\": configInfo,\n\t\t\t\t\"inspect\": inspectInfo,\n\t\t\t\t\"srcType\": \"\"\n\t\t\t};\n\t\t\tif (inspectInfo.branch || configInfo.branch) {\n\t\t\t\tdata.srcType = \"branch\";\n\t\t\t}\n\t\t\tif (inspectInfo.tag || configInfo.tag) {\n\t\t\t\tdata.srcType = \"tag\";\n\t\t\t}\n\t\t\tonLoad(data, inspectInfo, configInfo).catch();\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\tmodalOpt &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>Redeploy: {modalOpt.title}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t{modalOpt.item &&\n\t\t\t\t<Form>\n\t\t\t\t\t{fields.srcType === \"branch\" &&\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Branch\")}</Form.Label>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"branch\"\n\t\t\t\t\t\t\tvalue={fields.branch}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.availableSrc && modalOpt.item.availableSrc.branches &&\n\t\t\t\t\t\t\tmodalOpt.item.availableSrc.branches.map((rec, i) => (\n\t\t\t\t\t\t\t\t<option key={i} value={rec}>{rec}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{fields.config.branch && fields.branch !== fields.config.branch &&\n\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\tMismatch with configuration: <b>{fields.config.branch}</b>\n\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t{fields.inspect.branch && fields.branch !== fields.inspect.branch &&\n\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\tMismatch with deployment: <b>{fields.inspect.branch}</b>\n\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t</Form.Group>}\n\t\t\t\t\t{fields.srcType === \"branch\" &&\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>\n\t\t\t\t\t\t\t{t(\"soajs:fields.Commit\")}\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"pt-0 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\tvariant=\"info\"\n\t\t\t\t\t\t\t\tonClick={get_setLastCommit}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<GoSync/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"commit\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.commit}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{fields.config.commit && fields.commit !== fields.config.commit &&\n\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\tMismatch with configuration: <b>{fields.config.commit}</b>\n\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t{fields.inspect.commit && fields.commit !== fields.inspect.commit &&\n\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\tMismatch with deployment: <b>{fields.inspect.commit}</b>\n\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t</Form.Group>}\n\t\t\t\t\t{fields.srcType === \"tag\" &&\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Tag\")}</Form.Label>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"tag\"\n\t\t\t\t\t\t\tvalue={fields.tag}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.availableSrc && modalOpt.item.availableSrc.tags &&\n\t\t\t\t\t\t\tmodalOpt.item.availableSrc.tags.map((rec, i) => (\n\t\t\t\t\t\t\t\t<option key={i} value={rec}>{rec}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{fields.tag !== fields.config.tag &&\n\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\tMismatch with configuration: <b>{fields.config.tag}</b>\n\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t{fields.tag !== fields.inspect.tag &&\n\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\tMismatch with deployment: <b>{fields.inspect.tag}</b>\n\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t</Form.Group>}\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.ImageTag\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"imageTag\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.imageTag}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{fields.config.imageTag && fields.imageTag !== fields.config.imageTag &&\n\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\tMismatch with configuration: <b>{fields.config.imageTag}</b>\n\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t{fields.inspect.imageTag && fields.imageTag !== fields.inspect.imageTag &&\n\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\tMismatch with deployment: <b>{fields.inspect.imageTag}</b>\n\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t\t}\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t\n\t\t\t\t{modalOpt.item &&\n\t\t\t\t<Button\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={reDeploy}>\n\t\t\t\t\t{t(\"soajs:buttons.Redeploy\")}\n\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Card, Col, Form, Alert, Modal, Badge, Accordion, Row} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {BiSearchAlt} from \"react-icons/bi\";\n\nimport _ from \"lodash\";\n\nimport {useAppContext} from \"../../../../../../soajs/libs/contextLib\";\nimport {JsonEditor, NotificationManager} from \"../../../../../../soajs/urac/components\";\nimport {MarketplaceService, RepositoriesService} from \"../../../../../../services\";\nimport deepSet from \"../../../../../../soajs/libs/deepSetLib\";\nimport AutoPagination from \"../../../../../../lib/AutoPagination\";\n\nimport getTemplate, {getSourcesFromConfiguration, getSourcesFromContainer} from \"./getTemplate\";\nimport _examples from \"../../../../../Catalogs/containers/Recipe/model/examples.json\";\nimport {GoSync} from \"react-icons/go\";\n\nconst marketplaceService = MarketplaceService.getService();\nconst repositoriesService = RepositoriesService.getService();\n\nasync function processAndAutoFill(modalOpt, recipeID, allowedRecipies, setFields, isSubscribed) {\n\tlet inspectInfo = {};\n\tif (modalOpt.item.inspect) {\n\t\tlet template = getTemplate(modalOpt.item.inspect, modalOpt.item.kind);\n\t\tif (template) {\n\t\t\tinspectInfo = getSourcesFromContainer(template);\n\t\t}\n\t}\n\tlet configInfo = {};\n\tif (modalOpt.item.deployConfiguration) {\n\t\tconfigInfo = getSourcesFromConfiguration(modalOpt.item.deployConfiguration);\n\t}\n\t\n\tif (isSubscribed && recipeID) {\n\t\tlet recipe = getRecipeFromAllowed(recipeID, allowedRecipies);\n\t\tif (recipe) {\n\t\t\tlet repoId = \"\";\n\t\t\tlet commit = inspectInfo.commit || configInfo.commit || \"\";\n\t\t\ttry {\n\t\t\t\tif (modalOpt.item.itemSrc) {\n\t\t\t\t\tif (inspectInfo.branch || configInfo.branch) {\n\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\t\"repo\": modalOpt.item.itemSrc.repo,\n\t\t\t\t\t\t\t\"owner\": modalOpt.item.itemSrc.owner,\n\t\t\t\t\t\t\t\"provider\": modalOpt.item.itemSrc.provider,\n\t\t\t\t\t\t\t\"branch\": inspectInfo.branch || configInfo.branch\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet response = await repositoriesService.getGitBranch(data);\n\t\t\t\t\t\tif (response && response.commit) {\n\t\t\t\t\t\t\tcommit = response.commit;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (response && response.repo && response.repo.id) {\n\t\t\t\t\t\t\trepoId = response.repo.id;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\t\"name\": modalOpt.item.itemSrc.repo,\n\t\t\t\t\t\t\t\"owner\": [modalOpt.item.itemSrc.owner],\n\t\t\t\t\t\t\t\"provider\": [modalOpt.item.itemSrc.provider],\n\t\t\t\t\t\t\t\"active\": true\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet response = await repositoriesService.getRepositories(data);\n\t\t\t\t\t\tif (response && response.repositories && response.repositories.length > 0) {\n\t\t\t\t\t\t\trepoId = response.repositories[0]._id;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t\tsetFields(p => {\n\t\t\t\tp = _.merge({}, initFields);\n\t\t\t\t\n\t\t\t\tp.recipeId = recipeID;\n\t\t\t\t\n\t\t\t\tp.image.name = inspectInfo.imageName || configInfo.imageName || recipe.recipe.deployOptions.image.name || \"\";\n\t\t\t\tp.image.tag = inspectInfo.imageTag || configInfo.imageTag || recipe.recipe.deployOptions.image.tag || \"\";\n\t\t\t\tp.image.prefix = inspectInfo.imagePrefix || configInfo.imagePrefix || recipe.recipe.deployOptions.image.prefix || \"\";\n\t\t\t\t\n\t\t\t\t// p.image.name = recipe.recipe.deployOptions.image.name || configInfo.imageName || inspectInfo.imageName || \"\";\n\t\t\t\t// p.image.tag = recipe.recipe.deployOptions.image.tag || configInfo.imageTag || inspectInfo.imageTag || \"\";\n\t\t\t\t// p.image.prefix = recipe.recipe.deployOptions.image.prefix || configInfo.imagePrefix || inspectInfo.imagePrefix || \"\";\n\t\t\t\tp.image.override = recipe.recipe.deployOptions.image.override || p.image.override;\n\t\t\t\tp.image.repositoryType = recipe.recipe.deployOptions.image.repositoryType || p.image.repositoryType;\n\t\t\t\tp.image.registrySecret = configInfo.imageRegistrySecret || \"\";\n\t\t\t\t\n\t\t\t\tp.binary = !!recipe.recipe.deployOptions.image.binary;\n\t\t\t\tif (!p.binary && !modalOpt.item.itemSrc) {\n\t\t\t\t\tp.warning = \"This item does not have a repository source and can only be deployed with recipes that do not require source. (binary only)\";\n\t\t\t\t}\n\t\t\t\tif (!p.binary) {\n\t\t\t\t\tif (inspectInfo.branch || configInfo.branch) {\n\t\t\t\t\t\tp.srcType = \"branch\";\n\t\t\t\t\t}\n\t\t\t\t\tif (inspectInfo.tag || configInfo.tag) {\n\t\t\t\t\t\tp.srcType = \"tag\";\n\t\t\t\t\t}\n\t\t\t\t\tif (modalOpt.item.availableSrc) {\n\t\t\t\t\t\tp.branchOrTag = [];\n\t\t\t\t\t\tif (modalOpt.item.availableSrc.branches) {\n\t\t\t\t\t\t\tp.branchOrTag.push(\"branch\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (modalOpt.item.availableSrc.tags) {\n\t\t\t\t\t\t\tp.branchOrTag.push(\"tag\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (p.srcType === \"\") {\n\t\t\t\t\t\t\tp.srcType = p.branchOrTag[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tp.repoId = repoId;\n\t\t\t\t\tp.branch = inspectInfo.branch || configInfo.branch || (modalOpt.item.availableSrc && modalOpt.item.availableSrc.branches ? modalOpt.item.availableSrc.branches[0] || \"\" : \"\");\n\t\t\t\t\tp.commit = commit;\n\t\t\t\t\tp.tag = inspectInfo.tag || configInfo.tag || modalOpt.item.availableSrc.tags || \"\";\n\t\t\t\t}\n\t\t\t\tp.config = configInfo;\n\t\t\t\tp.inspect = inspectInfo;\n\t\t\t\tp.recipe = recipe.recipe.deployOptions.image || {};\n\t\t\t\t\n\t\t\t\tp.settings.mode = modalOpt.item.kind || p.settings.mode;\n\t\t\t\tp.readinessProbe = recipe.recipe.deployOptions.readinessProbe || p.readinessProbe;\n\t\t\t\tp.livenessProbe = recipe.recipe.deployOptions.livenessProbe || p.livenessProbe;\n\t\t\t\t\n\t\t\t\tif (modalOpt.item.deployConfiguration) {\n\t\t\t\t\tif (modalOpt.item.deployConfiguration.cd && modalOpt.item.deployConfiguration.cd.strategy) {\n\t\t\t\t\t\tp.cd.strategy = modalOpt.item.deployConfiguration.cd.strategy;\n\t\t\t\t\t}\n\t\t\t\t\tif (modalOpt.item.deployConfiguration.settings) {\n\t\t\t\t\t\tp.settings.memory = modalOpt.item.deployConfiguration.settings.memory || p.settings.memory;\n\t\t\t\t\t\tp.settings.mode = modalOpt.item.deployConfiguration.settings.mode || p.settings.mode;\n\t\t\t\t\t\tp.settings.replicas = modalOpt.item.deployConfiguration.settings.replicas || p.settings.replicas;\n\t\t\t\t\t\tp.settings.concurrencyPolicy = modalOpt.item.deployConfiguration.settings.concurrencyPolicy || p.settings.concurrencyPolicy;\n\t\t\t\t\t\tp.settings.schedule = modalOpt.item.deployConfiguration.settings.schedule || p.settings.schedule;\n\t\t\t\t\t\tp.settings.restartPolicy = modalOpt.item.deployConfiguration.settings.restartPolicy || p.settings.restartPolicy;\n\t\t\t\t\t}\n\t\t\t\t\tif (modalOpt.item.deployConfiguration.recipe) {\n\t\t\t\t\t\tp.readinessProbe = modalOpt.item.deployConfiguration.recipe.readinessProbe || p.readinessProbe;\n\t\t\t\t\t\tp.livenessProbe = modalOpt.item.deployConfiguration.recipe.livenessProbe || p.livenessProbe;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (recipe.recipe.deployOptions.ports) {\n\t\t\t\t\tif (modalOpt.item.deployConfiguration && modalOpt.item.deployConfiguration.recipe.ports) {\n\t\t\t\t\t\tif (modalOpt.item.deployConfiguration.recipe.ports.portType) {\n\t\t\t\t\t\t\tp.ports.portType = modalOpt.item.deployConfiguration.recipe.ports.portType;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tp.ports.ports = [];\n\t\t\t\t\tp.showPortType = false;\n\t\t\t\t\tfor (let i = 0; i < recipe.recipe.deployOptions.ports.length; i++) {\n\t\t\t\t\t\tlet port = {\n\t\t\t\t\t\t\t\"name\": recipe.recipe.deployOptions.ports[i].name,\n\t\t\t\t\t\t\t\"target\": recipe.recipe.deployOptions.ports[i].target,\n\t\t\t\t\t\t\t\"isPublished\": recipe.recipe.deployOptions.ports[i].isPublished,\n\t\t\t\t\t\t\t\"published\": 0\n\t\t\t\t\t\t};\n\t\t\t\t\t\tp.showPortType = (p.showPortType || port.isPublished);\n\t\t\t\t\t\tif (modalOpt.item.deployConfiguration &&\n\t\t\t\t\t\t\tmodalOpt.item.deployConfiguration.recipe.ports &&\n\t\t\t\t\t\t\tmodalOpt.item.deployConfiguration.recipe.ports.values) {\n\t\t\t\t\t\t\tfor (let j = 0; j < modalOpt.item.deployConfiguration.recipe.ports.values.length; j++) {\n\t\t\t\t\t\t\t\tif (modalOpt.item.deployConfiguration.recipe.ports.values[j].name === port.name) {\n\t\t\t\t\t\t\t\t\tif (modalOpt.item.deployConfiguration.recipe.ports.values[j].published) {\n\t\t\t\t\t\t\t\t\t\tport.published = modalOpt.item.deployConfiguration.recipe.ports.values[j].published;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tp.ports.ports.push(port);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (recipe.recipe.buildOptions.env) {\n\t\t\t\t\tlet envs = Object.keys(recipe.recipe.buildOptions.env);\n\t\t\t\t\tp.env = {...recipe.recipe.buildOptions.env};\n\t\t\t\t\tfor (let i = 0; i < envs.length; i++) {\n\t\t\t\t\t\tif (recipe.recipe.buildOptions.env[envs[i]].type === \"userInput\") {\n\t\t\t\t\t\t\tif (modalOpt.item.deployConfiguration &&\n\t\t\t\t\t\t\t\tmodalOpt.item.deployConfiguration.recipe &&\n\t\t\t\t\t\t\t\tmodalOpt.item.deployConfiguration.recipe.env &&\n\t\t\t\t\t\t\t\tmodalOpt.item.deployConfiguration.recipe.env.hasOwnProperty([envs[i]])) {\n\t\t\t\t\t\t\t\tp.env[envs[i]].value = modalOpt.item.deployConfiguration.recipe.env[envs[i]];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (recipe.recipe.buildOptions.env[envs[i]].type === \"secret\") {\n\t\t\t\t\t\t\tif (modalOpt.item.deployConfiguration &&\n\t\t\t\t\t\t\t\tmodalOpt.item.deployConfiguration.recipe &&\n\t\t\t\t\t\t\t\tmodalOpt.item.deployConfiguration.recipe.env &&\n\t\t\t\t\t\t\t\tmodalOpt.item.deployConfiguration.recipe.env.hasOwnProperty([envs[i]])) {\n\t\t\t\t\t\t\t\tp.env[envs[i]].name = modalOpt.item.deployConfiguration.recipe.env[envs[i]].name;\n\t\t\t\t\t\t\t\tp.env[envs[i]].secret = modalOpt.item.deployConfiguration.recipe.env[envs[i]].name;\n\t\t\t\t\t\t\t\tp.env[envs[i]].key = modalOpt.item.deployConfiguration.recipe.env[envs[i]].key;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn {...p};\n\t\t\t});\n\t\t} else {\n\t\t\tNotificationManager.error(\"The used recipe is not in the allowed recipe list or not available anymore.\");\n\t\t}\n\t}\n}\n\nasync function getRecipes(currentPage, criteria, setPagination, setRecipes) {\n\ttry {\n\t\tlet c = {\"limit\": 10, \"start\": (currentPage - 1) * 10};\n\t\tif (criteria) {\n\t\t\tif (criteria._keywords && criteria._keywords !== \"\") {\n\t\t\t\tc.keywords = criteria._keywords;\n\t\t\t}\n\t\t}\n\t\tconst _recipes = await marketplaceService.getRecipes(c);\n\t\tsetPagination(\n\t\t\t{\n\t\t\t\t\"totalItems\": _recipes.count,\n\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\"itemsPerPage\": _recipes.limit\n\t\t\t}\n\t\t);\n\t\tsetRecipes(_recipes.records);\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nfunction getRecipeFromAllowed(recipeID, allowedRecipies) {\n\tfor (let i = 0; i < allowedRecipies.length; i++) {\n\t\tif (allowedRecipies[i]._id === recipeID) {\n\t\t\treturn allowedRecipies[i];\n\t\t}\n\t}\n\treturn null;\n}\n\nfunction getRecipeIDFromTemplate(template) {\n\tif (template.metadata && template.metadata.labels) {\n\t\treturn template.metadata.labels[\"soajs.catalog.id\"] || null;\n\t}\n\treturn null;\n}\n\nconst initFields = {\n\t\"cd\": {\n\t\t\"strategy\": \"notify\"\n\t},\n\t\"settings\": {\n\t\t\"memory\": \"0\",\n\t\t\"mode\": \"Deployment\",\n\t\t\"replicas\": 1,\n\t\t\"concurrencyPolicy\": \"Allow\",\n\t\t\"schedule\": \"\",\n\t\t\"restartPolicy\": \"OnFailure\"\n\t},\n\t\"image\": {\n\t\t\"name\": \"\",\n\t\t\"prefix\": \"\",\n\t\t\"tag\": \"\",\n\t\t\"override\": false,\n\t\t\"registrySecret\": \"\",\n\t\t\"repositoryType\": \"public\"\n\t},\n\t\"showPortType\": false,\n\t\"ports\": {\n\t\t\"type\": \"kubernetes\",\n\t\t\"portType\": \"NodePort\",\n\t\t\"ports\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"target\": 0,\n\t\t\t\t\"published\": 0,\n\t\t\t\t\"isPublished\": false\n\t\t\t}\n\t\t]\n\t},\n\t\"env\": null,\n\t\"readinessProbe\": null,\n\t\"livenessProbe\": null,\n\t\"binary\": false,\n\t\"srcType\": \"\",\n\t\"recipeId\": \"\",\n\t\"repoId\": \"\",\n\t\"tag\": \"\",\n\t\"branch\": \"\",\n\t\"commit\": \"\",\n\t\"config\": {},\n\t\"inspect\": {},\n\t\"recipe\": {},\n\t\"branchOrTag\": [],\n\t\"warning\": null\n};\n\nlet _json_readiness = null;\nlet _json_liveness = null;\n\nexport default function ConfigureModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, \"item\": null, \"title\": \"\"});\n\t\n\tconst [wizardStep, setWizardStep] = useState(1);\n\tconst [recipes, setRecipes] = useState([]);\n\tconst [recipesAllowed, setRecipesAllowed] = useState([]);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [criteria, setCriteria] = useState({\n\t\t\"_keywords\": \"\"\n\t});\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\t\n\tasync function get_setLastCommit() {\n\t\tlet data = {\n\t\t\t\"repo\": modalOpt.item.itemSrc.repo,\n\t\t\t\"owner\": modalOpt.item.itemSrc.owner,\n\t\t\t\"provider\": modalOpt.item.itemSrc.provider,\n\t\t\t\"branch\": fields.branch\n\t\t}\n\t\ttry {\n\t\t\tlet response = await repositoriesService.getGitBranch(data);\n\t\t\tif (response && response.commit) {\n\t\t\t\tfields.commit = response.commit;\n\t\t\t\tif (response.repo && response.repo.id) {\n\t\t\t\t\tfields.repoId = response.repo.id;\n\t\t\t\t}\n\t\t\t\tsetFields({...fields});\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tif (event.target.type === 'number') {\n\t\t\tvalue = parseInt(value);\n\t\t}\n\t\tif (event.target.id === \"recipeId\") {\n\t\t\tawait processAndAutoFill(modalOpt, event.target.value, recipesAllowed, setFields, true);\n\t\t} else {\n\t\t\tdeepSet(fields, event.target.id, value);\n\t\t\tsetFields({...fields});\n\t\t}\n\t}\n\t\n\tfunction handleFieldPortChange(event) {\n\t\tlet value = event.target.value;\n\t\tlet id = event.target.id - 1;\n\t\tlet castedValue = parseInt(value);\n\t\tif (!castedValue) {\n\t\t\tcastedValue = 0;\n\t\t}\n\t\tfields.ports.ports[id].published = castedValue;\n\t\tsetFields({...fields});\n\t}\n\t\n\tasync function reload(page) {\n\t\tawait getRecipes(page, criteria, setPagination, setRecipes);\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tawait getRecipes(1, criteria, setPagination, setRecipes);\n\t}\n\t\n\tasync function selectRecipe(recipe) {\n\t\tsetRecipesAllowed([recipe]);\n\t\tsetWizardStep(2);\n\t\tawait processAndAutoFill(modalOpt, recipe._id, [recipe], setFields, true);\n\t}\n\t\n\tfunction readiness_onChange(json) {\n\t\t_json_readiness = json;\n\t}\n\t\n\tfunction liveness_onChange(json) {\n\t\t_json_liveness = json;\n\t}\n\t\n\tfunction buildConfigureData() {\n\t\tlet params = {\n\t\t\t\"name\": modalOpt.item.name,\n\t\t\t\"type\": modalOpt.item.type\n\t\t};\n\t\tlet data = {\n\t\t\t\"config\": {\n\t\t\t\t\"env\": modalOpt.item.env,\n\t\t\t\t\"version\": modalOpt.item.version,\n\t\t\t\t\"cd\": {\n\t\t\t\t\t\"strategy\": fields.cd.strategy\n\t\t\t\t},\n\t\t\t\t\"settings\": {\n\t\t\t\t\t\"memory\": fields.settings.memory,\n\t\t\t\t\t\"mode\": fields.settings.mode,\n\t\t\t\t\t\"replicas\": fields.settings.replicas,\n\t\t\t\t\t\"concurrencyPolicy\": fields.settings.concurrencyPolicy,\n\t\t\t\t\t\"schedule\": fields.settings.schedule,\n\t\t\t\t\t\"restartPolicy\": fields.settings.restartPolicy\n\t\t\t\t},\n\t\t\t\t\"src\": {\n\t\t\t\t\t\"id\": fields.repoId,\n\t\t\t\t\t\"from\": {\n\t\t\t\t\t\t\"tag\": fields.tag,\n\t\t\t\t\t\t\"branch\": fields.branch,\n\t\t\t\t\t\t\"commit\": fields.commit\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"recipe\": {\n\t\t\t\t\t\"id\": fields.recipeId,\n\t\t\t\t\t\"image\": {\n\t\t\t\t\t\t\"name\": fields.image.name,\n\t\t\t\t\t\t\"prefix\": fields.image.prefix,\n\t\t\t\t\t\t\"tag\": fields.image.tag\n\t\t\t\t\t},\n\t\t\t\t\t\"readinessProbe\": _json_readiness || fields.readinessProbe || null,\n\t\t\t\t\t\"livenessProbe\": _json_liveness || fields.livenessProbe || null\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tif (fields.image.repositoryType === \"private\") {\n\t\t\tif (fields.image.registrySecret !== \"\") {\n\t\t\t\tdata.config.recipe.image.registrySecret = fields.image.registrySecret;\n\t\t\t}\n\t\t}\n\t\tif (!data.config.recipe.readinessProbe || Object.keys(data.config.recipe.readinessProbe).length === 0) {\n\t\t\tdelete data.config.recipe.readinessProbe;\n\t\t}\n\t\tif (!data.config.recipe.livenessProbe || Object.keys(data.config.recipe.livenessProbe).length === 0) {\n\t\t\tdelete data.config.recipe.livenessProbe;\n\t\t}\n\t\t\n\t\tif (fields.binary || !modalOpt.item.itemSrc) {\n\t\t\tdelete data.config.src;\n\t\t} else {\n\t\t\tif (fields.srcType === \"branch\") {\n\t\t\t\tdelete data.config.src.from.tag;\n\t\t\t} else {\n\t\t\t\tdelete data.config.src.from.branch;\n\t\t\t\tdelete data.config.src.from.commit;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (data.config.settings.mode === \"DaemonSet\") {\n\t\t\tdelete data.config.settings.replicas;\n\t\t\tdelete data.config.settings.concurrencyPolicy;\n\t\t\tdelete data.config.settings.schedule;\n\t\t\tdelete data.config.settings.restartPolicy;\n\t\t}\n\t\tif (data.config.settings.mode === \"Deployment\") {\n\t\t\tdelete data.config.settings.concurrencyPolicy;\n\t\t\tdelete data.config.settings.schedule;\n\t\t\tdelete data.config.settings.restartPolicy;\n\t\t}\n\t\tif (data.config.settings.mode === \"CronJob\") {\n\t\t\tdelete data.config.settings.replicas;\n\t\t}\n\t\t\n\t\tif (fields.env) {\n\t\t\tlet envs = Object.keys(fields.env);\n\t\t\tfor (let i = 0; i < envs.length; i++) {\n\t\t\t\tif (!data.config.recipe.env) {\n\t\t\t\t\tdata.config.recipe.env = {};\n\t\t\t\t}\n\t\t\t\tif (fields.env[envs[i]].type === \"userInput\") {\n\t\t\t\t\tdata.config.recipe.env[envs[i]] = fields.env[envs[i]].value || fields.env[envs[i]].default;\n\t\t\t\t}\n\t\t\t\tif (fields.env[envs[i]].type === \"secret\") {\n\t\t\t\t\tdata.config.recipe.env[envs[i]] = {\n\t\t\t\t\t\t\"name\": fields.env[envs[i]].secret || fields.env[envs[i]].name,\n\t\t\t\t\t\t\"key\": fields.env[envs[i]].key\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (fields.ports.ports.length > 0) {\n\t\t\tdata.config.recipe.ports = {\n\t\t\t\t\"type\": fields.ports.type,\n\t\t\t\t\"portType\": fields.ports.portType,\n\t\t\t\t\"values\": []\n\t\t\t};\n\t\t\tfor (let i = 0; i < fields.ports.ports.length; i++) {\n\t\t\t\tif (fields.ports.ports[i].isPublished) {\n\t\t\t\t\tlet port = {\n\t\t\t\t\t\t\"name\": fields.ports.ports[i].name,\n\t\t\t\t\t\t\"target\": fields.ports.ports[i].target\n\t\t\t\t\t}\n\t\t\t\t\tif (fields.ports.portType === \"NodePort\") {\n\t\t\t\t\t\tport.published = fields.ports.ports[i].published;\n\t\t\t\t\t}\n\t\t\t\t\tdata.config.recipe.ports.values.push(port);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn ({data, params});\n\t}\n\t\n\tasync function save() {\n\t\ttry {\n\t\t\tlet {data, params} = buildConfigureData();\n\t\t\tawait marketplaceService.configure(params, data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.saveConfigSuccess\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function saveAndDeploy() {\n\t\ttry {\n\t\t\tlet {data, params} = buildConfigureData();\n\t\t\tawait marketplaceService.build(params, data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.saveConfigDeploySuccess\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\tif (modalOpt && modalOpt.item) {\n\t\t\t\tlet recipeID = null;\n\t\t\t\tlet allowedRecipies = [];\n\t\t\t\tlet recipeIDs = [];\n\t\t\t\t\n\t\t\t\tlet configRecipeID = null;\n\t\t\t\tif (modalOpt.item.deployConfiguration && modalOpt.item.deployConfiguration.recipe && modalOpt.item.deployConfiguration.recipe.id) {\n\t\t\t\t\tconfigRecipeID = modalOpt.item.deployConfiguration.recipe.id;\n\t\t\t\t\trecipeIDs.push(configRecipeID);\n\t\t\t\t\trecipeID = configRecipeID;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlet deployRecipeID = null;\n\t\t\t\tif (modalOpt.item.inspect) {\n\t\t\t\t\tlet template = getTemplate(modalOpt.item.inspect, modalOpt.item.kind);\n\t\t\t\t\tif (template) {\n\t\t\t\t\t\tdeployRecipeID = getRecipeIDFromTemplate(template);\n\t\t\t\t\t\trecipeIDs.push(deployRecipeID);\n\t\t\t\t\t\trecipeID = deployRecipeID;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ((!modalOpt.item.itemSettings || !modalOpt.item.itemSettings.recipes ||\n\t\t\t\t\t!Array.isArray(modalOpt.item.itemSettings.recipes) ||\n\t\t\t\t\tmodalOpt.item.itemSettings.recipes.length === 0)) {\n\t\t\t\t\tawait getRecipes(1, {\"_keywords\": \"\"}, setPagination, setRecipes);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (modalOpt.item.itemSettings && modalOpt.item.itemSettings.recipes &&\n\t\t\t\t\tArray.isArray(modalOpt.item.itemSettings.recipes) &&\n\t\t\t\t\tmodalOpt.item.itemSettings.recipes.length > 0) {\n\t\t\t\t\trecipeIDs = _.union(recipeIDs, modalOpt.item.itemSettings.recipes);\n\t\t\t\t}\n\t\t\t\tif (recipeIDs.length > 0) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tallowedRecipies = await marketplaceService.getRecipesByIds(recipeIDs);\n\t\t\t\t\t\tif (allowedRecipies && Array.isArray(allowedRecipies)) {\n\t\t\t\t\t\t\tif (!recipeID) {\n\t\t\t\t\t\t\t\trecipeID = allowedRecipies[0]._id;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\t\t\tsetRecipesAllowed(allowedRecipies);\n\t\t\t\t\t\t\t\tsetWizardStep(2);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tNotificationManager.error(e.message);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tawait processAndAutoFill(modalOpt, recipeID, allowedRecipies, setFields, isSubscribed);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\tmodalOpt &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"xl\">\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{modalOpt.item && modalOpt.item.deployConfiguration ? \"reConfigure Deployment\" : \"Configure Deployment\"}: {modalOpt.title}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t{wizardStep === 1 && modalOpt.item &&\n\t\t\t\t<>\n\t\t\t\t\t<Alert variant=\"secondary\" className=\"p-3\">\n\t\t\t\t\t\t<Form.Row>\n\t\t\t\t\t\t\t<Form.Label column=\"xs\" xs={3}>{t(\"soajs:buttons.Search\")}</Form.Label>\n\t\t\t\t\t\t\t<Col xs={6}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"_keywords\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tvalue={criteria._keywords}\n\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col xs={3}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\tvariant=\"dark\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tonClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t</Alert>\n\t\t\t\t\t<hr/>\n\t\t\t\t\t{recipes.map((rec, index) => (\n\t\t\t\t\t\t<Card key={index} className=\"m-1 p-1\" bg=\"light\">\n\t\t\t\t\t\t\t<Card.Body className=\"p-2\">\n\t\t\t\t\t\t\t\t{rec.name} - <span\n\t\t\t\t\t\t\t\tclassName=\"font-italic small text-danger\">[{rec.type}/{rec.subtype}]</span>\n\t\t\t\t\t\t\t\t<span className=\"float-right small\">\n\t\t\t\t\t\t\t\t\t<Badge variant=\"dark\">V {rec.v}</Badge>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tselectRecipe(rec).catch();\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(\"soajs:buttons.Select\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t))}\n\t\t\t\t\t{recipes.length > 0 &&\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\t\treload(p).catch();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t</>\n\t\t\t\t}\n\t\t\t\t{wizardStep === 2 && modalOpt.item &&\n\t\t\t\t<Form>\n\t\t\t\t\t<Alert variant=\"secondary\">\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.SelectRecipe\")}</Form.Label>\n\t\t\t\t\t\t\t{!(modalOpt.item && modalOpt.item.itemSettings && modalOpt.item.itemSettings.recipes &&\n\t\t\t\t\t\t\t\tArray.isArray(modalOpt.item.itemSettings.recipes) &&\n\t\t\t\t\t\t\t\tmodalOpt.item.itemSettings.recipes.length > 0) &&\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"pt-0 pl-1 pr-1 ml-2 float-right\"\n\t\t\t\t\t\t\t\tvariant=\"warning\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetWizardStep(1);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(\"soajs:buttons.Change\")}\n\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\tid=\"recipeId\"\n\t\t\t\t\t\t\t\tvalue={fields.recipeId}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{recipesAllowed.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t<option key={i} value={rec._id}>{rec.name}</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Alert>\n\t\t\t\t\t\n\t\t\t\t\t{fields.warning &&\n\t\t\t\t\t<Alert variant=\"danger\" className=\"small\">\n\t\t\t\t\t\t{fields.warning}\n\t\t\t\t\t</Alert>\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t<Card border=\"success\" className=\"mb-3\">\n\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\tImage Settings\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Prefix\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"image.prefix\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tdisabled={!fields.image.override}\n\t\t\t\t\t\t\t\t\tvalue={fields.image.prefix}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-info\">\n\t\t\t\t\t\t\t\t\tRecipe configuration: <b>{fields.recipe.prefix}</b>\n\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployConfiguration && fields.config.imagePrefix && fields.image.prefix !== fields.config.imagePrefix &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with configuration: <b>{fields.config.imagePrefix}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployed && fields.inspect.imagePrefix && fields.image.prefix !== fields.inspect.imagePrefix &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with deployment: <b>{fields.inspect.imagePrefix}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"image.name\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tdisabled={!fields.image.override}\n\t\t\t\t\t\t\t\t\tvalue={fields.image.name}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-info\">\n\t\t\t\t\t\t\t\t\tRecipe configuration: <b>{fields.recipe.name}</b>\n\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployConfiguration && fields.config.imageName && fields.image.name !== fields.config.imageName &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with configuration: <b>{fields.config.imageName}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployed && fields.inspect.imageName && fields.image.name !== fields.inspect.imageName &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with deployment: <b>{fields.inspect.imageName}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.tag\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"image.tag\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tdisabled={!fields.image.override}\n\t\t\t\t\t\t\t\t\tvalue={fields.image.tag}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-info\">\n\t\t\t\t\t\t\t\t\tRecipe configuration: <b>{fields.recipe.tag}</b>\n\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployConfiguration && fields.config.imageTag && fields.image.tag !== fields.config.imageTag &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with configuration: <b>{fields.config.imageTag}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployed && fields.inspect.imageTag && fields.image.tag !== fields.inspect.imageTag &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with deployment: <b>{fields.inspect.imageTag}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t{fields.image.repositoryType === \"private\" &&\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.privateRegistry\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"image.registrySecret\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.image.registrySecret}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-info\">\n\t\t\t\t\t\t\t\t\tEnter the secret name of the Private Registry from where you want to pull the image.\n\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t\t\n\t\t\t\t\t{!fields.binary && fields.branchOrTag && fields.branchOrTag.length > 0 &&\n\t\t\t\t\t<Card border=\"success\" className=\"mb-3\">\n\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\tRepository Settings\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.BranchOrTag\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"srcType\"\n\t\t\t\t\t\t\t\t\tvalue={fields.srcType}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{fields.branchOrTag.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t\t<option key={i} value={rec}>{rec}</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t{fields.srcType === \"branch\" &&\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Branch\")}</Form.Label>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"branch\"\n\t\t\t\t\t\t\t\t\tvalue={fields.branch}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.availableSrc && modalOpt.item.availableSrc.branches &&\n\t\t\t\t\t\t\t\t\tmodalOpt.item.availableSrc.branches.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t\t<option key={i} value={rec}>{rec}</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployConfiguration && fields.config.branch && fields.branch !== fields.config.branch &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with configuration: <b>{fields.config.branch}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployed && fields.inspect.branch && fields.branch !== fields.inspect.branch &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with configuration: <b>{fields.inspect.branch}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t</Form.Group>}\n\t\t\t\t\t\t\t{fields.srcType === \"branch\" &&\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>\n\t\t\t\t\t\t\t\t\t{t(\"soajs:fields.Commit\")}\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName=\"pt-0 pl-1 pr-1 ml-2\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"info\"\n\t\t\t\t\t\t\t\t\t\tonClick={get_setLastCommit}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<GoSync/>\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"commit\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.commit}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployConfiguration && fields.config.commit && fields.commit !== fields.config.commit &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with configuration: <b>{fields.config.commit}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployed && fields.inspect.commit && fields.commit !== fields.inspect.commit &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with deployment: <b>{fields.inspect.commit}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t</Form.Group>}\n\t\t\t\t\t\t\t{fields.srcType === \"tag\" &&\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Tag\")}</Form.Label>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"tag\"\n\t\t\t\t\t\t\t\t\tvalue={fields.tag}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.availableSrc && modalOpt.item.availableSrc.tags &&\n\t\t\t\t\t\t\t\t\tmodalOpt.item.availableSrc.tags.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t\t<option key={i} value={rec}>{rec}</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployConfiguration && fields.config.tag && fields.tag !== fields.config.tag &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with configuration: <b>{fields.config.tag}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployed && fields.inspect.tag && fields.tag !== fields.inspect.tag &&\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-danger\">\n\t\t\t\t\t\t\t\t\tMismatch with deployment: <b>{fields.inspect.tag}</b>\n\t\t\t\t\t\t\t\t</Form.Text>}\n\t\t\t\t\t\t\t</Form.Group>}\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t<Card border=\"primary\" className=\"mb-3\">\n\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\tDeployment Settings\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.CDStrategy\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"cd.strategy\"\n\t\t\t\t\t\t\t\t\tvalue={fields.cd.strategy}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"notify\">Notify</option>\n\t\t\t\t\t\t\t\t\t<option value=\"update\">Update</option>\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Memory\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"settings.memory\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.settings.memory}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\tSpecify the Maximum memory limit that should be provided for this deployment.\n\t\t\t\t\t\t\t\t\tExample: You can set it to 1024Mi or 1Gi. <a\n\t\t\t\t\t\t\t\t\thref=\"https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#meaning-of-memory%22\">Click\n\t\t\t\t\t\t\t\t\there</a> for more information. You can use 0 if you want the memory limits\n\t\t\t\t\t\t\t\t\t(minimum and maximum) to be elastic.\n\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.DeploymentType\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"settings.mode\"\n\t\t\t\t\t\t\t\t\tvalue={fields.settings.mode}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"Deployment\">Deployment</option>\n\t\t\t\t\t\t\t\t\t<option value=\"DaemonSet\">DaemonSet</option>\n\t\t\t\t\t\t\t\t\t<option value=\"CronJob\">CronJob</option>\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t{fields.settings.mode === \"CronJob\" &&\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Schedule\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"settings.schedule\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tvalue={fields.settings.schedule}\n\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\tA CronJob takes a <a href=\"https://en.wikipedia.org/wiki/Cron\">Cron</a> format\n\t\t\t\t\t\t\t\t\t\tstring, such as 0 * * * * or @hourly, as schedule time of its jobs to be created\n\t\t\t\t\t\t\t\t\t\tand executed.\n\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.ConcurrencyPolicy\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\tid=\"settings.concurrencyPolicy\"\n\t\t\t\t\t\t\t\t\t\tvalue={fields.settings.concurrencyPolicy}\n\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value=\"Allow\">Allow</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"Forbid\">Forbid</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"Replace\">Replace</option>\n\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.RestartPolicy\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\tid=\"settings.restartPolicy\"\n\t\t\t\t\t\t\t\t\t\tvalue={fields.settings.restartPolicy}\n\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value=\"OnFailure\">OnFailure</option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"Never\">Never</option>\n\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{(fields.settings.mode === \"Deployment\") &&\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Replicas\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tid=\"settings.replicas\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\t\t\t\tvalue={fields.settings.replicas}\n\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t\t\n\t\t\t\t\t{fields.ports.ports && fields.ports.ports.length > 0 &&\n\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t<Card border=\"secondary\" className=\"mb-3\">\n\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\tPorts\n\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0 small\">\n\t\t\t\t\t\t\t\t\t{fields.showPortType &&\n\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.PortType\")}</Form.Label>\n\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"ports.portType\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={fields.ports.portType}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"LoadBalancer\">LoadBalancer</option>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"NodePort\">NodePort</option>\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"Internal\">Internal</option>\n\t\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\t</Form.Group>}\n\t\t\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t\t\t{fields.ports.ports.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t\t<Alert key={i} className=\"p-2\" variant={rec.isPublished ? \"info\" : \"secondary\"}>\n\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{rec.name} <Badge className=\"ml-3 mr-3\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t                  variant=\"secondary\">{rec.target}</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{rec.isPublished && fields.ports.portType === \"NodePort\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={i + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype={\"number\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rec.published}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldPortChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</Accordion>}\n\t\t\t\t\t\n\t\t\t\t\t{fields.env &&\n\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t<Card border=\"secondary\" className=\"mb-3\">\n\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\tEnvironment Variables\n\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0 small\">\n\t\t\t\t\t\t\t\t\t{fields.env && Object.keys(fields.env).map((rec, i) => (\n\t\t\t\t\t\t\t\t\t\t<Alert key={i} className=\"p-2\"\n\t\t\t\t\t\t\t\t\t\t       variant={fields.env[rec].type === \"userInput\" ? \"info\" : \"secondary\"}>\n\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{rec} <Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ml-3 mr-3\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant={fields.env[rec].type === \"userInput\" ? \"success\" :\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields.env[rec].type === \"computed\" ? \"secondary\" : \"info\"}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{fields.env[rec].type}</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{fields.env[rec].type !== \"userInput\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>{fields.env[rec].value}</>}\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t{fields.env[rec].type === \"userInput\" &&\n\t\t\t\t\t\t\t\t\t\t\t<Row className=\"mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={\"env.\" + rec + \".value\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={fields.env[rec].value || fields.env[rec].default}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>{fields.env[rec].label}: </b>{fields.env[rec].fieldMsg}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t{fields.env[rec].type === \"secret\" &&\n\t\t\t\t\t\t\t\t\t\t\t<Row className=\"mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={\"env.\" + rec + \".secret\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={fields.env[rec].secret}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\"Secret name\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={\"env.\" + rec + \".key\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={fields.env[rec].key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\"Secret label\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</Accordion>\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t<Card border=\"warning\" className=\"mb-3\">\n\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\tReadiness Information\n\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t<Row style={{\"height\": \"250px\"}}>\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\t\t\t\tmodes={[\"code\", \"tree\"]}\n\t\t\t\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\t\t\t\tjson={_json_readiness || fields.readinessProbe || null}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={readiness_onChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col xs={4} className=\"small\">\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<Alert variant=\"dark\" className=\"m-0 pb-0 pt-1\"><h6>Example</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t\t<Alert variant=\"info\" className=\"m-0 pb-0 pt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<pre className=\"small, text-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{JSON.stringify(_examples.readinessProbe, null, 2)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</Accordion>\n\t\t\t\t\t\n\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t<Card border=\"warning\" className=\"mb-3\">\n\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-0\">\n\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\tLiveness Information\n\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t<Row style={{\"height\": \"250px\"}}>\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\t\t\t\t\t\tmode=\"code\"\n\t\t\t\t\t\t\t\t\t\t\t\tmodes={[\"code\", \"tree\"]}\n\t\t\t\t\t\t\t\t\t\t\t\tjson={_json_liveness || fields.livenessProbe || null}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={liveness_onChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col xs={4} className=\"small\">\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<Alert variant=\"dark\" className=\"m-0 pb-0 pt-1\"><h6>Example</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t\t<Alert variant=\"info\" className=\"m-0 pb-0 pt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<pre className=\"small, text-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{JSON.stringify(_examples.livenessProbe, null, 2)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</Accordion>\n\t\t\t\t\n\t\t\t\t</Form>\n\t\t\t\t}\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t{wizardStep === 2 && modalOpt.item &&\n\t\t\t\t<>\n\t\t\t\t\t<Button variant=\"success\" onClick={save}>\n\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployConfiguration ? t(\"soajs:buttons.Update\") : t(\"soajs:buttons.Save\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t\n\t\t\t\t\t{ability.can('market_item', 'build') &&\n\t\t\t\t\t<Button variant=\"dark\" onClick={saveAndDeploy}>\n\t\t\t\t\t\t{modalOpt.item && modalOpt.item.deployConfiguration ? t(\"soajs:buttons.Update\") : t(\"soajs:buttons.Save\")} & {modalOpt.item && modalOpt.item.deployed ? t(\"soajs:buttons.reDeploy\") : t(\"soajs:buttons.Deploy\")}\n\t\t\t\t\t</Button>}\n\t\t\t\t</>\n\t\t\t\t}\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Close\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Dropdown, DropdownButton} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport DeleteModal from \"./modal/DeleteModal\";\nimport RedeployModal from \"./modal/RedeployModal\";\nimport ConfigureModal from \"./modal/ConfigureModal\";\n\nimport {useAppContext} from \"../../../../../soajs/libs/contextLib\";\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../../services\";\n\nconst infraService = InfraService.getService();\n\nexport default function ServiceOperation({\n\t                                         version,\n\t                                         env,\n\t                                         itemName,\n\t                                         itemType,\n\t                                         itemSettings,\n\t                                         itemSrc,\n\t                                         deployed,\n\t                                         reload,\n\t                                         name,\n\t                                         kind,\n\t                                         active,\n\t                                         deployConfiguration,\n\t                                         inspect\n                                         }) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst {ability} = useAppContext();\n\t\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, \"item\": null});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, \"item\": item});\n\t\n\tconst [modalRedeployOpt, setModalRedeployOpt] = useState({\"show\": false, \"item\": null, \"title\": \"\"});\n\tconst modalRedeployOptShow = (item) => setModalRedeployOpt({\"show\": true, \"item\": item, \"title\": item.name});\n\t\n\tconst [modalDeployOpt, setModalDeployOpt] = useState({\"show\": false, \"item\": null, \"title\": \"\"});\n\tconst modalDeployOptShow = (item) => setModalDeployOpt({\"show\": true, \"item\": item, \"title\": item.name});\n\t\n\tasync function deleteItem(what) {\n\t\tif (kind && name && what === \"deploy\") {\n\t\t\ttry {\n\t\t\t\tif (active) {\n\t\t\t\t\tawait infraService.deleteItem(env, {\"name\": name, \"mode\": kind});\n\t\t\t\t\tNotificationManager.success(t(\"soajs:messages.deleteItem\"));\n\t\t\t\t\treload();\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\tif (kind && name && what === \"deploy_keepservice\") {\n\t\t\ttry {\n\t\t\t\tif (active) {\n\t\t\t\t\tawait infraService.deleteItem(env, {\"name\": name, \"mode\": kind, \"keepService\": true});\n\t\t\t\t\tNotificationManager.success(t(\"soajs:messages.deleteItem\"));\n\t\t\t\t\treload();\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\tif (what === \"config\") {\n\t\t\t// let data = {\n\t\t\t// \t\"type\": itemType,\n\t\t\t// \t\"name\": itemName,\n\t\t\t// \t\"env\": env\n\t\t\t// }\n\t\t\t// delete config\n\t\t}\n\t}\n\t\n\tasync function restart() {\n\t\tif (kind && name) {\n\t\t\ttry {\n\t\t\t\tif (active) {\n\t\t\t\t\tawait infraService.restart(env, {\"name\": name, \"mode\": kind});\n\t\t\t\t\tNotificationManager.success(t(\"soajs:messages.restartItem\"));\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<>\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\thandleAction={deleteItem}\n\t\t\t/>\n\t\t\t<RedeployModal\n\t\t\t\tmodalOpt={modalRedeployOpt}\n\t\t\t\tsetModalOpt={setModalRedeployOpt}\n\t\t\t\thandleAction={reload}\n\t\t\t/>\n\t\t\t<ConfigureModal\n\t\t\t\tmodalOpt={modalDeployOpt}\n\t\t\t\tsetModalOpt={setModalDeployOpt}\n\t\t\t\thandleAction={reload}\n\t\t\t/>\n\t\t\t<DropdownButton\n\t\t\t\tsize=\"sm\"\n\t\t\t\tid=\"dropdown-item-button\"\n\t\t\t\ttitle=\"Service Operations\"\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tclassName=\"float-left small\">\n\t\t\t\t{deployed &&\n\t\t\t\t<>\n\t\t\t\t\t\n\t\t\t\t\t{ability.can('market_item', 'configure') &&\n\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tmodalDeployOptShow({\n\t\t\t\t\t\t\t\t\"deployed\": deployed,\n\t\t\t\t\t\t\t\t\"itemSettings\": itemSettings,\n\t\t\t\t\t\t\t\t\"name\": itemName,\n\t\t\t\t\t\t\t\t\"type\": itemType,\n\t\t\t\t\t\t\t\t\"itemSrc\": itemSrc,\n\t\t\t\t\t\t\t\t\"availableSrc\": {\"branches\": version.branches || null, \"tags\": version.tags || null},\n\t\t\t\t\t\t\t\t\"deployConfiguration\": deployConfiguration || null,\n\t\t\t\t\t\t\t\t\"version\": version.version,\n\t\t\t\t\t\t\t\t\"env\": env,\n\t\t\t\t\t\t\t\t\"inspect\": inspect || null,\n\t\t\t\t\t\t\t\t\"kind\": kind\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<small>Configure</small>\n\t\t\t\t\t</Dropdown.Item>}\n\t\t\t\t\t\n\t\t\t\t\t{ability.can('market_item', 'redeploy') &&\n\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tmodalRedeployOptShow({\n\t\t\t\t\t\t\t\t\"name\": itemName,\n\t\t\t\t\t\t\t\t\"type\": itemType,\n\t\t\t\t\t\t\t\t\"itemSrc\": itemSrc,\n\t\t\t\t\t\t\t\t\"availableSrc\": {\"branches\": version.branches || null, \"tags\": version.tags || null},\n\t\t\t\t\t\t\t\t\"deployConfiguration\": deployConfiguration || null,\n\t\t\t\t\t\t\t\t\"version\": version.version,\n\t\t\t\t\t\t\t\t\"env\": env,\n\t\t\t\t\t\t\t\t\"inspect\": inspect || null,\n\t\t\t\t\t\t\t\t\"kind\": kind\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<small>Redeploy</small>\n\t\t\t\t\t</Dropdown.Item>}\n\t\t\t\t\t\n\t\t\t\t\t{ability.can('infra_item', 'restart') &&\n\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\trestart().catch();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<small>Restart</small>\n\t\t\t\t\t</Dropdown.Item>}\n\t\t\t\t\t\n\t\t\t\t\t<Dropdown.Divider className=\"m-0\"/>\n\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\treload();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<small>Refresh</small>\n\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\n\t\t\t\t\t<Dropdown.Divider className=\"m-0\"/>\n\t\t\t\t\t\n\t\t\t\t\t{/*{deployConfiguration && ability.can('market_item_configure', 'delete') &&*/}\n\t\t\t\t\t{/*<Dropdown.Item*/}\n\t\t\t\t\t{/*\tonClick={() => {*/}\n\t\t\t\t\t{/*\t\tmodalDeleteOptShow({*/}\n\t\t\t\t\t{/*\t\t\t\"title\": itemName + \" v\" + version.version + \" configuration\", \"what\": \"config\"*/}\n\t\t\t\t\t{/*\t\t});*/}\n\t\t\t\t\t{/*\t}}*/}\n\t\t\t\t\t{/*>*/}\n\t\t\t\t\t{/*\t<small>Delete Configuration</small>*/}\n\t\t\t\t\t{/*</Dropdown.Item>*/}\n\t\t\t\t\t{/*}*/}\n\t\t\t\t\t\n\t\t\t\t\t{ability.can('infra_item', 'delete') &&\n\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\"title\": itemName + \" v\" + version.version,\n\t\t\t\t\t\t\t\t\"what\": \"deploy_keepservice\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<small>Delete Deployment - without service</small>\n\t\t\t\t\t</Dropdown.Item>}\n\t\t\t\t\t{ability.can('infra_item', 'delete') &&\n\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tmodalDeleteOptShow({\"title\": itemName + \" v\" + version.version, \"what\": \"deploy\"});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<small>Delete Deployment - everything</small>\n\t\t\t\t\t</Dropdown.Item>}\n\t\t\t\t</>\n\t\t\t\t}\n\t\t\t\t{!deployed &&\n\t\t\t\t<>\n\t\t\t\t\t{ability.can('market_item', 'configure') &&\n\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tmodalDeployOptShow({\n\t\t\t\t\t\t\t\t\"deployed\": deployed,\n\t\t\t\t\t\t\t\t\"itemSettings\": itemSettings,\n\t\t\t\t\t\t\t\t\"name\": itemName,\n\t\t\t\t\t\t\t\t\"type\": itemType,\n\t\t\t\t\t\t\t\t\"itemSrc\": itemSrc,\n\t\t\t\t\t\t\t\t\"availableSrc\": {\"branches\": version.branches || null, \"tags\": version.tags || null},\n\t\t\t\t\t\t\t\t\"deployConfiguration\": deployConfiguration || null,\n\t\t\t\t\t\t\t\t\"version\": version.version,\n\t\t\t\t\t\t\t\t\"env\": env,\n\t\t\t\t\t\t\t\t\"inspect\": inspect || null,\n\t\t\t\t\t\t\t\t\"kind\": kind\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<small>Configure</small>\n\t\t\t\t\t</Dropdown.Item>}\n\t\t\t\t\t\n\t\t\t\t\t<Dropdown.Divider className=\"m-0\"/>\n\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\treload();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<small>Refresh</small>\n\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\n\t\t\t\t\t{/*<Dropdown.Divider className=\"m-0\"/>*/}\n\t\t\t\t\t{/**/}\n\t\t\t\t\t{/*{deployConfiguration && ability.can('market_item_configure', 'delete') &&*/}\n\t\t\t\t\t{/*<Dropdown.Item*/}\n\t\t\t\t\t{/*\tonClick={() => {*/}\n\t\t\t\t\t{/*\t\tmodalDeleteOptShow({*/}\n\t\t\t\t\t{/*\t\t\t\"title\": itemName + \" v\" + version.version + \" configuration\", \"what\": \"config\"*/}\n\t\t\t\t\t{/*\t\t});*/}\n\t\t\t\t\t{/*\t}}*/}\n\t\t\t\t\t{/*>*/}\n\t\t\t\t\t{/*\t<small>Delete Configuration</small>*/}\n\t\t\t\t\t{/*</Dropdown.Item>*/}\n\t\t\t\t\t{/*}*/}\n\t\t\t\t</>\n\t\t\t\t}\n\t\t\t</DropdownButton>\n\t\t</>\n\t);\n}","import {Col, Row} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\n\nimport MaintenanceOperation from \"./MaintenanceOperation\";\nimport ServiceOperation from \"./ServiceOperation\";\n\nimport Services from \"./container/Services\";\nimport Deployments from \"./container/Deployments\";\nimport Cronjobs from \"./container/Cronjobs\";\nimport Daemonsets from \"./container/Daemonsets\";\nimport Hpas from \"./container/Hpas\";\nimport Pods from \"./container/Pods\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {InfraService} from \"../../../../../services\";\n\nconst infraService = InfraService.getService();\n\nasync function onLoad(env, itemName, setInspect, setDeployed, active, version, setKind, setName, isSubscribed) {\n\ttry {\n\t\tif (active) {\n\t\t\tlet response = await infraService.inspect(env, {\"name\": itemName, \"version\": version.version});\n\t\t\tif (isSubscribed && response) {\n\t\t\t\tsetInspect(response);\n\t\t\t\t\n\t\t\t\tif (response.cronjobs && response.cronjobs.items && response.cronjobs.items.length > 0) {\n\t\t\t\t\tsetKind(\"CronJob\");\n\t\t\t\t\tsetName(response.cronjobs.items[0].metadata.name);\n\t\t\t\t\tsetDeployed(true)\n\t\t\t\t} else if (response.daemonsets && response.daemonsets.items && response.daemonsets.items.length > 0) {\n\t\t\t\t\tsetKind(\"DaemonSet\");\n\t\t\t\t\tsetName(response.daemonsets.items[0].metadata.name);\n\t\t\t\t\tsetDeployed(true)\n\t\t\t\t} else if (response.deployments && response.deployments.items && response.deployments.items.length > 0) {\n\t\t\t\t\tsetKind(\"Deployment\");\n\t\t\t\t\tsetName(response.deployments.items[0].metadata.name);\n\t\t\t\t\tsetDeployed(true)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// let count = 0;\n\t\t\t\t// Object.keys(response).map((rec, i) => {\n\t\t\t\t// \tconsole.log(rec)\n\t\t\t\t// \tcount = count + response[rec].items.length;\n\t\t\t\t// \treturn true;\n\t\t\t\t// });\n\t\t\t\t// if (count > 0) {\n\t\t\t\t// \tsetDeployed(true)\n\t\t\t\t// }\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function ContainerDetails(\n\t{\n\t\treloadItem,\n\t\tversion,\n\t\titemName,\n\t\titemType,\n\t\titemSettings,\n\t\titemSrc,\n\t\tenv,\n\t\tactive,\n\t\tdeactivate,\n\t\tdeployConfiguration\n\t}) {\n\tconst [inspect, setInspect] = useState(null);\n\tconst [inspected, setInspected] = useState({\n\t\t\"env\": \"\", \"itemName\": \"\", \"version\": \"\", \"active\": \"\"\n\t});\n\tconst [deployed, setDeployed] = useState(false);\n\tconst [kind, setKind] = useState(null);\n\tconst [name, setName] = useState(null);\n\t\n\tasync function reload() {\n\t\treloadItem();\n\t\t//await onLoad(env, itemName, setInspect, setDeployed, active, version, setKind, setName, true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed) {\n\t\t\tsetInspected(p => {\n\t\t\t\tif (p.itemName === itemName) {\n\t\t\t\t\tonLoad(env, itemName, setInspect, setDeployed, active, version, setKind, setName, isSubscribed).catch();\n\t\t\t\t} else {\n\t\t\t\t\tif (active) {\n\t\t\t\t\t\tdeactivate();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn {\"env\": env, \"itemName\": itemName, \"version\": version.version, \"active\": active};\n\t\t\t});\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [env, itemName, version, active, deactivate]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<hr/>\n\t\t\t<Row>\n\t\t\t\t<Col>\n\t\t\t\t\t<ServiceOperation\n\t\t\t\t\t\tversion={version}\n\t\t\t\t\t\tenv={env}\n\t\t\t\t\t\titemName={itemName}\n\t\t\t\t\t\titemType={itemType}\n\t\t\t\t\t\titemSettings={itemSettings}\n\t\t\t\t\t\titemSrc={itemSrc}\n\t\t\t\t\t\tdeployed={deployed}\n\t\t\t\t\t\tname={name}\n\t\t\t\t\t\tkind={kind}\n\t\t\t\t\t\treload={reload}\n\t\t\t\t\t\tactive={active}\n\t\t\t\t\t\tdeployConfiguration={deployConfiguration}\n\t\t\t\t\t\tinspect={inspect}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t\t<Col xs=\"auto\">\n\t\t\t\t\t{inspect && deployed &&\n\t\t\t\t\t<MaintenanceOperation\n\t\t\t\t\t\tversion={version}\n\t\t\t\t\t\tenv={env}\n\t\t\t\t\t\titemName={itemName}\n\t\t\t\t\t\titemType={itemType}\n\t\t\t\t\t/>}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<hr/>\n\t\t\t{inspect && inspect.services && inspect.services.items && inspect.services.items.length > 0 &&\n\t\t\t<Services\n\t\t\t\titems={inspect.services.items}\n\t\t\t/>\n\t\t\t}\n\t\t\t{inspect && inspect.cronjobs && inspect.cronjobs.items && inspect.cronjobs.items.length > 0 &&\n\t\t\t<Cronjobs\n\t\t\t\titems={inspect.cronjobs.items}\n\t\t\t/>\n\t\t\t}\n\t\t\t{inspect && inspect.daemonsets && inspect.daemonsets.items && inspect.daemonsets.items.length > 0 &&\n\t\t\t<Daemonsets\n\t\t\t\titems={inspect.daemonsets.items}\n\t\t\t/>\n\t\t\t}\n\t\t\t{inspect && inspect.deployments && inspect.deployments.items && inspect.deployments.items.length > 0 &&\n\t\t\t<Deployments\n\t\t\t\titems={inspect.deployments.items}\n\t\t\t/>\n\t\t\t}\n\t\t\t{inspect && inspect.hpas && inspect.hpas.items && inspect.hpas.items.length > 0 &&\n\t\t\t<Hpas\n\t\t\t\titems={inspect.hpas.items}\n\t\t\t/>\n\t\t\t}\n\t\t\t{inspect && inspect.pods && inspect.pods.items && inspect.pods.items.length > 0 &&\n\t\t\t<Pods\n\t\t\t\titems={inspect.pods.items}\n\t\t\t\tenv={env}\n\t\t\t/>\n\t\t\t}\n\t\t</>\n\t);\n}","import React, {useEffect, useState} from \"react\";\n\nimport Template from \"../../Template/Template\";\nimport {InfraService} from \"../../../../../../services\";\nimport {NotificationManager} from \"../../../../../../soajs/urac/components\";\n\nimport ManualHeader from \"../../common/ManualHeader\"\nimport ManualDetails from \"../../common/ManualDetails\"\nimport ContainerDetails from \"../../common/ContainerDetails\"\n\nconst infraService = InfraService.getService();\n\nfunction getDeployConfiguration(deployment, v, env) {\n\tif (deployment && deployment[env]) {\n\t\tfor (let i = 0; i < deployment[env].length; i++) {\n\t\t\tif (deployment[env][i].version === v) {\n\t\t\t\treturn deployment[env][i];\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n}\n\nexport default function SoajsApi({environment}) {\n\t\n\tconst [manualAwareness, setManualAwareness] = useState({});\n\t\n\tfunction Header({item}) {\n\t\t\n\t\treturn (\n\t\t\tenvironment.deployer && environment.deployer.type === \"manual\" &&\n\t\t\t<ManualHeader\n\t\t\t\tmanualAwareness={manualAwareness}\n\t\t\t\titem={item}\n\t\t\t/>\n\t\t);\n\t}\n\t\n\tfunction Details({version, item, active, deactivate, reloadItem}) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{environment.deployer && environment.deployer.type === \"manual\" &&\n\t\t\t\t<ManualDetails\n\t\t\t\t\tmanualAwareness={manualAwareness[item.name]}\n\t\t\t\t\tversion={version}\n\t\t\t\t\titemName={item.name}\n\t\t\t\t\titemType={item.type}\n\t\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\t/>}\n\t\t\t\t{environment.deployer && environment.deployer.type === \"container\" &&\n\t\t\t\t<ContainerDetails\n\t\t\t\t\treloadItem={reloadItem}\n\t\t\t\t\tversion={version}\n\t\t\t\t\titemName={item.name}\n\t\t\t\t\titemType={item.type}\n\t\t\t\t\titemSettings={item.settings || null}\n\t\t\t\t\titemSrc={item.src || null}\n\t\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tdeactivate={deactivate}\n\t\t\t\t\tdeployConfiguration={getDeployConfiguration(item.deploy, version.version, environment.code.toLowerCase())}\n\t\t\t\t/>}\n\t\t\t</>\n\t\t);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (environment && environment.deployer && environment.deployer.type === \"manual\") {\n\t\t\t\t\tlet response = await infraService.getManualAwareness(environment.code.toLowerCase());\n\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\tsetManualAwareness(response);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\tenvironment &&\n\t\t<Template\n\t\t\ttype={\"service\"}\n\t\t\tsubType={\"soajs\"}\n\t\t\tChildren={Details}\n\t\t\tHeader={Header}\n\t\t/>\n\t);\n}","import {Alert} from \"react-bootstrap\";\nimport React from \"react\";\nimport Template from \"../../Template/Template\";\nimport ContainerDetails from \"../../common/ContainerDetails\";\n\nfunction getDeployConfiguration(deployment, v, env) {\n\tif (deployment && deployment[env]) {\n\t\tfor (let i = 0; i < deployment[env].length; i++) {\n\t\t\tif (deployment[env][i].version === v) {\n\t\t\t\treturn deployment[env][i];\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n}\n\nexport default function SoajsFrontend({environment}) {\n\tfunction Details({version, item, active, deactivate, reloadItem}) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{environment.deployer && environment.deployer.type === \"container\" &&\n\t\t\t\t<ContainerDetails\n\t\t\t\t\treloadItem={reloadItem}\n\t\t\t\t\tversion={version}\n\t\t\t\t\titemName={item.name}\n\t\t\t\t\titemType={item.type}\n\t\t\t\t\titemSettings={item.settings || null}\n\t\t\t\t\titemSrc={item.src || null}\n\t\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tdeactivate={deactivate}\n\t\t\t\t\tdeployConfiguration={getDeployConfiguration(item.deploy, version.version, environment.code.toLowerCase())}\n\t\t\t\t/>}\n\t\t\t</>\n\t\t);\n\t}\n\t\n\treturn (\n\t\tenvironment &&\n\t\t<>\n\t\t\t{environment.deployer && environment.deployer.type === \"container\" ? (\n\t\t\t\t<Template\n\t\t\t\t\ttype={\"static\"}\n\t\t\t\t\tsubType={\"soajs\"}\n\t\t\t\t\tChildren={Details}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Alert variant=\"info\" className=\"mt-4 mb-4\">\n\t\t\t\t\tThis environment is of type <span className=\"text-success\">manual</span>, <span\n\t\t\t\t\tclassName=\"font-weight-bold\">SOAJS Frontend Catalog</span> is only available\n\t\t\t\t\tfor environments of type <span className=\"text-info\">container</span>\n\t\t\t\t</Alert>\n\t\t\t)}\n\t\t</>\n\t);\n}","import React, {useEffect, useState} from \"react\";\n\nimport Template from \"../Template/Template\";\nimport {InfraService} from \"../../../../../services\";\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\n\nimport ManualHeader from \"../common/ManualHeader\"\nimport ManualDetails from \"../common/ManualDetails\"\nimport ContainerDetails from \"../common/ContainerDetails\"\n\nconst infraService = InfraService.getService();\n\nfunction getDeployConfiguration(deployment, v, env) {\n\tif (deployment && deployment[env]) {\n\t\tfor (let i = 0; i < deployment[env].length; i++) {\n\t\t\tif (deployment[env][i].version === v) {\n\t\t\t\treturn deployment[env][i];\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n}\n\nexport default function Api({environment}) {\n\t\n\tconst [manualAwareness, setManualAwareness] = useState({});\n\t\n\tfunction Header({item}) {\n\t\t\n\t\treturn (\n\t\t\tenvironment.deployer && environment.deployer.type === \"manual\" &&\n\t\t\t<ManualHeader\n\t\t\t\tmanualAwareness={manualAwareness}\n\t\t\t\titem={item}\n\t\t\t/>\n\t\t);\n\t}\n\t\n\tfunction Details({version, item, active, deactivate, reloadItem}) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{environment.deployer && environment.deployer.type === \"manual\" &&\n\t\t\t\t<ManualDetails\n\t\t\t\t\tmanualAwareness={manualAwareness[item.name]}\n\t\t\t\t\tversion={version}\n\t\t\t\t\titemName={item.name}\n\t\t\t\t\titemType={item.type}\n\t\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\t/>}\n\t\t\t\t{environment.deployer && environment.deployer.type === \"container\" &&\n\t\t\t\t<ContainerDetails\n\t\t\t\t\treloadItem={reloadItem}\n\t\t\t\t\tversion={version}\n\t\t\t\t\titemName={item.name}\n\t\t\t\t\titemType={item.type}\n\t\t\t\t\titemSettings={item.settings || null}\n\t\t\t\t\titemSrc={item.src || null}\n\t\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tdeactivate={deactivate}\n\t\t\t\t\tdeployConfiguration={getDeployConfiguration(item.deploy, version.version, environment.code.toLowerCase())}\n\t\t\t\t/>}\n\t\t\t</>\n\t\t);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (environment && environment.deployer && environment.deployer.type === \"manual\") {\n\t\t\t\t\tlet response = await infraService.getManualAwareness(environment.code.toLowerCase());\n\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\tsetManualAwareness(response);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [environment]);\n\t\n\treturn (\n\t\tenvironment &&\n\t\t<Template\n\t\t\ttype={\"service\"}\n\t\t\tChildren={Details}\n\t\t\tHeader={Header}\n\t\t/>\n\t);\n}","import React from \"react\";\nimport Template from \"../Template/Template\";\nimport {Alert} from \"react-bootstrap\";\nimport ContainerDetails from \"../common/ContainerDetails\";\n\nfunction getDeployConfiguration(deployment, v, env) {\n\tif (deployment && deployment[env]) {\n\t\tfor (let i = 0; i < deployment[env].length; i++) {\n\t\t\tif (deployment[env][i].version === v) {\n\t\t\t\treturn deployment[env][i];\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n}\n\nexport default function Daemon({environment}) {\n\tfunction Details({version, item, active, deactivate, reloadItem}) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{environment.deployer && environment.deployer.type === \"container\" &&\n\t\t\t\t<ContainerDetails\n\t\t\t\t\treloadItem={reloadItem}\n\t\t\t\t\tversion={version}\n\t\t\t\t\titemName={item.name}\n\t\t\t\t\titemType={item.type}\n\t\t\t\t\titemSettings={item.settings || null}\n\t\t\t\t\titemSrc={item.src || null}\n\t\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tdeactivate={deactivate}\n\t\t\t\t\tdeployConfiguration={getDeployConfiguration(item.deploy, version.version, environment.code.toLowerCase())}\n\t\t\t\t/>}\n\t\t\t</>\n\t\t);\n\t}\n\t\n\treturn (\n\t\tenvironment &&\n\t\t<>\n\t\t\t{environment.deployer && environment.deployer.type === \"container\" ? (\n\t\t\t\t<Template\n\t\t\t\t\ttype={\"daemon\"}\n\t\t\t\t\tChildren={Details}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Alert variant=\"info\" className=\"mt-4 mb-4\">\n\t\t\t\t\tThis environment is of type <span className=\"text-success\">manual</span>, <span\n\t\t\t\t\tclassName=\"font-weight-bold\">Daemon Catalog</span> is only available\n\t\t\t\t\tfor environments of type <span className=\"text-info\">container</span>\n\t\t\t\t</Alert>\n\t\t\t)}\n\t\t</>\n\t);\n}","import {Alert} from \"react-bootstrap\";\nimport React from \"react\";\nimport Template from \"../Template/Template\";\nimport ContainerDetails from \"../common/ContainerDetails\";\n\nfunction getDeployConfiguration(deployment, v, env) {\n\tif (deployment && deployment[env]) {\n\t\tfor (let i = 0; i < deployment[env].length; i++) {\n\t\t\tif (deployment[env][i].version === v) {\n\t\t\t\treturn deployment[env][i];\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n}\n\nexport default function Frontend({environment}) {\n\tfunction Details({version, item, active, deactivate, reloadItem}) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{environment.deployer && environment.deployer.type === \"container\" &&\n\t\t\t\t<ContainerDetails\n\t\t\t\t\treloadItem={reloadItem}\n\t\t\t\t\tversion={version}\n\t\t\t\t\titemName={item.name}\n\t\t\t\t\titemType={item.type}\n\t\t\t\t\titemSettings={item.settings || null}\n\t\t\t\t\titemSrc={item.src || null}\n\t\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tdeactivate={deactivate}\n\t\t\t\t\tdeployConfiguration={getDeployConfiguration(item.deploy, version.version, environment.code.toLowerCase())}\n\t\t\t\t/>}\n\t\t\t</>\n\t\t);\n\t}\n\t\n\treturn (\n\t\tenvironment &&\n\t\t<>\n\t\t\t{environment.deployer && environment.deployer.type === \"container\" ? (\n\t\t\t\t<Template\n\t\t\t\t\ttype={\"static\"}\n\t\t\t\t\tChildren={Details}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Alert variant=\"info\" className=\"mt-4 mb-4\">\n\t\t\t\t\tThis environment is of type <span className=\"text-success\">manual</span>, <span\n\t\t\t\t\tclassName=\"font-weight-bold\">Frontend Catalog</span> is only available\n\t\t\t\t\tfor environments of type <span className=\"text-info\">container</span>\n\t\t\t\t</Alert>\n\t\t\t)}\n\t\t</>\n\t);\n}","import {Alert} from \"react-bootstrap\";\nimport React from \"react\";\nimport Template from \"../Template/Template\";\nimport ContainerDetails from \"../common/ContainerDetails\";\n\nfunction getDeployConfiguration(deployment, v, env) {\n\tif (deployment && deployment[env]) {\n\t\tfor (let i = 0; i < deployment[env].length; i++) {\n\t\t\tif (deployment[env][i].version === v) {\n\t\t\t\treturn deployment[env][i];\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n}\n\nexport default function Custom({environment}) {\n\t\n\tfunction Details({version, item, active, deactivate, reloadItem}) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{environment.deployer && environment.deployer.type === \"container\" &&\n\t\t\t\t<ContainerDetails\n\t\t\t\t\treloadItem={reloadItem}\n\t\t\t\t\tversion={version}\n\t\t\t\t\titemName={item.name}\n\t\t\t\t\titemType={item.type}\n\t\t\t\t\titemSettings={item.settings || null}\n\t\t\t\t\titemSrc={item.src || null}\n\t\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tdeactivate={deactivate}\n\t\t\t\t\tdeployConfiguration={getDeployConfiguration(item.deploy, version.version, environment.code.toLowerCase())}\n\t\t\t\t/>}\n\t\t\t</>\n\t\t);\n\t}\n\t\n\treturn (\n\t\tenvironment &&\n\t\t<>\n\t\t\t{environment.deployer && environment.deployer.type === \"container\" ? (\n\t\t\t\t<Template\n\t\t\t\t\ttype={\"custom\"}\n\t\t\t\t\tChildren={Details}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Alert variant=\"info\" className=\"mt-4 mb-4\">\n\t\t\t\t\tThis environment is of type <span className=\"text-success\">manual</span>, <span\n\t\t\t\t\tclassName=\"font-weight-bold\">Custom Catalog</span> is only available for environments of type <span\n\t\t\t\t\tclassName=\"text-info\">container</span>\n\t\t\t\t</Alert>\n\t\t\t)}\n\t\t</>\n\t);\n}","import {Alert} from \"react-bootstrap\";\nimport React from \"react\";\nimport Template from \"../Template/Template\";\nimport ContainerDetails from \"../common/ContainerDetails\";\n\nfunction getDeployConfiguration(deployment, v, env) {\n\tif (deployment && deployment[env]) {\n\t\tfor (let i = 0; i < deployment[env].length; i++) {\n\t\t\tif (deployment[env][i].version === v) {\n\t\t\t\treturn deployment[env][i];\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n}\n\nexport default function Resource({environment}) {\n\tfunction Details({version, item, active, deactivate, reloadItem}) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{environment.deployer && environment.deployer.type === \"container\" &&\n\t\t\t\t<ContainerDetails\n\t\t\t\t\treloadItem={reloadItem}\n\t\t\t\t\tversion={version}\n\t\t\t\t\titemName={item.name}\n\t\t\t\t\titemType={item.type}\n\t\t\t\t\titemSettings={item.settings || null}\n\t\t\t\t\titemSrc={item.src || null}\n\t\t\t\t\tenv={environment.code.toLowerCase()}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tdeactivate={deactivate}\n\t\t\t\t\tdeployConfiguration={getDeployConfiguration(item.deploy, version.version, environment.code.toLowerCase())}\n\t\t\t\t/>}\n\t\t\t</>\n\t\t);\n\t}\n\t\n\treturn (\n\t\tenvironment &&\n\t\t<>\n\t\t\t{environment.deployer && environment.deployer.type === \"container\" ? (\n\t\t\t\t<Template\n\t\t\t\t\ttype={\"resource\"}\n\t\t\t\t\tChildren={Details}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Alert variant=\"info\" className=\"mt-4 mb-4\">\n\t\t\t\t\tThis environment is of type <span className=\"text-success\">manual</span>, <span\n\t\t\t\t\tclassName=\"font-weight-bold\">Resource Catalog</span> is only available\n\t\t\t\t\tfor environments of type <span className=\"text-info\">container</span>\n\t\t\t\t</Alert>\n\t\t\t)}\n\t\t</>\n\t);\n}","import {Route, Switch, useHistory} from \"react-router-dom\";\nimport {Alert, Badge, Table, Button} from \"react-bootstrap\";\nimport React from \"react\";\nimport {AuthenticatedRoute} from \"../../soajs/helpers\";\n\nimport {SiManageiq} from \"react-icons/si\";\n\nimport Settings from \"./containers/Settings/Settings\";\nimport Cluster from \"./containers/Cluster/Cluster\";\nimport Registry from \"./containers/Registry/Registry\";\nimport Workspace from \"./containers/Workspace/Workspace\";\nimport Add from \"./containers/Add/Add\";\n\nimport SoajsApi from \"./containers/catalog/soajs/Api/Api\";\nimport SoajsFrontend from \"./containers/catalog/soajs/Frontend/Frontend\";\n\nimport CatalogApi from \"./containers/catalog/Api/Api\";\nimport CatalogDaemon from \"./containers/catalog/Daemon/Daemon\";\nimport CatalogFrontend from \"./containers/catalog/Frontend/Frontend\";\nimport CatalogCustom from \"./containers/catalog/Custom/Custom\";\nimport CatalogResource from \"./containers/catalog/Resource/Resource\";\nimport {useTranslation} from \"react-i18next\";\n\nconst rootPath = \"/environments\";\n\nexport default function Routes({environment, environments, clusters, reloadClusters}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\t\n\tconst history = useHistory();\n\t\n\treturn (\n\t\t<Switch>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/add\"}>\n\t\t\t\t<Add/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/settings\"}>\n\t\t\t\t<Settings\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/registry\"}>\n\t\t\t\t<Registry\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t\tenvironments={environments}\n\t\t\t\t\tclusters={clusters}\n\t\t\t\t\treloadClusters={reloadClusters}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/workspace\"}>\n\t\t\t\t<Workspace\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/cluster\"}>\n\t\t\t\t<Cluster\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/catalog/soajs/api\"}>\n\t\t\t\t<SoajsApi\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/catalog/soajs/frontend\"}>\n\t\t\t\t<SoajsFrontend\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/catalog/api\"}>\n\t\t\t\t<CatalogApi\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/catalog/daemon\"}>\n\t\t\t\t<CatalogDaemon\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/catalog/frontend\"}>\n\t\t\t\t<CatalogFrontend\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/catalog/custom\"}>\n\t\t\t\t<CatalogCustom\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/manage/:env/catalog/resource\"}>\n\t\t\t\t<CatalogResource\n\t\t\t\t\tenvironment={environment}\n\t\t\t\t/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t<Route>\n\t\t\t\t{environments.length > 0 &&\n\t\t\t\t\n\t\t\t\t<div>\n\t\t\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Code\")}</th>\n\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Description\")}</th>\n\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Type\")}</th>\n\t\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{environments.map((rec, i) => (\n\t\t\t\t\t\t\t<tr key={i} className=\"small\">\n\t\t\t\t\t\t\t\t<td>{rec.code}</td>\n\t\t\t\t\t\t\t\t<td>{rec.description}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-center\"><Badge\n\t\t\t\t\t\t\t\t\tvariant={rec.deployer.type === \"container\" ? \"info\" : \"primary\"}>{rec.deployer.type}</Badge>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"small\">\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tsize={\"sm\"}\n\t\t\t\t\t\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"small p-1 border-secondary\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\thistory.push(rootPath + \"/manage/\" + rec.code + \"/settings\");\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<SiManageiq\n\t\t\t\t\t\t\t\t\t\tclassName=\"mr-2 text-success\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\tManage\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</Table>\n\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t{environments.length === 0 &&\n\t\t\t\t\n\t\t\t\t<Alert variant=\"info\">\n\t\t\t\t\tYou do not have any environment, try to add one!\n\t\t\t\t</Alert>\n\t\t\t\t}\n\t\t\t</Route>\n\t\t</Switch>\n\t)\n}","import {Dropdown, DropdownButton, Nav, Navbar, NavDropdown} from \"react-bootstrap\";\nimport React, {useState, useEffect} from \"react\";\nimport {useHistory, useLocation, useParams} from \"react-router-dom\";\nimport {LinkContainer} from \"react-router-bootstrap\";\nimport {GoDiffAdded} from \"react-icons/go\";\nimport {useTranslation} from \"react-i18next\";\nimport {useAppContext} from \"../../soajs/libs/contextLib\";\n\nconst rootPath = \"/environments\";\n\n\nfunction Navigation({environments, setEnvironment, environment}) {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [selectedEnv, setSelectedEnv] = useState(null);\n\tconst [uri, setUri] = useState(\"settings\");\n\tconst [selectedMsg, setSelected] = useState(\"-- Select an environment --\");\n\tconst history = useHistory();\n\tconst {env} = useParams();\n\tlet location = useLocation();\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\tif (env && environments.length > 0) {\n\t\t\t\tif (!environment || environment.code !== env) {\n\t\t\t\t\tfor (let i = 0; i < environments.length; i++) {\n\t\t\t\t\t\tif (environments[i].code === env) {\n\t\t\t\t\t\t\tsetEnvironment({...environments[i]});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetSelected(env);\n\t\t\t\t\tsetSelectedEnv(env);\n\t\t\t\t\tlet uri = location.pathname.substr(location.pathname.indexOf(env + \"/\") + env.length + 1);\n\t\t\t\t\tsetUri(uri);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetSelected(\"-- Select an environment --\");\n\t\t\t\tsetSelectedEnv(null);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [env, environment, environments, setEnvironment, location]);\n\t\n\treturn (\n\t\t<Navbar collapseOnSelect expand=\"sm\" className=\"pt-0 pb-0\" bg=\"secondary\" variant=\"light\">\n\t\t\t<Navbar.Brand>\n\t\t\t\t<DropdownButton size=\"sm\" id=\"dropdown-item-button\" title={selectedMsg} variant=\"light\"\n\t\t\t\t                className=\"small\">\n\t\t\t\t\t{environments.map((item, index) => (\n\t\t\t\t\t\t<Dropdown.Item as=\"button\" key={index} active={selectedEnv === item.code} onClick={() => {\n\t\t\t\t\t\t\thistory.push(rootPath + \"/manage/\" + item.code + \"/\" + uri);\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t{item.code}\n\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t))}\n\t\t\t\t\t<Dropdown.Divider/>\n\t\t\t\t\t{ability.can('env', 'add') &&\n\t\t\t\t\t<Dropdown.Item className=\"small\"\n\t\t\t\t\t               onClick={() => {\n\t\t\t\t\t\t               history.push(rootPath + \"/add\");\n\t\t\t\t\t               }}\n\t\t\t\t\t><GoDiffAdded/> Add an environment</Dropdown.Item>}\n\t\t\t\t</DropdownButton>\n\t\t\t</Navbar.Brand>\n\t\t\t{env ? (\n\t\t\t\t<>\n\t\t\t\t\t<Navbar.Toggle aria-controls=\"environment-navbar-nav\"/>\n\t\t\t\t\t<Navbar.Collapse id=\"environment-navbar-nav\" className=\"justify-content-end\">\n\t\t\t\t\t\t<Nav activeKey={window.location.pathname}>\n\t\t\t\t\t\t\t<LinkContainer to={rootPath + \"/manage/\" + env + \"/settings\"}>\n\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.settings\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t<LinkContainer\n\t\t\t\t\t\t\t\tto={rootPath + \"/manage/\" + env + \"/registry\"}>\n\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.registry\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t<LinkContainer\n\t\t\t\t\t\t\t\tto={rootPath + \"/manage/\" + env + \"/workspace\"}>\n\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.workspace\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<NavDropdown className=\"small\" alignRight title={t(\"soajs:menu.cluster\")}\n\t\t\t\t\t\t\t             id=\"collasible-nav1-dropdown\">\n\t\t\t\t\t\t\t\t<LinkContainer\n\t\t\t\t\t\t\t\t\tto={rootPath + \"/manage/\" + env + \"/cluster/workloads\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.workloads\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer\n\t\t\t\t\t\t\t\t\tto={rootPath + \"/manage/\" + env + \"/cluster/services\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.services\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer\n\t\t\t\t\t\t\t\t\tto={rootPath + \"/manage/\" + env + \"/cluster/configuration\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.configuration\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer\n\t\t\t\t\t\t\t\t\tto={rootPath + \"/manage/\" + env + \"/cluster/nodes\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.nodes\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer\n\t\t\t\t\t\t\t\t\tto={rootPath + \"/manage/\" + env + \"/cluster/storage\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.storage\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer\n\t\t\t\t\t\t\t\t\tto={rootPath + \"/manage/\" + env + \"/cluster/rbac\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.RBAC\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t</NavDropdown>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<NavDropdown className=\"small\" alignRight title={t(\"soajs:menu.catalogs\")}\n\t\t\t\t\t\t\t             id=\"collasible-nav2-dropdown\">\n\t\t\t\t\t\t\t\t<LinkContainer to={rootPath + \"/manage/\" + env + \"/catalog/api\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.API\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer to={rootPath + \"/manage/\" + env + \"/catalog/daemon\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Daemon\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer to={rootPath + \"/manage/\" + env + \"/catalog/frontend\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Frontend\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer to={rootPath + \"/manage/\" + env + \"/catalog/custom\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Custom\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer to={rootPath + \"/manage/\" + env + \"/catalog/resource\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Resource\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t</NavDropdown>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<NavDropdown className=\"small\" alignRight title={t(\"soajs:menu.SOAJS\")}\n\t\t\t\t\t\t\t             id=\"collasible-nav1-dropdown\">\n\t\t\t\t\t\t\t\t<LinkContainer to={rootPath + \"/manage/\" + env + \"/catalog/soajs/api\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.API\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer to={rootPath + \"/manage/\" + env + \"/catalog/soajs/frontend\"}>\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.Frontend\")}</small></NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t</NavDropdown>\n\t\t\t\t\t\t</Nav>\n\t\t\t\t\t</Navbar.Collapse>\n\t\t\t\t</>\n\t\t\t) : null}\n\t\t</Navbar>\n\t);\n}\n\nexport default Navigation","import React, {useEffect, useState} from \"react\";\nimport {Container} from \"react-bootstrap\";\nimport {useParams} from \"react-router-dom\";\n\nimport Routes from \"./Routes\";\nimport Navigation from \"./Navigation\";\nimport {NotificationManager} from \"../../soajs/urac/components\";\nimport {ConsoleService} from \"../../services\";\n\nconst consoleService = ConsoleService.getService();\n\nasync function reloadClusters(env, setClusters, isSubscribed) {\n\ttry {\n\t\tif (env) {\n\t\t\tconst _clusters = await consoleService.getResourceRegistry(env, \"cluster\");\n\t\t\tif (isSubscribed && _clusters) {\n\t\t\t\tsetClusters(_clusters);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Environments() {\n\tconst [environments, setEnvironments] = useState([]);\n\tconst [environment, setEnvironment] = useState(null);\n\tconst [clusters, setClusters] = useState([]);\n\tconst {env} = useParams();\n\t\n\tasync function reload() {\n\t\tawait reloadClusters(env, setClusters, true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tawait reloadClusters(env, setClusters, isSubscribed);\n\t\t\t\tconst _environments = await consoleService.getEnvironments();\n\t\t\t\tif (_environments && isSubscribed) {\n\t\t\t\t\tsetEnvironments(_environments);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [env]);\n\t\n\treturn (\n\t\t<>\n\t\t\t<Navigation\n\t\t\t\tenvironment={environment}\n\t\t\t\tenvironments={environments}\n\t\t\t\tsetEnvironment={setEnvironment}\n\t\t\t/>\n\t\t\t<div className=\"bg-dark pt-1\"></div>\n\t\t\t<div className=\"main-area\">\n\t\t\t\t<Container className=\"mt-3 mb-3\">\n\t\t\t\t\t<Routes\n\t\t\t\t\t\tenvironment={environment}\n\t\t\t\t\t\tenvironments={environments}\n\t\t\t\t\t\tclusters={clusters}\n\t\t\t\t\t\treloadClusters={reload}\n\t\t\t\t\t/>\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t</>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport {MdDeleteSweep} from \"react-icons/md\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function Uninvite({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.Uninvite\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button variant=\"danger\" size=\"sm\" {...props}>\n\t\t\t\t<MdDeleteSweep/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import {Button, OverlayTrigger, Tooltip} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {RiLockPasswordFill} from \"react-icons/ri\";\n\nexport default function Password({...props}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\treturn (\n\t\t<OverlayTrigger\n\t\t\tplacement=\"top\"\n\t\t\toverlay={\n\t\t\t\t<Tooltip id={`tooltip-top}`}>\n\t\t\t\t\t{t(\"soajs:buttons.Password\")}\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t>\n\t\t\t<Button size=\"sm\" variant=\"dark\" {...props}>\n\t\t\t\t<RiLockPasswordFill/>\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n}","import { Button, ListGroup, ListGroupItem, Modal, Accordion, Card, Form } from \"react-bootstrap\";\nimport React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function InfoModal({ modalOpt, setModalOpt }) {\n\tconst { t } = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\n\tconst handleClose = () => setModalOpt({ \"show\": false, opts: null });\n\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (modalOpt.opts && modalOpt.opts.config && modalOpt.opts.config.allowedTenants) {\n\t\t\tlet _fields = [];\n\t\t\tfor (let j = 0; j < modalOpt.opts.config.allowedTenants.length; j++) {\n\t\t\t\tlet item = {};\n\t\t\t\titem.tenant = modalOpt.opts.config.allowedTenants[j].tenant;\n\t\t\t\titem.groups = modalOpt.opts.config.allowedTenants[j].groups;\n\t\t\t\t_fields.push(item);\n\t\t\t}\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields(_fields);\n\t\t\t}\n\t\t} else {\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields(null);\n\t\t\t}\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\n\treturn (\n\t\tmodalOpt.opts &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.userInfo\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{t(\"soajs:fields.ID\")}:</span> {modalOpt.opts._id}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{t(\"soajs:fields.FirstName\")}:</span> {modalOpt.opts.firstName}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{t(\"soajs:fields.LastName\")}:</span> {modalOpt.opts.lastName}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{t(\"soajs:fields.Email\")}:</span> {modalOpt.opts.email}\n\t\t\t\t\t</ListGroupItem>\n\n\t\t\t\t\t{modalOpt.opts.groups && modalOpt.opts.groups.length > 0 &&\n\t\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t\t\t{t(\"soajs:fields.Groups\")}:</span> {modalOpt.opts.groups ? modalOpt.opts.groups.join(\", \") : \"\"}\n\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t}\n\t\t\t\t</ListGroup>\n\t\t\t\t<hr />\n\t\t\t\t<Accordion defaultActiveKey={1}>\n\t\t\t\t\t{fields && fields.map((item, index) => (\n\t\t\t\t\t\t<Card key={index + 1}>\n\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\"\n\t\t\t\t\t\t\t\t\t\teventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t{item.tenant.id} - {item.tenant.code}\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t{item.groups && item.groups.map((pack, index) => (\n\t\t\t\t\t\t\t\t\t\t<Form.Check key={index + 1} type=\"switch\" disabled\n\t\t\t\t\t\t\t\t\t\t\tlabel={pack}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t))}\n\t\t\t\t</Accordion>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Ok\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import { Button, Modal, Form, Col } from \"react-bootstrap\";\nimport React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport _ from \"lodash\";\n\nimport { NotificationManager } from \"../../../../../../soajs/urac/components\";\nimport { UracService } from \"../../../../../../soajs/urac/services\";\n\nconst uracService = UracService.getService();\nconst initFields = {\n\t\"user\": \"\",\n\t\"username\": \"\",\n\t\"firstName\": \"\",\n\t\"lastName\": \"\",\n\t\"email\": \"\",\n\t\"phone\": \"\",\n\t\"status\": \"active\",\n\t\"password\": \"\",\n\t\"groups\": []\n};\nexport default function AddModal({ modalOpt, setModalOpt, handleAction }) {\n\tconst { t } = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({ \"show\": false, opts: null });\n\tconst [fields, setFields] = useState({ ...initFields });\n\tconst [groupFields, setGroupFields] = useState([]);\n\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.username.length > 4 &&\n\t\t\tfields.firstName.length > 0 &&\n\t\t\tfields.lastName.length > 0 &&\n\t\t\tfields.email.length > 0 &&\n\t\t\tfields.password.length > 0 \n\t\t);\n\t}\n\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait uracService.addUserTenantProxy(fields, modalOpt.opts.extKey, modalOpt.opts.tenant, modalOpt.opts.env);\n\t\t\tNotificationManager.success(t(\"soajs:messages.addUser\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\n\tfunction onChangeGroup(checked, code) {\n\t\tif (checked) {\n\t\t\tfields.groups.push(code);\n\t\t} else {\n\t\t\t_.pull(fields.groups, code);\n\t\t}\n\t\tsetFields({ ...fields });\n\t}\n\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (modalOpt.opts && modalOpt.opts.extKey && modalOpt.opts.tenant && modalOpt.opts.env) {\n\t\t\t\t\tconst _groups = await uracService.getGroupsProxy_v2(modalOpt.opts.extKey, modalOpt.opts.tenant.id, modalOpt.opts.env)\n\t\t\t\t\t// const _groups = await uracService.getGroups();\n\t\t\t\t\tlet _g = null;\n\t\t\t\t\tif (_groups) {\n\t\t\t\t\t\t_g = [];\n\t\t\t\t\t\tfor (let i = 0; i < _groups.length; i++) {\n\t\t\t\t\t\t\tlet _item = {\n\t\t\t\t\t\t\t\t\"code\": _groups[i].code,\n\t\t\t\t\t\t\t\t\"name\": _groups[i].name,\n\t\t\t\t\t\t\t\t\"selected\": false\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t_g.push(_item);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\t\tsetGroupFields(_g);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetFields({ ...initFields });\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt.opts]);\n\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.userAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Username\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.username}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.FirstName\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"firstName\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.firstName}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.LastName\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"lastName\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.lastName}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Email\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.email}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Phone\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"phone\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.phone}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Status\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t<Form.Control as=\"select\" id=\"status\"\n\t\t\t\t\t\t\t              defaultValue={fields.status}\n\t\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"active\">active</option>\n\t\t\t\t\t\t\t\t<option value=\"inactive\">inactive</option>\n\t\t\t\t\t\t\t\t<option value=\"pendingNew\">pendingNew</option>\n\t\t\t\t\t\t\t\t<option value=\"pendingJoin\">pendingJoin</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Password\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.password}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t{groupFields.map((group, index) => (\n\t\t\t\t\t\t\t<Form.Check key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t\tlabel={group.code + \" - \" + group.name}\n\t\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t\tonChangeGroup(event.target.checked, group.code)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import { Button, Modal } from \"react-bootstrap\";\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { NotificationManager } from \"../../../../../../soajs/urac/components\";\nimport { UracService } from \"../../../../../../soajs/urac/services\";\n\nconst uracService = UracService.getService();\n\nexport default function UninviteModal({ modalOpt, setModalOpt, handleAction }) {\n\tconst { t } = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({ \"show\": false, opts: null });\n\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait uracService.uninviteUserProxy({ \"id\": modalOpt.opts.userId }, modalOpt.opts.extKey, modalOpt.opts.tenant, modalOpt.opts.env);\n\t\t\tNotificationManager.success(t(\"soajs:messages.uninviteUser\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Uninvite\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>{t(\"soajs:messages.uninviteQuestion\")}</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Uninvite\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import { Button, Modal } from \"react-bootstrap\";\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { NotificationManager } from \"../../../../../../soajs/urac/components\";\nimport { UracService } from \"../../../../../../soajs/urac/services\";\n\nconst uracService = UracService.getService();\n\nexport default function DeleteModal({ modalOpt, setModalOpt, handleAction }) {\n\tconst { t } = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({ \"show\": false, opts: null });\n\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait uracService.deleteUserProxy(modalOpt.opts.userId, modalOpt.opts.extKey, modalOpt.opts.env);\n\t\t\tNotificationManager.success(t(\"soajs:messages.deleteUser\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>{t(\"soajs:messages.deleteQuestion\")}</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import { Button, Modal, Form, Col } from \"react-bootstrap\";\nimport React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport _ from \"lodash\";\n\nimport { NotificationManager } from \"../../../../../../soajs/urac/components\";\nimport { UracService } from \"../../../../../../soajs/urac/services\";\n\nconst uracService = UracService.getService();\nconst initFields = {\n\t\"user\": \"\",\n\t\"groups\": []\n};\nexport default function InviteModal({ modalOpt, setModalOpt, handleAction }) {\n\tconst { t } = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({ \"show\": false, opts: null });\n\tconst [fields, setFields] = useState({ ...initFields });\n\tconst [groupFields, setGroupFields] = useState([]);\n\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.user.length > 4\n\t\t);\n\t}\n\n\tfunction handleFieldChange(event) {\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: event.target.value\n\t\t});\n\t}\n\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait uracService.inviteUserProxy(fields, modalOpt.opts.extKey, modalOpt.opts.tenant, modalOpt.opts.env);\n\t\t\tNotificationManager.success(t(\"soajs:messages.inviteUser\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\n\tfunction onChangeGroup(checked, code) {\n\t\tif (checked) {\n\t\t\tfields.groups.push(code);\n\t\t} else {\n\t\t\t_.pull(fields.groups, code);\n\t\t}\n\t\tsetFields({ ...fields });\n\t}\n\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (modalOpt.opts && modalOpt.opts.extKey && modalOpt.opts.tenant && modalOpt.opts.env) {\n\t\t\t\t\tconst _groups = await uracService.getGroupsProxy_v2(modalOpt.opts.extKey, modalOpt.opts.tenant.id, modalOpt.opts.env)\n\t\t\t\t\t// const _groups = await uracService.getGroups();\n\t\t\t\t\tlet _g = null;\n\t\t\t\t\tif (_groups) {\n\t\t\t\t\t\t_g = [];\n\t\t\t\t\t\tfor (let i = 0; i < _groups.length; i++) {\n\t\t\t\t\t\t\tlet _item = {\n\t\t\t\t\t\t\t\t\"code\": _groups[i].code,\n\t\t\t\t\t\t\t\t\"name\": _groups[i].name,\n\t\t\t\t\t\t\t\t\"selected\": false\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t_g.push(_item);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\t\tsetGroupFields(_g);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetFields({ ...initFields });\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt.opts]);\n\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.userInvite\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Username\")} or {t(\"soajs:fields.Email\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"user\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.user}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t{groupFields.map((group, index) => (\n\t\t\t\t\t\t\t<Form.Check key={index + 1} type=\"checkbox\"\n\t\t\t\t\t\t\t\tlabel={group.code + \" - \" + group.name}\n\t\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t\tonChangeGroup(event.target.checked, group.code)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Invite\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import { Button, Modal, Form, Col } from \"react-bootstrap\";\nimport React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { NotificationManager } from \"../../../../../../soajs/urac/components\";\nimport { UracService } from \"../../../../../../soajs/urac/services\";\n\nconst uracService = UracService.getService();\nconst initFields = {\n\t\"id\": \"\",\n\t\"password\": \"\",\n\t\"confirmPassword\": \"\"\n};\nexport default function PasswordModal({ modalOpt, setModalOpt }) {\n\tconst { t } = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({ \"show\": false, opts: null });\n\tconst [fields, setFields] = useState({ ...initFields });\n\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.id.length > 4 &&\n\t\t\tfields.password.length > 4 &&\n\t\t\tfields.password === fields.confirmPassword\n\t\t);\n\t}\n\n\tfunction handleFieldChange(event) {\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: event.target.value\n\t\t});\n\t}\n\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait uracService.changeUserPasswordProxy(fields, modalOpt.opts.extKey, modalOpt.opts.env);\n\t\t\tNotificationManager.success(t(\"soajs:messages.changePasswordUser\"));\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (modalOpt.opts && modalOpt.opts.userId) {\n\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\tsetFields({ ...initFields, ...{ \"id\": modalOpt.opts.userId } });\n\t\t\t\t\t}\n\n\t\t\t\t} else if (isSubscribed) {\n\t\t\t\t\tsetFields({ ...initFields });\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\n\t\tonLoad();\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt.opts]);\n\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.changePasswordUser\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Password\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.password}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.ConfirmPassword\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"confirmPassword\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.confirmPassword}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Change\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import { Button, Modal, Form, Col } from \"react-bootstrap\";\nimport React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport _ from \"lodash\";\n\nimport { NotificationManager } from \"../../../../../../soajs/urac/components\";\nimport { UracService } from \"../../../../../../soajs/urac/services\";\n\nconst uracService = UracService.getService();\nconst initFields = {\n\t\"id\": \"\",\n\t\"username\": \"\",\n\t\"firstName\": \"\",\n\t\"lastName\": \"\",\n\t\"email\": \"\",\n\t\"phone\": \"\",\n\t\"status\": \"\",\n\t\"groups\": []\n};\nexport default function EditModal({ modalOpt, setModalOpt, handleAction }) {\n\tconst { t } = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({ \"show\": false, opts: null });\n\tconst [fields, setFields] = useState({ ...initFields });\n\tconst [groupsFields, setGroupsFields] = useState([]);\n\tconst [groups, setGroups] = useState(null);\n\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.id.length > 4 &&\n\t\t\tfields.username.length > 4 &&\n\t\t\tfields.firstName.length > 0 &&\n\t\t\tfields.lastName.length > 0 &&\n\t\t\tfields.email.length > 0\n\t\t);\n\t}\n\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait uracService.editUseProxy(fields, modalOpt.opts.extKey, modalOpt.opts.env);\n\t\t\tNotificationManager.success(t(\"soajs:messages.editUser\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\n\tfunction onChangeGroup(checked, code) {\n\t\tif (checked) {\n\t\t\tlet g = groups\n\t\t\tif (!g) {\n\t\t\t\tg = [];\n\t\t\t}\n\t\t\tg.push(code);\n\t\t\tsetGroups(g)\n\t\t} else {\n\t\t\tlet g = groups\n\t\t\tif (g) {\n\t\t\t\t_.pull(g, code);\n\t\t\t\tsetGroups(g);\n\t\t\t}\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tif (modalOpt.opts) {\n\t\t\t\t\tconst _groups = await uracService.getGroupsProxy_v2(modalOpt.opts.extKey, modalOpt.opts.tenant.id, modalOpt.opts.env)\n\t\t\t\t\tlet _g = null;\n\t\t\t\t\tif (_groups) {\n\t\t\t\t\t\t_g = [];\n\t\t\t\t\t\tfor (let i = 0; i < _groups.length; i++) {\n\t\t\t\t\t\t\tlet _item = {\n\t\t\t\t\t\t\t\t\"code\": _groups[i].code,\n\t\t\t\t\t\t\t\t\"name\": _groups[i].name,\n\t\t\t\t\t\t\t\t\"selected\": false\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tif (modalOpt.opts.groups && modalOpt.opts.user.groups.includes(_item.code)) {\n\t\t\t\t\t\t\t\t_item.selected = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t_g.push(_item);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\t\tsetGroupsFields(_g);\n\t\t\t\t\t\t\tif (modalOpt.opts.user.groups && Array.isArray(modalOpt.opts.user.groups)) {\n\t\t\t\t\t\t\t\tsetGroups([...modalOpt.opts.user.groups]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\tsetFields({\n\t\t\t\t\t\t\t\"id\": modalOpt.opts.user._id,\n\t\t\t\t\t\t\t\"username\": modalOpt.opts.user.username,\n\t\t\t\t\t\t\t\"email\": modalOpt.opts.user.email,\n\t\t\t\t\t\t\t\"firstName\": modalOpt.opts.user.firstName,\n\t\t\t\t\t\t\t\"lastName\": modalOpt.opts.user.lastName,\n\t\t\t\t\t\t\t\"phone\": modalOpt.opts.user.phone || \"\",\n\t\t\t\t\t\t\t\"status\": modalOpt.opts.user.status\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (isSubscribed) {\n\t\t\t\t\t\tsetGroupsFields([]);\n\t\t\t\t\t\tsetGroups(null);\n\t\t\t\t\t\tsetFields(initFields);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\n\t\tonLoad()\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.userEdit\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Username\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.username}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.FirstName\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"firstName\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.firstName}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.LastName\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"lastName\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.lastName}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Email\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.email}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Phone\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"phone\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tvalue={fields.phone}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Label column=\"sm\" sm={3}>{t(\"soajs:fields.Status\")}</Form.Label>\n\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t<Form.Control as=\"select\" id=\"status\"\n\t\t\t\t\t\t\t\t\tvalue={fields.status}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"active\">active</option>\n\t\t\t\t\t\t\t\t\t<option value=\"inactive\">inactive</option>\n\t\t\t\t\t\t\t\t\t<option value=\"pendingNew\">pendingNew</option>\n\t\t\t\t\t\t\t\t\t<option value=\"pendingJoin\">pendingJoin</option>\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\n\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t{groupsFields.map((group, index) => (\n\t\t\t\t\t\t\t<Form.Check key={index + 1} type=\"switch\"\n\t\t\t\t\t\t\t\tlabel={group.code + \" - \" + group.name}\n\t\t\t\t\t\t\t\tid={group.code}\n\t\t\t\t\t\t\t\tdefaultChecked={group.selected}\n\t\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t\tonChangeGroup(event.target.checked, group.code)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"success\" onClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Edit\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import { Button, Form, Table, Alert, Col, Row } from \"react-bootstrap\";\nimport { BiSearchAlt } from \"react-icons/bi\";\nimport { GoDiffAdded } from \"react-icons/go\";\nimport { GiBroadDagger } from \"react-icons/gi\";\nimport { ImDrawer } from \"react-icons/im\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport Edit from \"../../../../buttons/Edit\";\nimport Delete from \"../../../../buttons/Delete\";\nimport Uninvite from \"../../../../buttons/Uninvite\";\nimport View from \"../../../../buttons/View\";\nimport Password from \"../../../../buttons/Password\";\n\nimport InfoModal from \"./User/InfoModal\";\nimport AddModal from \"./User/AddModal\";\nimport UninviteModal from \"./User/UninviteModal\";\nimport DeleteModal from \"./User/DeleteModal\";\nimport InviteModal from \"./User/InviteModal\";\nimport PasswordModal from \"./User/PasswordModal\";\nimport EditModal from \"./User/EditModal\";\n\nimport { NotificationManager } from \"../../../../../soajs/urac/components\";\nimport { UracService } from \"../../../../../soajs/urac/services\";\nimport AutoPagination from \"../../../../../lib/AutoPagination\";\n\nconst uracService = UracService.getService();\n\nfunction getTenantGroups({ user, tenantId }) {\n\tlet groups = null;\n\tif (user.config && user.config.allowedTenants && user.config.allowedTenants.length > 0) {\n\t\tfor (let i = 0; i < user.config.allowedTenants.length; i++) {\n\t\t\tif (user.config.allowedTenants[i].tenant && user.config.allowedTenants[i].tenant.id === tenantId) {\n\t\t\t\tif (user.config.allowedTenants[i].groups) {\n\t\t\t\t\tgroups = user.config.allowedTenants[i].groups\n\t\t\t\t} else {\n\t\t\t\t\tgroups = null;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn groups;\n}\n\nfunction PrintGroups({ user, tenantId }) {\n\tlet groups = getTenantGroups({ user, tenantId });\n\treturn (\n\t\t<>\n\t\t\t{groups ? groups.join(\", \") : \"\"}\n\t\t</>\n\t)\n}\n\nasync function onLoad(setFields, extKey, scope, env, criteria, page, setPagination, isSubscribed, tenantId) {\n\ttry {\n\t\tlet c = { \"limit\": 50, \"start\": (page - 1) * 50 };\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords) {\n\t\t\t\tc.keywords = criteria.keywords;\n\t\t\t}\n\t\t}\n\t\tconst userv2 = await uracService.getUsersProxy_v2(extKey, tenantId, scope, criteria, env);\n\t\tconst users = userv2.items;\n\t\tconst count = userv2.items;\n\t\tif (isSubscribed) {\n\t\t\tsetPagination(\n\t\t\t\t{\n\t\t\t\t\t\"totalItems\": count,\n\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\"itemsPerPage\": c.limit\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t\tif (users && Array.isArray(users)) {\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields(users);\n\t\t\t}\n\t\t} else {\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields([]);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function TenantUsers({ extKey, tenantId, tenantCode, scope, env }) {\n\tconst { t } = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\n\tconst [criteria, setCriteria] = useState({\n\t\t\"keywords\": \"\"\n\t});\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\n\tconst [modalInfoOpt, setModalInfoOpt] = useState({ \"show\": false, opts: null });\n\tconst modalInfoOptShow = (opt) => setModalInfoOpt({ \"show\": true, opts: opt });\n\n\tconst [modalAddOpt, setModalAddOpt] = useState({ \"show\": false, opts: null });\n\tconst modalAddOptShow = (opt) => setModalAddOpt({ \"show\": true, opts: opt });\n\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({ \"show\": false, opts: null });\n\tconst modalDeleteOptShow = (opt) => setModalDeleteOpt({ \"show\": true, opts: opt });\n\n\tconst [modalUninviteOpt, setModalUninviteOpt] = useState({ \"show\": false, opts: null });\n\tconst modalUninviteOptShow = (opt) => setModalUninviteOpt({ \"show\": true, opts: opt });\n\n\tconst [modalInviteOpt, setModalInviteOpt] = useState({ \"show\": false, opts: null });\n\tconst modalInviteOptShow = (opt) => setModalInviteOpt({ \"show\": true, opts: opt });\n\n\tconst [modalPasswordOpt, setModalPasswordOpt] = useState({ \"show\": false, opts: null });\n\tconst modalPasswordOptShow = (opt) => setModalPasswordOpt({ \"show\": true, opts: opt });\n\n\tconst [modalEditOpt, setModalEditOpt] = useState({ \"show\": false, opts: null });\n\tconst modalEditOptShow = (opt) => setModalEditOpt({ \"show\": true, opts: opt });\n\n\tasync function fetch(page) {\n\t\tif (extKey && env) {\n\t\t\tawait onLoad(setFields, extKey, scope, env, criteria, page || currentPage, setPagination, true, tenantId);\n\t\t}\n\t}\n\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait fetch(1);\n\t}\n\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tif (event.target.type === 'number') {\n\t\t\tvalue = parseInt(value);\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (extKey && env) {\n\t\t\tonLoad(setFields, extKey, scope, env, null, 1, setPagination, isSubscribed, tenantId).catch();\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [extKey, scope, env, tenantId]);\n\n\treturn (\n\t\t<>\n\n\t\t\t<EditModal\n\t\t\t\tmodalOpt={modalEditOpt}\n\t\t\t\tsetModalOpt={setModalEditOpt}\n\t\t\t\thandleAction={async () => {\n\t\t\t\t\tsetCurrentPage(1);\n\t\t\t\t\tawait fetch(1);\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<PasswordModal\n\t\t\t\tmodalOpt={modalPasswordOpt}\n\t\t\t\tsetModalOpt={setModalPasswordOpt}\n\t\t\t/>\n\t\t\t<InviteModal\n\t\t\t\tmodalOpt={modalInviteOpt}\n\t\t\t\tsetModalOpt={setModalInviteOpt}\n\t\t\t\thandleAction={async () => {\n\t\t\t\t\tsetCurrentPage(1);\n\t\t\t\t\tawait fetch(1);\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\thandleAction={async () => {\n\t\t\t\t\tsetCurrentPage(1);\n\t\t\t\t\tawait fetch(1);\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<UninviteModal\n\t\t\t\tmodalOpt={modalUninviteOpt}\n\t\t\t\tsetModalOpt={setModalUninviteOpt}\n\t\t\t\thandleAction={async () => {\n\t\t\t\t\tsetCurrentPage(1);\n\t\t\t\t\tawait fetch(1);\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<AddModal\n\t\t\t\tmodalOpt={modalAddOpt}\n\t\t\t\tsetModalOpt={setModalAddOpt}\n\t\t\t\thandleAction={async () => {\n\t\t\t\t\tsetCurrentPage(1);\n\t\t\t\t\tawait fetch(1);\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<InfoModal\n\t\t\t\tmodalOpt={modalInfoOpt}\n\t\t\t\tsetModalOpt={setModalInfoOpt}\n\t\t\t/>\n\t\t\t<Alert variant=\"light\">\n\t\t\t\t<div className=\"float-left\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"keywords\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={criteria.keywords}\n\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"float-left\"\n\t\t\t\t\t\t\t\tvariant=\"dark\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tonClick={handleSearch}>\n\t\t\t\t\t\t\t\t<BiSearchAlt /> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</div>\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tonClick={fetch}>\n\t\t\t\t\t<ImDrawer /> {t(\"soajs:buttons.Fetch\")}\n\t\t\t\t</Button>\n\t\t\t\t{scope === \"myTenancy\" && extKey && env &&\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tonClick={() => modalAddOptShow({ extKey, \"tenant\": { \"id\": tenantId, \"code\": tenantCode }, env })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<GoDiffAdded /> {t(\"soajs:buttons.Add\")}\n\t\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t\t{scope !== \"myTenancy\" && extKey && env &&\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tonClick={() => modalInviteOptShow({ extKey, \"tenant\": { \"id\": tenantId, \"code\": tenantCode }, env })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<GiBroadDagger /> {t(\"soajs:buttons.Invite\")}\n\t\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t</Alert>\n\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>{t(\"soajs:buttons.Actions\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.FirstName\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.LastName\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Email\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Groups\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Username\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Status\")}</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{fields && fields.map((user, index) => (\n\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t{scope === \"myTenancy\" &&\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Password\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-1 p-1\"\n\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tmodalPasswordOptShow({ userId: user._id, extKey, env });\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Edit\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-1 p-1\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => modalEditOptShow({ user, extKey, \"tenant\": { \"id\": tenantId, \"code\": tenantCode }, env })}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Delete\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-1 p-1\"\n\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({ userId: user._id, extKey, env });\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{scope !== \"myTenancy\" &&\n\t\t\t\t\t\t\t\t\t<Uninvite\n\t\t\t\t\t\t\t\t\t\tclassName=\"mr-1 p-1\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tmodalUninviteOptShow({ userId: user._id, extKey, \"tenant\": { \"id\": tenantId, \"code\": tenantCode }, env });\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t<View\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1 p-1\"\n\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalInfoOptShow(user);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>{user.firstName}</td>\n\t\t\t\t\t\t\t<td>{user.lastName}</td>\n\t\t\t\t\t\t\t<td>{user.email}</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<PrintGroups\n\t\t\t\t\t\t\t\t\tuser={user}\n\t\t\t\t\t\t\t\t\ttenantId={tenantId}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>{user.username}</td>\n\t\t\t\t\t\t\t<td>{user.status}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t</tbody>\n\t\t\t</Table>\n\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t<AutoPagination\n\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\tfetch(p, null).catch();\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"clearfix\"></div>\n\t\t</>\n\t);\n}","import {Button, ListGroup, ListGroupItem, Modal, Accordion, Card, Form} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function InfoModal({modalOpt, setModalOpt}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [productFields, setProductFields] = useState([]);\n\t\n\tconst handleClose = () => setModalOpt({\"show\": false, opts: null});\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (modalOpt.opts && modalOpt.opts.config && modalOpt.opts.config.allowedPackages) {\n\t\t\tconst _products = Object.keys (modalOpt.opts.config.allowedPackages);\n\t\t\tlet _fields = [];\n\t\t\tfor (let j = 0; j < _products.length; j++) {\n\t\t\t\tlet item = {};\n\t\t\t\titem.code = _products[j];\n\t\t\t\titem.packages =  modalOpt.opts.config.allowedPackages[_products[j]];\n\t\t\t\t_fields.push (item);\n\t\t\t}\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetProductFields(_fields);\n\t\t\t}\n\t\t} else {\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetProductFields(null);\n\t\t\t}\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [ modalOpt]);\n\t\n\treturn (\n\t\tmodalOpt.opts &&\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton className=\"bg-secondary text-white\">\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.groupInfo\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{t(\"soajs:fields.Code\")}:</span> {modalOpt.opts.code}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t\t{t(\"soajs:fields.Name\")}:</span> {modalOpt.opts.name}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<span className=\"font-weight-bold\">\n\t\t\t\t\t\t{t(\"soajs:fields.Description\")}:</span> {modalOpt.opts.description}\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t</ListGroup>\n\t\t\t\t<hr/>\n\t\t\t\t<Accordion defaultActiveKey={1}>\n\t\t\t\t\t{productFields && productFields.map((item, index) => (\n\t\t\t\t\t\t<Card key={index + 1}>\n\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\"\n\t\t\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t{item.code}\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t{item.packages && item.packages.map((pack, index) => (\n\t\t\t\t\t\t\t\t\t\t<Form.Check key={index + 1} type=\"switch\" disabled\n\t\t\t\t\t\t\t\t\t\t            label={pack}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t))}\n\t\t\t\t</Accordion>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"bg-light\">\n\t\t\t\t<Button variant=\"info\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Ok\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import { Button, Modal } from \"react-bootstrap\";\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { NotificationManager } from \"../../../../../../soajs/urac/components\";\nimport { UracService } from \"../../../../../../soajs/urac/services\";\n\nconst uracService = UracService.getService();\n\nexport default function DeleteModal({ modalOpt, setModalOpt, handleAction }) {\n\tconst { t } = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({ \"show\": false, opts: null });\n\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait uracService.deleteGroupProxy(modalOpt.opts.groupId, modalOpt.opts.extKey, modalOpt.opts.env);\n\t\t\tNotificationManager.success(t(\"soajs:messages.deleteGroup\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false}>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>{t(\"soajs:messages.deleteQuestion\")}</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import { Alert, Button, Table } from \"react-bootstrap\";\nimport React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { GoDiffAdded } from \"react-icons/go\";\nimport { ImDrawer } from \"react-icons/im\";\n\n\nimport { NotificationManager } from \"../../../../../soajs/urac/components\";\nimport { UracService } from \"../../../../../soajs/urac/services\";\n\n// import Edit from \"../../../../buttons/Edit\";\nimport Delete from \"../../../../buttons/Delete\";\nimport View from \"../../../../buttons/View\";\n\nimport InfoModal from \"./Group/InfoModal\"\nimport DeleteModal from \"./Group/DeleteModal\";\n\nconst uracService = UracService.getService();\n\nasync function onLoad(setFields, extKey, env, isSubscribed, tenantId) {\n\ttry {\n\t\tconst users = await uracService.getGroupsProxy_v2(extKey, tenantId, env)\n\n\t\tif (users && Array.isArray(users)) {\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields(users);\n\t\t\t}\n\t\t} else {\n\t\t\tif (isSubscribed) {\n\t\t\t\tsetFields([]);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function TenantGroups({ extKey, env, tenantId }) {\n\tconst { t } = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\n\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({ \"show\": false, opts: null });\n\tconst modalDeleteOptShow = (opt) => setModalDeleteOpt({ \"show\": true, opts: opt });\n\n\tconst [modalInfoOpt, setModalInfoOpt] = useState({ \"show\": false, opts: null });\n\tconst modalInfoOptShow = (opt) => setModalInfoOpt({ \"show\": true, opts: opt });\n\n\tasync function fetch() {\n\t\tif (extKey && env) {\n\t\t\tawait onLoad(setFields, extKey, env, true, tenantId);\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (extKey && env) {\n\t\t\tonLoad(setFields, extKey, env, isSubscribed, tenantId).catch();\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [extKey, env, tenantId]);\n\n\treturn (\n\t\t<>\n\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\thandleAction={async () => {\n\t\t\t\t\tonLoad(setFields, extKey, env, true, tenantId).catch()\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<InfoModal\n\t\t\t\tmodalOpt={modalInfoOpt}\n\t\t\t\tsetModalOpt={setModalInfoOpt}\n\t\t\t/>\n\n\t\t\t<Alert variant=\"light\">\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tonClick={fetch}>\n\t\t\t\t\t<ImDrawer /> {t(\"soajs:buttons.Fetch\")}\n\t\t\t\t</Button>\n\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tdisabled>\n\t\t\t\t\t<GoDiffAdded /> {t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\n\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t</Alert>\n\t\t\t<Table responsive striped hover size=\"sm\">\n\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>{t(\"soajs:buttons.Actions\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Code\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Name\")}</th>\n\t\t\t\t\t\t<th>{t(\"soajs:fields.Description\")}</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{fields && fields.map((rec, index) => (\n\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t{/* <Edit\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1 p-1\"\n\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t/>*/}\n\t\t\t\t\t\t\t\t<Delete\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1 p-1\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({ groupId: rec._id, extKey, env });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<View\n\t\t\t\t\t\t\t\t\tclassName=\"mr-1 p-1\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tmodalInfoOptShow(rec);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>{rec.code}</td>\n\t\t\t\t\t\t\t<td>{rec.name}</td>\n\t\t\t\t\t\t\t<td>{rec.description}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t</tbody>\n\t\t\t</Table>\n\t\t</>\n\t);\n}","import { Alert, Button, Col, Dropdown, DropdownButton, Form, Row, Tab, Tabs } from \"react-bootstrap\";\nimport React, { useEffect, useState } from \"react\";\nimport { NotificationManager } from \"../../../../soajs/urac/components\";\nimport { ConsoleService, MultitenantService } from \"../../../../services\";\nimport { BiSearchAlt } from \"react-icons/bi\";\nimport { useTranslation } from \"react-i18next\";\n\nimport TenantUsers from \"./containers/TenantUsers\";\nimport TenantGroups from \"./containers/TenantGroups\";\n\nimport config from \"../../../../config\";\n\nconst multitenantService = MultitenantService.getService();\nconst consoleService = ConsoleService.getService();\n\nconst criteriaModel = {\n\t\"keywords_mainTenant\": \"\",\n\t\"keywords_subTenant\": \"\",\n\t\"mainTenant\": -1,\n\t\"subTenant\": -1,\n\t\"tenantType\": \"Product\"\n};\n\nfunction getTenantsExtKey(tenants, env) {\n\tlet extKeys = [];\n\tfor (let i = 0; i < tenants.length; i++) {\n\t\tlet _extKeys = getTenantExtKey(tenants[i], env);\n\t\textKeys = [..._extKeys];\n\t}\n\treturn extKeys;\n}\n\nfunction getTenantExtKey(tenant, env) {\n\tlet extKeys = [];\n\tif (env && tenant && tenant.applications && tenant.applications.length > 0) {\n\t\ttenant.applications.forEach((oneApp) => {\n\t\t\tif (oneApp && oneApp.keys && oneApp.keys.length > 0) {\n\t\t\t\toneApp.keys.forEach((oneKey) => {\n\t\t\t\t\tif (oneKey && oneKey.extKeys && oneKey.extKeys.length > 0) {\n\t\t\t\t\t\toneKey.extKeys.forEach((oneExt) => {\n\t\t\t\t\t\t\tif (oneExt && oneExt.extKey && (oneExt.env.toUpperCase() === env.toUpperCase() || oneExt.env === null || !oneExt.env)) {\n\t\t\t\t\t\t\t\textKeys.push({\n\t\t\t\t\t\t\t\t\tv: oneExt.extKey,\n\t\t\t\t\t\t\t\t\tl: oneApp.product + \" \" + oneApp.package + \" \" + (oneExt.label ? oneExt.label : oneExt.extKey.substring(0, 10) + \"...\" + oneExt.extKey.substring(oneExt.extKey.length - 10, oneExt.extKey.length))\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\treturn extKeys;\n}\n\nexport default function Users() {\n\tconst { t } = useTranslation([\"common\", \"soajs\"]);\n\tconst [environments, setEnvironments] = useState([]);\n\tconst [selectedEnv, setSelectedEnv] = useState(null);\n\tconst [selectedMsg, setSelected] = useState(\"-- Select an environment --\");\n\tconst [mainTenantItems, setMainTenantItems] = useState([]);\n\tconst [subTenantItems, setSubTenantItems] = useState([]);\n\tconst [tenantKeys, setTenantKeys] = useState([]);\n\tconst [tenantKey, setTenantKey] = useState(null);\n\tconst [criteria, setCriteria] = useState(criteriaModel);\n\n\tasync function reLoad() {\n\t\ttry {\n\t\t\tlet c = { \"limit\": 50, \"start\": 0, \"type\": \"product\" };\n\t\t\tif (criteria.keywords_mainTenant) {\n\t\t\t\tc.keywords = criteria.keywords_mainTenant;\n\t\t\t}\n\t\t\tconst response = await multitenantService.getTenants(c);\n\t\t\tif (response) {\n\t\t\t\tsetMainTenantItems(response.items);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\n\tasync function reLoad_SubTenant() {\n\t\ttry {\n\t\t\tif (criteria.mainTenant >= 0) {\n\t\t\t\tlet c = { \"limit\": 50, \"start\": 0 };\n\t\t\t\tif (criteria.keywords_mainTenant) {\n\t\t\t\t\tc.keywords = criteria.keywords_subTenant;\n\t\t\t\t}\n\t\t\t\tlet code = mainTenantItems[criteria.mainTenant].code;\n\t\t\t\tconst response = await multitenantService.getTenantSubTenants(code, c);\n\t\t\t\tif (response) {\n\t\t\t\t\tsetSubTenantItems(response.items);\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\n\tasync function handleSelectKey(event) {\n\t\tlet value = event.target.value;\n\t\tlet id = event.target.id;\n\n\t\tif (id === \"tenantExtKey\" && value) {\n\t\t\tsetTenantKey(value);\n\t\t}\n\t}\n\tasync function handleSelectEnv(code) {\n\t\tsetSelectedEnv(code);\n\t\tsetSelected(code);\n\t\tlet reset = {\n\t\t\t\"keywords_mainTenant\": criteria.keywords_mainTenant,\n\t\t\t\"keywords_subTenant\": criteria.keywords_subTenant,\n\t\t\t\"mainTenant\": criteriaModel.mainTenant,\n\t\t\t\"subTenant\": criteriaModel.subTenant,\n\t\t\t\"tenantType\": criteriaModel.tenantType\n\t\t};\n\t\tsetCriteria(reset);\n\t\tsetTenantKeys([]);\n\t\tsetTenantKey(\"\");\n\n\t\tconst response = await multitenantService.getConsoleTenants({ category: \"integration\", \"scope\": \"other\" });\n\t\tif (response && response.items) {\n\t\t\tlet extKeys = getTenantsExtKey(response.items, code);\n\t\t\tsetTenantKeys(extKeys);\n\t\t}\n\t\tawait reLoad();\n\t}\n\n\tasync function handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tlet id = event.target.id;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tif (event.target.type === 'number') {\n\t\t\tvalue = parseInt(value);\n\t\t}\n\t\tif (id === \"mainTenant\") {\n\t\t\tvalue = parseInt(value);\n\t\t\tif (value >= 0) {\n\t\t\t\tcriteria.mainTenant = value;\n\t\t\t\tawait reLoad_SubTenant();\n\t\t\t}\n\t\t\tlet reset = {\n\t\t\t\t\"keywords_mainTenant\": criteria.keywords_mainTenant,\n\t\t\t\t\"keywords_subTenant\": criteria.keywords_subTenant,\n\t\t\t\t\"mainTenant\": value,\n\t\t\t\t\"subTenant\": criteriaModel.subTenant,\n\t\t\t\t\"tenantType\": criteria.tenantType\n\t\t\t};\n\t\t\tsetCriteria({ ...reset });\n\t\t} else if (id === \"subTenant\") {\n\t\t\tvalue = parseInt(value);\n\t\t\tlet reset = {\n\t\t\t\t\"keywords_mainTenant\": criteria.keywords_mainTenant,\n\t\t\t\t\"keywords_subTenant\": criteria.keywords_subTenant,\n\t\t\t\t\"mainTenant\": criteria.mainTenant,\n\t\t\t\t\"subTenant\": value,\n\t\t\t\t\"tenantType\": criteria.tenantType\n\t\t\t};\n\t\t\tsetCriteria({ ...reset });\n\t\t} else if (id === \"tenantType\") {\n\t\t\tsetCriteria({\n\t\t\t\t...criteria,\n\t\t\t\t[id]: value\n\t\t\t});\n\t\t} else {\n\t\t\tsetCriteria({\n\t\t\t\t...criteria,\n\t\t\t\t[id]: value\n\t\t\t});\n\t\t}\n\t}\n\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tawait reLoad();\n\t}\n\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tconst _environments = await consoleService.getEnvironments();\n\t\t\t\tif (_environments && isSubscribed) {\n\t\t\t\t\tsetEnvironments(_environments);\n\t\t\t\t}\n\n\t\t\t\tif (isSubscribed) {\n\t\t\t\t\tsetSelectedEnv(null);\n\t\t\t\t\tsetSelected(\"-- Select an environment --\");\n\t\t\t\t\tsetCriteria(criteriaModel);\n\t\t\t\t\tsetTenantKeys([]);\n\t\t\t\t\tsetMainTenantItems([]);\n\t\t\t\t\tsetSubTenantItems([]);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<Alert variant=\"info\" className=\"mt-4 mb-2 p-2 pl-3 pr-3\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<h6 className=\"float-left mr-3 mt-2\">\n\t\t\t\t\t\t\tEnvironment:\n\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t<DropdownButton\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tid=\"dropdown-item-button\"\n\t\t\t\t\t\t\ttitle={selectedMsg}\n\t\t\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\t\t\tclassName=\"small\">\n\t\t\t\t\t\t\t{environments.map((item, index) => (\n\t\t\t\t\t\t\t\titem.code.toLowerCase() !== config.consoleEnvironment &&\n\t\t\t\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\t\t\t\tas=\"button\"\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tactive={selectedEnv === item.code}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\thandleSelectEnv(item.code).catch();\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\t{item.code}\n\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</DropdownButton>\n\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t{selectedEnv &&\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\tid=\"tenantExtKey\"\n\t\t\t\t\t\t\t\tvalue={criteria.tenantExtKey}\n\t\t\t\t\t\t\t\tonChange={handleSelectKey}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"\"> ---</option>\n\t\t\t\t\t\t\t\t{tenantKeys.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t<option key={i} value={rec.v}>{rec.l}</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Alert>\n\t\t\t{selectedEnv && tenantKey &&\n\t\t\t\t<>\n\t\t\t\t\t<Alert variant=\"secondary\" className=\"mt-4 mb-2 p-2 pl-3 pr-3\">\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={7}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"mainTenant\"\n\t\t\t\t\t\t\t\t\t_type=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={criteria.mainTenant}\n\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value={-1}> ---</option>\n\t\t\t\t\t\t\t\t\t{mainTenantItems.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t\t<option key={i} value={i}>{rec.code} - {rec.name}</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col md={5}>\n\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t<Col xs={7} md={8}>\n\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tid=\"keywords_mainTenant\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={criteria.keywords_mainTenant}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col xs={5} md={4}>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-left\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"info\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t\t<BiSearchAlt /> {t(\"soajs:buttons.Filter\")}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\tOnly 50 tenant appears in this list, you can filter by name and code\n\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t{criteria.mainTenant !== -1 &&\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"tenantType\"\n\t\t\t\t\t\t\t\t\tvalue={criteria.tenantType}\n\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"Product\">Main Tenant Users and Groups</option>\n\t\t\t\t\t\t\t\t\t<option value=\"Client\">Sub Tenant Users and Groups</option>\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t{criteria.tenantType === \"Client\" &&\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t<Col md={7}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"subTenant\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={criteria.subTenant}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={-1}> ---</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{subTenantItems.map((rec, i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={i} value={i}>{rec.code} - {rec.name}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col md={5}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={7} md={8}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"keywords_subTenant\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={criteria.keywords_subTenant}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={5} md={4}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-left\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"info\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<BiSearchAlt /> {t(\"soajs:buttons.Filter\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tOnly 50 tenant appears in this list, you can filter by name and code\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Alert>\n\t\t\t\t\t{criteria.tenantType === \"Product\" && criteria.mainTenant !== -1 && mainTenantItems && mainTenantItems[criteria.mainTenant] &&\n\t\t\t\t\t\t<Tabs className=\"mt-4\">\n\t\t\t\t\t\t\t<Tab eventKey=\"Users\" title={t(\"soajs:fields.Users\")}>\n\t\t\t\t\t\t\t\t<TenantUsers\n\t\t\t\t\t\t\t\t\tscope={\"myTenancy\"}\n\t\t\t\t\t\t\t\t\ttenantId={mainTenantItems[criteria.mainTenant]._id}\n\t\t\t\t\t\t\t\t\ttenantCode={mainTenantItems[criteria.mainTenant].code}\n\t\t\t\t\t\t\t\t\textKey={tenantKey}\n\t\t\t\t\t\t\t\t\tenv={selectedEnv}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t<Tab eventKey=\"InvitedUsers\" title={t(\"soajs:fields.InvitedUsers\")}>\n\t\t\t\t\t\t\t\t<TenantUsers\n\t\t\t\t\t\t\t\t\tscope={\"otherTenancyInvited\"}\n\t\t\t\t\t\t\t\t\ttenantId={mainTenantItems[criteria.mainTenant]._id}\n\t\t\t\t\t\t\t\t\ttenantCode={mainTenantItems[criteria.mainTenant].code}\n\t\t\t\t\t\t\t\t\textKey={tenantKey}\n\t\t\t\t\t\t\t\t\tenv={selectedEnv}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t<Tab eventKey=\"Groups\" title={t(\"soajs:fields.Groups\")}>\n\t\t\t\t\t\t\t\t<TenantGroups\n\t\t\t\t\t\t\t\t\ttenantId={mainTenantItems[criteria.mainTenant]._id}\n\t\t\t\t\t\t\t\t\textKey={tenantKey}\n\t\t\t\t\t\t\t\t\tenv={selectedEnv}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t}\n\t\t\t\t\t{criteria.tenantType === \"Client\" && criteria.subTenant !== -1 &&\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Tabs className=\"mt-4\">\n\t\t\t\t\t\t\t\t<Tab eventKey=\"InvitedUsers\" title={t(\"soajs:fields.InvitedUsers\")}>\n\t\t\t\t\t\t\t\t\t<TenantUsers\n\t\t\t\t\t\t\t\t\t\tscope={null}\n\t\t\t\t\t\t\t\t\t\ttenantId={subTenantItems[criteria.subTenant]._id}\n\t\t\t\t\t\t\t\t\t\textKey={tenantKey}\n\t\t\t\t\t\t\t\t\t\tenv={selectedEnv}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t\t<Tab eventKey=\"Groups\" title={t(\"soajs:fields.Groups\")}>\n\t\t\t\t\t\t\t\t\t<TenantGroups\n\t\t\t\t\t\t\t\t\t\textKey={tenantKey}\n\t\t\t\t\t\t\t\t\t\tenv={selectedEnv}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t</>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../services\";\n\nconst multitenantService = MultitenantService.getService();\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tif (modalOpt.item.type === \"product\") {\n\t\t\t\tawait multitenantService.deleteProduct({\n\t\t\t\t\t\"id\": modalOpt.item.id\n\t\t\t\t});\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + modalOpt.item.type));\n\t\t\t\thandleAction();\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\t\n\t\t\tif (modalOpt.item.type === \"package\") {\n\t\t\t\tawait multitenantService.deletePackage({\n\t\t\t\t\t\"id\": modalOpt.item.id,\n\t\t\t\t\t\"code\": modalOpt.item.code\n\t\t\t\t});\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + modalOpt.item.type));\n\t\t\t\thandleAction();\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\t\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body style={{\n\t\t\t\t\"wordBreak\": \"break-all\"}}>\n\t\t\t\t{t(\"soajs:messages.deleteQuestion\")}<span\n\t\t\t\tclassName=\"ml-3 font-weight-bold\">{modalOpt.item ? modalOpt.item.type : \"\"}: [<span\n\t\t\t\tclassName=\"text-danger\">{modalOpt.item ? modalOpt.item.name : \"\"}</span>]</span>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../services\";\nimport deepSet from \"../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\nconst initFields = {\n\t\"name\": \"\",\n\t\"description\": \"\",\n\t\"code\": \"\"\n};\n\nexport default function AddModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0 &&\n\t\t\tfields.code.length === 5\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait multitenantService.addProduct(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.productAdd\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.productAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Code\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tplaceholder=\"5 alphanumeric characters only\"\n\t\t\t\t\t\t\tid=\"code\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.code}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../services\";\nimport deepSet from \"../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\nconst initFields = {\n\t\"id\": \"\",\n\t\"name\": \"\",\n\t\"description\": \"\",\n\t\"code\": \"\"\n};\n\nexport default function UpdateModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait multitenantService.updateProduct(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.productUpdate\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields(Object.assign({}, initFields, modalOpt.item));\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.productUpdate\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Code\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"code\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.code}\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../services\";\nimport deepSet from \"../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\nconst initFields = {\n\t\"id\": \"\",\n\t\"name\": \"\",\n\t\"description\": \"\",\n\t\"code\": \"\",\n\t\"_TTL\": \"168\"\n};\n\nexport default function AddPackageModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0 &&\n\t\t\tfields.code.length === 5\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tfields.id = modalOpt.item.id;\n\t\t\tawait multitenantService.addPackage(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.packageAdd\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.packageAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Code\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tplaceholder=\"5 alphanumeric characters only\"\n\t\t\t\t\t\t\tid=\"code\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.code}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.TTL\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control as=\"select\" id=\"_TTL\"\n\t\t\t\t\t\t              defaultValue={fields._TTL}\n\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"6\">6 hours</option>\n\t\t\t\t\t\t\t<option value=\"12\">12 hours</option>\n\t\t\t\t\t\t\t<option value=\"24\">24 hours</option>\n\t\t\t\t\t\t\t<option value=\"48\">2 days</option>\n\t\t\t\t\t\t\t<option value=\"72\">3 days</option>\n\t\t\t\t\t\t\t<option value=\"96\">4 days</option>\n\t\t\t\t\t\t\t<option value=\"120\">5 days</option>\n\t\t\t\t\t\t\t<option value=\"144\">6 days</option>\n\t\t\t\t\t\t\t<option value=\"168\">7 days</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../services\";\nimport deepSet from \"../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\nconst initFields = {\n\t\"id\": \"\",\n\t\"code\": \"\",\n\t\"name\": \"\",\n\t\"description\": \"\",\n\t\"_TTL\": \"168\"\n};\n\nexport default function UpdatePackageModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait multitenantService.updatePackage(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.packageUpdate\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields(Object.assign({}, initFields, modalOpt.item));\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.packageUpdate\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Code\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"code\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.code}\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.TTL\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control as=\"select\" id=\"_TTL\"\n\t\t\t\t\t\t              value={fields._TTL}\n\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"6\">6 hours</option>\n\t\t\t\t\t\t\t<option value=\"12\">12 hours</option>\n\t\t\t\t\t\t\t<option value=\"24\">24 hours</option>\n\t\t\t\t\t\t\t<option value=\"48\">2 days</option>\n\t\t\t\t\t\t\t<option value=\"72\">3 days</option>\n\t\t\t\t\t\t\t<option value=\"96\">4 days</option>\n\t\t\t\t\t\t\t<option value=\"120\">5 days</option>\n\t\t\t\t\t\t\t<option value=\"144\">6 days</option>\n\t\t\t\t\t\t\t<option value=\"168\">7 days</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Accordion, Button, Card, Table} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\n\nimport {GoDiffAdded} from \"react-icons/go\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../services\";\nimport DeleteButton from \"../../../buttons/Delete\";\nimport EditButton from \"../../../buttons/Edit\";\nimport {useTranslation} from \"react-i18next\";\nimport ViewButton from \"../../../buttons/View\";\nimport AclButton from \"../../../buttons/Acl\";\nimport {useAppContext} from \"../../../../soajs/libs/contextLib\";\n\nimport DeleteModal from \"./DeleteModal\";\nimport AddModal from \"./AddModal\";\nimport UpdateModal from \"./UpdateModal\";\nimport AddPackageModal from \"./AddPackageModal\";\nimport UpdatePackageModal from \"./UpdatePackageModal\";\nimport InfoModal from \"../../../Settings/containers/Packages/InfoModal/InfoModal\";\nimport {useHistory} from \"react-router-dom\";\n\nasync function onLoad(setFields, isSubscribed) {\n\ttry {\n\t\tconst response = await multitenantService.getProducts();\n\t\tif (isSubscribed && response) {\n\t\t\tsetFields(response);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nconst multitenantService = MultitenantService.getService();\n\nexport default function Products() {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\t\n\tconst history = useHistory();\n\t\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, item: null});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, item: item});\n\tconst [modalUpdateProductOpt, setModalUpdateProductOpt] = useState({\"show\": false, item: null});\n\tconst modalUpdateProductOptShow = (item) => setModalUpdateProductOpt({\"show\": true, item: item});\n\tconst [modalAddProductOpt, setModalAddProductOpt] = useState({\"show\": false, item: null});\n\tconst modalAddProductOptShow = (item) => setModalAddProductOpt({\"show\": true, item: item});\n\tconst [modalUpdatePackageOpt, setModalUpdatePackageOpt] = useState({\"show\": false, item: null});\n\tconst modalUpdatePackageOptShow = (item) => setModalUpdatePackageOpt({\"show\": true, item: item});\n\tconst [modalAddPackageOpt, setModalAddPackageOpt] = useState({\"show\": false, item: null});\n\tconst modalAddPackageOptShow = (item) => setModalAddPackageOpt({\"show\": true, item: item});\n\t\n\tconst [modalInfoOpt, setModalInfoOpt] = useState({\"show\": false, opts: null, scope: null});\n\tconst modalInfoOptShow = (pack, scope) => setModalInfoOpt({\"show\": true, opts: pack, scope: scope});\n\t\n\tasync function reLoad() {\n\t\tawait onLoad(setFields, true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tonLoad(setFields, isSubscribed).catch();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<>\n\t\t\t<DeleteModal\n\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<UpdateModal\n\t\t\t\tmodalOpt={modalUpdateProductOpt}\n\t\t\t\tsetModalOpt={setModalUpdateProductOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<AddModal\n\t\t\t\tmodalOpt={modalAddProductOpt}\n\t\t\t\tsetModalOpt={setModalAddProductOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<UpdatePackageModal\n\t\t\t\tmodalOpt={modalUpdatePackageOpt}\n\t\t\t\tsetModalOpt={setModalUpdatePackageOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<AddPackageModal\n\t\t\t\tmodalOpt={modalAddPackageOpt}\n\t\t\t\tsetModalOpt={setModalAddPackageOpt}\n\t\t\t\thandleAction={reLoad}\n\t\t\t/>\n\t\t\t<InfoModal\n\t\t\t\tmodalOpt={modalInfoOpt}\n\t\t\t\tsetModalOpt={setModalInfoOpt}\n\t\t\t/>\n\t\t\t<div className=\"mb-1\">\n\t\t\t\t<h5 className=\"float-left font-weight-bold\">Available products</h5>\n\t\t\t\t\n\t\t\t\t{ability.can('product', 'add') &&\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"float-right mb-1\"\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tmodalAddProductOptShow({});\n\t\t\t\t\t}}\n\t\t\t\t><GoDiffAdded/> {t(\"soajs:buttons.Add\")}</Button>}\n\t\t\t\t\n\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t</div>\n\t\t\t{fields.map((rec, index) => (\n\t\t\t\t<Accordion className=\"mb-2\" key={index + 1} defaultActiveKey={1}>\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<Card.Header style={{\"backgroundColor\": \"#DEF1F7\"}}>\n\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\"\n\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">{rec.name}</span> [{rec.code}]\n\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('product', 'delete') &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\"type\": \"product\",\n\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.name\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('product', 'edit') &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalUpdateProductOptShow({\n\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\"code\": rec.code,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.name || \"\",\n\t\t\t\t\t\t\t\t\t\t\"description\": rec.description || \"\"\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<span className=\"small\">{rec.description}</span>\n\t\t\t\t\t\t\t\t<hr className=\"mt-4\"/>\n\t\t\t\t\t\t\t\t<div className=\"mb-1\">\n\t\t\t\t\t\t\t\t\t<h6 className=\"float-left font-weight-bold\">Available packages</h6>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t{ability.can('package', 'add') &&\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right mb-1\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tmodalAddPackageOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t><GoDiffAdded/> {t(\"soajs:buttons.Add\")}</Button>}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Table responsive striped hover size=\"sm\" className=\"small\">\n\t\t\t\t\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:buttons.Actions\")}</th>\n\t\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Code\")}</th>\n\t\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Name\")}</th>\n\t\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.Description\")}</th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t{rec.packages.map((pack, index) => (\n\t\t\t\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t\t\t\t<td nowrap=\"true\">\n\t\t\t\t\t\t\t\t\t\t\t\t<ViewButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpack.turnOffAbilityView = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalInfoOptShow(pack, rec.scope);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('package', 'delete') &&\n\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"type\": \"package\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"code\": pack.code,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\": pack.name\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('package', 'edit') &&\n\t\t\t\t\t\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalUpdatePackageOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"code\": pack.code,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\": pack.name || \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"description\": pack.description || \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"_TTL\": pack._TTL ? pack._TTL / 3600000 : 168,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('package', 'acl') &&\n\t\t\t\t\t\t\t\t\t\t\t\t<AclButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thistory.push(\"/multitenancy/products/\" + rec._id + \"/acl/\" + pack.code);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>{pack.code}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td nowrap=\"true\">{pack.name}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>{pack.description}</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t</Accordion>\n\t\t\t))}\n\t\t</>\n\t);\n}","import {\n\tListGroup,\n\tListGroupItem,\n\tRow,\n\tCol,\n\tAlert,\n\tForm,\n\tAccordion,\n\tCard,\n\tButton,\n\tJumbotron,\n\tTab, Tabs, useAccordionToggle\n} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useParams} from \"react-router-dom\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../soajs/urac/components\";\nimport {ConsoleService, MultitenantService} from \"../../../../services\";\nimport {SoaanalyticsService} from \"../../../../services\";\nimport {BiSearchAlt} from \"react-icons/bi\";\nimport AutoPagination from \"../../../../lib/AutoPagination\";\nimport AddButton from \"../../../buttons/Add\";\nimport DeleteButton from \"../../../buttons/Delete\";\nimport getACL from \"../../../Settings/containers/Packages/lib/scopeAclLib\";\nimport {FcCollapse, FcExpand} from \"react-icons/fc\";\n\nconst consoleService = ConsoleService.getService();\nconst multitenantService = MultitenantService.getService();\nconst soaanalyticsService = SoaanalyticsService.getService();\nconst initFields = null;\n\nconst initCriteria = {\n\t\"type\": \"service\",\n\t\"includeSOAJS\": false,\n\t\"serviceName\": \"\",\n\t\"serviceGroup\": \"\",\n\t\"serviceVersion\": \"\",\n\t\"route\": \"\"\n};\n\nconst methodVariant = {\n\t\"get\": \"primary\",\n\t\"post\": \"success\",\n\t\"delete\": \"danger\",\n\t\"put\": \"warning\",\n\t\"patch\": \"info\",\n\t\"head\": \"secondary\",\n\t\"other\": \"light\"\n};\n\nfunction CustomToggle({children, eventKey, handleClick}) {\n\tconst decoratedOnClick = useAccordionToggle(eventKey, () => {\n\t\thandleClick();\n\t});\n\treturn (\n\t\t<div className=\"float-left\" type=\"button\" onClick={decoratedOnClick}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nfunction getMethodVariant(method) {\n\tif (method && methodVariant[method]) {\n\t\treturn methodVariant[method];\n\t} else {\n\t\treturn methodVariant[\"other\"];\n\t}\n}\n\nfunction getApiAccess(api) {\n\tif (api.hasOwnProperty(\"access\")) {\n\t\treturn api.access;\n\t} else {\n\t\treturn \"inherit\";\n\t}\n}\n\nfunction isApiAdded(fieldsPackage, selectedEnv, service, version, method, api) {\n\tif (fieldsPackage &&\n\t\tfieldsPackage.acl &&\n\t\tfieldsPackage.acl[selectedEnv]) {\n\t\tif (fieldsPackage.acl[selectedEnv][service] &&\n\t\t\tfieldsPackage.acl[selectedEnv][service][version]) {\n\t\t\tif (fieldsPackage.acl[selectedEnv][service][version][method] &&\n\t\t\t\tfieldsPackage.acl[selectedEnv][service][version][method].apis &&\n\t\t\t\tfieldsPackage.acl[selectedEnv][service][version][method].apis[api]) {\n\t\t\t\t\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}\n\nasync function onLoadApi(setFieldsApi, setPagination, currentPage, isSubscribed, criteria) {\n\ttry {\n\t\tlet c = {\n\t\t\t\"limit\": 6,\n\t\t\t\"start\": (currentPage - 1) * 6,\n\t\t\t\"type\": criteria.type,\n\t\t\t\"includeSOAJS\": criteria.includeSOAJS,\n\t\t\t\"keywords\": {\n\t\t\t\t\"serviceName\": criteria.serviceName,\n\t\t\t\t\"serviceGroup\": criteria.serviceGroup,\n\t\t\t\t\"serviceVersion\": criteria.serviceVersion,\n\t\t\t\t\"route\": criteria.route\n\t\t\t}\n\t\t};\n\t\tconst response = await soaanalyticsService.getApis(c);\n\t\tif (isSubscribed) {\n\t\t\tif (response && response.records) {\n\t\t\t\tsetFieldsApi(response.records);\n\t\t\t\tsetPagination(\n\t\t\t\t\t{\n\t\t\t\t\t\t\"totalItems\": response.count,\n\t\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\t\"itemsPerPage\": response.limit\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nasync function onLoad(setFields, setFieldsPackage, setFieldsEnvironments, setFSelectedEnv, id, code, isSubscribed) {\n\ttry {\n\t\tconst response = await multitenantService.getProduct(id);\n\t\tconst _environments = await consoleService.getEnvironments();\n\t\tif (_environments && isSubscribed) {\n\t\t\tlet envs = [];\n\t\t\tfor (let i = 0; i < _environments.length; i++) {\n\t\t\t\tenvs.push(_environments[i].code.toLowerCase());\n\t\t\t}\n\t\t\tsetFieldsEnvironments(envs);\n\t\t\tsetFSelectedEnv(envs[0] || null);\n\t\t}\n\t\tif (isSubscribed && response) {\n\t\t\tsetFields(response);\n\t\t\tif (response.packages && response.packages.length > 0) {\n\t\t\t\tlet pack = response.packages.filter((p) => {\n\t\t\t\t\treturn p.code === code;\n\t\t\t\t})\n\t\t\t\tif (pack) {\n\t\t\t\t\tpack = pack[0];\n\t\t\t\t\tlet envs = Object.keys(pack.acl)\n\t\t\t\t\t// setFieldsEnvironments(envs);\n\t\t\t\t\t// setFSelectedEnv(envs[0] || null);\n\t\t\t\t\tlet convertedPack = {\n\t\t\t\t\t\t\"acl\": {},\n\t\t\t\t\t\t\"code\": pack.code,\n\t\t\t\t\t\t\"name\": pack.name,\n\t\t\t\t\t\t\"aclTypeByEnv\": pack.aclTypeByEnv || {}\n\t\t\t\t\t};\n\t\t\t\t\tfor (let i = 0; i < envs.length; i++) {\n\t\t\t\t\t\tif (pack.aclTypeByEnv && pack.aclTypeByEnv[envs[i]] && pack.aclTypeByEnv[envs[i]] === \"granular\") {\n\t\t\t\t\t\t\tconvertedPack.acl[envs[i]] = pack.acl[envs[i]];\n\t\t\t\t\t\t} else if (response.scope) {\n\t\t\t\t\t\t\tObject.keys(pack.acl[envs[i]]).map((service, index) => {\n\t\t\t\t\t\t\t\tlet ACL = {};\n\t\t\t\t\t\t\t\tfor (let j = 0; j < pack.acl[envs[i]][service].length; j++) {\n\t\t\t\t\t\t\t\t\tif (pack.acl[envs[i]][service][j].version) {\n\t\t\t\t\t\t\t\t\t\tlet version = pack.acl[envs[i]][service][j].version;\n\t\t\t\t\t\t\t\t\t\tif (response.scope.acl[envs[i]][service][version]) {\n\t\t\t\t\t\t\t\t\t\t\tACL[version] = getACL(response.scope.acl[envs[i]][service][version], pack.acl[envs[i]][service][j]);\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (!convertedPack.acl[envs[i]]) {\n\t\t\t\t\t\t\t\t\tconvertedPack.acl[envs[i]] = {};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconvertedPack.acl[envs[i]][service] = ACL;\n\t\t\t\t\t\t\t\tconvertedPack.aclTypeByEnv[envs[i]] = \"granular\";\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tsetFieldsPackage(convertedPack);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function PackageAcl() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [activeKey, setActiveKey] = useState(0);\n\tconst [fields, setFields] = useState(initFields);\n\tconst [fieldsPackage, setFieldsPackage] = useState({});\n\tconst [fieldsEnvironments, setFieldsEnvironments] = useState([]);\n\tconst [selectedEnv, setFSelectedEnv] = useState(null);\n\t\n\tconst [fieldsApi, setFieldsApi] = useState([]);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [criteria, setCriteria] = useState(initCriteria);\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\t\n\tasync function reLoadApi(page) {\n\t\tawait onLoadApi(setFieldsApi, setPagination, page || currentPage, true, criteria)\n\t}\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait reLoadApi(1);\n\t}\n\t\n\tconst {id} = useParams();\n\tconst {code} = useParams();\n\t\n\tfunction handleEnvChange(event) {\n\t\tsetFSelectedEnv(event.target.value);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (id) {\n\t\t\tonLoad(setFields, setFieldsPackage, setFieldsEnvironments, setFSelectedEnv, id, code, isSubscribed).catch();\n\t\t}\n\t\tonLoadApi(setFieldsApi, setPagination, 1, isSubscribed, initCriteria).catch();\n\t\treturn () => (isSubscribed = false);\n\t}, [id, code]);\n\t\n\tfunction updateService(event, selectedEnv, service, version) {\n\t\tif (event.target.id === \"apisPermission\") {\n\t\t\tlet obj = fieldsPackage;\n\t\t\tif (event.target.value === \"restricted\") {\n\t\t\t\tobj.acl[selectedEnv][service][version].apisPermission = event.target.value;\n\t\t\t} else {\n\t\t\t\tdelete obj.acl[selectedEnv][service][version].apisPermission;\n\t\t\t}\n\t\t\tsetFieldsPackage({...obj});\n\t\t} else if (event.target.id === \"access\") {\n\t\t\tlet obj = fieldsPackage;\n\t\t\tobj.acl[selectedEnv][service][version].access = event.target.value;\n\t\t\tsetFieldsPackage({...obj});\n\t\t}\n\t}\n\t\n\tfunction updateAPI(event, selectedEnv, service, version, method, api) {\n\t\tif (event.target.id === \"access\") {\n\t\t\tlet obj = fieldsPackage;\n\t\t\tif (event.target.value === \"true\") {\n\t\t\t\tobj.acl[selectedEnv][service][version][method].apis[api].access = true;\n\t\t\t} else if (event.target.value === \"false\") {\n\t\t\t\tobj.acl[selectedEnv][service][version][method].apis[api].access = false;\n\t\t\t} else {\n\t\t\t\tdelete obj.acl[selectedEnv][service][version][method].apis[api].access;\n\t\t\t}\n\t\t\tsetFieldsPackage({...obj});\n\t\t}\n\t}\n\t\n\tfunction addAPI(service, version, method, api, group) {\n\t\tif (!fieldsPackage.acl) {\n\t\t\tfieldsPackage.acl = {};\n\t\t}\n\t\tif (!fieldsPackage.acl[selectedEnv]) {\n\t\t\tfieldsPackage.acl[selectedEnv] = {};\n\t\t}\n\t\tif (!fieldsPackage.acl[selectedEnv][service]) {\n\t\t\tfieldsPackage.acl[selectedEnv][service] = {};\n\t\t}\n\t\tif (!fieldsPackage.acl[selectedEnv][service][version]) {\n\t\t\tfieldsPackage.acl[selectedEnv][service][version] = {\n\t\t\t\t\"access\": true,\n\t\t\t\t\"apisPermission\": \"restricted\"\n\t\t\t};\n\t\t} else {\n\t\t\tfieldsPackage.acl[selectedEnv][service][version].apisPermission = \"restricted\";\n\t\t}\n\t\tif (!fieldsPackage.acl[selectedEnv][service][version][method]) {\n\t\t\tfieldsPackage.acl[selectedEnv][service][version][method] = {};\n\t\t}\n\t\tif (!fieldsPackage.acl[selectedEnv][service][version][method].apis) {\n\t\t\tfieldsPackage.acl[selectedEnv][service][version][method].apis = {};\n\t\t}\n\t\tif (!fieldsPackage.acl[selectedEnv][service][version][method].apis[api]) {\n\t\t\tfieldsPackage.acl[selectedEnv][service][version][method].apis[api] = {\n\t\t\t\t\"access\": true,\n\t\t\t\t\"group\": group\n\t\t\t};\n\t\t}\n\t\tfieldsPackage.aclTypeByEnv[selectedEnv] = \"granular\";\n\t\tsetFieldsPackage({...fieldsPackage});\n\t}\n\t\n\tfunction removeAPI(service, version, method, api) {\n\t\tif (fieldsPackage.acl &&\n\t\t\tfieldsPackage.acl[selectedEnv] &&\n\t\t\tfieldsPackage.acl[selectedEnv][service] &&\n\t\t\tfieldsPackage.acl[selectedEnv][service][version] &&\n\t\t\tfieldsPackage.acl[selectedEnv][service][version][method] &&\n\t\t\tfieldsPackage.acl[selectedEnv][service][version][method].apis &&\n\t\t\tfieldsPackage.acl[selectedEnv][service][version][method].apis[api]\n\t\t) {\n\t\t\tdelete fieldsPackage.acl[selectedEnv][service][version][method].apis[api];\n\t\t\tsetFieldsPackage({...fieldsPackage});\n\t\t}\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait multitenantService.updatePackageAcl({\n\t\t\t\t\"id\": fields._id,\n\t\t\t\t\"code\": fieldsPackage.code,\n\t\t\t\t\"env\": selectedEnv,\n\t\t\t\t\"type\": fieldsPackage.aclTypeByEnv[selectedEnv],\n\t\t\t\t\"acl\": fieldsPackage.acl[selectedEnv]\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.updatePackageAcl\"));\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\tid && fields &&\n\t\t<>\n\t\t\t<ListGroup variant=\"flush\">\n\t\t\t\t<ListGroupItem>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<span className=\"font-weight-bold\">{t(\"soajs:fields.ProductCode\")}:</span> {fields.code}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<span className=\"font-weight-bold\">{t(\"soajs:fields.ProductName\")}:</span> {fields.name}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</ListGroupItem>\n\t\t\t\t<ListGroupItem>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.PackageCode\")}:</span> {fieldsPackage.code}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"font-weight-bold\">{t(\"soajs:fields.PackageName\")}:</span> {fieldsPackage.name}\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</ListGroupItem>\n\t\t\t</ListGroup>\n\t\t\t<hr/>\n\t\t\t\n\t\t\t<Alert variant=\"info\">\n\t\t\t\t<Form.Control\n\t\t\t\t\tas=\"select\"\n\t\t\t\t\tid=\"env\"\n\t\t\t\t\tvalue={selectedEnv || \"\"}\n\t\t\t\t\tonChange={handleEnvChange}\n\t\t\t\t>\n\t\t\t\t\t{fieldsEnvironments.map((env, index) => (\n\t\t\t\t\t\t<option key={index} value={env}>{t(\"soajs:titles.environment\")}: {env}</option>\n\t\t\t\t\t))}\n\t\t\t\t</Form.Control>\n\t\t\t</Alert>\n\t\t\t<hr/>\n\t\t\t\n\t\t\t{selectedEnv &&\n\t\t\t<>\n\t\t\t\t\n\t\t\t\t<Accordion activeKey={activeKey}>\n\t\t\t\t\t<CustomToggle\n\t\t\t\t\t\teventKey={1}\n\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\tif (activeKey === 1) {\n\t\t\t\t\t\t\t\tsetActiveKey(null);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetActiveKey(1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{activeKey === 1 ? <FcExpand className=\"mr-1\"/> :\n\t\t\t\t\t\t\t<FcCollapse className=\"mr-1\"/>} <span\n\t\t\t\t\t\tclassName=\"small font-weight-bold text-secondary\">Click here to Find more APIs and Add them to the package ACL</span>\n\t\t\t\t\t</CustomToggle>\n\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t\t<Accordion.Collapse eventKey={1}>\n\t\t\t\t\t\t<Jumbotron className=\"p-3\">\n\t\t\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t\t\t<Row className=\"small\">\n\t\t\t\t\t\t\t\t\t<Col xs={4}>\n\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.ServiceName\")}\n\t\t\t\t\t\t\t\t\t\t\tid=\"serviceName\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t\tvalue={criteria.serviceName}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col xs={4}>\n\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.ServiceVersion\")}\n\t\t\t\t\t\t\t\t\t\t\tid=\"serviceVersion\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t\tvalue={criteria.serviceVersion}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col xs={4}>\n\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.ServiceGroup\")}\n\t\t\t\t\t\t\t\t\t\t\tid=\"serviceGroup\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t\tvalue={criteria.serviceGroup}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t<Row className=\"small mt-4\">\n\t\t\t\t\t\t\t\t\t<Col xs={6} md={7}>\n\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t(\"soajs:fields.Route\")}\n\t\t\t\t\t\t\t\t\t\t\tid=\"route\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t\tvalue={criteria.route}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col xs={3}>\n\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\tid=\"includeSOAJS\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Include SOAJS APIs\"\n\t\t\t\t\t\t\t\t\t\t\tdefaultChecked={criteria.includeSOAJS}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col xs={3} md={2}>\n\t\t\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\"\n\t\t\t\t\t\t\t\t\t\t        onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t{fieldsApi.map((api, index) => (\n\t\t\t\t\t\t\t\tapi.method && api.route &&\n\t\t\t\t\t\t\t\t<Alert className=\"m-1 p-2\" key={index} variant={getMethodVariant(api.method)}>\n\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isApiAdded(fieldsPackage, selectedEnv, api.serviceName, api.v, api.method, api.route)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-left pl-1 pr-1 pt-0 pb-0 mr-2\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\taddAPI(api.serviceName, api.v, api.method, api.route, api.apiGroup);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2 pl-1 pr-1 pt-0 pb-0 float-left\"\n\t\t\t\t\t\t\t\t\t\t\t        variant={getMethodVariant(api.method)}><span\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"small\">{api.method.toUpperCase()}</span></Button>\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"small float-left font-weight-bold mr-1\">{api.serviceName}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"small float-left mr-2 font-weight-bold text-success\"> v{api.v} </span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"small float-left\">{api.route}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"small float-right text-info\">{api.group}</span>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t\t\t\t\t<AutoPagination\n\t\t\t\t\t\t\t\t\tclassName=\"mb-0\"\n\t\t\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\t\t\t\t\treLoadApi(p);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t</Accordion>\n\t\t\t\t<hr/>\n\t\t\t\t\n\t\t\t\t{fieldsPackage && fieldsPackage.acl && fieldsPackage.acl[selectedEnv] &&\n\t\t\t\t<>\n\t\t\t\t\t<Alert variant=\"warning\">\n\t\t\t\t\t\t<h6 className=\"float-left text-dark font-weight-bold mt-3\">\n\t\t\t\t\t\t\tIf you change the ACL, make sure you update for each environment\n\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"mt-2 float-right\"\n\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(\"soajs:buttons.Update\")} ACL for [<span\n\t\t\t\t\t\t\tclassName=\"text-dark font-weight-bold\">{selectedEnv}</span>]\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t\t</Alert>\n\t\t\t\t\t<Accordion defaultActiveKey={1}>\n\t\t\t\t\t\t{Object.keys(fieldsPackage.acl[selectedEnv]).map((service, index) => (\n\t\t\t\t\t\t\t<Card key={index + 1}>\n\t\t\t\t\t\t\t\t<Card.Header className=\"pt-1 pb-1 pr-2 pl-2\">\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\"\n\t\t\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t{service}\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<Tabs defaultActiveKey=\"1\"\n\t\t\t\t\t\t\t\t\t\t      style={{borderBottom: \"1px solid #dee2e6\"}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{Object.keys(fieldsPackage.acl[selectedEnv][service]).map((version, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t\teventKey={index + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={t(\"soajs:fields.Version\") + \" \" + version}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttabClassName=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup variant=\"flush\" className=\"small mt-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label className=\"font-weight-bold mr-3 mt-1\">Service's\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAPIs\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefault access\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tis: </Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"access\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={fieldsPackage.acl[selectedEnv][service][version].access || false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateService(event, selectedEnv, service, version);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={true}>Private - requires logged\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tin\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={false}>Public - anyone can access\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label className=\"font-weight-bold mr-3 mt-1\">Access\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tis\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trestricted to the selected\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAPIs: </Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"apisPermission\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={fieldsPackage.acl[selectedEnv][service][version].apisPermission || \"notRestricted\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateService(event, selectedEnv, service, version);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"restricted\">Yes - only the\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAPIs are\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taccessible\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"notRestricted\">No - all APIs are\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taccessible\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t{(fieldsPackage.acl[selectedEnv][service][version].apisPermission &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldsPackage.acl[selectedEnv][service][version].apisPermission === \"restricted\") &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tObject.keys(methodVariant).map((method, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldsPackage.acl[selectedEnv][service][version][method] && fieldsPackage.acl[selectedEnv][service][version][method].apis &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tObject.keys(fieldsPackage.acl[selectedEnv][service][version][method].apis).map((api, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-1 p-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant={getMethodVariant(method)}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col className=\"small\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-left pl-1 pr-1 pt-0 pb-0 mr-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tremoveAPI(service, version, method, api);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t        className=\"mr-2 pl-1 pr-1 pt-0 pb-0 float-left\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t        variant={getMethodVariant(method)}><span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"small\">{method.toUpperCase()}</span></Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"float-left mt-1\">{api}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col className=\"small\" xs={3} sm={3} md={2}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"fontSize\": \"80%\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"access\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={getApiAccess(fieldsPackage.acl[selectedEnv][service][version][method].apis[api])}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateAPI(event, selectedEnv, service, version, method, api);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"true\">Private</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"false\">Public</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"inherit\">Inherit from service\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Accordion>\n\t\t\t\t</>\n\t\t\t\t}\n\t\t\t</>\n\t\t\t}\n\t\t</>\n\t);\n}","import {Button, Modal} from \"react-bootstrap\";\nimport React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\n\nconst multitenantService = MultitenantService.getService();\n\nexport default function DeleteModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tif (modalOpt.item.type === \"tenant\") {\n\t\t\t\tawait multitenantService.deleteTenant({\n\t\t\t\t\t\"id\": modalOpt.item.id\n\t\t\t\t});\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + modalOpt.item.type));\n\t\t\t\thandleAction();\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\t\n\t\t\tif (modalOpt.item.type === \"application\") {\n\t\t\t\tawait multitenantService.deleteTenantApplication({\n\t\t\t\t\t\"id\": modalOpt.item.id,\n\t\t\t\t\t\"appId\": modalOpt.item.appId\n\t\t\t\t});\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + modalOpt.item.type));\n\t\t\t\thandleAction();\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\t\n\t\t\tif (modalOpt.item.type === \"key\") {\n\t\t\t\tawait multitenantService.deleteTenantApplicationKey({\n\t\t\t\t\t\"id\": modalOpt.item.id,\n\t\t\t\t\t\"appId\": modalOpt.item.appId,\n\t\t\t\t\t\"key\": modalOpt.item.key\n\t\t\t\t});\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + modalOpt.item.type));\n\t\t\t\thandleAction();\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\t\n\t\t\tif (modalOpt.item.type === \"extKey\") {\n\t\t\t\tawait multitenantService.deleteTenantApplicationKeyExt({\n\t\t\t\t\t\"id\": modalOpt.item.id,\n\t\t\t\t\t\"appId\": modalOpt.item.appId,\n\t\t\t\t\t\"key\": modalOpt.item.key,\n\t\t\t\t\t\"extKey\": modalOpt.item.extKey\n\t\t\t\t});\n\t\t\t\tNotificationManager.success(t(\"soajs:messages.delete_\" + modalOpt.item.type));\n\t\t\t\thandleAction();\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:buttons.Delete\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body style={{\n\t\t\t\t\"wordBreak\": \"break-all\"}}>\n\t\t\t\t{t(\"soajs:messages.deleteQuestion\")}<span\n\t\t\t\tclassName=\"ml-3 font-weight-bold\">{modalOpt.item ? modalOpt.item.type : \"\"}: [<span\n\t\t\t\tclassName=\"text-danger\">{modalOpt.item ? modalOpt.item.label : \"\"}</span>]</span>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleSubmit}>\n\t\t\t\t\t{t(\"soajs:buttons.Delete\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\nimport deepSet from \"../../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\n\nconst initFields = {\n\t\"id\": \"\",\n\t\"appId\": \"\",\n\t\"key\": \"\",\n\t\"envCode\": \"\",\n\t\"config\": {},\n\t\"configAllEnv\": {}\n};\n\nexport default function ConfigureKeyModal({modalOpt, setModalOpt, handleAction, environments}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.envCode.length > 0\n\t\t);\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\tfields.config = json;\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tif (event.target.id === \"envCode\") {\n\t\t\tif (fields.configAllEnv[value.toLowerCase()]) {\n\t\t\t\tdeepSet(obj, \"config\", fields.configAllEnv[value.toLowerCase()]);\n\t\t\t} else {\n\t\t\t\tdeepSet(obj, \"config\", {});\n\t\t\t}\n\t\t}\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait multitenantService.updateTenantApplicationKey({\n\t\t\t\t\"id\": fields.id,\n\t\t\t\t\"appId\": fields.appId,\n\t\t\t\t\"key\": fields.key,\n\t\t\t\t\"envCode\": fields.envCode,\n\t\t\t\t\"config\": fields.config\n\t\t\t});\n\t\t\tNotificationManager.success(t(\"soajs:messages.tenantApplicationKey\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields(Object.assign({}, initFields, modalOpt.item));\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tenantApplicationKey\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Env\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"envCode\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.envCode}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">---</option>\n\t\t\t\t\t\t\t{environments.map((rec, index) => (\n\t\t\t\t\t\t\t\t<option key={index} value={rec.code}>{rec.code}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t{fields.envCode && fields.envCode !== \"\" &&\n\t\t\t\t\t<Form.Group style={{\"height\": \"400px\"}}>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Configuration\")}</Form.Label>\n\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\t\t\tjson={fields.config || {}}\n\t\t\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>}\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\n\nimport deepSet from \"../../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\n\nconst initFields = {\n\t\"id\": \"\",\n\t\"appId\": \"\",\n\t\"key\": \"\",\n\t\"extKey\": \"\",\n\t\"label\": \"\",\n\t\"extKeyEnv\": \"\",\n\t\"expDate\": null,\n\t\"device\": {},\n\t\"geo\": {}\n};\n\nexport default function ConfigureExtKeyModal({modalOpt, setModalOpt, handleAction, environments}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.label &&\n\t\t\tfields.label.length > 0 &&\n\t\t\tfields.extKeyEnv.length > 0\n\t\t);\n\t}\n\t\n\tfunction JsonEditor_onChange_device(json) {\n\t\tfields.device = json;\n\t}\n\t\n\tfunction JsonEditor_onChange_geo(json) {\n\t\tfields.geo = json;\n\t}\n\t\n\tfunction handleExpDateChange(m) {\n\t\tlet obj = fields;\n\t\tif (m) {\n\t\t\t//deepSet(obj, \"expDate\", m.getFullYear() + \"-\" + (m.getMonth() + 1) + \"-\" + m.getDate());\n\t\t\tdeepSet(obj, \"expDate\", m.toISOString());\n\t\t} else {\n\t\t\tdeepSet(obj, \"expDate\", null);\n\t\t}\n\t\tsetFields({...obj});\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tif (fields.expDate) {\n\t\t\t\tlet m = new Date(fields.expDate);\n\t\t\t\tfields.expDate = m.toISOString();\n\t\t\t}\n\t\t\tawait multitenantService.updateTenantApplicationExtKey(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.tenantApplicationExtKey\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields(Object.assign({}, initFields, modalOpt.item));\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tenantApplicationExtKey\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Label\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"label\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.label}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Env\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"extKeyEnv\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.extKeyEnv}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">---</option>\n\t\t\t\t\t\t\t{environments.map((rec, index) => (\n\t\t\t\t\t\t\t\t<option key={index} value={rec.code}>{rec.code}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label className=\"mr-5\">{t(\"soajs:fields.ExpDate\")}</Form.Label>\n\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\tselected={(fields.expDate && fields.expDate !== \"\") ? new Date(fields.expDate) : null}\n\t\t\t\t\t\t\tonChange={handleExpDateChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Device\")}</Form.Label><JsonEditor\n\t\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\t\tjson={fields.device || {}}\n\t\t\t\t\t\tonChange={JsonEditor_onChange_device}\n\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Geo\")}</Form.Label><JsonEditor\n\t\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\t\tjson={fields.geo || {}}\n\t\t\t\t\t\tonChange={JsonEditor_onChange_geo}\n\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Alert, Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\nimport deepSet from \"../../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\nconst initFields = {\n\t\"id\": \"\",\n\t\"type\": 2,\n\t\"oauthType\": \"urac\",\n\t\"disabled\": 0,\n\t\"pin\": {},\n\t\"secret\": \"\"\n};\nexport default function OauthModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.disabled === 1 ||\n\t\t\t(fields.disabled === 0 && fields.secret.length > 0)\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tif (event.target.type === 'number' || event.target.id === \"type\") {\n\t\t\tvalue = parseInt(value);\n\t\t}\n\t\tif (event.target.id === \"disabled\") {\n\t\t\tif (value) {\n\t\t\t\tvalue = 0;\n\t\t\t} else {\n\t\t\t\tvalue = 1;\n\t\t\t}\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet data = {}\n\t\t\tif (fields.disabled === 1) {\n\t\t\t\tdata = {\n\t\t\t\t\t\"id\": fields.id,\n\t\t\t\t\t\"oauthType\": \"off\",\n\t\t\t\t\t\"secret\": fields.secret\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdata = {\n\t\t\t\t\t\"id\": fields.id,\n\t\t\t\t\t\"type\": fields.type,\n\t\t\t\t\t\"oauthType\": fields.oauthType,\n\t\t\t\t\t\"secret\": fields.secret\n\t\t\t\t};\n\t\t\t}\n\t\t\tawait multitenantService.updateTenantOauth(data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.tenantOauth\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields(Object.assign({}, initFields, modalOpt.item));\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tenantOauth\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Alert variant=\"warning\">\n\t\t\t\t\t<p>Be advised that when turning ON and OFF or modifying the oAuth Security of a tenant, all the keys\n\t\t\t\t\t\tconfiguration for all the applications belonging to this tenant will be modified based on the\n\t\t\t\t\t\toption you select. <a\n\t\t\t\t\t\t\thref=\"https://soajsorg.atlassian.net/wiki/spaces/DSBRD/pages/61979922/Multitenancy#Multitenancy-oauth\"\n\t\t\t\t\t\t>Learn More</a></p>\n\t\t\t\t</Alert>\n\t\t\t\t<hr/>\n\t\t\t\t{modalOpt.item &&\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\tid=\"disabled\"\n\t\t\t\t\t\t\ttype=\"switch\"\n\t\t\t\t\t\t\tlabel=\"Turn ON oAuth\"\n\t\t\t\t\t\t\tchecked={(fields.disabled === 0)}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t{fields.disabled === 0 &&\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Type\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\tid=\"type\"\n\t\t\t\t\t\t\t\tvalue={fields.type}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"2\">oAuth 2.0</option>\n\t\t\t\t\t\t\t\t<option value=\"0\">oAuth 0</option>\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Secret\")}</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tid=\"secret\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvalue={fields.secret}\n\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t{fields.type === 2 &&\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.OauthType\")}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"oauthType\"\n\t\t\t\t\t\t\t\t\tvalue={fields.oauthType}\n\t\t\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"urac\">URAC - Complete user management</option>\n\t\t\t\t\t\t\t\t\t<option value=\"oauth\">Integration - Basic user management</option>\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</>}\n\t\t\t\t\t</>}\n\t\t\t\t</Form>}\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t\n\t\t\t\t{modalOpt.item &&\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>}\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\nimport deepSet from \"../../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\nconst initFields = {\n\t\"name\": \"\",\n\t\"description\": \"\",\n\t\"type\": \"product\",\n\t\"tag\": \"\",\n\t\"profile\": {},\n\t\"mainTenant\": null,\n\t\"mainTenantName\": \"\"\n};\n\nexport default function AddTenantModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\tlet valid = true;\n\t\tif (fields.type === \"client\" && !fields.mainTenant) {\n\t\t\tvalid = false;\n\t\t}\n\t\treturn (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0 &&\n\t\t\tvalid\n\t\t);\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\tfields.profile = json;\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tlet data = {};\n\t\t\tif (fields.type === \"product\") {\n\t\t\t\tdata = {\n\t\t\t\t\t\"name\": fields.name,\n\t\t\t\t\t\"description\": fields.description,\n\t\t\t\t\t\"type\": \"product\",\n\t\t\t\t\t\"tag\": fields.tag,\n\t\t\t\t\t\"profile\": fields.profile\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (fields.type === \"client\") {\n\t\t\t\tdata = {\n\t\t\t\t\t\"name\": fields.name,\n\t\t\t\t\t\"description\": fields.description,\n\t\t\t\t\t\"type\": \"product\",\n\t\t\t\t\t\"tag\": fields.tag,\n\t\t\t\t\t\"profile\": fields.profile,\n\t\t\t\t\t\"mainTenant\": fields.mainTenant\n\t\t\t\t}\n\t\t\t}\n\t\t\tawait multitenantService.addTenant(data);\n\t\t\tNotificationManager.success(t(\"soajs:messages.tenantAdd\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tif (modalOpt.item.type === \"client\") {\n\t\t\t\tif (!modalOpt.item.mainTenant) {\n\t\t\t\t\tNotificationManager.error(\"You can only add a sub tenant under a main tenant.\");\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tsetFields(Object.assign({}, initFields, modalOpt.item));\n\t\t}\n\t\t\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tenantAdd_\" + fields.type)}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t{fields.type === \"client\" &&\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.MainTenant\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"mainTenantName\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.mainTenantName}\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>}\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Tag\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"tag\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.tag}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Profile\")}</Form.Label>\n\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\t\t\tjson={fields.profile || {}}\n\t\t\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\nimport deepSet from \"../../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\n\nexport default function AddApplicationModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [packages, setPackages] = useState([]);\n\tconst [products, setProducts] = useState([]);\n\tconst [fields, setFields] = useState({\n\t\t\"id\": null,\n\t\t\"productCode\": \"\",\n\t\t\"packageCode\": \"\",\n\t\t\"description\": \"\",\n\t\t\"_TTL\": \"168\"\n\t});\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.productCode.length > 0 &&\n\t\t\tfields.packageCode.length > 0 &&\n\t\t\tfields.description.length > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t\tif (event.target.id === \"productCode\") {\n\t\t\tlet p = products.filter((rec) => {\n\t\t\t\treturn (value === rec.code);\n\t\t\t});\n\t\t\tif (p && p[0] && p[0].packages) {\n\t\t\t\tsetPackages(p[0].packages);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tfields.id = modalOpt.item.id;\n\t\t\tawait multitenantService.addApplication(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.tenantApplicationAdd\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tasync function onLoad() {\n\t\t\ttry {\n\t\t\t\tconst response = await multitenantService.getProducts();\n\t\t\t\tif (isSubscribed && response) {\n\t\t\t\t\tsetProducts(response);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tonLoad().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tenantApplicationAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.ProductCode\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"productCode\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tdefaultValue={fields.productCode}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">---</option>\n\t\t\t\t\t\t\t{products.map((rec, index) => (\n\t\t\t\t\t\t\t\t<option key={index} value={rec.code}>{rec.code}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.PackageCode\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"packageCode\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tdefaultValue={fields.packageCode}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">---</option>\n\t\t\t\t\t\t\t{packages.map((rec, index) => (\n\t\t\t\t\t\t\t\t<option key={index} value={rec.code}>{rec.code}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.TTL\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control as=\"select\" id=\"_TTL\"\n\t\t\t\t\t\t              defaultValue={fields._TTL}\n\t\t\t\t\t\t              onChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"6\">6 hours</option>\n\t\t\t\t\t\t\t<option value=\"12\">12 hours</option>\n\t\t\t\t\t\t\t<option value=\"24\">24 hours</option>\n\t\t\t\t\t\t\t<option value=\"48\">2 days</option>\n\t\t\t\t\t\t\t<option value=\"72\">3 days</option>\n\t\t\t\t\t\t\t<option value=\"96\">4 days</option>\n\t\t\t\t\t\t\t<option value=\"120\">5 days</option>\n\t\t\t\t\t\t\t<option value=\"144\">6 days</option>\n\t\t\t\t\t\t\t<option value=\"168\">7 days</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\nimport deepSet from \"../../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\n\nexport default function AddExtKeyModal({modalOpt, setModalOpt, handleAction, environments}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState({\n\t\t\"id\": \"\",\n\t\t\"appId\": \"\",\n\t\t\"key\": \"\",\n\t\t\"label\": \"\",\n\t\t\"env\": \"\",\n\t\t\"expDate\": null,\n\t\t\"device\": {},\n\t\t\"geo\": {}\n\t});\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.label.length > 0 &&\n\t\t\tfields.env.length > 0\n\t\t);\n\t}\n\t\n\tfunction JsonEditor_onChange_device(json) {\n\t\tfields.device = json;\n\t}\n\t\n\tfunction JsonEditor_onChange_geo(json) {\n\t\tfields.geo = json;\n\t}\n\t\n\tfunction handleExpDateChange(m) {\n\t\tlet obj = fields;\n\t\tif (m) {\n\t\t\t//deepSet(obj, \"expDate\", m.getFullYear() + \"-\" + (m.getMonth() + 1) + \"-\" + m.getDate());\n\t\t\tdeepSet(obj, \"expDate\", m.toISOString());\n\t\t} else {\n\t\t\tdeepSet(obj, \"expDate\", null);\n\t\t}\n\t\tsetFields({...obj});\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tfields.id = modalOpt.item.id;\n\t\t\tfields.appId = modalOpt.item.appId;\n\t\t\tfields.key = modalOpt.item.key;\n\t\t\tawait multitenantService.addTenantExtKey(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.tenantExtKeyAdd\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tenantExtKeyAdd\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Label\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"label\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.label}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Env\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"env\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tdefaultValue={fields.env}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">---</option>\n\t\t\t\t\t\t\t{environments.map((rec, index) => (\n\t\t\t\t\t\t\t\t<option key={index} value={rec.code}>{rec.code}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label className=\"mr-5\">{t(\"soajs:fields.ExpDate\")}</Form.Label>\n\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\tselected={(fields.expDate && fields.expDate !== \"\") ? new Date(fields.expDate) : null}\n\t\t\t\t\t\t\tonChange={handleExpDateChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Device\")}</Form.Label><JsonEditor\n\t\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\t\tjson={fields.device || {}}\n\t\t\t\t\t\tonChange={JsonEditor_onChange_device}\n\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Geo\")}</Form.Label><JsonEditor\n\t\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\t\tjson={fields.geo || {}}\n\t\t\t\t\t\tonChange={JsonEditor_onChange_geo}\n\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Add\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {JsonEditor, NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\nimport deepSet from \"../../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\nconst initFields = {\n\t\"id\": \"\",\n\t\"name\": \"\",\n\t\"description\": \"\",\n\t\"tag\": \"\",\n\t\"category\": \"tenant\",\n\t\"profile\": {}\n};\n\nexport default function UpdateTenantModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.name.length > 0 &&\n\t\t\tfields.description.length > 0\n\t\t);\n\t}\n\t\n\tfunction JsonEditor_onChange(json) {\n\t\tfields.profile = json;\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tawait multitenantService.updateTenant(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.tenantUpdate\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields(Object.assign({}, initFields, modalOpt.item));\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tenantUpdate\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Name\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.name}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Tag\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"tag\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.tag}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Category\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"category\"\n\t\t\t\t\t\t\tvalue={fields.category}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"tenant\">Tenant</option>\n\t\t\t\t\t\t\t<option value=\"application\">Application</option>\n\t\t\t\t\t\t\t<option value=\"integration\">Integration</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Profile\")}</Form.Label>\n\t\t\t\t\t\t<JsonEditor\n\t\t\t\t\t\t\tmode={\"code\"}\n\t\t\t\t\t\t\tjson={fields.profile || {}}\n\t\t\t\t\t\t\tonChange={JsonEditor_onChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Button, Form, Modal} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {MultitenantService} from \"../../../../../services\";\nimport deepSet from \"../../../../../soajs/libs/deepSetLib\";\n\nconst multitenantService = MultitenantService.getService();\nconst initFields = {\n\t\"package\": \"\",\n\t\"id\": \"\",\n\t\"appId\": \"\",\n\t\"description\": \"\",\n\t\"_TTL\": \"168\"\n};\n\nexport default function UpdateApplicationModal({modalOpt, setModalOpt, handleAction}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst handleClose = () => setModalOpt({\"show\": false, item: null});\n\t\n\tconst [fields, setFields] = useState(initFields);\n\t\n\tfunction validateForm() {\n\t\treturn (\n\t\t\tfields.description.length > 0\n\t\t);\n\t}\n\t\n\tfunction handleFieldChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tlet obj = fields;\n\t\tdeepSet(obj, event.target.id, value);\n\t\tsetFields({...obj});\n\t}\n\t\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tfields._TTL = \"\" + fields._TTL;\n\t\t\tawait multitenantService.updateApplication(fields);\n\t\t\tNotificationManager.success(t(\"soajs:messages.tenantApplicationUpdate\"));\n\t\t\thandleAction();\n\t\t\thandleClose();\n\t\t} catch\n\t\t\t(e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\tif (isSubscribed && modalOpt && modalOpt.item) {\n\t\t\tsetFields(Object.assign({}, initFields, modalOpt.item));\n\t\t}\n\t\treturn () => (isSubscribed = false);\n\t}, [modalOpt]);\n\t\n\treturn (\n\t\t<Modal show={modalOpt.show} onHide={handleClose} animation={false} size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t(\"soajs:titles.tenantApplicationUpdate\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.PackageCode\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"package\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvalue={fields.package}\n\t\t\t\t\t\t\tdisabled={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.TTL\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\tid=\"_TTL\"\n\t\t\t\t\t\t\tvalue={fields._TTL}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"6\">6 hours</option>\n\t\t\t\t\t\t\t<option value=\"12\">12 hours</option>\n\t\t\t\t\t\t\t<option value=\"24\">24 hours</option>\n\t\t\t\t\t\t\t<option value=\"48\">2 days</option>\n\t\t\t\t\t\t\t<option value=\"72\">3 days</option>\n\t\t\t\t\t\t\t<option value=\"96\">4 days</option>\n\t\t\t\t\t\t\t<option value=\"120\">5 days</option>\n\t\t\t\t\t\t\t<option value=\"144\">6 days</option>\n\t\t\t\t\t\t\t<option value=\"168\">7 days</option>\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t<Form.Label>{t(\"soajs:fields.Description\")}</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvalue={fields.description}\n\t\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"warning\" onClick={handleClose}>\n\t\t\t\t\t{t(\"soajs:buttons.Cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!validateForm()}\n\t\t\t\t>\n\t\t\t\t\t{t(\"soajs:buttons.Update\")}\n\t\t\t\t</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}","import {Accordion, Button, Card, Table, Alert, Row, Col, Form} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\n\nimport {useTranslation} from \"react-i18next\";\nimport {FaKey} from \"react-icons/fa\";\nimport {GoDiffAdded} from \"react-icons/go\";\n\nimport DeleteButton from \"../../../../buttons/Delete\";\nimport GearButton from \"../../../../buttons/Gear\";\nimport EditButton from \"../../../../buttons/Edit\";\nimport AddButton from \"../../../../buttons/Add\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {ConsoleService, MultitenantService} from \"../../../../../services\";\nimport AutoPagination from \"../../../../../lib/AutoPagination\";\nimport {useAppContext} from \"../../../../../soajs/libs/contextLib\";\n\nimport DeleteModal from \"../common/DeleteModal\";\nimport ConfigureKeyModal from \"../common/ConfigureKeyModal\";\nimport ConfigureExtKeyModal from \"../common/ConfigureExtKeyModal\";\nimport OauthModal from \"../common/OauthModal\";\nimport AddTenantModal from \"../common/AddTenantModal\";\nimport AddApplicationModal from \"../common/AddApplicationModal\";\nimport AddExtKeyModal from \"../common/AddExtKeyModal\";\nimport UpdateTenantModal from \"../common/UpdateTenantModal\";\nimport UpdateApplicationModal from \"../common/UpdateApplicationModal\";\nimport {BiSearchAlt} from \"react-icons/bi\";\n\nconst multitenantService = MultitenantService.getService();\nconst consoleService = ConsoleService.getService();\nconst tenantType = \"product\";\n\nfunction getTenantLabel(rec) {\n\treturn (\n\t\t<div>\n\t\t\t<span className=\"font-weight-bold mr-3\">{rec.name}</span><span\n\t\t\tclassName=\"small text-muted\">[{rec.code} - {rec._id}]</span>\n\t\t</div>\n\t);\n}\n\nasync function onLoad(setFields, setPagination, currentPage, criteria, isSubscribed) {\n\ttry {\n\t\tlet c = {\"limit\": 50, \"skip\": (currentPage - 1) * 50, \"type\": tenantType};\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords && criteria.keywords !== \"\") {\n\t\t\t\tc.keywords = criteria.keywords;\n\t\t\t}\n\t\t\tif (criteria.category !== \"All\") {\n\t\t\t\tc.category = criteria.category;\n\t\t\t}\n\t\t}\n\t\tconst response = await multitenantService.getTenants(c);\n\t\tif (isSubscribed && response && response.items) {\n\t\t\tsetFields(response.items);\n\t\t\tsetPagination(\n\t\t\t\t{\n\t\t\t\t\t\"totalItems\": response.count,\n\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\"itemsPerPage\": response.limit\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Main() {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [environments, setEnvironments] = useState([]);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\tconst [criteria, setCriteria] = useState({\n\t\t\"keywords\": \"\", \"category\": \"All\"\n\t});\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait reLoad(1);\n\t}\n\t\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, item: null});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, item: item});\n\tconst [modalKeyConfigurationOpt, setModalKeyConfigurationOpt] = useState({\"show\": false, item: null});\n\tconst modalKeyConfigurationOptShow = (item) => setModalKeyConfigurationOpt({\"show\": true, item: item});\n\tconst [modalExtKeyConfigurationOpt, setModalExtKeyConfigurationOpt] = useState({\"show\": false, item: null});\n\tconst modalExtKeyConfigurationOptShow = (item) => setModalExtKeyConfigurationOpt({\"show\": true, item: item});\n\tconst [modalOauthOpt, setModalOauthOpt] = useState({\"show\": false, item: null});\n\tconst modalOauthOptShow = (item) => setModalOauthOpt({\"show\": true, item: item});\n\tconst [modalAddTenantOpt, setModalAddTenantOpt] = useState({\"show\": false, item: null});\n\tconst modalAddTenantOptShow = (item) => setModalAddTenantOpt({\"show\": true, item: item});\n\tconst [modalAddApplicationOpt, setModalAddApplicationOpt] = useState({\"show\": false, item: null});\n\tconst modalAddApplicationOptShow = (item) => setModalAddApplicationOpt({\"show\": true, item: item});\n\tconst [modalAddExtKeyOpt, setModalAddExtKeyOpt] = useState({\"show\": false, item: null});\n\tconst modalAddExtKeyOptShow = (item) => setModalAddExtKeyOpt({\"show\": true, item: item});\n\tconst [modalUpdateTenantOpt, setModalUpdateTenantOpt] = useState({\"show\": false, item: null});\n\tconst modalUpdateTenantOptShow = (item) => setModalUpdateTenantOpt({\"show\": true, item: item});\n\tconst [modalUpdateApplicationOpt, setModalUpdateApplicationOpt] = useState({\"show\": false, item: null});\n\tconst modalUpdateApplicationOptShow = (item) => setModalUpdateApplicationOpt({\"show\": true, item: item});\n\t\n\tasync function addTenantApplicationKey(data) {\n\t\ttry {\n\t\t\tawait multitenantService.addTenantApplicationKey(data);\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function reLoad(page) {\n\t\tawait onLoad(setFields, setPagination, page || currentPage, criteria, true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tonLoad(setFields, setPagination, 1, null, isSubscribed).catch();\n\t\t\n\t\tasync function getEnvironment() {\n\t\t\ttry {\n\t\t\t\tconst response = await consoleService.getEnvironments();\n\t\t\t\tif (response && isSubscribed) {\n\t\t\t\t\tsetEnvironments(response);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tgetEnvironment().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<>\n\t\t\t<>\n\t\t\t\t<UpdateTenantModal\n\t\t\t\t\tmodalOpt={modalUpdateTenantOpt}\n\t\t\t\t\tsetModalOpt={setModalUpdateTenantOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<UpdateApplicationModal\n\t\t\t\t\tmodalOpt={modalUpdateApplicationOpt}\n\t\t\t\t\tsetModalOpt={setModalUpdateApplicationOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<AddExtKeyModal\n\t\t\t\t\tmodalOpt={modalAddExtKeyOpt}\n\t\t\t\t\tsetModalOpt={setModalAddExtKeyOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t\tenvironments={environments}\n\t\t\t\t/>\n\t\t\t\t<AddApplicationModal\n\t\t\t\t\tmodalOpt={modalAddApplicationOpt}\n\t\t\t\t\tsetModalOpt={setModalAddApplicationOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<AddTenantModal\n\t\t\t\t\tmodalOpt={modalAddTenantOpt}\n\t\t\t\t\tsetModalOpt={setModalAddTenantOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<OauthModal\n\t\t\t\t\tmodalOpt={modalOauthOpt}\n\t\t\t\t\tsetModalOpt={setModalOauthOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<ConfigureExtKeyModal\n\t\t\t\t\tmodalOpt={modalExtKeyConfigurationOpt}\n\t\t\t\t\tsetModalOpt={setModalExtKeyConfigurationOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t\tenvironments={environments}\n\t\t\t\t/>\n\t\t\t\t<ConfigureKeyModal\n\t\t\t\t\tmodalOpt={modalKeyConfigurationOpt}\n\t\t\t\t\tsetModalOpt={setModalKeyConfigurationOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t\tenvironments={environments}\n\t\t\t\t/>\n\t\t\t\t<DeleteModal\n\t\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t</>\n\t\t\t<div className=\"mb-1\">\n\t\t\t\t<h5 className=\"float-left font-weight-bold\">Available main tenants</h5>\n\t\t\t\t\n\t\t\t\t{ability.can('tenant', 'add') &&\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"float-right mb-1\"\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tmodalAddTenantOptShow({\"type\": tenantType});\n\t\t\t\t\t}}\n\t\t\t\t><GoDiffAdded/> {t(\"soajs:buttons.Add\")}</Button>}\n\t\t\t\t\n\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t<Alert variant=\"secondary mt-2\">\n\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col sm={5} md={6} lg={7}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"keywords\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tvalue={criteria.keywords}\n\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col sm={4} md={4} lg={3}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tas=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"category\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tdefaultValue={criteria.category}\n\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"All\">All</option>\n\t\t\t\t\t\t\t\t\t<option value=\"tenant\">Tenant Only</option>\n\t\t\t\t\t\t\t\t\t<option value=\"application\">Application Only</option>\n\t\t\t\t\t\t\t\t\t<option value=\"integration\">Integration Only</option>\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col sm={3} md={2} lg={2}>\n\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Alert>\n\t\t\t\t<hr/>\n\t\t\t</div>\n\t\t\t{fields.map((rec, index) => (\n\t\t\t\t<Accordion className=\"mb-2\" key={index + 1} defaultActiveKey={1}>\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<Card.Header style={{\"backgroundColor\": \"#DEF1F7\"}}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col xs={12} md={8}>\n\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\"\n\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t{getTenantLabel(rec)}\n\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col xs={12} md={4}>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('tenant', 'delete') &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\"type\": \"tenant\",\n\t\t\t\t\t\t\t\t\t\t\"label\": rec.name,\n\t\t\t\t\t\t\t\t\t\t\"id\": rec._id\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('tenant', 'configure') &&\n\t\t\t\t\t\t\t<GearButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalOauthOptShow({\n\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\"secret\": rec.oauth.secret,\n\t\t\t\t\t\t\t\t\t\t\"type\": rec.oauth.type,\n\t\t\t\t\t\t\t\t\t\t\"disabled\": rec.oauth.disabled,\n\t\t\t\t\t\t\t\t\t\t\"oauthType\": rec.oauth.loginMode\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('tenant', 'edit') &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalUpdateTenantOptShow({\n\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.name,\n\t\t\t\t\t\t\t\t\t\t\"tag\": rec.tag || \"\",\n\t\t\t\t\t\t\t\t\t\t\"description\": rec.description || \"\",\n\t\t\t\t\t\t\t\t\t\t\"profile\": rec.profile || {},\n\t\t\t\t\t\t\t\t\t\t\"category\": rec.category || \"tenant\",\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('tenant', 'add') &&\n\t\t\t\t\t\t\t<AddButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalAddTenantOptShow({\n\t\t\t\t\t\t\t\t\t\t\"type\": \"client\",\n\t\t\t\t\t\t\t\t\t\t\"mainTenant\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\"mainTenantName\": rec.name\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<span className=\"small\">{rec.description}</span>\n\t\t\t\t\t\t\t\t<hr className=\"mt-4\"/>\n\t\t\t\t\t\t\t\t<div className=\"mb-1\">\n\t\t\t\t\t\t\t\t\t<h6 className=\"float-left font-weight-bold\">Available applications</h6>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t{ability.can('tenant_application', 'add') &&\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right mb-1\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tmodalAddApplicationOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t><GoDiffAdded/> {t(\"soajs:buttons.Add\")}</Button>}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{rec.applications && rec.applications.map((appRec, index) => (\n\t\t\t\t\t\t\t\t\t<Accordion className=\"mb-2\" key={index + 1} defaultActiveKey={1}>\n\t\t\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={12} md={8}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3 small\">{appRec.package}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"small text-muted\">[{appRec.appId}]</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-success small ml-3\">{[appRec.product]}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={12} md={4}>\n\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application', 'delete') &&\n\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"type\": \"application\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\": appRec.package,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application', 'edit') &&\n\t\t\t\t\t\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalUpdateApplicationOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"description\": appRec.description || \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"_TTL\": appRec._TTL ? appRec._TTL / 3600000 : 168,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"package\": appRec.package\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"small\">{appRec.description}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<hr className=\"mt-4\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mb-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"float-left font-weight-bold\">Available internal\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkeys\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_key', 'add') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right mb-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddTenantApplicationKey({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{appRec.keys && appRec.keys.map((keyRec, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion className=\"mb-2\" key={index + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t           defaultActiveKey={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Header className=\"p-1 pl-2 pr-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t             style={{\"backgroundColor\": \"#dee2e6\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={12} md={8}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                  variant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3 small\"><FaKey\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-2\"/>{keyRec.key}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={12} md={4}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_key', 'delete') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"type\": \"key\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\": keyRec.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_key', 'configure') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<GearButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalKeyConfigurationOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"configAllEnv\": keyRec.config\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"float-left font-weight-bold\">Available\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texternal keys\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_ekey', 'add') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right mb-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalAddExtKeyOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t><GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Table responsive striped hover size=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       className=\"small\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:buttons.Actions\")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.ExternalKey\")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Environments\")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th className=\"text-right\">{t(\"soajs:fields.ExpDate\")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{keyRec.extKeys && keyRec.extKeys.map((extKeyRec, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_ekey', 'delete') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"type\": \"extKey\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\": extKeyRec.extKey,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"extKey\": extKeyRec.extKey\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_ekey', 'configure') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<GearButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalExtKeyConfigurationOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"extKey\": extKeyRec.extKey,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"expDate\": extKeyRec.expDate || null,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"device\": extKeyRec.device || {},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"geo\": extKeyRec.geo || {},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\": extKeyRec.label || \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"extKeyEnv\": extKeyRec.env || \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"wordBreak\": \"break-all\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"maxWidth\": \"400px\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>{extKeyRec.extKey}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{extKeyRec.env}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-right\">{extKeyRec.expDate ? new Date(extKeyRec.expDate).toISOString() : null}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t</Accordion>\n\t\t\t))}\n\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t<AutoPagination\n\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\treLoad(p).catch();\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"clearfix\"></div>\n\t\t</>\n\t);\n}","import {Accordion, Alert, Button, Card, Col, Form, Row, Table} from \"react-bootstrap\";\nimport React, {useEffect, useState} from \"react\";\nimport {FaKey} from \"react-icons/fa\";\nimport {useTranslation} from \"react-i18next\";\nimport {GoDiffAdded} from \"react-icons/go\";\n\nimport {NotificationManager} from \"../../../../../soajs/urac/components\";\nimport {ConsoleService, MultitenantService} from \"../../../../../services\";\nimport AutoPagination from \"../../../../../lib/AutoPagination\";\nimport DeleteButton from \"../../../../buttons/Delete\";\nimport GearButton from \"../../../../buttons/Gear\";\nimport EditButton from \"../../../../buttons/Edit\";\nimport {useAppContext} from \"../../../../../soajs/libs/contextLib\";\nimport UpdateTenantModal from \"../common/UpdateTenantModal\";\nimport UpdateApplicationModal from \"../common/UpdateApplicationModal\";\nimport AddExtKeyModal from \"../common/AddExtKeyModal\";\nimport AddApplicationModal from \"../common/AddApplicationModal\";\nimport OauthModal from \"../common/OauthModal\";\nimport ConfigureExtKeyModal from \"../common/ConfigureExtKeyModal\";\nimport ConfigureKeyModal from \"../common/ConfigureKeyModal\";\nimport DeleteModal from \"../common/DeleteModal\";\nimport {BiSearchAlt} from \"react-icons/bi\";\n\nconst multitenantService = MultitenantService.getService();\nconst consoleService = ConsoleService.getService();\nconst tenantType = \"client\";\n\nfunction getTenantLabel(rec) {\n\treturn (\n\t\t<>\n\t\t\t<span className=\"font-weight-bold mr-3\">{rec.name}</span><span\n\t\t\tclassName=\"small text-muted\">[{rec.code} - {rec._id}]</span>\n\t\t\t<span className=\"text-dark small ml-3\">{[rec.tenant.code]}</span>\n\t\t</>\n\t);\n}\n\n\nasync function onLoad(setFields, setPagination, currentPage, criteria, isSubscribed) {\n\ttry {\n\t\tlet c = {\"limit\": 50, \"skip\": (currentPage - 1) * 50, \"type\": tenantType};\n\t\tif (criteria) {\n\t\t\tif (criteria.keywords && criteria.keywords !== \"\") {\n\t\t\t\tc.keywords = criteria.keywords;\n\t\t\t}\n\t\t}\n\t\tconst response = await multitenantService.getTenants(c);\n\t\tif (isSubscribed && response && response.items) {\n\t\t\tsetFields(response.items);\n\t\t\tsetPagination(\n\t\t\t\t{\n\t\t\t\t\t\"totalItems\": response.count,\n\t\t\t\t\t\"maxSize\": 10,\n\t\t\t\t\t\"itemsPerPage\": response.limit\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t} catch (e) {\n\t\tNotificationManager.error(e.message);\n\t}\n}\n\nexport default function Sub() {\n\tconst {ability} = useAppContext();\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst [fields, setFields] = useState([]);\n\tconst [environments, setEnvironments] = useState([]);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [pagination, setPagination] = useState({\n\t\t\"totalItems\": 1, \"maxSize\": 1, \"itemsPerPage\": 1\n\t});\n\tconst [criteria, setCriteria] = useState({\n\t\t\"keywords\": \"\"\n\t});\n\t\n\tfunction handleCriteriaChange(event) {\n\t\tlet value = event.target.value;\n\t\tif (event.target.hasOwnProperty(\"checked\")) {\n\t\t\tvalue = event.target.checked;\n\t\t}\n\t\tsetCriteria({\n\t\t\t...criteria,\n\t\t\t[event.target.id]: value\n\t\t});\n\t}\n\t\n\tasync function handleSearch(event) {\n\t\tevent.preventDefault();\n\t\tsetCurrentPage(1);\n\t\tawait reLoad(1);\n\t}\n\t\n\tconst [modalDeleteOpt, setModalDeleteOpt] = useState({\"show\": false, item: null});\n\tconst modalDeleteOptShow = (item) => setModalDeleteOpt({\"show\": true, item: item});\n\tconst [modalKeyConfigurationOpt, setModalKeyConfigurationOpt] = useState({\"show\": false, item: null});\n\tconst modalKeyConfigurationOptShow = (item) => setModalKeyConfigurationOpt({\"show\": true, item: item});\n\tconst [modalExtKeyConfigurationOpt, setModalExtKeyConfigurationOpt] = useState({\"show\": false, item: null});\n\tconst modalExtKeyConfigurationOptShow = (item) => setModalExtKeyConfigurationOpt({\"show\": true, item: item});\n\tconst [modalOauthOpt, setModalOauthOpt] = useState({\"show\": false, item: null});\n\tconst modalOauthOptShow = (item) => setModalOauthOpt({\"show\": true, item: item});\n\tconst [modalAddApplicationOpt, setModalAddApplicationOpt] = useState({\"show\": false, item: null});\n\tconst modalAddApplicationOptShow = (item) => setModalAddApplicationOpt({\"show\": true, item: item});\n\tconst [modalAddExtKeyOpt, setModalAddExtKeyOpt] = useState({\"show\": false, item: null});\n\tconst modalAddExtKeyOptShow = (item) => setModalAddExtKeyOpt({\"show\": true, item: item});\n\tconst [modalUpdateTenantOpt, setModalUpdateTenantOpt] = useState({\"show\": false, item: null});\n\tconst modalUpdateTenantOptShow = (item) => setModalUpdateTenantOpt({\"show\": true, item: item});\n\tconst [modalUpdateApplicationOpt, setModalUpdateApplicationOpt] = useState({\"show\": false, item: null});\n\tconst modalUpdateApplicationOptShow = (item) => setModalUpdateApplicationOpt({\"show\": true, item: item});\n\t\n\tasync function addTenantApplicationKey(data) {\n\t\ttry {\n\t\t\tawait multitenantService.addTenantApplicationKey(data);\n\t\t\tawait reLoad();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t}\n\t\n\tasync function reLoad(page) {\n\t\tawait onLoad(setFields, setPagination, page || currentPage, criteria, true);\n\t}\n\t\n\tuseEffect(() => {\n\t\tlet isSubscribed = true;\n\t\t\n\t\tonLoad(setFields, setPagination, 1, null, isSubscribed).catch();\n\t\t\n\t\tasync function getEnvironment() {\n\t\t\ttry {\n\t\t\t\tconst response = await consoleService.getEnvironments();\n\t\t\t\tif (response && isSubscribed) {\n\t\t\t\t\tsetEnvironments(response);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tNotificationManager.error(e.message);\n\t\t\t}\n\t\t}\n\t\t\n\t\tgetEnvironment().catch();\n\t\treturn () => (isSubscribed = false);\n\t}, []);\n\t\n\treturn (\n\t\t<>\n\t\t\t<>\n\t\t\t\t<UpdateTenantModal\n\t\t\t\t\tmodalOpt={modalUpdateTenantOpt}\n\t\t\t\t\tsetModalOpt={setModalUpdateTenantOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<UpdateApplicationModal\n\t\t\t\t\tmodalOpt={modalUpdateApplicationOpt}\n\t\t\t\t\tsetModalOpt={setModalUpdateApplicationOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<AddExtKeyModal\n\t\t\t\t\tmodalOpt={modalAddExtKeyOpt}\n\t\t\t\t\tsetModalOpt={setModalAddExtKeyOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t\tenvironments={environments}\n\t\t\t\t/>\n\t\t\t\t<AddApplicationModal\n\t\t\t\t\tmodalOpt={modalAddApplicationOpt}\n\t\t\t\t\tsetModalOpt={setModalAddApplicationOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<OauthModal\n\t\t\t\t\tmodalOpt={modalOauthOpt}\n\t\t\t\t\tsetModalOpt={setModalOauthOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t\t<ConfigureExtKeyModal\n\t\t\t\t\tmodalOpt={modalExtKeyConfigurationOpt}\n\t\t\t\t\tsetModalOpt={setModalExtKeyConfigurationOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t\tenvironments={environments}\n\t\t\t\t/>\n\t\t\t\t<ConfigureKeyModal\n\t\t\t\t\tmodalOpt={modalKeyConfigurationOpt}\n\t\t\t\t\tsetModalOpt={setModalKeyConfigurationOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t\tenvironments={environments}\n\t\t\t\t/>\n\t\t\t\t<DeleteModal\n\t\t\t\t\tmodalOpt={modalDeleteOpt}\n\t\t\t\t\tsetModalOpt={setModalDeleteOpt}\n\t\t\t\t\thandleAction={reLoad}\n\t\t\t\t/>\n\t\t\t</>\n\t\t\t<div className=\"mb-1\">\n\t\t\t\t<h5 className=\"float-left font-weight-bold\">Available sub tenants</h5>\n\t\t\t\t\n\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t<Alert variant=\"secondary mt-2\">\n\t\t\t\t\t<Form onSubmit={handleSearch}>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col xs={9} md={10}>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tid=\"keywords\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tvalue={criteria.keywords}\n\t\t\t\t\t\t\t\t\tonChange={handleCriteriaChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col xs={3} md={2}>\n\t\t\t\t\t\t\t\t<Button className=\"float-right\" variant=\"dark\" size=\"sm\" onClick={handleSearch}>\n\t\t\t\t\t\t\t\t\t<BiSearchAlt/> {t(\"soajs:buttons.Search\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Alert>\n\t\t\t\t<hr/>\n\t\t\t</div>\n\t\t\t{fields.map((rec, index) => (\n\t\t\t\t<Accordion className=\"mb-2\" key={index + 1} defaultActiveKey={1}>\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<Card.Header style={{\"backgroundColor\": \"#DEF1F7\"}}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col xs={12} md={8}>\n\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\"\n\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t{getTenantLabel(rec)}\n\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col xs={12} md={4}>\n\t\t\t\t\t\t\t{ability.can('tenant', 'delete') &&\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\"type\": \"tenant\",\n\t\t\t\t\t\t\t\t\t\t\"label\": rec.name,\n\t\t\t\t\t\t\t\t\t\t\"id\": rec._id\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('tenant', 'configure') &&\n\t\t\t\t\t\t\t<GearButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalOauthOptShow({\n\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\"secret\": rec.oauth.secret,\n\t\t\t\t\t\t\t\t\t\t\"type\": rec.oauth.type,\n\t\t\t\t\t\t\t\t\t\t\"disabled\": rec.oauth.disabled,\n\t\t\t\t\t\t\t\t\t\t\"oauthType\": rec.oauth.loginMode\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{ability.can('tenant', 'edit') &&\n\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tmodalUpdateTenantOptShow({\n\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\"name\": rec.name,\n\t\t\t\t\t\t\t\t\t\t\"tag\": rec.tag || \"\",\n\t\t\t\t\t\t\t\t\t\t\"description\": rec.description || \"\",\n\t\t\t\t\t\t\t\t\t\t\"profile\": rec.profile || {}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<span className=\"small\">{rec.description}</span>\n\t\t\t\t\t\t\t\t<hr className=\"mt-4\"/>\n\t\t\t\t\t\t\t\t<div className=\"mb-1\">\n\t\t\t\t\t\t\t\t\t<h6 className=\"float-left font-weight-bold\">Available applications</h6>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t{ability.can('tenant_application', 'add') &&\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right mb-1\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tmodalAddApplicationOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t><GoDiffAdded/> {t(\"soajs:buttons.Add\")}</Button>}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{rec.applications && rec.applications.map((appRec, index) => (\n\t\t\t\t\t\t\t\t\t<Accordion className=\"mb-2\" key={index + 1} defaultActiveKey={1}>\n\t\t\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={12} md={8}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button} variant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3 small\">{appRec.package}</span><span\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"small text-muted\">[{appRec.appId}]</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-success small ml-3\">{[appRec.product]}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={12} md={4}>\n\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application', 'delete') &&\n\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"type\": \"application\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\": appRec.package,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application', 'edit') &&\n\t\t\t\t\t\t\t\t\t\t\t\t<EditButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalUpdateApplicationOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"description\": appRec.description || \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"_TTL\": appRec._TTL ? appRec._TTL / 3600000 : 168,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"package\": appRec.package\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"small\">{appRec.description}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<hr className=\"mt-4\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mb-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"float-left font-weight-bold\">Available internal\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkeys\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_key', 'add') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right mb-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddTenantApplicationKey({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"clearfix\"></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{appRec.keys && appRec.keys.map((keyRec, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion className=\"mb-2\" key={index + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t           defaultActiveKey={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Header className=\"p-1 pl-2 pr-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t             style={{\"backgroundColor\": \"#dee2e6\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={12} md={8}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle className=\"p-0\" as={Button}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                  variant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                  eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-3 small\"><FaKey\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-2\"/>{keyRec.key}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={12} md={4}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_key', 'delete') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"type\": \"key\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\": keyRec.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_key', 'configure') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<GearButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right ml-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalKeyConfigurationOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"configAllEnv\": keyRec.config\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"float-left font-weight-bold\">Available\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texternal keys\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_ekey', 'add') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right mb-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalAddExtKeyOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t><GoDiffAdded/> {t(\"soajs:buttons.Add\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Table responsive striped hover size=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       className=\"small\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<thead className=\"text-light bg-dark\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:buttons.Actions\")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>{t(\"soajs:fields.ExternalKey\")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th className=\"text-center\">{t(\"soajs:fields.Environments\")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th className=\"text-right\">{t(\"soajs:fields.ExpDate\")}</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{keyRec.extKeys && keyRec.extKeys.map((extKeyRec, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_ekey', 'delete') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalDeleteOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"type\": \"extKey\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\": extKeyRec.extKey,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"extKey\": extKeyRec.extKey\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ability.can('tenant_application_ekey', 'configure') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<GearButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalExtKeyConfigurationOptShow({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": rec._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"appId\": appRec.appId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"key\": keyRec.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"extKey\": extKeyRec.extKey,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"expDate\": extKeyRec.expDate || null,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"device\": extKeyRec.device || {},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"geo\": extKeyRec.geo || {},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\": extKeyRec.label || \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"extKeyEnv\": extKeyRec.env || \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"wordBreak\": \"break-all\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"maxWidth\": \"400px\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>{extKeyRec.extKey}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{extKeyRec.env}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"text-right\">{extKeyRec.expDate ? new Date(extKeyRec.expDate).toISOString() : null}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t</Accordion>\n\t\t\t))}\n\t\t\t<div className=\"float-right mt-3\">\n\t\t\t\t<AutoPagination\n\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\ttotalItems={pagination.totalItems}\n\t\t\t\t\titemsPerPage={pagination.itemsPerPage}\n\t\t\t\t\tmaxSize={pagination.maxSize}\n\t\t\t\t\tonClick={(p) => {\n\t\t\t\t\t\tsetCurrentPage(p);\n\t\t\t\t\t\treLoad(p).catch();\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"clearfix\"></div>\n\t\t</>\n\t);\n}","import {Redirect, Route, Switch} from \"react-router-dom\";\nimport React from \"react\";\n\nimport {AuthenticatedRoute} from \"../../soajs/helpers\";\n\nimport Users from \"./containers/Users/Users\"\nimport Products from \"./containers/Products/Products\"\nimport PackageAcl from \"./containers/Products/PackageAcl\"\nimport MainTenant from \"./containers/tenants/Main/Main\"\nimport SubTenant from \"./containers/tenants/Sub/Sub\"\n\nconst rootPath = \"/multitenancy\";\nconst defaultPath = \"/products\";\n\nexport default function Routes() {\n\treturn (\n\t\t<Switch>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/products/:id/acl/:code\"}>\n\t\t\t\t<PackageAcl/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/products\"}>\n\t\t\t\t<Products/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/tenants/main\"}>\n\t\t\t\t<MainTenant/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/tenants/sub\"}>\n\t\t\t\t<SubTenant/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path={rootPath + \"/users\"}>\n\t\t\t\t<Users/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<Route\n\t\t\t\trender={() => {\n\t\t\t\t\treturn (<Redirect to={rootPath + defaultPath}/>)\n\t\t\t\t}}/>\n\t\t</Switch>\n\t)\n}","import {Nav, Navbar, NavDropdown} from \"react-bootstrap\";\nimport React from \"react\";\nimport {LinkContainer} from \"react-router-bootstrap\";\nimport {useTranslation} from \"react-i18next\";\n\nfunction Navigation() {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst rootPath = \"/multitenancy\";\n\treturn (\n\t\t<Navbar collapseOnSelect expand=\"sm\" className=\"pt-0 pb-0\" bg=\"secondary\" variant=\"dark\">\n\t\t\t<span></span>\n\t\t\t<Navbar.Toggle aria-controls=\"settings-navbar-nav\"/>\n\t\t\t<Navbar.Collapse id=\"settings-navbar-nav\" className=\"justify-content-end\">\n\t\t\t\t<Nav activeKey={window.location.pathname}>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/products\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.products\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/tenants/main\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.maintenants\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/tenants/sub\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.subtenants\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to={rootPath + \"/users\"}>\n\t\t\t\t\t\t<NavDropdown.Item><small>{t(\"soajs:menu.tenantusers\")}</small></NavDropdown.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t</Nav>\n\t\t\t</Navbar.Collapse>\n\t\t</Navbar>\n\t);\n}\n\nexport default Navigation","import React from \"react\";\nimport {Container} from \"react-bootstrap\";\n\nimport Routes from \"./Routes\";\nimport Navigation from \"./Navigation\";\n\nexport default function Multitenancy() {\n\treturn (\n\t\t<>\n\t\t\t<Navigation/>\n\t\t\t<div className=\"bg-dark pt-1\"></div>\n\t\t\t<div className=\"main-area\">\n\t\t\t\t<Container className=\"mt-3 mb-3\">\n\t\t\t\t\t<Routes/>\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t</>\n\t);\n}","import React from 'react'\nimport {Switch, Route} from \"react-router-dom\";\n\nimport {AuthenticatedRoute, UnauthenticatedRoute} from \"./soajs/helpers\";\nimport {\n\tChangeEmail,\n\tChangePassword,\n\tForgotPassword,\n\tLogin,\n\tMyProfile,\n\tResetPassword,\n\tSignUp,\n\tValidateChangeEmail,\n\tValidateSignup,\n\tThirdPartyLogin\n} from \"./soajs/urac/containers\"\n\nimport Home from \"./components/Home/Home\";\nimport NoAccess from \"./components/NoAccess/NoAccess\";\nimport NotFound from \"./components/NotFound/NotFound\";\n\nimport Reports from \"./components/Reports/Reports\";\nimport Catalogs from \"./components/Catalogs/Catalogs\";\nimport Settings from \"./components/Settings/Settings\";\nimport Development from \"./components/Development/Development\";\nimport Environments from \"./components/Environments/Environments\";\nimport Multitenancy from \"./components/Multitenancy/Multitenancy\";\n\nexport default function Routes() {\n\treturn (\n\t\t<Switch>\n\t\t\t<UnauthenticatedRoute exact path='/'>\n\t\t\t\t<Login/>\n\t\t\t</UnauthenticatedRoute>\n\t\t\t<UnauthenticatedRoute path=\"/sign-in\">\n\t\t\t\t<Login/>\n\t\t\t</UnauthenticatedRoute>\n\t\t\t<UnauthenticatedRoute path=\"/sign-up\">\n\t\t\t\t<SignUp/>\n\t\t\t</UnauthenticatedRoute>\n\t\t\t<UnauthenticatedRoute path=\"/validate-signup\">\n\t\t\t\t<ValidateSignup/>\n\t\t\t</UnauthenticatedRoute>\n\t\t\t<UnauthenticatedRoute path=\"/forgot-password\">\n\t\t\t\t<ForgotPassword/>\n\t\t\t</UnauthenticatedRoute>\n\t\t\t<UnauthenticatedRoute path=\"/reset-password\">\n\t\t\t\t<ResetPassword/>\n\t\t\t</UnauthenticatedRoute>\n\t\t\t<UnauthenticatedRoute path=\"/third-party-login/:strategy\">\n\t\t\t\t<ThirdPartyLogin/>\n\t\t\t</UnauthenticatedRoute>\n\t\t\t\n\t\t\t\n\t\t\t<AuthenticatedRoute path=\"/change-password\">\n\t\t\t\t<ChangePassword/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path=\"/change-email\">\n\t\t\t\t<ChangeEmail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path=\"/validate-change-email\">\n\t\t\t\t<ValidateChangeEmail/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path=\"/myProfile\">\n\t\t\t\t<MyProfile/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t\n\t\t\t<AuthenticatedRoute path=\"/home\">\n\t\t\t\t<Home/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path=\"/no-access\">\n\t\t\t\t<NoAccess/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t\n\t\t\t<AuthenticatedRoute path=\"/development\">\n\t\t\t\t<Development/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path=\"/catalogs\">\n\t\t\t\t<Catalogs/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path=\"/environments/manage/:env\">\n\t\t\t\t<Environments/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path=\"/environments\">\n\t\t\t\t<Environments/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path=\"/multitenancy\">\n\t\t\t\t<Multitenancy/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path=\"/reports\">\n\t\t\t\t<Reports/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t<AuthenticatedRoute path=\"/settings\">\n\t\t\t\t<Settings/>\n\t\t\t</AuthenticatedRoute>\n\t\t\t\n\t\t\t<Route>\n\t\t\t\t<NotFound/>\n\t\t\t</Route>\n\t\t</Switch>\n\t);\n}","import axios from \"axios\";\nimport LocalStorageService from \"../urac/services/LocalStorageService.js\";\nimport Config from \"../../config.js\";\n\nconst localStorageService = LocalStorageService.getService();\n\naxios.interceptors.request.use(\n\tconfig => {\n\t\tlet key = Config.tenant;\n\t\tif (window.apiSettings && window.apiSettings.key) {\n\t\t\tkey = window.apiSettings.key;\n\t\t}\n\t\tlet apiEndpoint = Config.apiEndpoint;\n\t\tif (window.apiSettings && window.apiSettings.api) {\n\t\t\tapiEndpoint = window.apiSettings.api;\n\t\t}\n\t\tconst access_token = localStorageService.getAccessToken();\n\t\tlet url = config.url;\n\t\tif (url.indexOf(\"?\") !== -1) {\n\t\t\turl = url.substr(0, url.indexOf(\"?\"));\n\t\t}\n\t\tif (url.indexOf(\"://\") !== -1) {\n\t\t\turl = url.substr(url.indexOf(\"://\") + 3);\n\t\t\turl = url.substr(url.indexOf(\"/\"));\n\t\t} else {\n\t\t\tconfig.url = apiEndpoint + config.url;\n\t\t}\n\t\tif (url !== '' && (Config.noToken.includes(url) || !access_token || config.headers['skip_access_token'])) {\n\t\t\tif (config.headers['skip_access_token']) {\n\t\t\t\tdelete config.headers['skip_access_token'];\n\t\t\t}\n\t\t\tif (!config.headers['key']) {\n\t\t\t\tconfig.headers['key'] = key;\n\t\t\t}\n\t\t} else {\n\t\t\tif (access_token) {\n\t\t\t\tconfig.headers['access_token'] = access_token;\n\t\t\t}\n\t\t\tif (!config.headers['key']) {\n\t\t\t\tconfig.headers['key'] = key;\n\t\t\t}\n\t\t}\n\t\treturn config;\n\t},\n\terror => {\n\t\tPromise.reject(error)\n\t}\n);\n\naxios.interceptors.response.use(\n\tresponse => {\n\t\treturn response\n\t},\n\terror => {\n\t\tif (error && error.response && error.config) {\n\t\t\tlet apiEndpoint = Config.apiEndpoint;\n\t\t\tif (window.apiSettings && window.apiSettings.api) {\n\t\t\t\tapiEndpoint = window.apiSettings.api;\n\t\t\t}\n\t\t\tconst originalRequest = error.config;\n\t\t\tif (error.response.status === 401 &&\n\t\t\t\t!originalRequest._retry &&\n\t\t\t\terror.response.data &&\n\t\t\t\terror.response.data.errors &&\n\t\t\t\terror.response.data.errors.codes &&\n\t\t\t\terror.response.data.errors.codes[0] === 401 &&\n\t\t\t\tConfig.badTokenMessages.includes(error.response.data.errors.details[0].message)) {\n\t\t\t\toriginalRequest._retry = true;\n\t\t\t\tconst refreshToken = localStorageService.getRefreshToken();\n\t\t\t\treturn axios.post(apiEndpoint + \"/oauth/token\",\n\t\t\t\t\t{\n\t\t\t\t\t\t\"refresh_token\": refreshToken,\n\t\t\t\t\t\t\"grant_type\": \"refresh_token\"\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tif (res && res.data && res.data.access_token) {\n\t\t\t\t\t\t\tlocalStorageService.setToken(res.data);\n\t\t\t\t\t\t\t// axios.defaults.headers.common['access_token'] = localStorageService.getAccessToken();\n\t\t\t\t\t\t\treturn axios(originalRequest);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\treturn Promise.reject(error);\n\t}\n);","import md5 from 'md5';\n\nconst getGravatarUrl = (email: string): string => {\n\tconst emailHash = md5(email);\n\treturn `https://www.gravatar.com/avatar/${emailHash}?d=wavatar&s=20`;\n};\n\nexport default getGravatarUrl;","import React from \"react\";\nimport {Nav, Navbar, NavDropdown} from \"react-bootstrap\";\nimport {LinkContainer} from \"react-router-bootstrap\";\n\nimport {BiUserCircle} from \"react-icons/bi\";\n\nimport {useTranslation} from \"react-i18next\";\nimport getGravatarUrl from \"./lib/getGravatarUrl\";\nimport logo from \"./favicon.png\";\nimport {LocalStorageService} from \"./soajs/urac/services\";\n\n// const userIcon = (<BiUserCircle/>);\n\nconst getIcon = (url, alt) => {\n\tif (url) {\n\t\treturn (<img alt={alt} width=\"20px\" height=\"20px\" className=\"avatar\" src={url}/>);\n\t}\n\treturn (<BiUserCircle/>);\n}\n\nconst localStorageService = LocalStorageService.getService();\n\n// function Language() {\n// \tconst {i18n} = useTranslation(\"common\");\n// \treturn (\n// \t\t<NavDropdown alignRight title={i18n.language} id=\"collasible-nav-dropdown\" className=\"text-dark\">\n// \t\t\t<NavDropdown.Item onClick={() => i18n.changeLanguage('EN')}>EN</NavDropdown.Item>\n// \t\t\t<NavDropdown.Item onClick={() => i18n.changeLanguage('FR')}>FR</NavDropdown.Item>\n// \t\t</NavDropdown>\n// \t)\n// }\n\nfunction Navigation({isAuthenticated, firstName, handleLogout}) {\n\tconst {t} = useTranslation([\"common\", \"soajs\"]);\n\tconst email = localStorageService.getEmail();\n\tlet gravatar_url = null;\n\tif (email) {\n\t\tgravatar_url = getGravatarUrl(email);\n\t}\n\treturn (\n\t\t<Navbar collapseOnSelect expand=\"md\" className=\"pt-0 pb-0\" bg=\"dark\" variant=\"dark\">\n\t\t\t<LinkContainer to=\"/home\">\n\t\t\t\t<Navbar.Brand className=\"font-weight-bold text-muted\">\n\t\t\t\t\t<img src={logo} alt=\"soajs\" width=\"35px\" height=\"35px\"/> SOAJS\n\t\t\t\t</Navbar.Brand>\n\t\t\t</LinkContainer>\n\t\t\t<Navbar.Toggle aria-controls=\"main-navbar-nav\"/>\n\t\t\t<Navbar.Collapse id=\"main-navbar-nav\" className=\"justify-content-end\">\n\t\t\t\t<Nav activeKey={window.location.pathname}>\n\t\t\t\t\t{isAuthenticated ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{/*<LinkContainer to=\"/development\">*/}\n\t\t\t\t\t\t\t{/*\t<Nav.Link>{t(\"soajs:menu.development\")}</Nav.Link>*/}\n\t\t\t\t\t\t\t{/*</LinkContainer>*/}\n\t\t\t\t\t\t\t<LinkContainer to=\"/catalogs\">\n\t\t\t\t\t\t\t\t<Nav.Link>{t(\"soajs:menu.catalogs\")}</Nav.Link>\n\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t<LinkContainer to=\"/environments\">\n\t\t\t\t\t\t\t\t<Nav.Link>{t(\"soajs:menu.environments\")}</Nav.Link>\n\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t<LinkContainer to=\"/multitenancy\">\n\t\t\t\t\t\t\t\t<Nav.Link>{t(\"soajs:menu.multitenancy\")}</Nav.Link>\n\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t<LinkContainer to=\"/reports\">\n\t\t\t\t\t\t\t\t<Nav.Link>{t(\"soajs:menu.reports\")}</Nav.Link>\n\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t<LinkContainer to=\"/settings\">\n\t\t\t\t\t\t\t\t<Nav.Link>{t(\"soajs:menu.Manage\")}</Nav.Link>\n\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t<NavDropdown alignRight title={getIcon(gravatar_url)} id=\"collasible-nav2-dropdown\">\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName=\"ml-4 font-weight-bold\">{getIcon(gravatar_url, firstName)} {firstName}</span>\n\t\t\t\t\t\t\t\t<NavDropdown.Divider/>\n\t\t\t\t\t\t\t\t<LinkContainer to=\"/myProfile\">\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item>{t(\"menu.profile\")}</NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer to=\"/change-password\">\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item>{t(\"menu.changePassword\")}</NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<LinkContainer to=\"/change-email\">\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item>{t(\"menu.changeEmail\")}</NavDropdown.Item>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t<NavDropdown.Divider/>\n\t\t\t\t\t\t\t\t<NavDropdown.Item onClick={handleLogout}>{t(\"menu.logout\")}</NavDropdown.Item>\n\t\t\t\t\t\t\t</NavDropdown>\n\t\t\t\t\t\t\t{/*<Language/>*/}\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<LinkContainer to=\"/sign-in\">\n\t\t\t\t\t\t\t\t<Nav.Link>{t(\"menu.login\")}</Nav.Link>\n\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t{/*<Language/>*/}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</Nav>\n\t\t\t</Navbar.Collapse>\n\t\t</Navbar>\n\t);\n}\n\nexport default Navigation","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAACnCAYAAACB6MdcAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3QTJGMzRGOTAxMjUxMUU1OTlDNjk3RTlDRjc0MUExMiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3QTJGMzRGQTAxMjUxMUU1OTlDNjk3RTlDRjc0MUExMiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjdBMkYzNEY3MDEyNTExRTU5OUM2OTdFOUNGNzQxQTEyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjdBMkYzNEY4MDEyNTExRTU5OUM2OTdFOUNGNzQxQTEyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+zk00bgAAEL1JREFUeNrsnXuM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\"","import React, { Suspense, useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Ability } from '@casl/ability';\n\nimport { AiOutlineCopyrightCircle } from \"react-icons/ai\";\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport Routes from \"./Routes.js\";\nimport './App.css';\n\nimport { NotificationContainer, NotificationManager } from './soajs/urac/components';\nimport { AppContext } from \"./soajs/libs/contextLib\";\n\nimport './soajs/libs/Interceptors.js';\nimport './soajs/urac/components/Notifications/notifications.css';\nimport './soajs/urac/urac.css';\n\nimport { LocalStorageService, OauthService, UracService, AbilitiesService } from \"./soajs/urac/services\";\n\nimport Navigation from \"./Navigation.js\"\n\nconst localStorageService = LocalStorageService.getService();\nconst oauthService = OauthService.getService();\nconst uracService = UracService.getService();\nconst abilitiesService = AbilitiesService.getService();\nconst ability = new Ability();\n\nconst Loader = () => (\n\t<div className=\"App\">\n\t\t<div>loading...</div>\n\t</div>\n);\n\nfunction App() {\n\tconst history = useHistory();\n\n\tconst [isAuthenticating, setIsAuthenticating] = useState(true);\n\tconst [isAuthenticated, userHasAuthenticated] = useState(false);\n\tconst [firstName, setFirstName] = useState();\n\n\tuseEffect(() => {\n\t\tasync function onLoad() {\n\t\t\tconst access_token = localStorageService.getAccessToken();\n\t\t\tif (access_token) {\n\t\t\t\ttry {\n\t\t\t\t\tawait uracService.getUser();\n\t\t\t\t\tawait abilitiesService.createUserAbilities(ability);\n\t\t\t\t\tsetFirstName(localStorageService.getFirstname());\n\t\t\t\t\tsetIsAuthenticating(false);\n\t\t\t\t\tuserHasAuthenticated(true);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tsetIsAuthenticating(false);\n\t\t\t\t\tNotificationManager.info(e.message);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetIsAuthenticating(false);\n\t\t\t}\n\t\t}\n\n\t\tonLoad();\n\t}, []);\n\n\tasync function handleLogout() {\n\t\tuserHasAuthenticated(false);\n\t\ttry {\n\t\t\tawait oauthService.logout();\n\t\t} catch (e) {\n\t\t\tNotificationManager.error(e.message);\n\t\t}\n\t\tlocalStorageService.clearToken();\n\t\tlocalStorageService.clearUser();\n\t\thistory.push(\"/sign-in\");\n\t}\n\n\treturn (\n\t\t!isAuthenticating && (\n\t\t\t<Suspense fallback={<Loader />}>\n\t\t\t\t<div className=\"pt-1\" style={{ \"backgroundColor\": \"#DE962E\" }}></div>\n\t\t\t\t<div className=\"App\">\n\t\t\t\t\t<Navigation\n\t\t\t\t\t\tisAuthenticated={isAuthenticated}\n\t\t\t\t\t\tfirstName={firstName}\n\t\t\t\t\t\thandleLogout={handleLogout}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"bg-secondary pt-1\"></div>\n\t\t\t\t\t<AppContext.Provider value={{ isAuthenticated, userHasAuthenticated, setFirstName, ability }}>\n\t\t\t\t\t\t<NotificationContainer />\n\t\t\t\t\t\t<Routes />\n\t\t\t\t\t</AppContext.Provider>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"bg-secondary p-1\">\n\n\t\t\t\t</div>\n\t\t\t\t<div className=\"bg-dark p-2 text-white text-center\">\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<a className=\"text-white\" href=\"https://www.soajs.org/\">\n\t\t\t\t\t\t\t<AiOutlineCopyrightCircle /> copyright SOAJS</a> an <a className=\"text-white\" href=\"https://lfaidata.foundation/projects/\">LFAI project</a>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t</Suspense>\n\t\t)\n\t)\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from \"react-router-dom\";\n\nimport './i18n.js';\n\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n\t\t<BrowserRouter>\n\t\t\t<App/>\n\t\t</BrowserRouter>,\n\tdocument.getElementById('root')\n);\nreportWebVitals();\n"],"sourceRoot":""}